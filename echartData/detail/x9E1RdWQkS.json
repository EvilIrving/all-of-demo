{"status":0,"data":{"cid":"x9E1RdWQkS","authorUid":"obd-oConuZ35T3Ok8yH6dJOOyiFzThQSu3E","authorUserName":"s***7","title":"全国人口普查数据分析（单位：万人）","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-12-24T13:57:11.000Z","lastUpdateTime":"2020-12-24T13:57:11.000Z","auth":2,"uid":"obd-oConuZ35T3Ok8yH6dJOOyiFzThQSu3E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T06:12:51.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1609135835510-Lyo_tvYNB.json\";\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('china', geoJson);\n    myChart.hideLoading();\n    var geoCoordMap = {\n        '甘肃省': [103.855472,36.144781],\n        '新疆维吾尔自治区': [81.484359,41.522164],\n        \"青海省\": [95.024769,36.055196],\n        '西藏自治区': [87.040342,31.35228],\n        \"四川省\": [102.825223,30.718583],\n        \"重庆市\": [107.019807,29.728002],\n        \"云南省\": [99.992039,24.764258],\n        \"贵州省\": [105.84238,26.96133],\n        \"山西省\": [111.950282,37.870982],\n        \"陕西省\": [108.234028,34.012487],\n        \"河南省\": [113.53245,33.674746],\n        \"湖南省\": [111.324774,27.831665],\n        \"湖北省\": [111.987077,31.051805],\n        \"广西壮族自治区\": [107.240574,23.870695],\n        '内蒙古自治区': [110.257731,41.452994],\n        '黑龙江省': [127.07286,47.92609],\n        \"吉林省\": [125.343514,43.709587],\n        '辽宁省': [121.406493,41.563631],\n        \"河北省\": [114.378725,38.452026],\n        \"北京市\": [116.31964,40.167],\n        \"天津市\": [117.257902,39.085768],\n        \"山东省\": [117.920205,36.368295],\n        \"江苏省\": [119.097632,33.505371],\n        \"安徽省\": [116.853162,31.856156],\n        \"浙江省\": [119.759935,29.115927],\n        \"上海市\": [121.415691,31.115143],\n        \"江西省\": [115.160611,27.175448],\n        \"福建省\": [117.515464,26.183787],\n        '广东省': [113.284086,23.12409],\n        '海南省': [109.715011,19.190074],\n        \"台湾省\": [120.808581,23.718329],\n        '宁夏回族自治区': [106.164332,37.461479]\n    }\n    var data = [\n        {name: '甘肃省', value: 2557.52},\n        {name: '新疆维吾尔自治区', value: 2181.58},\n        {name: '青海省', value: 562.67},\n        {name: '西藏自治区', value: 300.21},\n        {name: '四川省', value: 8041.75},\n        {name: '重庆市', value: 2884.61},\n        {name: '云南省', value: 4596.68},\n        {name: '贵州省', value: 3474.86},\n        {name: '山西省', value: 3571.21},\n        {name: '陕西省', value: 3732.73},\n        {name: '河南省', value: 9403.00},\n        {name: '湖南省', value: 6570.08},\n        {name: '湖北省', value: 5723.77},\n        {name: '广西壮族自治区', value: 4602.38},\n        {name: '内蒙古自治区', value: 2470.63},\n        {name: '黑龙江省', value: 3831.40},\n        {name: '吉林省', value: 2745.28},\n        {name: '辽宁省', value: 4374.63},\n        {name: '河北省', value: 7185.42},\n        {name: '北京市', value: 1961.23},\n        {name: '天津市', value: 1293.86},\n        {name: '山东省', value: 9579.27},\n        {name: '江苏省', value: 7866.10},\n        {name: '安徽省', value: 5950.05},\n        {name: '浙江省', value: 5442.69},\n        {name: '上海市', value: 2301.92},\n        {name: '江西省', value: 4456.78},\n        {name: '福建省', value: 3689.42},\n        {name: '广东省', value: 10432.05},\n        {name: '海南省', value: 867.15},\n        {name: '宁夏回族自治区', value: 630.13}\n    ];\n\n  var convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\n\n\n    option = {\n        toolbox:{\n            show: true,\n            feature:{\n                saveAsImage:{\n                show:true,\n                excludeComponents:['toolboxl'],\n                pixelRatio:2\n                }\n            }\n        },\n        backgroundColor: '#020933',\n        title: {\n            text: '全国人口普查数据分析（单位：万人）',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#ccc'\n            }\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n              if(typeof(params.value)[2] == \"undefined\"){\n              \treturn params.name + ' : ' + params.value;\n              }else{\n              \treturn params.name + ' : ' + params.value[2];\n              }\n            }\n        },\n        legend: {\n            orient: 'vertical',\n            y: 'bottom',\n            x: 'right',\n            data: ['pm2.5'],\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        visualMap: {\n            show: false,\n            min: 500,\n            max: 10000,\n            left: 'left',\n            top: 'bottom',\n            text: ['高', '低'],\n            calculable: true,\n            seriesIndex: [1],\n            inRange: {\n                color: ['#3B5077', '#031525'] \n            }\n        },\n        geo: {\n            show: true,\n            map: 'china',\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: 'thansparent',\n                    borderColor: '#3fdaff',\n                    borderWidth: 2,\n                    shadowColor: 'rgba(173, 200, 185, 0.5)',\n                    shadowBlur: 30\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                }\n            }\n        },\n        series : [\n      {\n            name: 'light',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function (val) {\n                return val[2] / 230;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F4E925'\n                }\n            }\n        },\n         {\n            type: 'map',\n            map: 'china',\n            geoIndex: 0,\n            aspectScale: 0.80, \n            showLegendSymbol: false,\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#FFFFFF',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7'\n                }\n            },\n            animation: false,\n            data: data\n        },\n        {\n            name: 'Top 5',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data.sort(function (a, b) {\n                return b.value - a.value;\n            }).slice(0, 6)),\n            symbolSize: function (val) {\n                return val[2] / 230;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F4E925',\n                    shadowBlur: 10,\n                    shadowColor: '#05C3F9'\n                }\n            },\n            zlevel: 1\n        },\n         \n    ]\n    };\n    myChart.setOption(option);\n});\n\n","html":"","externalScripts":"","updaterUID":"obd-oConuZ35T3Ok8yH6dJOOyiFzThQSu3E","theme":"","layout":"","viewCount":337,"userName":"s***7","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9E1RdWQkS.png?v=1609135971913","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"s***7"}}