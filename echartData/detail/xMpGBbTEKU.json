{"status":0,"data":{"cid":"xMpGBbTEKU","authorUid":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","authorUserName":"衰***命","title":"气泡地图","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-07-30T08:48:31.000Z","lastUpdateTime":"2020-07-30T08:48:31.000Z","auth":2,"uid":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-25T05:55:58.000Z","code":"var outname = [\"南海诸岛\", '北京', '天津', '上海', '重庆', '河北', '河南', '云南', '辽宁', '黑龙江', '湖南', '安徽', '山东', '新疆', '江苏', '浙江', '江西', '湖北', '广西', '甘肃', '山西', '内蒙古', '陕西', '吉林', '福建', '贵州', '广东', '青海', '西藏', '四川', '宁夏', '海南', '台湾', '香港', '澳门'];\r\nvar outvalue = [0, 524, 13, 140, 75, 13, 83, 11, 19, 15, 69, 260, 39, 4, 31, 104, 36, 1052, 33, 347, 9, 157, 22, 4, 18, 5, 2398, 41, 0, 484, 404, 22, 3, 5, 225];\r\nvar outdata = [];\r\n\r\nvar max = 6000,\r\n    min = 10;\r\nvar maxSize4Pin = 100,\r\n    minSize4Pin = 20;\r\n\r\nfor (var i = 0; i < outname.length; i++) {\r\n    outdata.push({\r\n        name: outname[i],\r\n        value: outvalue[i]\r\n    })\r\n}\r\n\r\nvar geoCoordMap = {};\r\n/*获取地图数据*/\r\nvar mapFeatures = echarts.getMap('china').geoJson.features;\r\n//  console.log(mapFeatures)\r\nmapFeatures.forEach(function(v) {\r\n    console.info(v)\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\nvar convertData = function(outdata) {\r\n    var res = [];\r\n    for (var i = 0; i < outdata.length; i++) {\r\n        var geoCoord = geoCoordMap[outdata[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: outdata[i].name,\r\n                value: geoCoord.concat(outdata[i].value),\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\noption = {\r\n    backgroundColor: '#0F1C3C',\r\n    tooltip: {\r\n        show: true,\r\n        formatter: function(params) {\r\n            if (params.value.length > 1) {\r\n                return '&nbsp;&nbsp;' + params.name + '&nbsp;&nbsp;&nbsp;' + params.value[2] + '人&nbsp;&nbsp;';\r\n            } else {\r\n                return '&nbsp;&nbsp;' + params.name + '&nbsp;&nbsp;&nbsp;' + params.value + '人&nbsp;&nbsp;';\r\n            }\r\n        },\r\n\r\n    },\r\n\r\n    geo: {\r\n        map: 'china',\r\n        show: true,\r\n        roam: false,\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        layoutSize: \"100%\",\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: '#00F6FF'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#53D9FF'\r\n                }], false),\r\n                borderWidth: 3,\r\n                shadowColor: 'rgba(10,76,139,1)',\r\n                shadowOffsetY: 0,\r\n                shadowBlur: 60\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        type: 'map',\r\n        map: 'china',\r\n        aspectScale: 0.75,\r\n        //zoom:1.1,\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: {\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 0,\r\n                    y2: 1,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#073684' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#061E3D' // 100% 处的颜色\r\n                    }],\r\n                },\r\n                borderColor: '#215495',\r\n                borderWidth: 1,\r\n            },\r\n            emphasis: {\r\n                areaColor: {\r\n\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 0,\r\n                    y2: 1,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#073684' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#061E3D' // 100% 处的颜色\r\n                    }],\r\n                },\r\n            }\r\n        },\r\n        data: outdata,\r\n    }, {\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        rippleEffect: {\r\n            brushType: 'stroke'\r\n        },\r\n        showEffectOn: 'render',\r\n        itemStyle: {\r\n            normal: {\r\n                color: {\r\n                    type: 'radial',\r\n                    x: 0.5,\r\n                    y: 0.5,\r\n                    r: 0.5,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: 'rgba(5,80,151,0.2)'\r\n                    }, {\r\n                        offset: 0.8,\r\n                        color: 'rgba(5,80,151,0.8)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(0,108,255,0.7)'\r\n                    }],\r\n                    global: false // 缺省为 false\r\n                },\r\n            }\r\n\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                color: '#fff',\r\n                fontWeight: 'bold',\r\n                position: 'inside',\r\n                formatter: function(para) {\r\n                    return '{cnNum|' + para.data.value[2] + '}'\r\n                },\r\n                rich: {\r\n                    cnNum: {\r\n                        fontSize: 13,\r\n                        color: '#D4EEFF',\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        symbol: 'circle',\r\n        symbolSize: function(val) {\r\n            if (val[2] === 0) {\r\n                return 0;\r\n            }\r\n            var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n            var b = maxSize4Pin - a * max;\r\n            return a * val[2] + b * 1.2;\r\n        },\r\n        data: convertData(outdata),\r\n        zlevel: 1,\r\n    }]\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","theme":"","layout":"","viewCount":24943,"userName":"衰***命","commentCount":2,"starCount":91,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xMpGBbTEKU.png?v=1598334958556","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","tooltip"],"customTags":[],"updaterUserName":"衰***命"}}