{"status":0,"data":{"cid":"xCQqtvvC9O","authorUid":"obd-oAc1WUhAEpTu8uHXwI1Q5tGqTUfkv7s","authorUserName":"天***盟","title":"环形流程图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-07T05:43:20.000Z","lastUpdateTime":"2021-01-07T05:43:20.000Z","auth":2,"uid":"obd-oAc1WUhAEpTu8uHXwI1Q5tGqTUfkv7s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-07T05:43:20.000Z","code":"const myData = [\n    {\n      \"children\": [\n        {\n          \"children\": [\n            {\n              \"name\": \"导出资金\",\n              \"value\": 1,\n              \"status\": 9\n            }\n          ],\n          \"name\": \"导出估值\",\n          \"status\": 9\n        }\n      ],\n      \"level\": 3,\n      \"name\": \"导出代码\",\n      \"status\": 9\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    },\n    {\n      \"level\": 1,\n      \"name\": \"自动清算\",\n      \"value\": 1,\n      \"status\": 9\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    },\n    {\n      \"level\": 1,\n      \"name\": \"主清算\",\n      \"value\": 1,\n      \"status\": 1\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    },\n    {\n      \"children\": [\n        {\n          \"name\": \"委托倒入\",\n          \"value\": 1,\n          \"status\": 1\n        }\n      ],\n      \"level\": 2,\n      \"name\": \"净值导入\",\n      \"status\": 0\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    },\n    {\n      \"level\": 1,\n      \"name\": \"提前批清算\",\n      \"value\": 1,\n      \"status\": 0\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    },\n    {\n      \"level\": 1,\n      \"name\": \"系统开工\",\n      \"value\": 1,\n      \"status\": 0\n    },\n    {\n      \"itemStyle\": {\n        \"color\": \"transparent\"\n      },\n      \"value\": 0.1\n    }\n]\n\nconst series = []\n\nfunction addStyle(data) {\n    data.forEach(item => {\n        switch (item.status) {\n            case 0:\n                item.itemStyle = {\n                    color: 'transparent',\n                    borderWidth: 1,\n                    borderColor: '#0674BC'\n                }\n                item.label = {\n                    color: '#82F0FF'\n                }\n                break;\n            case 1:\n                item.itemStyle = {\n                    color: '#1896FE',\n                    borderWidth: 1,\n                    borderColor: '#0674BC'\n                }\n                item.label = {\n                    color: '#82F0FF'\n                }\n                break;\n            case 9:\n                item.itemStyle = {\n                    color: '#81F0FF',\n                    borderWidth: 1,\n                    borderColor: '#0674BC'\n                }\n                item.label = {\n                    color: '#1798FE'\n                }\n                break;\n            default:\n                item.itemStyle = {\n                    color: 'transparent',\n                    borderWidth: 0\n                }\n        }\n        if (item.children) addStyle(item.children)\n    })\n        \n}\n\naddStyle(myData)\nfor(let i = 1;i < 4;i++) {\n    const itemData = myData.map(item => {\n        if (!item.level || item.level === i) {\n            return item\n        } else {\n            return {\n                value: 1,\n                itemStyle: {\n                    color: 'transparent',\n                    borderWidth: 0\n                }\n            }\n        }\n    })\n    const sunburstItem = {\n        type: 'sunburst',\n        radius: ['60%', '100%'],\n        label: {\n            rotate: 'tangential',\n            color: '#82F0FF',\n            fontSize: 14\n        },\n        sort: null,\n        silent: true,\n        data: itemData\n    }\n    series.push(sunburstItem)\n}\noption = {\n    title: {\n        text: '环形流程图'\n    },\n    series: series\n};","html":"","externalScripts":"","updaterUID":"obd-oAc1WUhAEpTu8uHXwI1Q5tGqTUfkv7s","theme":"","layout":"","viewCount":67,"userName":"天***盟","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCQqtvvC9O.png?v=1609998200600","isCustomThumbnail":0,"builtinTags":["category-work","series-sunburst","title"],"customTags":["pie"],"updaterUserName":"天***盟"}}