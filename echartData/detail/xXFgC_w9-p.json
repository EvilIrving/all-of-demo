{"status":0,"data":{"cid":"xXFgC_w9-p","authorUid":"bd-439334344","authorUserName":"坏***4","title":"柱状图顶部有小长方形","description":"个性化柱状图","latestVersion":5,"alwaysLatest":1,"createTime":"2020-11-06T03:05:14.000Z","lastUpdateTime":"2020-11-06T03:05:14.000Z","auth":2,"uid":"bd-439334344","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-13T06:37:19.000Z","code":"option = {\n    数据节点1: 30,\n    数据节点2: 80,\n    数据节点3: 50,\n    backgroundColor: \"#0a1216\",\n    color: ['rgba(218, 52, 110,', 'rgba(255, 234, 56,', 'rgba(63, 212, 255,'],\n    dataset: {\n        \"source\": [\n            [\"product\", \"data1\"],\n            [\"休闲\", \"57\"],\n            [\"运动\", \"23\"],\n            [\"商务\", \"68\"],\n            [\"户外\", \"50\"],\n            [\"童装\", \"42\"],\n        ]\n    },\n     tooltip: {\n         show:false,\n    trigger: \"axis\",\n    axisPointer: {\n      type: 'line', //默认为line，line直线，cross十字准星，shadow阴影\n\t\tcrossStyle: {\n            color: '#fff'\n\t\t}\n    },\n    borderWidth: 1,\n    borderColor: \"rgba(63, 212, 255, 1)\",\n    backgroundColor:\"#16244b\",\n    formatter: function formatter(params) {\n        var colorList1 = \"#fff\";\n        let num1 = option.数据节点1\n        let num2 = option.数据节点2\n        if(params[0].data[3] < num1){\n            colorList1= \"#da346e\"\n        }\n        if(params[0].data[3] >= num1 && params[0].data[3] <= num2){\n            colorList1= \"#ffea38\"\n        }\n        if(params[0].data[3] > num2){\n            colorList1= \"#3fd4ff\"\n        }\n        let html=params[0].name + \"<br/>\";\n         html+=\"<span>目标：\"+params[0].value[1].toLocaleString()+ \"%</span><br/><span style=color:#3fd4ff>实际：\" +params[0].value[2].toLocaleString()+ \"%</span><br/><span style=color:\"+colorList1+\">完成率：\"+params[0].value[3].toLocaleString()+ \"%</span>\";\n        return html;\n        },\n        textStyle: {\n            rich: {\n                word1: {\n                    color: \"#fff\",\n                    fontSize: 16,\n                    padding: [0, 50]\n                },\n                word2: {\n                    color: function(params) {\n                       let color= option.color[0] + \"1)\"\n                        \n                    },\n                    fontSize: 30,\n                    fontFamily: \"DIN\"\n                },\n                word3: {\n                    color: function(params) {\n                       let color= option.color[1] + \"1)\"\n                        \n                    },\n                    fontSize: 30,\n                    fontFamily: \"DIN\"\n                },\n                word4: {\n                    color: function(params) {\n                       let color= option.color[2] + \"1)\"\n                        \n                    },\n                    fontSize: 30,\n                    fontFamily: \"DIN\"\n                }\n            }\n        },\n    extraCssText: \"z-index:96\"\n  },\n    xAxis: {\n        type: \"category\",\n        position: \"top\",\n        show:false,\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            color: \"#fff\",\n            interval: \"0\",\n            formatter: function(params) {\n                return \"{kuang|\" + params + \"}\"\n            },\n            rich: {\n                \"kuang\": {\n                    color: \"#fff\",\n                    align: \"center\",\n                    verticalAlign: \"middle\",\n                    width: \"15\",\n                    height: \"30\",\n                    backgroundColor: {\n                        image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAAAqCAYAAAB1EC0sAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFFRUNDOThCRjYyNjExRUFBOUM4RkMzMDc1NjMyNUY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFFRUNDOThDRjYyNjExRUFBOUM4RkMzMDc1NjMyNUY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUVFQ0M5ODlGNjI2MTFFQUE5QzhGQzMwNzU2MzI1RjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUVFQ0M5OEFGNjI2MTFFQUE5QzhGQzMwNzU2MzI1RjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6TgdboAAAGDklEQVR42uyd227bRhCGZ0jqZFlW5Di20zRB2ty1QJu79lUK9PH6Dn2KAkUug6BBYqTxIbEVW5ZkkcvpjuKktiJySYmKTv8PCLC84p44387MkqJYrAiCoJWXhymAoPUQbxxLc61nQOMaRp8wpnX17OsU2DP6hDGtM+w4MRCEnB2CViKlWEMFKUNnx9RwQhk7ppMnqHPSz82qnnHHJc0X38hYpRBD5SnH8LGOm8eN1lFEX3kCtHhCJPP1n6eyjSxtZWGHctj6tEvUsI/BFOufFHxcngEVtTZLgce55mMWoE9WL39xnMxgfmWO52OW/ZcpbGGS/hU2FoTxyyQu2AQg5OzI3ZYMfOSjUMacnRJytyw5i+vvcfkqJwSlSfVQSo40Wpc4fOHt95yac8mY9tkRXGfJ15PqlIzjkZQ+aiYuCeOWlPhg0qXDZS9F7AtkyVl5gvl0nYe04znBBiTl3KfFZZzDdr7kKn0f5/PfelNNA2seBCGMhyCkbisyLsAOrRdsq3rDWIZxBVmmv0Wnw6qacs57cuhtUJdr1Bv+r0c16dKGXHJdOtSQD7wlZ7QtzhPOC2qIuHsQsC2wlEXlcJMuLHGXrCx+KlMOj3g/Vgb1/S0O5f8NOmfl38k//j4d+i0681tyGgRk2LevKyrHFnJzRnfMAT2KTuhebE9onAo8wxAhaBLQH8gb75G89nfoxHLY9qvU9wIKOaKSXLDlUFrmUPbNS/7eqD1/5pAzwK5S0B/S6+ChHJT36Ki6KZ1KQJGvZREFpse18Fj2emUe6F5wqB7+jLcXLTuC34aW2o7U6SroD+iNsli5S++qNemVtCwmTyPswRHt9Us8GGgv/+anUa4w3q4efI9O+Bt5q41UrFffsKFDvURRWcsNeVFPal0Lv61H4iuumlPaNrmys683fbgKDS2tHTWpTffpX+vZX5X25bBq39fLNKh4FHsx+aYn1V7AkRgJTJ9rxrJLN52u07M36Jzty7MhRKkhF9Uf4r/+8Mj8NPq5F96Pv9iVJbSLQVSnTpQLXvhbCHI6vrp0eFMuPctj6bE8f7IvB3/eLLfAP3vm/fpbi0/DBu1Eyu7N8ky78SWbE9gVxLOQe+NAV/kkvvXuHriFr4OmUApAdepyMGQxVM780XJlUxlVVpXZ0XJnGO8Pw3OKY2HDFBtdPcYBr2X2gyaggZQ+HiMLa5RYkb6qkULFaEDl2EKsD40csjharmwOGbWsKpD+CIfOMP6CtuSctmIb+4eb0uk/937+vUbdDZ9M+bqBqE+VbptanXNqhqd811zYYANGuZqhJDQ/KVdtumOa0g5f8ZMXbd55qjk7k9ic3TNXVO1bXvvKqjKr7I569lTp1v0ZteJ3vBNVqd9XQ9ikcmhXmOGxkW4M0MbgmHd7x7QbHtK+GW0EWjKgAfpiwm65OqFdU6dOGLDpiXhimbyyTpyt040vqT444d2+sqrMjl7+dobxNmSnl/wkKokNH5jjKyrrBlxveJ1dIr7iiv1fJX5H96JX/Dh6T3fjD9KMr7+QMX/vAi8FoFdEH6gZH9C3UcADGUjZdLkafrzfJbJxeyB9qsbHvBe9pfvGMmssu7fCeP0iTM3VyK4cDU1jm874gRx4dbrk2vWdOz29e47qckENOec7ckotsQ1KobABfAj6zKJyuCVtbuhddJbFT2XK4Rt+GCuD+v4Wh9ewVzGFELT6whdhoOXZY4AAO4Q9Biw6bgWENXOe5isr1M56nK8l3vOBZ199HyGYScwjYIcQ4q9xzj7umdijzz1PuhXWdey4l6u+pGd0y5jPScZVWFLG5hrzJM/7TuqXpMxT2jiSxuuab0ooI0c9nx5pKBnGlDYecZyHvP2cpn6XzaSV57ENyWC3rs9Rhn5Ilj7qpbcy1jwo1xIGT4owHkLIDC3uLgBgh6A1WThx6Q2CEMYvbjgCYe6hecHOMG7k0NAqwy5zQZUzXepIaz/PT03LzMczvp68P2stM+qf63KSTNimzKDMdZ6zXo7Nez5myUShrm3anH0+wE8HKAH4Qud4dsBP/3v0AL7wMB6CkKIslgSwQ9DaLpT/CTAAzNY02eXHfdUAAAAASUVORK5CYII=\"\n                    }\n                }\n            },\n        }\n    },\n    yAxis: {\n        type: \"value\",\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    },\n    series: [\n        {\n            type: \"bar\",\n            barWidth: \"5%\",\n             barGap: '-100%',\n            showBackground: true,\n            backgroundStyle: {\n                color: \"rgba(14, 248, 254,.01)\",\n                borderColor: \"rgba(14, 248, 254,.05)\",\n                borderWidth: 30,\n            },\n            itemStyle: {\n                color: function(params) {\n                    console.log(params)\n                    var colorList = []\n                    let num1 = option.数据节点1\n                    let num2 = option.数据节点2\n                    let avg=option.数据节点3;\n                    if(params.data[1]<avg){\n                        colorList[params.dataIndex] = option.color[0] + \"1)\"\n                    }else{\n                        \n                    colorList[params.dataIndex] = option.color[1] + \"1)\"\n                    }\n                    return colorList[params.dataIndex];\n                },\n            },\n            label: {\n                show: true,\n                distance: 20,\n                position: \"bottom\",\n                formatter: function(params) {\n                return \"{kuang|\"+params.data[0]+\"}\"\n                },\n                rich: {\n                    \"kuang\": {\n                        width: \"4\",\n                        height: \"30\",\n                        fontSize: 12,\n                       // color: \"#da346e\",\n                        align: \"center\",\n                        verticalAlign: \"middle\",\n                        backgroundColor: {\n                            image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAzCAYAAAA94+4/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVCMDVBOUZCRjYyNjExRUFCMjcyQjQ2MTM2RkE5REU2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVCMDVBOUZDRjYyNjExRUFCMjcyQjQ2MTM2RkE5REU2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUIwNUE5RjlGNjI2MTFFQUIyNzJCNDYxMzZGQTlERTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUIwNUE5RkFGNjI2MTFFQUIyNzJCNDYxMzZGQTlERTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RDwxrAAAAYElEQVR42uzQMQ0AMAgAsLFnyfyrxAQ4IAhoJTR+1jusXQXChAkTJgxhwoQJE4YwYcKECROGMGHChAlDmDBhwoQJQ5gwYcKEIUyYMGHChCFMmDBhwhAmTJgwYcIYtAADAHPPAmCzcz3cAAAAAElFTkSuQmCC\"\n                        }\n                    },\n                },\n            }, \"encode\": {\n            \"y\": \"data1\"\n          }\n        },\n        {\n            type: \"bar\",\n            barWidth: \"5%\",\n            showBackground: true,\n            backgroundStyle: {\n                color: \"rgba(14, 248, 254,.01)\",\n                borderColor: \"rgba(14, 248, 254,.05)\",\n                borderWidth: 30,\n            },\n            itemStyle: {\n                color: function(params) {\n                    //console.log(params)\n                    var colorList = []\n                    let num1 = option.数据节点1\n                    let num2 = option.数据节点2\n                    colorList[params.dataIndex] = option.color[2] + \"1)\"\n                    return colorList[params.dataIndex];\n                },\n            },\n            label: {\n                show: false,\n                distance: 20,\n                position: \"bottom\",\n                formatter: function(params) {\n                    return \"{kuang|\"+params.data[0]+\"}\"\n                },\n                rich: {\n                    \"kuang\": {\n                        width: \"4\",\n                        height: \"30\",\n                        fontSize: 12,\n                        color: \"#fff\",\n                        align: \"center\",\n                        verticalAlign: \"middle\",\n                        backgroundColor: {\n                            image: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAzCAYAAAA94+4/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVCMDVBOUZCRjYyNjExRUFCMjcyQjQ2MTM2RkE5REU2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVCMDVBOUZDRjYyNjExRUFCMjcyQjQ2MTM2RkE5REU2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUIwNUE5RjlGNjI2MTFFQUIyNzJCNDYxMzZGQTlERTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUIwNUE5RkFGNjI2MTFFQUIyNzJCNDYxMzZGQTlERTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RDwxrAAAAYElEQVR42uzQMQ0AMAgAsLFnyfyrxAQ4IAhoJTR+1jusXQXChAkTJgxhwoQJE4YwYcKECROGMGHChAlDmDBhwoQJQ5gwYcKEIUyYMGHChCFMmDBhwhAmTJgwYcIYtAADAHPPAmCzcz3cAAAAAElFTkSuQmCC\"\n                        }\n                    }\n                },\n            },\n          \"encode\": {\n            \"y\": \"data1\"\n          }\n        },\n        {\n            type: \"pictorialBar\",\n            symbol:\"rect\",\n            //symbol: \"path://M341.3,682.7C152.8,682.7,0,529.8,0,341.3C0,152.8,152.8,0,341.3,0c188.5,0,341.3,152.8,341.3,341.3 C682.7,529.8,529.8,682.7,341.3,682.7L341.3,682.7z M341.3,51.2c-160.2,0-290.1,129.9-290.1,290.1c0,160.2,129.9,290.1,290.1,290.1 c160.2,0,290.1-129.9,290.1-290.1C631.5,181.1,501.6,51.2,341.3,51.2L341.3,51.2z M341.3,496.3c-85.6,0-155-69.4-155-155 c0-85.6,69.4-155,155-155c85.6,0,155,69.4,155,155c0,41.1-16.3,80.5-45.4,109.6C421.9,480,382.4,496.3,341.3,496.3L341.3,496.3z M341.3,496.3\",\n            symbolSize: [\"25\", \"8\"],\n            symbolPosition: \"end\",\n            symbolOffset: [0, -8],\n            itemStyle: {\n                color: function(params) {\n                    var colorList = []\n                    let num1 = option.数据节点1\n                    let num2 = option.数据节点2\n                    colorList[params.dataIndex] = \"rgba(255,255,255,1)\";\n                    return colorList[params.dataIndex];\n                },\n                shadowColor: '#fff',\n                    shadowBlur: 5,\n            },\n            label: {\n                show: true,\n                position: \"top\",\n                formatter: function(params) {\n                    return params.data[1] + \"%\"\n                },\n                  color: \"#3fd4ff\",\n                fontFamily: \"DIN\",\n                fontSize: 15\n            }\n        },\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-439334344","theme":"","layout":"","viewCount":50,"userName":"坏***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXFgC_w9-p.png?v=1605249439549","isCustomThumbnail":0,"builtinTags":["category-work","dataset","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"坏***4"}}