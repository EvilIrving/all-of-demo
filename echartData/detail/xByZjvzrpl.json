{"status":0,"data":{"cid":"xByZjvzrpl","authorUid":"bd-3778831175","authorUserName":"m***i","title":"无锡人口迁入图","description":"无锡人口迁入图,效果来源于Echarts社区","latestVersion":6,"alwaysLatest":1,"createTime":"2017-04-07T13:43:53.000Z","lastUpdateTime":"2017-04-07T13:43:53.000Z","auth":1,"uid":"bd-3778831175","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"3.8.0","versionCreateTime":"2019-03-08T02:58:40.000Z","code":"var geoCoordMap = {\r\n'梅园1号楼':[117.181815,36.684722],\r\n'梅园2号楼':[117.181691,36.684176],\r\n'梅园3号楼':[117.181772,36.68387],\r\n'梅园4号楼':[117.183686,36.615066],\r\n'竹园1号楼':[117.182566,36.684628],\r\n'竹园2号楼':[117.182802,36.684232],\r\n'竹园3号楼':[117.182378,36.68517],\r\n'松园1号楼':[117.184754,36.684718],\r\n'松园2号楼':[117.184706,36.684211],\r\n'松园3号楼':[117.184551,36.683793],\r\n'樱园1楼':[117.185683,36.68434],\r\n'榴园1号楼':[117.181029,36.681565],\r\n'榴园2号楼':[117.181093,36.681131],\r\n'土木楼':[117.185658,36.682284],\r\n'科学西楼':[117.186098,36.681832],\r\n'科学东楼':[117.18649,36.681772],\r\n'逸夫楼':[117.18819,36.681453],\r\n'博文楼':[117.188813,36.680571],\r\n'外文楼':[117.189242,36.679522],\r\n'建艺馆':[117.190277,36.677031],\r\n'信息楼':[117.188373,36.676803],\r\n'科技馆':[117.190513,36.6758],\r\n'艺术2':[117.188925,36.675325],\r\n'综合实验2':[117.188185,36.675915],\r\n'建大超市':[117.183593,36.683581],\r\n'万家隆超市':[117.18193,36.682897],\r\n'樱园学生超市':[117.185422,36.684441],\r\n'建大书店':[117.183888,36.685482],\r\n'商业街':[117.178486,36.682621],\r\n'文苑餐厅':[117.183604,36.683365],\r\n'雅苑餐厅':[117.181743,36.682664],\r\n'火车餐厅':[117.18546,36.683365],\r\n'北门小吃街':[117.181577,36.688536],\r\n'校医院':[117.179763,36.679347],\r\n'学术报告厅':[117.187852,36.67752],\r\n'图书馆':[117.188029,36.678711],\r\n'体育馆':[117.181743,36.686721],\r\n'校车起发站':[117.183787,36.684445],\r\n'映雪长廊':[117.183658,36.682789]\r\n};\r\n\r\n\r\n\r\nvar BJData=[];\r\nfor(var x in geoCoordMap){\r\n    if(x=='信息楼')\r\n        continue;\r\n    BJData.push(\r\n        [{\r\n            name: x,\r\n            value: Math.random()*100\r\n        }, {\r\n            name: '信息楼'\r\n        }]\r\n\r\n    )\r\n}\r\n\r\nvar planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\r\n\r\nvar convertData = function (data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = geoCoordMap[dataItem[0].name];\r\n        var toCoord = geoCoordMap[dataItem[1].name];\r\n        if (fromCoord && toCoord) {\r\n            res.push({\r\n                fromName: dataItem[0].name,\r\n                toName: dataItem[1].name,\r\n                coords: [fromCoord, toCoord]\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\nvar covertColor = function(data){\r\n    var value= data[1].value;\r\n    var result = 'aqua';\r\n    if(value>80){\r\n        result = '#ff3333';\r\n    }else if(value>60){\r\n        result = 'orange';\r\n    }else if(value>40){\r\n        result = 'yellow';\r\n    }else if(value>60){\r\n        result = 'lime';\r\n    }\r\n    return result;\r\n};\r\n\r\nvar color = ['#56e88c', '#ffa022', '#46bee9'];\r\nvar series = [];\r\n[['山东建筑大学', BJData]].forEach(function (item, i) {\r\n    series.push(\r\n        {\r\n            name: item[2],\r\n            type: 'lines',\r\n            zlevel: 2,\r\n            coordinateSystem: 'geo',\r\n            effect: {\r\n                show: true,\r\n                period: 6,\r\n                trailLength: 0.1,\r\n//            symbol: planePath,\r\n                symbol:'arrow',\r\n                symbolSize: 5\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#60ff44',\r\n                    width: 1,\r\n                    opacity: 0.4,\r\n                    curveness: 0.2\r\n                }\r\n            },\r\n            data: convertData(item[1])\r\n        },\r\n        {\r\n            //       name: item[1],\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}'\r\n                }\r\n            },\r\n            symbolSize: function (val) {\r\n                return 3 + val[2] / 10;\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#60ff44'\r\n                }\r\n            },\r\n            data: item[1].map(function (dataItem) {\r\n                return {\r\n                    name: dataItem[0].name,\r\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])\r\n                };\r\n            })\r\n        });\r\n});\r\n\r\noption = {\r\n    backgroundColor: 'black',\r\n    title : {\r\n        text: '建大流量监控图',\r\n        subtext: '建大流量监控图',\r\n        left: 'center',\r\n        textStyle : {\r\n            color: 'white'\r\n        }\r\n    },\r\n    tooltip : {\r\n        trigger: 'item'\r\n    },\r\n     geo: {\r\n        show: true,\r\n        roam: true,\r\n        center: [117.19,36.682],\r\n        zoom: 2200,\r\n        map: 'china',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#323c48',\r\n                borderColor: '#111'\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2a333d'\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-2821178748","theme":"","layout":"","viewCount":5091,"userName":"m***i","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xByZjvzrpl.png?v=1552013921024","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","title","tooltip"],"customTags":[],"updaterUserName":"牜林熠"}}