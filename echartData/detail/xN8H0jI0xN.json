{"status":0,"data":{"cid":"xN8H0jI0xN","authorUid":"obd-oDAFsPJnLBicJxVSbjLz4r1uV8sWL1B","authorUserName":"忍***K","title":"world","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-12-13T09:55:08.000Z","lastUpdateTime":"2020-12-13T09:55:08.000Z","auth":2,"uid":"obd-oDAFsPJnLBicJxVSbjLz4r1uV8sWL1B","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-17T08:11:49.000Z","code":"// 飞线颜色  \nvar flyLineColor=\"yellow\";\n//线条颜色\nvar lineColor=\"rgba(31,20,252,1)\";\n//高亮地图填充色\nvar lightColor =\"red\";\n// 散点图默认颜色\nvar ScatterColor=\"yellow\"\n// 地图默认状态填充色\nvar  mapAreaColor =\"#06265c\"\n\n//字体颜色\nvar  textColor=\"#fff\";\n\n\nvar geoCoordMap = {\n    上海: [121.4648, 31.2891],\n    尼日利亚: [-4.388361, 11.186148],\n    美国洛杉矶: [-118.24311, 34.052713],\n    香港邦泰: [114.195466, 22.282751],\n    美国芝加哥: [-87.801833, 41.870975],\n    加纳库马西: [-4.62829, 7.72415],\n    英国曼彻斯特: [-1.657222, 51.886863],\n    德国汉堡: [10.01959, 54.38474],\n    哈萨克斯坦阿拉木图: [45.326912, 41.101891],\n    俄罗斯伊尔库茨克: [89.116876, 67.757906],\n    巴西: [-48.678945, -10.493623],\n    埃及达米埃塔: [31.815593, 31.418032],\n    西班牙巴塞罗纳: [2.175129, 41.385064],\n    柬埔寨金边: [104.88659, 11.545469],\n    意大利米兰: [9.189948, 45.46623],\n    乌拉圭蒙得维的亚: [-56.162231, -34.901113],\n    莫桑比克马普托: [32.608571, -25.893473],\n    阿尔及利亚阿尔及尔: [3.054275, 36.753027],\n    阿联酋迪拜: [55.269441, 25.204514],\n    匈牙利布达佩斯: [17.108519, 48.179162],\n    澳大利亚悉尼: [150.993137, -33.675509],\n    美国加州: [-121.910642, 41.38028],\n    澳大利亚墨尔本: [144.999416, -37.781726],\n    墨西哥: [-99.094092, 19.365711],\n    加拿大温哥华: [-123.023921, 49.311753]\n};\nvar BJData = [\n    [{\n        name: \"尼日利亚\",\n        value: 9100\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"美国洛杉矶\",\n        value: 2370\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"香港邦泰\",\n        value: 3130\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"美国芝加哥\",\n        value: 2350\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"加纳库马西\",\n        value: 5120\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"英国曼彻斯特\",\n        value: 3110\n    }, {\n        name: \"香港邦泰\"\n    }],\n    [{\n        name: \"德国汉堡\",\n        value: 6280\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"哈萨克斯坦阿拉木图\",\n        value: 7255\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"俄罗斯伊尔库茨克\",\n        value: 8125\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"巴西\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"埃及达米埃塔\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"西班牙巴塞罗纳\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"柬埔寨金边\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"意大利米兰\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"乌拉圭蒙得维的亚\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"莫桑比克马普托\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"阿尔及利亚阿尔及尔\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"阿联酋迪拜\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"匈牙利布达佩斯\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"澳大利亚悉尼\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"美国加州\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"澳大利亚墨尔本\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"墨西哥\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }],\n    [{\n        name: \"加拿大温哥华\",\n        value: 3590\n    }, {\n        name: \"上海\"\n    }]\n];\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        if (fromCoord && toCoord) {\n            res.push([{\n                    coord: fromCoord,\n                    value: dataItem[0].value\n                },\n                {\n                    coord: toCoord\n                }\n            ]);\n        }\n    }\n    return res;\n};\n\nvar series = [];\n[\n    [\"上海\", BJData]\n].forEach(function(item, i) {\n    series.push(\n           {\n        \"type\": \"lines\",\n        \"zlevel\": 3,\n        \"effect\": {\n            \"show\": true,\n            \"period\": 4,\n            \"trailLength\": 0.7,\n            \"symbol\": \"arrow\",\n            \"symbolSize\": 3,\n            \"color\": flyLineColor\n        },\n        \"lineStyle\": {\n            \"normal\": {\n                \"width\": 0,\n                \"curveness\": 0.2\n            }\n        },\n        \"data\":convertData(item[1])\n    }, {\n        \"type\": \"lines\",\n        \"zlevel\": 2,\n        \"symbolSize\": 10,\n        \"effect\": {\n            \"show\": false,\n            \"period\": 6,\n            \"trailLength\": 0\n        },\n        \"lineStyle\": {\n            \"color\": lineColor,\n            \"width\": 1,\n            \"opacity\": 0.8,\n            \"curveness\": 0.2\n        },\n        \"data\":convertData(item[1])\n    },\n        {\n            type: \"effectScatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 1,\n            rippleEffect: {\n                //涟漪特效\n                period: 6, //动画时间，值越小速度越快\n                brushType: \"stroke\", //波纹绘制方式 stroke, fill\n                scale: 4 //波纹圆环最大限制，值越大波纹越大\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: \"right\", //显示位置\n                    offset: [8, 0], //偏移设置\n                    formatter: \"{b}\", //圆环显示文字\n                    color:textColor,\n                    fontSize:10,\n                    lineHeight:14,\n                    borderWidth:1,\n                    backgroundColor:\"#061a4c\",\n                    borderColor:\"#97b5f0\",\n                    padding:3,\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbol: \"circle\",\n            symbolSize:12,\n            itemStyle: {\n                normal: {\n                show: true,\n                \"color\": ScatterColor,\n                \"shadowBlur\": 10,\n                \"shadowColor\":ScatterColor\n                }\n            },\n            data: item[1].map(function(dataItem) {\n                return {\n                    name: dataItem[0].name,\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n                };\n            })\n        },\n        //被攻击点 大头针\n        {\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            rippleEffect: {\n                period: 4,\n                brushType: \"stroke\",\n                scale: 4\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: \"right\",\n                    formatter: \"{b}\",\n                    color:textColor,\n                    \n                    fontSize:10,\n                    lineHeight:14,\n                    borderWidth:1,\n                    backgroundColor:\"#061a4c\",\n                    borderColor:\"#97b5f0\",\n                    padding:3,\n                    \n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbol: \"pin\",\n            symbolSize: 30,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color:ScatterColor\n                }\n            },\n            data: [{\n                name: item[0],\n                value: geoCoordMap[item[0]].concat([100])\n            }]\n        },\n        // 被攻击点 散点\n        {\n            type: \"effectScatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            symbol: \"circle\",\n            symbolSize:12,\n            rippleEffect: {\n                //涟漪特效\n                period: 4, //动画时间，值越小速度越快\n                brushType: \"fill\", //波纹绘制方式 stroke, fill\n                scale: 12 //波纹圆环最大限制，值越大波纹越大\n            },\n            itemStyle: {\n                normal: {\n                show: true,\n                \"shadowBlur\": 12,\n                \"shadowColor\":\"red\",\n                \"color\":  {\n                        type: 'radial',\n                        x: 0.5,\n                        y: 0.5,\n                        r: 0.5,\n                        colorStops: [{\n                            offset: 0, color: 'red' // 0% 处的颜色\n                        }, {\n                            offset: 0.8, color: 'transparent' \n                        },\n                        {\n                            offset: 1, color: 'red' // 100% 处的颜色\n                        }],\n                        global: false // 缺省为 false\n                    },\n                }\n            },\n            label: {\n                normal: {\n                    show: false\n                },\n            },\n            data:  [{\n                name: item[0],\n                value: geoCoordMap[item[0]].concat([100])\n            }]\n        },\n        // 高亮显示中国\n        {\n            type: 'map',\n            roam: true,\n            layoutCenter: [\"50%\", \"50%\"], //地图位置\n            layoutSize: \"180%\",\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                     show: false,\n                }\n            },\n\n        itemStyle: {\n            normal: {\n                areaColor:mapAreaColor,\n                borderColor: '#8F98A6'\n            },\n            emphasis: {\n                areaColor: lightColor\n            }\n        },\n            map: 'world', //使用\n            data: [\n            {\"selected\": true,\n            \"name\": \"China\"}]\n          },\n    );\n});\n\noption = {\n    backgroundColor: '#000',\n    title: {\n        text: '',\n        left: 'center',\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    tooltip: {\n        trigger: \"item\",\n        backgroundColor: \"#1540a1\",\n        borderColor: \"#FFFFCC\",\n        showDelay: 0,\n        hideDelay: 0,\n        enterable: true,\n        transitionDuration: 0,\n        extraCssText: \"z-index:100\",\n        formatter: function(params, ticket, callback) {\n            //根据业务自己拓展要显示的内容\n            var res = \"\";\n            var name = params.name;\n            var value = params.value[params.seriesIndex + 1];\n            res =\n                \"<span style='color:#fff;'>\" +\n                name +\n                \"</span><br/>数据：\" +\n                value;\n            return res;\n        }\n    },\n    // visualMap: {\n    //     //图例值控制\n    //     min: 0,\n    //     max: 10000,\n    //     // show: false,\n    //     calculable: true,\n    //     // color: [\"#0bc7f3\"],\n    //     textStyle: {\n    //         color: \"#fff\"\n    //     },\n\n    // },\n    geo: {\n        show:false,\n        map: \"world\",\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true, //是否允许缩放\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\n        layoutSize: \"180%\",\n        itemStyle: {\n            normal: {\n                areaColor:mapAreaColor,\n                borderColor: '#8F98A6'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n\n    series: series\n};","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"obd-oDAFsPJnLBicJxVSbjLz4r1uV8sWL1B","theme":"","layout":"","viewCount":1086,"userName":"忍***K","commentCount":0,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xN8H0jI0xN.png?v=1621239109425","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"忍***K"}}