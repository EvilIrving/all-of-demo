{"status":0,"data":{"cid":"xt3H02lsfk","authorUid":"bd-45102880","authorUserName":"我爱话梅的故事","title":"南京工业大学学部学院关系图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-04-24T14:13:26.000Z","lastUpdateTime":"2019-04-24T14:13:26.000Z","auth":2,"uid":"bd-45102880","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-04-24T14:13:26.000Z","code":"var myGraphData = [\n  { \"parentNode\":\"南京工业大学\", \"childNodes\":[\"安全环境学部\", \"材料科学学部\", \"化学化工学部\", \"机械控制学部\",\"健康科技学部\",\"建筑艺术学部\",\"经济管理学部\",\"人文社科学部\",\"生物制造学部\",\"数理信息学部\",\"土木交通学部\",\"其他培养单位\"]},\n        { \"parentNode\":\"安全环境学部\", \"childNodes\":[ \"安全科学与工程学院\", \"环境科学与工程学院\"] },\n        { \"parentNode\":\"材料科学学部\", \"childNodes\":[ \"材料科学与工程学院\" ] },\n        { \"parentNode\":\"化学化工学部\", \"childNodes\":[ \"化工学院\", \"化学与分子工程学院\" ] },\n        { \"parentNode\":\"机械控制学部\", \"childNodes\":[ \"电气工程与控制科学学院\", \"机械与动力工程学院\",\"能源科学与工程学院\" ] },\n        { \"parentNode\":\"健康科技学部\", \"childNodes\":[ \"药学院\" ] },\n        { \"parentNode\":\"建筑艺术学部\", \"childNodes\":[ \"建筑学院\", \"艺术设计学院\" ] },\n        { \"parentNode\":\"经济管理学部\", \"childNodes\":[ \"经济与管理学院\" ] },\n        { \"parentNode\":\"人文社科学部\", \"childNodes\":[ \"法学院\", \"马克思主义学院\",\"外国语语言文学学院\",\"体育部\" ] },\n        { \"parentNode\":\"生物制造学部\", \"childNodes\":[ \"生物与制药工程学院\", \"食品与轻工学院\" ] },\n        { \"parentNode\":\"数理信息学部\", \"childNodes\":[ \"计算机科学与技术学院\", \"数理科学学院\" ] },\n        { \"parentNode\":\"土木交通学部\", \"childNodes\":[ \"测绘科学与技术学院\", \"城市建设学院\",\"交通运输工程学院\",\"土木工程学院\" ] },\n        { \"parentNode\":\"生物制造学部\", \"childNodes\":[ \"2011学院\", \"海外教育学院\",\"继续教育学院\",\"浦江学院\" ] },\n    ];\n        \nfunction setNodeData(arr, m, n ,listdata) {\n    var size = 33;\n    for(var i=0; i<arr.length; i++){\n        listdata.push({\n            id : m++,\n            category: n,\n            name: arr[i],\n            symbolSize: size,\n            draggable: \"true\"\n        });\n    }\n}\n        \nfunction setLinkData(sourceList, m, links) {\n    for(var i=0; i<sourceList.length; i++){\n        links.push({\n            \"source\": sourceList[i],\n            \"target\": m,\n            lineStyle: {\n                normal: {\n                    color: 'source',\n                }\n            }\n        })\n    }\n}    \n\nvar listdata = [];\nvar linksdata = [];     \n\nvar nodeData = myGraphData;\nvar m = 0;\nvar source = [];\nfor(var i=1; i < nodeData.length; i++){\n    var node = nodeData[i].parentNode;\n    var tx = [node];\n    setNodeData( tx, m, 1, listdata);\n    source.push(m);\n\n    var Data = nodeData[i].childNodes;\n    setNodeData( Data, m+1, 2, listdata);\n\n    var sourceList = [];\n    for(var n = m+1; n < m + Data.length + 1; n++){\n        sourceList.push(n);\n    }\n    setLinkData( sourceList, m, linksdata);\n    m = m + Data.length + 1;\n}\n        \nvar tx7 = [];\ntx7.push(nodeData[0].parentNode);\nsetNodeData(tx7, m, 0, listdata);\nsetLinkData(source, m, linksdata);\n\noption = {\n    title: {\n        text: \"南京工业大学学部学院关系图\",\n        top: \"top\",\n        left: \"left\",\n        textStyle: {\n            color: '#292421'\n        }\n    },\n    tooltip: {\n        formatter: '{b}'\n    },\n    backgroundColor: '#FFFFFF',\n    legend: {\n        show : true,\n        data : [ {\n            name : '学校',             \n            icon : 'rect'\n        },\n        {\n            name : '学部',             \n            icon : 'roundRect'\n        }, {\n            name : '学院',              \n            icon : 'circle'\n        } ],\n        textStyle: {\n            color: '#292421'\n        },\n        icon: 'circle',\n        type: 'scroll',\n        orient: 'horizontal',\n        left: 10,\n        top: 20,\n        bottom: 20,\n        itemWidth: 10,\n        itemHeight: 10\n    },\n    animationDuration: 0,\n    animationEasingUpdate: 'quinticInOut',\n    series: [{\n        name: '知识图谱',\n        type: 'graph',\n        layout: 'force',\n        force: {\n            repulsion: 300,\n            gravity: 0.1,\n            edgeLength: 15,\n            layoutAnimation: true,\n        },\n        data: listdata,\n        links: linksdata,\n        categories:[ \n            {\n                name : '学校',\n                symbol : 'rect',\n                label : {\n                }\n            }, {\n                name : '学部',\n                symbol : 'rect'\n            }, {\n                name : '学院',\n                symbol : 'roundRect'\n            }],\n        roam: true,\n        label: {\n            normal: {\n                show: true,\n                position: 'bottom',\n                formatter: '{b}',\n                fontSize: 10,\n                fontStyle: '600',\n            }\n        },\n        lineStyle: {\n            normal: {\n                opacity: 0.9,\n                width: 1.5,\n                curveness: 0\n            }\n        }\n    }]\n};\n        ","html":"","externalScripts":"","updaterUID":"bd-45102880","theme":"","layout":"","viewCount":1329,"userName":"我爱话梅的故事","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xt3H02lsfk.png?v=1556115206457","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","title","tooltip"],"customTags":[],"updaterUserName":"我爱话梅的故事"}}