{"status":0,"data":{"cid":"xry_JSEXNz","authorUid":"bd-186954852","authorUserName":"l***7","title":"分段线图","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2018-01-10T06:38:24.000Z","lastUpdateTime":"2018-01-10T06:38:24.000Z","auth":2,"uid":"bd-186954852","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-10T08:04:13.000Z","code":"var now = new Date()\nvar forecastPoint = now.getHours()\nconsole.log('forecastPoint:', forecastPoint)\nvar dimensions = Array.apply(null, {\n    length: forecastPoint + 4\n}).map((v, index) => {\n    return {\n        dimension: index,\n        forecast: index > forecastPoint\n    }\n})\nfunction generateData() {\n    return Array.apply(null, {length: forecastPoint + 4}).map((v, index) => Math.round(Math.random() * 80 + 20))\n}\nvar data1 = generateData()\nvar data2 = generateData()\nconsole.log(data)\noption = {\n    backgroundColor: '#262A35',\n    grid: [{\n        left: '3%',\n        width: (forecastPoint / (forecastPoint + 4) * 100 - 3) + '%'\n    }, {\n        left: (forecastPoint / (forecastPoint + 4) * 100) + '%',\n        right: '3%'\n    }],\n    xAxis: [{\n        gridIndex: 0,\n        boundaryGap: false,\n        data: dimensions.slice(0, forecastPoint + 1).map(item => item.dimension),\n        axisLabel: {\n            color: '#51637D',\n            formatter: (value) => {\n                return +value === forecastPoint ? '' : value;\n            }\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#51637D'\n            }\n        },\n        axisTick: {\n            lineStyle: {\n                color: '#51637D'\n            }\n        }\n    }, {\n        gridIndex: 1,\n        boundaryGap: false,\n        data: dimensions.slice(forecastPoint).map(item => item.dimension),\n        axisLabel: {\n            color: '#51637D'\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#51637D'\n            }\n        },\n        axisTick: {\n            lineStyle: {\n                color: '#51637D'\n            }\n        }\n    }],\n    yAxis: [\n        {\n            show: false,\n            type: 'value',\n            gridIndex: 0,\n            min: 0,\n            max: 100\n        },\n        {\n            show: false,\n            type: 'value',\n            gridIndex: 1,\n            min: 0,\n            max: 100\n        }\n    ],\n    series: [\n        {\n            type: 'line',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            symbolSize: 0,\n            smooth: true,\n            smoothMonotone: 'x',\n            itemStyle: {\n                normal: {\n                    color: '#F6C93F'\n                }\n            },\n            lineStyle: {\n                normal: {\n                    shadowBlur: 8,\n                    shadowColor: '#F6C93FA0'\n                }\n            },\n            data: data1.slice(0, forecastPoint + 1),\n            markLine: {\n                silent: true,\n                symbolSize: 0,\n                lineStyle: {\n                    normal: {\n                        color: '#C0CCDA',\n                        type: 'solid',\n                        shadowBlur: 4,\n                        shadowColor: 'rgba(255,255,255,0.8)'\n                    }\n                },\n                label: {\n                    normal: {\n                        show: false\n                    }\n                },\n                data: [\n                    {\n                        xAxis: forecastPoint\n                    }\n                ]\n            },\n            markPoint: {\n                silent: true,\n                data: [\n                    {\n                        coord: [forecastPoint, data1[forecastPoint]],\n                        symbol: 'circle',\n                        symbolSize: 20,\n                        itemStyle: {\n                            normal: {\n                                color: new echarts.graphic.RadialGradient(0.5,0.5,1, [\n                                    {offset: 0, color: '#fff'},\n                                    {offset: 0.2, color: '#fff'},\n                                    {offset: 0.2, color: '#F6C93Fff'},\n                                    {offset: 0.7, color: '#F6C93F33'},\n                                    {offset: 1, color: '#F6C93Fff'},\n                                ]),\n                            }\n                        },\n                        label: {\n                            normal: {\n                                show: false\n                            }\n                        }\n                    }\n                ]\n            },\n            animationDuration: 2000\n        },\n        {\n            type: 'line',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            symbolSize: 0,\n            smooth: true,\n            smoothMonotone: 'x',\n            lineStyle: {\n                normal: {\n                    type: 'dotted',\n                    shadowBlur: 8,\n                    shadowColor: '#F6C93FA0'\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F6C93F'\n                }\n            },\n            data: data1.slice(forecastPoint),\n            animationDelay: 2000\n        },\n        {\n            type: 'line',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            symbolSize: 0,\n            smooth: true,\n            smoothMonotone: 'x',\n            itemStyle: {\n                normal: {\n                    color: '#F63F72'\n                }\n            },\n            lineStyle: {\n                normal: {\n                    shadowBlur: 8,\n                    shadowColor: '#F63F72A0'\n                }\n            },\n            data: data2.slice(0, forecastPoint + 1),\n            markPoint: {\n                silent: true,\n                data: [\n                    {\n                        coord: [forecastPoint, data2[forecastPoint]],\n                        symbol: 'circle',\n                        symbolSize: 20,\n                        itemStyle: {\n                            normal: {\n                                color: new echarts.graphic.RadialGradient(0.5,0.5,1, [\n                                    {offset: 0, color: '#fff'},\n                                    {offset: 0.2, color: '#fff'},\n                                    {offset: 0.2, color: '#F63F72FF'},\n                                    {offset: 0.6, color: '#F63F7233'},\n                                    {offset: 1, color: '#F63F72FF'},\n                                ]),\n                            }\n                        },\n                        label: {\n                            normal: {\n                                show: false\n                            }\n                        }\n                    }\n                ]\n            },\n            animationDuration: 2000\n        },\n        {\n            type: 'line',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            symbolSize: 0,\n            smooth: true,\n            smoothMonotone: 'x',\n            lineStyle: {\n                normal: {\n                    type: 'dotted',\n                    shadowBlur: 8,\n                    shadowColor: '#F63F72A0'\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F63F72'\n                }\n            },\n            data: data2.slice(forecastPoint),\n            animationDelay: 2000\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-186954852","theme":"","layout":"","viewCount":72,"userName":"l***7","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xry_JSEXNz.png?v=1515571453711","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","markPoint","series-line"],"customTags":[],"updaterUserName":"l***7"}}