{"status":0,"data":{"cid":"x3xW732AJC","authorUid":"bd-181101713","authorUserName":"j***6","title":"分析评估-图表1","description":"柱状","latestVersion":1,"alwaysLatest":1,"createTime":"2021-11-10T04:02:40.000Z","lastUpdateTime":"2021-11-10T04:02:40.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-10T04:02:40.000Z","code":"let backgroundColor = 'rgba(0,0,0,1)';\nlet chartdata = [\n    [111, 222],\n    ['交付效率', '环节时长'],\n];\n\nvar getmydmc = chartdata[1]; //数据点名称\nvar getmyd = chartdata[0]; //收入金额\nvar getmydzd = [];\n\nlet big = 0;\ngetmyd.forEach((el) => {\n    if (!(el === undefined || el === '')) {\n        if (big < Number(el)) {\n            big = Number(el);\n        }\n    }\n});\nfor (let i = 0; i < getmyd.length; i++) {\n    getmydzd.push(big * 4);\n}\n//计算最大值\nfunction calMax(arr) {\n    let max = 0;\n    arr.forEach((el) => {\n        el.forEach((el1) => {\n            if (!(el1 === undefined || el1 === '')) {\n                if (max < Number(el1)) {\n                    max = Number(el1);\n                }\n            }\n        });\n    });\n    let maxint = Math.ceil(max / 9.5);\n    //不让最高的值超过最上面的刻度\n    let maxval = maxint * 10;\n    //让显示的刻度是整数\n    return maxval;\n}\n\nvar max = Math.ceil(calMax([getmyd]) / 10) * 10;\noption = {\n    backgroundColor: backgroundColor,\n    grid: {\n        left: '3%',\n        right: '13%',\n        bottom: '10%',\n        top: '10%',\n        containLabel: true,\n    },\n    tooltip: {\n        show: false,\n    },\n    xAxis: [\n        {\n            type: 'value',\n            show: false,\n            axisLabel: {\n                show: false,\n            },\n            min: 0,\n            max: max, // 计算最大值\n            interval: max / 5, //  平均分为5份\n            splitNumber: 5,\n            splitLine: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'value',\n            axisLabel: {\n                show: false,\n            },\n            min: 0,\n            max: max, // 计算最大值\n            interval: max / 10, //  平均分为5份\n            splitNumber: 10,\n            splitLine: {\n                show: false,\n                lineStyle: {\n                    type: 'dashed',\n                    color: '#D8D8D8',\n                },\n            },\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    color: '#fff',\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLabel: {\n                padding: [-40, -66, 40, 2],\n                textStyle: {\n                    color: 'rgba(255,255,255)',\n                    fontSize: '14',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            data: getmydmc,\n        },\n    ],\n    dataZoom: [\n        {\n            type: 'inside',\n            show: true,\n            height: 15,\n            start: 1,\n            end: 100,\n            orient: 'vertical',\n            zlevel: 66,\n        },\n    ],\n    series: [\n        {\n            // 分隔\n            type: 'pictorialBar',\n            itemStyle: {\n                normal: {\n                    color: '#000',\n                },\n            },\n            symbolRepeat: 'fixed',\n            symbolMargin: 4,\n            symbol: 'rect',\n            symbolClip: true,\n            symbolSize: [4, 15],\n            symbolPosition: 'start',\n            symbolOffset: [-1, 0],\n            data: getmydzd,\n            z: 66,\n            animationEasing: 'elasticOut',\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 15,\n            barGap: '-100%',\n            xAxisIndex: 1,\n            data: getmydzd,\n            itemStyle: {\n                normal: {\n                    color: {\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#052a32', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#052a32', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n            z: 0,\n        },\n        {\n            name: '值',\n            type: 'bar',\n            // zlevel: 1,\n            xAxisIndex: 0,\n            itemStyle: {\n                normal: {\n                    // barBorderRadius: [0, 5, 5, 0],\n                    color: {\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(255,255,255,0)', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#00e5d3', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n            barWidth: 15,\n            data: getmyd,\n            z: 0,\n        },\n        {\n            // 外边框\n            type: 'pictorialBar',\n            symbol: 'rect',\n            itemStyle: {\n                normal: {\n                    color: 'none',\n                },\n            },\n            data: getmyd,\n            z: 77,\n            animationEasing: 'elasticOut',\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":0,"userName":"j***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x3xW732AJC.png?v=1636516960632","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"j***6"}}