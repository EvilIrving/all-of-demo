{"status":0,"data":{"cid":"xXfx8z6R1y","authorUid":"obd-oNbDx0DIN58PIenawLXzTtbHWT5MhCO","authorUserName":"梦***1","title":"环状弧形图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-12-13T08:03:16.000Z","lastUpdateTime":"2021-12-13T08:05:20.000Z","auth":2,"uid":"obd-oNbDx0DIN58PIenawLXzTtbHWT5MhCO","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-13T08:05:20.000Z","code":"var data = [\n    {\n        value: 200,\n        name: '业务车辆',\n    },\n    {\n        value: 110,\n        name: '施工车辆',\n    },\n    {\n        value: 150,\n        name: '参观车辆',\n    },\n    {\n        value: 180,\n        name: '其他车辆',\n    },\n];\nlet datum = data.map((v) => v.value);\nlet color = ['#27D099', '#B458F5', '#FCD54B', '#5684F4'];\nlet data1 = data[0].value + data[1].value + data[2].value + data[3].value;\nlet baseData = [];\nfor (var i = 0; i < data.length; i++) {\n    baseData.push({\n        value: data[i].value,\n        name: data[i].name,\n        itemStyle: {\n            normal: {\n                borderWidth: 30,\n                shadowBlur: 20,\n                borderColor: color[i],\n                borderRadius: 20,\n            },\n        },\n    });\n}\noption = {\n    title: {\n        text: `{a|外来车辆分类统计} {b|2021-12-23}`,\n        textStyle: {\n            rich: {\n                a: {\n                    fontSize: 16,\n                    fontWeight: 600,\n                },\n                b: {\n                    fontSize: 12,\n                    color: 'gray',\n                },\n            },\n        },\n        top: '4%',\n        left: '4%',\n    },\n    color: color,\n    tooltip: {\n        show: true,\n        trigger: 'item',\n        formatter: '{b} <br/>占比：{d}%',\n    },\n    legend: {\n        orient: 'vertical',\n        right: '20%',\n        top: '36%',\n        itemGap: 50,\n        itemWidth: 14,\n        formatter: function (name) {\n            for (var i = 0; arguments.length; i++) {\n                if (name == '施工车辆') {\n                    i = 1;\n                } else if (name == '参观车辆') {\n                    i = 2;\n                } else if (name == '其他车辆') {\n                    i = 3;\n                }\n                return `{a|${name}}  {b${i}|${datum[i]}}  {c|辆}`;\n            }\n        },\n        textStyle: {\n            rich: (function () {\n                return {\n                    b0: {\n                        fontSize: 16,\n                        fontWeight: 'bold',\n                        color: color[0],\n                    },\n                    b1: {\n                        fontSize: 16,\n                        fontWeight: 'bold',\n                        color: color[1],\n                    },\n                    b2: {\n                        fontSize: 16,\n                        fontWeight: 'bold',\n                        color: color[2],\n                    },\n                    b3: {\n                        fontSize: 16,\n                        fontWeight: 'bold',\n                        color: color[3],\n                    },\n                };\n            })(),\n        },\n    },\n    grid: {\n        top: 'bottom',\n        left: 10,\n        bottom: 10,\n        width: '80%',\n        height: '80%',\n    },\n    series: [\n        {\n            zlevel: 1,\n            name: '外来车辆分类统计',\n            type: 'pie',\n            selectedMode: 'single',\n            radius: [120, 160],\n            center: ['35%', '50%'],\n            startAngle: 60,\n            // hoverAnimation: false,\n            label: {\n                normal: {\n                    position: 'inside',\n                    show: true,\n                    color: '#fff',\n                    formatter: function (params) {\n                        return params.percent.toFixed() + '%';\n                    },\n                    rich: {\n                        b: {\n                            fontSize: 16,\n                            lineHeight: 30,\n                            color: '#fff',\n                        },\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    shadowColor: 'rgba(0, 0, 0, 0.2)',\n                    shadowBlur: 10,\n                },\n            },\n            data: baseData,\n        },\n        {\n            name: '',\n            type: 'pie',\n            selectedMode: 'single',\n            radius: [120, 160],\n            center: ['35%', '50%'],\n            startAngle: 60,\n            data: [\n                {\n                    value: data1,\n                    name: '',\n                    label: {\n                        normal: {\n                            show: true,\n                            formatter: '{c|{c}辆} \\n {a|本日外来\\n车辆总数}',\n                            rich: {\n                                c: {\n                                    color: '#000',\n                                    fontSize: 20,\n                                    fontWeight: 'bold',\n                                    lineHeight: 2,\n                                    align: 'center',\n                                    padding: [30, 0, 30, 0],\n                                },\n                                a: {\n                                    align: 'center',\n                                    color: 'rgb(98,137,169)',\n                                    fontSize: 12,\n                                    padding: [16, 0, -10, -10],\n                                },\n                            },\n                            position: 'center',\n                        },\n                    },\n                },\n            ],\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oNbDx0DIN58PIenawLXzTtbHWT5MhCO","theme":"","layout":"","viewCount":0,"userName":"梦***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXfx8z6R1y.png?v=1639382720561","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"梦***1"}}