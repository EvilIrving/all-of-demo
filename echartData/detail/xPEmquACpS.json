{"status":0,"data":{"cid":"xPEmquACpS","authorUid":"obd-oDzQwU50Iea8GggcWyKqn5pyq56VK12","authorUserName":"卧***竹","title":"气泡","description":"气泡","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-04T12:27:59.000Z","lastUpdateTime":"2020-11-04T12:27:59.000Z","auth":2,"uid":"obd-oDzQwU50Iea8GggcWyKqn5pyq56VK12","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-04T12:27:59.000Z","code":"//2010年\r\nvar getname = ['SCI', 'SSCI','EI','ISTP','AHCI','ISSHP','其他'];//期刊类别名称\r\nvar getvalue = [1811,868,320,208,190,120,100];//发表论文总数\r\nvar getamount = [1.8,1.0,0.65,0.52,0.33,0.25,0.11];//人均发表篇数\r\nvar getorderCount = [65000,45000,23000,10000,9000,74000,52121];//总被引用数\r\n\r\n//2020年\r\nvar getname2 = ['SCI', 'SSCI','EI','ISTP','AHCI','ISSHP','其他'];//期刊类别名称\r\nvar getvalue2 =  [2811,1568,420,308,290,220,190];//发表论文总数\r\nvar getamount2 =  [2.3,1.2,0.95,0.82,0.73,0.35,0.18];//人均发表篇数\r\nvar getorderCount2 = [105000,90000,49000,34000,25000,20000,19121];//总被引用数\r\n\r\n\r\nvar datas = [];\r\nfor (var i = 0; i < getname.length; i++) {\r\n    datas.push({\r\n        name: getname[i],\r\n        value: getvalue[i],\r\n        amount: getamount[i],\r\n        orderCount: getorderCount[i],\r\n    })\r\n}\r\n\r\nvar datas2 = [];\r\nfor (var i = 0; i < getname2.length; i++) {\r\n    datas2.push({\r\n        name: getname2[i],\r\n        value: getvalue2[i],\r\n        amount: getamount2[i],\r\n        orderCount: getorderCount2[i],\r\n    })\r\n}\r\n\r\nlet packedDatas = packDatas(datas);\r\nlet packedDatas2 = packDatas2(datas2);\r\n\r\noption = {\r\n    grid: {\r\n        top: 60,\r\n        bottom: 40,\r\n        left: 50,\r\n        right: 30\r\n    },\r\n    legend: {\r\n        data: ['2010','2020'],\r\n        type: \"scroll\",\r\n        right: '15',\r\n        top: '10',\r\n        itemGap: 25,\r\n        itemWidth: 14,\r\n        itemHeight: 14,\r\n        textStyle: {\r\n            fontSize: '13',\r\n            color: '#656565',\r\n        },\r\n\r\n    },\r\n    tooltip: {\r\n        extraCssText: 'padding-right:8px;padding-left:8px;line-height:30px;background:rgba(255,255,255,1);box-shadow:1px 5px 20px 0px rgba(1,11,19,0.2);border-radius:6px;',\r\n        textStyle: {\r\n            fontSize: '13',\r\n            color: '#656565',\r\n        },\r\n        formatter: function(obj) {\r\n            var value = obj.value;\r\n            return '<div style=\"padding-bottom: 0px;margin-bottom: 0px\">' +\r\n                '年份：' + obj.seriesName +\r\n                '</div>' +\r\n                '收录期刊：' + value[2] + '<br/>' +\r\n                '总被引用次数：' + value[0] + '<br/>' +\r\n                '人均发表篇次：' + value[1].toFixed(1) + '<br/>' +\r\n                '发表论文总数：' + value[3] + '<br/>';\r\n        }\r\n    },\r\n    xAxis: {\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n        scale: true,\r\n        type: 'value',\r\n        name: '总被引篇次',\r\n        nameTextStyle: {\r\n            color: '#666666',\r\n            fontSize: 13,\r\n            padding: [0, 0, 30, -80]\r\n        },\r\n        axisLabel: {\r\n            formatter: function(value) {\r\n                num = value\r\n                if (num && num != 'undefined' && num != 'null') {\r\n                    let numS = num;\r\n                    numS = numS.toString();\r\n                    numS = numS.replace(/,/gi, '');\r\n                    return numS;\r\n                } else {\r\n                    return num;\r\n                }\r\n            },\r\n            color: '#656565',\r\n            textStyle: {\r\n                fontSize: 13\r\n            },\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#333333',\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n    },\r\n    yAxis: {\r\n        name: '人均发表篇数',\r\n        nameTextStyle: {\r\n            color: '#666666',\r\n            fontSize: 13,\r\n            padding: [0, 0, 0, 70]\r\n        },\r\n        axisLabel: {\r\n            formatter: function(value) {\r\n                num = value\r\n                if (num && num != 'undefined' && num != 'null') {\r\n                    let numS = num;\r\n                    numS = numS.toString();\r\n                    numS = numS.replace(/,/gi, '');\r\n                    return numS;\r\n                } else {\r\n                    return num;\r\n                }\r\n            },\r\n            color: '#656565',\r\n            textStyle: {\r\n                fontSize: 13\r\n            },\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#333333',\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: 'rgba(209,209,209,.25)',\r\n            }\r\n        }\r\n    },\r\n\r\n    series: [{\r\n        name: '2010',\r\n        symbolSize: function(data) {\r\n            return data[1]*50/1.2;\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#9CC8FF',\r\n                borderColor: '#4B95F3',\r\n                borderWidth: 2,\r\n            }\r\n        },\r\n        data: packedDatas,\r\n        type: 'scatter',\r\n    }, {\r\n        name: '2020',\r\n        symbolSize: function(data) {\r\n            return data[1]*50/1.2;\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#FFD291',\r\n                borderColor: '#F3B14B',\r\n                borderWidth: 2,\r\n            }\r\n        },\r\n        data: packedDatas2,\r\n        type: 'scatter',\r\n    }]\r\n};\r\n\r\nfunction packDatas(datas) {\r\n    let packedDatas = datas.map((data) => {\r\n        let name = data['name'];\r\n        let dispathCount = data['orderCount'];\r\n        let refs = data['amount'];\r\n        let avt = data['value'];\r\n        return [dispathCount, refs, name, avt ];\r\n    });\r\n\r\n    return packedDatas;\r\n}\r\nfunction packDatas2(datas2) {\r\n    let packedDatas2 = datas2.map((data) => {\r\n        let name = data['name'];\r\n        let dispathCount = data['orderCount'];\r\n        let refs = data['amount'];\r\n        let avt = data['value'];\r\n        return [dispathCount, refs, name, avt ];\r\n    });\r\n\r\n    return packedDatas2;\r\n}\r\n//return option; ","html":"","externalScripts":"","updaterUID":"obd-oDzQwU50Iea8GggcWyKqn5pyq56VK12","theme":"","layout":"","viewCount":400,"userName":"卧***竹","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPEmquACpS.png?v=1604492879494","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-scatter","tooltip"],"customTags":[],"updaterUserName":"卧***竹"}}