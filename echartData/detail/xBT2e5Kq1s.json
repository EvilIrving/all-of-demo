{"status":0,"data":{"cid":"xBT2e5Kq1s","authorUid":"bd-4247900075","authorUserName":"w***s","title":"会动的柱图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-10-16T06:56:53.000Z","lastUpdateTime":"2020-10-16T06:58:34.000Z","auth":2,"uid":"bd-4247900075","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-17T16:57:22.000Z","code":"var xData = function() {\n    var data = [];\n    for (var i =1; i < 8; i++) {\n        data.push(i + \"\");\n    }\n    return data;\n  }();\n\noption = {\nanimationDuration: function (idx) {\n    // 越往后的数据时长越大\n    return idx * 10000;\n},\n      \"tooltip\": {\n          \"trigger\": \"axis\",\n          \"axisPointer\": {\n              \"type\": \"shadow\",\n              textStyle: {\n                  color: \"#fff\"\n              }\n  \n          },\n      },\n    \"grid\": {\n        \"borderWidth\": 0,\n        \"top\": 110,\n        \"bottom\": 75,\n        textStyle: {\n            color: \"#fff\"\n        }\n    },\n    \"legend\": {\n        x: '4%',\n        top: 45,\n        textStyle: {\n            color: '#fff',\n        },\n    },\n  \n  \n    \"calculable\": true,\n    \"xAxis\": [\n        {\n        \"type\": \"category\",\n        \"axisLine\": {\n            lineStyle: {\n              color: 'rgba(47,123,251,1)'\n            }\n        },\n        \"splitLine\": {\n            \"show\": false\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"splitArea\": {\n            \"show\": false\n        },\n        \"axisLabel\": {\n            \"interval\": 0,\n            textStyle: {\n              color: '#fff',\n              fontWeight: 'normal',\n              fontSize: '12',\n          },\n  \n        },\n        \"data\": xData,\n    },\n    {\n      type: 'category',\n      axisLine: {\n          show:false\n      },\n      axisTick: {\n          show: false\n      },\n      axisLabel: {\n          show: false\n      },\n      splitArea: {\n          show: false\n      },\n      splitLine: {\n          show: false\n      },\n  \n  },\n    {\n      type: 'category',\n      axisLine: {\n          show:false\n      },\n      axisTick: {\n          show: false\n      },\n      axisLabel: {\n          show: false\n      },\n      splitArea: {\n          show: false\n      },\n      splitLine: {\n          show: false\n      },\n  \n  }\n  ],\n    \"yAxis\": [{\n        \"type\": \"value\",\n        \"splitLine\": {\n            \"show\": false\n        },\n        \"axisLine\": {\n            lineStyle: {\n                color: 'rgba(47,123,251,1)'\n            }\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"axisLabel\": {\n            \"interval\": 0,\n            textStyle: {\n              color: '#fff',\n              fontWeight: 'normal',\n              fontSize: '12',\n          },\n           \n        },\n        \"splitArea\": {\n            \"show\": false\n        },\n  \n    }],\n    \"series\": [\n        \n        {\n          \"name\": \"昨日额定产能\",\n          \"type\": \"bar\",\n          stack: \"今日\", \n          barWidth: 13,\n          \"barMaxWidth\": 20,\n        \"itemStyle\": {\n            \"normal\": {\n              color: \"rgb(47,123,251)\",\n                \"label\": {\n                    \"show\": false,\n                    \"textStyle\": {\n                        \"color\": \"#fff\"\n                    },\n                    \"position\": \"insideTop\",\n                    formatter: function(p) {\n                        return p.value > 0 ? (p.value) : '';\n                    }\n                }\n            }\n        },\n        \"label\": {\n          \"show\": false,\n          \"position\": \"top\",\n          formatter: function(p) {\n              return p.value > 0 ? (p.value) : '';\n          }\n      },\n      z:6,\n        \"data\": [\n           19,\n          33,\n          15,\n          16,\n          22,\n          22,\n          12,\n          \n        ],\n    },\n    {\n      \"name\": \"昨日计划产能\",\n      \"type\": \"bar\",\n        stack: \"产能\",\n        xAxisIndex: 1,\n      //   barGap: '-100%',\n        barWidth: 13,\n        \"itemStyle\": {\n            show: true,\n            \"normal\": {\n              color: \"rgba(0,216,191,1)\",\n              \n            }\n        },\n        \"label\": {\n          \"show\": true,\n          align:'right',\n          \"position\": \"top\",\n          formatter: function(p) {\n                //  return(series[0].data[p.dataIndex] +'/'+p.value) \n                 return(p.value +'/'+p.value) \n          }\n      },\n        \"data\": [                                      \n            29,\n              43,\n              25,\n              26,\n              32,\n              32,\n              22,\n            \n             \n        ]\n    }, \n        {\n          \"name\": \"昨日实际产能\",\n          \"type\": \"line\",\n          symbolSize:10,\n          symbol:'circle',\n            \"itemStyle\": {\n                \"normal\": {\n                    color: \"rgba(136,161,204,1)\",\n                    \"barBorderRadius\": 0,\n                    \"label\": {\n                        \"show\": true,\n                        \"position\": \"top\",\n                        formatter: function(p) {\n                            return p.value > 0 ? (p.value) : '';\n                        }\n                    }\n                }\n            },\n            z:6,\n            \"data\": [\n                 98,\n              99,\n              91,\n              91,\n              98,\n              99,\n              96,\n             \n             \n            ]\n        },\n        {\n          \"name\": \"今日额定产能\",\n          \"type\": \"bar\",\n          // stack: \"产能\", \n          barWidth: 13,\n          z:6,\n          \"barMaxWidth\": 20,\n          // \"barGap\": \"10%\",\n        \"itemStyle\": {\n            \"normal\": {\n              color: \"rgba(14,29,232,1)\",\n                // \"label\": {\n                //     \"show\": false,\n                //     \"textStyle\": {\n                //         \"color\": \"#fff\"\n                //     },\n                //     \"position\": \"insideTop\",\n                //     formatter: function(p) {\n                //         return p.value > 0 ? (p.value) : '';\n                //     }\n                // }\n            },\n  \n        },\n        \"label\": {\n          \"show\": false,\n          \"textStyle\": {\n              \"color\": \"#fff\"\n          },\n          \"position\": \"insideTop\",\n          formatter: function(p) {\n              return p.value > 0 ? (p.value) : '';\n          }\n      }, \n   \n        \"data\": [\n           19,\n          33,\n          15,\n          16,\n          22,\n          22,\n          12,\n         \n          \n        ],\n    },\n  \n        {\n          \"name\": \"今日计划产能\",\n          \"type\": \"bar\",\n           xAxisIndex: 1,\n           barWidth: 13,\n          // \"stack\": \"定额总量\",\n            \"itemStyle\": {\n                \"normal\": {\n                  color: \"rgba(64,171,211,1)\",\n                    \"barBorderRadius\": 0,\n                    \"label\": {\n                        \"show\": true,\n                        \"position\": \"top\",\n                        formatter: function(p) {\n                            return(p.value +'/'+p.value) \n                        }\n                    }\n                }\n            },\n            \"data\": [\n              39,\n              53,\n              35,\n              36,\n              42,\n              42,\n              32,\n             \n             \n            ]\n        }, \n        {\n          \"name\": \"今日实际产能\",\n          \"type\": \"line\",\n          \n          symbolSize:10,\n          symbol:'circle',\n            \"itemStyle\": {\n                \"normal\": {\n                  color: \"#3361d8\",\n                    \"barBorderRadius\": 0,\n                    \"label\": {\n                        \"show\": true,\n                        \"position\": \"top\",\n                        formatter: function(p) {\n                            return p.value > 0 ? (p.value) : '';\n                        }\n                    }\n                }\n            },\n            z:6,\n            \"data\": [\n               68,\n              79,\n              61,\n              71,\n              68,\n              79,\n              76,\n             \n             \n           \n            ]\n        },\n    ]\n   \n};\n             \n       option.timeTicket = setInterval(function(){\n                 var data0 =  option.series[0].data;\n                 var data1 =  option.series[1].data;\n                 var data2 =  option.series[2].data;\n                 var data3 =  option.series[3].data;\n                 var data4 =  option.series[4].data;\n                 var data5 =  option.series[5].data;\n                 var kk =     option.xAxis[0].data;\n                var p1 = data0.shift();\n                data0.push(p1);\n\n                var p2 = data1.shift();\n                data1.push(p2);\n\n                var p3 = data2.shift();\n                data2.push(p3);\n\n                var p4 = data3.shift();\n                data3.push(p2);\n\n                var p5 = data4.shift();\n                data4.push(p5);\n\n                var p6 = data5.shift();\n                data5.push(p6);\n\n                var k1 = kk.shift();\n                kk.push(k1);\n\n                // var k2 = qq .shift();\n                // kk.push(k2);\n              myChart.setOption(option);\n         },10000)","html":"","externalScripts":"","updaterUID":"bd-4247900075","theme":"dark","layout":"","viewCount":647,"userName":"w***s","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBT2e5Kq1s.png?v=1602953842229","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"w***s"}}