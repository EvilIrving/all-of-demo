{"status":0,"data":{"cid":"xoWhRoB6na","authorUid":"obd-oPL-y2DVp_yt9R6F5ctN0kSV6Obi_95","authorUserName":"达***飞","title":"动态柱状图0。1","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-29T03:40:02.000Z","lastUpdateTime":"2020-10-29T03:40:02.000Z","auth":1,"uid":"obd-oPL-y2DVp_yt9R6F5ctN0kSV6Obi_95","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-29T03:40:02.000Z","code":"var areaList = [\r\n    \"三元里街道\", \"松洲街道\", \"景泰街道\",\r\n    \"同德街道\", \"黄石街道\", \"棠景街道\",\r\n    \"新市街道\", \"同和街道\", \"京溪街道\",\r\n    \"永平街道\", \"嘉禾街道\", \"均禾街道\",\r\n    \"石井街道\", \"金沙街道\", \"云城街道\",\r\n    \"鹤龙街道\", \"白云湖街道\", \"石门街道\",\r\n    \"人和镇\", \"太和镇\", \"钟落潭镇\", \"江高镇\"\r\n];\r\n\r\nvar arr = [1, 1, 1, 2, 1, 1, 2, 0, 1, 2, 0, 1, 2, 1, 2,\r\n    1, 1, 2, 1, 1, 2\r\n];\r\nvar arr2 = [1, 1, 1, 2, 1, 1, 2, 0, 1, 2, 0, 1, 2, 1, 2,\r\n    1, 1, 2, 1, 1, 2\r\n];\r\nvar arr3 = [1, 1, 1, 2, 1, 1, 2, 0, 1, 2, 0, 1, 2, 1, 2,\r\n    1, 1, 2, 1, 1, 2\r\n];\r\nvar arr4 = [1, 1, 1, 2, 1, 1, 2, 0, 1, 2, 0, 1, 2, 1, 2,\r\n    1, 1, 2, 1, 1, 2\r\n];\r\nvar arr5 = [1, 1, 1, 2, 1, 1, 2, 0, 1, 2, 0, 1, 2, 1, 2,\r\n    1, 1, 2, 1, 1, 2\r\n];\r\n\r\nvar displayNum = screen.width > 1500 ? 25 : 7; //每次显示数据条数\r\nvar groupNum = Math.ceil(arr.length / displayNum);\r\nvar arrGroup = [];\r\nvar arrGroup2 = [];\r\nvar arrGroup3 = [];\r\nvar arrGroup4 = [];\r\nvar arrGroup5 = [];\r\nfor (var i = 0; i < arr.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup.push(arr.slice(i, i + displayNum));\r\n}\r\nfor (var i = 0; i < arr2.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup2.push(arr2.slice(i, i + displayNum));\r\n}\r\nfor (var i = 0; i < arr3.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup3.push(arr3.slice(i, i + displayNum));\r\n}\r\nfor (var i = 0; i < arr4.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup4.push(arr4.slice(i, i + displayNum));\r\n}\r\nfor (var i = 0; i < arr5.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup5.push(arr5.slice(i, i + displayNum));\r\n}\r\nvar areaGroup = [];\r\nfor (var i = 0; i < areaList.length; i += displayNum) { //区域名称按个数分组存储\r\n    areaGroup.push(areaList.slice(i, i + displayNum));\r\n}\r\nvar groupOption = [];\r\nfor (var i = 0; i < groupNum; i++) {\r\n    var temp = {\r\n        yAxis: [{\r\n            type: 'category',\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0,\r\n                // textStyle: {\r\n                //     color: '#ccc'\r\n                // }\r\n                textStyle: {\r\n                    color: '#7e878e',\r\n                    fontSize: 12\r\n                }\r\n\r\n            },\r\n            data: areaGroup[i]\r\n        }],\r\n        series: [{\r\n                name: '低保低收入',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                barWidth: 15,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#0DC758',\r\n\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 10,\r\n                data: arrGroup[i]\r\n            },\r\n            {\r\n                name: '特困',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#1AF1DB'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 5,\r\n                data: arrGroup2[i]\r\n            },\r\n            {\r\n                name: '计生',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#1AADF1'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 3,\r\n                data: arrGroup3[i]\r\n            },\r\n            {\r\n                name: '独居老人',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#A31AF1'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 2,\r\n                data: arrGroup4[i]\r\n            },\r\n            {\r\n                name: '独居智障人员',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#FF9600'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 1,\r\n                data: arrGroup5[i]\r\n            }\r\n        ]\r\n        // xAxis: [{\r\n        //     type: 'category',\r\n        //     axisLabel: {\r\n        //         show: true,\r\n        //         textStyle: {\r\n        //             color: '#7e878e',\r\n        //             fontSize: 12\r\n        //         },\r\n        //         interval: 0,\r\n        //         rotate: displayNum > 13 ? 25 : 0, //数据超过13条时，横坐标标签斜置\r\n        //     },\r\n        //     data: areaGroup[i],\r\n        //     splitLine: {\r\n        //         show: false\r\n        //     },\r\n\r\n        // }],\r\n        // series: [{\r\n        //     data: arrGroup[i]\r\n        // }, ]\r\n    };\r\n    groupOption.push(temp);\r\n}\r\n\r\n\r\noption = {\r\n    baseOption: {\r\n        timeline: {\r\n            // y: 0,\r\n            axisType: 'category',\r\n            //yAxisType: 'category',\r\n            // realtime: false,\r\n            // loop: false,\r\n            autoPlay: true,\r\n            // currentIndex: 2,\r\n            playInterval: 2000,\r\n            // controlStyle: {\r\n            //     position: 'left'\r\n            // },\r\n            data: areaGroup,\r\n            label: {\r\n                formatter: function(s) {\r\n                    return '';\r\n                },\r\n                \r\n            },\r\n            // show:false\r\n        },\r\n        legend: {\r\n            data: ['低保低收入', '特困', '计生', '独居老人', '独居智障人员'],\r\n            top: 10,\r\n            left: 0,\r\n            itemWidth: 8,\r\n            itemHeight: 8,\r\n            textStyle: {\r\n                color: ['#0DC758', '#0EB1AD', '#178DCE', '#AE2AF5', '#FE9601'],\r\n                fontSize: 10\r\n            }\r\n        },\r\n        grid: {\r\n            left: '0',\r\n            right: '10',\r\n            bottom: '50',\r\n            top: '15%',\r\n            containLabel: true\r\n        },\r\n        title: {\r\n            subtext: ''\r\n        },\r\n        tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n            }\r\n        },\r\n        calculable: true,\r\n        // grid: {\r\n        //     top: 80,\r\n        //     bottom: 100\r\n        // },\r\n        xAxis: [{\r\n            type: 'value',\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            }\r\n        }],\r\n        yAxis: [{\r\n            type: 'category',\r\n            data: areaList,\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0,\r\n                textStyle: {\r\n                    color: '#ccc'\r\n                }\r\n            },\r\n        }],\r\n        series: [{\r\n                name: '低保低收入',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                barWidth: 15,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#0DC758',\r\n\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 10,\r\n                data: arr\r\n            },\r\n            {\r\n                name: '特困',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#1AF1DB'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 5,\r\n                data: arr2\r\n            },\r\n            {\r\n                name: '计生',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#1AADF1'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 3,\r\n                data: arr3\r\n            },\r\n            {\r\n                name: '独居老人',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#A31AF1'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 2,\r\n                data: arr4\r\n            },\r\n            {\r\n                name: '独居智障人员',\r\n                type: 'bar',\r\n                stack: '总量',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#FF9600'\r\n                    }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'insideRight'\r\n                    }\r\n                },\r\n                z: 1,\r\n                data: arr5\r\n            }\r\n        ]\r\n    },\r\n    options: groupOption,\r\n};","html":"","externalScripts":"","updaterUID":"obd-oPL-y2DVp_yt9R6F5ctN0kSV6Obi_95","theme":"","layout":"","viewCount":245,"userName":"达***飞","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoWhRoB6na.png?v=1603942802582","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","timeline","title","tooltip"],"customTags":[],"updaterUserName":"达***飞"}}