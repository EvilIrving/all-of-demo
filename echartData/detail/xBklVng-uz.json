{"status":0,"data":{"cid":"xBklVng-uz","authorUid":"bd-1864516252","authorUserName":"W还没睡醒","title":"","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-02-26T03:16:56.000Z","lastUpdateTime":"2018-02-26T03:16:56.000Z","auth":2,"uid":"bd-1864516252","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.8.0","versionCreateTime":"2018-02-26T07:02:55.000Z","code":"var data = {\n    ProductionTime: 69222, //     \"生产时间\"     DB7.REAL256 ,   float\n    MonthProductionTime: 22, // \"月生产时间\"   DB50.REAL180 ,  float\n    YearProductionTime: 125, //   \"年生产时间\"   DB50.REAL184 ,  float\n    TotalProductionTime: 888, //  \"总生产时间\"   DB50.REAL188 ,  float\n};\n\nvar gauge_name = '运行时间';\nvar min = 0;\n\nfunction getcolor(value, max) {\n    let color;\n    let percent = value / max;\n    if (percent < 0.2) {\n        color = '#9CD6CE';\n    } else if (percent < 0.4) {\n        color = '#7CBB55';\n    } else if (percent < 0.6) {\n        color = '#DDBD4D';\n    } else if (percent < 0.8) {\n        color = '#E98E2C';\n    } else {\n        color = '#E43F3D';\n    }\n    return [percent, color];\n}\n\nvar day = {\n    value: data.ProductionTime,\n    unit: '秒',\n    color: getcolor(data.ProductionTime, 86400),\n    max: 86400\n};\nvar month = {\n    value: data.MonthProductionTime,\n    color: getcolor(data.MonthProductionTime, 31),\n    unit: '天',\n    max: 31\n};\nvar year = {\n    value: data.YearProductionTime,\n    color: getcolor(data.YearProductionTime, 366),\n    unit: '天',\n    max: 366\n};\nvar total = {\n    value: data.TotalProductionTime,\n    color: getcolor(data.TotalProductionTime, Math.ceil(data.TotalProductionTime * 1.1)),\n    unit: '天',\n    max: Math.ceil(data.TotalProductionTime * 1.1)\n};\n\nvar ProductionColor = getcolor(data.ProductionTime);\nvar ProductionUnit = getcolor(data.ProductionTime);\noption = {\n    baseOption: {\n        timeline: {\n            // y: 0,\n            axisType: 'category',\n            // realtime: false,\n            // loop: false,\n            autoPlay: true,\n            // currentIndex: 2,\n            playInterval: 5000,\n            data: ['日', '月', '年', '总']\n        },\n        series: [{\n                name: gauge_name,\n                type: 'gauge',\n                startAngle: 180,\n                endAngle: 0,\n                radius: 116,\n                splitNumber: 1,\n                center: ['50%', '68%'], // 默认全局居中  \n                min: min,\n                axisLine: {\n                    show: false,\n                    lineStyle: {\n                        width: 45,\n                        shadowBlur: 0,\n                        color: [\n                            [1, '#ccc']\n                        ]\n                    }\n                },\n                axisTick: {\n                    show: false,\n                },\n                splitLine: {\n                    show: false,\n                    length: 20\n                },\n                axisLabel: {\n                    show: true,\n                    padding: [20, 0, 0, 0],\n                    fontSize: 12,\n                    distance: -2\n                },\n                pointer: {\n                    show: false\n                },\n                detail: {\n                    offsetCenter: [0, -15],\n                    textStyle: {\n                        fontSize: 34,\n                        fontWeight: '',\n                        color: '#ccc'\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        color: \"#323232\",\n                    }\n                }\n            },\n            {\n                name: gauge_name,\n                type: 'gauge',\n                startAngle: 180,\n                endAngle: 0,\n                radius: 116,\n                center: ['50%', '68%'], // 默认全局居中  \n                min: min,\n                axisLine: {\n                    show: false,\n                    lineStyle: {\n                        width: 45,\n                        shadowBlur: 0\n                    }\n                },\n                axisTick: {\n                    show: false,\n                },\n                splitLine: {\n                    show: false,\n                },\n                axisLabel: {\n                    show: false,\n                },\n                pointer: {\n                    show: false\n                },\n                detail: {\n                    show: false\n                },\n                itemStyle: {\n                    normal: {\n                        color: \"#323232\",\n                    }\n                },\n            }\n        ]\n    },\n    options: [{\n            series: [{\n                    max: day.max,\n                    detail: {\n                        formatter: function(value) {\n                            return value + day.unit;\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(day.value)\n                    }]\n                },\n                {\n                    max: day.max,\n                    axisLine: {\n                        lineStyle: {\n                            color: [day.color, [1, '#ccc']]\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(day.value)\n                    }]\n                }\n            ]\n        },\n        {\n            series: [{\n                    max: month.max,\n                    detail: {\n                        formatter: function(value) {\n                            return value + month.unit;\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(month.value)\n                    }]\n                },\n                {\n                    max: month.max,\n                    axisLine: {\n                        lineStyle: {\n                            color: [month.color, [1, '#ccc']]\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(month.value)\n                    }]\n                }\n            ]\n        },\n        {\n            series: [{\n                    max: year.max,\n                    detail: {\n                        formatter: function(value) {\n                            return value + year.unit;\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(year.value)\n                    }]\n                },\n                {\n                    max: year.max,\n                    axisLine: {\n                        lineStyle: {\n                            color: [year.color, [1, '#ccc']]\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(year.value)\n                    }]\n                }\n            ]\n        },\n        {\n            series: [{\n                    max: total.max,\n                    detail: {\n                        formatter: function(value) {\n                            return value + total.unit;\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(total.value)\n                    }]\n                },\n                {\n                    max: total.max,\n                    axisLine: {\n                        lineStyle: {\n                            color: [total.color, [1, '#ccc']]\n                        }\n                    },\n                    data: [{\n                        name: \"\",\n                        value: Math.floor(total.value)\n                    }]\n                }\n            ]\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1864516252","theme":"","layout":"","viewCount":2234,"userName":"W还没睡醒","commentCount":1,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBklVng-uz.png?v=1519628575531","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","timeline"],"customTags":[],"updaterUserName":"W还没睡醒"}}