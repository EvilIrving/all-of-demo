{"status":0,"data":{"cid":"xgJTol4qbH","authorUid":"obd-o0SqPNioboEychTDfRKBPgxKl4fmfFk","authorUserName":"187*****205","title":"2019全国省市GDP","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2020-12-15T10:35:56.000Z","lastUpdateTime":"2020-12-15T10:35:56.000Z","auth":2,"uid":"obd-o0SqPNioboEychTDfRKBPgxKl4fmfFk","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-17T03:27:09.000Z","code":"\r\nvar name_title = \"2019年全国省市GDP\"\r\nvar subname = '数据来源：百度城市GDP贴吧\\n，\\n单位：(亿元)'\r\nvar nameColor = \" #663366\"\r\nvar name_fontFamily = '等线'\r\nvar subname_fontSize = 15\r\nvar name_fontSize = 26\r\nvar mapName = 'china'\r\nvar data = [\r\n    {name:\"北京\",value:35371.3},\r\n    {name:\"天津\",value:14104.28},\r\n    {name:\"河北\",value:35104.5},\r\n    {name:\"山西\",value:17026.68},\r\n    {name:\"内蒙古\",value:17212.5},\r\n    {name:\"辽宁\",value:24909.5},\r\n    {name:\"吉林\",value:11726.8},\r\n    {name:\"黑龙江\",value:13612.7},\r\n    {name:\"上海\",value:38155.32},\r\n    {name:\"江苏\",value:99631.52},\r\n    {name:\"浙江\",value:62352},\r\n    {name:\"安徽\",value:37114},\r\n    {name:\"福建\",value:42395},\r\n    {name:\"江西\",value:34757.5},\r\n    {name:\"山东\",value:71067.5},\r\n    {name:\"河南\",value:54259.2},\r\n    {name:\"湖北\",value:45828.31},\r\n    {name:\"湖南\",value:39752.12},\r\n    {name:\"重庆\",value:23605.77},\r\n    {name:\"四川\",value:46615.82},\r\n    {name:\"贵州\",value:16769.34},\r\n    {name:\"云南\",value:23223.75},\r\n    {name:\"西藏\",value:1697.82},\r\n    {name:\"陕西\",value:25793.17},\r\n    {name:\"甘肃\",value:8718.3},\r\n    {name:\"青海\",value:2965.95},\r\n    {name:\"宁夏\",value:3748.48},\r\n    {name:\"新疆\",value:13597.11},\r\n    {name:\"广东\",value:107671.07},\r\n    {name:\"广西\",value:21237.14},\r\n    {name:\"海南\",value:5308.94},\r\n    ];\r\n    \r\nvar geoCoordMap = {};\r\nvar toolTipData = [ \r\n   {name:\"北京\",value:35371.3},\r\n    {name:\"天津\",value:14104.28},\r\n    {name:\"河北\",value:35104.5},\r\n    {name:\"山西\",value:17026.68},\r\n    {name:\"内蒙古\",value:17212.5},\r\n    {name:\"辽宁\",value:24909.5},\r\n    {name:\"吉林\",value:11726.8},\r\n    {name:\"黑龙江\",value:13612.7},\r\n    {name:\"上海\",value:38155.32},\r\n    {name:\"江苏\",value:99631.52},\r\n    {name:\"浙江\",value:62352},\r\n    {name:\"安徽\",value:37114},\r\n    {name:\"福建\",value:42395},\r\n    {name:\"江西\",value:34757.5},\r\n    {name:\"山东\",value:71067.5},\r\n    {name:\"河南\",value:54259.2},\r\n    {name:\"湖北\",value:45828.31},\r\n    {name:\"湖南\",value:39752.12},\r\n    {name:\"重庆\",value:23605.77},\r\n    {name:\"四川\",value:46615.82},\r\n    {name:\"贵州\",value:16769.34},\r\n    {name:\"云南\",value:23223.75},\r\n    {name:\"西藏\",value:1697.82},\r\n    {name:\"陕西\",value:25793.17},\r\n    {name:\"甘肃\",value:8718.3},\r\n    {name:\"青海\",value:2965.95},\r\n    {name:\"宁夏\",value:3748.48},\r\n    {name:\"新疆\",value:13597.11},\r\n    {name:\"广东\",value:107671.07},\r\n    {name:\"广西\",value:21237.14},\r\n    {name:\"海南\",value:5308.94},\r\n];\r\n\r\n/*获取地图数据*/\r\nmyChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\n\r\nconsole.log(data)\r\nconsole.log(toolTipData)\r\nvar max = 12000,\r\n    min = 10; // todo \r\nvar maxSize4Pin = 8,\r\n    minSize4Pin = 3;\r\n\r\nvar convertData = function (data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\noption = {\r\n    title: {\r\n        text: name_title,\r\n        subtext: subname,\r\n        x: 'center',\r\n        textStyle: {\r\n            color: nameColor,\r\n            fontFamily: name_fontFamily,\r\n            fontSize: name_fontSize\r\n        },\r\n        subtextStyle:{\r\n            fontSize:subname_fontSize,\r\n            fontFamily:name_fontFamily\r\n        }\r\n    },\r\n   tooltip: {\r\n            trigger: 'item',\r\n            formatter: function (params) {\r\n              if(typeof(params.value)[2] == \"undefined\"){\r\n              \treturn params.name + ' : ' + params.value;\r\n              }else{\r\n              \treturn params.name + ' : ' + params.value[2];\r\n              }\r\n            }\r\n        },\r\n    \r\n    visualMap: {\r\n        show: true,\r\n        min: 1500,\r\n        max: 120000,\r\n        left: 'left',\r\n        top: 'bottom',\r\n        text: ['高', '低'], // 文本，默认为数值文本\r\n        calculable: true,\r\n        seriesIndex: [1],\r\n        inRange: {\r\n             color: ['#600060', '#FFFFFF'] //紫白\r\n         \r\n        }\r\n    },\r\n    /*工具按钮组*/\r\n    // toolbox: {\r\n    //     show: true,\r\n    //     orient: 'vertical',\r\n    //     left: 'right',\r\n    //     top: 'center',\r\n    //     feature: {\r\n    //         dataView: {\r\n    //             readOnly: false\r\n    //         },\r\n    //         restore: {},\r\n    //         saveAsImage: {}\r\n    //     }\r\n    // },\r\n    geo: {\r\n        show: true,\r\n        map: mapName,\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        roam: true,\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#031525',\r\n                borderColor: '#3B5077',\r\n            },\r\n            emphasis: {\r\n                areaColor: '#CC99CC',\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: '散点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function(val) {\r\n                return val[2] / 4000;\r\n            },\r\n         \r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FF9900'\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: 'map',\r\n            map: mapName,\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            encode:{\r\n              value:2\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            \r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#DD78DD'\r\n                }\r\n            },\r\n            animation: false,\r\n            data: data\r\n        },\r\n        {\r\n            name: '点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin', //气泡\r\n            encode:{\r\n              value:2\r\n            },\r\n            symbolSize: function(val) {\r\n                var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n                var b = minSize4Pin - a * min;\r\n                b = maxSize4Pin - a * max;\r\n                return a * val[2] + b;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 9,\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FF0000', //标志颜色\r\n                }\r\n            },\r\n            zlevel: 6,\r\n            data: convertData(data),\r\n        },\r\n        {\r\n            name: 'Top 5',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data.sort(function(a, b) {\r\n                return b.value - a.value;\r\n            }).slice(0, 5)),\r\n            symbolSize: function(val) {\r\n                return val[2] / 4000;\r\n            },\r\n          \r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'yellow',\r\n                    shadowBlur: 10,\r\n                    shadowColor: 'yellow'\r\n                }\r\n            },\r\n            zlevel: 1\r\n        },\r\n\r\n    ]\r\n};\r\nmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-o0SqPNioboEychTDfRKBPgxKl4fmfFk","theme":"","layout":"","viewCount":116,"userName":"187*****205","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xgJTol4qbH.png?v=1608175629252","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"187*****205"}}