{"status":0,"data":{"cid":"xiJwhiEk67","authorUid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","authorUserName":"林***影","title":"雷达图排名","description":"雷达图排名","latestVersion":2,"alwaysLatest":0,"createTime":"2021-07-07T03:08:26.000Z","lastUpdateTime":"2021-07-07T03:13:12.000Z","auth":2,"uid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-07T03:13:12.000Z","code":"const payload = {\n    id: 'right-bottom',\n    title: ['排名1', '排名2'],\n    color: ['65, 111, 250', '230, 116, 60'],\n    wordNum: 5,\n    data: {\n        position: 'left',\n        legend: ['温州排名', '参照排名'],\n        data1: [7, 4.5, 8, 6.5, 11, 9],\n        data2: [4, 10, 2, 1, 5.5, 3],\n        x: [\n            '项目1',\n            '项目2',\n            '项目3',\n            '项目4',\n            '项目5',\n            '项目6',\n        ],\n        indicator: [\n            { max: 11, min: 1, name: '项目1', color: '#c3e1fb' },\n            { max: 11, min: 1, name: '项目2', color: '#c3e1fb' },\n            { max: 11, min: 1, name: '项目3', color: '#c3e1fb' },\n            { max: 11, min: 1, name: '项目4', color: '#c3e1fb' },\n            { max: 11, min: 1, name: '项目5', color: '#c3e1fb' },\n            { max: 11, min: 1, name: '项目6', color: '#c3e1fb' },\n        ],\n    },\n};\n\nconst color = payload.color\nconst wordNum = payload.wordNum\n\nconst indicator =\n    payload.data.indicator ||\n    payload.data.x.map(item => ({\n        name: item\n    }))\nconst data1 = payload.data.data1 || []\nconst data2 = payload.data.data2 || []\nconst data3 = payload.data.data3 || []\nconst data4 = payload.data.data4 || []\n\nlet reversalData1 = []\nif (data1.length > 0) {\n    reversalData1 = data1.map(item => (11 - item + 1).toFixed(1))\n}\nlet reversalData2 = []\nif (data2.length > 0) {\n    reversalData2 = data2.map(item => (11 - item + 1).toFixed(1))\n}\nlet reversalData3 = []\nif (data3.length > 0) {\n    reversalData3 = data3.map(item => (11 - item + 1).toFixed(1))\n}\nlet reversalData4 = []\nif (data4.length > 0) {\n    reversalData4 = data4.map(item => (11 - item + 1).toFixed(1))\n}\n\nconst position = payload.data.position || 'left'\n\nconst formatter = (params, wordNum) => {\n    if (!wordNum) return params\n    let newParamsName = ''\n    const paramsNameNumber = params.length\n    const provideNumber = wordNum\n    const rowNumber = Math.ceil(paramsNameNumber / provideNumber)\n    if (paramsNameNumber > provideNumber) {\n        for (let p = 0; p < rowNumber; p++) {\n            let tempStr = ''\n            const start = p * provideNumber\n            const end = start + provideNumber\n            if (p === rowNumber - 1) {\n                tempStr = params.substring(start, paramsNameNumber)\n            } else {\n                tempStr = params.substring(start, end) + '\\n'\n            }\n            newParamsName += tempStr\n        }\n    } else {\n        newParamsName = params\n    }\n    return newParamsName\n}\n\noption = {\n    normal: {\n        top: 300,\n        left: 300,\n        width: 500,\n        height: 400,\n        zIndex: 6,\n        backgroundColor: 'transparent'\n    },\n    color: ['rgba(' + color[0] + ', 1)', 'rgba(' + color[1] + ', 1)'],\n    title: {\n        show: false,\n        text: '基础雷达图',\n        left: 'center',\n        top: '1%',\n        textStyle: {\n            fontSize: 18,\n            color: '#293C55',\n            fontStyle: 'normal',\n            fontWeight: 'normal'\n        }\n    },\n    tooltip: {\n        show: true,\n        backgroundColor: 'rgba(9, 30, 60, 0.6)',\n        extraCssText: 'box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;',\n        borderWidth: 0,\n        confine: false,\n        appendToBody: true,\n        textStyle: {\n            color: '#fff',\n            fontSize: 10\n        },\n        position,\n        formatter: data => {\n            var tip = '<h5 class=\"echarts-tip-h5\">' + data.seriesName + '</h5>'\n            let tmpData\n            if (data.seriesIndex === 0) tmpData = data1\n            else if (data.seriesIndex === 1) tmpData = data2\n            else if (data.seriesIndex === 2) tmpData = data3\n            else if (data.seriesIndex === 3) tmpData = data4\n            data.data.forEach((item, index) => {\n                tip += '<div class=\"echarts-tip-div\">'\n                tip += '<div class=\"left\">' + data.marker + ' ' + payload.data.x[index] + '：</div>'\n                tip += '<div class=\"right\">第' + tmpData[index] + '名</div>'\n                tip += '</div>'\n            })\n            return tip\n        }\n    },\n    legend: {\n        show: true,\n        itemWidth: 10,\n        itemHeight: 3,\n        top: '2%',\n        right: 0,\n        orient: 'horizontal',\n        textStyle: {\n            fontSize: 12,\n            color: 'color'\n        },\n        data: payload.data.legend\n    },\n    radar: {\n        center: ['50%', '50%'],\n        radius: '60%',\n        startAngle: 90,\n        splitNumber: 4,\n        axisName: {\n            fontSize: 14,\n            formatter(params) {\n                return formatter(params, wordNum)\n            }\n        },\n        splitArea: {\n            areaStyle: {\n                color: ['transparent']\n            }\n        },\n        axisLabel: {\n            show: false,\n            fontSize: 18,\n            color: '#fff',\n            fontStyle: 'normal',\n            fontWeight: 'normal'\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgba(25, 111, 198, 0.4)' //\n            }\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgba(25, 111, 198, 0.4)' //\n            }\n        },\n        indicator,\n        triggerEvent: payload.id === 'center-bottom'\n    },\n    series: []\n}\n\nconst getRadar = (title, color, data) => {\n    return {\n        name: title,\n        type: 'radar',\n        symbol: 'circle',\n        symbolSize: 2,\n        areaStyle: {\n            color: 'rgba(' + color + ', 0.4)'\n        },\n        itemStyle: {\n            color: 'rgba(' + color + ', 1)',\n            borderColor: 'rgba(' + color + ', 0.7)',\n            borderWidth: 10\n        },\n        lineStyle: {\n            type: 'solid',\n            color: 'rgba(' + color + ', 1)',\n            width: 1\n        },\n        data: [data]\n    }\n}\n\nif (reversalData1 && reversalData1.length > 0) {\n    option.series.push(getRadar(payload.data.legend[0], color[0], reversalData1))\n}\nif (reversalData2 && reversalData2.length > 0) {\n    option.series.push(getRadar(payload.data.legend[1], color[1], reversalData2))\n}\nif (reversalData3 && reversalData3.length > 0) {\n    option.series.push(getRadar(payload.data.legend[2], color[2], reversalData3))\n}\nif (reversalData4 && reversalData4.length > 0) {\n    option.series.push(getRadar(payload.data.legend[3], color[3], reversalData4))\n}\n","html":"","externalScripts":"","updaterUID":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","theme":"","layout":"","viewCount":0,"userName":"林***影","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xiJwhiEk67.png?v=1625627592662","isCustomThumbnail":0,"builtinTags":["category-work","legend","radar","series-radar","title","tooltip"],"customTags":[],"updaterUserName":"林***影"}}