{"status":0,"data":{"cid":"xm73pCN2qf","authorUid":"bd-2435578046","authorUserName":"r***l","title":"横向柱状图轮播，定时器","description":"自动轮播，添加了定时器","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-17T11:36:47.000Z","lastUpdateTime":"2020-11-17T11:36:47.000Z","auth":2,"uid":"bd-2435578046","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-17T11:36:47.000Z","code":"var barData = {\n    yAxis: [\"-550m中段\", \"-160m中段\", \"-320m中段\", \"-360m中段\", \"-280m中段\", \"-120m中段\"],\n    xAxis: [4, 8, 9, 12, 13, 15]\n\n};\nvar timer1 = null;\nvar timer2 = null;\nvar xData = barData.xAxis;\nvar yData = barData.yAxis;\nvar xxData = xData.slice(0, 4);\nvar yyData = yData.slice(0, 4);\noption = {\n    backgroundColor:'#000',\n    title: {\n        text: \"异常监测点分布\",\n        textStyle: {\n            color: \"rgb(255, 255, 255)\",\n            fontSize: 42\n        },\n        textAlign: \"center\",\n        x: 400,\n        y: \"top\"\n    },\n    grid: {\n        left: '5%',\n        right: '8%',\n        top: '20%',\n        bottom: '3%',\n        containLabel: true\n    },\n    tooltip: {\n        trigger: \"axis\",\n        textStyle: {\n            fontSize: 50\n        }\n    },\n    xAxis: [{\n        axisLabel: {\n            color: '#ccc',\n            fontSize: '35'\n        },\n        type: \"value\"\n    }],\n    yAxis: [{\n        axisLabel: {\n            color: '#ccc',\n            fontSize: '35',\n            margin: 30,\n        },\n        type: \"category\",\n        axisLabel: {\n            show: true,\n            interval: 0,\n            shadowOffsetX: '-20px',\n            color: function(params) {\n                if (params == yyData[2]) {\n                    return \"#4dfd30\"\n                } else {\n                    return '#7ac4fc'\n                }\n            },\n            fontSize: 42,\n        },\n        data: yyData\n    }],\n    series: [{\n        type: \"bar\",\n        data: xxData,\n        barWidth: 20,\n        itemStyle: {\n            normal: {\n                barBorderRadius: 10,\n                label: {\n                    show: true,\n                    position: 'right',\n                    textStyle: {\n                        fontSize: 40,\n                        color: 'rgba(123,198 ,255)'\n                    }\n                },\n                color: function(param) {\n                    if (param.name == yyData[2]) {\n\n                        return new echarts.graphic.LinearGradient(1, 0, 0,\n                            0, [{\n                                    offset: 0,\n                                    color: 'rgba(77,253,48,1)'\n                                }, {\n                                    offset: 0.15,\n                                    color: 'rgba(77,253,48,0.5)'\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(77,253,48,0.1)'\n                                }\n                            ])\n                    } else {\n                        return new echarts.graphic.LinearGradient(1, 0, 0,\n                            0, [{\n                                    offset: 0,\n                                    color: 'rgba(61,126,235,1)'\n                                }, {\n                                    offset: 0.4,\n                                    color: 'rgba(123,198 ,255,0.5)'\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(123,198,255,0.1)'\n                                }\n                            ])\n                    }\n                },\n            }\n        },\n        z: 2\n    }],\n    color: [\"rgb(30, 144, 255)\"],\n    animation: true,\n    animationThreshold: 10000,\n    animationEasing: 'elasticOut',\n    quadraticIn: function(idx) {\n        return idx * idx;\n    }\n};\nsetTimeout(function() {\n    myChart.setOption(option);\n}, 1000);\nclearInterval(timer2);\ntimer2 = setInterval(function() {\n    var first1 = xData[0];\n    var first2 = yData[0];\n\n    xData.shift(first1);\n    xData.push(first1);\n    yData.shift(first2);\n    yData.push(first2);\n    var xxData = xData.slice(0, 4);\n    var yyData = yData.slice(0, 4);\n    myChart.setOption({\n        yAxis: [{\n            axisTick: 'none',\n            axisLine: 'none',\n            offset: '27',\n            axisLabel: {\n                show: true,\n                interval: 0,\n                shadowOffsetX: '-20px',\n                color: function(params) {\n                    if (params == yyData[2]) {\n                        return \"#4dfd30\"\n                    } else {\n                        return '#7ac4fc'\n                    }\n                },\n                fontSize: 42,\n            },\n\n            data: yyData\n        }],\n        series: [{\n            type: 'bar',\n            yAxisIndex: 0,\n            data: xxData,\n            itemStyle: {\n                barBorderRadius: 4,\n                color: function(param) {\n                    if (param.name == yyData[2]) {\n                        return new echarts.graphic\n                            .LinearGradient(1, 0, 0, 0, [{\n                                    offset: 0,\n                                    color: 'rgba(77,253,48,1)'\n                                }, {\n                                    offset: 0.15,\n                                    color: 'rgba(77,253,48,0.5)'\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(77,253,48,0.1)'\n                                }\n                            ])\n                    } else {\n                        return new echarts.graphic\n                            .LinearGradient(1, 0, 0, 0, [{\n                                    offset: 0,\n                                    color: 'rgba(61,126,235,1)'\n                                }, {\n                                    offset: 0.4,\n                                    color: 'rgba(123,198 ,255,0.5)'\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(123,198,255,0.1)'\n                                }\n                            ])\n                    }\n                },\n\n            },\n            z: 2\n        }, ],\n        animation: true,\n        animationThreshold: 10000,\n        animationEasing: 'elasticOut',\n        quadraticIn: function(idx) {\n            return idx * idx;\n        }\n    });\n}, 3000);","html":"","externalScripts":"","updaterUID":"bd-2435578046","theme":"","layout":"","viewCount":139,"userName":"r***l","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xm73pCN2qf.png?v=1605613007745","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"r***l"}}