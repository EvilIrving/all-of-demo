{"status":0,"data":{"cid":"xUKiD10WUZ","authorUid":"bd-779443","authorUserName":"乱***尚","title":"新疆","description":"新疆","latestVersion":5,"alwaysLatest":1,"createTime":"2019-05-08T07:15:28.000Z","lastUpdateTime":"2019-05-08T07:15:28.000Z","auth":2,"uid":"bd-779443","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-08T07:37:00.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1554002347900-5nK3UVARt.json\";\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('xj', geoJson);\r\n    var geoCoordMap = {\r\n        \"乌鲁木齐市\": [87.617733, 43.792818],\r\n        \"克拉玛依市\": [84.873946, 45.595886],\r\n        \"吐鲁番市\": [89.184078, 42.947613],\r\n        \"哈密市\": [93.51316, 42.833248],\r\n        \"昌吉回族自治州\": [87.304012, 44.014577],\r\n        \"博尔塔拉蒙古自治州\": [82.074778, 44.903258],\r\n        \"巴音郭楞蒙古自治州\": [86.150969, 41.768552],\r\n        \"阿克苏地区\": [80.265068, 41.170712],\r\n        \"克孜勒苏柯尔克孜自治州\": [76.172825, 39.713431],\r\n        \"喀什地区\": [75.989138, 39.467664],\r\n        \"伊犁哈萨克自治州\": [81.317946, 43.92186],\r\n        \"塔城地区\": [82.985732, 46.746301],\r\n        \"阿勒泰地区\": [88.13963, 47.848393],\r\n        \"石河子市\": [86.041075, 44.305886],\r\n        \"阿拉尔市\": [81.285884, 40.541914],\r\n        \"图木舒克市\": [79.077978, 39.867316],\r\n        \"五家渠市\": [87.526884, 44.167401],\r\n        \"北屯市\": [87.824932, 47.353177],\r\n        \"铁门关市\": [85.501218, 41.827251],\r\n        \"双河市\": [82.353656, 44.840524],\r\n        \"可克达拉市\": [80.63579, 43.6832],\r\n        \"和田地区\": [79.92533, 37.110687]\r\n    };\r\n    \r\n    var max = 480, min = 9; // todo \r\n    var maxSize4Pin = 100, minSize4Pin = 20;\r\n    \r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n\r\n    var data = [\r\n        [{\r\n            name: '乌鲁木齐市',\r\n            value: 100\r\n        }],\r\n        [{\r\n            name: '克拉玛依市',\r\n            value: 200\r\n        }],\r\n        [{\r\n            name: '吐鲁番市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '哈密市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '昌吉回族自治州',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '博尔塔拉蒙古自治州',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '巴音郭楞蒙古自治州',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '阿克苏地区',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '克孜勒苏柯尔克孜自治州',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '喀什地区',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '伊犁哈萨克自治州',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '塔城地区',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '阿勒泰地区',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '石河子市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '阿拉尔市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '图木舒克市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '五家渠市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '北屯市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '铁门关市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '双河市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '可克达拉市',\r\n            value: 0\r\n        }],\r\n        [{\r\n            name: '和田地区',\r\n            value: 0\r\n        }],\r\n    ];\r\n\r\n    option = {\r\n        backgroundColor: '#00265f',\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(params) {\r\n                return params.name;\r\n            }\r\n        },\r\n        geo: {\r\n            show: true,\r\n            map: 'xj',\r\n            roam: true,\r\n            zoom: 1,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: \"rgba(0,0,0,0)\",\r\n                    borderColor: \"#07c5d5\",\r\n                    borderWidth: 1.5,\r\n                    color: \"rgba(0,0,0,0)\",\r\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\r\n                    shadowBlur: 30\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7',\r\n                }\r\n            },\r\n        },\r\n        series: [{\r\n            type: 'map',\r\n            map: 'xj',\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7'\r\n                }\r\n            },\r\n            animation: false,\r\n            data: data\r\n        },{\r\n            name: '点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin',\r\n            symbolSize: function (val) {\r\n                var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n                var b = minSize4Pin - a*min;\r\n                b = maxSize4Pin - a*max;\r\n                return a*val[2]+b;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 9,\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#F62157', //标志颜色\r\n                }\r\n            },\r\n            zlevel: 6,\r\n            data: convertData(data),\r\n        },]\r\n    };\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-779443","theme":"","layout":"","viewCount":426,"userName":"乱***尚","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xUKiD10WUZ.png?v=1557301020760","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","tooltip"],"customTags":[],"updaterUserName":"乱***尚"}}