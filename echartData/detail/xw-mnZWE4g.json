{"status":0,"data":{"cid":"xw-mnZWE4g","authorUid":"obd-oMubyz7OLBQRQnUkAoo4JCDiWZBL-2N","authorUserName":"181*****283","title":"3d地图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-23T09:58:16.000Z","lastUpdateTime":"2021-11-23T09:58:16.000Z","auth":2,"uid":"obd-oMubyz7OLBQRQnUkAoo4JCDiWZBL-2N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-23T09:58:16.000Z","code":"var tip = \"/asset/get/s/data-1636941116822-WKsbit16V.png\";\nvar geoCoordMap = {\n    阿富汗: [67.709953, 33.93911],\n    安哥拉: [17.873887, -11.202692],\n    阿尔巴尼亚: [20.168331, 41.153332],\n    阿联酋: [53.847818, 23.424076],\n    阿根廷: [-63.61667199999999, -38.416097],\n    亚美尼亚: [45.038189, 40.069099],\n    法属南半球和南极领地: [69.348557, -49.280366],\n    澳大利亚: [133.775136, -25.274398],\n    奥地利: [14.550072, 47.516231],\n    阿塞拜疆: [47.576927, 40.143105],\n    布隆迪: [29.918886, -3.373056],\n    比利时: [4.469936, 50.503887],\n    贝宁: [2.315834, 9.30769],\n    布基纳法索: [-1.561593, 12.238333],\n    孟加拉国: [90.356331, 23.684994],\n    保加利亚: [25.48583, 42.733883],\n    巴哈马: [-77.39627999999999, 25.03428],\n    波斯尼亚和黑塞哥维那: [17.679076, 43.915886],\n    白俄罗斯: [27.953389, 53.709807],\n    伯利兹: [-88.49765, 17.189877],\n    百慕大: [-64.7505, 32.3078],\n    玻利维亚: [-63.58865299999999, -16.290154],\n    巴西: [-51.92528, -14.235004],\n    文莱: [114.727669, 4.535277],\n    不丹: [90.433601, 27.514162],\n    博茨瓦纳: [24.684866, -22.328474],\n    中非共和国: [20.939444, 6.611110999999999],\n    加拿大: [-106.346771, 56.130366],\n    瑞士: [8.227511999999999, 46.818188],\n    智利: [-71.542969, -35.675147],\n    中国: [104.195397, 35.86166],\n    象牙海岸: [-5.547079999999999, 7.539988999999999],\n    喀麦隆: [12.354722, 7.369721999999999],\n    刚果民主共和国: [21.758664, -4.038333],\n    刚果共和国: [15.827659, -0.228021],\n    哥伦比亚: [-74.297333, 4.570868],\n    哥斯达黎加: [-83.753428, 9.748916999999999],\n    古巴: [-77.781167, 21.521757],\n    北塞浦路斯: [33.429859, 35.126413],\n    塞浦路斯: [33.429859, 35.126413],\n    捷克共和国: [15.472962, 49.81749199999999],\n    德国: [10.451526, 51.165691],\n    吉布提: [42.590275, 11.825138],\n    丹麦: [9.501785, 56.26392],\n    多明尼加共和国: [-70.162651, 18.735693],\n    阿尔及利亚: [1.659626, 28.033886],\n    厄瓜多尔: [-78.18340599999999, -1.831239],\n    埃及: [30.802498, 26.820553],\n    厄立特里亚: [39.782334, 15.179384],\n    西班牙: [-3.74922, 40.46366700000001],\n    爱沙尼亚: [25.013607, 58.595272],\n    埃塞俄比亚: [40.489673, 9.145000000000001],\n    芬兰: [25.748151, 61.92410999999999],\n    斐: [178.065032, -17.713371],\n    福克兰群岛: [-59.523613, -51.796253],\n    法国: [2.213749, 46.227638],\n    加蓬: [11.609444, -0.803689],\n    英国: [-3.435973, 55.378051],\n    格鲁吉亚: [-82.9000751, 32.1656221],\n    加纳: [-1.023194, 7.946527],\n    几内亚: [-9.696645, 9.945587],\n    冈比亚: [-15.310139, 13.443182],\n    几内亚比绍: [-15.180413, 11.803749],\n    赤道几内亚: [10.267895, 1.650801],\n    希腊: [21.824312, 39.074208],\n    格陵兰: [-42.604303, 71.706936],\n    危地马拉: [-90.23075899999999, 15.783471],\n    法属圭亚那: [-53.125782, 3.933889],\n    圭亚那: [-58.93018, 4.860416],\n    洪都拉斯: [-86.241905, 15.199999],\n    克罗地亚: [15.2, 45.1],\n    海地: [-72.285215, 18.971187],\n    匈牙利: [19.503304, 47.162494],\n    印尼: [113.921327, -0.789275],\n    印度: [78.96288, 20.593684],\n    爱尔兰: [-8.24389, 53.41291],\n    伊朗: [53.688046, 32.427908],\n    伊拉克: [43.679291, 33.223191],\n    冰岛: [-19.020835, 64.963051],\n    以色列: [34.851612, 31.046051],\n    意大利: [12.56738, 41.87194],\n    牙买加: [-77.297508, 18.109581],\n    约旦: [36.238414, 30.585164],\n    日本: [138.252924, 36.204824],\n    哈萨克斯坦: [66.923684, 48.019573],\n    肯尼亚: [37.906193, -0.023559],\n    吉尔吉斯斯坦: [74.766098, 41.20438],\n    柬埔寨: [104.990963, 12.565679],\n    韩国: [127.766922, 35.907757],\n    科索沃: [20.902977, 42.6026359],\n    科威特: [47.481766, 29.31166],\n    老挝: [102.495496, 19.85627],\n    黎巴嫩: [35.862285, 33.854721],\n    利比里亚: [-9.429499000000002, 6.428055],\n    利比亚: [17.228331, 26.3351],\n    斯里兰卡: [80.77179699999999, 7.873053999999999],\n    莱索托: [28.233608, -29.609988],\n    立陶宛: [23.881275, 55.169438],\n    卢森堡: [6.129582999999999, 49.815273],\n    拉脱维亚: [24.603189, 56.879635],\n    摩洛哥: [-7.092619999999999, 31.791702],\n    摩尔多瓦: [28.369885, 47.411631],\n    马达加斯加: [46.869107, -18.766947],\n    墨西哥: [-102.552784, 23.634501],\n    马其顿: [21.745275, 41.608635],\n    马里: [-3.996166, 17.570692],\n    缅甸: [95.956223, 21.913965],\n    黑山: [19.37439, 42.708678],\n    蒙古: [103.846656, 46.862496],\n    莫桑比克: [35.529562, -18.665695],\n    毛里塔尼亚: [-10.940835, 21.00789],\n    马拉维: [34.301525, -13.254308],\n    马来西亚: [101.975766, 4.210484],\n    纳米比亚: [18.49041, -22.95764],\n    新喀里多尼亚: [165.618042, -20.904305],\n    尼日尔: [8.081666, 17.607789],\n    尼日利亚: [8.675277, 9.081999],\n    尼加拉瓜: [-85.207229, 12.865416],\n    荷兰: [5.291265999999999, 52.132633],\n    挪威: [8.468945999999999, 60.47202399999999],\n    尼泊尔: [84.12400799999999, 28.394857],\n    新西兰: [174.885971, -40.900557],\n    阿曼: [55.923255, 21.512583],\n    巴基斯坦: [69.34511599999999, 30.375321],\n    巴拿马: [-80.782127, 8.537981],\n    秘鲁: [-75.015152, -9.189967],\n    菲律宾: [121.774017, 12.879721],\n    巴布亚新几内亚: [143.95555, -6.314992999999999],\n    波兰: [19.145136, 51.919438],\n    波多黎各: [-66.590149, 18.220833],\n    北朝鲜: [127.510093, 40.339852],\n    葡萄牙: [-8.224454, 39.39987199999999],\n    巴拉圭: [-58.443832, -23.442503],\n    卡塔尔: [51.183884, 25.354826],\n    罗马尼亚: [24.96676, 45.943161],\n    俄罗斯: [105.318756, 61.52401],\n    卢旺达: [29.873888, -1.940278],\n    西撒哈拉: [-12.885834, 24.215527],\n    沙特阿拉伯: [45.079162, 23.885942],\n    苏丹: [30.217636, 12.862807],\n    南苏丹: [31.3069788, 6.876991899999999],\n    塞内加尔: [-14.452362, 14.497401],\n    所罗门群岛: [160.156194, -9.64571],\n    塞拉利昂: [-11.779889, 8.460555],\n    萨尔瓦多: [-88.89653, 13.794185],\n    索马里兰: [46.8252838, 9.411743399999999],\n    索马里: [46.199616, 5.152149],\n    塞尔维亚共和国: [21.005859, 44.016521],\n    苏里南: [-56.027783, 3.919305],\n    斯洛伐克: [19.699024, 48.669026],\n    斯洛文尼亚: [14.995463, 46.151241],\n    瑞典: [18.643501, 60.12816100000001],\n    斯威士兰: [31.465866, -26.522503],\n    叙利亚: [38.996815, 34.80207499999999],\n    乍得: [18.732207, 15.454166],\n    多哥: [0.824782, 8.619543],\n    泰国: [100.992541, 15.870032],\n    塔吉克斯坦: [71.276093, 38.861034],\n    土库曼斯坦: [59.556278, 38.969719],\n    东帝汶: [125.727539, -8.874217],\n    特里尼达和多巴哥: [-61.222503, 10.691803],\n    突尼斯: [9.537499, 33.886917],\n    土耳其: [35.243322, 38.963745],\n    坦桑尼亚联合共和国: [34.888822, -6.369028],\n    乌干达: [32.290275, 1.373333],\n    乌克兰: [31.16558, 48.379433],\n    乌拉圭: [-55.765835, -32.522779],\n    美国: [-95.712891, 37.09024],\n    乌兹别克斯坦: [64.585262, 41.377491],\n    委内瑞拉: [-66.58973, 6.42375],\n    越南: [108.277199, 14.058324],\n    瓦努阿图: [166.959158, -15.376706],\n    西岸: [35.3027226, 31.9465703],\n    也门: [48.516388, 15.552727],\n    南非: [22.937506, -30.559482],\n    赞比亚: [27.849332, -13.133897],\n    津巴布韦: [29.154857, -19.015438],\n};\n\nvar data_tmp = [\n    { name: '巴西', value: 67985.83 },\n    { name: '中国', value: 87985.83 },\n    { name: '墨西哥', value: 67985.83 },\n    { name: '澳大利亚', value: 87985.83 },\n    { name: '哈萨克斯坦', value: 67985.83 },\n];\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\noption = {\n    backgroundColor: {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#05153a', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#062959', // 100% 处的颜色\n            },\n        ],\n        globalCoord: false, // 缺省为 false\n    },\n    title: {\n        text: '',\n        subtext: '',\n        left: 'center',\n        top: '20px',\n    },\n    geo: {\n        map: 'world',\n        zoom: 1,\n        show: true,\n        roam: true,\n        label: {\n            normal: {\n                show: false,\n            },\n            emphasis: {\n                show: false,\n            },\n        },\n        itemStyle: {\n            normal: {\n                areaColor: '#21729a',\n                borderColor: '#68ebf0', //线\n                borderWidth: 0,\n                borderJoin: 'round',\n                shadowColor: 'rgba(18, 216, 250, 1)', //外发光\n                shadowOffsetX: -3,\n                shadowOffsetY: 5,\n                shadowBlur: 2, //图形阴影的模糊大小\n            },\n            emphasis: {\n                areaColor: '#2f9eff', //悬浮区背景\n            },\n        },\n        select: {\n            itemStyle: {\n                areaColor: '#2f9eff', //悬浮区背景\n            },\n        },\n    },\n    series: [\n        {\n            type: 'map',\n            geoIndex: 0,\n        },\n        // 柱状体的主干\n        {\n            type: 'lines',\n            zlevel: 5,\n            lineStyle: {\n                width: 10, //尾迹线条宽度\n                opacity: 0.9, //尾迹线条透明度'\n                curveness: 0, //尾迹线条曲直度\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: 'rgba(166, 255, 203, 1)', // 0% 处的颜色\n                        },\n                        {\n                            offset: 0.5,\n                            color: 'rgba(18, 216, 250, 1)', // 40% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(31, 162, 255, 1)', // 100% 处的颜色\n                        },\n                    ],\n                    global: false, // 缺省为 false\n                },\n                emphasis: {\n                    color: {\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(248, 54, 0, 1)', // 0% 处的颜色\n                            },\n\n                            {\n                                offset: 1,\n                                color: 'rgba(250, 204, 34, 1)', // 100% 处的颜色\n                            },\n                        ],\n                        global: false, // 缺省为 false\n                    },\n                },\n            },\n            selectedMode: true, //只有配置了这个选项才能有选中状态\n            select: {\n                lineStyle: {\n                    color: {\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(248, 54, 0, 1)', // 0% 处的颜色\n                            },\n\n                            {\n                                offset: 1,\n                                color: 'rgba(250, 204, 34, 1)', // 100% 处的颜色\n                            },\n                        ],\n                        global: false, // 缺省为 false\n                    },\n                },\n                label: {\n                    position: 'top',\n                    show: true,\n                    backgroundColor: {\n                        image: tip,\n                    },\n                    width: 75,\n                    height: 50,\n                    lineHeight: 18,\n                    padding: [20, 20],\n                    formatter: function (params) {\n                        var name = params.name;\n                        var value = params.value;\n                        var data = 34;\n                        var text = `{fname|${name}}\\n{img|${value}}\\n{fdata|${data}}`;\n                        return text;\n                    },\n                    rich: {\n                        fname: {\n                            color: '#E59B0A',\n                            fontSize: 12,\n                        },\n                        fdata: {\n                            color: '#FFE82A',\n                            fontSize: 12,\n                        },\n                        img: {\n                            color: '#0EB1FE',\n                            fontSize: 14,\n                            fontWeight: 600,\n\n                            align: 'center',\n                        },\n                    },\n                },\n            },\n            emphasis: {\n                label: {\n                    position: 'top',\n                    show: true,\n                    backgroundColor: {\n                        image: tip,\n                    },\n                    width: 75,\n                    height: 50,\n                    lineHeight: 18,\n                    padding: [20, 20, 20, 22],\n                    formatter: function (params) {\n                        var name = params.name;\n                        var value = params.value;\n                        var data = 34;\n                        var text = `{fname|${name}}\\n{img|${value}}\\n{fdata|${data}}`;\n                        return text;\n                    },\n                    rich: {\n                        fname: {\n                            color: '#E59B0A',\n                            fontSize: 12,\n                        },\n                        fdata: {\n                            color: '#FFE82A',\n                            fontSize: 12,\n                        },\n                        img: {\n                            color: '#0EB1FE',\n                            fontSize: 14,\n                            fontWeight: 600,\n                            align: 'center',\n                        },\n                    },\n                },\n            },\n            label: {\n                position: 'top',\n                normal: {\n                    backgroundColor: {\n                        image: tip,\n                    },\n                    padding: [20, 10],\n                    width: 80,\n                    show: true,\n                    formatter: function (params) {\n                        return ['{img|' + params.value + '}'];\n                    },\n                    rich: {\n                        img: {\n                            color: '#0EB1FE',\n                            fontSize: 14,\n                            fontWeight: 600,\n                        },\n                    },\n                },\n            },\n            data: lineData(),\n        },\n        // 柱状体的顶部\n        // {\n        //   type: 'scatter',\n        //   coordinateSystem: 'geo',\n        //   geoIndex: 0,\n        //   zlevel: 5,\n        //   symbol: 'circle',\n        //   symbolSize: [9, 5],\n        //   itemStyle: {\n        //     color: 'rgba(18, 216, 250, 1)',\n        //     borderWidth: 1,\n        //     borderColor: 'rgba(166, 255, 203, .8)',\n        //     opacity: 1,\n        //   },\n        //   legendHoverLink: true, //是否启用图例 hover 时的联动高亮。\n        //   emphasis: {\n        //     scale: false,\n        //     itemStyle: {\n        //       color: 'rgba(248, 54, 0, 1)',\n        //       borderWidth: 0.5,\n        //       borderColor: 'rgba(250, 204, 34, 1)',\n        //     },\n        //   },\n        //   selectedMode: true,\n        //   select: {\n        //     scale: false,\n        //     itemStyle: {\n        //       color: 'rgba(248, 54, 0, 1)',\n        //       borderWidth: 0.5,\n        //       borderColor: 'rgba(250, 204, 34, 1)',\n        //     },\n        //   },\n        //   // silent: true,\n        //   data: scatterData(),\n        // },\n        // 柱状体的底部\n        // {\n        //     type: 'scatter',\n        //     coordinateSystem: 'geo',\n        //     geoIndex: 0,\n        //     zlevel: 4,\n        //     label: {\n        //         // 这儿是处理的\n        //         formatter: '{b}',\n        //         position: 'bottom',\n        //         color: '#fff',\n        //         fontSize: 12,\n        //         distance: 10,\n        //         show: true,\n        //     },\n        //     symbol: 'circle',\n        //     symbolSize: [10, 5],\n        //     itemStyle: {\n        //         // color: '#F7AF21',\n        //         color: 'rgb(22,255,255, 1)',\n        //         opacity: 1,\n        //     },\n        //     silent: true,\n        //     data: scatterData2(),\n        // },\n        // 波浪\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            // geoIndex: 0,\n            zlevel: 4,\n            symbolSize: [10, 5],\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke',\n                period: 10,\n                scale: 7,\n                number: 4,\n            },\n            itemStyle: {\n                normal: {\n                    color: '#00FFFF',\n                },\n            },\n\n            data: convertData(data_tmp),\n        },\n    ],\n};\n// 动态计算柱形图的高度（定一个max）\nfunction lineMaxHeight() {\n    const maxValue = Math.max(...data_tmp.map((item) => item.value));\n    return 20 / maxValue;\n}\n// 柱状体的主干\nfunction lineData() {\n    return data_tmp.map((item) => {\n        return {\n            name: item.name,\n            value: item.value,\n            coords: [\n                geoCoordMap[item.name],\n                [geoCoordMap[item.name][0], geoCoordMap[item.name][1] + item.value * lineMaxHeight()],\n            ],\n        };\n    });\n}\n// 柱状体的顶部\nfunction scatterData() {\n    return data_tmp.map((item) => {\n        return [geoCoordMap[item.name][0], geoCoordMap[item.name][1] + item.value * lineMaxHeight()];\n    });\n}\n// 柱状体的底部\nfunction scatterData2() {\n    return data_tmp.map((item) => {\n        return {\n            name: item.name,\n            value: geoCoordMap[item.name],\n        };\n    });\n}\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js,/dep/echarts/map/js/world.js","updaterUID":"obd-oMubyz7OLBQRQnUkAoo4JCDiWZBL-2N","theme":"","layout":"","viewCount":0,"userName":"181*****283","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xw-mnZWE4g.png?v=1637661497150","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","title"],"customTags":[],"updaterUserName":"181*****283"}}