{"status":0,"data":{"cid":"xyxMrXWYQ","authorUid":"bd-2974737681","authorUserName":"猪***林","title":"legend中添加数据项","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2019-12-04T08:51:21.000Z","lastUpdateTime":"2019-12-04T08:51:21.000Z","auth":2,"uid":"bd-2974737681","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-25T07:08:03.000Z","code":"function randomData() {\n    now = new Date();\n    value = Math.random() * 21 - 10;\n    return {\n        name: now.toString(),\n        value: [\n            [now.getHours(),now.getMinutes()].join(':'),\n            Math.round(value)\n        ]\n    }\n}\n\nvar data= [\n            {\n                \"name\": \"2020-02-25 14:56:00.0\",\n                \"value\": 2172\n            },\n            {\n                \"name\": \"2020-02-25 14:55:00.0\",\n                \"value\": 2320\n            },\n            {\n                \"name\": \"2020-02-25 14:54:00.0\",\n                \"value\": 2938\n            },\n            {\n                \"name\": \"2020-02-25 14:53:00.0\",\n                \"value\": 733\n            },\n            {\n                \"name\": \"2020-02-25 14:52:00.0\",\n                \"value\": 2138\n            },\n            {\n                \"name\": \"2020-02-25 14:51:00.0\",\n                \"value\": 2180\n            },\n            {\n                \"name\": \"2020-02-25 14:50:00.0\",\n                \"value\": 2156\n            },\n            {\n                \"name\": \"2020-02-25 14:49:00.0\",\n                \"value\": 2528\n            },\n            {\n                \"name\": \"2020-02-25 14:47:00.0\",\n                \"value\": 640\n            },\n            {\n                \"name\": \"2020-02-25 14:46:00.0\",\n                \"value\": 886\n            },\n            {\n                \"name\": \"2020-02-25 14:45:00.0\",\n                \"value\": 1939\n            },\n            {\n                \"name\": \"2020-02-25 14:44:00.0\",\n                \"value\": 2348\n            },\n            {\n                \"name\": \"2020-02-25 14:43:00.0\",\n                \"value\": 2115\n            },\n            {\n                \"name\": \"2020-02-25 14:42:00.0\",\n                \"value\": 862\n            },\n            {\n                \"name\": \"2020-02-25 14:41:00.0\",\n                \"value\": 537\n            },\n            {\n                \"name\": \"2020-02-25 14:40:00.0\",\n                \"value\": 3553\n            },\n            {\n                \"name\": \"2020-02-25 14:39:00.0\",\n                \"value\": 90\n            },\n            {\n                \"name\": \"2020-02-25 14:38:00.0\",\n                \"value\": 687\n            },\n            {\n                \"name\": \"2020-02-25 14:37:00.0\",\n                \"value\": 2691\n            },\n            {\n                \"name\": \"2020-02-25 14:36:00.0\",\n                \"value\": 2673\n            },\n            {\n                \"name\": \"2020-02-25 14:35:00.0\",\n                \"value\": 3220\n            },\n            {\n                \"name\": \"2020-02-25 14:34:00.0\",\n                \"value\": 1408\n            },\n            {\n                \"name\": \"2020-02-25 14:33:00.0\",\n                \"value\": 2431\n            },\n            {\n                \"name\": \"2020-02-25 14:32:00.0\",\n                \"value\": 2899\n            },\n            {\n                \"name\": \"2020-02-25 14:31:00.0\",\n                \"value\": 3021\n            },\n            {\n                \"name\": \"2020-02-25 14:30:00.0\",\n                \"value\": 1285\n            },\n            {\n                \"name\": \"2020-02-25 14:29:00.0\",\n                \"value\": 1490\n            },\n            {\n                \"name\": \"2020-02-25 14:28:00.0\",\n                \"value\": 1560\n            },\n            {\n                \"name\": \"2020-02-25 14:27:00.0\",\n                \"value\": 2244\n            },\n            {\n                \"name\": \"2020-02-25 14:26:00.0\",\n                \"value\": 325\n            },\n            {\n                \"name\": \"2020-02-25 14:25:00.0\",\n                \"value\": 715\n            },\n            {\n                \"name\": \"2020-02-25 14:24:00.0\",\n                \"value\": 733\n            },\n            {\n                \"name\": \"2020-02-25 14:23:00.0\",\n                \"value\": 1047\n            },\n            {\n                \"name\": \"2020-02-25 14:22:00.0\",\n                \"value\": 1420\n            },\n            {\n                \"name\": \"2020-02-25 14:21:00.0\",\n                \"value\": 850\n            },\n            {\n                \"name\": \"2020-02-25 14:20:00.0\",\n                \"value\": 4100\n            },\n            {\n                \"name\": \"2020-02-25 14:19:00.0\",\n                \"value\": 1775\n            },\n            {\n                \"name\": \"2020-02-25 14:18:00.0\",\n                \"value\": 3064\n            },\n            {\n                \"name\": \"2020-02-25 14:17:00.0\",\n                \"value\": 3048\n            },\n            {\n                \"name\": \"2020-02-25 14:16:00.0\",\n                \"value\": 3434\n            },\n            {\n                \"name\": \"2020-02-25 14:15:00.0\",\n                \"value\": 1974\n            },\n            {\n                \"name\": \"2020-02-25 14:14:00.0\",\n                \"value\": 2113\n            },\n            {\n                \"name\": \"2020-02-25 14:13:00.0\",\n                \"value\": 2764\n            },\n            {\n                \"name\": \"2020-02-25 14:12:00.0\",\n                \"value\": 2688\n            },\n            {\n                \"name\": \"2020-02-25 14:11:00.0\",\n                \"value\": 702\n            },\n            {\n                \"name\": \"2020-02-25 14:10:00.0\",\n                \"value\": 2101\n            },\n            {\n                \"name\": \"2020-02-25 14:09:00.0\",\n                \"value\": 2133\n            },\n            {\n                \"name\": \"2020-02-25 14:08:00.0\",\n                \"value\": 2507\n            },\n            {\n                \"name\": \"2020-02-25 14:07:00.0\",\n                \"value\": 2588\n            },\n            {\n                \"name\": \"2020-02-25 14:06:00.0\",\n                \"value\": 163\n            },\n            {\n                \"name\": \"2020-02-25 14:05:00.0\",\n                \"value\": 1704\n            },\n            {\n                \"name\": \"2020-02-25 14:04:00.0\",\n                \"value\": 2264\n            },\n            {\n                \"name\": \"2020-02-25 14:03:00.0\",\n                \"value\": 533\n            },\n            {\n                \"name\": \"2020-02-25 14:02:00.0\",\n                \"value\": 1335\n            },\n            {\n                \"name\": \"2020-02-25 14:01:00.0\",\n                \"value\": 834\n            },\n            {\n                \"name\": \"2020-02-25 14:00:00.0\",\n                \"value\": 3868\n            },\n            {\n                \"name\": \"2020-02-25 13:59:00.0\",\n                \"value\": 4033\n            },\n            {\n                \"name\": \"2020-02-25 13:58:00.0\",\n                \"value\": 1067\n            },\n            {\n                \"name\": \"2020-02-25 13:57:00.0\",\n                \"value\": 1327\n            },\n            {\n                \"name\": \"2020-02-25 13:56:00.0\",\n                \"value\": 2744\n            }\n        ]\n\nconsole.log('data',data)\noption = {\n    title: {\n        text: '动态数据 + 时间坐标轴'\n    },\n    legend: {\n        data:['模拟数据']\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (params) {\n            \n            params = params[0];\n            var date = new Date(params.name);\n            return date.getHours() + ':' + (date.getMinutes() + 1) + ' : ' + params.value;\n        },\n        axisPointer: {\n            animation: false\n        }\n    },\n    xAxis: {\n        type: 'time',\n        splitLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        type: 'value',\n        boundaryGap: [0, '100%'],\n        splitLine: {\n            show: false\n        }\n    },\n    series: [{\n       // name: '模拟数据',javascript:;\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        data: data\n    }]\n};\n\nsetInterval(function () {\n\n    for (var i = 0; i < 1; i++) {\n        data.shift();\n        data.push(randomData());\n        \n    }\n    let a = Math.random()\n    myChart.setOption({\n        legend: {\n            data:['模拟数据'+a]\n        },\n        series: [{\n            name:['模拟数据'+a],\n            data: data\n        }]\n    });\n}, 10000);","html":"","externalScripts":"","updaterUID":"bd-2974737681","theme":"","layout":"","viewCount":13,"userName":"猪***林","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyxMrXWYQ.png?v=1582614483455","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"猪***林"}}