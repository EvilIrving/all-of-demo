{"status":0,"data":{"cid":"xTbyZyYs2g","authorUid":"bd-3490003427","authorUserName":"j***g","title":"2018年阅读宇宙——时间轴","description":"书籍就像人类智慧的宇宙，每本书就像一个孤独的星球。\n真理的线索分散在不同的书籍中。\n通过书将自己理解到的内容联系在一起。\n将一年选择阅读的书籍的隐秘的关联性显现出来。","latestVersion":6,"alwaysLatest":1,"createTime":"2018-12-07T06:44:19.000Z","lastUpdateTime":"2018-12-07T06:44:19.000Z","auth":2,"uid":"bd-3490003427","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-12T01:52:39.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1544174834232-k4w2IZXvZ.json\";\n\n\n/*\nvar nodes = [\n\n    {\n        category: '主线',\n        name: '1',\n        symbolSize: 23\n    },\n];\nvar nodes1 = [{\n    category: '主线',\n    name: '2',\n    symbolSize: 17\n}];\nvar nodes2 = [{\n    category: '主线',\n    name: '3',\n    symbolSize: 23\n}, ];\nvar nodes3 = [{\n    category: '主线',\n    name: '4',\n    symbolSize: 23\n}, ];\n\n\nvar links = [];\nvar links1 = [{\n    source: '1',\n    target: '2'\n}, ];\nvar links2 = [{\n        source: '1',\n        target: '2'\n    },\n    {\n        source: '2',\n        target: '3'\n    },\n];\nvar links3 = [{\n        source: '1',\n        target: '2'\n    },\n    {\n        source: '2',\n        target: '3'\n    },\n    {\n        source: '3',\n        target: '4'\n    },\n];\n*/\nvar categories = [\n\n\n    {\n        name: '主线'\n    },\n\n    {\n        name: '地点'\n    },\n    {\n        name: '专题'\n    },\n\n    {\n        name: '活动'\n    },\n    {\n        name: '题材'\n    },\n    {\n        name: '人物'\n    },\n    {\n        name: '阅读感受'\n    },\n    {\n        name: '书'\n    },\n];\n\n//阅读日期\nvar readdays = ['2018年1月8日', '2018年1月18日', '2018年1月30日', '2018年2月2日', '2018年3月4日', '2018年3月10日', '2018年3月19日', '2018年3月22日', '2018年4月2日', '2018年4月17日', '2018年5月9日', '2018年5月11日', '2018年5月16日', '2018年5月23日', '2018年5月25日', '2018年5月28日', '2018年5月30日', '2018年6月8日', '2018年6月12日', '2018年6月14日', '2018年6月19日', '2018年6月27日', '2018年6月28日', '2018年7月5日', '2018年7月6日', '2018年7月13日', '2018年7月18日', '2018年7月20日', '2018年7月23日', '2018年7月24日', '2018年7月29日', '2018年8月2日', '2018年8月4日', '2018年8月7日', '2018年8月13日', '2018年8月15日', '2018年8月18日', '2018年8月23日', '2018年8月23日', '2018年8月27日', '2018年8月29日', '2018年9月12日', '2018年9月15日', '2018年9月18日', '2018年9月19日', '2018年10月4日', '2018年10月13日', '2018年10月16日', '2018年10月29日', '2018年11月6日', '2018年11月8日', '2018年11月10日', '2018年11月13日', '2018年11月14日', '2018年11月20日', '2018年11月26日', '2018年11月29日'];\n$.get(uploadedDataURL, function(tagdata) { //读取可视化数据\n\n    var option = {\n        baseOption: {\n            timeline: {\n                // y: 0,\n                axisType: 'category',\n                // realtime: false,\n                // loop: false,\n                autoPlay: true,\n                // currentIndex: 2,\n                playInterval: 3000,\n                // controlStyle: {\n                //     position: 'left'\n                // },\n                data: readdays,\n                label: {\n                    formatter: function(s) {\n                        //return (new Date(s)).getFullYear();\n                    }\n                }\n            },\n            title: {\n                text: '2018年阅读宇宙',\n                subtext: '书籍就像人类智慧的宇宙，每本书就像一个孤独的星球。\\n真理的线索分散在不同的书籍中。\\n通过书将自己理解到的内容联系在一起。\\n将一年选择阅读的书籍的隐秘的关联性显现出来。',\n                textStyle: {\n                    fontSize: 25,\n                }\n            },\n            backgroundColor: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [{\n                        offset: 0,\n                        color: 'red' // 0% 处的颜色\n                    }, {\n                        offset: 1,\n                        color: 'blue' // 100% 处的颜色\n                    }],\n                    globalCoord: false // 缺省为 false\n                }\n            },\n            legend: [{\n                //selectedMode: 'single',\n                top: 30,\n                left: 'right',\n                data: categories,\n                show: true,\n                //selected: selected1\n\n            }],\n            tooltip: {},\n            animationDurationUpdate: 2,\n            animationEasingUpdate: 'quinticInOut',\n\n            series: [{\n                type: 'graph',\n                ribbonType: true,\n                //layout: 'circular',\n                edgeSymbol: ['circle', 'arrow'],\n                edgeSymbolSize: [9, 10],\n                circular: {\n                    rotateLabel: true\n                },\n\n\n                layout: 'force',\n\n                force: {\n                    //initLayout: 'circular',\n                    repulsion: 300,\n                    gravity: 0.5,\n                    edgeLength: [1, 10],\n                    layoutAnimation: true,\n                },\n\n                roam: true,\n                focusNodeAdjacency: true,\n                hoverAnimation: true,\n                label: {\n                    normal: {\n                        position: 'inside',\n                        color: '#fff',\n                        fontWeight: 'bold',\n                        fontSize: 10,\n                        formatter: '{b}',\n                    }\n                },\n                draggable: true,\n                itemStyle: {\n                    normal: {\n                        borderColor: '#fff',\n                        borderWidth: 2,\n                        shadowBlur: 10,\n                        shadowColor: 'rgba(255,255, 255, 0.8)'\n                    }\n                },\n\n                lineStyle: {\n                    color: 'target',\n                    curveness: 0.3\n                },\n                emphasis: {\n                    lineStyle: {\n                        width: 10\n                    }\n                },\n                categories: categories,\n                data: nodes,\n                links: links\n            }]\n        },\n        /*options: [{\n                series: [{\n                    data: nodes,\n                    // links: [],\n                    links: links\n                }]\n            }, {\n                series: [{\n                    data: nodes1,\n                    // links: [],\n                    links: links1\n                }]\n            },\n            {\n                series: [{\n                    data: nodes2,\n                    links: links2\n                }]\n            },\n            {\n                series: [{\n                    data: nodes3,\n                    links: links3\n                }]\n            },\n\n        ]*/\n        options: []\n    };\n\n    myChart.hideLoading();\n\n    for (var d = 0; d < readdays.length; d++) { //循环日期\n        var da = readdays[d];\n\n        var nodes = [];\n        var links = [];\n        var lastbookname = '';\n        for (var n = 0; n < tagdata.length; n++) { //在\n            //option.baseOption.timeline.data.push(linedata[2][n]);\n            var d2 = tagdata[n];\n            var rd = d2.readdate;\n            var bookname = d2.bookname;\n            var tag = d2.tag;\n            var category = d2.category;\n            //alert(d2);break;\n            if (d == rd) { //只处理日期一致的数据\n                if (bookname !== lastbookname) { //增加书的节点\n                    nodes.push({\n                        name: bookname,\n                        category: '书',\n                        value: 10,\n                        symbolSize: 10\n                    });\n                }\n\n            }\n\n        }\n        option.options.push({ //添加到options数组里\n            series: [{\n                nodes: nodes,\n                links: links,\n            }]\n        });\n\n    }\n    myChart.setOption(option);\n\n});","html":"","externalScripts":"","updaterUID":"bd-3490003427","theme":"macarons","layout":"","viewCount":772,"userName":"j***g","commentCount":1,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTbyZyYs2g.png?v=1547257959487","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","timeline","title","tooltip"],"customTags":[],"updaterUserName":"j***g"}}