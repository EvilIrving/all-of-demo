{"status":0,"data":{"cid":"xqC4cdtXp2","authorUid":"bd-4286708132","authorUserName":"L***h","title":"项目记录","description":"在伊***铖作品的基础上修改","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-16T03:20:30.000Z","lastUpdateTime":"2021-09-16T03:20:30.000Z","auth":2,"uid":"bd-4286708132","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-16T03:20:30.000Z","code":"let yLabel = ['总装', '转向架', '车体'];\r\nlet yData = [5000, 6000, 9000,];\r\nvar total = 10000; // 数据总数\r\noption = {\r\n    backgroundColor:'#071347',\r\n    xAxis: {\r\n        max: total,\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    },\r\n    grid: {\r\n        left: 80,\r\n        top: 20, // 设置条形图的边距\r\n        right: 80,\r\n        bottom: 20\r\n    },\r\n     yAxis: [\r\n        {\r\n            type: 'category',\r\n            inverse: true,\r\n            axisLabel: {\r\n                show: true,\r\n                margin: 15,\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: '14',\r\n                },\r\n            },\r\n            splitLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            data: yLabel,\r\n        },\r\n        {\r\n            type: 'category',\r\n            inverse: true,\r\n            axisTick: 'none',\r\n            axisLine: 'none',\r\n            show: true,\r\n            // axisLabel: {\r\n            //     textStyle: {\r\n            //         color: '#fff',\r\n            //         fontSize: '14',\r\n            //     },\r\n            // },\r\n            axisLabel: {\r\n                formatter: function (value, i) {\r\n                    // .toFixed(2)\r\n                    const arr = [ `{b|${((value/total)*100)}%}`,`{a|${value}}`];\r\n                    return arr.join('');\r\n                },\r\n                rich: {\r\n                    a: {\r\n                        fontSize: 14,\r\n                        color: '#FFF',\r\n                        align: 'center',\r\n                    },\r\n                    b: {\r\n                        fontSize: 14,\r\n                        width: 70,\r\n                        padding:[0,0,0,-70],\r\n                        color: '#4FA5CB',\r\n                        align: 'right',\r\n                    },\r\n                },\r\n            },\r\n            data: yData,\r\n        },\r\n    ],\r\n    series: [{\r\n            // 内\r\n            type: \"bar\",\r\n            barWidth: 12,\r\n            legendHoverLink: false,\r\n            silent: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function(params) {\r\n                        var color;\r\n                        if(params.dataIndex==19){\r\n                             color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#EB5118\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#F21F02\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }else if(params.dataIndex==18){\r\n                            color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#FFA048\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#B25E14\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }else if(params.dataIndex==17){\r\n                            color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#F8E972\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#E5C206\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }else{\r\n                            color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#438AAC\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"rgba(71,150,187,.23)\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }\r\n                            return color;\r\n                    },\r\n                }\r\n            },\r\n            label: {\r\n                show: false,\r\n                position: 'right',\r\n                // distance: 20,\r\n                fontSize: 14,\r\n                color: '#4FA5CB',\r\n                formatter: '{c}%'\r\n            },\r\n            data: yData,\r\n            z: 1,\r\n            animationEasing: \"elasticOut\"\r\n        },\r\n        {\r\n            // 分隔\r\n            type: \"pictorialBar\",\r\n            itemStyle: {\r\n                normal:{\r\n                    color:\"#061348\"\r\n                }\r\n            },\r\n            symbolRepeat: \"fixed\",\r\n            symbolMargin: 3,\r\n            symbol: \"rect\",\r\n            symbolClip: true,\r\n            symbolSize: [1, 12],\r\n            symbolPosition: \"center\",\r\n            symbolOffset: [1,-2],\r\n            symbolBoundingData: this.total,\r\n            data: yData,\r\n            z: 2,\r\n            animationEasing: \"elasticOut\"\r\n        },\r\n        {\r\n            name: \"外框\",\r\n            type: \"bar\",\r\n            barGap: \"-135%\", // 设置外框粗细\r\n            data: [total, total, total,total,total,total,total,total,total,total,total,total,total,total,total,total,total,total,total,total],\r\n            barWidth: 20,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"transparent\", // 填充色\r\n                    barBorderColor: \"rgba(87,205,254,.47)\", // 边框色\r\n                    barBorderWidth: 1, // 边框宽度\r\n                    // barBorderRadius: 0, //圆角半径\r\n                    label: {\r\n                        // 标签显示位置\r\n                        show: false,\r\n                        position: \"top\" // insideTop 或者横向的 insideLeft\r\n                    }\r\n                }\r\n            },\r\n            z: 0\r\n        }\r\n    ]\r\n};\r\n\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-4286708132","theme":"","layout":"","viewCount":0,"userName":"L***h","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqC4cdtXp2.png?v=1631762431054","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"L***h"}}