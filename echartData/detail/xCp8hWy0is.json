{"status":0,"data":{"cid":"xCp8hWy0is","authorUid":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","authorUserName":"秋***夜","title":"流转动画","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-24T01:29:03.000Z","lastUpdateTime":"2020-06-24T01:29:03.000Z","auth":2,"uid":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-24T01:29:03.000Z","code":"//本质是坐标轴的关系图\r\n\r\nvar data =  [\r\n        {\r\n            \"symbolSize\": 40,\r\n            \"name\": \"陕西煤业化工集团有限责任公司\",\r\n            \"category\": 0,\r\n            value:[100,100]\r\n        },\r\n        {\r\n            \"symbolSize\": 20.0,\r\n            \"name\": \"陕西陕煤曹家滩矿业有限公司\",\r\n            \"category\": 2.0,\r\n            value:[200,200]\r\n        },\r\n        {\r\n            \"symbolSize\": 30.0,\r\n            \"name\": \"陕西陕煤榆北煤业有限公司（本部）\",\r\n            \"category\": 1.0,\r\n            value:[300,300]\r\n        }\r\n    ];\r\nvar link =  [\r\n        {\r\n            \"msg\": \"支出：13050.0万元\",\r\n            \"source\": 0,\r\n            \"value\": 4.0,\r\n            \"target\": 2\r\n        },\r\n        {\r\n            \"msg\": \"收入：13050.0万元\",\r\n            \"source\": 0,\r\n            \"value\": 4.0,\r\n            \"target\": 1\r\n        },\r\n        {\r\n            \"msg\": \"上缴：37000.0万元<br>拨款：338329.04万元\",\r\n            \"source\": 2,\r\n            \"value\": 2.0,\r\n            \"target\": 1\r\n        }\r\n    ]\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function (params) {//连接线上提示文字格式化\r\n            if (params.data.source) {//注意判断，else是将节点的文字也初始化成想要的格式\r\n               return params.data.msg;\r\n            }\r\n            else {\r\n                return params.name;\r\n            }\r\n        }\r\n    },\r\n    legend : { //=========圖表控件\r\n        show : true,\r\n        data : [{\r\n            name : '一级单位',\r\n        },\r\n        {\r\n            name : '二级单位',\r\n        },\r\n        {\r\n            name : '三级单位',\r\n        },\r\n        {\r\n            name : '四级单位',\r\n        }]\r\n    },\r\n    xAxis: {\r\n        show: false,\r\n        type: 'value'\r\n    },\r\n    yAxis: {\r\n        show: false,\r\n        type: 'value'\r\n    },\r\n    animationDuration: 1500,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    series : [\r\n        {\r\n            type: 'graph',\r\n            layout: 'none',\r\n            coordinateSystem: 'cartesian2d',\r\n          \tdata:data,\r\n            categories : [ //symbol name：用于和 legend 对应以及格式化 tooltip 的内容。 label有效\r\n            {\r\n                name : '一级单位',\r\n            },\r\n            {\r\n                name : '二级单位',\r\n            },\r\n            {\r\n                name : '三级单位',\r\n            },\r\n            {\r\n                name : '四级单位',\r\n            }],\r\n            links: link,\r\n            roam: true,\r\n            focusNodeAdjacency: true,\r\n            itemStyle: {\r\n                borderColor: '#fff',\r\n                borderWidth: 1,\r\n                shadowBlur: 10,\r\n                shadowColor: 'rgba(0, 0, 0, 0.3)'\r\n            },\r\n            label: {\r\n                position: 'left',\r\n                formatter: function(e){\r\n//                     \tconsole.log(e);\r\n                \tif(e.name.indexOf(\"_\") != -1){\r\n                \t\treturn e.name.substring(e.name.indexOf(\"_\")+1);\r\n                \t}else{\r\n                    \treturn e.name;\r\n                \t}\r\n                }\r\n            },\r\n            lineStyle: {\r\n                color: 'source',\r\n                curveness: 0.3\r\n            },\r\n            emphasis: {\r\n                lineStyle: {\r\n                    width: 10\r\n                }\r\n            }\r\n        }, {\r\n        type: 'lines',\r\n        coordinateSystem: 'cartesian2d',\r\n        z: 1,\r\n        effect: {\r\n            show: true,\r\n            smooth: false,\r\n            trailLength: 0,\r\n            symbol: \"arrow\",\r\n            color: '#ff000096',\r\n            symbolSize: 12\r\n        },\r\n        lineStyle: {\r\n           \r\n            normal: {\r\n                color: 'rgba(55,155,255,0)',\r\n                curveness: 0.3\r\n            }\r\n        },\r\n        data: [[{\r\n            coord: [100,100]\r\n        }, {\r\n            coord: [200, 200]\r\n        }],[{\r\n            coord: [100,100]\r\n        }, {\r\n            coord: [300, 300]\r\n        }],[{\r\n            coord: [300,300]\r\n        }, {\r\n            coord: [200, 200]\r\n        }]]\r\n    }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","theme":"","layout":"","viewCount":1561,"userName":"秋***夜","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCp8hWy0is.png?v=1592962143672","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-graph","series-lines","tooltip"],"customTags":["关系图","折线图","流转"],"updaterUserName":"秋***夜"}}