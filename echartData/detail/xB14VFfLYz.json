{"status":0,"data":{"cid":"xB14VFfLYz","authorUid":"bd-104705336","authorUserName":"Jack_Steve","title":"世界地图","description":"echart 世界地图数据分布","latestVersion":2,"alwaysLatest":1,"createTime":"2018-03-14T03:38:20.000Z","lastUpdateTime":"2018-03-14T03:38:20.000Z","auth":2,"uid":"bd-104705336","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-14T03:38:33.000Z","code":"\r\n\r\n  var geoCoordMap = {\r\n      \"北京\": [116.407395, 39.904211],\r\n      \"柏林\": [13.404954, 52.520007],\r\n      \"芝加哥\": [-87.629798, 41.878114],\r\n      \"迪拜\": [55.270783, 25.204849],\r\n      \"香港\": [114.109497, 22.396428],\r\n      \"伊斯坦布尔\": [28.978359, 41.008238],\r\n      \"伦敦\": [-0.127758, 51.507351],\r\n      \"纽约\": [-74.005941, 40.712784],\r\n      \"巴黎\": [2.352222, 48.856614],\r\n      \"上海\": [121.473701, 31.230416],\r\n      \"新加坡\": [103.819836, 1.352083],\r\n      \"悉尼\": [151.209296, -33.86882],\r\n      \"东京\": [139.691706, 35.689487]\r\n\r\n  };\r\n  var rawData = [\r\n      [\"北京\", 28.2, 29.9, 60.3, 51.8, 17, 18, 1979, 9, 34, 27, 16, 184, 730, 1.467, 4.767, 5.852, -0.683, 3.325, 5.417, 50.6, 463, 420, 310, 4370, 0.26, 14.25, 3.64, 23800, 67, 1.24, 41, 160, 400, 660, 700, 1554, 660, 4.5, 5.6, 17, 11400, 7000, 8500, 7600, 6200, 11900, 13300, 11700, 10700, 18300, 17100, 8900, 5400, 7600, 19800, 19800],\r\n      [\"柏林\", 109.7, 97.1, 72.2, 64.1, 79.2, 70.1, 1742, 28, 16, 11, 9, 56, 720, 1.784, 2.276, 2.754, 0.234, 1.15, 2.483, 62.5, 389, 530, 841, 4670, 2.98, 80.3, 10.79, 35600, 246, 2.1, 34, 120, 230, 570, 710, 2395, 1178, 17.7, 25.8, 30, 56900, 38600, 35500, 28500, 47400, 57600, 84200, 74500, 72100, 51700, 38100, 28200, 32000, 28100, 81700, 81700],\r\n      [\"芝加哥\", 105.3, 101.9, 79.1, 72.9, 83.3, 80.6, 1853, 12, 11, 15, 9, 32, 540, 3.222, 2.86, 3.798, -0.321, 1.641, 3.142, 71.1, 460, 780, 1398, 4270, 2.25, 34.99, 12.5, 22100, 95, 1.11, 38, 200, 270, 740, 1200, 3535, 2214, 20.3, 27.1, 25, 49300, 52100, 44000, 49000, 58500, 48300, 79300, 88500, 88200, 40300, 42600, 23200, 33800, 38700, 103500, 103500],\r\n      [\"迪拜\", 63.5, 82, 78.2, 77.2, 49.6, 64.2, 2095, 24, 11, 10, 14, 46, 1120, 9.272, 11.115, 11.454, 1.56, 0.878, 0.882, 75.3, 484, 790, 2447, 4550, 0.54, null, 8.17, 23100, 94, 1.01, 95, 200, 680, 1270, 1450, 4882, 3483, 16.2, 16.2, 0, 35900, 16300, 14200, 3600, 38300, 58100, 116800, 91400, 64800, 26200, 22900, 13600, 9800, 19600, 80000, 80000],\r\n      [\"香港\", 58.5, 68.1, 73.1, 75.2, 42.8, 49.8, 2295, 11, 9, 23, 9, 53, 970, 2.018, 2.027, 4.285, 0.588, 2.312, 5.281, 73.4, 651, 520, 1800, 4770, 1.33, 20.48, 3.99, 23800, 509, 1.65, 58, 290, 610, 390, 620, 9661, 4222, 12.5, 13.9, 9, 52500, 20100, 20100, 18900, 23100, 40800, 64400, 63700, 44600, 22300, 25100, 22100, 14000, 19000, 62600, 62600],\r\n      [\"伊斯坦布尔\", 39, 39.4, 71.5, 65.6, 27.9, 28.2, 2139, 19, 42, 9, 14, 166, 720, 9.597, 8.756, 10.444, 6.251, 8.567, 6.472, 64, 430, 630, 1282, 5490, 0.95, 15.84, 8.94, 34600, 1189, 2.37, 44, 240, 420, 630, 880, 3147, 1476, 7.1, 9.1, 20, 14800, 14600, 13500, 9500, 20300, 51300, 38600, 39100, 34100, 19300, 13500, 9500, 9200, 9300, 33500, 33500],\r\n      [\"伦敦\", 91.2, 86.2, 87.2, 83, 79.5, 75.2, 1786, 22, 15, 6, 13, 42, 930, 2.3, 2.346, 3.629, 2.12, 3.339, 4.454, 81, 436, 770, 1981, 4910, 3.7, 81.95, 23.03, 28000, 217, 2.4, 50, 200, 440, 480, 800, 4830, 3263, 19, 25.9, 26, 55700, 44400, 40900, 39100, 51700, 36400, 80300, 75000, 65900, 46600, 40700, 26300, 37600, 27100, 64200, 64200],\r\n      [\"纽约\", 100, 100, 100, 100, 100, 100, 2061, 13, 9, 12, 5, 28, 1180, 3.222, 2.86, 3.798, -0.321, 1.641, 3.142, 97.6, 552, 1000, 3354, 3960, 2.42, 85.98, 8.5, 20500, 100, 1.15, 71, 340, 730, 570, 980, 7239, 4299, 25.2, 32.6, 22, 62900, 57200, 50000, 69300, 79100, 85500, 118200, 119300, 107400, 68400, 54800, 42300, 41300, 41700, 120600, 120600],\r\n      [\"巴黎\", 94.8, 89.4, 83.9, 77.5, 78.1, 73.6, 1557, 29, 15, 14, 12, 44, 1100, 1.912, 1.607, 3.159, 0.103, 1.735, 2.294, 75.6, 522, 770, 1670, 5030, 2.16, 42.87, 9.39, 33700, 486, 1.89, 64, 210, 600, 1020, 1410, 3250, 2279, 18.5, 25.4, 26, 38700, 32800, 28000, 25900, 32100, 36800, 71000, 71100, 67100, 80700, 34700, 25300, 25400, 25600, 86900, 86900],\r\n      [\"上海\", 37.2, 38.4, 56.2, 49.7, 20.9, 21.6, 1966, 9, 28, 43, 8, 142, 740, 2.242, 2.535, 4.674, -0.683, 3.325, 5.417, 48.5, 404, 470, 712, 3950, 0.58, 10.4, 3.64, 29400, 76, 1.26, 64, 250, 440, 400, 960, 1424, 919, 5.4, 6.8, 17, 12200, 8500, 9300, 6700, 9200, 23700, 39600, 24700, 15800, 28900, 12300, 7400, 8200, 7600, 53200, 53200],\r\n      [\"新加坡\", 50.8, 53.3, 94.9, 89.2, 48.2, 50.7, 2036, 14, 18, 21, 12, 58, 920, 0.973, 2.096, 6.514, 0.589, 2.824, 5.247, 87.1, 589, 710, 1994, 5120, 1.36, null, 8.65, 124900, 966, 1.25, 88, 180, 410, 530, 840, 4455, 3496, 12.8, 15.7, 18, 41200, 21900, 19600, 15000, 27200, 30400, 82600, 77600, 46800, 27800, 28200, 19000, 14500, 21600, 86800, 86800],\r\n      [\"悉尼\", 112.5, 117.1, 83.7, 77.8, 94.1, 98, 1846, 15, 11, 9, 6, 32, 690, 3.538, 2.332, 4.353, 1.82, 2.845, 3.389, 75.9, 508, 680, 1644, 5210, 3.43, 39.35, 9.75, 22200, 245, 1.5, 45, 220, 350, 580, 820, 4183, 2175, 24.7, 30.6, 18, 57400, 41800, 39400, 39200, 72000, 55900, 111000, 93400, 79000, 52200, 50500, 40400, 50500, 36800, 110300, 110300],\r\n      [\"东京\", 112.5, 117.1, 83.7, 77.8, 94.1, 98, 1846, 15, 11, 9, 6, 32, 690, 3.538, 2.332, 4.353, 1.82, 2.845, 3.389, 75.9, 508, 680, 1644, 5210, 3.43, 39.35, 9.75, 22200, 245, 1.5, 45, 220, 350, 580, 820, 4183, 2175, 24.7, 30.6, 18, 57400, 41800, 39400, 39200, 72000, 55900, 111000, 93400, 79000, 52200, 50500, 40400, 50500, 36800, 110300, 110300],\r\n\r\n  ]\r\n  //数据测试\r\n  var toolTipData = []\r\n  for (var i = 0; i < rawData.length; i++) {\r\n      // 地区名称\r\n      var name = rawData[i][0];\r\n      // 地区经纬度\r\n      toolTipData.push({\r\n          name: name,\r\n          value: [{\r\n                  name: \"鲜花\",\r\n                  value: Math.round(Math.random() * 100 + 10)\r\n              },\r\n              {\r\n                  name: \"星星\",\r\n                  value: Math.round(Math.random() * 100 + 10)\r\n              },\r\n              {\r\n                  name: \"香蕉\",\r\n                  value: Math.round(Math.random() * 100 + 10)\r\n              },\r\n              {\r\n                  name: \"嫌弃\",\r\n                  value: Math.round(Math.random() * 100 + 10)\r\n              }\r\n          ]\r\n      })\r\n  }\r\n\r\n  function makeMapData(rawData) {\r\n      var mapData = [];\r\n      for (var i = 0; i < rawData.length; i++) {\r\n          var geoCoord = geoCoordMap[rawData[i][0]];\r\n\r\n          if (geoCoord) {\r\n              mapData.push({\r\n                  name: rawData[i][0],\r\n                  value: geoCoord.concat(rawData[i].slice(1, 2))\r\n              });\r\n          }\r\n          /*         console.log(mapData);\r\n           */\r\n      }\r\n      return mapData;\r\n  };\r\noption = {\r\n      backgroundColor: new echarts.graphic.RadialGradient(0.5, 0.5, 0.4, [{\r\n          offset: 0,\r\n          color: '#FBF9F8'\r\n      }, {\r\n          offset: 1,\r\n          color: '#FBF9F8'\r\n      }]),\r\n      title: {\r\n          text: '世界地图',\r\n          left: 'left',\r\n          top: 0,\r\n          itemGap: 0,\r\n          textStyle: {\r\n              color: '#28B8DC'\r\n          },\r\n          z: 20\r\n      },\r\n\r\n      tooltip: {\r\n          backgroundColor: '#232F49',\r\n          trigger: 'item',\r\n          formatter: function(params) {\r\n              if (typeof(params.value)[2] == \"undefined\") {\r\n                  var toolTiphtml = ''\r\n                  for (var i = 0; i < toolTipData.length; i++) {\r\n                      if (params.name == toolTipData[i].name) {\r\n                          toolTiphtml += toolTipData[i].name + ':<br>'\r\n                          for (var j = 0; j < toolTipData[i].value.length; j++) {\r\n                              toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + \"<br>\"\r\n                          }\r\n                      }\r\n                  }\r\n                  //                                   console.log(toolTiphtml)\r\n                  // console.log(convertData(data))\r\n                  return toolTiphtml;\r\n              } else {\r\n                  var toolTiphtml = ''\r\n                  for (var i = 0; i < toolTipData.length; i++) {\r\n                      if (params.name == toolTipData[i].name) {\r\n                          toolTiphtml += toolTipData[i].name + ':<br>'\r\n                          for (var j = 0; j < toolTipData[i].value.length; j++) {\r\n                              toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + \"<br>\"\r\n                          }\r\n                      }\r\n                  }\r\n                  //                                   console.log(toolTiphtml)\r\n                  // console.log(convertData(data))\r\n                  return toolTiphtml;\r\n              }\r\n          }\r\n      },\r\n      toolbox: {\r\n          show: true,\r\n          left: 'right',\r\n          iconStyle: {\r\n              normal: {\r\n                  borderColor: '#eee'\r\n              }\r\n          },\r\n          feature: {},\r\n          z: 200\r\n      },\r\n\r\n      geo: {\r\n          map: 'world',\r\n          backgroundColor: '#00BFFF',\r\n          silent: true,\r\n          label: {\r\n              emphasis: {\r\n                  show: false,\r\n                  areaColor: '#eee'\r\n              }\r\n          },\r\n          itemStyle: {\r\n              normal: {\r\n                  borderWidth: 0,\r\n                  borderColor: '#404a59',\r\n                  areaColor: 'rgb(216,228,236)'\r\n              },\r\n              emphasis: {\r\n                  show: false,\r\n                  areaColor: 'black',\r\n              }\r\n          },\r\n          left: '5%',\r\n          top: 60,\r\n          bottom: '5%',\r\n          right: '5%',\r\n          roam: true,\r\n\r\n          // <span style=\"color:#ff0000;\">regions: coldata</span>  \r\n\r\n      },\r\n      /*    parallelAxis: makeParallelAxis(schema),\r\n       */\r\n      grid: [{\r\n          show: true,\r\n          left: 0,\r\n          right: 0,\r\n          top: '100%',\r\n          bottom: 0,\r\n          borderColor: 'transparent',\r\n          /* backgroundColor: '#FBF9F8',*/\r\n          backgroundColor: '#FBF9F8',\r\n          z: 99\r\n      }, {\r\n          show: true,\r\n          left: 0,\r\n          right: 0,\r\n          top: 0,\r\n          height: 28,\r\n          borderColor: 'transparent',\r\n          backgroundColor: '#FBF9F8',\r\n          z: 10\r\n      }],\r\n\r\n      series: [{\r\n              name: 'Prices and Earnings 2012',\r\n              type: 'scatter',\r\n              coordinateSystem: 'geo',\r\n              //                    symbolSize: 8,\r\n              data: makeMapData(rawData),\r\n              activeOpacity: 1,\r\n              label: {\r\n                  normal: {\r\n                      formatter: '{b}',\r\n                      fontWeight: 'bold',\r\n                      color: \"black\",\r\n                      position: 'top',\r\n                      show: true\r\n                  }\r\n\r\n              },\r\n              symbolSize: 14,\r\n              zlevel: 6,\r\n              itemStyle: {\r\n                  normal: {\r\n                      color: '#05C3F9',\r\n                  }\r\n              }\r\n          },\r\n\r\n      ]\r\n  };","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"bd-104705336","theme":"roma","layout":"","viewCount":1032,"userName":"Jack_Steve","commentCount":2,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB14VFfLYz.png?v=1520998713325","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"Jack_Steve"}}