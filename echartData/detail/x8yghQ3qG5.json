{"status":0,"data":{"cid":"x8yghQ3qG5","authorUid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","authorUserName":"林***影","title":"双轴折线图","description":"双轴折线图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-07T02:56:53.000Z","lastUpdateTime":"2021-07-07T02:56:53.000Z","auth":2,"uid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-07T02:56:53.000Z","code":"const payload = {\n    id: 'total-workers',\n    title: ['长期', '供服', '产业'],\n    lineTitle: ['全口径'],\n    color: ['47, 125, 242', '246, 48, 72', '249, 202, 60'],\n    lineColor: ['169, 219, 50'],\n    unit: '单位：人',\n    data: {\n        legend: ['长期', '供服', '产业'],\n        legend2: ['全口径'],\n        data1: ['4036', '3941', '3899', '3859', '3813', '3777'],\n        data2: ['3095', '3034', '2987', '2948', '2930', '2897'],\n        data3: ['1914', '1913', '1929', '1915', '1779', '1397'],\n        data4: [],\n        x: ['2016', '2017', '2018', '2019', '2020', '2021'],\n        line1: [9044, 8883, 8813, 8721, 8521, 8073],\n    },\n};\n\nconst dataX = payload.data.x\nconst values1 = payload.data.data1 || []\nconst values2 = payload.data.data2 || []\nconst values3 = payload.data.data3 || []\nconst values4 = payload.data.data4 || []\nconst line1 = payload.data.line1 || []\n\nconst max = payload.max || Math.max(...values1, ...values2, ...values3, ...values4) + 10\nconst min = payload.min || Math.min(...values1, ...values2, ...values3, ...values4) - 10\nconst max2 = payload.lineMax || parseInt(Math.max(...line1), 10) + 10\nconst min2 = payload.lineMin || parseInt(Math.min(...line1), 10) - 10\n\n// max = max > 100 ? 100 : max\n\n// myChart.clear()\noption = {\n    title: {\n        textStyle: {\n            align: 'center',\n            color: '#fff',\n            fontSize: 20\n        },\n        top: '5%',\n        left: 'center'\n    },\n    tooltip: {\n        trigger: 'axis',\n        backgroundColor: 'rgba(9, 30, 60, 0.6)',\n        extraCssText: 'box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;',\n        borderWidth: 0,\n        confine: false,\n        appendToBody: true,\n        textStyle: {\n            color: '#fff',\n            fontSize: 10\n        },\n        // 轴触发提示才有效\n        axisPointer: {\n            type: 'shadow'\n        },\n        shadowStyle: {\n            color: 'rgba(157, 168, 245, 0.1)'\n        },\n        formatter(data) {\n            var tmp = ['<h5 class=\"echarts-tip-h5\">' + data[0].name + '</h5>']\n            data.forEach(item => {\n                let html = ''\n                html += '<div class=\"echarts-tip-div\">'\n                html += '<div class=\"left\">' + item.marker + ' ' + item.seriesName + '：</div>'\n                html += '<div class=\"right\">' + item.data + '</div>'\n                html += '</div>'\n                tmp.push(html)\n            })\n            return tmp.join('')\n        }\n    },\n    legend: {\n        width: window.innerWidth < 1600 ? '100%' : '60%',\n        icon: 'circle',\n        top: 7,\n        itemWidth: 12,\n        itemHeight: 6,\n        textStyle: {\n            color: '#2CD3FD',\n            fontSize: 12\n        },\n        align: 'left'\n    },\n    grid: {\n        left: 15,\n        right: 15,\n        bottom: 2,\n        top: 45,\n        // 是否包含文本\n        containLabel: true\n    },\n    xAxis: [\n        {\n            type: 'category',\n            axisLine: {\n                show: true\n            },\n            splitArea: {\n                color: '#f00',\n                lineStyle: {\n                    color: '#f00'\n                }\n            },\n            axisLabel: {\n                color: '#96CBFA'\n            },\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    color: '#A0C5F7',\n                    opacity: '0.1'\n                }\n            },\n            boundaryGap: false,\n            data: dataX\n        }\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            name: payload.unit,\n            min,\n            max,\n            axisLabel: {\n                formatter: '{value}',\n                color: '#4176A3'\n            },\n            // formatter: '{value} %',\n            nameTextStyle: {\n                align: 'left',\n                color: '#3E719D',\n                fontSize: 11,\n                lineHeight: 11,\n                verticalAlign: 'middle',\n                padding: [0, 0, 10, 0]\n            },\n            // 分割线\n            splitLine: {\n                //坐标轴在 grid 区域中的分隔线。\n                show: true,\n                lineStyle: {\n                    color: '#A0C5F7',\n                    opacity: 0.1\n                }\n            },\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            }\n        },\n        {\n            type: 'value',\n            name: payload.unit,\n            min: min2,\n            max: max2,\n            axisLabel: {\n                formatter: '{value}',\n                color: '#4176A3'\n            },\n            // formatter: '{value} %',\n            nameTextStyle: {\n                align: 'right',\n                color: '#3E719D',\n                fontSize: 11,\n                lineHeight: 11,\n                verticalAlign: 'middle',\n                padding: [0, 0, 10, 0]\n            },\n            // 分割线\n            splitLine: {\n                //坐标轴在 grid 区域中的分隔线。\n                show: true,\n                lineStyle: {\n                    color: '#A0C5F7',\n                    opacity: 0.1\n                }\n            },\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            }\n        }\n    ],\n    dataZoom: [\n        {\n            show: false,\n            height: 30,\n            xAxisIndex: [0],\n            bottom: 30,\n            start: 0,\n            end: 100,\n            // handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\n            handleSize: '110%',\n            handleStyle: {\n                color: '#5B3AAE'\n            },\n            textStyle: {\n                color: 'rgba(204, 187, 225, 0.5)'\n            },\n            fillerColor: 'rgba(67, 55, 160, 0.4)',\n            borderColor: 'rgba(204, 187, 225, 0.5)'\n        },\n        {\n            type: 'inside',\n            show: true,\n            height: 15,\n            start: 1,\n            end: 35\n        }\n    ],\n    series: []\n}\n\nconst getService = (name, color, data, index) => {\n    return {\n        yAxisIndex: index,\n        name,\n        type: 'line',\n        smooth: true, //是否平滑\n        showAllSymbol: true,\n        // symbol: 'image://./static/images/guang-circle.png',\n        symbol: 'circle',\n        symbolSize: 2,\n        // 线颜色\n        lineStyle: {\n            width: 1,\n            color: 'rgba(' + color + ', 1)',\n            shadowColor: 'rgba(0, 0, 0, .3)',\n            shadowBlur: 0,\n            shadowOffsetY: 5,\n            shadowOffsetX: 5\n        },\n        label: {\n            show: false,\n            position: 'top',\n            color: 'rgba(' + color + ', 1)'\n        },\n        // 点颜色\n        itemStyle: {\n            color: 'rgba(' + color + ', 1)',\n            borderColor: '#fff',\n            borderWidth: 3,\n            shadowColor: 'rgba(0, 0, 0, .3)',\n            shadowBlur: 0,\n            shadowOffsetY: 2,\n            shadowOffsetX: 2\n        },\n        // 区域颜色 rgba(' + color + ', 1)\n        areaStyle: {\n            color: new echarts.graphic.LinearGradient(\n                0,\n                0,\n                0,\n                1,\n                [\n                    {\n                        offset: 0,\n                        color: 'rgba(' + color + ', 0.1)'\n                    },\n                    {\n                        offset: 1,\n                        color: 'rgba(' + color + ', 0)'\n                    }\n                ],\n                false\n            ),\n            shadowColor: 'rgba(' + color + ', 0.9)',\n            shadowBlur: 20\n        },\n        data\n    }\n}\n\nif (values1 && values1.length > 0) {\n    option.series.push(getService(payload.title[0], payload.color[0], values1, 0))\n}\nif (values2 && values2.length > 0) {\n    option.series.push(getService(payload.title[1], payload.color[1], values2, 0))\n}\nif (values3 && values3.length > 0) {\n    option.series.push(getService(payload.title[2], payload.color[2], values3, 0))\n}\nif (values4 && values4.length > 0) {\n    option.series.push(getService(payload.title[3], payload.color[3], values4, 0))\n}\nif (line1 && line1.length > 0) {\n    option.series.push(getService(payload.lineTitle[0], payload.lineColor[0], line1, 1))\n}","html":"","externalScripts":"","updaterUID":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","theme":"","layout":"","viewCount":0,"userName":"林***影","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8yghQ3qG5.png?v=1625626613882","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"林***影"}}