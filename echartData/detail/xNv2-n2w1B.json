{"status":0,"data":{"cid":"xNv2-n2w1B","authorUid":"bd-2724980533","authorUserName":"l***9","title":"多图联动","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-12-07T05:35:00.000Z","lastUpdateTime":"2021-12-14T09:03:51.000Z","auth":2,"uid":"bd-2724980533","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.0","versionCreateTime":"2021-12-14T09:03:52.000Z","code":"//图表标题\n\tvar chart_title='榆林市十二县农村饮水安全巩固提升情况测试'; \n\t//图表X轴数据\nvar Xdata = ['深圳', '福州', '中山', '杭州', '天津', '东莞', '武汉', '长春', '珠海', '佛山', '北京', '南宁', '株洲', '厦门', '长沙']\n\n\t//图表项目\n\tvar fp_key = ['来访量', '推售量'];\n\tvar fp_bar_postion = [\"left\",\"left\",\"left\",\"left\",\"right\",\"right\",\"right\",\"right\"];\n\tvar fp_coler=['#258df6','#6fce7d','#fbc807','#f5814b'];\n\t let lineColor=\"rgba(0,0,0,0.2)\";\n\t \n\t  let colors = [{\n                borderColor: \"rgba(227,161,96,1)\",\n                start: \"rgba(227,161,96,0.8)\",\n                end: \"rgba(227,161,96,0.3)\"\n            },\n                {\n                    borderColor: \"rgba(0,222,255,1)\",\n                    start: \"rgba(0,222,255,0.3)\",\n                    end: \"rgba(0,222,255,0.8)\"\n                },\n            ];\n\t//图表项目数据\n  var LF_val = {\n    0: [80, 128, 255, 254, 313, 143, 360, 343, 338, 163, 333, 317, 302, 352, 163,],\n    1: [389, 259, 262, 324, 232, 176, 196, 214, 133, 370, 268, 360, 395, 352, 163,],\n    2: [111, 315, 139, 375, 204, 352, 163, 258, 385, 209, 209, 243, 352, 352, 163,],\n    3: [227, 210, 328, 292, 241, 110, 130, 185, 392, 392, 153, 187, 200, 352, 163,],\n    4: [100, 350, 300, 250, 200, 150, 100, 150, 200, 250, 300, 350, 350, 352, 163,],\n    5: [280, 128, 255, 254, 313, 143, 360, 343, 338, 163, 333, 317, 302, 352, 163,],\n    6: [121, 388, 233, 309, 133, 308, 297, 283, 349, 273, 229, 238, 291, 352, 163,],\n    7: [200, 350, 300, 250, 200, 150, 100, 150, 200, 250, 300, 350, 350, 352, 163,],\n    8: [380, 129, 173, 101, 310, 393, 386, 296, 366, 268, 208, 149, 239, 352, 163,],\n    9: [363, 396, 388, 108, 325, 120, 180, 292, 200, 309, 223, 236, 271, 352, 163,],\n    10: [300, 350, 300, 250, 200, 150, 100, 150, 200, 250, 300, 350, 350, 352, 163,],\n    11: [100, 350, 300, 250, 200, 150, 100, 150, 200, 250, 300, 350, 350, 352, 163,],\n    12: [280, 128, 255, 254, 313, 143, 360, 343, 338, 163, 333, 317, 302, 352, 163,],\n\n};\n\nvar TS_val = {\n    0: [80, 128, 255, 254, 313, 263, 302, 372, 163, 258, 385, 209, 209, 352, 163,],\n    1: [20, 350, 300, 250, 200, 400, 350, 300, 250, 258, 385, 209, 209, 352, 163,],\n    2: [30, 129, 173, 101, 310, 356, 239, 208, 330, 258, 385, 209, 209, 352, 163,],\n    3: [33, 396, 388, 108, 325, 209, 271, 215, 216, 258, 385, 209, 209, 352, 163,],\n    4: [30, 350, 300, 250, 200, 400, 350, 300, 250, 258, 385, 209, 209, 352, 163,],\n    5: [10, 350, 300, 250, 200, 400, 350, 300, 250, 258, 385, 209, 209, 352, 163,],\n    6: [80, 128, 255, 254, 313, 263, 302, 372, 163, 258, 385, 209, 209, 352, 163,],\n    7: [89, 259, 262, 324, 232, 185, 392, 392, 153, 258, 385, 209, 209, 352, 163,],\n    8: [11, 315, 139, 375, 204, 204, 352, 163, 258, 258, 385, 209, 209, 352, 163,],\n    9: [27, 210, 328, 292, 241, 150, 200, 250, 300, 258, 385, 209, 209, 352, 163,],\n    10: [10, 350, 300, 250, 200, 400, 350, 300, 250, 258, 385, 209, 209, 352, 163,],\n    11: [20, 128, 255, 254, 313, 263, 302, 372, 163, 258, 385, 209, 209, 352, 163,],\n    12: [11, 388, 233, 309, 133, 224, 291, 185, 203, 258, 385, 209, 209, 352, 163,],\n\n};\n\t//图表月份\n\tvar timeLineData = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,];\n            diskData = [\n                {\n                    name: '来访',\n                    value: 1,\n                    children: [\n                        {\n                            name: '来访1',\n                            value: 1\n                        },\n                        {\n                            name: '来访2',\n                            value: 1\n                        },\n                        {\n                            name: '来访3',\n                            value: 1\n                        },\n                        {\n                            name: '来访4',\n                            value: 1\n                        },\n                        {\n                            name: '来访5',\n                            value: 1\n                        }\n                    ]\n                },\n                {\n                    name: '推送',\n                    value: 1,\n                    children: [\n                        {\n                            name: '推送1',\n                            value: 1\n                        },\n                        {\n                            name: '推送2',\n                            value: 1\n                        },\n                        {\n                            name: '推送3',\n                            value: 1\n                        },\n                        {\n                            name: '推送4',\n                            value: 1\n                        },\n                        {\n                            name: '推送5',\n                            value: 1\n                        },\n                        {\n                            name: '推送6',\n                            value: 1\n                        }\n                    ]\n                },\n                {\n                    name: '来访',\n                    value: 1,\n                    children: [\n                        {\n                            name: '来访1',\n                            value: 1\n                        },\n                        {\n                            name: '来访2',\n                            value: 1\n                        },\n                        {\n                            name: '来访3',\n                            value: 1\n                        },\n                        {\n                            name: '来访4',\n                            value: 1\n                        },\n                        {\n                            name: '来访5',\n                            value: 1\n                        }\n                    ]\n                }\n            ]\n\toption = {\n    baseOption: {\n    \n        timeline: {\n            show: true,\n            axisType: 'category',\n            tooltip: {\n                show: true,\n                formatter: function(params) {\n                    console.log(params);\n                    return params.name + '月份数据统计';\n                }\n            },\n            autoPlay: true,\n            currentIndex: 6,\n            playInterval: 3000,\n            left: '3%',\n                    right: '3%',\n                    bottom: '0%',\n                    width: '94%',\n            label: {\n                normal: {\n                    show: true,\n                    interval: 'auto',\n                    formatter: '{value}月',\n                     textStyle: {\n                                color: 'red',\n                            }\n                },\n                  emphasis: {\n                            textStyle: {\n                                color: 'red'\n                            }\n                        }\n            },\n              symbolSize: 10,\n                    lineStyle: {\n                        color: '#red'\n                    },\n                    checkpointStyle: {\n                        borderColor: '#red',\n                        borderWidth: 2\n                    },\n                    controlStyle: {\n                        showNextBtn: true,\n                        showPrevBtn: true,\n                        normal: {\n                            color: '#ff8800',\n                            borderColor: '#ff8800'\n                        },\n                        emphasis: {\n                            color: 'red',\n                            borderColor: 'red'\n                        }\n                    },\n            data: [],\n        },\n        title: {\n            //   text:'大北京景点帅哥美女统计', \n            textStyle: {\n                color: '#fff',\n                fontSize: 16,\n            },\n            //subtext: '作者:',\n        },\n        legend: {\n            data: fp_key,\n             top: '0%',\n            right: '5%',\n            itemWidth: 15,\n            itemHeight: 5,\n            // itemGap: 343,\n            icon: 'horizontal',\n            textStyle: {\n                color: '#000',\n                fontSize: 16,\n            },\n        },\n        tooltip: {\n            show: true,\n            trigger: 'axis',\n            //formatter: '{b}<br/>{a}: {c}人',\n            axisPointer: {\n                type: 'shadow',\n            }\n        },\n    \n      grid: [\n                {\n                show: false,\n                left: '5%',\n                top: '10%',\n                bottom: '8%',\n                containLabel: true,\n                width: '40%'\n            }, {\n                show: false,\n                left: '50%',\n                top: '15%',\n                bottom: '7%',\n                width: '0%'\n            }, {\n                show: false,\n                left: '55%',\n                top: '10%',\n                bottom: '8%',\n                containLabel: true,\n                width: '40%'\n            },\n             {\n                gridindex:3,\n                show: false,\n               \n            }],\n\n        xAxis: [\n            {\n\t\t\n                type: 'value',\n\t\t\t\ttriggerEvent: true,\n                inverse: true,\n                axisLine: {\n                    show: false,\n                },\n                axisTick: {\n                    show: false,\n                },\n                position: 'top',\n                axisLabel: {\n                    show: true,\n                    textStyle: {\n                        color: '#B2B2B2',\n                        fontSize: 12,\n                    },\n                },\n                splitLine: {\n                    show: true,\n                            lineStyle:{\n                                color:lineColor\n                            }\n                },\n        }, \n        {\n            gridIndex: 1,\n            show: false,\n        }, \n        {\n\t\n            gridIndex: 2,\n            type: 'value',\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'top',\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#B2B2B2',\n                    fontSize: 12,\n                },\n            },\n            splitLine: {\n                 show: true,\n                            lineStyle:{\n                                color:lineColor\n                            }\n            },\n        } ,\n           {\n\t\n            gridIndex: 3,\n            type: 'value',\n             show: false,\n        } \n        ],\n        yAxis: [{\n            type: 'category',\n            inverse: true,\n            position: 'right',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                margin: 8,\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 12,\n                },\n\n            },\n            data: Xdata,\n        }, {\n            gridIndex: 1,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#9D9EA0',\n                    fontSize: 12,\n                },\n\n            },\n            data: Xdata.map(function(value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        }, {\n            gridIndex: 2,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#9D9EA0',\n                    fontSize: 12,\n                },\n\n            },\n            data: Xdata,\n        },{\n            gridIndex:3,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#9D9EA0',\n                    fontSize: 12,\n                },\n\n            },\n            data: Xdata,\n        } ],\n        series: [],\n\n    },\n\n    options: [],\n\n\n};\n\n\tfor (var i = 0; i < timeLineData.length; i++) {\n    option.baseOption.timeline.data.push(timeLineData[i]);\n    option.options.push({\n        series: [\n            {\n                name: fp_key[0],\n                type: 'bar',\n                stack: 'one',\n                 realtimeSort: false,\n                barGap: 15,\n                barWidth: 15,\n                label: {\n                    normal: {\n                         show: true,\n                        position:'inside',\n                         textStyle: {\n                            color: '#fff',\n                           \n                            fontSize: 12,\n                        },\n                    },\n                    emphasis: {\n                        show: true,\n                        position: 'inside',\n                        offset: [0, 0],\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 14,\n                        },\n                    },\n                },\n                 itemStyle: {\n                        normal: {\n                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                                offset: 0,\n                                color: colors[0].start\n                            },\n                                {\n                                    offset: 1,\n                                    color: colors[0].end\n                                }\n                            ]),\n                        }\n                    },\n                data: LF_val[timeLineData[i]],\n            },\n\n            {\n                name: fp_key[1],\n                stack: 'right',\n                type: 'bar',\n                 realtimeSort: true,\n                barGap: 15,\n                barWidth: 15,\n                xAxisIndex: 2,\n                yAxisIndex: 2,\n                label: {\n                    normal: {\n                        show: true,\n                        position:'inside',\n                         textStyle: {\n                            color: '#fff',\n                            fontSize: 12,\n                        },\n                    },\n                    emphasis: {\n                        show: true,\n                        position: 'inside',\n                        offset: [0, 0],\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 14,\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                            offset: 0,\n                            color: colors[1].start\n                        },\n                            {\n                                offset: 1,\n                                color: colors[1].end\n                            }\n                        ]),\n                    }\n                },\n                data: TS_val[timeLineData[i]],\n            },\n            \n           \n          \n        ]\n    });\n}","html":"","externalScripts":"","updaterUID":"bd-2724980533","theme":"","layout":"","viewCount":0,"userName":"l***9","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xNv2-n2w1B.png?v=1639472632210","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-treemap","timeline","title","tooltip"],"customTags":[],"updaterUserName":"l***9"}}