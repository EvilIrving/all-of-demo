{"status":0,"data":{"cid":"xHJR-CPeRb","authorUid":"bd-1245979803","authorUserName":"d***t","title":"圈、点、时、分、秒","description":"","latestVersion":8,"alwaysLatest":1,"createTime":"2017-10-27T08:27:50.000Z","lastUpdateTime":"2017-10-27T08:27:50.000Z","auth":2,"uid":"bd-1245979803","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"3.8.0","versionCreateTime":"2018-10-30T05:47:39.000Z","code":" var ldata = [{}];\r\n var w = new Array(\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\");\r\n\r\n function roundDatas(num) {\r\n     var datas = [];\r\n     for (var i = 0; i < num; i++) {\r\n         var x = Math.cos(30 * i * Math.PI / 180);\r\n         var y = Math.sin(30 * i * Math.PI / 180);\r\n         datas.push({\r\n             name: i,\r\n             x: y,\r\n             y: -x\r\n         });\r\n     }\r\n     return datas;\r\n }\r\n\r\n\r\n function roundDatas1(num) {\r\n     var datas = [];\r\n     for (var i = 0; i < num; i++) {\r\n         var x = Math.cos(6 * i * Math.PI / 180);\r\n         var y = Math.sin(6 * i * Math.PI / 180);\r\n         datas.push({\r\n             name: i,\r\n             x: y,\r\n             y: -x\r\n         });\r\n     }\r\n     return datas;\r\n }\r\n\r\n function linkDatas(num) {\r\n     var ldatas = [];\r\n     for (var i = 0; i < num; i++) {\r\n         ldatas.push({\r\n             source: i,\r\n             target: i + 1\r\n         });\r\n     }\r\n     ldatas.push({\r\n         source: (i - 1),\r\n         target: 0\r\n     });\r\n     return ldatas;\r\n }\r\n\r\n\r\n option = {\r\n     title: {\r\n         text: '',\r\n         subtext: '',\r\n         left:500,\r\n         top: 100,\r\n         backgroundColor: '#FFFAFA',\r\n         borderRadius: 8,\r\n         textStyle: {\r\n             color: '#102b6a',\r\n         },\r\n         subtextStyle: {\r\n             color: '#102b6a',\r\n         }\r\n     },\r\n\r\n     legend: {\r\n         x: '280',\r\n         top: '10%',\r\n         itemGap: 20,\r\n         borderColor: '#6495ED',\r\n         borderRadius: [5, 5, 5, 5],\r\n         shadowColor: 'rgba(0, 245, 255, 0.8)',\r\n         shadowBlur: 10,\r\n         shadowOffsetX: 8,\r\n         shadowOffsetY: -6,\r\n         borderWidth: 1,\r\n         selectedMode: false,\r\n         textStyle: {\r\n             color: '#102b6a',\r\n         },\r\n         data: ['时', '分', '秒']\r\n     },\r\n     series: [\r\n\r\n         {\r\n             name: '时',\r\n             type: 'graph',\r\n             roam: true,\r\n             draggable: true,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: '#694d9f'\r\n                 }\r\n             },\r\n             lineStyle: {\r\n                 normal: {\r\n                     color: '#694d9f',\r\n                     curveness: 1,\r\n                     opacity: 0.2\r\n                 }\r\n             },\r\n\r\n             symbol: 'circle',\r\n             symbolSize: 8,\r\n             top: '225',\r\n             left: '300',\r\n             width: '100',\r\n             height: '100',\r\n             data: roundDatas(12),\r\n             //links: linkDatas(12)\r\n         },\r\n\r\n         {\r\n             name: '分',\r\n             type: 'graph',\r\n             roam: true,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: '#2585a6'\r\n                 }\r\n             },\r\n             lineStyle: {\r\n                 normal: {\r\n                     color: '#2585a6',\r\n                     curveness: 1,\r\n                     opacity: 0.2\r\n                 }\r\n             },\r\n\r\n             symbol: 'circle',\r\n             symbolSize: 5,\r\n             top: '168',\r\n             left: '250',\r\n             width: '200',\r\n             height: '200',\r\n             data: roundDatas1(60),\r\n             //links: linkDatas(60)\r\n         }, {\r\n             name: '秒',\r\n             type: 'graph',\r\n             roam: true,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: '#f173ac'\r\n                 }\r\n             },\r\n             lineStyle: {\r\n                 normal: {\r\n                     color: '#f173ac',\r\n                     curveness: 1,\r\n                     opacity: 0.2\r\n                 }\r\n             },\r\n\r\n             symbol: 'circle',\r\n             symbolSize: 3,\r\n             top: '120',\r\n             left: '200',\r\n             width: '300',\r\n             height: '300',\r\n             data: roundDatas1(60),\r\n             //links: linkDatas(60)\r\n         },\r\n\r\n\r\n     ]\r\n };\r\n\r\n\r\n function start() {\r\n     myChart.setOption(option);\r\n     var dt = new Date();\r\n     var year = dt.getFullYear();\r\n     var month = dt.getMonth() + 1;\r\n     var week = dt.getDay();\r\n     var day = dt.getDate();\r\n     var h = dt.getHours();\r\n     var m = dt.getMinutes();\r\n     var s = dt.getSeconds();\r\n     var xs = Math.cos(6 * s * Math.PI / 180);\r\n     var ys = Math.sin(6 * s * Math.PI / 180);\r\n     var xm = Math.cos(6 * m * Math.PI / 180);\r\n     var ym = Math.sin(6 * m * Math.PI / 180);\r\n     if (h > 12) {\r\n         h = h - 12;\r\n     }\r\n     var xh = Math.cos(30 * h * Math.PI / 180);\r\n     var yh = Math.sin(30 * h * Math.PI / 180);\r\n\r\n\r\n     for (var j = 0; j < s; j++) {\r\n         var x1 = Math.cos(6 * j * Math.PI / 180);\r\n         var y1 = Math.sin(6 * j * Math.PI / 180);\r\n         option.series[2].data[j] = {\r\n             name: j,\r\n             symbolSize: 3,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     }\r\n     for (var j = 59; j > s; j--) {\r\n         var x1 = Math.cos(6 * j * Math.PI / 180);\r\n         var y1 = Math.sin(6 * j * Math.PI / 180);\r\n         option.series[2].data[j] = {\r\n             name: j,\r\n             symbolSize: 3,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     }\r\n     //秒\r\n\r\n\r\n     for (var j = 0; j < m; j++) {\r\n         var x1 = Math.cos(6 * j * Math.PI / 180);\r\n         var y1 = Math.sin(6 * j * Math.PI / 180);\r\n         option.series[1].data[j] = {\r\n             name: j,\r\n             symbolSize: 5,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     }\r\n     for (var j = 59; j > m; j--) {\r\n         var x1 = Math.cos(6 * j * Math.PI / 180);\r\n         var y1 = Math.sin(6 * j * Math.PI / 180);\r\n         option.series[1].data[j] = {\r\n             name: j,\r\n             symbolSize: 5,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     } //分\r\n\r\n\r\n     for (var j = 0; j < h; j++) {\r\n         var x1 = Math.cos(30 * j * Math.PI / 180);\r\n         var y1 = Math.sin(30 * j * Math.PI / 180);\r\n         option.series[0].data[j] = {\r\n             name: j,\r\n             symbolSize: 8,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     }\r\n     for (var j = 12; j > h; j--) {\r\n         var x1 = Math.cos(30 * j * Math.PI / 180);\r\n         var y1 = Math.sin(30 * j * Math.PI / 180);\r\n         option.series[0].data[j] = {\r\n             name: j,\r\n             symbolSize: 8,\r\n             x: y1,\r\n             y: -x1\r\n         };\r\n     } //时\r\n\r\n\r\n     /////////////////////////////////////////////////////////////\r\n\r\n     option.series[2].data[s] = {\r\n         name: s,\r\n         symbolSize: 20,\r\n         x: ys,\r\n         y: -xs,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: '#f173ac'\r\n             }\r\n         },\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 formatter: '{b}',\r\n\r\n             }\r\n         }\r\n     };\r\n     if (s == 0) {\r\n         option.series[2].data[0] = {\r\n             name: '0',\r\n             symbolSize: 20,\r\n             x: ys,\r\n             y: -xs,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     formatter: '0',\r\n\r\n                 }\r\n             }\r\n         }\r\n     }; //秒\r\n\r\n     option.series[1].data[m] = {\r\n         name: m,\r\n         symbolSize: 25,\r\n         x: ym,\r\n         y: -xm,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: '#2585a6'\r\n             }\r\n         },\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 formatter: '{b}',\r\n\r\n             }\r\n         }\r\n     };\r\n     if (m == 0) {\r\n         option.series[1].data[0] = {\r\n             name: '0',\r\n             symbolSize: 25,\r\n             x: ym,\r\n             y: -xm,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     formatter: '0',\r\n\r\n                 }\r\n             }\r\n         }\r\n     } //分\r\n\r\n     option.series[0].data[h] = {\r\n         name: h,\r\n         symbolSize: 30,\r\n         x: yh,\r\n         y: -xh,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: '#694d9f'\r\n             }\r\n         },\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 formatter: '{b}',\r\n\r\n             }\r\n         }\r\n     };\r\n     if (h == 0) {\r\n         option.series[0].data[0] = {\r\n             name: '0',\r\n             symbolSize: 30,\r\n             x: yh,\r\n             y: -xh,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     formatter: '0',\r\n\r\n                 }\r\n             }\r\n         }\r\n     } //时\r\n     option.title.text = year + '年' + month + '月' + day + '日';\r\n     option.title.subtext = '星期' + w[week];\r\n\r\n     setTimeout(start, 100);\r\n\r\n }\r\n\r\n start();","html":"","externalScripts":"","updaterUID":"bd-1245979803","theme":"","layout":"","viewCount":1104,"userName":"d***t","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJR-CPeRb.png?v=1540878459154","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","title"],"customTags":[],"updaterUserName":"d***t"}}