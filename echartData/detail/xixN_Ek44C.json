{"status":0,"data":{"cid":"xixN_Ek44C","authorUid":"bd-2086182671","authorUserName":"万瘦观使要努力","title":"自定义嵌套柱图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-18T06:25:21.000Z","lastUpdateTime":"2019-05-18T06:25:21.000Z","auth":2,"uid":"bd-2086182671","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-18T06:25:21.000Z","code":"var data = [\n[0, 10, 23, '定额'], \n[12, 22, 12, '定额'],\n[24, 34, 7, '定额'],\n];\n\nvar data1 = [\n[2, 8, 15, '实际'], \n [14, 20, 22, '实际'], \n[26,32, 17, '实际'],\n];\n\ndata1 = echarts.util.map(data1, function (item, index) {\n    if(data1[index][2] > data[index][2]) {\n        return {\n            value: item,\n            itemStyle: {\n                normal: {\n                    color: \"red\",\n                    opacity:0.8,\n                }\n            }\n        };\n    }else{\n        return {\n            value: item,\n            itemStyle: {\n                normal: {\n                    color: \"#74c6e1\",\n                    opacity:0.8,\n                }\n            }\n        };\n        \n    }\n    \n});\n\ndata = echarts.util.map(data, function (item, index) {\n    return {\n        value: item,\n        itemStyle: {\n            normal: {\n               color: \"#3b87ed\",\n               opacity:0.2,\n            }\n        }\n    };\n});\n\n\n\nfunction renderItem(params, api) {\n    var yValue = api.value(2);\n    var start = api.coord([api.value(0), yValue]);\n    var size = api.size([api.value(1) - api.value(0), yValue]);\n    var style = api.style();\n\n    return {\n        type: 'rect',\n        shape: {\n            x: start[0],\n            y: start[1],\n            width: size[0],\n            height: size[1]\n        },\n        style: style\n    };\n}\n\noption = {\n    title: {\n        text: '定额&实际',\n        left: 'center'\n    },\n    grid:{\n        show:true,\n        backgroundColor: '#948a8a20',\n    },\n    \n    tooltip: {\n    },\n    legend: { \n        icon:'roundRect',\n        left:'right'\n    },\n    xAxis: [{\n        scale: true,\n        splitLine: {\n            show:false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        }\n      \n    },{\n        scale: true,\n         data: ['Mon', 'Tue', 'Wed']\n    }],\n    yAxis: {\n        \n    },\n    series: [{\n        name:'实际',\n        z:20,\n        type: 'custom',\n        renderItem: renderItem,\n        dimensions: ['from', 'to', 'profit'],\n        encode: {\n            x: [0, 1],\n            y: 2,\n            tooltip: [2],\n            itemName: 3\n        },\n        data: data1\n    },{\n        name:'定额',\n        type: 'custom',\n        renderItem: renderItem,\n        dimensions: ['from', 'to', 'profit'],\n        encode: {\n            x: [0, 1],\n            y: 2,\n            tooltip: [2],\n            itemName: 3\n        },\n        data: data\n    },]\n};\n\n","html":"","externalScripts":"","updaterUID":"bd-2086182671","theme":"dark","layout":"{\"name\":\"NxM\",\"width\":[],\"height\":[]}","viewCount":47,"userName":"万瘦观使要努力","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xixN_Ek44C.png?v=1558160721370","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom","title","tooltip"],"customTags":[],"updaterUserName":"万瘦观使要努力"}}