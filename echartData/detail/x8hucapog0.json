{"status":0,"data":{"cid":"x8hucapog0","authorUid":"bd-258458457","authorUserName":"破***火","title":"单轴散点图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-06-20T14:10:23.000Z","lastUpdateTime":"2019-06-20T14:10:23.000Z","auth":2,"uid":"bd-258458457","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-20T14:10:23.000Z","code":"// 散点数据\nlet seriesData = {\n    \"c207620e-aa8f-4f4d-849b-455a39915e65\": [\n        [0, 3, 701, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [1, 4530, 700, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [2, 2, 696, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [3, 16627, 700, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [4, 480, 691, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [5, 1184, 696, \"c207620e-aa8f-4f4d-849b-455a39915e65\"],\n        [6, 244, 700, \"c207620e-aa8f-4f4d-849b-455a39915e65\"]\n        // [0, 3],\n        // [1, 10],\n        // [2, 2],\n        // [3, 11],\n        // [4, 6],\n        // [5, 4],\n        // [6, 2]\n    ],\n    \"08b97216-23e3-442d-a2a3-443595eea9d5\": [\n        [0, 3, 701, \"08b97216-23e3-442d-a2a3-443595eea9d5\"],\n        [1, 1, 700, \"08b97216-23e3-442d-a2a3-443595eea9d5\"],\n        [2, 7261, 697, \"08b97216-23e3-442d-a2a3-443595eea9d5\"],\n        [3, 5, 700, \"08b97216-23e3-442d-a2a3-443595eea9d5\"]\n        // [0, 3],\n        // [1, 1],\n        // [2, 12],\n        // [3, 5]\n    ]\n}\n\n// x轴时间数据\nlet xAxisData = {\n    // \"c207620e-aa8f-4f4d-849b-455a39915e65\": [\"2019-06-19 10:04:43\", \"2019-06-19 10:30:19\", \"2019-06-19 12:00:09\", \"2019-06-19 12:35:29\", \"2019-06-19 17:13:13\", \"2019-06-19 17:22:12\", \"2019-06-19 17:50:36\"],\n    \"c207620e-aa8f-4f4d-849b-455a39915e65\": [\"10:04\", \"10:30\", \"12:00\", \"12:35\", \"17:13\", \"17:22\", \"17:50\"],\n    // \"08b97216-23e3-442d-a2a3-443595eea9d5\": [\"2019-06-19 10:24:07\", \"2019-06-19 10:25:58\", \"2019-06-19 10:27:54\", \"2019-06-19 12:41:46\"]\n    \"08b97216-23e3-442d-a2a3-443595eea9d5\": [\"10:24:07\", \"10:25\", \"10:27\", \"12:41\"]\n}\n\n// 映射数据\nlet inRangeData = [701, 700, 696, 691, 697]\nlet _colors = [\n    \"#c23531\",\n    \"#2f4554\",\n    \"#61a0a8\",\n    \"#d48265\",\n    \"#91c7ae\",\n    \"#749f83\",\n    \"#ca8622\",\n    \"#bda29a\",\n    \"#6e7074\",\n    \"#546570\",\n    \"#c4ccd3\"\n]\n\nlet colors = {}\ninRangeData.forEach((item, idx) => {\n    colors[item] = _colors[idx]\n})\n\nlet newTitle = []\nlet singleAxisData = []\nObject.keys(xAxisData).forEach((k, idx) => {\n    console.log(k, idx)\n    newTitle.push({\n        textBaseline: 'middle',\n        top: (idx + 0.5) * 100 / 7 + '%',\n        text: 'Person ' + idx // k\n    })\n    singleAxisData.push({\n        left: 150,\n        type: 'category',\n        boundaryGap: false,\n        top: (idx * 100 / 7 + 5) + '%',\n        height: (100 / 7 - 10) + '%',\n        axisLabel: {\n            // interval: 1\n        },\n        data: xAxisData[k]\n    })\n})\n\n// console.log('singleAxisData', singleAxisData)\n\n// coordinateSystem: 'singleAxis', \nlet newSeries = []\nObject.keys(seriesData).forEach((k, idx) => {\n    newSeries.push({\n        singleAxisIndex: idx,\n        coordinateSystem: 'singleAxis',\n        type: 'scatter',\n        name: idx > 0 ? '701' : '700',\n        data: seriesData[k],\n        itemStyle: {\n            color: (params) => {\n                let data = params.data\n                console.log(data, data.length, colors[data[data.length - 2]])\n                return colors[data[data.length - 2]]\n            }\n        },\n        symbolSize: function(dataItem) {\n            return dataItem[1] > 10 ? dataItem[1] / 1e3 : dataItem[1] * 10;\n        }\n    })\n})\n\n// console.log('newSeries', newSeries)\n\n\n\n\noption = {\n    tooltip: {\n        // position: 'top'\n    },\n    title: newTitle,\n    singleAxis: singleAxisData,\n    // visualMap: [{\n    //     show: false,\n    //     dimension: 3,\n    //     categories: inRangeData,\n    //     calculable: true,\n    //     precision: 0.1,\n    //     textGap: 30,\n    //     textStyle: {\n    //         color: '#ccc'\n    //     },\n    //     inRange: {\n    //         color: (function() {\n    //             var colors = ['#000', '#0f0', '#00f', '#f00'];\n    //             return colors.concat(colors);\n    //         })()\n    //     }\n    // }],\n    series: newSeries\n};","html":"","externalScripts":"","updaterUID":"bd-258458457","theme":"","layout":"","viewCount":934,"userName":"破***火","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8hucapog0.png?v=1561039824014","isCustomThumbnail":0,"builtinTags":["category-work","series-scatter","singleAxis","title","tooltip"],"customTags":[],"updaterUserName":"破***火"}}