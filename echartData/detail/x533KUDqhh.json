{"status":0,"data":{"cid":"x533KUDqhh","authorUid":"obd-o2Ddhxs8w2CRgTDIeNePRpfCS3stZBY","authorUserName":"彭***6","title":"饼图2","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-09-13T07:29:59.000Z","lastUpdateTime":"2021-09-13T09:29:26.000Z","auth":2,"uid":"obd-o2Ddhxs8w2CRgTDIeNePRpfCS3stZBY","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-13T09:29:26.000Z","code":"var colorList = ['#22D7BB', '#24AAFF', '#5EDDF8', '#FCB840', '#F9D660'];\nvar data = [\n    {\n        value: 36,\n        lr: 2435.22,\n        name: '成都城电1',\n    },\n    {\n        value: 12,\n        lr: 2435.22,\n        name: '成都城电2',\n    },\n    {\n        value: 45,\n        lr: 2435.22,\n        name: '成都城电3',\n    },\n    {\n        value: 60,\n        lr: 2435.22,\n        name: '成都城电4',\n    },\n    {\n        value: 23,\n        lr: 2435.22,\n        name: '成都城电5',\n    },\n];\nvar dataChart = [];\nvar sum = 0;\ndata.forEach((item) => {\n    sum += Number(item.value);\n});\ndata.map((item,index) => {\n    if (item.value != 0) {\n        dataChart.push(\n            {\n                value: item.value,\n                lr: item.lr,\n                name: item.name,\n                 itemStyle: {\n                normal: {\n                  color:colorList[index]\n                },\n            },\n            },\n            {\n                value: sum / 150,\n                itemStyle: {\n                    normal: {\n                        color: '#FFFFFF',\n                    },\n                },\n                label: {\n                    show: false,\n                },\n                labelLine: {\n                    show: false,\n                },\n            }\n        );\n    }\n});\noption = {\n    backgroundColor: '#FFFFFF',\n    color: colorList,\n    grid: {\n        bottom: 150,\n        left: 0,\n        right: '10%',\n    },\n\n    legend: {\n        show: false,\n        orient: 'vertical',\n        top: 'middle',\n        right: '5%',\n        textStyle: {\n            color: '#f2f2f2',\n            fontSize: 25,\n        },\n        icon: 'roundRect',\n    },\n    series: [\n        // 边框设置\n        {\n            radius: ['45%', '58%'],\n            center: ['50%', '50%'],\n            type: 'pie',\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            labelLine: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            animation: false,\n            tooltip: {\n                show: false,\n            },\n            itemStyle: {\n                normal: {\n                    color: 'rgba(206,213,225,0.12)',\n                },\n            },\n            data: [1],\n        },\n        // 内圈\n        {\n            radius: ['0%', '32%'],\n            center: ['50%', '50%'],\n            type: 'pie',\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            labelLine: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            animation: false,\n            tooltip: {\n                show: false,\n            },\n            itemStyle: {\n                normal: {\n                    color: 'rgba(206,213,225,0.3)',\n                },\n            },\n            data: [1],\n        },\n        // 主要展示层的\n        {\n            radius: ['33%', '50%'],\n            center: ['50%', '50%'],\n            type: 'pie',\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return colorList[params.dataIndex];\n                    },\n                },\n            },\n\n            label: {\n                show: true,\n                position: 'outside',\n                formatter: function (params, ticket, callback) {\n                    return (\n                        '{radius|■}{name|' +\n                        params.name +\n                        '}\\n{value|' +\n                        '收入：' +\n                        params.value +\n                        '}\\n{lr|' +\n                        '利润：' +\n                        params.data.lr +\n                        '}'\n                    );\n                },\n                padding: [-10, -80],\n                rich: {\n                    radius: {\n                        padding: [0, 8, 0, 0],\n                        fontSize: 20,\n                    },\n                    name: {\n                        color: '#656A73',\n                        align: 'left',\n                        fontSize: 16,\n                        padding: [25, 0],\n                    },\n                    value: {\n                        fontSize: 14,\n                        padding: [0, 0],\n                        color: '#18191B',\n                        align: 'left',\n                    },\n                    lr: {\n                        color: '#18191B',\n                        align: 'left',\n                        fontSize: 14,\n                        padding: [7, 0],\n                    },\n                },\n            },\n            labelLine: {\n                normal: {\n                    length: 20,\n                    length2: 150,\n                    lineStyle: {\n                        width: 1,\n                    },\n                },\n            },\n            // data: [\n            //     {\n            //         value: 12081.36,\n            //         lr: 2435.22,\n            //         name: '成都城电',\n            //     },\n            //     {\n            //         value: 12081.36,\n            //         lr: 2438.22,\n            //         name: '四川锦能',\n            //     },\n            //     {\n            //         value: 12081.36,\n            //         lr: 2438.22,\n            //         name: '四川美卓',\n            //     },\n            //     {\n            //         value: 12081.36,\n            //         lr: 2438.22,\n            //         name: '乐山城电',\n            //     },\n            //     {\n            //         value: 12081.36,\n            //         lr: 2438.22,\n            //         name: '四川南充',\n            //     },\n            // ],\n            data: dataChart,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o2Ddhxs8w2CRgTDIeNePRpfCS3stZBY","theme":"","layout":"","viewCount":0,"userName":"彭***6","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x533KUDqhh.png?v=1631525366875","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":[],"updaterUserName":"彭***6"}}