{"status":0,"data":{"cid":"x9IMjXfqEG","authorUid":"bd-1800740195","authorUserName":"思***法","title":"三角形柱图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-21T03:00:47.000Z","lastUpdateTime":"2020-05-21T03:00:47.000Z","auth":1,"uid":"bd-1800740195","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-21T03:00:47.000Z","code":"function formatNum(strNum) {\r\n    if (strNum.length <= 3) {\r\n        return strNum;\r\n    }\r\n    if (!/^(\\+|-)?(\\d+)(\\.\\d+)?$/.test(strNum)) {\r\n        return strNum;\r\n    }\r\n    var a = RegExp.$1,\r\n        b = RegExp.$2,\r\n        c = RegExp.$3;\r\n    var re = new RegExp();\r\n    re.compile(\"(\\\\d)(\\\\d{3})(,|$)\");\r\n    while (re.test(b)) {\r\n        b = b.replace(re, \"$1,$2$3\");\r\n    }\r\n    return a + \"\" + b + \"\" + c;\r\n}\r\nvar data =[{ month: \"应付款项\", \r\n             value: \"76281.68\"},{ \r\n             month: \"应收款项\",\r\n             value: \"37402.21\"}];\r\nvar xAxisMonth = [], barData = [];\r\nfor (var i = 0; i < data.length; i++) { // 循环遍历data里面的数据用于展示\r\n    xAxisMonth.push(data[i].month);    // 获取x轴的数据写入到xAxisMonth数组中\r\n    barData.push({                          // barData数组用于获取xAxisMonth中的各组数据\r\n        \"name\": xAxisMonth[i],\r\n        \"value\": data[i].value\r\n    });\r\n    \r\n}\r\n\r\n\r\noption = {\r\n    grid: {\r\n        containLabel: true\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        formatter: '{b}: {c0}万元',\r\n        \r\n    },\r\n     legend: {\r\n        left: '25',\r\n        top: 'top',\r\n        textStyle: {\r\n\t\t\tcolor: '#4c647c',\r\n\t\t\tfontStyle: 'normal',\r\n\t\t\tfontFamily: '微软雅黑',\r\n\t\t\tfontSize: 12,            \r\n        },\r\n        data: xAxisMonth\r\n    },\r\n    xAxis: [{\r\n            type: 'category',\r\n            show: true,\r\n            axisLabel: {\r\n                textStyle: {\r\n                   color: '#4c647c',\r\n                }\r\n            },\r\n            axisLine:{//坐标轴轴线相关设置\r\n\t\t\t\tlineStyle:{\r\n\t\t\t\t\tcolor:'#4c647c',\r\n\t\t\t\t\topacity:0.2\r\n\t\t\t\t}\r\n\t\t\t},\r\n        },\r\n        {\r\n            type: 'category',\r\n            position: \"bottom\",\r\n            data: xAxisMonth,\r\n            boundaryGap: true,\r\n            // offset: 40,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n             axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: '#4c647c',\r\n\t\t\t\t\topacity:0.2\r\n                }\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#4c647c',\r\n                     fontSize:16\r\n                }\r\n            }\r\n        }\r\n\r\n    ],\r\n    yAxis: [{\r\n        type: 'value',\r\n         axisLine: {\r\n                show: false,\r\n                lineStyle: {\r\n                    color: '#4c647c',\r\n                }\r\n            },\r\n\t\t\taxisTick:{\r\n\t\t\t\tshow: false\r\n\t\t\t},\r\n\t\t\tsplitLine: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tcolor: ['#000'],\r\n\t\t\t\t\topacity:0.06\r\n\t\t\t\t}\r\n\t\t\t}\r\n    }],\r\n    series: [{\r\n            name: xAxisMonth,\r\n            type: 'pictorialBar',\r\n            xAxisIndex: 1,\r\n            barCategoryGap: '50%',     // 调整宽度\r\n           symbol: 'path://d=\"M150 50 L130 130 L170 130  Z\"', // 画出三角形\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function(params) {\r\n                        let colorList = [\r\n                            '#FAC45C', '#4996E2'\r\n                        ];\r\n                        return colorList[params.dataIndex];\r\n                    },\r\n                    label: {\r\n                        formatter: function(p) {\r\n                            \treturn formatNum(p.value);\r\n                            },\r\n\t\t\t\t\t\t\tshow: true, //开启显示\r\n\t\t\t\t\t\t\tposition: 'top', //在上方显示\r\n\t\t\t\t\t\t\ttextStyle: { //数值样式\r\n\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\tfontSize: 14\r\n\t\t\t\t\t\t}\r\n                },\r\n                },\r\n                emphasis: {\r\n                    opacity: 1\r\n                }\r\n            },\r\n            data: barData\r\n    }]\r\n};\r\n","html":"","externalScripts":"","updaterUID":"bd-1800740195","theme":"","layout":"","viewCount":99,"userName":"思***法","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9IMjXfqEG.png?v=1590030047664","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"思***法"}}