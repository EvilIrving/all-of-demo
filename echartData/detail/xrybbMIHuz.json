{"status":0,"data":{"cid":"xrybbMIHuz","authorUid":"bd-1679792466","authorUserName":"沉沦在回忆中","title":"单位检查情况","description":"市级","latestVersion":7,"alwaysLatest":1,"createTime":"2018-03-01T10:12:09.000Z","lastUpdateTime":"2018-03-01T10:12:09.000Z","auth":2,"uid":"bd-1679792466","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-11T14:45:26.000Z","code":"var data1=[29,31,31,25,29,26,33,34,34,28,34,32,33,35,33,38];\r\nvar data2= [10,5,15,6,6,6,7,13,14,5,6,11,15,12,10,11];\r\nvar data3=[60,73,70,69,71,72,54,54,72,61,79,72,71,79,66];\r\noption = {\r\n    backgroundColor: '#ffffff',\r\n    title:{\r\n        left:'left'\r\n    },\r\n    legend: {\r\n        top: 30,\r\n        left:30,\r\n        textStyle: {\r\n            color: '#000000',\r\n        },\r\n        data: ['检查企业数','违法违规企业数','完成整改企业数']\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '30%',\r\n        top:75,\r\n         bottom: '50%',\r\n        containLabel: true\r\n    },\r\n\r\n    tooltip: {\r\n        show: \"true\",\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n        }\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        max:40,\r\n        axisTick: {\r\n            show: true\r\n        },\r\n        axisLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: '#000',\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: true\r\n        },\r\n    },\r\n    xAxis: [{\r\n            type: 'category',\r\n            axisTick: {\r\n                show: false\r\n            },\"axisLabel\": {\r\n            \"interval\": 0,\r\n            rotate:40,\r\n            textStyle: {\r\n                fontSize: 10\r\n            },formatter : function(params){\r\n               var newParamsName = \"\";// 最终拼接成的字符串\r\n                var paramsNameNumber = params.length;// 实际标签的个数\r\n                var provideNumber = 5;// 每行能显示的字的个数\r\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber);// 换行的话，需要显示几行，向上取整\r\n                /**\r\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\r\n                 */\r\n                // 条件等同于rowNumber>1\r\n                if (paramsNameNumber > provideNumber) {\r\n                    /** 循环每一行,p表示行 */\r\n                    var tempStr = \"\";\r\n                    tempStr=params.substring(0,4);\r\n                    newParamsName = tempStr+\"...\";// 最终拼成的字符串\r\n                } else {\r\n                    // 将旧标签的值赋给新标签\r\n                    newParamsName = params;\r\n                }\r\n                //将最终的字符串返回\r\n                return newParamsName\r\n            }\r\n        },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: '#000000',\r\n                }\r\n            },data: ['南宁市局', '武鸣区局', '横县局', '宾阳县局', '上林县局', '上林县局'\r\n        , '隆安县局','兴宁区分局', '江南区分局', '青秀区分局', '西乡塘区分局', '邕宁区分局',\r\n        '良庆区分局','东盟开发区',\r\n        '南宁高新技术产业开发区','南宁经济技术开发区']\r\n\r\n\r\n        },\r\n        {\r\n            type: 'category',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            splitArea: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n           data: ['区局',  '南宁市局', '柳州市局',  '桂林市局', '梧州市局', \r\n         '北海市局', '防城港市局', '钦州市局'\r\n        ,'贵港市局','玉林市局','百色市局','贺州市局','河池市局','来宾市局','崇左市局']\r\n}\r\n\r\n    ],\r\n    series: [{\r\n            name: '检查企业数',\r\n            type: 'bar',\r\n            barWidth : 8,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#24b7b9',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 0,\r\n                    borderColor: '#333',\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '50%',\r\n            data:data1\r\n        },{\r\n            name: '违法违规企业数',\r\n            type: 'bar',\r\n            barWidth : 8,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#EE7621',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 0,\r\n                    borderColor: '#333',\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '50%',\r\n            data: data2\r\n        },\r\n        {\r\n            name: '违法违规率',\r\n            type: 'pie',\r\n            radius: ['10%', '14%'],\r\n            color: ['#ff0000','#00EE76'],\r\n            center: ['73%', '10%'],\r\n            tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n            },\r\n            label: {\r\n                normal: {\r\n                    position: 'center'\r\n                }\r\n            },\r\n            data: [{\r\n                value: data2[0],\r\n                name: '违法违规企业数',\r\n\r\n                label: {\r\n                    normal: {\r\n                        formatter: '{d} %',\r\n                        textStyle: {\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                value: data1[0] - data2[0],\r\n                name: '未违法违规企业数',\r\n\r\n                label: {\r\n                    normal: {\r\n                        formatter: '\\违法违规率',\r\n                        textStyle: {\r\n                            color: '#555',\r\n                            fontSize: 10\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#aaa'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa'\r\n                    }\r\n                },\r\n            }]\r\n        }]\r\n};\r\nmyChart.on('mouseover', function(params) {\r\n    if (params.componentType === 'series' && params.seriesType === 'bar') {\r\n        var dataIndex = params.dataIndex;\r\n        myChart.setOption({\r\n            series: [{\r\n            name: '检查企业数',\r\n            type: 'bar',\r\n            barWidth : 8,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#24b7b9',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 0,\r\n                    borderColor: '#333',\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '50%',\r\n            data:data1\r\n        },{\r\n            name: '违法违规企业数',\r\n            type: 'bar',\r\n            barWidth : 8,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#EE7621',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 0,\r\n                    borderColor: '#333',\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '50%',\r\n            data: data2\r\n        },\r\n        {\r\n            name: '违法违规率',\r\n            type: 'pie',\r\n            radius: ['10%', '14%'],\r\n            color: ['#ff0000','#00EE76'],\r\n            center: ['73%', '10%'],\r\n            tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n            },\r\n            label: {\r\n                normal: {\r\n                    position: 'center'\r\n                }\r\n            },\r\n            data: [{\r\n                value: data2[dataIndex],\r\n                name: '违法违规企业数',\r\n\r\n                label: {\r\n                    normal: {\r\n                        formatter: '{d} %',\r\n                        textStyle: {\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                value: data1[dataIndex] - data2[dataIndex],\r\n                name: '未违法违规企业数',\r\n\r\n                label: {\r\n                    normal: {\r\n                        formatter: '\\违法违规率',\r\n                        textStyle: {\r\n                            color: '#555',\r\n                            fontSize: 10\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#aaa'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa'\r\n                    }\r\n                },\r\n            }]\r\n        }]\r\n        })\r\n    }\r\n});","html":"","externalScripts":"","updaterUID":"bd-1679792466","theme":"","layout":"","viewCount":82,"userName":"沉沦在回忆中","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrybbMIHuz.png?v=1520779526279","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"沉沦在回忆中"}}