{"status":0,"data":{"cid":"xoVsdWpSiE","authorUid":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","authorUserName":"咔***尅","title":"企业一览","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-07-15T02:36:24.000Z","lastUpdateTime":"2020-07-15T02:36:24.000Z","auth":2,"uid":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-15T02:36:24.000Z","code":"    var opt={\n            index: 0\n        };\n    var  colors=[\"#FE6869\", \"#FE6869\", \"#FDC297\", \"#FDC299\", \"#FED793\"]\n  let languagesNameBg = \"\";\nlet arrs = [];  \nvar datas = [{\n    \"name\": \"XXX有限责任公司\",\n    \"value\": 92,\n}, {\n    \"name\": \"XXX有限责任公司\",\n    \"value\": 86,\n}, {\n    \"name\": \"XXXXXXXX有限责任公司\",\n    \"value\": 79,\n}, {\n    \"name\": \"XXX有限责任公司\",\n    \"value\": 72,\n}, {\n    \"name\": \"XXXXXXXX有限责任公司\",\n    \"value\": 59,\n}];\n\nfunction getArrByKey(data, k) { //\n    let key = k || \"value\";\n    let res = [];\n    if (data) {\n        data.forEach(function(t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n};\n\n\nfor (let index = 0; index < datas.length; index++) {\n    arrs.push({\n        name: datas[index].name,\n        value: Math.abs(datas[index].value),\n    });\n\n}\n\nif (arrs.length) {\n     languagesNameBg = 'name'\n}\noption =  {\n        grid: {\n        // top: '20%',\n        left:  40,\n        top:'5%',\n        bottom:\"5%\",\n        right:\"40%\",\n    },\n       tooltip:{\n        show:true,\n        backgroundColor: 'rgba(3,169,244, 0.5)',//背景颜色（此时为默认色）\n        textStyle:{\n              fontSize:16\n        },\n       \n    },\n    xAxis: {\n        show: false\n    },\n    yAxis: [{\n        show: true,\n        data: getArrByKey(arrs, languagesNameBg),\n        inverse: true,\n       \n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n               fontSize:  arrs.length >=8 ? 16 :18,\n               fontWeight:'bold',\n               formatter: function (value, index) {\n                  if(value.length>7){\n                    value= value.substring(0,7)+\"...\"\n                  }\n                  console.log(value,index)\n               const vas='';\n                if (opt.index === 0 && index < 3) {\n                    return '{idx' + index + '|' + datas[index].value + '%} '\n                } else if (opt.index !== 0 && (index + opt.index) <= 10) {\n                    return '{idx|0' + datas[index].value + '%} '\n                } else {\n                    return '{idx|' + datas[index].value+ '%} '\n                }\n            },\n            rich: {\n                    idx0: {\n                    color: '#FE6869',\n                    width:100,\n                },\n                idx1: {\n                    color: '#FE6869',\n                },\n                idx2: {\n                    color: '#FDC297',\n                },\n                idx: {\n                    color: '#FDC299',\n                },\n                title:{\n                    color: '#FED793',\n                    align:'center',\n                    fontSize:16,\n                   \n                }\n            }\n        },\n    },{\n        triggerEvent: true,\n        show: true,\n        inverse: true,\n        data: getArrByKey(arrs, languagesNameBg),\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            //color: '#000',\n            align: 'left',\n            margin: 12,\n            fontSize:15,\n            formatter: function(val,index) {\n                 if (opt.index === 0) {\n                     return  '{a' +index+ '|'+index +'}{b|}{value|' + val + '}'\n                 } else if (opt.index === 1) {\n                     return  '{a' +index+ '|'+index +'}{b|}{value|' + val + '}'\n                 }else if (opt.index === 2) {\n                     return  '{a' +index+ '|'+index +'}{b|}{value|' + val + '}'\n                 }else if (opt.index === 3) {\n                     return  '{a' +index+ '|'+index +'}{b|}{value|' + val + '}'\n                 }else if (opt.index === 4) {\n                     return  '{a' +index+ '|'+index +'}{b|}{value|' + val + '}'\n                 }\n                    \n                },\n            rich: {\n                a0: {\n                    color: '#fff',\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#FE6869',\n                },\n                a1: {\n                    color: '#fff',\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#FE6869',\n                },\n                a2: {\n                    color: '#fff',\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#FDC299',\n                },\n                a3: {\n                    color: '#fff',\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#FDC299',\n                },\n                a4: {\n                    color: '#fff',\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#FED793',\n                },\n                b: {\n                    padding: [0, 5],\n                    color:'red'\n                },\n            }\n          \n        },\n        \n    }],\n    series: [{\n            type: 'bar',\n            yAxisIndex: 0,\n            data: arrs,\n            barWidth:  16,\n            label: {\n                 show: false,\n                \n            },\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 2,\n                          color: (val) => {\n                               return colors[val.dataIndex];\n                        },\n                    \n                }\n            },\n\n        }\n    ]\n}","html":"","externalScripts":"","updaterUID":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","theme":"","layout":"","viewCount":69,"userName":"咔***尅","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoVsdWpSiE.png?v=1594780584725","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"咔***尅"}}