{"status":0,"data":{"cid":"xZ7ELn6UOI","authorUid":"bd-4177719352","authorUserName":"6***4","title":"chart1","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-07-25T09:12:59.000Z","lastUpdateTime":"2019-07-25T09:12:59.000Z","auth":2,"uid":"bd-4177719352","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-25T09:13:51.000Z","code":"var nodes = [\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"9e4f3a6ca16e3d02\",\r\n    \"type\": \"System\",\r\n    \"showname\": \"1016964156\",\r\n    \"tooltip\": \"[System]\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"663adbb079ffd86c\",\r\n    \"type\": \"Mappingview\",\r\n    \"showname\": \"MappingView003\",\r\n    \"extinfo\": \"Type:Mappingview<br/>Name:MappingView003\",\r\n    \"isselected\": true\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"eb537ff4bbbde925\",\r\n    \"type\": \"Hostgroup\",\r\n    \"showname\": \"HostGroup003\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"f127b2e34a4d9dd6\",\r\n    \"type\": \"Portgroup\",\r\n    \"showname\": \"PortGroup001\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"dedcd16b28ee9972\",\r\n    \"type\": \"Lungroup\",\r\n    \"showname\": \"LUNGroup003\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"fc212bddc7a8dee6\",\r\n    \"type\": \"Host\",\r\n    \"showname\": \"Host003\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"94aec67148292e69\",\r\n    \"type\": \"Host\",\r\n    \"showname\": \"Host004\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"061e42e2ca388aa4\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.A4.P0\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"0c0eb8e739584c92\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.A4.P1\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"1bb5affaf3ad46e8\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.B4.P0\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"7ea29a562a9953d0\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.B4.P1\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"e63b8cd8d0c0437f\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.A2.P0\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"2e371cdc65a14898\",\r\n    \"type\": \"Port\",\r\n    \"showname\": \"CTE0.A2.P1\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"72da57a0b8dd2b80\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080003\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"14ba692e55983e46\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080004\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"81eb94bbf58e28c3\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080005\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"00ea6b89ad95c60d\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080006\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"a88fc40c03e2d8d1\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0010005\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"73aa073350428079\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0010006\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"ab45a9863140d65c\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080000\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"c5ab5f56c88ca6cb\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080001\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"2e6adf83d7194fdc\",\r\n    \"type\": \"lun\",\r\n    \"showname\": \"LUN0080002\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"28944578f8cdde10\",\r\n    \"type\": \"initiator\",\r\n    \"showname\": \"1414141414141414\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"79264469e3ee7527\",\r\n    \"type\": \"initiator\",\r\n    \"showname\": \"1515151515151515\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"10003           \",\r\n    \"type\": \"server\",\r\n    \"showname\": \"Power-Host2\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"10002           \",\r\n    \"type\": \"server\",\r\n    \"showname\": \"Power-Host1\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  },\r\n  {\r\n    \"_uid\": \"9e4f3a6ca16e3d02\",\r\n    \"name\": \"20001           \",\r\n    \"type\": \"app\",\r\n    \"showname\": \"App2\",\r\n    \"tooltip\": \"\",\r\n    \"isselected\": false\r\n  }\r\n]\r\n    var links = [\r\n  {\r\n    \"source\": \"9e4f3a6ca16e3d02\",\r\n    \"target\": \"663adbb079ffd86c\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"663adbb079ffd86c\",\r\n    \"target\": \"eb537ff4bbbde925\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"663adbb079ffd86c\",\r\n    \"target\": \"f127b2e34a4d9dd6\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"663adbb079ffd86c\",\r\n    \"target\": \"dedcd16b28ee9972\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"eb537ff4bbbde925\",\r\n    \"target\": \"fc212bddc7a8dee6\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"eb537ff4bbbde925\",\r\n    \"target\": \"94aec67148292e69\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"061e42e2ca388aa4\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"0c0eb8e739584c92\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"1bb5affaf3ad46e8\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"7ea29a562a9953d0\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"e63b8cd8d0c0437f\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"f127b2e34a4d9dd6\",\r\n    \"target\": \"2e371cdc65a14898\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"72da57a0b8dd2b80\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"14ba692e55983e46\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"81eb94bbf58e28c3\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"00ea6b89ad95c60d\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"a88fc40c03e2d8d1\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"73aa073350428079\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"ab45a9863140d65c\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"c5ab5f56c88ca6cb\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"dedcd16b28ee9972\",\r\n    \"target\": \"2e6adf83d7194fdc\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"fc212bddc7a8dee6\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"94aec67148292e69\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"061e42e2ca388aa4\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"0c0eb8e739584c92\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"1bb5affaf3ad46e8\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"7ea29a562a9953d0\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"e63b8cd8d0c0437f\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"2e371cdc65a14898\",\r\n    \"target\": \"28944578f8cdde10\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"061e42e2ca388aa4\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"0c0eb8e739584c92\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"1bb5affaf3ad46e8\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"7ea29a562a9953d0\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"e63b8cd8d0c0437f\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"2e371cdc65a14898\",\r\n    \"target\": \"79264469e3ee7527\",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"28944578f8cdde10\",\r\n    \"target\": \"10003           \",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"79264469e3ee7527\",\r\n    \"target\": \"10002           \",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"10003           \",\r\n    \"target\": \"20001           \",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  },\r\n  {\r\n    \"source\": \"10002           \",\r\n    \"target\": \"20001           \",\r\n    \"value\": 1,\r\n    \"tooltip\": \"\"\r\n  }\r\n]\r\n\r\n    var charts = {\r\n        nodes: [],\r\n        links: []\r\n    }\r\n\r\n    //配置Node属性\r\n    $.each(nodes, function (i, node) {\r\n\r\n        var node = {\r\n            name: node.name,\r\n            showname: '[' + node.type + ']' + node.showname,\r\n            isselected: node.isselected,\r\n            extinfo:node.extinfo\r\n        }\r\n\r\n\r\n        //console.log(node.isselected);\r\n        if (node.isselected) {\r\n            node.itemStyle = {\r\n                normal: {\r\n                    color: \"red\",\r\n                    //borderWidth: 1,\r\n                    //borderColor: \"red\"\r\n                }\r\n            }\r\n\r\n            //console.log(node);\r\n        }\r\n        charts.nodes.push(node)\r\n    });\r\n\r\n\r\n    //配置Link属性\r\n    $.each(links, function (i, link) {\r\n        var link = {\r\n            source: link.source,\r\n            target: link.target,\r\n            value: link.value\r\n        }\r\n        charts.links.push(link)\r\n    });\r\n\r\n    option = {\r\n        tooltip: {\r\n            trigger: 'item',\r\n            triggerOn: 'mousemove',\r\n            formatter: function (params) {\r\n                //console.log(params)\r\n                return params.data.extinfo;\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                type: 'sankey',\r\n                layout: 'none',\r\n                nodeAlign:'left',\r\n                focusNodeAdjacency: true,\r\n                layoutIterations:1024,\r\n                draggable: false,\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderWidth: 1,\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n                data: charts.nodes,\r\n                links: charts.links,\r\n\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            fontSize:10\r\n                        },\r\n\r\n                        formatter: function (params) {\r\n\r\n                            return params.data.showname\r\n\r\n                        }\r\n                    }\r\n                },\r\n                lineStyle: {\r\n                    normal: {\r\n                        color: \"source\",\r\n                        curveness: 0.5\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderWidth: 1,\r\n                        borderColor: \"transparent\"\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };","html":"","externalScripts":"","updaterUID":"bd-4177719352","theme":"","layout":"","viewCount":858,"userName":"6***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZ7ELn6UOI.png?v=1564046032219","isCustomThumbnail":0,"builtinTags":["category-work","series-sankey","tooltip"],"customTags":[],"updaterUserName":"6***4"}}