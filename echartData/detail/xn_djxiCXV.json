{"status":0,"data":{"cid":"xn_djxiCXV","authorUid":"bd-2013481626","authorUserName":"じ***ゞ","title":"动态效果装饰仪表盘","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-11-12T08:51:53.000Z","lastUpdateTime":"2021-11-15T01:46:37.000Z","auth":2,"uid":"bd-2013481626","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-15T01:46:37.000Z","code":"let angle = 0; // 角度\nlet dataValue = 65;\n\noption = {\n  backgroundColor: '#002837',\n  title: {\n    text: `{v|${dataValue}}{unit|%}\\n{t|完成率}`,\n    x: 'center',\n    y: 'center',\n    textStyle: {\n      rich: {\n        v: { fontSize: 60, color: '#28edf2' },\n        unit: { fontSize: 24, color: '#28edf2' },\n        t: { fontSize: 30, color: '#28edf2' }\n      }\n    }\n  },\n  series: [\n    /** 绘制内部圆弧-1 <right-top> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        return {\n          type: 'arc',\n          shape: {\n            cx: api.getWidth() / 2,\n            cy: api.getHeight() / 2,\n            r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6,\n            startAngle: (270 + angle) * Math.PI / 180,\n            endAngle: (360 + angle) * Math.PI / 180\n          },\n          style: {\n            fill: 'transparent',\n            stroke: 'rgba(1, 248, 68, 0.4)',\n            lineWidth: 2\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 绘制内部圆弧-2 <left-bottom> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        return {\n          type: 'arc',\n          shape: {\n            cx: api.getWidth() / 2,\n            cy: api.getHeight() / 2,\n            r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6,\n            startAngle: (90 + angle) * Math.PI / 180,\n            endAngle: (180 + angle) * Math.PI / 180\n          },\n          style: {\n            fill: 'transparent',\n            stroke: 'rgba(1, 248, 68, 0.4)',\n            lineWidth: 2\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 绘制外部圆弧-1 <right-bottom> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        return {\n          type: 'arc',\n          shape: {\n            cx: api.getWidth() / 2,\n            cy: api.getHeight() / 2,\n            r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.66,\n            startAngle: (355 + -angle) * Math.PI / 180,\n            endAngle: (120 + -angle) * Math.PI / 180\n          },\n          style: {\n            fill: 'transparent',\n            stroke: 'rgba(1, 248, 68, 0.4)',\n            lineWidth: 2.6\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 绘制外部圆弧-2 <left-top> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        return {\n          type: 'arc',\n          shape: {\n            cx: api.getWidth() / 2,\n            cy: api.getHeight() / 2,\n            r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.66,\n            startAngle: (175 + -angle) * Math.PI / 180,\n            endAngle: (300 + -angle) * Math.PI / 180\n          },\n          style: {\n            fill: 'transparent',\n            stroke: 'rgba(1, 248, 68, 0.4)',\n            lineWidth: 2.6\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 绘制外部圆弧-1-开始圆点 <right-bottom> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        let x0 = api.getWidth() / 2;\n        let y0 = api.getHeight() / 2;\n        let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.66;\n        return {\n          type: 'circle',\n          shape: {\n            /** 角度355° 外弧1开始角度 */\n            cx: x0 + r * Math.cos((355 + -angle) * Math.PI / 180),\n            cy: y0 + r * Math.sin((355 + -angle) * Math.PI / 180),\n            r: 4\n          },\n          style: {\n            fill: 'rgba(1, 248, 68, 0.4)',\n            stroke: 'rgba(1, 248, 68, 0.4)'\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 绘制外部圆弧-2-开始圆点 <left-top> */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        let x0 = api.getWidth() / 2;\n        let y0 = api.getHeight() / 2;\n        let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.66;\n        return {\n          type: 'circle',\n          shape: {\n            /** 角度175° 外弧2开始角度 */\n            cx: x0 + r * Math.cos((175 + -angle) * Math.PI / 180),\n            cy: y0 + r * Math.sin((175 + -angle) * Math.PI / 180),\n            r: 4\n          },\n          style: {\n            fill: 'rgba(1, 248, 68, 0.4)',\n            stroke: 'rgba(1, 248, 68, 0.4)'\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 刻度仪表盘 */\n    {\n      type: 'gauge',\n      center: ['50%', '50%'],\n      radius: '68.5%', // 错位调整此处\n      startAngle: 0,\n      endAngle: 360,\n      axisLine: { show: false },\n      splitLine: { show: false },\n      axisTick: { \n        splitNumber: 10,\n        // length: 8,  // 刻度长度\n        length: '4%',\n        lineStyle: {\n          color: 'rgba(1, 248, 68, 0.4)',\n          width: 1.5\n        }\n      },\n      axisLabel: { show: false }\n    },\n    /** 内心圆 */\n    {\n      type: 'custom',\n      coordinateSystem: 'none',\n      renderItem: (params, api) => {\n        return {\n          type: 'circle',\n          shape: {\n            cx: api.getWidth() / 2,\n            cy: api.getHeight() / 2,\n            r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.38,\n            startAngle: (175 + angle) * Math.PI / 180,\n            endAngle: (300 + angle) * Math.PI / 180\n          },\n          style: {\n            fill: 'transparent',\n            stroke: '#00374C80',\n            lineWidth: 2.6\n          },\n          silent: true\n        }\n      },\n      data: [0]\n    },\n    /** 饼图 */\n    {\n      name: '已完成',\n      type: 'pie',\n      startAngle: 90,\n      z: 0,\n      label: {\n        position: 'center'\n      },\n      radius: ['56%', '44%'],\n      silent: true,\n      animation: false, // 关闭饼图动画\n      data:[{\n        value: dataValue,\n        itemStyle: {\n          color: {\n            type: 'linear',\n            x: 0, \n            y: 0.2, \n            x2: 1, \n            y2: 0,\n            colorStops: [\n              { offset: 0, color: '#01f74420' }, \n              { offset: 1, color: '#01f744' }\n            ]\n          }\n        }\n      }, {\n        name: '未完成',\n        value: 100 - dataValue,\n        label: { show: false },\n        itemStyle: { color: '#00374C' }\n      }]\n    },\n    /** 饼图上刻度 */\n    {\n      type: 'gauge',\n      center: ['50%', '50%'],\n      radius: '63%', // 错位调整此处\n      startAngle: 0,\n      endAngle: 360,\n      splitNumber: 12,\n      axisLine: { show: false },\n      splitLine: { \n        // length: 39,\n        length: '24%',\n        lineStyle: {\n          width: 10,\n          color: '#002837'\n        }\n      },\n      axisTick: { show: false },\n      axisLabel: { show: false }\n    },\n  ]\n};\n\nsetInterval( () => {\n  angle = angle + 2;\n  myChart.setOption(option, true);\n}, 100)\n\n\n/**\n * 圆弧角度\n  ◜    270°   ◝  \n180°    ↻      360°\n  ◟    90°    ◞\n * \n\n */\n","html":"","externalScripts":"","updaterUID":"bd-2013481626","theme":"","layout":"","viewCount":0,"userName":"じ***ゞ","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xn_djxiCXV.png?v=1636940798068","isCustomThumbnail":0,"builtinTags":["category-work","series-custom","series-gauge","series-pie","title"],"customTags":[],"updaterUserName":"じ***ゞ"}}