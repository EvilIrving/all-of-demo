{"status":0,"data":{"cid":"xHxIpYU4o3","authorUid":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","authorUserName":"谢***s","title":"动态环图","description":"动态环图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-26T05:40:43.000Z","lastUpdateTime":"2021-09-26T05:40:43.000Z","auth":1,"uid":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-26T05:40:43.000Z","code":"let color = ['#37FFC9', '#FFE777', '#19D6FF', '#32A1FF', '#FFFFFF'];\nlet chartdata = [\n    {\n        name: '竞争性谈判',\n        value: 50,\n    },\n    {\n        name: '公开招标',\n        value: 50,\n    },\n    {\n        name: '询价',\n        value: 50,\n    },\n    {\n        name: '单一来源',\n        value: 50,\n    },\n];\nlet sum = 0;\nlet data1 = [];\nchartdata.forEach((item) => {\n    sum += Number(item.value);\n});\nchartdata.forEach((item) => {\n    data1.push(item, {\n        name: '',\n        value: sum / 100,\n        labelLine: {\n            show: false,\n            lineStyle: {\n                color: 'transparent',\n            },\n        },\n        itemStyle: {\n            color: 'transparent',\n        },\n    });\n});\noption = {\n    // backgroundColor: '#263e53',\n    grid: {\n        top: '10%',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        containLabel: true,\n    },\n    tooltip: {\n        formatter: (params) => {\n            if (params.name != '') {\n                return params.name + ' : ' + params.value + '\\n' + '(' + params.percent + '%)';\n            }\n        },\n    },\n    series: [\n        {\n            type: 'pie',\n            radius: ['26%', '34%'],\n            center: ['50%', '50%'],\n            color: color,\n            hoverAnimation: false,\n            startAngle: 0,\n            selectedMode: 'single',\n            itemStyle: {\n                normal: {\n                    // shadowColor:'#3C3C3C',\n                },\n            },\n            emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              },\n            label: {\n                show: false,\n                formatter: '{b}' + ' ' + '{c}',\n            },\n            data: data1,\n            z: 666,\n        },\n        {\n            type: 'pie',\n            radius: ['36%', '44%'],\n            center: ['50%', '50%'],\n            color: color,\n            hoverAnimation: false,\n            startAngle: 0,\n            selectedMode: 'single',\n            itemStyle: {\n                normal: {\n                    // shadowColor:'#3C3C3C',\n                },\n            },\n            emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              },\n            label: {\n                show: false,\n                formatter: '{b}' + ' ' + '{c}',\n            },\n            data: data1,\n            z: 666,\n        },\n    ],\n};\n\nlet currentIndex = -1;\n\nsetInterval(function() {\n  var dataLen = option.series[0].data.length;\n  // 取消之前高亮的图形\n  myChart.dispatchAction({\n    type: 'unselect',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n    myChart.dispatchAction({\n    type: 'unselect',\n    seriesIndex: 1,\n    dataIndex: currentIndex\n  });\n  currentIndex = (currentIndex + 1) % dataLen;\n  // 高亮当前图形\n  myChart.dispatchAction({\n    type: 'select',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n  myChart.dispatchAction({\n    type: 'select',\n    seriesIndex: 1,\n    dataIndex: currentIndex\n  });\n  // 显示 tooltip\n  myChart.dispatchAction({\n    type: 'showTip',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n}, 2000);","html":"","externalScripts":"","updaterUID":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","theme":"","layout":"","viewCount":0,"userName":"谢***s","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHxIpYU4o3.png?v=1632634844108","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"谢***s"}}