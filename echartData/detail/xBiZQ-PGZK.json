{"status":0,"data":{"cid":"xBiZQ-PGZK","authorUid":"obd-ol2AVedMd7qDGt9iofj97qxnlosju0E","authorUserName":"f***h","title":"环形图内嵌水球图","description":"借鉴站内其他大佬作品","latestVersion":2,"alwaysLatest":1,"createTime":"2021-08-11T08:24:27.000Z","lastUpdateTime":"2021-08-11T08:26:15.000Z","auth":2,"uid":"obd-ol2AVedMd7qDGt9iofj97qxnlosju0E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-11T08:26:15.000Z","code":"let normal = 193;\nlet loseC = 26;\nlet lateE = 88;\nlet checkL = 9;\nlet checkB = 18;\nlet differentD = 6;\nlet sum = normal + loseC + lateE + checkL + checkB + differentD;\nlet norP = sum ? ((normal * 100) / sum).toFixed(2) : 0;\nlet loginPer = sum ? ((normal * 100) / sum).toFixed(2) : 0;\nlet chartData = [\n    { value: normal, name: '正常' },\n    { value: loseC, name: '缺卡' },\n    { value: lateE, name: '早退' },\n    { value: checkL, name: '迟到' },\n    { value: checkB, name: '补打卡' },\n];\n\noption = {\n    backgroundColor:'#ad9dcd',\n    legend: {\n        orient: 'vertical',\n        left: '5%',\n        top: '10%',\n        formatter(params) {\n            let str = '';\n\n            console.log('params', params);\n            chartData.forEach((key) => {\n                let per = key.value ? ((key.value * 100) / sum).toFixed(2) + '%' : 0;\n                if (key.name === params) {\n                    str = key.name + ' ' + per;\n                } else if (params === '本月部门打卡成功率') {\n                    str = params;\n                }\n            });\n            return str;\n        },\n    },\n    title: {\n        top: '45%',\n        left: 'center',\n        text:'本月部门打卡成功率',\n        textStyle: {\n            color: 'rgb(173, 157, 205)',\n            fontStyle: 'normal',\n            fontWeight: 'normal',\n            fontSize: 14,\n        },\n        subtext: loginPer + '%',\n        subtextStyle: {\n            color: 'rgb(173, 157, 205)',\n            fontSize: 20,\n        },\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '部门打卡情况<br/>{b}  {c} ({d}%)',\n    },\n    series: [\n        {\n            type: 'liquidFill',\n            itemStyle: {\n                normal: {\n                    opacity: 0.4,\n                    shadowBlur: 0,\n                    shadowColor: 'blue',\n                },\n            },\n            name: chartData,\n            data: [\n                {\n                    value: loginPer / 100,\n                    itemStyle: {\n                        normal: {\n                            color: '#53d5ff',\n                            opacity: 0.6,\n                        },\n                    },\n                },\n            ],\n            color: ['#53d5ff'],\n            center: ['50%', '50%'],\n            label: {\n                normal: {\n                    formatter: '',\n                    textStyle: {\n                        fontSize: 12,\n                    },\n                },\n            },\n            outline: {\n                itemStyle: {\n                    borderColor: '#86c5ff',\n                    borderWidth: 0,\n                },\n                borderDistance: 0,\n            },\n        },\n        {\n            type: 'pie',\n            radius: ['45%', '60%'],\n            color: ['orange', '#dfd0e6', '#49dff0', '#034079', '#6f81da', '#00ffb4'],\n            hoverAnimation: false, ////设置饼图默认的展开样式\n            label: {\n                show: false,\n                // normal: {\n                //   formatter: \"{b}\\n{d}%\",\n                //   show: true,\n                //   position: \"\",\n                // },\n            },\n            labelLine: {\n                normal: {\n                    show: false,\n                },\n            },\n\n            itemStyle: {\n                // 此配置\n                normal: {\n                    borderWidth: 2,\n                    borderColor: '#fff',\n                },\n                emphasis: {\n                    borderWidth: 0,\n                    shadowBlur: 2,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)',\n                },\n            },\n            data: chartData,\n        },\n    ],\n};\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-liquidfill@2/dist/echarts-liquidfill.min.js,https://cdn.jsdelivr.net/npm/echarts-liquidfill@3/dist/echarts-liquidfill.min.js","updaterUID":"obd-ol2AVedMd7qDGt9iofj97qxnlosju0E","theme":"","layout":"","viewCount":0,"userName":"f***h","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBiZQ-PGZK.png?v=1628670375204","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-liquidFill","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"f***h"}}