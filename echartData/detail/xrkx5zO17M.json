{"status":0,"data":{"cid":"xrkx5zO17M","authorUid":"bd-3929454393","authorUserName":"默***灵","title":"实时监控图","description":"风琴的图表，只为了儿童的记忆","latestVersion":1,"alwaysLatest":1,"createTime":"2017-12-26T06:56:08.000Z","lastUpdateTime":"2017-12-26T06:56:08.000Z","auth":2,"uid":"bd-3929454393","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-26T06:56:08.000Z","code":"var barImg = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEECAYAAAAs3cQfAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3YjU4MmJjMi01MzdmLTQ4ZjAtYmM1Mi00NDg2YjQ4MDE3NmIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkE5Q0Y2NkFDRTg2MTFFN0I5RTc5MkYwNDIzM0ZDMkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkE5Q0Y2NjlDRTg2MTFFN0I5RTc5MkYwNDIzM0ZDMkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWI1ZGZlYmUtZjczNS1iMjRkLWFjZWUtODcxMGFlYTEzYTQxIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6N2YzZjIxNzAtYzM4Ni0xMTdhLTk0NDYtOWQ0YTU0ODc3YzNhIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+AlRFNQAAAVVJREFUeNrs3N1ugkAQhuFlVaqtRNP7v8UmrUZs/QFnyE5tFajWXU98J/kOIPFhHZaTPZisrmv3Rz1J8pN7W8lGUnX9aNhxfyApJGOJ73loKVmFB/2qrGXFRcg1pfhHHzyXPLv/la76zdrjI6FaI8mrXRg8vhG1yq2NBs9cvHrRl+/DSgcR4cb0oQ2xq4HzBHDTCp8AToMCAwMDAwMDAwMDAwMDAwMDAz8mrMe8y1RwQY+BgYGBgYGBgYGBgYGBgYGBgYGBgYFPioNpYGBgYGBgYGBgYGBgYGBgYGBgYOB7wJzGAgMDAwMDAwMDAwMDAwMDAwMDAyeGq1TwJoG7VbhMAJcKf0r2EVFt7dpe3ntEeKG4wV8uzjlyaa39ud0UXt2Ifv/ztjHFOqB2fsUer9oWlXVMbFZ0Ipm67vG6e3ccrHz2LWQXjIJWeOiO0513Ib076SDAAAIqP/cGFqsKAAAAAElFTkSuQmCC';\n\nvar data = [];\nvar xData = [];\nvar lineData = [];\nvar barData = [];\nfor (var i = 0; i < 12; ++i) {\n    data.push({\n        month: Number(i) + 1 + '月',\n        value: Math.random() * 1000 + 100,\n        rate: (Math.random() * 999 / 100 + 10).toFixed(2),\n    });\n}\n\n\nfunction dealChats(data) {\n    data.map((value, index) => {\n        xData.push(value.month);\n        lineData.push(value.rate);\n        if (index === 0) {\n            barData.push({\n                value: value.value,\n                itemStyle: {\n                    normal: {\n                        barBorderRadius: [50, 50, 0, 35]\n                    }\n                }\n            })\n        } else if (index === data.length - 1) {\n            barData.push({\n                value: value.value,\n                itemStyle: {\n                    normal: {\n                        barBorderRadius: [50, 50, 35, 0]\n                    }\n                }\n            });\n        } else {\n            barData.push(value.value)\n        }\n    });\n}\n\ndealChats(data)\n\nconsole.log(xData)\n\noption = {\n    backgroundColor:'rgb(6,29,75)',\n    title:{\n        text:'实时监控图',\n        left:'center',\n        top:'10',\n        textStyle:{\n            color:\"#fff\",\n        }\n    },\n    legend: {\n        data: ['服务数量', '基准线'],\n        left:'center',\n        top:'50',\n        textStyle:{\n            color:\"#fff\",\n        }\n    },\n    grid: {\n        left: 10,\n        right: -35,\n        bottom: 40,\n        top: 100,\n        containLabel: true\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'none'\n        },\n        \"formatter\": function(param) {\n            return param[0].name + ':' + '<br>' + param[0].seriesName + \":\" + param[0].value + '<br>' +\n                '合格率：' + param[2].value + '%'\n        },\n    },\n    xAxis: {\n        offset: 35,\n        data: xData,\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            textStyle: {\n                color: \"#b6b5ab\",\n            },\n            interval: 0\n        },\n    },\n    yAxis: [{\n        axisLabel: {\n            show: true,\n            textStyle: {\n                color: \"#b6b5ab\"\n            }\n        },\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n    }, {\n        show: true,\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        \n    }, {\n        show: false,\n    }],\n    series: [{\n        type: 'bar',\n        name:'服务数量',\n        barWidth: '60%',\n        barGap: \"-100%\",\n        itemStyle: {\n            normal: {\n                color: {\n                    type: 'linear',\n                    x: 1,\n                    y: 1,\n                    x2: 0,\n                    y2: 0,\n                    colorStops: [{\n                        offset: 0,\n                        color: '#00c6f4' // 0% 处的颜色\n                    }, {\n                        offset: 1,\n                        color: '#00db97' // 100% 处的颜色\n                    }],\n                    globalCoord: false // 缺省为 false\n                },\n                borderWidth: 0,\n                barBorderRadius: [50, 50, 0, 0]\n            }\n        },\n        data: barData\n    }, {\n\n        type: 'bar',\n        barWidth:'60%',\n        itemStyle: {\n            normal: {\n                color: {\n                    type: 'linear',\n                    x: 1,\n                    y: 1,\n                    x2: 0,\n                    y2: 0,\n                    colorStops: [{\n                        offset: 0,\n                        color: '#00c6f4' // 0% 处的颜色\n                    }, {\n                        offset: 1,\n                        color: '#00db97' // 100% 处的颜色\n                    }],\n                    globalCoord: false // 缺省为 false\n                },\n                borderWidth: 0,\n                barBorderRadius: [-30, -30, 0, 0]\n            }\n        },\n        data: [{\n            value: 0,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [0, -30, 0, 0]\n                }\n            }\n\n        }, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, {\n            value: 0,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [-30, 0, 0, 0]\n                }\n            }\n        }],\n    }, {\n        name: '基准线',\n        type: 'line',\n        symbolSize: 6,\n        yAxisIndex: 1,\n        lineStyle: {\n            normal: {\n                color: '#eba538'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#eba538'\n            }\n        },\n        data: lineData\n    }, {\n        value: 60,\n        symbol: barImg,\n        type: 'pictorialBar',\n        barWidth: '60%',\n        // barGap: \"-98%\",\n        name: 'pictorial element',\n        symbolSize: ['100%', '100%'],\n        symbolPosition: 'center',\n        yAxisIndex: 2,\n        z: 10,\n        data: [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000]\n    }, ]\n};","html":"","externalScripts":"","updaterUID":"bd-3929454393","theme":"","layout":"","viewCount":1375,"userName":"默***灵","commentCount":0,"starCount":21,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkx5zO17M.png?v=1514271368544","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","series-pictorialBar","title","tooltip"],"customTags":[],"updaterUserName":"默***灵"}}