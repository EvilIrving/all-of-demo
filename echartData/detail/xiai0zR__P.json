{"status":0,"data":{"cid":"xiai0zR__P","authorUid":"bd-4231960130","authorUserName":"数***天","title":"多柱状图多折线图组合","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-08-15T08:47:34.000Z","lastUpdateTime":"2019-08-15T08:47:34.000Z","auth":2,"uid":"bd-4231960130","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-15T08:47:34.000Z","code":"        var myDate = new Date();\r\n\t\tvar year = myDate.getFullYear();    //获取完整的年份\r\n\t\tvar month = (myDate.getMonth() +1 < 10 ? '0'+(myDate.getMonth()+1) : myDate.getMonth()+1) ;       //获取当前月份\r\n\t\tvar arr11=[100,101,102,103,104,105,106,107,108,109,110,111],\r\n\t\t\tarr12=[100,101,102,103,104,105,106,107,108,109,110,111],\r\n\t\t\tarr13=[100,101,102,103,104,105,106,107,108,109,110,111];//year年3场的货量\r\n\t    var arr21=[91,92,93,94,95,96,97,98,99,100,101,102],\r\n\t    \tarr22=[91,92,93,94,95,96,97,98,99,100,101,102],\r\n\t    \tarr23=[91,92,93,94,95,96,97,98,99,100,101,102];//(year-1)年3场的货量\r\n\t    var arr31=[81,82,83,84,85,86,87,88,89,90,91,92],\r\n    \t\tarr32=[81,82,83,84,85,86,87,88,89,90,91,92],\r\n    \t\tarr33=[81,82,83,84,85,86,87,88,89,90,91,92];//(year-2)年3场的货量\r\n\t    var arr41=[71,72,73,74,75,76,77,78,79,80,81,82],\r\n    \t\tarr42=[71,72,73,74,75,76,77,78,79,80,81,82],\r\n    \t\tarr43=[71,72,73,74,75,76,77,78,79,80,81,82];//(year-3)年3场的货量\r\n\t    \r\n\t    var arr14=[61,62,63,64,65,66,67,68,69,70,71,72],\r\n    \t\tarr15=[61,62,63,64,65,66,67,68,69,70,71,72],\r\n    \t\tarr16=[61,62,63,64,65,66,67,68,69,70,71,72];//year年3场量\r\n\t    var arr24=[71,72,73,74,75,76,77,78,79,80,81,82],\r\n    \t\tarr25=[71,72,73,74,75,76,77,78,79,80,81,82],\r\n    \t\tarr26=[71,72,73,74,75,76,77,78,79,80,81,82];//(year-1)年3场量\r\n\t    var arr34=[91,92,93,94,95,96,97,98,99,100,101,102],\r\n    \t\tarr35=[91,92,93,94,95,96,97,98,99,100,101,102],\r\n    \t\tarr36=[91,92,93,94,95,96,97,98,99,100,101,102];//(year-2)年3场量\r\n\t    var arr44=[100,101,102,103,104,105,106,107,108,109,110,111],\r\n    \t\tarr45=[100,101,102,103,104,105,106,107,108,109,110,111],\r\n    \t\tarr46=[100,101,102,103,104,105,106,107,108,109,110,111];//(year-3)年3场量\r\n\t     \tvar symbol = 0;\r\n\t        /**\r\n\t         * 图标数据\r\n\t         */\r\n\t        var data = {\r\n\t            id: 'multipleBarsLines',\r\n\t            legendBar: [''+(year-3)+'年',''+(year-2)+'年',''+(year-1)+'年',''+year+'年'],\r\n\t            symbol: '%', //数值是否带百分号        --默认为空 ''\r\n\t            legendLine: ['西安', '西宁','银川'],\r\n\t            xAxis: ['1月', '2月', '3月', '4月', '5月','6月',\r\n\t                '7月', '8月', '9月', '10月', '11月','12月'],\r\n\t            yAxis: [\r\n\t                ['西安',arr41],\r\n\t                ['西安',arr31],\r\n\t                ['西安',arr21],\r\n\t                ['西安',arr11],\r\n\t                \r\n\t                ['西宁',arr42],\r\n\t                ['西宁',arr32],\r\n\t                ['西宁',arr22],\r\n\t                ['西宁',arr12],\r\n\t                \r\n\t                ['银川',arr43],\r\n\t                ['银川',arr33],\r\n\t                ['银川',arr23],\r\n\t                ['银川',arr13]\r\n\t            ],\r\n\t            lines: [\r\n\t                ['西安',arr44],\r\n\t                ['西安',arr34],\r\n\t                ['西安',arr24],\r\n\t                ['西安',arr14],\r\n\t                \r\n\t                ['西宁',arr45],\r\n\t                ['西宁',arr35],\r\n\t                ['西宁',arr25],\r\n\t                ['西宁',arr15],\r\n\t                \r\n\t                ['银川',arr46],\r\n\t                ['银川',arr36],\r\n\t                ['银川',arr26],\r\n\t                ['银川',arr16]\r\n\t            ],\r\n\t            //柱子颜色 必填参数,前四项为西安的颜色，中间的为西宁的颜色，最后的为银川的颜色\r\n\t            barColor: ['red', 'yellow', 'pink', '#3FA7DC','red', 'yellow', \r\n\t            \t'pink', '#3FA7DC','red', 'yellow', 'pink', '#3FA7DC'], \r\n\t            // 折线颜色 ，前四为西安的颜色，中间的为西宁的颜色，最后的为银川的颜色\r\n\t            lineColor: ['red', 'yellow', 'pink', '#3FA7DC','red', 'yellow', \r\n\t    \t            \t'pink', '#3FA7DC','red', 'yellow', 'pink', '#3FA7DC'], \r\n\r\n\t        }\r\n\t        /////////////end/////////\r\n\r\n\t        var myData = (function test() {\r\n\t            let yAxis = data.yAxis \r\n\t            let lines = data.lines \r\n\t            let legendBar = data.legendBar\r\n\t            let legendLine = data.legendLine\r\n\t            var symbol = data.symbol\r\n\t            let seriesArr = []\r\n\t            let legendArr = [],legendArr1 = []\r\n\t            \r\n\t            yAxis.forEach((item, index) => {\r\n\t                seriesArr.push({\r\n\t                    name: item[0],\r\n\t                    type: 'bar',\r\n\t                    barGap: '0px',\r\n\t                    data: item[1],\r\n\t                    barWidth:  10,\r\n\t                    yAxisIndex: 0,\r\n\t                    label: {\r\n\t                        normal: {\r\n\t                            show: false,\r\n\t                            formatter: '{c}' + symbol,\r\n\t                            position: 'top',\r\n\t                            textStyle: {\r\n\t                                color: 'black',\r\n\t                                fontStyle: 'normal',\r\n\t                                fontFamily: '微软雅黑',\r\n\t                                textAlign: 'left',\r\n\t                                fontSize: 20,\r\n\t                            },\r\n\t                        },\r\n\t                    },\r\n\t                    itemStyle: { //图形样式\r\n\t                        normal: {\r\n\t                            barBorderRadius: 4,\r\n\t                            color: data.barColor[index]\r\n\t                        },\r\n\t                    }\r\n\t                })\r\n\t            })\r\n\r\n\t           lines.forEach((item, index) => {\r\n\t                seriesArr.push({\r\n\t                    name: item[0],\r\n\t                    type: 'line',\r\n\t                    data: item[1],\r\n\t                    itemStyle: {\r\n\t                        normal: {\r\n\t                            color: data.barColor[index],\r\n\t                            lineStyle: {\r\n\t                                width: 3,\r\n\t                                type: 'solid',\r\n\t                            }\r\n\t                        }\r\n\t                    },\r\n\t                    label: {\r\n\t                        normal: {\r\n\t                            show: false, //折线上方label控制显示隐藏\r\n\t                            position: 'top',\r\n\t                        }\r\n\t                    },\r\n\t                    yAxisIndex: 1,\r\n\t                    symbol: 'circle',\r\n\t                    symbolSize: 10\r\n\t                })\r\n\t            }) \r\n\r\n\t            return {\r\n\t                seriesArr,\r\n\t                legendArr\r\n\t            }\r\n\t        })()\r\n\t\t\tvar count1 = 0;\r\n\r\n\t        option = {\r\n\t            //backgroundColor: 'transparent',\r\n\t            title: {\r\n\t                show: true,\r\n\t                text: data.title,\r\n\t                textStyle:{\r\n\t    \t            color:'black',\r\n\t    \t        }\r\n\t            },\r\n\t            tooltip: {\r\n\t                trigger: 'axis',\r\n\t                formatter: function(params) {\r\n\t                    var time = '';\r\n\t                    var str = '';\r\n\t                    for (var i of params) {\r\n\t                        time = i.name.replace(/\\n/g, '') + '<br/>';\r\n\t                        if (i.data == 'null' || i.data == null) {\r\n\t                            str += i.seriesName + '：无数据' + '<br/>'\r\n\t                        } else {\r\n\t                            str += i.seriesName + '：' + i.data + symbol + '%<br/>'\r\n\t                        }\r\n\r\n\t                    }\r\n\t                    return time + str;\r\n\t                },\r\n\t                axisPointer: {\r\n\t                    type: 'none'\r\n\t                },\r\n\t            },\r\n\t            legend: {\r\n\t            \torient : 'horizontal',\r\n\t        \t\ttop : '10%',\r\n\t        \t\tleft : '30%',\r\n\t                itemGap: 16,\r\n\t                itemWidth: 30,\r\n\t                itemHeight: 30,\r\n\t                data: ['西安','银川','西宁'],\r\n\t                selectedMode : 'single',\r\n\t                textStyle: {\r\n\t                    color: 'black',\r\n\t                    fontStyle: 'normal',\r\n\t                    fontFamily: '微软雅黑',\r\n\t                    fontSize: 20,\r\n\t                }\r\n\t            },\r\n\t            grid: {\r\n\t                x: 50,\r\n\t                y: 150,\r\n\t                x2: 100,  // 调节y轴的显示刻度（数值调大即空间越大，显示的位数越多）\r\n\t                y2: 50,\r\n\t            },\r\n\t            xAxis: {\r\n\t                type: 'category',\r\n\t                offset:10,\r\n\t                data: data.xAxis,\r\n\t                axisTick: {\r\n\t                    show: false,\r\n\t                },\r\n\r\n\t                axisLine: {\r\n\t                    show: true\r\n\t                },\r\n\t                axisLabel: {\r\n\t                    show: true,\r\n\t                    interval: '0',\r\n\t                    textStyle: {\r\n\t                \t \tcolor: 'black',\r\n\t                        lineHeight: 16,\r\n\t                        padding: [2, 2, 0, 2],\r\n\t                        height: 50,\r\n\t                        fontSize: 20,\r\n\t                    },\r\n\t                    rich: {\r\n\t                        Sunny: {\r\n\t                            height: 50,\r\n\t                            // width: 60,\r\n\t                            padding: [0, 5, 0, 5],\r\n\t                            align: 'center',\r\n\t                        },\r\n\t                    },\r\n\t                    color: 'black',\r\n\t                },\r\n\r\n\t            },\r\n\t            yAxis: [{\r\n\t            \tname:'吨',\r\n\t                axisLine: {\r\n\t                    show: true\r\n\t                },\r\n\t                axisTick: {\r\n\t                    show: false\r\n\t                },\r\n\t                axisLabel: {\r\n\t                    show: true,\r\n\t                    textStyle: {\r\n\t                        color: 'black',\r\n\t                        fontSize: 20,\r\n\t                    }\r\n\t                },\r\n\t                splitLine: {\r\n\t                    show: true,\r\n\t                    lineStyle: {\r\n\t                        color: 'black',\r\n\t                        type: 'solid'\r\n\t                    },\r\n\t                    interval: 2\r\n\t                },\r\n\t                splitNumber: 4,\r\n\t            },{\r\n\t                type:'value',\r\n\t                name:'架次',\r\n\t                position: 'right',\r\n\t                axisLabel: {\r\n\t                    formatter: '{value} ',\r\n\t                    textStyle: {\r\n\t                        color: 'black',\r\n\t                        fontSize: 20,\r\n\t                    }\r\n\t                },\r\n\t            \taxisLine: {\r\n\t                    show: true\r\n\t                },\r\n\t                axisTick: {\r\n\t                    show: false\r\n\t                },\r\n\t                splitLine: {\r\n\t                    show: true,\r\n\t                    lineStyle: {\r\n\t                        color: 'black',\r\n\t                        type: 'solid'\r\n\t                    },\r\n\t                    interval: 2\r\n\t                },\r\n\t                splitNumber: 4,\r\n\t            }],\r\n\t            series: myData.seriesArr\r\n\t        }; ","html":"","externalScripts":"","updaterUID":"bd-4231960130","theme":"","layout":"","viewCount":94,"userName":"数***天","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xiai0zR__P.png?v=1565858854701","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"数***天"}}