{"status":0,"data":{"cid":"xePatJqZYc","authorUid":"bd-3192245636","authorUserName":"d***w","title":"月评论反馈（环比）分析","description":"月评论反馈（环比）分析","latestVersion":2,"alwaysLatest":1,"createTime":"2019-07-10T07:16:52.000Z","lastUpdateTime":"2019-07-10T07:16:52.000Z","auth":1,"uid":"bd-3192245636","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-13T02:31:49.000Z","code":"var categoryData = ['01-20', '02-30', '04-05', '08-04', '09-10', '10-09'],\n    option = {\n        grid: [\n            {\n                top: '10%',\n                bottom: '40%',\n                right: '11%',\n            },\n            {\n                top: '65%',\n                bottom: '0',\n            },\n        ],\n        tooltip: {\n            confine: true, //将 tooltip 框限制在图表的区域内\n            trigger: 'axis',\n            padding: 10,\n            textStyle: {\n                color: '#fff',\n                fontSize: 12,\n            },\n            axisPointer: {\n                //作别奥轴指示器，坐标轴触发有效\n                type: 'line', // 默认为直线，可选为：'line' | 'shadow'\n                lineStyle: {\n                    type: 'dotted',\n                    width: 1,\n                    color: '#888',\n                    opacity: 0.3,\n                },\n            },\n            backgroundColor: 'rgba(0, 0, 0, 0.4);', //背景色\n            borderWidth: '0', //边框宽度设置1\n            formatter: function (params) {\n                let legend1 = ['港资持仓比例', '收盘价', '港资净流入'];\n                let legend = [\n                    { name: '港资持仓比例', tofixed: 1, unit: '%', billion: '1', color: '#2864C8', color2: '#2864C8' },\n                    { name: '收盘价', tofixed: 2, unit: '', billion: '1', color: '#FF784B', color2: '#FF784B' },\n                    {\n                        name: '港资净流入',\n                        tofixed: 2,\n                        unit: '亿',\n                        billion: '100000000',\n                        color1: '#00B45A',\n                        color2: '#F0000A',\n                    },\n                ];\n                let html = '';\n                for (let m = 0; m < legend.length; m++) {\n                    if (m == 0) html = `<p>${params[0].name}</p >`;\n                    for (let n = 0; n < params.length; n++) {\n                        if (params[n].seriesName == legend[m].name) {\n                            if (params[n].value > 0) {\n                                html += `<p class=\"tooltip\" style='line-height: 12px;margin-top: 10px;color: #fff'>\n                                              <i style='float:left;margin-top: 6px;width: 6px;height: 6px;border-radius: 3px;margin-right: 4px;background:${\n                                                  legend[m].color2\n                                              }'></i>\n                                                ${params[n].seriesName} : ${(\n                                    params[n].value / legend[m].billion\n                                ).toFixed(legend[m].tofixed)}${legend[m].unit}\n                                                </p >`;\n                                break;\n                            } else {\n                                html += `<p style='line-height: 12px;margin-top: 10px;color: #fff'>\n                                              <i style='float:left;margin-top: 6px;width: 6px;height: 6px;border-radius: 3px;margin-right: 4px;background:${\n                                                  legend[m].color1\n                                              }'></i>\n                                                ${params[n].seriesName} : ${(\n                                    params[n].value / legend[m].billion\n                                ).toFixed(legend[m].tofixed)}${legend[m].unit}\n                                                </p >`;\n                                break;\n                            }\n                        }\n                    }\n                }\n                // console.log(params)\n                return html;\n            }, //提示框处理\n            // formatter: function (params) {\n            //     let html = \"<div>\" + \"<p>\" + params[0].name + \"</p>\";\n            //     if (params.length > 0) {\n            //         if (params[1].value > 0) {\n            //             html += \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#2864C8;margin-right: 4px'></i>\" + params[1].seriesName + \"：\"+ (params[1].value).toFixed(1) + \"%</p>\" +\n            //                 \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#FF784B;margin-right: 4px'></i>\" + params[2].seriesName + \"：\" + (params[2].value) + \"</p>\"+\n            //                 \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#F0000A;margin-right: 4px'></i>\" + params[0].seriesName + \"：\" + ((params[0].value)/100000000).toFixed(2) + \"亿</p>\" +\n            //                 \"</div>\"\n            //         }\n            //         else {\n            //             html += \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#2864C8;margin-right: 4px'></i>\" + params[1].seriesName + \"：\" + (params[1].value).toFixed(1) + \"%</p>\" +\n            //                 \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#FF784B;margin-right: 4px'></i>\" + params[2].seriesName + \"：\" + (params[2].value) + \"</p>\"+\n            //                 \"<p style='line-height: 12px;margin-top: 10px;color: #fff'><i style='float:left;margin-top: 3px;width: 6px;height: 6px;border-radius: 3px;background:#00B45A;margin-right: 4px'></i>\" + params[0].seriesName + \"：\" + ((params[0].value)/100000000).toFixed(2) + \"亿</p>\" +\n            //                 \"</div>\"\n            //         }\n            //     }\n            //     return html;\n            // }\n        },\n        axisPointer: {\n            //链接\n            link: { xAxisIndex: 'all' }, //多图表，一起触发提示框\n        },\n        xAxis: [\n            {\n                type: 'category',\n                data: categoryData,\n                boundaryGap: false,\n                axisTick: false, //刻度\n                axisLine: {\n                    //x轴线\n                    onZero: true,\n                    lineStyle: {\n                        color: '#F2F2F2',\n                    },\n                },\n                axisLabel: {\n                    fontSize: 10,\n                    color: '#30303d',\n                    showMaxLabel: true,\n                    // interval: (index, value) => {\n                    //     if (index == 0 || (index == xLen - 1)) {\n                    //         return true\n                    //     }\n                    //     if (xLen % 2 > 0) {\n                    //         if (index == Math.floor(xLen / 2)) {\n                    //             return true\n                    //         }\n                    //     } else {\n                    //         if (index == (Math.floor(xLen / 2) - 1)) {\n                    //             return true\n                    //         }\n                    //     }\n                    // },\n                    // width: 30 * rem,\n                    // margin: 12,\n                    // formatter: function (value, index) {\n                    //     if (index == 0) {\n                    //         return '{a|' + value + '}'\n                    //     } else if (index == xLen - 1) {\n                    //         return '{b|' + value + '}'\n                    //     } else {\n                    //         return '{c|' + value + '}'\n                    //     }\n                    // },\n                    // rich: {\n                    //     a: {\n                    //         align: 'left',\n                    //         padding: [0, 0, 0, 12],\n                    //         fontSize: 10 * rem,\n                    //         color: '#30303D',\n                    //     },\n                    //     b: {\n                    //         align: 'right',\n                    //         padding: [0, 15, 0, 0],\n                    //         fontSize: 10 * rem,\n                    //         color: '#30303D',\n                    //     },\n                    //     c: {\n                    //         align: 'center',\n                    //         fontSize: 10 * rem,\n                    //         color: '#30303D',\n                    //     }\n                    // },\n                    splitLine: false,\n                    splitNumber: 2,\n                },\n                axisPointer: {\n                    //坐标轴指示器，坐标轴触发有效，\n                    type: 'line', //默认为line，line直线，cross十字准星，shadow阴影\n                    crossStyle: {\n                        color: '#fff',\n                    },\n                },\n            },\n            {\n                gridIndex: 1, //对应坐标系索引，默认为0\n                type: 'category', //[value|category|time|log] [数值轴|default,同级加data对象指定数据（x轴一般用这个）|时间|对数]\n                boundaryGap: false,\n                axisTick: false,\n                data: categoryData, //在类目轴（type: 'category'）中有效。\n                //如果没有设置 type，但是设置了 axis.data，则认为 type 是 'category'。\n                axisLabel: {\n                    fontSize: 10,\n                    color: '#30303d',\n                    showMaxLabel: true,\n                    splitLine: false,\n                    splitNumber: 1,\n                },\n                // axisPointer: {\n                //     type: 'shadow'\n                // },\n                axisLine: {\n                    //x轴线\n                    onZero: true,\n                    lineStyle: {\n                        color: '#F2F2F2',\n                    },\n                },\n            },\n        ],\n        yAxis: [\n            {\n                gridIndex: 0,\n                type: 'value', //[value|category|time|log] [default,数值轴||时间|对数]\n                name: '持股比例',\n                nameTextStyle: {\n                    //调整name位置\n                    padding: [0, 0, 0, -20],\n                },\n                interval: 30,\n                min: 'dataMin',\n                max: 'dataMax',\n                splitNumber: 1,\n                      axisLine: false,\n                   axisTick: false, //刻度\n                axisLabel: {\n                    formatter(params) {\n                        return params.toFixed(1) + '%'; //标签格式器\n                    },\n                    textStyle: {\n                        fontSize: 10,\n                        color: '#30303d',\n                    },\n                },\n            },\n            {\n                gridIndex: 0,\n                type: 'value',\n                name: '收盘价',\n                nameTextStyle: {\n                    //调整name位置\n                    padding: [0, -40, 0, 0],\n                },\n                //   interval: 10,\n                splitLine: {\n                    lineStyle: {\n                        type: 'dotted',\n                        width: 0.5,\n                        color: '#F2F2F2',\n                        // opacity: 0.5\n                    },\n                },\n                splitNumber: 1,\n                axisLine: false,\n                min: 'dataMin',\n                max: 'dataMax',\n                axisLabel: {\n                    formatter(params) {\n                        return params.toFixed(2);\n                    },\n                    textStyle: {\n                        fontSize: 10,\n                        color: '#000',\n                    },\n                },\n                // axisLabel: {\n                //     formatter: '{value} '\n                // }\n            },\n            {\n                gridIndex: 1,\n                type: 'value',\n                name: '',\n                splitLine: { show: false },\n                axisLabel: 'false',\n                       axisLine: false,\n                   axisTick: false, //刻度\n                // axisLabel: {\n                //     formatter: '{value}'\n                // }\n            },\n        ],\n        series: [\n            //series数组，一个对象即为一个绘图区\n            {\n                name: '港资持仓比例',\n                symbol: 'emptyCircle', //取消掉折线上面的小圆点\n                type: 'line',\n                showSymbol: false, //不显示连接点\n                symbolSize: 0.1,\n                smooth: true, //平滑曲线  0~1为平滑度\n                connectNulls: true,\n                lineStyle: {\n                    width: 1.5,\n                },\n                color: '#2864C8',\n                // data: adjustedholdratio\n                data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],\n            },\n            {\n                name: '收盘价',\n                symbol: 'emptyCircle', //取消掉折线上面的小圆点\n                yAxisIndex: 1, //第二个Y轴\n                type: 'line',\n                lineStyle: {\n                    width: 1.5,\n                },\n                showSymbol: false,\n                symbolSize: 0.1,\n                chartBox: 0.1,\n                smooth: true,\n                connectNulls: true,\n                gridIndex: 0,\n                color: '#FF784B',\n                // data:closeprice\n                data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2],\n            },\n            {\n                name: '港资净流入',\n                type: 'bar',\n                barWidth: '5',\n                gridIndex: 1,\n                xAxisIndex: 1,\n                yAxisIndex: 2,\n                itemStyle: {\n                    color: function (params) {\n                        return params.value >= 0 ? '#F0000A' : '#00B45A';\n                    },\n                },\n                //  data: this.holdings.map(item => item.netinflow)\n                data: [2.0, -2.2, 3.3, -4.5, 6.3, -10.2, 20.3, -23.4, 23.0, -16.5, 12.0, -6.2],\n            },\n        ],\n    };\n","html":"","externalScripts":"","updaterUID":"obd-o2PaKDetc26H-WUqXdaK2JFx4rVRo6W","theme":"","layout":"","viewCount":623,"userName":"d***w","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xePatJqZYc.png?v=1620873109463","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","markPoint","series-bar","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"小***肉"}}