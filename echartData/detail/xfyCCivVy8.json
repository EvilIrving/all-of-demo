{"status":0,"data":{"cid":"xfyCCivVy8","authorUid":"bd-261075462","authorUserName":"谜***头","title":"单容器图表tooltip 联动","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-04-15T03:32:30.000Z","lastUpdateTime":"2020-04-15T03:32:30.000Z","auth":2,"uid":"bd-261075462","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-19T09:16:48.000Z","code":"let xs = ['2013', '2014', '2015', '2016', '2017', '2018', '2019'];\r\noption = {\r\n    axisPointer: {\r\n        link: {\r\n            xAxisIndex: 'all'\r\n        },\r\n        label: {\r\n            backgroundColor: '#777'\r\n        }\r\n    },\r\n    title: [{\r\n        text: '接单量（万平方米）',\r\n        left: 60,\r\n        top: '0%',\r\n        textStyle: {\r\n            color: '#000',\r\n            fontSize: 14,\r\n            fontWeight: 'normal'\r\n        }\r\n    }, {\r\n        subtext: '总GMV（万元）',\r\n        subtextStyle: {\r\n            color: '#000',\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n        },\r\n        left: 60,\r\n        top: '45%',\r\n    }],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'line',\r\n            lineStyle: {\r\n                type: 'dashed'\r\n            }\r\n        },\r\n        backgroundColor: 'rgba(245, 245, 245, 0.8)',\r\n        borderWidth: 1,\r\n        borderColor: '#ccc',\r\n        padding: 10,\r\n        textStyle: {\r\n            color: '#000'\r\n        },\r\n        formatter: function (params) {\r\n            console.log(params);\r\n            let text = `<div style=\"width: 240px\">\r\n                            <div style=\"margin-bottom: 10px; font-size: 14px; display: flex; justify-content: space-between\"><p>${params[0].name} 周五</p> <p>日环比</p></div>\r\n                            <div style=\"margin-bottom: 5px; font-size: 14px;display: flex; justify-content: space-between\"><p>${params[0]['marker']} 接单量</p>  <p>${params[0]['value']}</p></div>\r\n                            <div style=\"margin-bottom: 5px; font-size: 14px;display: flex; justify-content: space-between\"><p>${params[1]['marker']} 总GMV</p>  <p>${params[1]['value']}</p></div>\r\n                            <div style=\"margin-bottom: 5px; font-size: 14px;display: flex; justify-content: space-between\"><p>${params[2]['marker']} 纸板团购</p>  <p>${params[2]['value']}</p></div>\r\n                            <div style=\"font-size: 14px; display: flex; justify-content: space-between\"><p>${params[3]['marker']} 积分商城</p> <p>${params[3]['value']}</p></div>\r\n                        </div>`;\r\n            return text;\r\n          },\r\n        // position: function(pos, params, el, elRect, size) {\r\n        //     var obj = {\r\n        //         top: 10\r\n        //     };\r\n        //     obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;\r\n        //     return obj;\r\n        // }\r\n    },\r\n    color: ['#7AF6FC', '#FEC721', '#0AE7CC', 'transparent'],\r\n    grid: [{\r\n            x: '5%',\r\n            y: '5%',\r\n            height: '35%',\r\n            left: '10%',\r\n            show: false\r\n        },\r\n        {\r\n            x: '5%',\r\n            y1: '5%',\r\n            top: '5%',\r\n            height: '87.5%',\r\n            left: '10%',\r\n            show: false\r\n        },\r\n        {\r\n            x: '5%',\r\n            y2: '5%',\r\n            top: '52.5%',\r\n            height: '40%',\r\n            left: '10%',\r\n            show: false\r\n            //bottom: '5%'\r\n        },\r\n    ],\r\n    xAxis: [{\r\n            gridIndex: 0, //对应前面grid的索引位置（第一个）\r\n            show: false, //隐藏了x轴\r\n            type: 'category',\r\n            \r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data: xs,\r\n        },\r\n        {\r\n            show: false,\r\n            gridIndex: 1, //对应前面grid的索引位置（第二个）\r\n            type: 'category',\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data: xs,\r\n        },\r\n        {\r\n            type: 'category',\r\n            gridIndex: 2, //对应前面grid的索引位置（第二个）\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data: xs,\r\n        }\r\n    ],\r\n    //y轴，不管有几个x轴，几个y轴，或者图，只要找到他对应的grid图的序号索引就可以精准匹配\r\n\r\n    yAxis: [\r\n         {\r\n            type: 'value',\r\n            gridIndex: 0,\r\n            nameTextStyle: {\r\n                padding: 40\r\n            },\r\n            offset: 10,\r\n            position: 'left',\r\n            nameLocation: 'middle',\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}',\r\n                textStyle: {\r\n                    fontSize: 12 //y轴坐标轴上的字体大小\r\n                }\r\n            },\r\n        },\r\n        {\r\n            show: false,\r\n            type: 'value',\r\n            gridIndex: 1, //对应前面grid的索引位置（第二个）\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            offset: 10,\r\n            nameTextStyle: {\r\n                padding: 25,\r\n                align: 'center'\r\n            },\r\n            position: 'left',\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}'\r\n            }\r\n        },\r\n        {\r\n            type: 'value',\r\n            gridIndex: 2,\r\n            nameTextStyle: {\r\n                padding: 40\r\n            },\r\n            offset: 10,\r\n            position: 'left',\r\n            nameLocation: 'middle',\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}',\r\n                textStyle: {\r\n                    fontSize: 12 //y轴坐标轴上的字体大小\r\n                }\r\n            },\r\n        },\r\n\r\n    ],\r\n    series: [{\r\n            name: '接单量',\r\n            type: \"line\",\r\n            xAxisIndex: 0,\r\n            yAxisIndex: 0,\r\n            data: [28, 27, 40, 72, 100, 123, 247]\r\n        },\r\n        {\r\n            type: 'bar',\r\n            stack: '总量',\r\n            barWidth: 30,\r\n            xAxisIndex: 2,\r\n            yAxisIndex: 2,\r\n            data: [28, 27, 40, 72, 100, 123, 247]\r\n        },\r\n        {\r\n            type: 'bar',\r\n            stack: '总量',\r\n            barWidth: 30,\r\n            xAxisIndex: 2,\r\n            yAxisIndex: 2,\r\n            data: [20, 27, 60, 52, 60, 103, 147]\r\n        },\r\n        {\r\n            type: 'bar',\r\n            barWidth: 30,\r\n            xAxisIndex: 1,\r\n            yAxisIndex: 1,\r\n            data: [10, 10, 10, 10, 10, 10, 10]\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-261075462","theme":"","layout":"","viewCount":135,"userName":"谜***头","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xfyCCivVy8.png?v=1589879808922","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"谜***头"}}