{"status":0,"data":{"cid":"x5GfkHM1q","authorUid":"bd-3074825930","authorUserName":"汀***茹","title":"地图和散点","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-12-30T08:39:19.000Z","lastUpdateTime":"2019-12-30T08:39:19.000Z","auth":2,"uid":"bd-3074825930","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-30T08:39:19.000Z","code":"  var geoCoordMap = {};\r\nvar data = [\r\n    {name: '北京', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '山东', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '江苏', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '天津', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '上海', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '重庆', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '河北', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '河南', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '云南', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '辽宁', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '黑龙江', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '湖南', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '安徽', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '新疆', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '浙江', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '江西', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '湖北', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '广西', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '甘肃', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '山西', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '内蒙古', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '陕西', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '吉林', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '福建', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '贵州', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '广东', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '青海', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '西藏', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '四川', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '宁夏', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '海南', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '台湾', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '香港', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n    {name: '澳门', fileSizeCount: 514,fileCount:514,linkUnnormalCount:514,warnCount:514},\r\n];\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n                fileSizeCount: data[i].fileSizeCount,\r\n                fileCount: data[i].fileCount,\r\n                linkUnnormalCount: data[i].linkUnnormalCount,\r\n                warnCount: data[i].warnCount,\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar convertData1 = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            geoCoord[0] = +geoCoord[0] + 0.8 + ''\r\n            // geoCoord[1] = +geoCoord[1] + 2 + ''\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n                fileSizeCount: data[i].fileSizeCount,\r\n                fileCount: data[i].fileCount,\r\n                linkUnnormalCount: data[i].linkUnnormalCount,\r\n                warnCount: data[i].warnCount,\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar convertData2 = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            geoCoord[0] = +geoCoord[0] + 0.8 + ''\r\n            // geoCoord[1] = +geoCoord[1]  + ''\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n                fileSizeCount: data[i].fileSizeCount,\r\n                fileCount: data[i].fileCount,\r\n                linkUnnormalCount: data[i].linkUnnormalCount,\r\n                warnCount: data[i].warnCount,\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar convertData3 = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            geoCoord[0] = +geoCoord[0] + 0.8 + ''\r\n            // geoCoord[1] = +geoCoord[1]  + ''\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n                fileSizeCount: data[i].fileSizeCount,\r\n                fileCount: data[i].fileCount,\r\n                linkUnnormalCount: data[i].linkUnnormalCount,\r\n                warnCount: data[i].warnCount,\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar mapData = [];\r\nvar mapName = 'china';\r\n//  myChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    // geoCoordMap[name] = v.properties.cp;\r\n    geoCoordMap[name] = [v.properties.cp[0]-1.2,v.properties.cp[1]+0.8]\r\n\r\n});\r\n\r\nfor (var i = 0; i < data.length; i++) {\r\n    var colors = \"#00202E\";\r\n\r\n\r\n    mapData.push({\r\n        name: data[i].name,\r\n        selected: false,\r\n        fileSizeCount: data[i].fileSizeCount,\r\n        fileCount: data[i].fileCount,\r\n        linkUnnormalCount: data[i].linkUnnormalCount,\r\n        warnCount: data[i].warnCount,\r\n\r\n    })\r\n}\r\noption = {\r\n    // backgroundColor: '#030303',\r\n    color:['#17A2FF','#00FFC0','#F55B5B','#FFC554'],\r\n    title: {\r\n    },\r\n    tooltip: {\r\n        padding: 0,\r\n        trigger: 'item',\r\n        // borderColor:\"rgba(147, 235, 248, 1)\",borderWidth:3,\r\n        // backgroundImage\r\n        formatter: function(params) {\r\n            return [\r\n                '<div style=\"height:242px;width:393px;padding:30px 30px 0px 30px;line-height:35px;'\r\n                +'background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYkAAADyCAYAAAC4TzkLAAADmklEQVR4nO3csW3DMBBAUTHIAt5L43ovjsAUQQI7yG8sGzaM9yqpkMDu41jc2OZaGwD84/PwH07jfIdzAPAIc+1HPv+41zkAeD/j6rrJVADAxfRhkgAgiQQASSQASCIBQBIJAJJIAJBEAoAkEgAkkQAgiQQASSQASCIBQPpe8GexHwB/zbWbJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIY5tr/b6dxvmJZwHgFcy1/zyaJABIIgFAEgkAkkgAkEQCgCQSACSRACCJBABJJABIIgFAEgkAkkgAkK4X/N3CUkCA13WxrO8WJgkA0vFJAoC39QXuPSJvCDB/4gAAAABJRU5ErkJggg==\\n)\">' +\r\n                '<a style=\"font-size: 32px;color: #17C9FD;font-weight: bold;\"> '+params.name+'</a><br/>',\r\n                '<a style=\"color:#FFFFFF;font-size: 22px;\">采集文件总量(G) : </a> '+'<a style=\"float:right;color:#17A2FF;font-size: 28px;\">'+ params.data.fileSizeCount  +  '</a><br/>',\r\n                '<a style=\"color:#FFFFFF;font-size: 22px;\">采集文件总数: </a>' +'<a style=\"float:right;color:#00FFC0;font-size: 28px;\">'+ params.data.fileCount + '</a><br/>',\r\n                '<a style=\"color:#FFFFFF;font-size: 22px;\">采集告警数:  </a>' +'<a style=\"float:right;color:#F55B5B;font-size: 28px;\">'+  params.data.linkUnnormalCount+'</a><br/>',\r\n                '<a style=\"color:#FFFFFF;font-size: 22px;\">采集服务心跳异常总数: 　　</a>' +'<a style=\"float:right;color:#FFC554;font-size: 28px;\">'+ params.data.warnCount + '</a><br/></div>',\r\n            ].join('');\r\n            //   params.name+'<br/>',\r\n            // return params.name + ' : ' + params.value[2];\r\n        }\r\n    },\r\n    legend: {\r\n        itemWidth: 16,\r\n        itemHeight: 16,\r\n        // top:60,\r\n        // left:460,\r\n        orient: 'horizontal',\r\n        icon:'roundRect',\r\n        data: ['采集文件总量', '采集文件总数','采集告警数','采集服务心跳异常总数'],\r\n        textStyle: {\r\n            color: '#fff',fontSize:20\r\n        }\r\n\r\n    },\r\n\r\n    geo: {\r\n        map: 'china',\r\n        //  data: mapData,\r\n        showLegendSymbol: true, // 存在legend时显示\r\n        label: {\r\n            normal: {\r\n                show: true,//显示省份标签\r\n                textStyle:{color:\"#17C9FD\",fontSize: 25,fontWeight:'bold'}//省份标签字体颜色\r\n            },\r\n            emphasis: {\r\n                show: true,//对应的鼠标悬浮效果\r\n                textStyle:{color:\"#18FFE7\",fontWeight:'bold',fontSize: 26}\r\n            }\r\n        },\r\n        top:100,\r\n        // geoIndex: 0,\r\n        zoom: 1.12,//地图放大/缩小\r\n        // aspectScale: 0.75, //长宽比\r\n        // showLegendSymbol: false, // 存在legend时显示\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: 'rgba(147, 235, 248, 1)',\r\n                borderWidth: 1,\r\n                areaColor: {\r\n                    type: 'radial',\r\n                    x: 0.5,\r\n                    y: 0.5,\r\n                    r: 0.8,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#002859' // 0% 处的颜色\r\n                    },{\r\n                        offset: .4,\r\n                        color: '#002859' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#005b93' // 100% 处的颜色\r\n                    }],\r\n                    globalCoord: true // 缺省为 false\r\n                },\r\n                shadowColor: 'rgba(128, 217, 248, 1)',\r\n                // shadowColor: 'rgba(255, 255, 255, 1)',\r\n                shadowOffsetX: -2,\r\n                shadowOffsetY: 2,\r\n                shadowBlur: 10\r\n            },\r\n            emphasis: {\r\n                // borderColor: 'rgba(147, 235, 248, 1)',\r\n                // borderWidth: 1,\r\n                areaColor: {\r\n                    type: 'radial',\r\n                    x: 0.5,\r\n                    y: 0.5,\r\n                    r: 0.8,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#002859' // 0% 处的颜色\r\n                    },{\r\n                        offset: .4,\r\n                        color: '#002859' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#005b93' // 100% 处的颜色\r\n                    }],\r\n                    globalCoord: true // 缺省为 false\r\n                },\r\n                borderWidth: 4,\r\n                borderColor: 'rgba(24, 255, 231, 1)',\r\n            }\r\n        },\r\n        animation: false,\r\n        z: 1\r\n    },\r\n    series: [\r\n        // 地图？\r\n\r\n\r\n        {\r\n            name: '采集文件总量',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: 14,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            itemStyle: {\r\n                emphasis: {\r\n                    borderColor: '#fff',\r\n                    borderWidth: 1\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: '采集文件总数',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData1(data),\r\n            symbolSize: 14,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n        },\r\n        {\r\n            name: '采集告警数',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData1(data),\r\n            symbolSize: 14,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n\r\n        },\r\n        {\r\n            name: '采集服务心跳异常总数',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData1(data),\r\n\r\n            symbolSize: 14,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n        },\r\n\r\n    ]\r\n}\r\n// myChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-3074825930","theme":"","layout":"","viewCount":534,"userName":"汀***茹","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5GfkHM1q.png?v=1577695160011","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"汀***茹"}}