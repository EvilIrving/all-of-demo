{"status":0,"data":{"cid":"xB1nA4s3Nf","authorUid":"bd-3778831175","authorUserName":"m***i","title":"south-korea roads  lines3D","description":"south-korea roads  lines3D","latestVersion":6,"alwaysLatest":1,"createTime":"2018-01-17T10:26:27.000Z","lastUpdateTime":"2018-01-17T10:26:27.000Z","auth":2,"uid":"bd-3778831175","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.1.0","versionCreateTime":"2019-01-09T11:21:29.000Z","code":"function mecatorToLngLat(mecator_lnglat) {\r\n    var lnglat = [];\r\n    if (Array.isArray(mecator_lnglat[0])) {\r\n        for (var i = 0; i < mecator_lnglat.length; i++) {\r\n            var _lnglat = proj4('EPSG:3857', 'EPSG:4326', mecator_lnglat[i]);\r\n            lnglat.push(_lnglat)\r\n        }\r\n    } else {\r\n        lnglat = proj4('EPSG:3857', 'EPSG:4326', mecator_lnglat);\r\n    }\r\n    return lnglat;\r\n}\r\nvar taxiRoutes = [];\r\nvar dataurl = '/asset/get/s/data-1516182603477-B1XI252Ef.json'\r\nmyChart.showLoading();\r\n$.getJSON(dataurl, function(regionsData) {\r\n    myChart.hideLoading();\r\n    var data = regionsData.data;\r\n    var hStep = 300 / (data.length - 1);\r\n    var i = 0;\r\n    for (var x in data) {\r\n        var pointString = data[x];\r\n        var pointArr = pointString.split(';');\r\n        var lnglats = [];\r\n        for (var j in pointArr) {\r\n            lnglats.push(pointArr[j].split(','))\r\n        }\r\n        taxiRoutes.push({\r\n            coords: lnglats,\r\n            lineStyle: {\r\n                color: echarts.color.modifyHSL('#5A94DF', Math.round(hStep * x))\r\n            }\r\n        })\r\n    }\r\n    option = {\r\n        maptalks3D: {\r\n            center: [127.41212033876286, 36.35230174302066],\r\n            zoom: 8,\r\n            baseLayer: {\r\n                'urlTemplate': 'http://a.tiles.mapbox.com/v3/spatialdev.map-c9z2cyef/{z}/{x}/{y}.png',\r\n                'subdomains': ['a', 'b', 'c', 'd']\r\n            },\r\n            pitch: 50,\r\n            // bearing: -10,\r\n            altitudeScale: 2,\r\n            urlTemplate: 'http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png',\r\n            postEffect: {\r\n                enable: true,\r\n                FXAA: {\r\n                    enable: true\r\n                }\r\n            },\r\n            light: {\r\n                main: {\r\n                    intensity: 1,\r\n                    shadow: true,\r\n                    shadowQuality: 'high'\r\n                },\r\n                ambient: {\r\n                    intensity: 0.\r\n                },\r\n                ambientCubemap: {\r\n                    texture: '/asset/get/s/data-1491838644249-ry33I7YTe.hdr',\r\n                    exposure: 1,\r\n                    diffuseIntensity: 0.5,\r\n                    specularIntensity: 2\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n            type: 'lines3D',\r\n            coordinateSystem: 'maptalks3D',\r\n            effect: {\r\n                show: true,\r\n                constantSpeed: 1,\r\n                trailWidth: 2,\r\n                trailLength: 0.4,\r\n                trailOpacity: 1,\r\n                spotIntensity: 10\r\n            },\r\n            blendMode: 'lighter',\r\n            polyline: true,\r\n            lineStyle: {\r\n                width: 0.1,\r\n                color: 'rgb(100, 100, 0)',\r\n                opacity: 0.\r\n            },\r\n            data: taxiRoutes\r\n        }]\r\n    }\r\n    myChart.setOption(option);\r\n})","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/maptalks@0.39.3/dist/maptalks.min.js,https://cdn.bootcss.com/echarts/4.1.0/echarts.min.js,https://deyihu.github.io/src/lib/echarts-gl.1.1.3.js?tdsourcetag=s_pctim_aiomsg,https://cdn.bootcss.com/jquery/2.0.3/jquery.min.js,https://cdn.bootcss.com/proj4js/2.4.4/proj4.js","updaterUID":"bd-3778831175","theme":"","layout":"","viewCount":11215,"userName":"m***i","commentCount":3,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1nA4s3Nf.png?v=1516184788386","isCustomThumbnail":1,"builtinTags":["category-work","maptalks3D","series-lines3D"],"customTags":[],"updaterUserName":"m***i"}}