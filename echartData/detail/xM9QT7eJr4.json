{"status":0,"data":{"cid":"xM9QT7eJr4","authorUid":"obd-ojCTLSZGeHIYau1HAWpEWBOaKrmx0Dp","authorUserName":"h***_","title":"模拟人口迁徙","description":"模拟人口迁徙","latestVersion":22,"alwaysLatest":0,"createTime":"2021-06-03T09:50:52.000Z","lastUpdateTime":"2021-12-13T03:17:06.000Z","auth":1,"uid":"obd-ojCTLSZGeHIYau1HAWpEWBOaKrmx0Dp","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":22,"parentVersion":21,"echartsVersion":"4.9.0","versionCreateTime":"2021-12-13T03:17:06.000Z","code":"var geoCoordMap = {\n    灵宝: [110.8945, 34.51682],\n    韶关: [113.591544, 24.801322],\n    洛阳: [112.434468, 34.663041],\n    长治: [113.113556, 36.191112],\n    宿州: [116.984084, 33.633891],\n    信阳: [114.075031, 32.123274],\n    芜湖: [118.376451, 31.326319],\n    景德镇: [117.214664, 29.29256],\n    吉安: [114.986373, 27.111699],\n    九江: [115.992811, 29.712034],\n    宁都: [116.01565, 26.47227],\n    长汀: [116.35888, 25.82773],\n    南昌: [115.892151, 28.676493],\n    赣州: [114.940278, 25.85097],\n    梅州: [116.117582, 24.299112],\n    龙川: [115.26025, 24.10142],\n    大埔: [116.69662, 24.35325],\n    汕头: [116.708463, 23.37102],\n    南雄: [114.30966, 25.11706],\n    广州: [113.280637, 23.125178],\n    宝安: [113.88311, 22.55371],\n    阳江: [111.975107, 21.859222],\n    桂平: [110.08105, 23.39339],\n    信宜: [110.94647, 22.35351],\n    钦州: [108.624175, 21.967127],\n    海口: [110.33119, 20.031971],\n    柳州: [109.411703, 24.314617],\n    榕江: [108.52072, 25.92421],\n    凤山: [107.04892, 24.54215],\n    韶光: [113.591544, 24.801322],\n    贺州: [111.552056, 24.414141],\n    郴州: [113.032067, 25.793589],\n    邵阳: [111.46923, 27.237842],\n    常德: [111.691347, 29.040225],\n    恩施: [109.47942, 30.29502],\n    重庆: [106.504962, 29.533155],\n    惠州: [114.412599, 23.079404],\n    龙岩: [117.02978, 25.091603],\n    高雄: [120.311922, 22.620856],\n    台北: [121.56517, 25.037798],\n    中山: [113.382391, 22.521113],\n    广元: [105.829757, 32.433668],\n    成都: [104.065735, 30.659462],\n    会理: [102.24539, 26.65627],\n    凭祥: [106.75534, 22.10573],\n};\n\nvar BJData = [\n    [\n        {\n            name: '宿州',\n        },\n        {\n            name: '芜湖',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '灵宝',\n        },\n        {\n            name: '灵宝',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '长治',\n        },\n        {\n            name: '长治',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '洛阳',\n        },\n        {\n            name: '洛阳',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '灵宝',\n        },\n        {\n            name: '信阳',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '长治',\n        },\n        {\n            name: '宿州',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '洛阳',\n        },\n        {\n            name: '信阳',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '信阳',\n        },\n        {\n            name: '吉安',\n            value: 60,\n        },\n    ],\n];\n\nvar SHData = [\n    [\n        {\n            name: '南昌',\n        },\n        {\n            name: '南昌',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '信阳',\n        },\n        {\n            name: '景德镇',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '芜湖',\n        },\n        {\n            name: '景德镇',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '景德镇',\n        },\n        {\n            name: '长汀',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '南昌',\n        },\n        {\n            name: '赣州',\n            value: 60,\n        },\n    ],\n];\n\nvar GZData = [\n    [\n        {\n            name: '吉安',\n        },\n        {\n            name: '南雄',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '宁都',\n        },\n        {\n            name: '宁都',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '南雄',\n        },\n        {\n            name: '惠州',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '赣州',\n        },\n        {\n            name: '龙川',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '宁都',\n        },\n        {\n            name: '梅州',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '长汀',\n        },\n        {\n            name: '龙岩',\n            value: 60,\n        },\n    ],\n];\n\nvar WJData = [\n    [\n        {\n            name: '梅州',\n        },\n        {\n            name: '汕头',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '汕头',\n        },\n        {\n            name: '高雄',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '高雄',\n        },\n        {\n            name: '台北',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '龙川',\n        },\n        {\n            name: '宝安',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '惠州',\n        },\n        {\n            name: '广州',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '广州',\n        },\n        {\n            name: '桂平',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '桂平',\n        },\n        {\n            name: '柳州',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '韶关',\n        },\n        {\n            name: '韶关',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '柳州',\n        },\n        {\n            name: '榕江',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '柳州',\n        },\n        {\n            name: '凤山',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '惠州',\n        },\n        {\n            name: '中山',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '中山',\n        },\n        {\n            name: '阳江',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '韶关',\n        },\n        {\n            name: '贺州',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '韶关',\n        },\n        {\n            name: '郴州',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '郴州',\n        },\n        {\n            name: '邵阳',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '邵阳',\n        },\n        {\n            name: '常德',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '常德',\n        },\n        {\n            name: '恩施',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '恩施',\n        },\n        {\n            name: '重庆',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '重庆',\n        },\n        {\n            name: '成都',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '重庆',\n        },\n        {\n            name: '广元',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '重庆',\n        },\n        {\n            name: '会理',\n            value: 60,\n        },\n    ],\n];\n\nvar JGData = [\n    [\n        {\n            name: '中山',\n        },\n        {\n            name: '信宜',\n            value: 60,\n        },\n    ],\n\n    [\n        {\n            name: '信宜',\n        },\n        {\n            name: '钦州',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '桂平',\n        },\n        {\n            name: '凭祥',\n            value: 60,\n        },\n    ],\n    [\n        {\n            name: '信宜',\n        },\n        {\n            name: '海口',\n            value: 60,\n        },\n    ],\n];\n\nvar planePath =\n    'path://M.6,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705';\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        if (fromCoord && toCoord) {\n            res.push([\n                {\n                    coord: fromCoord,\n                },\n                {\n                    coord: toCoord,\n                },\n            ]);\n        }\n    }\n    return res;\n};\n\nvar color = ['#FF8888', ' #ffa022', '#a6c84c', '#3ed4ff', '\t#E38EFF'];\nvar series = [];\n[\n    ['长治', BJData],\n    ['景德镇', SHData],\n    ['宁都', GZData],\n    ['汕头', WJData],\n    ['信宜', JGData],\n].forEach(function (item, i) {\n    series.push(\n        {\n            type: 'lines',\n            zlevel: 1,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0.7,\n                color: '#fff',\n                symbolSize: 3,\n            },\n            lineStyle: {\n                normal: {\n                    color: color[i],\n                    width: 0,\n                    curveness: 0.2,\n                },\n            },\n\n            data: convertData(item[1]),\n        },\n        {\n            type: 'lines',\n            zlevel: 2,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0,\n                symbol: planePath,\n                symbolSize: 15,\n            },\n            lineStyle: {\n                normal: {\n                    color: color[i],\n                    width: 1,\n                    opacity: 0.4,\n                    curveness: 0.2,\n                },\n            },\n\n            data: convertData(item[1]),\n        },\n        {\n            type: 'lines',\n            zlevel: 2,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0,\n                symbol: planePath,\n                symbolSize: 15,\n            },\n            lineStyle: {\n                normal: {\n                    color: color[i],\n                    width: 1,\n                    opacity: 0.4,\n                    curveness: 0.2,\n                },\n            },\n\n            data: convertData(item[1]),\n        },\n        {\n            type: 'lines',\n            zlevel: 2,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0,\n                symbol: planePath,\n                symbolSize: 15,\n            },\n            lineStyle: {\n                normal: {\n                    color: color[i],\n                    width: 1,\n                    opacity: 0.4,\n                    curveness: 0.2,\n                },\n            },\n\n            data: convertData(item[1]),\n        },\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 2,\n            rippleEffect: {\n                brushType: 'stroke',\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}',\n                },\n            },\n            symbolSize: function (val) {\n                return val[2] / 8;\n            },\n            itemStyle: {\n                normal: {\n                    color: color[i],\n                },\n            },\n            data: item[1].map(function (dataItem) {\n                return {\n                    name: dataItem[1].name,\n                    value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value]),\n                };\n            }),\n        }\n    );\n});\n\nvar option = {\n    backgroundColor: '#080a20',\n    title: {\n        text: '客家五次迁徙',\n        subtext: '模拟迁徙',\n        left: 'center',\n        textStyle: {\n            color: '#fff',\n        },\n    },\n    tooltip: {\n        trigger: 'item',\n    },\n    legend: {\n        orient: 'vertical',\n        top: 'bottom',\n        left: 'right',\n        data: [],\n        textStyle: {\n            color: '#fff',\n        },\n        selectedMode: 'single',\n    },\n    geo: {\n        map: 'china',\n        zoom: 1.2,\n        scaleLimit: {\n            //控制滚轮缩放大小\n            max: 8,\n            min: 1,\n        },\n        label: {\n            emphasis: {\n                show: false,\n            },\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#132937',\n                borderColor: '#0692a4',\n            },\n            emphasis: {\n                areaColor: '#0b1c2d',\n            },\n        },\n    },\n    series: series,\n};\n","html":"","externalScripts":"https://www.makeapie.com/dep/echarts/map/js/china.js","updaterUID":"obd-oAF5Um4Kei5ZPZn32CVzq8Y1OAR-77p","theme":"","layout":"","viewCount":0,"userName":"h***_","commentCount":1,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xM9QT7eJr4.png?v=1622713854582","isCustomThumbnail":1,"builtinTags":["category-work","geo","legend","series-effectScatter","series-lines","tooltip"],"customTags":["地图","迁徙"],"updaterUserName":"z***6"}}