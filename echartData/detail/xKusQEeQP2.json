{"status":0,"data":{"cid":"xKusQEeQP2","authorUid":"bd-37923009","authorUserName":"A***A","title":"地图单选","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-01-16T01:39:47.000Z","lastUpdateTime":"2019-01-16T01:39:47.000Z","auth":2,"uid":"bd-37923009","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-16T01:39:47.000Z","code":"var mapName = 'china'\r\nvar data = [{\r\n        name: \"北京\"\r\n    },\r\n    {\r\n        name: \"天津\"\r\n    },\r\n    {\r\n        name: \"河北\"\r\n    },\r\n    {\r\n        name: \"山西\"\r\n    },\r\n    {\r\n        name: \"内蒙古\"\r\n    },\r\n    {\r\n        name: \"辽宁\"\r\n    },\r\n    {\r\n        name: \"吉林\"\r\n    },\r\n    {\r\n        name: \"黑龙江\"\r\n    },\r\n    {\r\n        name: \"上海\"\r\n    },\r\n    {\r\n        name: \"江苏\"\r\n    },\r\n    {\r\n        name: \"浙江\"\r\n    },\r\n    {\r\n        name: \"安徽\"\r\n    },\r\n    {\r\n        name: \"福建\"\r\n    },\r\n    {\r\n        name: \"江西\"\r\n    },\r\n    {\r\n        name: \"山东\"\r\n    },\r\n    {\r\n        name: \"河南\"\r\n    },\r\n    {\r\n        name: \"湖北\"\r\n    },\r\n    {\r\n        name: \"湖南\"\r\n    },\r\n    {\r\n        name: \"重庆\"\r\n    },\r\n    {\r\n        name: \"四川\"\r\n    },\r\n    {\r\n        name: \"贵州\"\r\n    },\r\n    {\r\n        name: \"云南\"\r\n    },\r\n    {\r\n        name: \"西藏\"\r\n    },\r\n    {\r\n        name: \"陕西\"\r\n    },\r\n    {\r\n        name: \"甘肃\"\r\n    },\r\n    {\r\n        name: \"青海\"\r\n    },\r\n    {\r\n        name: \"宁夏\"\r\n    },\r\n    {\r\n        name: \"新疆\",\r\n        selected: true\r\n    },\r\n    {\r\n        name: \"广东\"\r\n    },\r\n    {\r\n        name: \"广西\"\r\n    },\r\n    {\r\n        name: \"海南\"\r\n    },\r\n    {\r\n        name: \"台湾\"\r\n    },\r\n    {\r\n        name: \"南海诸岛\"\r\n    },\r\n];\r\n\r\nvar geoCoordMap = {};\r\n\r\n\r\n/*获取地图数据*/\r\nmyChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\n\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(params) {\r\n            if (typeof(params.value)[2] == \"undefined\") {\r\n                var toolTiphtml = '';\r\n                for (var i = 0; i < data.length; i++) {\r\n                    if (params.name == data[i].name) {\r\n                        toolTiphtml += data[i].name + ''\r\n                    }\r\n                }\r\n                var toolTiphtml = '';\r\n                for (var i = 0; i < data.length; i++) {\r\n                    if (params.name == data[i].name) {\r\n                        toolTiphtml += data[i].name + ''\r\n                    }\r\n                }\r\n                return toolTiphtml;\r\n            }\r\n        }\r\n    },\r\n    geo: {\r\n        show: true,\r\n        map: mapName,\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        roam: false,\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#7FA2DF',\r\n                borderColor: '#fff',\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2C78DD',\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: '散点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: 10,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#F3CA61'\r\n                }\r\n            }\r\n        },\r\n\r\n        {\r\n            name: '',\r\n            type: 'map',\r\n            mapType: mapName,\r\n            map: mapName,\r\n            selectedMode: 'single', //地图省市区域单选\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            roam: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    borderWidth: 1, // 省份的边框宽度\r\n                    borderColor: '#fff', // 省份的边框颜色\r\n                    areaColor: '#7FA2DF' // 设置地图颜色\r\n                },\r\n                emphasis: {\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    areaColor: '#2C78DD' //选中区域颜色\r\n                }\r\n            },\r\n            data: data\r\n        },\r\n\r\n\r\n    ]\r\n};\r\nmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-37923009","theme":"","layout":"","viewCount":1332,"userName":"A***A","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKusQEeQP2.png?v=1547602787846","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","tooltip"],"customTags":[],"updaterUserName":"A***A"}}