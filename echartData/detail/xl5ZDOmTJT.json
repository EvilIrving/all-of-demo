{"status":0,"data":{"cid":"xl5ZDOmTJT","authorUid":"bd-900176523","authorUserName":"秋***3","title":"百度地图+迁徙+自定义城市","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-29T03:59:27.000Z","lastUpdateTime":"2020-04-29T03:59:27.000Z","auth":2,"uid":"bd-900176523","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-29T03:59:27.000Z","code":"var geoCoordMap = {\r\n        \"1\": [119.2070396626, 26.0471838188],\r\n        \"2\": [119.2147498638, 26.0481609598],\r\n        \"3\": [119.209339, 26.038355],\r\n        \"4\": [119.2163806469, 26.0442086921],\r\n        \"5\": [119.2132263691, 26.0498767809],\r\n        \"6\": [119.219382299, 26.0524969442],\r\n        \"7\": [119.2194920093, 26.0496647145],\r\n        \"8\": [119.2194276363, 26.0475440293],\r\n        \"9\": [119.225689, 26.044945],\r\n        \"10\": [119.215699, 26.045237],\r\n        \"11\": [119.2191260061, 26.0366349971],\r\n        \"12\": [119.212969, 26.039069]\r\n      };\r\n      var oneData = [\r\n        [\r\n          {\r\n            name: \"1\"\r\n          },\r\n          {\r\n            name: \"2\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"1\"\r\n          },\r\n          {\r\n            name: \"3\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"1\"\r\n          },\r\n          {\r\n            name: \"4\",\r\n            value: 20\r\n          }\r\n        ]\r\n      ];\r\n      var twoData = [\r\n        [\r\n          {\r\n            name: \"5\"\r\n          },\r\n          {\r\n            name: \"6\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"5\"\r\n          },\r\n          {\r\n            name: \"7\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"5\"\r\n          },\r\n          {\r\n            name: \"8\",\r\n            value: 20\r\n          }\r\n        ]\r\n      ];\r\n      var threeData = [\r\n        [\r\n          {\r\n            name: \"9\"\r\n          },\r\n          {\r\n            name: \"10\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"9\"\r\n          },\r\n          {\r\n            name: \"11\",\r\n            value: 20\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            name: \"9\"\r\n          },\r\n          {\r\n            name: \"12\",\r\n            value: 20\r\n          }\r\n        ]\r\n      ];\r\n\r\n      var planePath =\r\n        \"path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z\";\r\n\r\n      var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n          var dataItem = data[i];\r\n          var fromCoord = geoCoordMap[dataItem[1].name];\r\n          var toCoord = geoCoordMap[dataItem[0].name];\r\n          if (fromCoord && toCoord) {\r\n            res.push({\r\n              fromName: dataItem[1].name,\r\n              toName: dataItem[0].name,\r\n              coords: [fromCoord, toCoord]\r\n            });\r\n          }\r\n        }\r\n        return res;\r\n      };\r\n\r\n      var color = [\"#a6c84c\", \"#ffa022\", \"#46bee9\"];\r\n      var series = [];\r\n      [[\"1\", oneData], [\"5\", twoData], [\"9\", threeData]].forEach(function(\r\n        item,\r\n        i\r\n      ) {\r\n        series.push(\r\n          {\r\n            name: item[0],\r\n            type: \"effectScatter\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n              brushType: \"stroke\"\r\n            },\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: \"right\",\r\n                formatter: \"{b}\"\r\n              }\r\n            },\r\n            symbolSize: function(val) {\r\n              return val[2] / 4;\r\n            },\r\n            showEffectOn: \"render\",\r\n            itemStyle: {\r\n              normal: {\r\n                color: color[i]\r\n              }\r\n            },\r\n            data: [\r\n              {\r\n                name: item[0],\r\n                value: geoCoordMap[item[0]].concat([100])\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            name: item[0] + \" Top10\",\r\n            type: \"lines\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 1,\r\n            effect: {\r\n              show: true,\r\n              period: 6,\r\n              trailLength: 0.7,\r\n              color: \"#fff\",\r\n              symbolSize: 3\r\n            },\r\n            lineStyle: {\r\n              normal: {\r\n                color: color[i],\r\n                width: 0,\r\n                curveness: 0.2\r\n              }\r\n            },\r\n            data: convertData(item[1])\r\n          },\r\n          {\r\n            name: item[0] + \" Top10\",\r\n            type: \"lines\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 2,\r\n            effect: {\r\n              show: true,\r\n              period: 6,\r\n              trailLength: 0,\r\n              symbol: planePath,\r\n              symbolSize: 15\r\n            },\r\n            lineStyle: {\r\n              normal: {\r\n                color: color[i],\r\n                width: 1,\r\n                opacity: 0.4,\r\n                curveness: 0.2\r\n              }\r\n            },\r\n            data: convertData(item[1])\r\n          },\r\n          {\r\n            name: item[0] + \" Top10\",\r\n            type: \"effectScatter\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n              brushType: \"stroke\"\r\n            },\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: \"right\",\r\n                formatter: \"{b}\"\r\n              }\r\n            },\r\n            symbolSize: function(val) {\r\n              return val[2] / 4;\r\n            },\r\n            showEffectOn: \"render\",\r\n            itemStyle: {\r\n              normal: {\r\n                color: color[i]\r\n              }\r\n            },\r\n            data: item[1].map(function(dataItem) {\r\n              return {\r\n                name: dataItem[1].name,\r\n                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])\r\n              };\r\n            })\r\n          }\r\n        );\r\n      });\r\n\r\n      var option = {\r\n        bmap: {\r\n          // 百度地图中心经纬度 坐标拾取器http://api.map.baidu.com/lbsapi/getpoint/index.html\r\n          center: [119.2166696096, 26.0446365813],\r\n          // 百度地图缩放等级，数字越大，放大越大，地图比例尺越小\r\n          zoom: 16,\r\n          // 是否开启拖拽缩放，可以只设置 'scale' 或者 'move'\r\n          roam: false,\r\n          // mapStyle是百度地图的自定义样式，见 http://developer.baidu.com/map/custom/\r\n          mapStyle: {\r\n            styleJson: [\r\n              {\r\n                featureType: \"water\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#021019\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"highway\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"highway\",\r\n                elementType: \"geometry.stroke\",\r\n                stylers: {\r\n                  color: \"#147a92\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"arterial\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"arterial\",\r\n                elementType: \"geometry.stroke\",\r\n                stylers: {\r\n                  color: \"#0b3d51\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"local\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"land\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#08304b\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"railway\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"railway\",\r\n                elementType: \"geometry.stroke\",\r\n                stylers: {\r\n                  color: \"#08304b\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"subway\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  lightness: -70\r\n                }\r\n              },\r\n              {\r\n                featureType: \"building\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.text.fill\",\r\n                stylers: {\r\n                  color: \"#857f7f\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.text.stroke\",\r\n                stylers: {\r\n                  color: \"#000000\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"building\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#022338\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"green\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#062032\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"boundary\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#1e1c1c\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"manmade\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#022338\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"poi\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  visibility: \"off\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.icon\",\r\n                stylers: {\r\n                  visibility: \"off\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.text.fill\",\r\n                stylers: {\r\n                  color: \"#2da0c6\",\r\n                  visibility: \"on\"\r\n                }\r\n              },\r\n              {\r\n                featureType: \"background\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#0e1054ff\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        //series是在地图上的线条等效果的配置文件，具体可以查阅文档。\r\n        series: series\r\n      };","html":"","externalScripts":"/dep/echarts/map/js/china.js,/dep/echarts/latest/extension/bmap.min.js,http://api.map.baidu.com/api?v=3.0&ak=euyB8GxqGkflMG8RHv3MGtK0aoqs4Cgh","updaterUID":"bd-900176523","theme":"","layout":"","viewCount":20708,"userName":"秋***3","commentCount":4,"starCount":69,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xl5ZDOmTJT.png?v=1588132768427","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":["，迁徙图","百度地图"],"updaterUserName":"秋***3"}}