{"status":0,"data":{"cid":"xLMEPGuurl","authorUid":"obd-o-1eH-Twf3D5T3SqHTE-_ejkeDRkBAx","authorUserName":"s***1","title":"人员分布","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-14T08:09:28.000Z","lastUpdateTime":"2021-01-14T08:09:28.000Z","auth":2,"uid":"obd-o-1eH-Twf3D5T3SqHTE-_ejkeDRkBAx","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-14T08:09:28.000Z","code":"var title = [\r\n    // 第零层\r\n    {\r\n        label: '队长张某某',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    // 第一层\r\n    {\r\n        label: 'grpc',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 5\r\n    },\r\n    {\r\n        label: 'cache',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 7\r\n    },\r\n    {\r\n        label: 'reco_rpc',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 7\r\n    },\r\n    {\r\n        label: 'kafka',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 7\r\n    },\r\n    // 第二层\r\n    {\r\n        label: 'grpc2',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'cache2',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'leaf2',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'kafka2',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'ad2',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    // 第三层\r\n    {\r\n        label: 'grpc3',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'cache3',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n    {\r\n        label: 'kafka3',\r\n        warn: 5,\r\n        error: 8,\r\n        value: 2\r\n    },\r\n];\r\nvar colorMap = {\r\n    normal: '#18a849',\r\n    warn: '#FFC125',\r\n    error: '#FF0000',\r\n};\r\n\r\ncolorFunction = function(obj) {\r\n    if (obj.value < obj.warn) {\r\n        return colorMap.normal;\r\n    } else if (obj.warn <= obj.value && obj.value < obj.error) {\r\n        return colorMap.warn;\r\n    } else if (obj.error <= obj.value) {\r\n        return colorMap.error;\r\n    }\r\n};\r\n//具体的绘制流程图的方法\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(para) {\r\n            if (para.name != 'x' || para.name != 'y') {\r\n                return para.name;\r\n            } else {\r\n                //其他的都正式显示，自己是什么就显示什么。\r\n                return '';\r\n            }\r\n        }\r\n    },\r\n    animationDurationUpdate: 1500,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    textStyle: {\r\n        color: '#000'\r\n    },\r\n    series: [{\r\n        type: 'graph',\r\n        tooltip: {\r\n            backgroundColor: 'skyblue',\r\n            //formatter: \"{b} <br/>{a} : {c} h \"\r\n        },\r\n        layout: 'none',\r\n        symbolSize: 10,\r\n        roam: false,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'inside',\r\n                //offset: [0,-60],//居上 20\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                    color: '#fff',\r\n                    fontWeight: 'BOLD',\r\n                },\r\n            }\r\n        },\r\n        edgeSymbol: ['circle', 'arrow'],\r\n        edgeSymbolSize: [4, 10],\r\n        edgeLabel: {\r\n            normal: {\r\n                textStyle: {\r\n                    fontSize: 18\r\n                }\r\n            }\r\n        },\r\n        //注意，所有节点的位置都是根据自己设置的x, y坐标来设置的\r\n        data: [\r\n            // 零层\r\n            {\r\n                name: title[0].label,\r\n                x: 300,\r\n                y: 0,\r\n                value: title[0],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[0]),\r\n                    }\r\n                }\r\n            },\r\n            // 一层\r\n            {\r\n                name: title[1].label,\r\n                x: 0,\r\n                y: 200,\r\n                value: title[1],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[1]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[2].label,\r\n                x: 150,\r\n                y: 200,\r\n                value: title[2],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[2]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[3].label,\r\n                x: 350,\r\n                y: 200,\r\n                value: title[3],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[3]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[4].label,\r\n                x: 600,\r\n                y: 200,\r\n                value: title[4],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[4]),\r\n                    }\r\n                }\r\n            },\r\n            // 二层\r\n            {\r\n                name: title[5].label,\r\n                x: 0,\r\n                y: 400,\r\n                value: title[5],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[5]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[6].label,\r\n                x: 150,\r\n                y: 400,\r\n                value: title[6],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[6]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[7].label,\r\n                x: 300,\r\n                y: 400,\r\n                value: title[7],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[7]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[8].label,\r\n                x: 450,\r\n                y: 400,\r\n                value: title[8],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[8]),\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: title[9].label,\r\n                x: 600,\r\n                y: 400,\r\n                value: title[9],\r\n                symbolSize: 50,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: colorFunction(title[9]),\r\n                    }\r\n                }\r\n            },\r\n            // 三层\r\n            \r\n\r\n            // 一层\r\n            {\r\n                name: '1',\r\n                x: 300,\r\n                y: 100,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '2',\r\n                x: 150,\r\n                y: 100,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '3',\r\n                x: 0,\r\n                y: 100,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '4',\r\n                x: 350,\r\n                y: 100,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '5',\r\n                x: 600,\r\n                y: 100,\r\n                symbolSize: 0,\r\n            },\r\n            // 二层\r\n            {\r\n                name: '21',\r\n                x: 0,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '22',\r\n                x: 150,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '23',\r\n                x: 300,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '24',\r\n                x: 350,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '25',\r\n                x: 450,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            {\r\n                name: '26',\r\n                x: 600,\r\n                y: 300,\r\n                symbolSize: 0,\r\n            },\r\n            \r\n        ],\r\n        // links: [],\r\n        //这是点与点之间的连接关系\r\n        links: [\r\n            // 零层\r\n            {\r\n                source: title[0].label,\r\n                target: '1',\r\n            },\r\n            // 一层\r\n            {\r\n                source: '3',\r\n                target: title[1].label,\r\n            },\r\n            {\r\n                source: '2',\r\n                target: title[2].label,\r\n            },\r\n            {\r\n                source: '4',\r\n                target: title[3].label,\r\n            },\r\n            {\r\n                source: '5',\r\n                target: title[4].label,\r\n            },\r\n            // 二层\r\n            {\r\n                source: title[3].label,\r\n                target: '24',\r\n            },\r\n            {\r\n                source: '21',\r\n                target: title[5].label,\r\n            },\r\n            {\r\n                source: '22',\r\n                target: title[6].label,\r\n            },\r\n            {\r\n                source: '23',\r\n                target: title[7].label,\r\n            },\r\n            {\r\n                source: '25',\r\n                target: title[8].label,\r\n            },\r\n            {\r\n                source: '26',\r\n                target: title[9].label,\r\n            },\r\n            // 三层\r\n            {\r\n                source: title[7].label,\r\n                target: '33',\r\n            },\r\n            {\r\n                source: '31',\r\n                target: title[10].label,\r\n            },\r\n            {\r\n                source: '32',\r\n                target: title[11].label,\r\n            },\r\n            {\r\n                source: '34',\r\n                target: title[12].label,\r\n            },\r\n\r\n            // 一层\r\n            {\r\n                source: '1',\r\n                target: '2',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '2',\r\n                target: '3',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '1',\r\n                target: '4',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '4',\r\n                target: '5',\r\n                symbol: 'none',\r\n            },\r\n            // 二层\r\n            {\r\n                source: '21',\r\n                target: '22',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '22',\r\n                target: '23',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '23',\r\n                target: '24',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '24',\r\n                target: '25',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '25',\r\n                target: '26',\r\n                symbol: 'none',\r\n            },\r\n            // 三层\r\n            {\r\n                source: '31',\r\n                target: '32',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '32',\r\n                target: '33',\r\n                symbol: 'none',\r\n            },\r\n            {\r\n                source: '33',\r\n                target: '34',\r\n                symbol: 'none',\r\n            },\r\n        ],\r\n        //线条的颜色\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: 0.9,\r\n                color: '#53B5EA',\r\n                type: 'dashed',\r\n                width: 1\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o-1eH-Twf3D5T3SqHTE-_ejkeDRkBAx","theme":"","layout":"","viewCount":287,"userName":"s***1","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLMEPGuurl.png?v=1610611768337","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","tooltip"],"customTags":[],"updaterUserName":"s***1"}}