{"status":0,"data":{"cid":"xzSfDHmji7","authorUid":"obd-oCAnIthIdnuPCrg6mUP5O-zpUm9Im3a","authorUserName":"啊***华","title":" 实习","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2020-09-02T09:41:13.000Z","lastUpdateTime":"2020-09-02T09:41:13.000Z","auth":2,"uid":"obd-oCAnIthIdnuPCrg6mUP5O-zpUm9Im3a","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-02T13:40:24.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\r\nmyChart.showLoading();\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('china', geoJson);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n    '台湾': [121.5135,25.0308],\r\n    '黑龙江': [127.9688, 45.368],\r\n    '内蒙古': [110.3467, 41.4899],\r\n    \"吉林\": [125.8154, 44.2584],\r\n    \"北京\": [116.4551, 40.2539],\r\n    \"辽宁\": [123.1238, 41.1216],\r\n    \"河北\": [114.4995, 38.1006],\r\n    \"天津\": [117.4219, 39.4189],\r\n    \"山西\": [112.3352, 37.9413],\r\n    \"陕西\": [109.1162, 34.2004],\r\n    \"甘肃\": [104.5901, 35.3043],\r\n    \"宁夏\": [106.3586, 38.1775],\r\n    \"青海\": [101.4038, 36.8207],\r\n    \"新疆\": [85.9236, 41.5883],\r\n    \"西藏\": [91.11, 29.97],\r\n    \"四川\": [103.9526, 30.7617],\r\n    \"重庆\": [108.384366, 30.439702],\r\n    \"山东\": [118.1582, 37.3701],\r\n    \"河南\": [113.4668, 34.6234],\r\n    \"江苏\": [119.3062, 34.3208],\r\n    \"安徽\": [117.29, 32.0581],\r\n    \"湖北\": [114.3896, 30.6628],\r\n    \"浙江\": [120.5313, 28.8773],\r\n    \"福建\": [119.4543, 25.9222],\r\n    \"江西\": [116.0046, 28.6633],\r\n    \"湖南\": [111.9823, 27.2568],\r\n    \"贵州\": [106.6992, 26.7682],\r\n    \"云南\": [101.9199, 24.4663],\r\n    \"广东\": [113.12244, 23.009505],\r\n    \"广西\": [108.479, 23.1152],\r\n    \"海南\": [109.7893, 19.3516],\r\n    '上海': [121.4648, 31.2891],\r\n    \r\n};\r\n    var data = [\r\n    {name:\"北京\",value:1},\r\n    {name:\"山西\",value:2},\r\n    {name:\"辽宁\",value:1},\r\n    {name:\"黑龙江\",value:1},\r\n    {name:\"上海\",value:134},\r\n    {name:\"江苏\",value:23},\r\n    {name:\"浙江\",value:29},\r\n    {name:\"安徽\",value:11},\r\n    {name:\"江西\",value:4},\r\n    {name:\"山东\",value:6},\r\n    {name:\"河南\",value:12},\r\n    {name:\"湖南\",value:1},\r\n    {name:\"重庆\",value:9},\r\n    {name:\"贵州\",value:7},\r\n    {name:\"云南\",value:11},\r\n    {name:\"陕西\",value:1},\r\n    {name:\"新疆\",value:1},\r\n    {name:\"甘肃\",value:10},\r\n    {name:\"广东\",value:1},\r\n    {name:\"广西\",value:6},\r\n    {name:\"海南\",value:6},\r\n    ];\r\n   var max = 480, min = 9; // todo \r\n    var maxSize4Pin = 100, minSize4Pin = 20;\r\n\r\n  var convertData = function (data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\n\r\n    option = {\r\n        backgroundColor: {\r\n        type: 'linear',\r\n        x: 0,\r\n        y: 0,\r\n        x2: 1,\r\n        y2: 1,\r\n        colorStops: [{\r\n            offset: 0, color: '#FFFFFF' // 0% 处的颜色\r\n        }, {\r\n            offset: 1, color: '#FFFFFF' // 100% 处的颜色\r\n        }],\r\n        globalCoord: false // 缺省为 false\r\n    },\r\n        title: {\r\n            top:20,\r\n            text: ' ',\r\n            subtext: '',\r\n            x: 'center',\r\n            textStyle: {\r\n                color: '#ccc'\r\n            }\r\n        },    \r\n\r\n       tooltip: {\r\n            trigger: 'item',\r\n            formatter: function (params) {\r\n              if(typeof(params.value)[2] == \"undefined\"){\r\n              \treturn params.name + ' : ' + params.value;\r\n              }else{\r\n              \treturn params.name + ' : ' + params.value[2];\r\n              }\r\n            }\r\n        },\r\n\r\n            legend: {\r\n        orient: 'vertical',\r\n        y: 'bottom',\r\n        x:'right',\r\n        data:['pm2.5'],\r\n        textStyle: {\r\n            color: '#fff'\r\n        }\r\n    }, \r\n        visualMap: {\r\n            show: false,\r\n            min: 0,\r\n            max: 500,\r\n            left: 'left',\r\n            top: 'bottom',\r\n            text: ['高', '低'], // 文本，默认为数值文本\r\n            calculable: true,\r\n            seriesIndex: [1],\r\n            inRange: {\r\n\r\n            }\r\n        },\r\n        geo: {\r\n            map: 'china',\r\n            show: true,\r\n            roam: true,\r\n            label: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t},\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t}\r\n\t\t\t},\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#3a7fd5',\r\n                    borderColor: '#0a53e9',//线\r\n                    shadowColor: '#092f8f',//外发光\r\n                    shadowBlur: 50\r\n                },\r\n\t\t\t\t emphasis: {\r\n                    areaColor: '#0a2dae',//悬浮区背景\r\n                }\r\n            }\r\n        },\r\n        series : [\r\n      {\r\n         \r\n            symbolSize: 9,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FFFFFF'\r\n                }\r\n            },\r\n            name: 'light',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            \r\n        },\r\n         {\r\n            type: 'map',\r\n            map: 'china',\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#228B22'\r\n                    }\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#FFFFFF',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7'\r\n                }\r\n            },\r\n            animation: false,\r\n            data: data\r\n        },\r\n        {\r\n            name: 'Top 5',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin',\r\n            symbolSize: [50,50],\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 9,\r\n                    },\r\n                    formatter (value){\r\n                        return value.data.value[2]\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#D8BC37', //标志颜色\r\n                }\r\n            },\r\n            data: convertData(data),\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            zlevel: 1\r\n        },\r\n         \r\n    ]\r\n    };\r\n    myChart.setOption(option);\r\n});\r\n","html":"","externalScripts":"","updaterUID":"obd-oCAnIthIdnuPCrg6mUP5O-zpUm9Im3a","theme":"","layout":"","viewCount":585,"userName":"啊***华","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzSfDHmji7.png?v=1599054024275","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"啊***华"}}