{"status":0,"data":{"cid":"x8FkxOTO6","authorUid":"bd-6442928284","authorUserName":"流***r","title":"柱状图内阴影","description":"css的shadow样式可以设置很容易实现内阴影，但是canvas、svg实现内阴影并不是很容易；echarts目前也没有对内阴影的支持；这里通过svg滤镜实现一个内阴影。 ","latestVersion":2,"alwaysLatest":1,"createTime":"2020-01-08T06:24:20.000Z","lastUpdateTime":"2020-01-08T06:24:20.000Z","auth":2,"uid":"bd-6442928284","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-08T08:23:23.000Z","code":"const createSvg = (shadowColor, shadowBlur) => `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" \n        x=\"0px\" y=\"0px\" \n        viewBox=\"0 0 32 128\"\n        xml:space=\"preserve\"\n    >\n        <style>\n            .st2 {\n                fill: transparent;\n                stroke: ${shadowColor};\n                stroke-width: ${shadowBlur}px;\n                filter: url(#chart-inset-shadow);\n            }\n        </style>\n        <defs>\n            <filter id=\"chart-inset-shadow\" width=\"200%\" height=\"200%\" x=\"-50%\" y=\"-50%\">\n        \t\t<feGaussianBlur in=\"SourceGraphic\" result=\"gass\" stdDeviation=\"${shadowBlur * 0.75}\" />\n        \t\t<feMerge>\n        \t\t\t<feMergeNode in=\"gass\" />\n        \t\t</feMerge>\n        \t</filter>\n        </defs>\n        <path class=\"st2\" d=\"M0 0 L32 0 L32 128 L0 128 Z\" />\n    </svg>\n`;\n\nconst svgString = createSvg('#156dff', 8);\nconst svg = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n\nconst DOMURL = window.URL || window.webkitURL || window;\nconst insetShadowUrl = DOMURL.createObjectURL(svg);\n\nconst dataSet = [\n    ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    [120, 200, 150, 80, 70, 110, 130]\n];\n\noption = {\n    backgroundColor: '#101631',\n    xAxis: {\n        type: 'category',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            color: 'rgba(255,255,255, 0.5)',\n        },\n        splitLine: {\n            show: false,\n        },\n        data: dataSet[0],\n    },\n    yAxis: {\n        type: 'value',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            color: 'rgba(255,255,255, 0.5)',\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                type: 'dashed',\n                color: 'rgba(255,255,255,0.1)',\n                width: 2,\n            },\n        },\n    },\n    series: [\n        {\n            data: dataSet[1],\n            type: 'pictorialBar',\n            symbol: 'image://' + insetShadowUrl,\n            barWidth: 50,\n        },\n        {\n            data: dataSet[1],\n            type: 'bar',\n            barWidth: 50,\n            itemStyle: {\n                color: 'transparent',\n                borderWidth: 3,\n                borderColor: new echarts.graphic.LinearGradient(\n                    0, 0, 0, 1,\n                    [{\n                            offset: 0,\n                            color: '#156dff'\n                        },\n                        {\n                            offset: 1,\n                            color: '#00eaeb'\n                        },\n                    ]\n                ),\n                shadowColor: 'blue',\n                shadowBlur: 12,\n                shadowOffsetX: 0,\n                shadowOffsetY: 0,\n            },\n        },\n    ],\n};","html":"","externalScripts":"","updaterUID":"bd-6442928284","theme":"","layout":"","viewCount":16814,"userName":"流***r","commentCount":7,"starCount":77,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8FkxOTO6.png?v=1578471803950","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":["inset","shadow-inset","内阴影"],"updaterUserName":"流***r"}}