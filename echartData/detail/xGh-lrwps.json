{"status":0,"data":{"cid":"xGh-lrwps","authorUid":"bd-3227046233","authorUserName":"151******00","title":"双向柱状图","description":"照着一个案例改的 增加x轴数值显示","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-14T09:14:31.000Z","lastUpdateTime":"2020-02-14T09:14:31.000Z","auth":2,"uid":"bd-3227046233","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-14T09:14:31.000Z","code":"   /**\n    * 照着一个案例改的 \n    * 增加下面的数值显示 \n    * */\n    var myData = ['一审服', '撤诉率', '调解率', '实际', '裁判率', '执行标', '再审']\n    var lineData = [100, 100, 100, 100, 100, 100, 100]\n    var lastYearData = {\n        1: [3, 20, 62, 34, 55, 65, 33]\n    }\n    var thisYearData = {\n        1: [11, 38, 23, 39, 66, 66, 79]\n    }\n    var timeLineData = [1]\n    var background = \"#0e2147\"; //背景\n\n    var option = {\n        baseOption: {\n            backgroundColor: background,\n            timeline: {\n                show: false,\n                top: 0,\n                data: []\n            },\n            legend : {\n                top : '5%',\n                left : '31%',\n                itemWidth : 22,\n                itemHeight : 22,\n                itemGap: 343,\n                icon : 'horizontal',\n                textStyle : {\n                    color : '#ffffff',\n                    fontSize : 20,\n                },\n                data: ['2017', '2018']\n            },\n            grid: [{\n                show: false,\n                left: '5%',\n                top: '10%',\n                bottom: '8%',\n                containLabel: true,\n                width: '37%'\n            },  {\n                show: false,\n                left: '51%',\n                top: '10%',\n                bottom: '11%',\n                width: '0%'\n            }, {\n                show: false,\n                right: '2%',\n                top: '10%',\n                bottom: '8%',\n                containLabel: true,\n                width: '37%'\n            }],\n            xAxis: [{\n                type: 'value',\n                inverse: true,\n                axisLine: {\n                    show: false\n                },\n                axisTick: {\n                    show: false\n                },\n                position: 'bottom',\n                axisLabel: {\n                    show: true,\n                    //     formatter:function(value)  \n                    //   {  \n                    //         //return '\\n\\n\\n\\n' + value;\n                    //      // return '\\n' + value\n                    //      return value\n                    //      // return value + 'virus'\n                    //     // return value.split(\"\").join(\"\\n\");  \n                    //   },\n                    textStyle: {\n                        color: 'white'\n                    }\n                },\n                splitLine: {\n                    show: false\n                }\n            }, {\n                gridIndex: 1,\n                show: false,\n            }, {\n                gridIndex: 2,\n                axisLine: {\n                    show: false\n                },\n                axisTick: {\n                    show: false\n                },\n                position: 'bottom',\n                axisLabel: {\n                    show: true,\n                      interval: 0,  \n                    // formatter:function(value)  \n                    //   {  \n                    //         //return '\\n\\n\\n\\n' + value;\n                    //     //  return '\\n' + value\n                    //   return value\n                    //      // return value + 'virus'\n                    //     // return value.split(\"\").join(\"\\n\");  \n                    //   },\n                      textStyle: {\n                        color: 'white'\n                    }\n                },\n                splitLine: {\n                    show: false\n                }\n            }],\n            yAxis: [{\n                type: 'category',\n                inverse: true,\n                position: 'right',\n                axisLine: {\n                    show: false\n                },\n                axisTick: {\n                    show: false\n                },\n                axisLabel: {\n                    show: false\n                },\n                data: myData\n            }, {\n                gridIndex: 1,\n                type: 'category',\n                inverse: true,\n                position: 'left',\n                axisLine: {\n                    show: false\n                },\n                axisTick: {\n                    show: false\n                },\n                axisLabel: {\n                    show: true,\n                    //  formatter:function(value)  \n                    //   {  \n\n                    //      // return '\\n' + value\n                    //      return value + '\\n\\n'\n                    //      // return value + 'virus'\n                    //   },\n                    textStyle: {\n                        color: '#ffffff',\n                        fontSize: 20\n                    }\n\n                },\n                data: myData.map(function(value) {\n                    return {\n                        value: value,\n                        textStyle: {\n                            align: 'center'\n                        }\n                    }\n                })\n            }, {\n                gridIndex: 2,\n                type: 'category',\n                inverse: true,\n                position: 'left',\n                axisLine: {\n                    show: false\n                },\n                axisTick: {\n                    show: false\n                },\n                axisLabel: {\n                    show: false\n\n                },\n                data: myData\n            }],\n            series: []\n\n        },\n        options: []\n    }\n\n    option.baseOption.timeline.data.push(timeLineData[0])\n   option.options.push({\n        series: [\n        {\n            type: 'pictorialBar',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            // symbol: 'rect',\n            itemStyle: {\n                normal: {\n                    color: 'rgba(0,0,0,0)'\n                }\n            },\n            barWidth: 10,\n            // symbolRepeat: true,\n            // symbolSize: 14,\n            data: lineData,\n            barGap: '-100%',\n            barCategoryGap: 0,\n            label: {\n                normal: {\n                    show: true,\n                    formatter: (series) => {\n                        return lastYearData[timeLineData[0]][series.dataIndex] + '%'\n                    },\n                    position: 'insideTopLeft',\n                    textStyle:{\n                        color: '#ffffff',\n                        fontSize: 20,\n                    },\n                    offset: [0, -10],\n                }\n            },\n            z: -100,\n                animationEasing: 'elasticOut',\n                 animationDelay: function (dataIndex, params) {\n                return params.index * 30;\n            }\n        }, {\n            name: '2017',\n            type: 'bar',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n          //  symbol: 'rect',\n            barWidth: 10,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 5,\n                    color: '#039372'\n                }\n            },\n            // symbolRepeat: true,\n            // symbolSize: 14,\n            data: lastYearData[timeLineData[0]],\n            // animationEasing: 'elasticOut',\n            // animationDelay: function (dataIndex, params) {\n            //     return params.index * 30 * 1.1;\n            // }\n        },\n        {\n            type: 'pictorialBar',\n            xAxisIndex: 2,\n            yAxisIndex: 2,\n            symbol: 'rect',\n            itemStyle: {\n                normal: {\n                    color: 'rgba(0,0,0,0)'\n                }\n            },\n            barWidth: 10,\n            symbolRepeat: true,\n            symbolSize: 14,\n            data: lineData,\n            barGap: '-100%',\n            barCategoryGap: 0,\n            label: {\n                normal: {\n                    show: true,\n                    formatter: (series) => {\n                        return thisYearData[timeLineData[0]][series.dataIndex] + '%'\n                    },\n                    position: 'insideTopRight',\n                    textStyle:{\n                        color: '#ffffff',\n                        fontSize: 20,\n                    },\n                    offset: [0, -10],\n                }\n            },\n            z: -100,\n                animationEasing: 'elasticOut',\n                 animationDelay: function (dataIndex, params) {\n                return params.index * 30;\n            }\n        }, {\n            name: '2018',\n            type: 'bar',\n            xAxisIndex: 2,\n            yAxisIndex: 2,\n         //   symbol: 'rect',\n            barWidth: 10,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 5,\n                    color: '#36d7b6'\n                }\n            },\n            // symbolRepeat: true,\n            // symbolSize: 14,\n            data: thisYearData[timeLineData[0]],\n            // animationEasing: 'elasticOut',\n            // animationDelay: function (dataIndex, params) {\n            //     return params.index * 30 * 1.1;\n            // }\n        }\n        ]\n    });","html":"","externalScripts":"","updaterUID":"bd-3227046233","theme":"","layout":"","viewCount":6320,"userName":"151******00","commentCount":0,"starCount":47,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGh-lrwps.png?v=1581671671751","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pictorialBar","timeline"],"customTags":[],"updaterUserName":"151******00"}}