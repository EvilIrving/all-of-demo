{"status":0,"data":{"cid":"xBxeUemYqU","authorUid":"bd-3578067285","authorUserName":"勿***心","title":"仪表盘","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-08-25T08:30:47.000Z","lastUpdateTime":"2021-08-25T08:35:38.000Z","auth":2,"uid":"bd-3578067285","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-25T08:35:39.000Z","code":"const series = [];\r\nconst centerY = 50; // 原点y轴的单位距离\r\nconst centerYOffset = 5;// 原点偏移\r\nconst centerX = 100 / 3;// 原点x轴的单位距离\r\nconst chartList = [\r\n  {\r\n    value: 50,\r\n    total: 60,\r\n    name: '温度'\r\n  }, {\r\n    value: 50,\r\n    total: 60,\r\n    name: '压力'\r\n  }, {\r\n    value: 50,\r\n    total: 60,\r\n    name: '液位'\r\n  }, {\r\n    value: 50,\r\n    total: 60,\r\n    name: '可燃气体'\r\n  }, {\r\n    value: 50,\r\n    total: 60,\r\n    name: '有毒气体'\r\n  }, {\r\n    value: 50,\r\n    total: 60,\r\n    name: '视频信号'\r\n  }\r\n];\r\nchartList.forEach((item, index) => {\r\n  const radius = 30;\r\n  const borderWidth = 30;\r\n  const titleSize = 20;\r\n  const valueSize = 40;\r\n  const ratio = item.value / item.total * 360;\r\n  const center = [\r\n    centerX * (index % 3) + centerX / 2 + '%',\r\n    centerY * Math.floor(index / 3) + centerY / 2 - centerYOffset + '%'\r\n  ];\r\n  series.push(\r\n    { // 内圆背景\r\n      type: 'pie',\r\n      radius: radius + '%',\r\n      center,\r\n      z: 1,\r\n      itemStyle: {\r\n        color: new echarts.graphic.RadialGradient(0.5, 0.5, 0.8, [{\r\n          offset: 0,\r\n          color: '#092a5d'\r\n        },\r\n        {\r\n          offset: 0.3,\r\n          color: '#092a5d'\r\n        },\r\n        {\r\n          offset: 1,\r\n          color: '#0e829b'\r\n        }\r\n        ], false),\r\n        label: {\r\n          show: false\r\n        },\r\n        labelLine: {\r\n          show: false\r\n        }\r\n      },\r\n      label: {\r\n        show: false\r\n      },\r\n      tooltip: {\r\n        show: false\r\n      },\r\n      data: [100]\r\n    },\r\n    { //  内圆边框\r\n      type: 'pie',\r\n      radius: [radius + '%', radius - 1 + '%'],\r\n      center,\r\n      // clockWise: false,\r\n      z: 2,\r\n      itemStyle: {\r\n        shadowBlur: 20,\r\n        shadowColor: '#0e829b',\r\n        color: '#0e829b'\r\n      },\r\n      label: {\r\n        show: false\r\n      },\r\n      data: [100]\r\n    },\r\n    { // 进度\r\n      type: 'gauge',\r\n      radius: radius + '%',\r\n      startAngle: 90,\r\n      endAngle: ~ratio + 91,\r\n      center,\r\n      z: 3,\r\n      axisLine: {\r\n        lineStyle: {\r\n          width: borderWidth,\r\n          color: [[1, new echarts.graphic.LinearGradient(\r\n            0, 0, 0, 1,\r\n            [\r\n              { offset: 0, color: '#19f6c0' },\r\n              { offset: 1, color: '#26dafd' }\r\n            ]\r\n          )]]\r\n        }\r\n      },\r\n      pointer: {\r\n        show: false\r\n      },\r\n      axisTick: {\r\n        show: false\r\n      },\r\n      splitLine: {\r\n        show: false\r\n      },\r\n      axisLabel: {\r\n        show: false\r\n      },\r\n      detail: {\r\n        valueAnimation: true,\r\n        formatter: () => `${item.value}/${item.total}`,\r\n        offsetCenter: [0, 0],\r\n        fontSize: valueSize,\r\n        fontWeight: 'bolder',\r\n        color: '#1ce9d8'\r\n      },\r\n      title: {\r\n        offsetCenter: [0, '165%'],\r\n        fontSize: titleSize,\r\n        color: '#fff'\r\n      },\r\n      data: [item]\r\n    },\r\n    { // 内圆刻度\r\n      type: 'gauge',\r\n      startAngle: 90,\r\n      endAngle: -270,\r\n      radius: radius + '%',\r\n      z: 4,\r\n      center,\r\n      axisLine: {\r\n        show: false\r\n      },\r\n      pointer: {\r\n        show: false\r\n      },\r\n      axisTick: {\r\n        show: false\r\n      },\r\n      splitLine: {\r\n        distance: -10,\r\n        length: borderWidth,\r\n        lineStyle: {\r\n          color: 'rgba(17,131,167,0.6)',\r\n          width: 3\r\n        }\r\n      },\r\n      axisLabel: {\r\n        show: false\r\n      }\r\n    },\r\n    { // 外圆\r\n      type: 'pie',\r\n      z: 5,\r\n      radius: [radius + 5 + '%', radius + 3 + '%'],\r\n      center,\r\n      // clockWise: false,\r\n      itemStyle: {\r\n        shadowBlur: 20,\r\n        shadowColor: '#0e829b',\r\n        color: '#0e829b'\r\n      },\r\n      label: {\r\n        show: false\r\n      },\r\n      data: [100]\r\n    },\r\n    { // 为了添加点击事件添加遮罩\r\n      type: 'pie',\r\n      z: 6,\r\n      radius: [radius + 5 + '%', 0],\r\n      center,\r\n      // clockWise: false,\r\n      itemStyle: {\r\n        shadowBlur: 20,\r\n        shadowColor: 'transparent',\r\n        color: 'transparent'\r\n      },\r\n      label: {\r\n        show: false\r\n      },\r\n      data: [item]\r\n    }\r\n  );\r\n});\r\n\r\n option = {\r\n\r\n  animation: true,\r\n  series: series\r\n};\r\n","html":"","externalScripts":"","updaterUID":"bd-3578067285","theme":"dark","layout":"","viewCount":0,"userName":"勿***心","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBxeUemYqU.png?v=1629880539312","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","series-pie"],"customTags":[],"updaterUserName":"勿***心"}}