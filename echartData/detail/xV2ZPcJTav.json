{"status":0,"data":{"cid":"xV2ZPcJTav","authorUid":"obd-oCdnYsgGsDUdOl0mRLCJ1LirCPHdx3J","authorUserName":"索***2","title":"满洲里境外运输线路图","description":"满洲里境外运输线路图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-04T02:53:39.000Z","lastUpdateTime":"2021-09-04T02:53:39.000Z","auth":2,"uid":"obd-oCdnYsgGsDUdOl0mRLCJ1LirCPHdx3J","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-04T02:53:39.000Z","code":"\nvar geoCoordMap = {\n    满洲里: [120.37973, 50.610341],\n    俄罗斯: [105.781411, 65.063433],\n    德国: [10.238245, 49.602718],\n    波兰: [18.238245, 51.602718],\n    白俄罗斯: [28.238245, 53.602718],\n    法国: [1.238245, 45.602718],\n    西班牙: [-4.238245, 40.602718],\n    英国: [-3.238245, 55.602718],\n    匈牙利: [19.238245, 47.02718],\n    意大利: [12.238245, 43.02718],\n    荷兰: [5.238245, 52.602718]\n};\nvar BJData = [\n    [{ name: '俄罗斯', value: 1000 }, {name: '满洲里'}],\n    [{ name: '德国', value: 400 }, {name: '满洲里'}],\n    [{ name: '波兰', value: 150 }, {name: '满洲里'}],\n    [{ name: '白俄罗斯', value: 400 }, {name: '满洲里'}],\n    [{ name: '法国', value: 200 }, {name: '满洲里'}],\n    [{ name: '西班牙', value: 230 }, {name: '满洲里'}],\n    [{ name: '英国', value: 500 }, {name: '满洲里'}],\n    [{ name: '匈牙利', value: 10 }, {name: '满洲里'}],\n    [{ name: '意大利', value: 120 }, {name: '满洲里'}],\n    [{ name: '荷兰', value: 10 }, {name: '满洲里'}]\n];\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        if (fromCoord && toCoord) {\n            res.push([\n                {\n                    coord: fromCoord,\n                    value: dataItem[0].value,\n                },\n                {\n                    coord: toCoord,\n                },\n            ]);\n        }\n    }\n    return res;\n};\nvar convertData2 = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[1].name];\n        var toCoord = geoCoordMap[dataItem[0].name];\n        if (fromCoord && toCoord) {\n            res.push([\n                {\n                    coord: fromCoord,\n                    value: dataItem[0].value,\n                },\n                {\n                    coord: toCoord,\n                },\n            ]);\n        }\n    }\n    return res;\n};\n\nvar series = [];\n[['满洲里', BJData]].forEach(function (item, i) {\n    series.push(\n        {\n            name: '运输线路',\n            type: 'lines',\n            zlevel: 2,\n            // 箭头效果\n            effect: {\n                show: true,\n                color: '#FF0000',\n                period: 5, //箭头指向速度，值越小速度越快\n                trailLength: 0.05, //特效尾迹长度[0,1]值越大，尾迹越长重\n                symbol: 'arrow', //箭头图标\n                symbolSize: 6, //图标大小\n            },\n            // 箭头轨迹，透明化处理\n            lineStyle: {\n                normal: {\n                    color: '#FF0000',\n                    width: 1, //尾迹线条宽度\n                    opacity: 0, //尾迹线条透明度\n                    curveness: -0.3, //尾迹线条曲直度\n                },\n            },\n            data: convertData2(item[1]),\n        },\n        {\n            // 目的地点效果\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 2,\n            rippleEffect: {\n                //涟漪特效\n                period: 4, //动画时间，值越小速度越快\n                brushType: 'stroke', //波纹绘制方式 stroke, fill\n                scale: 3, //波纹圆环最大限制，值越大波纹越大\n            },\n            // 文字标记\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right', //显示位置\n                    offset: [15, 0], //偏移设置\n                    formatter: '{b}', //圆环显示文字\n                    fontSize: 10,\n                    //color: '#fff',\n                },\n                emphasis: {\n                    show: true,\n                    color: '#FF6A6A',\n                },\n            },\n            symbol: 'circle',\n            symbolSize: function (val) {\n                return 8 + val[2] / 1000; //圆环大小\n            },\n            itemStyle: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: true,\n                    color: '#FF6A6A',\n                },\n            },\n            data: item[1].map(function (dataItem) {\n                return {\n                    name: dataItem[0].name,\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value]),\n                };\n            }),\n        },\n        //被攻击点\n        {\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            zlevel: 2,\n            rippleEffect: {\n                period: 4,\n                brushType: 'stroke',\n                scale: 4,\n            },\n            label: {\n                normal: {\n                    show: true,\n                    color: 'red',\n                    position: 'right',\n                    formatter: '{b}',\n                    fontSize: 15,\n                    color: '#fff',\n                },\n                emphasis: {\n                    show: true,\n                    color: '#FF6A6A',\n                },\n            },\n            symbol: 'pin',\n            symbolSize: 35,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: 'red',\n                },\n                emphasis: {\n                    show: true,\n                    color: '#FF6A6A',\n                },\n            },\n            data: [\n                {\n                    name: item[0],\n                    value: geoCoordMap[item[0]].concat([100]),\n                    visualMap: false,\n                },\n            ],\n        }\n    );\n});\nvar svg =\n    'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\n\noption = {\n    backgroundColor: '#000',\n    tooltip: {\n        show: true,\n        trigger: 'item',\n        backgroundColor: '#1540a1',\n        borderColor: '#FFFFCC',\n        showDelay: 0,\n        hideDelay: 0,\n        enterable: true,\n        transitionDuration: 0,\n        extraCssText: 'z-index:100',\n        formatter: function (params, ticket, callback) {\n            //根据业务自己拓展要显示的内容\n            var res = '';\n            var name = params.name;\n            var value = params.value[params.seriesIndex + 1];\n            res = \"<span style='color:#fff;'>\" + name + '</span><br/>数据：' + value;\n            return res;\n        },\n    },\n    visualMap: {\n        //图例值控制\n        show: false,\n        type: 'piecewise',\n        pieces: [\n            {max: 100, color: '#ADFF2F'},\n            {min: 100, max: 200, color: '#00FF00'},\n            {min: 200, max: 300, color: 'yellow'},\n            {min: 300, max: 400, color: '#FF4500'},\n            {min: 500, color: 'red'}\n        ],\n        calculable: true,\n    },\n    geo: {\n        map: 'world',\n        show: true,\n        label: {\n            emphasis: {\n                show: false,\n            },\n        },\n        roam: true, //是否允许缩放\n        layoutCenter: ['50%', '50%'], //地图位置\n        layoutSize: '150%',\n        itemStyle: {\n            normal: {\n                show: 'true',\n                color: '#04284e', //地图背景色\n                //borderColor: '', //省市边界线，默认#5bc1c9\n            },\n            emphasis: {\n                show: 'true',\n                color: 'rgba(37, 43, 61, .5)', //悬浮背景\n            },\n        },\n    },\n    legend: {\n        orient: 'vertical',\n        top: '30',\n        left: 'center',\n        align: 'right',\n        data: [\n            { name: '运输线路', icon: svg },\n        ],\n        textStyle: {\n            color: '#fff',\n            fontSize: 26,\n        },\n        itemWidth: 50,\n        itemHeight: 30,\n        selectedMode: 'multiple',\n    },\n    series: series,\n};\n","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"obd-oCdnYsgGsDUdOl0mRLCJ1LirCPHdx3J","theme":"","layout":"","viewCount":0,"userName":"索***2","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xV2ZPcJTav.png?v=1630724020136","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":["geo","map","满洲里","物流"],"updaterUserName":"索***2"}}