{"status":0,"data":{"cid":"xX0EiG2FnQ","authorUid":"obd-o-FCrL1ZPcXOLq4Irzgr1ZQ7OA-1ZAV","authorUserName":"h***9","title":"传统制造业用电增长率","description":"增长率对比","latestVersion":2,"alwaysLatest":1,"createTime":"2020-09-15T06:51:58.000Z","lastUpdateTime":"2020-09-15T06:51:58.000Z","auth":2,"uid":"obd-o-FCrL1ZPcXOLq4Irzgr1ZQ7OA-1ZAV","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-15T06:52:53.000Z","code":"// import echarts from 'echarts'\nvar charts = { // 按顺序排列从大到小\n  cityList: ['石油、煤炭及其他燃料加工业', '有色金属冶炼和压延加工业', '黑色金属冶炼及延压加工业', '纺织业','化学原料和化学制品业', '非金属矿物制品业',],\n  cityData: [90.60, 22.52, 13.96, -10.91,-12.87,-21.61]\n}\nvar top10CityList = charts.cityList\nvar top10CityData = charts.cityData\nvar color = ['rgba(100,255,249', 'rgba(100,255,249', 'rgba(100,255,249', 'rgba(135,183,255', 'rgba(135,183,255', 'rgba(135,183,255']\n\nlet lineY = []\nfor (var i = 0; i < charts.cityList.length; i++) {\n  var x = i\n  if (x > color.length - 1) {\n    x = color.length - 1\n  }\n  var data = {\n    name: charts.cityList[i],\n    color: color[x] + ')',\n    value: top10CityData[i],\n    itemStyle: {\n      normal: {\n        show: true,\n        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n          offset: 0,\n          color: color[x] + ', 0.3)'\n        }, {\n          offset: 1,\n          color: color[x] + ', 1)'\n        }], false),\n        barBorderRadius: 10\n      },\n      emphasis: {\n        shadowBlur: 15,\n        shadowColor: 'rgba(0, 0, 0, 0.1)'\n      }\n    }\n  }\n  lineY.push(data)\n}\n\nconsole.log(lineY)\noption= {\n    backgroundColor:'',\n  title: {\n    show: false\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  grid: {\n    borderWidth: 0,\n    top: '10%',\n    left: '5%',\n    right: '15%',\n    bottom: '3%'\n  },\n  color: color,\n  yAxis: [{\n    type: 'category',\n    inverse: true,\n    axisTick: {\n      show: true\n    },\n    axisLine: {\n      show: true,\n      lineStyle: {\n                color: '#fff'\n            }\n      \n    },\n    axisLabel: {\n      show: false,\n      inside: false\n    },\n    data: top10CityList\n  }, {\n    type: 'category',\n    axisLine: {\n      show: false\n    },\n    axisTick: {\n      show: false\n    },\n    axisLabel: {\n      show: true,\n      inside: false,\n      textStyle: {\n        color: '#b3ccf8',\n        fontSize: '14',\n        fontFamily: 'PingFangSC-Regular'\n      },\n      formatter: function (val) {\n        return ``\n      }\n    },\n    splitArea: {\n      show: false\n    },\n    splitLine: {\n      show: false\n    },\n    data: top10CityData\n  }],\n  xAxis: {\n    type: 'value',\n    position:'top',\n    axisTick: {\n      show: true\n    },\n    axisLine: {\n      show: true,\n      \n       lineStyle: {\n                color: '#fff'\n            }\n    },\n    splitLine: {\n      show: false\n    },\n    axisLabel: {\n      show: true,\n        formatter: '{value}%',\n    }\n  },\n  series: [{\n    name: '',\n    type: 'bar',\n    zlevel: 2,\n    barWidth: '10px',\n    barCateGoryGap:100,\n    data: lineY,\n    animationDuration: 1500,\n    label: {\n      normal: {\n        color: '#b3ccf8',\n        show: true,\n        position: [0, '-24px'],\n        textStyle: {\n          fontSize: 10\n        },\n        formatter: function (a, b) {\n          return a.name\n        }\n      }\n    }\n  }],\n  animationEasing: 'cubicOut'\n};\nvar loopIndex = 0;\n\nsetInterval(function() {\n    if (loopIndex > 5) {\n        loopIndex = 0;\n    }\n    myChart.dispatchAction({\n        type: \"showTip\",\n        seriesIndex: 0,\n        dataIndex: loopIndex\n    });\n    if (option.series[0].data[loopIndex] === \"\") {\n        myChart.dispatchAction({\n            type: \"showTip\",\n            seriesIndex: 2,\n            dataIndex: loopIndex\n        })\n    }\n    loopIndex++;\n}, 1000);\n","html":"","externalScripts":"","updaterUID":"obd-o-FCrL1ZPcXOLq4Irzgr1ZQ7OA-1ZAV","theme":"","layout":"","viewCount":46,"userName":"h***9","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xX0EiG2FnQ.png?v=1600152773282","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":["bar"],"updaterUserName":"h***9"}}