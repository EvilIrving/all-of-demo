{"status":0,"data":{"cid":"xrktLp1SgQ","authorUid":"bd-4195060844","authorUserName":"张高炯","title":"天气质量指数","description":"改变aqi的值，显示不同等级的天气质量","latestVersion":3,"alwaysLatest":1,"createTime":"2018-06-06T05:12:48.000Z","lastUpdateTime":"2018-06-06T05:12:48.000Z","auth":2,"uid":"bd-4195060844","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.1.0","versionCreateTime":"2018-06-06T06:04:52.000Z","code":"var aqi = 250;\r\n\r\nvar percent = 80 / 500 * aqi;\r\nvar angle = 126 + 288 / 80 * percent;\r\n\r\nvar _x = $('#chart-panel')[0].offsetWidth - 20;\r\nvar _y = $('#chart-panel')[0].offsetHeight;\r\nvar r = _y / 2 - 105;\r\n\r\nvar getColor_Text = function(aqiValue) {\r\n    if (aqiValue <= 50) {\r\n        return {\r\n            color: '#008000',\r\n            text: '优'\r\n        }\r\n    } else if (aqiValue <= 100) {\r\n        return {\r\n            color: '#FFFF00',\r\n            text: '良'\r\n        }\r\n    } else if (aqiValue <= 150) {\r\n        return {\r\n            color: '#FFA500',\r\n            text: '轻度污染'\r\n        }\r\n    } else if (aqiValue <= 200) {\r\n        return {\r\n            color: '#FF0000',\r\n            text: '中度污染'\r\n        }\r\n    } else if (aqiValue <= 300) {\r\n        return {\r\n            color: '#800080',\r\n            text: '重度污染'\r\n        }\r\n    } else {\r\n        return {\r\n            color: '#800000',\r\n            text: '严重污染'\r\n        }\r\n    }\r\n};\r\n\r\noption = {\r\n    series: {\r\n        radius: ['79%', '80%'],\r\n        center: [_x / 2, _y / 2],\r\n        type: 'pie',\r\n        hoverAnimation: false,\r\n        startAngle: 234,\r\n        color: [getColor_Text(aqi).color, '#305568', 'transparent'],\r\n        label: {\r\n            normal: {\r\n                show: true\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: [percent, 80 - percent, 20]\r\n    },\r\n    graphic: [{\r\n        type: 'circle',\r\n        shape: {\r\n            r: 10,\r\n            cx: _x / 2 + r * Math.cos(angle * Math.PI / 180),\r\n            cy: _y / 2 + r * Math.sin(angle * Math.PI / 180)\r\n        },\r\n        style: {\r\n            fill: getColor_Text(aqi).color,\r\n            stroke: getColor_Text(aqi).color,\r\n            lineWidth: 3\r\n        },\r\n        z: 3\r\n    }, {\r\n        type: 'text',\r\n        left: 'center',\r\n        top: _y / 2 - 65,\r\n        style: {\r\n            text: aqi,\r\n            font: 'bolder 55px \"Europe_Ext\"',\r\n            textAlign: 'center',\r\n            textVeticalAlign: 'middle',\r\n            fill: getColor_Text(aqi).color\r\n        }\r\n    }, {\r\n        type: 'text',\r\n        left: 'center',\r\n        top: _y / 2 + 15,\r\n        style: {\r\n            text: getColor_Text(aqi).text,\r\n            font: 'bolder 30px \"Noto Sans CJK SC\"',\r\n            textAlign: 'center',\r\n            textVeticalAlign: 'middle',\r\n            fill: getColor_Text(aqi).color\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-4195060844","theme":"","layout":"","viewCount":151,"userName":"张高炯","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrktLp1SgQ.png?v=1528265092429","isCustomThumbnail":0,"builtinTags":["category-work","graphic","series-pie"],"customTags":[],"updaterUserName":"张高炯"}}