{"status":0,"data":{"cid":"xW041JnqmB","authorUid":"bd-2182780168","authorUserName":"偶***道","title":"饼图-百分比","description":"在图例上显示百分比","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-03T05:58:23.000Z","lastUpdateTime":"2020-04-03T05:58:23.000Z","auth":2,"uid":"bd-2182780168","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-03T05:58:23.000Z","code":"\r\nvar chart2Data = [{value: 852, name: '突发事件'}, {value: 310, name: '意外伤害'},\r\n                {value: 1548, name: '重大疾病'}, {value: 135, name: '其他特殊原因'}];\r\n// 数据整理\r\nlet total = chart2Data.reduce((a, b) => {\r\n    return a + b.value\r\n}, 0);\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\r\n    },\r\n    textStyle: {\r\n        fontSize: 12\r\n    },\r\n    // color: optionColor,\r\n    legend: {\r\n        orient: 'vertical',\r\n        right: '10%',\r\n        y: 'center',\r\n        itemWidth: 10,\r\n        itemHeight: 8,\r\n        // data: ['困难户', '特困救助供养对象户', '其他']\r\n        textStyle: {\r\n            fontSize: 14,\r\n            rich: {\r\n                name: {\r\n                    color: \"#333333\",\r\n                    // padding: [10, 5, 30, 5],\r\n                },\r\n                percent: {\r\n                    color: '#18DB9F',\r\n                    fontSize: 16,\r\n                    // padding: [0, 5, 0, 5],\r\n                }\r\n            }\r\n        },\r\n        formatter: function(name) {\r\n            let res = chart2Data.filter(v => v.name === name);\r\n            let percent = ((res[0].value * 100) / total).toFixed(2);\r\n            return (\r\n                \"{name| \" + name + \"} {percent|\" + percent + \"%}\"\r\n            );\r\n        },\r\n    },\r\n    series: [{\r\n        name: '临时救助申请原因',\r\n        type: 'pie',\r\n        center: ['30%', '50%'],\r\n        radius: ['40%', '65%'],\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n            show: false,\r\n            formatter: '{d}%  ',\r\n        },\r\n        data: chart2Data\r\n    }]\r\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-2182780168","theme":"","layout":"","viewCount":104,"userName":"偶***道","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xW041JnqmB.png?v=1585893503737","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"偶***道"}}