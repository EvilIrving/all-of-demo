{"status":0,"data":{"cid":"xxOZCoL6zy","authorUid":"bd-3943842367","authorUserName":"只***c","title":"添加自定义的Tooltip","description":"根据鼠标事件，在不同的component上显示不同内容的Tooltip","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-05T09:24:14.000Z","lastUpdateTime":"2019-05-05T09:24:14.000Z","auth":2,"uid":"bd-3943842367","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-05T09:24:14.000Z","code":"option = {\n    tooltip: {\n        // 把trigger改为item，就能触发很多组件上显示tooltip了\n        trigger: 'axis',\n        show: true\n    },\n    xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        triggerEvent: true\n    },\n    yAxis: {\n        type: 'value',\n        triggerEvent: true\n    },\n    series: [{\n        data: [120, 200, 150, 80, 70, 110, 130],\n        name: '柱状图啊啊啊',\n        type: 'bar',\n        markPoint: {\n            data: [\n                {type: 'max', name: '最大值'},\n                {type: 'min', name: '最小值'}\n            ]\n        }\n    }]\n};\n\nconst appendDom = function(obj) {\n    const chartNode = myChart.getDom()\n    if (chartNode) {\n        chartNode.appendChild(obj)\n    }\n}\n\nconst removeDom = function(domId) {\n    const dom = document.getElementById(domId)\n    if(dom) {\n      dom.remove()\n    }\n}\n\nconst buildBasicTooltip = function(event, domId, strPadding) {\n    let dom = document.createElement('div')\n    dom.id = domId\n    let cssText = 'position:fixed;background-color:rgba(50,50,50,0.7);'\n        + 'font-size:15px;color:rgb(255,255,255);border-radius:3px;' + strPadding\n    dom.style.cssText = cssText + 'left:' + (event.event.event.clientX + 15) \n        + 'px;top:' + (event.event.event.clientY - 30) + 'px;'\n    return dom\n}\n\nconst appendTooltip = function(event) {\n    if (event.componentType.indexOf('Axis') !== -1) {\n      const dom = buildBasicTooltip(event, 'axisTooltip', 'padding:2px 5px;')\n      dom.innerText = event.value\n      appendDom(dom)\n    } else if (event.componentType === 'markPoint') {\n        const dom = buildBasicTooltip(event, 'markPointTooltip', 'padding:5px 5px;')\n        dom.innerHTML = '<div>' + event.event.target.dataModel.name + '</div><div>' +\n            event.name + '：' + event.value + '</div>'\n        appendDom(dom)\n    }\n}\n\nconst removeTooltip = function(event) {\n    if (event.componentType.indexOf('Axis') !== -1) {\n      removeDom('axisTooltip')\n    } else if (event.componentType === 'markPoint') {\n      removeDom('markPointTooltip')\n    }\n}\n\nmyChart.on('mouseover', appendTooltip);\nmyChart.on('mouseout', removeTooltip);\n\n","html":"","externalScripts":"","updaterUID":"bd-3943842367","theme":"","layout":"","viewCount":42,"userName":"只***c","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxOZCoL6zy.png?v=1557048254257","isCustomThumbnail":0,"builtinTags":["category-work","grid","markPoint","series-bar","tooltip"],"customTags":[],"updaterUserName":"只***c"}}