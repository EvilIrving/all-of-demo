{"status":0,"data":{"cid":"xSvqXrqCa5","authorUid":"obd-o2LL6JmmcNA2ugUBaI29CbFY5gJDi6W","authorUserName":"乐***b","title":"重力场散点图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-06T05:58:52.000Z","lastUpdateTime":"2021-08-06T05:58:52.000Z","auth":2,"uid":"obd-o2LL6JmmcNA2ugUBaI29CbFY5gJDi6W","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-06T05:58:52.000Z","code":"var dataArr = [\r\n   {\"id\":1,\"applicationName\":\"service\",\"startTime\":\"2021-08-04T08:12:00.000+0800\",\"status\":1,\"runTime\":\"2day5h\",\"value\":2},\r\n   {\"id\":2,\"applicationName\":\"voucher\",\"startTime\":\"2021-08-06T00:57:00.000+0800\",\"status\":0,\"runTime\":\"0day12h\",\"value\":2},\r\n   {\"id\":3,\"applicationName\":\"file\",\"startTime\":\"2021-08-05T10:35:00.000+0800\",\"status\":0,\"runTime\":\"1day3h\",\"value\":2},\r\n   {\"id\":4,\"applicationName\":\"finance-conf\",\"startTime\":\"2021-08-01T10:35:00.000+0800\",\"status\":0,\"runTime\":\"5day3h\",\"value\":2},\r\n   {\"id\":5,\"applicationName\":\"sms\",\"startTime\":\"2021-07-29T02:31:00.000+0800\",\"status\":0,\"runTime\":\"8day11h\",\"value\":2},\r\n   {\"id\":6,\"applicationName\":\"bookkeeping\",\"startTime\":\"2021-08-01T10:35:00.000+0800\",\"status\":0,\"runTime\":\"5day3h\",\"value\":2},\r\n   {\"id\":7,\"applicationName\":\"gateway\",\"startTime\":\"2021-08-01T10:13:00.000+0800\",\"status\":0,\"runTime\":\"5day3h\",\"value\":2},\r\n   {\"id\":8,\"applicationName\":\"sequence\",\"startTime\":\"2021-07-01T05:42:00.000+0800\",\"status\":0,\"runTime\":\"36day8h\",\"value\":2},\r\n   {\"id\":9,\"applicationName\":\"job\",\"startTime\":\"2021-07-26T02:54:00.000+0800\",\"status\":0,\"runTime\":\"11day10h\",\"value\":2},\r\n   {\"id\":10,\"applicationName\":\"cdic\",\"startTime\":\"2021-07-27T02:54:00.000+0800\",\"status\":0,\"runTime\":\"10day10h\",\"value\":2},\r\n   {\"id\":11,\"applicationName\":\"iftp-agency-company\",\"startTime\":\"2021-08-01T10:13:00.000+0800\",\"status\":0,\"runTime\":\"5day3h\",\"value\":2},\r\n   {\"id\":12,\"applicationName\":\"base-invoice\",\"startTime\":\"2021-08-01T01:24:00.000+0800\",\"status\":0,\"runTime\":\"5day12h\",\"value\":2},\r\n   {\"id\":13,\"applicationName\":\"itp-company\",\"startTime\":\"2021-08-01T02:51:00.000+0800\",\"status\":0,\"runTime\":\"5day10h\",\"value\":2},\r\n   {\"id\":14,\"applicationName\":\"cep-company\",\"startTime\":\"2021-07-29T05:36:00.000+0800\",\"status\":0,\"runTime\":\"8day8h\",\"value\":2},\r\n   {\"id\":15,\"applicationName\":\"cp-gateway\",\"startTime\":\"2021-07-27T09:42:00.000+0800\",\"status\":0,\"runTime\":\"10day4h\",\"value\":2},\r\n   {\"id\":16,\"applicationName\":\"base-ocr\",\"startTime\":\"2021-07-22T09:46:00.000+0800\",\"status\":0,\"runTime\":\"15day3h\",\"value\":2},\r\n   {\"id\":17,\"applicationName\":\"ifp-report\",\"startTime\":\"2021-08-02T10:14:00.000+0800\",\"status\":0,\"runTime\":\"4day3h\",\"value\":2},\r\n   {\"id\":18,\"applicationName\":\"ce-auth\",\"startTime\":\"2021-08-03T02:53:00.000+0800\",\"status\":0,\"runTime\":\"3day10h\",\"value\":2},\r\n   {\"id\":19,\"applicationName\":\"adin-server\",\"startTime\":\"2021-05-27T09:49:00.000+0800\",\"status\":0,\"runTime\":\"71day3h\",\"value\":2},\r\n   {\"id\":20,\"applicationName\":\"bse-icinfo\",\"startTime\":\"2021-07-14T06:40:00.000+0800\",\"status\":0,\"runTime\":\"23day7h\",\"value\":2},\r\n   {\"id\":21,\"applicationName\":\"cep-loan\",\"startTime\":\"2021-08-03T08:58:00.000+0800\",\"status\":0,\"runTime\":\"3day4h\",\"value\":2},\r\n   {\"id\":22,\"applicationName\":\"cep-statistics\",\"startTime\":\"2021-08-06T10:28:00.000+0800\",\"status\":0,\"runTime\":\"0day3h\",\"value\":2},\r\n   {\"id\":23,\"applicationName\":\"bae-tax\",\"startTime\":\"2021-08-05T08:35:00.000+0800\",\"status\":0,\"runTime\":\"1day5h\",\"value\":2},\r\n   {\"id\":24,\"applicationName\":\"itp-auth\",\"startTime\":\"2021-08-01T08:12:00.000+0800\",\"status\":0,\"runTime\":\"5day5h\",\"value\":2}\r\n]\r\n/** 设置单项数据显示配置 */\r\nlet newData = dataArr.map(item=>{\r\n    item.name = item.applicationName.slice(0,1) + \"..\" + item.applicationName.slice(item.applicationName.indexOf(\"-\")+1,item.applicationName.indexOf(\"-\")+2);\r\n    item.symbolSize = 80;\r\n    item.draggable = true;\r\n    item.itemStyle = {\r\n        normal: {\r\n            color: item.status==0?\"#0B6941\":\"#CA2917\"\r\n        }\r\n    }\r\n    return item\r\n})\r\noption = {\r\n    backgroundColor: 'rgba(14, 26, 64, 1)',\r\n    label: {\r\n        fontSize: 20\r\n    },\r\n    /**提示框浮层*/\r\n    tooltip: {\r\n        trigger: 'item',\r\n        padding: 1, /**配置提示框浮层内边距*/\r\n        /**自定义提示框浮层*/\r\n        formatter: (param)=>{\r\n            let htmlStr = `<div>`\r\n            htmlStr += `<div style=\"width:140px;font-size:12px;white-space:normal;padding:4px 10px;background-color:${param.color};\">`\r\n            htmlStr += `<div style=\"color:#fff;opacity:0.5;;font-size:12px;\">${param.data.runTime}</div>`\r\n            htmlStr += `<div style=\"color:#fff;font-size:16px\">${param.data.applicationName}</div>`\r\n            htmlStr += `<div style=\"color:#fff;opacity:0.5;;font-size:12px;\">${param.data.value}个实例</div>`\r\n            htmlStr += \"</div>\"\r\n            htmlStr += \"</div>\"\r\n            return htmlStr\r\n        }\r\n    },\r\n    animationDurationUpdate: function(idx) {\r\n        /**越往后的数据延迟越大*/\r\n        return idx * 6;\r\n    },\r\n    // animationEasingUpdate: 'bounceIn',\r\n    series: [{\r\n        type: 'graph',\r\n        layout: 'force',\r\n        force: { /**重力场*/\r\n            repulsion: 200,\r\n            edgeLength: 0\r\n        },\r\n        roam: true,\r\n        label: {\r\n            normal: {\r\n                show: true\r\n            }\r\n        },\r\n        data: newData\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-o2LL6JmmcNA2ugUBaI29CbFY5gJDi6W","theme":"","layout":"","viewCount":0,"userName":"乐***b","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSvqXrqCa5.png?v=1628229533106","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","tooltip"],"customTags":[],"updaterUserName":"乐***b"}}