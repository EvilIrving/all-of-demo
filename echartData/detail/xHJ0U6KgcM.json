{"status":0,"data":{"cid":"xHJ0U6KgcM","authorUid":"bd-404965171","authorUserName":"小***物","title":"违法违规问题分析","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-22T01:56:38.000Z","lastUpdateTime":"2018-03-22T01:56:38.000Z","auth":2,"uid":"bd-404965171","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-22T01:56:38.000Z","code":"var colors = ['#AEEEEE',  '#53868B'];\n\nvar xData = ['企业资质','生产环境条件','进货查验结果','生产过程控制',\n              '产品检验结果','贮存及交付控制','不合格品管理和食品召回',\n              '从业人员管理','食品安全事故处置','食品标签和说明书',\n              '追溯体系','企业自查'];\noption = {\n    title: {\n        text: '违法违规问题分析',\n        textStyle:{\n             fontSize: '15'\n        }\n    },\n    backgroundColor:'#fff',\n    \"tooltip\": {\n        \"trigger\": \"axis\",\n        \"axisPointer\": {\n            \"type\": \"shadow\",\n            textStyle: {\n                color: \"#fff\"\n            }\n\n        },\n        formatter:'{b}<br/>{a0}:{c0}<br/>{a1}:{c1}%'\n    },\n       grid: {\n        top:35,\n        bottom:'60%',\n        right:'35%'\n    },   \n    legend: {\n        data:['违法违规企业数','违法违规企业环比率'],\n        align: 'left',\n        left: 10,\n        top:50\n    },\n     \"calculable\": true,\n    \"xAxis\": [{\n        \"type\": \"category\",\n        \"axisLine\": {\n            lineStyle: {\n                color: '#000'\n            }\n        },\n        \"splitLine\": {\n            \"show\": false\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"splitArea\": {\n            \"show\": false\n        },\n        \"axisLabel\": {\n            \"interval\": 0,\n            rotate:40,\n            textStyle:{\n                fontSize:10,\n                color:'#000'\n            },formatter : function(params){\n               var newParamsName = \"\";// 最终拼接成的字符串\n                var paramsNameNumber = params.length;// 实际标签的个数\n                var provideNumber = 4;// 每行能显示的字的个数\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber);// 换行的话，需要显示几行，向上取整\n                /**\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\n                 */\n                // 条件等同于rowNumber>1\n                if (paramsNameNumber > provideNumber) {\n                    /** 循环每一行,p表示行 */\n                    var tempStr = \"\";\n                    tempStr=params.substring(0,4);\n                    newParamsName = tempStr+\"...\";// 最终拼成的字符串\n                } else {\n                    // 将旧标签的值赋给新标签\n                    newParamsName = params;\n                }\n                //将最终的字符串返回\n                return newParamsName\n            }\n        },\n        \"data\": xData,\n    }],\n    yAxis: [\n        {\n            type: 'value',\n            name: '',\n            min: 0,\n            max: 15,\n            position: 'left',\n            axisLine: {\n                lineStyle: {\n                    color: '#000'\n                }\n            },\n            axisLabel: {\n                formatter: '{value} ',\n                textStyle:{\n                fontSize:10\n            }\n            }\n        },\n        {\n            type: 'value',\n            name: '',\n            position: 'right',\n            axisLine: {\n                lineStyle: {\n                    color: '#000'\n                }\n            },\n            axisLabel: {\n                formatter: '{value} %',\n                textStyle:{\n                fontSize:10\n            }\n            }\n        }\n    ],\n    series: [\n        {name:'违法违规问题频率（次数）',\n            type:'bar',\n           color: colors[0],\n            barWidth : 10,\n            data:[7,8,6,12,5,11,7,6,9,10,7,10]},\n        {\n        name:'违法违规同比率',\n         color: colors[1],\n         yAxisIndex: 1,\n         \n            type:'line',\n            itemStyle : {\n                normal : {\n                    lineStyle:{\n                        width:3,//折线宽度\n                    },\n                    opacity: 0.4\n                }\n            },\n        data:[5.11,4.82,3.74,4.84,5.72,5.82,4.28,3.52,4.6,3.79,3.23,4.07]\n    }]\n};\n","html":"","externalScripts":"","updaterUID":"bd-404965171","theme":"","layout":"","viewCount":42,"userName":"小***物","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJ0U6KgcM.png?v=1521683798191","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"小***物"}}