{"status":0,"data":{"cid":"xo4Kpj-gO","authorUid":"bd-858908526","authorUserName":"_***_","title":"饼图自定义图例示例","description":"使用graphic创建自定义的图例，并且定义图例单击事件","latestVersion":1,"alwaysLatest":1,"createTime":"2019-12-26T08:10:57.000Z","lastUpdateTime":"2019-12-26T08:10:57.000Z","auth":2,"uid":"bd-858908526","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-26T08:10:57.000Z","code":"var data = [\r\n    { value: 335, name: '直接访问' },\r\n    { value: 310, name: '邮件营销' },\r\n    { value: 234, name: '联盟广告' },\r\n    { value: 135, name: '视频广告' },\r\n    { value: 1548, name: '搜索引擎' }\r\n],\r\n    color = ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'];\r\noption = null;\r\noption = {\r\n    color: color,\r\n    title: {\r\n        text: '饼图自定义图例示例',\r\n        x: 'center'\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n    },\r\n\r\n    legend: {\r\n        show:false\r\n    },\r\n    series: [\r\n        {\r\n            name: '访问来源',\r\n            type: 'pie', hoverOffset: 50, hoverAnimation: true,\r\n            radius: '55%',\r\n            center: ['50%', '55%'],\r\n            data: data,\r\n            itemStyle: {\r\n                emphasis: {\r\n                    shadowBlur: 10,\r\n                    shadowOffsetX: 0,\r\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n            }\r\n        }\r\n    ]\r\n};\r\napp.currentIndex = -1;\r\nif (!app.inNode) {\r\n    setTimeout(function () {\r\n        myChart.setOption({\r\n            graphic: echarts.util.map(data, function (item, dataIndex) {\r\n                return {\r\n                    type: 'group',\r\n                    bounding: 'raw',\r\n                    left: 0,\r\n                    top: 30 + dataIndex * 40,\r\n                    z: 100,\r\n                    dataIndex: dataIndex,\r\n                    width: 200,\r\n                    onclick: function () {\r\n                        // 取消之前高亮的图形\r\n                        myChart.dispatchAction({\r\n                            type: 'downplay',\r\n                            seriesIndex: 0,\r\n                            dataIndex: app.currentIndex\r\n                        });\r\n                        app.currentIndex = this.dataIndex;\r\n                        // 高亮当前图形\r\n                        myChart.dispatchAction({\r\n                            type: 'highlight',\r\n                            seriesIndex: 0,\r\n                            dataIndex: app.currentIndex\r\n                        });\r\n                        // 显示 tooltip\r\n                        myChart.dispatchAction({\r\n                            type: 'showTip',\r\n                            seriesIndex: 0,\r\n                            dataIndex: app.currentIndex\r\n                        });\r\n                    },\r\n                    children: [\r\n                        {\r\n                            type: 'rect',\r\n                            left: 'center',\r\n                            top: 'center',\r\n                            z: 100,\r\n                            shape: {\r\n                                width: 30,\r\n                                height: 25,\r\n                                r:[10]\r\n                            },\r\n                            style: {\r\n                                fill: color[dataIndex]\r\n                            }\r\n                        },\r\n                        {\r\n                            type: 'text',\r\n                            left: 120,\r\n                            top: 'center',\r\n                            z: 100,\r\n                            style: {\r\n                                fill: color[dataIndex],\r\n                                text: item.name,\r\n                                font: 'bold 16px Microsoft YaHei'\r\n                            }\r\n                        }\r\n                    ]\r\n                };\r\n            })\r\n        });\r\n    }, 0);\r\n}","html":"","externalScripts":"","updaterUID":"bd-858908526","theme":"","layout":"","viewCount":80,"userName":"_***_","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xo4Kpj-gO.png?v=1577347857882","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"_***_"}}