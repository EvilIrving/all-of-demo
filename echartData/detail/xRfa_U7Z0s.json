{"status":0,"data":{"cid":"xRfa_U7Z0s","authorUid":"bd-863917321","authorUserName":"wokaron","title":"世界地图","description":"","latestVersion":15,"alwaysLatest":1,"createTime":"2019-01-22T06:55:50.000Z","lastUpdateTime":"2019-01-22T06:55:50.000Z","auth":1,"uid":"bd-863917321","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":15,"parentVersion":14,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-17T00:50:19.000Z","code":"var geoCoordMap = {\n    上海: [121.4648, 31.2891],\n    尼日利亚: [-4.388361, 11.186148],\n    美国洛杉矶: [-118.24311, 34.052713],\n    香港邦泰: [114.195466, 22.282751],\n    美国芝加哥: [-87.801833, 41.870975],\n    加纳库马西: [-4.62829, 7.72415],\n    英国曼彻斯特: [-1.657222, 51.886863],\n    德国汉堡: [10.01959, 54.38474],\n    哈萨克斯坦阿拉木图: [45.326912, 41.101891],\n    俄罗斯伊尔库茨克: [89.116876, 67.757906],\n    巴西: [-48.678945, -10.493623],\n    埃及达米埃塔: [31.815593, 31.418032],\n    西班牙巴塞罗纳: [2.175129, 41.385064],\n    柬埔寨金边: [104.88659, 11.545469],\n    意大利米兰: [9.189948, 45.46623],\n    乌拉圭蒙得维的亚: [-56.162231, -34.901113],\n    莫桑比克马普托: [32.608571, -25.893473],\n    阿尔及利亚阿尔及尔: [3.054275, 36.753027],\n    阿联酋迪拜: [55.269441, 25.204514],\n    匈牙利布达佩斯: [17.108519, 48.179162],\n    澳大利亚悉尼: [150.993137, -33.675509],\n    美国加州: [-121.910642, 41.38028],\n    澳大利亚墨尔本: [144.999416, -37.781726],\n    墨西哥: [-99.094092, 19.365711],\n    加拿大温哥华: [-123.023921, 49.311753]\n};\nvar BJData = [\n    {\n        name: \"上海\",\n        value: 9100\n    },\n    {\n        name: \"尼日利亚\",\n        value: 9100\n    },\n    {\n        name: \"巴西\",\n        value: 9100\n    },\n    {\n        name: \"美国加州\",\n        value: 9100\n    },\n    {\n        name: \"澳大利亚墨尔本\",\n        value: 9100\n    },\n    {\n        name: \"加拿大温哥华\",\n        value: 9100\n    }\n];\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[1].name];\n        var toCoord = geoCoordMap[dataItem[0].name];\n        if (fromCoord && toCoord) {\n            res.push([{\n                    coord: fromCoord,\n                    value: dataItem[1].value\n                },\n                {\n                    coord: toCoord\n                }\n            ]);\n        }\n    }\n    return res;\n};\n\nvar series = [];\nseries.push(/*{\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n            symbol: \"circle\",\n            symbolSize: 30,\n            itemStyle: {\n                normal: {\n                    color: '#00a65a',\n                    borderColor: '#000'\n                }\n            },\n            data: item[1].map(function(dataItem) {\n                return {\n                    name: dataItem[0].name,\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n                }\n            })\n        },*/\n        //被攻击点\n        {\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            label: {\n                normal: {\n                    show: true,\n                    position: \"right\",\n                    color: \"#111\",\n                    formatter: \"{b}\",\n                    textStyle: {\n                        color: '#000',\n                        fontSize:16\n                    }\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbol: \"pin\",\n            symbolSize: 50,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    //opacity: 0.8,\n                    //shadowBlur: 10,\n                    //shadowOffsetX: 0,\n                    //shadowOffsetY: 0,\n                    //shadowColor: 'rgba(0, 0, 0, 0.5)',\n                    color:'#00a65a',\n                    borderColor: '#000'\n                }\n            },\n            onclick:function(){alert(1);},\n            data: BJData.map(function(dataItem) {\n                    return {\n                        name: dataItem.name,\n                        value: geoCoordMap[dataItem.name].concat([dataItem.value])\n                    }\n                })\n        });\n\noption = {\n    backgroundColor: '#fff',\n    tooltip: {\n        trigger: \"item\",\n        backgroundColor: \"#1540a1\",\n        borderColor: \"#FFFFCC\",\n        showDelay: 0,\n        hideDelay: 0,\n        enterable: true,\n        transitionDuration: 0,\n        extraCssText: \"z-index:100\",\n        formatter: function(params, ticket, callback) {\n            //根据业务自己拓展要显示的内容\n            var res = \"\";\n            var name = params.name;\n            var value = params.value;\n            res =\n                \"<span style='color:#fff;'>\" +\n                name +\n                \"</span><br/><a hreft='www.baidu.com'>数据：\" +\n                value+\"</a>\";\n            return res;\n        }\n    },\n    /*visualMap: {\n        //图例值控制\n        min: 0,\n        max: 10000,\n        show: false,\n        calculable: true,\n        color: [\"#fff\"],\n        textStyle: {\n            color: \"#fff\"\n        },\n\n    },*/\n    geo: {\n        map: \"world\",\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true, //是否允许缩放\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\n        layoutSize: \"180%\",\n        itemStyle: {\n            normal: {\n                color: \"rgba(210, 214, 222, 1)\", //地图背景色\n                borderColor: \"#fff\" //省市边界线\n            },\n            emphasis: {\n                color: \"rgba(210, 214, 222, 0.7)\" //悬浮背景\n            }\n        }\n    },\n\n    series: series\n};","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"bd-84678004","theme":"","layout":"","viewCount":403,"userName":"wokaron","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xRfa_U7Z0s.png?v=1552783819629","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","tooltip"],"customTags":[],"updaterUserName":"lonewanderer"}}