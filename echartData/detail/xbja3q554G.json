{"status":0,"data":{"cid":"xbja3q554G","authorUid":"bd-2589517385","authorUserName":"徐***盟","title":"十字图（自定义）","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-07-09T05:00:24.000Z","lastUpdateTime":"2019-07-09T05:00:24.000Z","auth":2,"uid":"bd-2589517385","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-09T05:00:24.000Z","code":"var datalist=[{mc:\"1420\",y:\"26\",x:\"100\",x_l:\"49\",x_r:\"150\",y_b:\"-24\",y_t:\"76\",ys:\"red\"},\n  {mc:\"1440\",y:\"122\",x:\"200\",x_l:\"93\",x_r:\"250\",y_b:\"72\",y_t:\"212\",ys:\"blue\"},\n  {mc:\"1441\",y:\"81\",x:\"300\",x_l:\"203\",x_r:\"350\",y_b:\"31\",y_t:\"140\",ys:\"blue\"},\n  {mc:\"1450\",y:\"65\",x:\"400\",x_l:\"323\",x_r:\"450\",y_b:\"15\",y_t:\"128\",ys:\"blue\"},\n  {mc:\"1456\",y:\"28\",x:\"500\",x_l:\"447\",x_r:\"550\",y_b:\"-22\",y_t:\"78\",ys:\"blue\"},\n  {mc:\"1470\",y:\"31\",x:\"600\",x_l:\"544\",x_r:\"650\",y_b:\"-19\",y_t:\"81\",ys:\"red\"},\n  {mc:\"1528\",y:\"29\",x:\"700\",x_l:\"646\",x_r:\"750\",y_b:\"-21\",y_t:\"79\",ys:\"red\"},\n  {mc:\"1640\",y:\"33\",x:\"800\",x_l:\"743\",x_r:\"850\",y_b:\"-17\",y_t:\"84\",ys:\"red\"},\n  {mc:\"1641\",y:\"31\",x:\"900\",x_l:\"844\",x_r:\"950\",y_b:\"-19\",y_t:\"81\",ys:\"blue\"},\n  {mc:\"1650\",y:\"27\",x:\"1000\",x_l:\"948\",x_r:\"1050\",y_b:\"-23\",y_t:\"77\",ys:\"yellow\"},\n  {mc:\"2200\",y:\"26\",x:\"1100\",x_l:\"1049\",x_r:\"1150\",y_b:\"-24\",y_t:\"76\",ys:\"yellow\"},\n  {mc:\"2240\",y:\"27\",x:\"1200\",x_l:\"1148\",x_r:\"1250\",y_b:\"-23\",y_t:\"77\",ys:\"yellow\"},\n  {mc:\"2250\",y:\"27\",x:\"1300\",x_l:\"1248\",x_r:\"1350\",y_b:\"-23\",y_t:\"77\",ys:\"yellow\"},\n  {mc:\"2568\",y:\"41\",x:\"1400\",x_l:\"1334\",x_r:\"1450\",y_b:\"-9\",y_t:\"91\",ys:\"yellow\"},\n  {mc:\"2926\",y:\"33\",x:\"1500\",x_l:\"1442\",x_r:\"1550\",y_b:\"-17\",y_t:\"83\",ys:\"red\"},\n  {mc:\"N112\",y:\"33\",x:\"1600\",x_l:\"1542\",x_r:\"1650\",y_b:\"-17\",y_t:\"83\",ys:\"orange\"},\n  {mc:\"N117\",y:\"30\",x:\"1700\",x_l:\"1645\",x_r:\"1750\",y_b:\"-20\",y_t:\"80\",ys:\"orange\"},\n  {mc:\"S331\",y:\"26\",x:\"1800\",x_l:\"1750\",x_r:\"1850\",y_b:\"-24\",y_t:\"77\",ys:\"orange\"},\n  {mc:\"S339\",y:\"36\",x:\"1900\",x_l:\"1839\",x_r:\"1950\",y_b:\"-14\",y_t:\"86\",ys:\"orange\"},\n  {mc:\"S33E\",y:\"26\",x:\"2000\",x_l:\"1949\",x_r:\"2050\",y_b:\"-24\",y_t:\"76\",ys:\"green\"},\n  {mc:\"S33N\",y:\"26\",x:\"2100\",x_l:\"2049\",x_r:\"2150\",y_b:\"-24\",y_t:\"76\",ys:\"green\"},\n  {mc:\"S426\",y:\"26\",x:\"2200\",x_l:\"2150\",x_r:\"2250\",y_b:\"-24\",y_t:\"77\",ys:\"green\"},\n  {mc:\"S430\",y:\"28\",x:\"2300\",x_l:\"2248\",x_r:\"2350\",y_b:\"-22\",y_t:\"79\",ys:\"red\"},\n  {mc:\"S520\",y:\"32\",x:\"2400\",x_l:\"2343\",x_r:\"2450\",y_b:\"-18\",y_t:\"82\",ys:\"red\"},\n  {mc:\"S523\",y:\"32\",x:\"2500\",x_l:\"2443\",x_r:\"2550\",y_b:\"-18\",y_t:\"82\",ys:\"purple\"},\n  {mc:\"SH10\",y:\"43\",x:\"2600\",x_l:\"2533\",x_r:\"2650\",y_b:\"-7\",y_t:\"94\",ys:\"purple\"},\n  {mc:\"SH16\",y:\"26\",x:\"2700\",x_l:\"2649\",x_r:\"2750\",y_b:\"-24\",y_t:\"76\",ys:\"red\"},\n  {mc:\"SH20\",y:\"27\",x:\"2800\",x_l:\"2748\",x_r:\"2850\",y_b:\"-23\",y_t:\"77\",ys:\"red\"},\n  {mc:\"SH22\",y:\"29\",x:\"2900\",x_l:\"2847\",x_r:\"2950\",y_b:\"-21\",y_t:\"80\",ys:\"red\"},\n  {mc:\"SH24\",y:\"29\",x:\"3000\",x_l:\"2948\",x_r:\"3050\",y_b:\"-21\",y_t:\"81\",ys:\"green\"},\n  {mc:\"SH26\",y:\"26\",x:\"3100\",x_l:\"3049\",x_r:\"3150\",y_b:\"-24\",y_t:\"76\",ys:\"green\"},\n  {mc:\"SH28\",y:\"43\",x:\"3200\",x_l:\"3146\",x_r:\"3250\",y_b:\"-7\",y_t:\"107\",ys:\"red\"},\n  {mc:\"SH30\",y:\"40\",x:\"3300\",x_l:\"3241\",x_r:\"3350\",y_b:\"-10\",y_t:\"96\",ys:\"purple\"},\n  {mc:\"SH32\",y:\"39\",x:\"3400\",x_l:\"3343\",x_r:\"3450\",y_b:\"-11\",y_t:\"96\",ys:\"red\"},\n  {mc:\"T420\",y:\"26\",x:\"3500\",x_l:\"3449\",x_r:\"3550\",y_b:\"-24\",y_t:\"76\",ys:\"red\"}]\n\n\nvar data=[]; //{value:['Blouse \"Blue Viola\"', 101.88, 99.75, 76.75, 116.75, 69.88, 119.88],itemStyle:{color:\"black\"}},\nvar xdata=[];\nvar xlable=new Map();\n\nfor (var d in datalist) {\n    data.push({value:[\ndatalist[d].mc,\ndatalist[d].y,\ndatalist[d].x,\ndatalist[d].x_l,\ndatalist[d].x_r,\ndatalist[d].y_b,\ndatalist[d].y_t\n    ],itemStyle:{color:'#23a8f7'}});\n    xdata.push(datalist[d].mc)\n    xlable.set(datalist[d].x,datalist[d].mc)\n}\n\n\n//  标题   y x  横轴头的位置  横轴尾的位置 纵轴底部位置  纵轴头部位置\n\n\nfunction renderItem(params, api) {\n    // console.log(params)\n   \n     \n    var children = [];\n    var coordDims = ['x', 'y'];\n\n    for (var baseDimIdx = 0; baseDimIdx < 2; baseDimIdx++) {\n        var otherDimIdx = 1 - baseDimIdx;\n        var encode = params.encode;\n        var baseValue = api.value(encode[coordDims[baseDimIdx]][0]);\n        var param = [];\n        param[baseDimIdx] = baseValue;\n        param[otherDimIdx] = api.value(encode[coordDims[otherDimIdx]][1]);\n        var highPoint = api.coord(param);\n        param[otherDimIdx] = api.value(encode[coordDims[otherDimIdx]][2]);\n        var lowPoint = api.coord(param);\n        var halfWidth = 10;\n        var style = api.style({\n            stroke: api.visual('color'),\n            fill: null,\n          lineWidth:2\n        });\n          console.log(lowPoint[baseDimIdx], lowPoint[otherDimIdx])\n        children.push({\n            type: 'line',\n            shape: makeShape(\n                baseDimIdx,\n                highPoint[baseDimIdx] - halfWidth, highPoint[otherDimIdx],\n                highPoint[baseDimIdx] + halfWidth, highPoint[otherDimIdx]\n            ),\n           style: style\n            // style: {itemStyle :{\"color\":\"blue\"}}\n        }, {\n            type: 'line',\n            shape: makeShape(\n                baseDimIdx,\n                highPoint[baseDimIdx], highPoint[otherDimIdx],\n                lowPoint[baseDimIdx], lowPoint[otherDimIdx]\n            ),\n            \n              style: {stroke: \"#808080\"}\n        }, {\n            type: 'line',\n            shape: makeShape(\n                baseDimIdx,\n                lowPoint[baseDimIdx] - halfWidth, lowPoint[otherDimIdx],\n                lowPoint[baseDimIdx] + halfWidth, lowPoint[otherDimIdx]\n            ),\n              style:style\n        });\n    }\n    // console.log(children)\n\n    function makeShape(baseDimIdx, base1, value1, base2, value2) {\n        var shape = {};\n        shape[coordDims[baseDimIdx] + '1'] = base1;\n        shape[coordDims[1 - baseDimIdx] + '1'] = value1;\n        shape[coordDims[baseDimIdx] + '2'] = base2;\n        shape[coordDims[1 - baseDimIdx] + '2'] = value2;\n        return shape;\n    }\n\n    return {\n        type: 'group',\n        children: children\n    };\n}\n\n\n// console.log(renderItem)\noption = {\n    tooltip: {\n        formatter:function(item){\n        // console.log(item)    \n      return  item.marker+item.seriesName+\"</br>\"+\n\"第一列：\"+item.value[0]+\"</br>\"+\n\"第二列：\"+item.value[1]+\"</br>\"+\n\"第三列：\"+item.value[2]+\"</br>\"+\n\"第四列：\"+item.value[3]+\"</br>\"+\n\"第五列：\"+item.value[4]+\"</br>\"+\n\"第六列：\"+item.value[5]+\"</br>\"+\n\"第七列：\"+item.value[6]+\"</br>\";\n        \n        }\n    },\n    legend: {\n        data: ['bar', 'error']\n    },\n    dataZoom: [{\n        \n        \n\n        \n        type: 'slider',\n        start:0,\n        // end:39.45,\n        end: 19.445,\n        zoomLock:true,\n        height: 8,\n        bottom: 20,\n        borderColor: 'transparent',\n        backgroundColor: '#e2e2e2',\n        handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line\n        handleSize: 20,\n        handleStyle: {\n            shadowBlur: 6,\n            shadowOffsetX: 1,\n            shadowOffsetY: 2,\n            shadowColor: '#aaa'\n        },\n        xAxisIndex: [0],\n    }\n    // , {\n    //     type: 'inside',\n    //     filterMode: 'weakFilter'\n    // }\n    ],\n    grid: {\n        bottom: 80\n    },\n    xAxis: [\n        {\n            name:\"疑点\",\n           type: 'value',\n  \n            interval:100,\n            min:0,max:3600,\n            silent:true,\naxisLabel :{\n    formatter:function(obj,index){\n    //   console.log(obj)\n        obj=num(parseInt(obj));\n        // console.log(xlable.get(''+obj+''))\n      return     (xlable.get(''+obj+''))!=undefined ?xlable.get(''+obj+''):\"\";\n//   return 'q';\n},\n}\n            \n        },\n   \n        ],\n    yAxis: {\n         name:\"数量\",\n    },\n    series: [\n    //     {\n    //     type: 'scatter',\n    //     name: 'error',\n    //     data: data,\n    //     // dimensions: dimensions,\n    //     encode: {\n    //         x: 2,\n    //         y: 1,\n    //         // tooltip: [2, 1, 3, 4, 5, 6],\n    //         // itemName: 0\n    //     },\n    //     itemStyle: {\n    //         normal: {\n    //             color: '#77bef7'\n    //         }\n    //     }\n\n    // },\n    {\n        type: 'custom',\n        name: 'error',\n        renderItem: renderItem,\n        // dimensions: dimensions,\n        encode: {\n            x: [2, 3, 4],\n            y: [1, 5, 6],\n            // tooltip: [2, 1, 3, 4, 5, 6],\n            // itemName: 0\n        },\n        data: data,\n        z: 100,\n        xAxisIndex:0\n    },\n    //  {\n    //     type: 'custom',\n    //     name: 'aaaa',\n    //     renderItem: renderItem,\n    //     // dimensions: dimensions,\n    //     encode: {\n    //         x: [2, 3, 4],\n    //         y: [1, 5, 6],\n    //         // tooltip: [2, 1, 3, 4, 5, 6],\n    //         // itemName: 0\n    //     },\n    //     data: data,\n    //     z: 100,\n    //     xAxisIndex:0\n    // }\n    \n    \n    ]\n};\n\n// console.log(num(parseInt(3388.4)))\nfunction num(abc){\n\n    var s=Math.ceil(abc/100);\n    var e=s*100;\n    return e;\n}","html":"","externalScripts":"","updaterUID":"bd-2589517385","theme":"","layout":"","viewCount":379,"userName":"徐***盟","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xbja3q554G.png?v=1562648424238","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-custom","tooltip"],"customTags":["custom","datazoom","tooltip"],"updaterUserName":"徐***盟"}}