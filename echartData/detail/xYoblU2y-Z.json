{"status":0,"data":{"cid":"xYoblU2y-Z","authorUid":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","authorUserName":"叫***e","title":"自带背景的柱形图","description":"自带背景的柱形图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-30T07:09:28.000Z","lastUpdateTime":"2021-11-30T07:09:28.000Z","auth":2,"uid":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-30T07:09:28.000Z","code":"datas = {\r\n    countArr: [10, 21, 30, 37],\r\n    countArr1: [20, 10, 25, 45],\r\n    indArr: [ \"执行中\", \"成功\"],\r\n    nameArr: [\"测试1\", \"测试2\", \"测试3\", \"测试4\"]\r\n}\r\nlet maxNum = 50;\r\nlet bgData = [];let seriesArr = [];\r\n\tvar color = ['#54CAFF','#385DFF','#2C953E','#B3251E','#AE00FF'];\r\n\tvar lineColor = 'rgba(51, 64, 158, 0.6)';\r\n\t\r\n\tdatas.nameArr.forEach( function(item,index){\r\n\t\tbgData.push(maxNum);\r\n\t})\r\n\tdatas.indArr.forEach( function(item,index){\r\n\t\tlet yData;\r\n\t\tswitch(index) {\r\n\t     case 0:\r\n\t    \t yData = datas.countArr;\r\n\t        break;\r\n\t     case 1:\r\n\t    \t yData = datas.countArr1;\r\n\t        break;\r\n\t} \r\n\t\tseriesArr.push({\r\n\t\t\t name: item,\r\n\t            type: 'bar',\r\n\t            barWidth: '15',\r\n\t            itemStyle: {\r\n\t                normal: {\r\n\t                    barBorderRadius: 30,\r\n\t                    color: color[index]\r\n\t                }\r\n\t            },\r\n\t            data: yData,\r\n\t            zlevel: 11\r\n\t\t})\r\n    })\r\n    seriesArr.push({\r\n        name: '',\r\n        type: 'bar',\r\n        barWidth:100,\r\n        barGap: '-60%',\r\n        data: bgData,\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(22,153,152, 0.1)'\r\n            }\r\n        },\r\n        zlevel: 9,\r\n        xAxisIndex: 1,\r\n})\r\nseriesArr = seriesArr.reverse();\r\n option = {\r\n     backgroundColor:'#000',\r\n\t\tlegend:{\r\n\t\t\tshow:true,\r\n\t\t\tright:10,\r\n\t\t\ttop:10,\r\n\t\t\ttextStyle:{\r\n\t\t\t\tcolor:'#ffffff',\r\n\t\t\t\tfontSize: 16,\r\n\t\t\t\tfontFamily: 'FZLanTingHeiS-DB-GB'\r\n\t\t\t}\r\n\t\t},\r\n\t    tooltip: {\r\n\t        trigger: 'axis',\r\n\t        axisPointer: {\r\n\t            type: 'line',\r\n\t            lineStyle: {\r\n\t                opacity: 0\r\n\t            }\r\n\t        },\r\n\t         formatter:  function (params) {\r\n\t            var res='<div\"><p>'+params[0].name+'</p></div>' \r\n\t            for(var i=0;i<params.length;i++){\r\n\t                if(params[i].seriesName!=\"\"){\r\n\t                     res+='<p>'+params[i].seriesName+':'+params[i].data+'</p>'\r\n\t                }\r\n\t            }\r\n\t            return res;\r\n\t            },\r\n\t    },\r\n\t  \r\n\t    grid: {\r\n\t    \tcontainLabel: true,\r\n \t        left: 30,\r\n \t        top: 80,\r\n \t        right: 30,\r\n \t        bottom: 50\r\n\t    },\r\n\t    xAxis: [{\r\n\t        type: 'category',\r\n\t        data: datas.nameArr,\r\n\t        axisLine: {\r\n\t            lineStyle: {\r\n\t                color: lineColor,\r\n\t                type:\"dashed\",\r\n\t             \r\n\t            }\r\n\t        },\r\n\t        axisLabel: {\r\n\t            show: true,\r\n\t             color: '#FFFFFF',\r\n\t             fontSize:16,\r\n\t             interval:0\r\n\t        },\r\n\t        boundaryGap:true,\r\n\t        \r\n\t    },{\r\n\t        type: 'category',\r\n\t        data: datas.nameArr,\r\n\t        axisLine: {show:false},\r\n\t        axisLabel: {\r\n\t            show: false,\r\n\t        },\r\n\t        boundaryGap:true,\r\n\t        \r\n\t    }],\r\n\t    yAxis: [{\r\n\t            type: 'value',\r\n\t            splitLine: {\r\n\t                show: false\r\n\t            },\r\n\t            axisTick: {\r\n\t                show: false\r\n\t            },\r\n\t           \r\n\t            axisLine: {\r\n\t                lineStyle: {\r\n\t                \tcolor: lineColor,\r\n\t\t                type:\"dashed\",\r\n\t                }\r\n\t            },\r\n\t            axisLabel: {\r\n\t                color: '#FFFFFF',\r\n\t                \r\n\t            },\r\n\t        },\r\n\t       \r\n\t    ],\r\n\t    series:seriesArr\r\n\t};","html":"","externalScripts":"","updaterUID":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","theme":"","layout":"","viewCount":0,"userName":"叫***e","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYoblU2y-Z.png?v=1638256169134","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"叫***e"}}