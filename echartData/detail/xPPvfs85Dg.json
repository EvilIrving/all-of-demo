{"status":0,"data":{"cid":"xPPvfs85Dg","authorUid":"obd-oPg-qLOR__FRzkvjKl3TAM2VneTsc9n","authorUserName":"雾***地","title":"","description":"区域日工作量","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-02T07:05:25.000Z","lastUpdateTime":"2021-10-02T07:05:25.000Z","auth":1,"uid":"obd-oPg-qLOR__FRzkvjKl3TAM2VneTsc9n","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-02T07:05:26.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1633144331217-KflboZvu1.json';\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('wuwei', geoJson);\n    var geoCoordMap = {\n        凉州区: [102.753191, 37.912189],\n        古浪县: [103.333461, 37.527981],\n        天祝藏族自治县: [103.142034, 36.971678],\n        民勤县: [103.187983, 38.831195],\n    };\n    var data = [\n        { name: '凉州区', value: 12 },\n        { name: '古浪县', value: 6 },\n        { name: '天祝藏族自治县', value: 16 },\n        { name: '民勤县', value: 2000 },\n    ];\n\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value).concat(data[i].img),\n                });\n            }\n        }\n        return res;\n    };\n    option = {\n        title: {\n            top: 20,\n            text: '区域日工作量',\n            subtext: '区域日工作量',\n            textStyle: {\n                color: '#000',\n            },\n        },\n        tooltip: {\n            formatter: function (params) {\n                var html = '';\n                html =\n                    '<div>' +\n                    '<div >' +\n                    params.name +\n                    '</div>' +\n                    '<div>' +\n                    '<span style=\"font-size:14px;font-weight:bold;\">' +\n                    '巡检量：' +\n                    params.data.value[2] +\n                    ' ' +\n                    '</span>' +\n                    '</div>' +\n                    '</div>';\n                return html;\n            },\n        },\n        geo: {\n            map: 'wuwei',\n            type: 'map',\n            zoom: 1.2,\n            showLegendSymbol: true,\n            label: {\n                normal: {\n                    show: true,\n                    color: '#fff',\n                },\n                emphasis: {\n                    show: true,\n                    color: 'red',\n                },\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: '#3a7fd5',\n                    borderColor: '#0a53e9', //线\n                    shadowColor: '#092f8f', //外发光\n                    shadowBlur: 20,\n                },\n                emphasis: {\n                    areaColor: '#0a2dae', //悬浮区背景\n                },\n            },\n        },\n        series: [\n            {\n                name: '666',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                symbol: 'pin',\n                symbolSize: [50, 50],\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 10,\n                        },\n                        formatter(value) {\n                            return value.data.value[2];\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: function (val) {\n                            if (val.dataIndex == '0') {\n                                return 'blue';\n                            } else if (val.dataIndex == '1') {\n                                return 'green';\n                            } else if (val.dataIndex == '2') {\n                                return '#ff9900';\n                            } else {\n                                return 'red';\n                            }\n                        },\n                    },\n                },\n                data: convertData(\n                    data.sort(function (a, b) {\n                        return b.value - a.value;\n                    })\n                ),\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                zlevel: 1,\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"obd-oPg-qLOR__FRzkvjKl3TAM2VneTsc9n","theme":"","layout":"","viewCount":0,"userName":"雾***地","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPPvfs85Dg.png?v=1633158326217","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"雾***地"}}