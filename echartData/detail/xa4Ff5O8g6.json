{"status":0,"data":{"cid":"xa4Ff5O8g6","authorUid":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","authorUserName":"w***5","title":"双柱对比图","description":"双柱对比图，有最大值","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-04T08:52:21.000Z","lastUpdateTime":"2021-11-05T02:30:02.000Z","auth":2,"uid":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-05T02:30:02.000Z","code":"\r\n\t\t\tvar xData = [\r\n\t\t\t  '创新指数数值',\r\n\t\t\t  '比上年进步',\r\n\t\t\t  '创新指数位次',\r\n\t\t\t  '指数进步位次',\r\n\t\t\t  '常住人口'\r\n\t\t\t];\r\n\t\t\tvar data1 = [120, 200, 150, 90, 70];\r\n\t\t\tvar data2 = [300, 150, 100, 40, 50];\r\n\t\t\tlet maxData = null;\r\n\t\t\tfunction getMaxData() {\r\n\t\t\t  //合并\r\n\t\t\t  let tempList = [...data1, ...data2];\r\n\t\t\t  //取绝对值\r\n\t\t\t  tempList.forEach((elem, index) => {\r\n\t\t\t    if (elem < 0) {\r\n\t\t\t      tempList[index] = -elem;\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t  //排序找出最大\r\n\t\t\t  tempList.sort(function (a, b) {\r\n\t\t\t    return b - a;\r\n\t\t\t  });\r\n\t\t\t  return tempList[0];\r\n\t\t\t}\r\n\t\t\tmaxData = getMaxData()\r\n\t\t   option = {\r\n\t\t\t  grid: [\r\n\t\t\t    {\r\n\t\t\t      show: false,\r\n\t\t\t      left: '3%',\r\n\t\t\t      top: '10%',\r\n\t\t\t      bottom: '8%',\r\n\t\t\t      containLabel: true,\r\n\t\t\t      width: '40%'\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      show: false,\r\n\t\t\t      left: '50%',\r\n\t\t\t      top: '10%',\r\n\t\t\t      bottom: '8%',\r\n\t\t\t      width: '20%'\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      show: false,\r\n\t\t\t      right: '3%',\r\n\t\t\t      top: '10%',\r\n\t\t\t      bottom: '8%',\r\n\t\t\t      containLabel: true,\r\n\t\t\t      width: '40%'\r\n\t\t\t    }\r\n\t\t\t  ],\r\n\t\t\t  xAxis: [\r\n\t\t\t    {\r\n\t\t\t      gridIndex: 0,\r\n\t\t\t      type: 'value',\r\n\t\t\t      inverse: true,\r\n\t\t\t      axisLine: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisTick: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      splitLine: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisLabel: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      max:maxData\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      gridIndex: 1,\r\n\t\t\t      show: true\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      gridIndex: 2,\r\n\t\t\t      type: 'value',\r\n\t\t\t      inverse: false,\r\n\t\t\t      axisLine: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisTick: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      splitLine: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisLabel: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t       max:maxData\r\n\t\t\t    }\r\n\t\t\t  ],\r\n\t\t\t  yAxis: [\r\n\t\t\t    {\r\n\t\t\t      type: 'category',\r\n\t\t\t      gridIndex: 0,\r\n\t\t\t      axisTick: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisLabel: {\r\n\t\t\t        show: false\r\n\t\t\t      }\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      gridIndex: 1,\r\n\t\t\t      type: 'category',\r\n\t\t\t      show: true,\r\n\t\t\t      axisLine: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisTick: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisLabel: {\r\n\t\t\t        show: true,\r\n\t\t\t\t\t margin:-1,//margin 配合 align 调整位置\r\n\t\t\t         align: 'center',\r\n\t\t\t    \r\n\t\t\t        textStyle: {\r\n\t\t\t          color: '#000',\r\n\r\n\t\t\t          align: 'center',\r\n\t\t\t\t\t   \r\n\t\t\t        }\r\n\t\t\t      },\r\n\t\t\t      data: xData\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      type: 'category',\r\n\t\t\t      gridIndex: 2,\r\n\t\t\t      axisTick: {\r\n\t\t\t        show: false\r\n\t\t\t      },\r\n\t\t\t      axisLabel: {\r\n\t\t\t        show: false\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  ],\r\n\t\t\t  series: [\r\n\t\t\t    {\r\n\t\t\t      xAxisIndex: 0,\r\n\t\t\t      yAxisIndex: 0,\r\n\t\t\t      data: data1,\r\n\t\t\t      type: 'bar',\r\n\t\t\t      barWidth: '20',\r\n\t\t\t      backgroundStyle: {\r\n\t\t\t        color: 'rgba(180, 180, 180, 0.2)'\r\n\t\t\t      },\r\n\t\t\t      label: {\r\n\t\t\t        show: true,\r\n\t\t\t        position: 'left'\r\n\t\t\t      }\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      type: 'bar',\r\n\t\t\t      xAxisIndex: 1,\r\n\t\t\t      yAxisIndex: 1,\r\n\t\t\t      itemStyle: {\r\n\t\t\t        normal: {}\r\n\t\t\t      },\r\n\t\t\t      barWidth: '20'\r\n\t\t\t      // data: [120, 200, 150, 80, 70]\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      xAxisIndex: 2,\r\n\t\t\t      yAxisIndex: 2,\r\n\t\t\t      data: data2,\r\n\t\t\t      type: 'bar',\r\n\t\t\t      barWidth: '20',\r\n\t\t\t      backgroundStyle: {\r\n\t\t\t        color: 'rgba(180, 180, 180, 0.2)'\r\n\t\t\t      },\r\n\t\t\t      label: {\r\n\t\t\t        show: true,\r\n\t\t\t        position: 'right'\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  ]\r\n\t\t\t};\r\n","html":"","externalScripts":"","updaterUID":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","theme":"","layout":"","viewCount":0,"userName":"w***5","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xa4Ff5O8g6.png?v=1636079402159","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"w***5"}}