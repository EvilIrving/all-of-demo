{"status":0,"data":{"cid":"xM1ObKGQA8","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"分组饼图-内外同data完善","description":"","latestVersion":8,"alwaysLatest":0,"createTime":"2021-05-11T09:10:02.000Z","lastUpdateTime":"2021-05-11T09:10:02.000Z","auth":2,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-13T09:18:02.000Z","code":"var getinnername = ['博士', '硕士', '本科', '专科', '高中及以下'];\nvar getinnervalue = [22, 22, 28, 28,25];\nvar  getbl=[17.6,17.6,22.4,22.4,20];\nvar getoutername = [\n    '进修培训情况',\n    '能力提升情况',\n    '教学工作',\n    '教研工作',\n    '技能竞赛',\n    '思想道德建设',\n    '获奖情况',\n    '年度考核',\n    '成果获奖',\n    '平台/团队建设',\n    '科研项目',\n    '学术成果',\n    '学历',\n    '学位',\n];\nvar getoutervalue = [6, 16, 6, 7, 9, 7, 15, 6, 3, 12, 8, 5,17,8];\n\nvar data = [];\nfor(var i = 0;i<getinnername.length;i++){\n\tdata.push({name:getinnername[i],value:getinnervalue[i]});\n}\n\nlet scale = 1;\nvar innervalue = [];\nfor (var i = 0; i < getinnername.length; i++) {\n    innervalue.push({\n        name: getinnername[i],\n        value: getinnervalue[i],\n    });\n}\nvar outervalue = [];\nfor (var i = 0; i < getoutername.length; i++) {\n    if (getoutername[i] == '进修培训情况' || getoutername[i] == '能力提升情况') {\n        outervalue.push({\n            name: getoutername[i],\n            value: getoutervalue[i],\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#81BEFF', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#3295FF', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n        });\n    }\n    if (getoutername[i] == '教学工作' || getoutername[i] == '教研工作' || getoutername[i] == '技能竞赛') {\n        outervalue.push({\n            name: getoutername[i],\n            value: getoutervalue[i],\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#48D69E', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#70F3C2', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n        });\n    }\n    if (getoutername[i] == '思想道德建设' || getoutername[i] == '获奖情况' || getoutername[i] == '年度考核') {\n        outervalue.push({\n            name: getoutername[i],\n            value: getoutervalue[i],\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#FEAE5C', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#FECC84', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n        });\n    }\n    if (\n        getoutername[i] == '成果获奖' ||\n        getoutername[i] == '科研项目' ||\n        getoutername[i] == '学术成果' ||\n        getoutername[i] == '平台/团队建设') {\n        outervalue.push({\n            name: getoutername[i],\n            value: getoutervalue[i],\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#A1AEFF', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#9686F3', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n        });\n    }\n    if (getoutername[i] == '学历' || getoutername[i] == '学位') {\n        outervalue.push({\n            name: getoutername[i],\n            value: getoutervalue[i],\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#ff7797', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#fe7694', // 100% 处的颜色\n                            },\n                        ],\n                    },\n                },\n            },\n        });\n    }\n}\nlet echartData = {\n    inner: innervalue,\n    outer: outervalue,\n};\n\nlet legend1 = echartData.inner.map((v) => v.name);\nlet legend2 = echartData.outer.map((v) => v.name);\nlet legendData = [...legend1, ...legend2];\n\noption = {\n    title: {\n        text: '第一学历',\n        top: 200,\n        left: 200\n    },\n    // tooltip: {\n    //     trigger: 'item',\n    //     formatter: '{b}：{c}分',\n    // },\n        legend: {\n        type:\"scroll\",\n        orient: 'vertical',\n        // left: '50%',\n        // y: 'center',  //图例上下居中\n\t\theight:'88%',\n        // right: '11%',\n        right: '10%',\n            top: 'center',\n        icon: 'circle',\n        itemWidth: 10,\n        itemHeight: 10,\n        itemGap:10,\n        data: getinnername,\n        formatter: function(name) {\n            for (var i = 0; i<getinnername.length; i++) {\n\t\t\t\tif (name == data[i].name) {\n\t\t\t\t\treturn '{name|' + name+'}{value|'+getinnervalue[i] +'人}{rate|' + getbl[i].toFixed(0) + '%}'\n\t\t\t\t// return  name + getinnervalue[i] +'人' + getbl[i].toFixed(0) + '%';\n\t\t\t\t}\n            }\n        },\n        textStyle: {\n            rich: {\n                name: {\n                    fontSize: 13,\n                    fontWeight: 400,\n                    width: 50,\n                    height: 35,\n                    padding:[0,0,0,10],\n\t\t\t\t\tcolor:'#666666'\n                },\n                value: {\n                    fontSize: 13,\n                    fontWeight: 400,\n                    width: 50,\n                    height: 35,\n                    padding:[0,0,0,25],\n\t\t\t\t\tcolor:'#333333'\n                },\n                rate: {\n                    fontSize: 13,\n                    fontWeight: 500,\n                    height: 35,\n                    width: 55,\n                    align:'left',\n\t\t\t\t\tcolor:'#666666'\n                }\n            }\n        }        \n    },\n    series: [\n        {\n            color: [\n                {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#81BEFF', // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: '#3295FF', // 100% 处的颜色\n                        },\n                    ],\n                },\n                {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#48D69E', // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: '#70F3C2', // 100% 处的颜色\n                        },\n                    ],\n                },\n                {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#FEAE5C', // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: '#FECC84', // 100% 处的颜色\n                        },\n                    ],\n                },\n                {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#A1AEFF', // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: '#9686F3', // 100% 处的颜色\n                        },\n                    ],\n                },\n                 {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#ff7797', // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: '#fe7694', // 100% 处的颜色\n                        },\n                    ],\n                },\n            ],\n            type: 'pie',\n            // center: ['20%', '35%'],\n            radius: [0, '24%'],\n            itemStyle: {\n                normal: {\n                    show: false,\n                },\n            },\n            label: {\n                normal: {\n                    show: false,\n                },\n            },\n            labelLine: {\n                normal: {\n                    show: false,\n                },\n            },\n            data: echartData.inner,\n        },\n        {\n            type: 'pie',\n            // center: ['20%', '35%'],\n            radius: ['26%', '45%'],\n            roseType: 'radius',\n            data: echartData.outer,\n            labelLine: {\n                normal: {\n                    show: false,\n                },\n            },\n            label: {\n                normal: {\n                    show: false,\n                },\n            },\n        },\n    ],\n};\nreturn option;\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xM1ObKGQA8.png?v=1620897482372","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"花***n"}}