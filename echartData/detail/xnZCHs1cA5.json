{"status":0,"data":{"cid":"xnZCHs1cA5","authorUid":"bd-4150559213","authorUserName":"M***x","title":"动态----数据资产访问统计","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-03-18T06:03:15.000Z","lastUpdateTime":"2019-03-18T06:03:15.000Z","auth":2,"uid":"bd-4150559213","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-18T09:49:19.000Z","code":"//http://ip:8762/api/datacatalog/countCtrl/getMonthlyResourceState?recentlyMonth=24\nvar getData = [\n    {\"month\":\"2017-07\",\"count\":6},{\"month\":\"2017-08\",\"count\":2},{\"month\":\"2017-09\",\"count\":0},\n    {\"month\":\"2017-10\",\"count\":0},{\"month\":\"2017-11\",\"count\":6},{\"month\":\"2017-12\",\"count\":1},\n    {\"month\":\"2018-01\",\"count\":4},{\"month\":\"2018-02\",\"count\":7},{\"month\":\"2018-03\",\"count\":2},\n    {\"month\":\"2018-04\",\"count\":2},{\"month\":\"2018-05\",\"count\":0},{\"month\":\"2018-06\",\"count\":3},\n    {\"month\":\"2018-07\",\"count\":3},{\"month\":\"2018-08\",\"count\":2},{\"month\":\"2018-09\",\"count\":4},\n    {\"month\":\"2018-10\",\"count\":5},{\"month\":\"2018-11\",\"count\":5},{\"month\":\"2018-12\",\"count\":3},\n    {\"month\":\"2019-01\",\"count\":3},{\"month\":\"2019-02\",\"count\":0},{\"month\":\"2019-03\",\"count\":0}]\nindex = 12;    \nvar data1 = [];\nfor (var i = 0; i < index; i++) {\n    data1.push(getData[i].month);\n} \n\nvar data2 = [];\nfor (var i = 0; i < index; i++) {\n    data2.push(getData[i].count);\n}\nvar max = Math.max.apply(null,data2);\noption = {\n    backgroundColor:'#fff',\n    angleAxis: {\n        type: 'category',\n        z: 10,\n        data: data1\n    },\n    radiusAxis: {\n        max:max\n    },\n    polar: {\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter:'数据资产访问统计<br />时间：{b}<br />数量：{c}',\n    },\n    series: [{\n        type: 'bar',\n        data: data2,\n        coordinateSystem: 'polar',\n        name: '',\n        stack: 'a'\n    }]\n};\n\ndata1 = option.angleAxis.data;\ndata2 = option.series[0].data;\nsetInterval(function (){\n    if (index == getData.length) {\n        index = 0;\n    }\n    data1.shift();\n    data1.push(getData[index].month);\n    data2.shift();\n    data2.push(getData[index].count);\n   option.radiusAxis.max = Math.max.apply(null,data2);\n    index++;\n    myChart.setOption(option);\n}, 3000);\n","html":"","externalScripts":"","updaterUID":"bd-4150559213","theme":"","layout":"","viewCount":178,"userName":"M***x","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnZCHs1cA5.png?v=1552902559098","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","tooltip"],"customTags":["bar"],"updaterUserName":"M***x"}}