{"status":0,"data":{"cid":"xZEl2-G1-F","authorUid":"obd-oCGclq9Aswvv-od-1zhVVui8SFaOH3z","authorUserName":"楼***翔","title":"客流告警预警","description":"表达客流量实际与预测关系","latestVersion":3,"alwaysLatest":0,"createTime":"2021-07-09T10:29:59.000Z","lastUpdateTime":"2021-07-12T01:34:20.000Z","auth":2,"uid":"obd-oCGclq9Aswvv-od-1zhVVui8SFaOH3z","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.0.0","versionCreateTime":"2021-07-12T01:34:20.000Z","code":"const labelList = ['西街口', '王府井', '公主坟', '龙抬头', '龙湖公园', '朝天门', '金拱门'];\nconst chartCount = [4, 4, 4, 5];\nconst timeScope = [\n    ['09:00', '08:45', '08:30'],\n    ['09:00', '09:15', '09:30'],\n];\nconst alarmChart = [\n    { name: '西街口', start: 0, end: -3 },\n    { name: '王府井', start: 0, end: -3 },\n    { name: '公主坟', start: -3, end: -3 },\n    { name: '龙抬头', start: 0, end: -6 },\n    { name: '龙湖公园', start: -3, end: -3 },\n    { name: '朝天门', start: -0, end: -3 },\n     { name: '金拱门', start: -3, end: -3 },\n];\nconst warnChart = [\n    { name: '西街口', start: 0, end: 3 },\n    { name: '王府井', start: 0, end: 6 },\n       { name: '公主坟', start: 3, end: 3 },\n    { name: '龙抬头', start: 0, end: 6 },\n    { name: '龙湖公园',  start: 0, end: 3 },\n    { name: '朝天门', start: 3, end: 3 },\n     { name: '金拱门', start: 3, end: 3 },\n];\noption = {\n    backgroundColor: '#fff',\n    grid: [\n        {\n            top: '25%',\n            width: '48%',\n            left: '2%',\n            gridIndex: 0,\n            id: 0,\n            height: '50%'\n        },\n        {\n            top: '25%',\n            left: '50%',\n            width: '48%',\n            gridIndex: 1,\n            id: 1,\n            height: '50%'\n        }\n    ],\n    xAxis: [\n        {\n            type: 'value',\n            min: '-6',\n            max: '0',\n            gridIndex: 0,\n            axisTick: {\n                show: false,\n                inside: false,\n            },\n            axisLabel: {\n                show: true,\n                color: '#949EA8',\n                rich: {\n                    a: {\n                        width: 15,\n                        height: 10,\n                        // padding: [4, 0, 0, 0],\n                        // backgroundColor: {\n                        //     image: timePng,\n                        // },\n                    },\n                    b: {\n                        color: '#4D94FF',\n                        padding: [-1, 0, 0, 0],\n                    },\n                    c: {\n                        color: '#FF7085',\n                        fontSize: 12,\n                        lineHeight: 17,\n                        fontFamily: 'PingFangSC-Medium',\n                        borderColor: '#FF7085',\n                        borderWidth: 1,\n                        backgroundColor: '#FFE2E7',\n                        borderRadius: 5,\n                        padding: 5,\n                    },\n                    e: {\n                        color: '#fe9749',\n                        fontSize: 12,\n                        lineHeight: 17,\n                        fontFamily: 'PingFangSC-Medium',\n                        borderColor: '#fe9749',\n                        borderWidth: 1,\n                        backgroundColor: '#FFE2E7',\n                        borderRadius: 5,\n                        padding: 5,\n                    },\n                    d: {\n                        width: '90%',\n                    },\n                },\n                formatter: (value) => {\n                    if (value === 0) {\n                        return '{a|} {b|' + timeScope[0][value] + '}';\n                    } else if (-value === 2) {\n                        return '{d|}{c| 告警' + chartCount[1] + '}';\n                    } else if (-value === 5) {\n                        return '{d|}{c| 告警' + chartCount[0] + '}';\n                    } else {\n                        return timeScope[0][-value / 3];\n                    }\n                },\n            },\n            axisLine: {\n                // Y轴轴线样式\n                show: true,\n                lineStyle: {\n                    color: '#CFD7DD',\n                },\n            },\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    type: 'dashed',\n                    color: ['#CFD7DD', '#E8ECEF', '#E8ECEF'],\n                },\n            },\n        },\n        {\n            type: 'value',\n            gridIndex: 1,\n            min: '0',\n            max: '6',\n            axisTick: {\n                show: false,\n            }, // 是否显示刻度\n            axisLine: {\n                // Y轴轴线样式\n                show: true, // 是否显示X轴\n                lineStyle: {\n                    color: '#CFD7DD',\n                },\n            },\n            axisLabel: {\n                show: true,\n                color: '#949EA8',\n                rich: {\n                    a: {\n                        width: 15,\n                        height: 10,\n                        // padding: [4, 0, 0, 0],\n                        // backgroundColor: {\n                        //     image: timePng,\n                        // },\n                    },\n                    b: {\n                        color: '#4D94FF',\n                        padding: [-1, 0, 0, 0],\n                    },\n                    c: {\n                        color: '#FF7085',\n                        fontSize: 12,\n                        lineHeight: 17,\n                        fontFamily: 'PingFangSC-Medium',\n                        borderColor: '#FF7085',\n                        borderWidth: 1,\n                        backgroundColor: '#FFE2E7',\n                        borderRadius: 5,\n                        padding: 5,\n                    },\n                    e: {\n                        color: '#fe9749',\n                        fontSize: 12,\n                        lineHeight: 17,\n                        fontFamily: 'PingFangSC-Medium',\n                        borderColor: '#fe9749',\n                        borderWidth: 1,\n                        backgroundColor: '#FFE2E7',\n                        borderRadius: 5,\n                        padding: 5,\n                    },\n                    d: {\n                        width: '90%',\n                    },\n                },\n                formatter: (value) => {\n                    if (value !== 0) {\n                        if (value === 1) {\n                            return '{d|}{e| 预警' + chartCount[2] + '}';\n                        } else if (value === 4) {\n                            return '{d|}{e| 预警' + chartCount[3] + '}';\n                        } else {\n                            return timeScope[1][value / 3];\n                        }\n                    }\n                },\n            },\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    type: 'dashed',\n                    color: ['#CFD7DD', '#E8ECEF', '#E8ECEF'],\n                },\n            },\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            gridIndex: 0,\n            inverse: true,\n            data: labelList,\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            axisLine: {\n                // Y轴轴线样式\n                show: true,\n                symbol: ['circle'],\n                symbolSize: 7,\n                lineStyle: {\n                    width: 2,\n                    color: '#4D94FF',\n                },\n            },\n            zlevel: 2,\n        },\n        {\n            type: 'category',\n            gridIndex: 1,\n            inverse: true,\n            data: labelList,\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n                margin: 0,\n            },\n            axisLine: {\n                show: false, // 是否显示轴线\n            },\n        },\n    ],\n    series: [\n        {\n            name: '告警',\n            type: 'bar',\n            stack: 'one',\n            barWidth: '20',\n            gridIndex: 0,\n            itemStyle: {\n                normal: {\n                    label: {\n                        color: 'black',\n                    },\n                    color: 'transparent',\n                },\n            },\n            data: alarmChart.map((item) => item.start),\n        },\n        {\n            name: '告警',\n            type: 'bar',\n            stack: 'one',\n            barWidth: '20',\n            gridIndex: 0,\n            emphasis: {\n                itemStyle: {\n                    color: '#FF7085',\n                    shadowColor: 'rgba(255,112,133,0.3)',\n                    shadowBlur: 10,\n                },\n                label: {\n                    color: '#FFF',\n                    // color: '#000'\n                },\n            },\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#FFE2E7',\n                    barBorderRadius: 50,\n                    borderWidth: 0,\n                    borderColor: '#000',\n                    label: {\n                        show: true,\n                        position: 'inside',\n                        // color: '#FF7085',\n                        color: '#000',\n                        formatter: function (v) {\n                            return v.data ? v.name : '';\n                        },\n                    },\n                },\n            },\n            data: alarmChart.map((item) => item.end),\n        },\n        {\n            name: '预警',\n            type: 'bar',\n            stack: 'one',\n            barWidth: '20',\n            gridIndex: 1,\n            itemStyle: {\n                normal: {\n                    label: {\n                        color: 'black',\n                    },\n                    color: 'transparent',\n                },\n            },\n            data: warnChart.map((item) => item.start),\n        },\n        {\n            name: '预警',\n            type: 'bar',\n            stack: 'one',\n            barWidth: '20',\n            gridIndex: 1,\n            emphasis: {\n                itemStyle: {\n                    color: '#FE9749',\n                    shadowColor: 'rgba(254,151,73,0.3)',\n                    shadowBlur: 10,\n                },\n                label: {\n                    color: '#FFF',\n                    // color: '#000'\n                },\n            },\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#FFEADB',\n                    barBorderRadius: 50,\n                    borderWidth: 0,\n                    borderColor: '#333',\n                    label: {\n                        show: true,\n                        position: 'inside',\n                        // color: '#FE9749',\n                        color: '#000',\n                        formatter: function (v) {\n                            return v.data ? v.name : '';\n                        },\n                    },\n                },\n            },\n            data: warnChart.map((item) => item.end),\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oCGclq9Aswvv-od-1zhVVui8SFaOH3z","theme":"","layout":"","viewCount":0,"userName":"楼***翔","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZEl2-G1-F.png?v=1626053660610","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"楼***翔"}}