{"status":0,"data":{"cid":"xH1gON887G","authorUid":"bd-3778831175","authorUserName":"m***i","title":"buildings on maptalks","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2017-12-31T12:13:28.000Z","lastUpdateTime":"2017-12-31T12:13:28.000Z","auth":2,"uid":"bd-3778831175","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.1.0","versionCreateTime":"2019-01-09T10:29:10.000Z","code":"myChart.showLoading();\n$.getJSON('/asset/get/s/data-1502362944712-r1FBphYv-.json', function(buildingsGeoJSON) {\n    echarts.registerMap('buildings', buildingsGeoJSON);\n    myChart.hideLoading();\n    var regionsData = buildingsGeoJSON.features.map(function(feature) {\n        return {\n            name: feature.properties.name,\n            value: feature.properties.height,\n            height: +feature.properties.height * 10 + 0.1\n        };\n    });\n    myChart.setOption({\n        visualMap: {\n            show: false,\n            min: 0.4,\n            max: 10,\n            inRange: {\n                color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n            }\n        },\n        maptalks3D: {\n            center: [108.95346, 34.24],\n            zoom: 14,\n            pitch: 50,\n            bearing: -10,\n            postEffect: {\n                enable: true,\n                SSAO: {\n                    enable: true,\n                    intensity: 1.3,\n                    radius: 5,\n                    quality: 'low'\n                },\n                depthOfField: {\n                    enable: true,\n                    blurRadius: 4,\n                    focalDistance: 90,\n                    quality: 'low'\n                }\n            },\n            light: {\n                main: {\n                    intensity: 3,\n                    alpha: -40,\n                    shadow: true,\n                    shadowQuality: 'high'\n                },\n                ambient: {\n                    intensity: 0.\n                },\n                ambientCubemap: {\n                    texture: '/asset/get/s/data-1491838644249-ry33I7YTe.hdr',\n                    exposure: 1,\n                    diffuseIntensity: 0.5,\n                    specularIntensity: 1\n                }\n            }\n        },\n        series: [{\n            type: 'map3D',\n            coordinateSystem: 'maptalks3D',\n            map: 'buildings',\n            data: regionsData,\n            shading: 'lambert',\n            instancing: true,\n            silent: true,\n            itemStyle: {\n                areaColor: '#fff'\n            },\n            realisticMaterial: {\n                metalness: 0,\n                roughness: 0.0\n            }\n        }]\n    });\n\n\n});\n\n\nwindow.addEventListener('resize', function() {\n    myChart.resize();\n});","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/maptalks@0.39.3/dist/maptalks.min.js,https://cdn.bootcss.com/echarts/4.1.0/echarts.min.js,https://deyihu.github.io/src/lib/echarts-gl.1.1.3.js?tdsourcetag=s_pctim_aiomsg,https://cdn.bootcss.com/jquery/2.0.3/jquery.min.js","updaterUID":"bd-3778831175","theme":"","layout":"","viewCount":593,"userName":"m***i","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1gON887G.png?v=1514722409663","isCustomThumbnail":1,"builtinTags":["category-work","maptalks3D","series-map3D","visualMap"],"customTags":[],"updaterUserName":"m***i"}}