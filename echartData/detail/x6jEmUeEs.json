{"status":0,"data":{"cid":"x6jEmUeEs","authorUid":"bd-386221173","authorUserName":"d***h","title":"员工复工情况图表 双数据柱形图 折线图 时间轴样例","description":"员工复工情况图表","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-10T11:10:42.000Z","lastUpdateTime":"2020-03-10T11:10:42.000Z","auth":2,"uid":"bd-386221173","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-03-10T11:10:42.000Z","code":"  var allData = {\r\n  \"days\": ['03/09', '03/10'],\r\n  \"company\":[\"智能系统\",\"检测\",\"船电\",\"网控\",\"自控\",\"电器\",\"电机\",\"园区\",\"机器人平台\",\"装备公司\"],\r\n  \"data\":[{\r\n    \"onDuty\": [1000, 1100, 1200, 1000, 1500, 1500, 1200, 1100, 1000, 1590],\r\n    \"home\": [200, 100, 300, 100, 40, 140, 110, 320, 190, 204],\r\n    \"rate\": [80, 91, 75, 90, 98, 91, 89, 78, 69, 86]\r\n  },\r\n  {\r\n    \"onDuty\": [1300, 1200, 1100, 1300, 1800, 1990, 1300, 1200, 1330, 1120],\r\n    \"home\": [200, 100, 300, 100, 40, 140, 110, 320, 190, 204],\r\n    \"rate\": [80, 91, 75, 90, 98, 91, 89, 78, 69, 86]\r\n  }]\r\n}\r\n\r\nfunction getSum(n)\r\n{\r\n    var result =[];\r\n    for(var i = 0; i < allData.data[n].onDuty.length;i++)\r\n    {\r\n        result.push(allData.data[n].onDuty[i] + allData.data[n].home[i])\r\n    }\r\n    return result;\r\n}\r\n\r\n  // echarts配置项\r\n  var option = {\r\n    timeline: {\r\n      axisType: 'category',\r\n      show: true,\r\n      symbol:'rect',\r\n      symbolSize:15,\r\n      currentIndex:allData.days.length-1,\r\n      controlStyle:{\r\n        show:false  \r\n      },\r\n      autoPlay: false,\r\n      playInterval: 1000,\r\n      data: []\r\n    },\r\n    options: []\r\n  };\r\n\r\n  //循环数据\r\n  for (var n = 0; n < allData.days.length; n++) {\r\n    option.timeline.data.push(allData.days[n]);\r\n    option.options.push({\r\n    backgroundColor:'#fff',\r\n      title: {\r\n        show: true,\r\n        text: allData.days[n]\r\n      },\r\n      tooltip: {\r\n        trigger: 'axis'\r\n      },\r\n      legend: {\r\n        show: true,\r\n        x: 'right',\r\n        data: ['现场办公', '居家办公','百分比']\r\n      },\r\n      calculable: true,\r\n      grid: {\r\n        y: 80,\r\n        y2: 100\r\n      },\r\n      xAxis: [{\r\n        type: 'category',\r\n        axisLabel: {\r\n          interval: 0,\r\n          rotate: 0\r\n        },\r\n        data: allData.company\r\n      }],\r\n      yAxis: [{\r\n        type: 'value',\r\n        name: '员工数量',\r\n        max:3000,\r\n        axisTick:{\r\n            show:false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n      }, {\r\n        type: 'value',\r\n        name: '百分比(%)',\r\n        axisTick:{\r\n            show:false\r\n        },\r\n        splitLine:{\r\n            show:false\r\n        }\r\n      }],\r\n      series: [{\r\n        name: '现场办公',\r\n        stack:'员工数量',\r\n        yAxisIndex: 0,\r\n        type: 'bar',\r\n        itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0,191,183,1)\",\r\n                    barBorderRadius: 0,\r\n                    label: {\r\n                        show: false,\r\n                        textStyle: {\r\n                            color: \"#fff\"\r\n                        },\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        barWidth: 30,\r\n        label: {\r\n          normal: {\r\n            show: true,\r\n            position: 'inside',\r\n            formatter: '{c}'\r\n          }\r\n        },\r\n        data: allData.data[n].onDuty\r\n      },{\r\n        name: '居家办公',\r\n        stack:'员工数量',\r\n        yAxisIndex: 0,\r\n        type: 'bar',\r\n        itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(255,144,128,1)\",\r\n                    label: {\r\n                        show: true,\r\n                        textStyle: {\r\n                            \"color\": \"#fff\"\r\n                        },\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        barWidth: 30,\r\n        label: {\r\n          normal: {\r\n            show: true,\r\n            position: 'inside',\r\n            formatter: '{c}'\r\n          }\r\n        },\r\n        data: allData.data[n].home\r\n      },\r\n      {\r\n        name: '百分比',\r\n        yAxisIndex: 1,\r\n        type: 'line',\r\n        symbolSize:10,\r\n        symbol:'circle',\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#4E66B2',\r\n                barBorderRadius: 0,\r\n                label: {\r\n                    show: false,\r\n                }\r\n            }\r\n        },\r\n        data: allData.data[n].rate\r\n      },{\r\n            name: \"总数\",\r\n            type: \"line\",\r\n            symbolSize:10,\r\n            symbol:'circle',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(252,230,48,1)\",\r\n                    barBorderRadius: 0,\r\n                    label: {\r\n                        show: true,\r\n                        position: \"top\",\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            data: getSum(n)\r\n        }]\r\n    });\r\n  }","html":"","externalScripts":"","updaterUID":"bd-386221173","theme":"","layout":"","viewCount":5914,"userName":"d***h","commentCount":4,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x6jEmUeEs.png?v=1583838642437","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","timeline","title","tooltip"],"customTags":[],"updaterUserName":"d***h"}}