{"status":0,"data":{"cid":"xB1FoAPzg7","authorUid":"bd-3778831175","authorUserName":"m***i","title":"polygons textture","description":"polygons custome  textture","latestVersion":4,"alwaysLatest":1,"createTime":"2018-06-04T07:47:44.000Z","lastUpdateTime":"2018-06-04T07:47:44.000Z","auth":2,"uid":"bd-3778831175","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-09T11:20:41.000Z","code":"mapboxgl.accessToken = 'pk.eyJ1IjoibW9yZ2Vua2FmZmVlIiwiYSI6IjIzcmN0NlkifQ.0LRTNgCc-envt9d5MzR75w';\n$.getJSON('/asset/get/s/data-1524056463493-H1PcbpN2z.json', function(buildingsGeoJSON) {\n    var builds = buildingsGeoJSON.map(function(feature) {\n        return {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"name\": Math.random().toString(),\n                \"height\": feature.height || 100\n            },\n            \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [feature.polygon]\n            }\n        }\n    })\n    var map = {\n        \"features\": builds\n    }\n    console.log(map)\n    echarts.registerMap('buildings', map);\n    var regionsData = builds.map(function(feature) {\n        return {\n            name: feature.properties.name,\n            value: Math.random() * 1,\n            height: feature.properties.height,\n            //  itemStyle:{\n            //       color:'#000000',\n            //       borderColor:'red'\n            //  }\n        };\n    });\n    console.log(regionsData)\n    myChart.setOption({\n        //   visualMap: {\n        //     show: true,\n        //     min: 0.4,\n        //     max: 200,\n        //     inRange: {\n        //         color: ['blue', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n        //     }\n        // },\n        mapbox3D: {\n            center: [-74.01164278497646, 40.70769573605318],\n            zoom: 16,\n            pitch: 55,\n            bearing: -10,\n            style: 'mapbox://styles/mapbox/traffic-night-v2',\n            postEffect: {\n                // enable: true,\n                // SSAO: {\n                //     enable: true,\n                //     intensity: 1.2,\n                //     radius: 10\n                // },\n                // screenSpaceReflection: {\n                //     enable: true\n                // }\n            },\n            light: {\n                main: {\n                    intensity: 1,\n                    shadow: false,\n                    shadowQuality: 'high'\n                },\n                ambient: {\n                    intensity: 0.\n                },\n                ambientCubemap: {\n                    texture: '/asset/get/s/data-1491838644249-ry33I7YTe.hdr',\n                    exposure: 1,\n                    diffuseIntensity: 0.5,\n                    specularIntensity: 2\n                }\n            }\n        },\n        series: [{\n            type: 'map3D',\n            coordinateSystem: 'mapbox3D',\n            map: 'buildings',\n            data: regionsData,\n            shading: 'realistic',\n            instancing: true,\n            silent: true,\n            // itemStyle: {\n            //     color:'#000000',\n            //     // borderColor: [0, 2, 10],\n            //     borderWidth: 1\n            // },\n            realisticMaterial: {\n                // metalness: 1,\n                // roughness: 0.4,\n                textureTiling: 35,\n                detailTexture: '/asset/get/s/data-1528097075999-B13VYDfxm.jpg'\n            }\n        }]\n    });\n\n});\nwindow.addEventListener('resize', function() {\n    myChart.resize();\n});","html":"","externalScripts":"https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.css,https://api.tiles.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.js,http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-language/v0.9.2/mapbox-gl-language.js,https://deyihu.github.io/src/lib/echarts-gl.1.1.3.js?tdsourcetag=s_pctim_aiomsg","updaterUID":"bd-3778831175","theme":"","layout":"","viewCount":1356,"userName":"m***i","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1FoAPzg7.png?v=1528098467665","isCustomThumbnail":1,"builtinTags":["category-work","mapbox3D","series-map3D"],"customTags":[],"updaterUserName":"m***i"}}