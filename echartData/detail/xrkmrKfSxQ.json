{"status":0,"data":{"cid":"xrkmrKfSxQ","authorUid":"bd-2652911079","authorUserName":"囧***哥","title":"旭日图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-06-06T08:20:10.000Z","lastUpdateTime":"2018-06-06T08:20:10.000Z","auth":2,"uid":"bd-2652911079","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-10T08:18:17.000Z","code":"/**\r\n * [rgbToHex 将rgb转换为hex]\r\n * @param  {[type]} r [description]\r\n * @param  {[type]} g [description]\r\n * @param  {[type]} b [description]\r\n * @return {[type]}   [description]\r\n */\r\nfunction rgbToHex(r, g, b) {\r\n    var hex = ((r << 16) | (g << 8) | b).toString(16);\r\n    return \"#\" + new Array(Math.abs(hex.length - 7)).join(\"0\") + hex;\r\n}\r\n/**\r\n * [hexToRgb 将hex转换为rgb]\r\n * @param  {[type]} hex [description]\r\n * @return {[type]}     [description]\r\n */\r\nfunction hexToRgb(hex) {\r\n    var rgb = [];\r\n    for (var i = 1; i < 7; i += 2) {\r\n        rgb.push(parseInt(\"0x\" + hex.slice(i, i + 2)));\r\n    }\r\n    return rgb;\r\n}\r\n/**\r\n * [gradient 生成渐变颜色]\r\n * @param  {[type]} startColor [description]\r\n * @param  {[type]} endColor   [description]\r\n * @param  {[type]} step       [description]\r\n * @return {[type]}            [description]\r\n */\r\nfunction gradient(startColor, endColor, step) {\r\n    //将hex转换为rgb\r\n    var sColor = hexToRgb(startColor),\r\n        eColor = hexToRgb(endColor);\r\n    //计算R\\G\\B每一步的差值\r\n    var rStep = (eColor[0] - sColor[0]) / step,\r\n        gStep = (eColor[1] - sColor[1]) / step,\r\n        bStep = (eColor[2] - sColor[2]) / step;\r\n    var gradientColorArr = [];\r\n    for (var i = 0; i < step; i++) {\r\n        //计算每一步的hex值\r\n        gradientColorArr.push(rgbToHex(parseInt(rStep * i + sColor[0]), parseInt(gStep * i + sColor[1]), parseInt(bStep * i + sColor[2])));\r\n    }\r\n    return gradientColorArr;\r\n}\r\n// var color = ['#4dc2ff', '#5fff7a', '#ffa662', '#7d9cef', '#00ffea'];\r\nvar color = ['#0197d4', '#6dcaf3', '#066db7', '#15d7fa', '#00b0f0'];\r\nvar data = [{\r\n    name: '企业画像',\r\n    children: [{\r\n        name: '基本数据',\r\n        value: 4,\r\n        itemStyle: {\r\n            color: color[0]\r\n        },\r\n        children: [{\r\n            name: '社会统一\\n信用代码',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            },\r\n            // 应用场景:金融贷款、政府扶持、税收征管、信用报告、政府招投标\r\n            children: [{\r\n                name: '金融贷款',\r\n                value: 6,\r\n                itemStyle: {\r\n                    color: color[4]\r\n                }\r\n            }, {\r\n                name: '政府扶持',\r\n                value: 7,\r\n                itemStyle: {\r\n                    color: color[3]\r\n                }\r\n            }, {\r\n                name: '税收征管',\r\n                value: 6,\r\n                itemStyle: {\r\n                    color: color[2]\r\n                }\r\n            }, {\r\n                name: '信用报告',\r\n                value: 7,\r\n                itemStyle: {\r\n                    color: color[1]\r\n                }\r\n            }, {\r\n                name: '政府招投标',\r\n                value: 6,\r\n                itemStyle: {\r\n                    color: color[0]\r\n                }\r\n            }]\r\n        }, {\r\n            name: '登记日期',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            },\r\n        }, {\r\n            name: '法定代表人',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '行业类型',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[3]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '税收数据',\r\n        value: 4,\r\n        itemStyle: {\r\n            color: color[1]\r\n        },\r\n        children: [{\r\n            name: '所属日期起',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            }\r\n        }, {\r\n            name: '所属日期止',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '应税销售收入',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '入库税额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[3]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '欠税信息',\r\n        value: 3,\r\n        itemStyle: {\r\n            color: color[2]\r\n        },\r\n        children: [{\r\n            name: '增值税欠税金额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            }\r\n        }, {\r\n            name: '消费税欠税金额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '所得税欠税金额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '行政处罚信息',\r\n        value: 4,\r\n        itemStyle: {\r\n            color: color[3]\r\n        },\r\n        children: [{\r\n            name: '案件名称',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            }\r\n        }, {\r\n            name: '行政处罚事由',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '处罚金额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '处罚机关',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[3]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '重大违法信息',\r\n        value: 3,\r\n        itemStyle: {\r\n            color: color[4]\r\n        },\r\n        children: [{\r\n            name: '案件性质',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            }\r\n        }, {\r\n            name: '主要违法事实',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '处罚情况',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '增值税申报信息',\r\n        value: 3,\r\n        itemStyle: {\r\n            color: color[0]\r\n        },\r\n        children: [{\r\n            name: '申报月份',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '按适用税率\\n计税销售额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '应补退税额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '缴税情况',\r\n        value: 4,\r\n        itemStyle: {\r\n            color: color[1]\r\n        },\r\n        children: [{\r\n            name: '属期起止',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            },\r\n        }, {\r\n            name: '税款种类',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '实缴时间',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '实缴税额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[3]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '税务信用评级',\r\n        value: 3,\r\n        itemStyle: {\r\n            color: color[2]\r\n        },\r\n        children: [{\r\n            name: '信用级别',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            }\r\n        }, {\r\n            name: '信用评级年度',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '信用评分分数',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }]\r\n    }, {\r\n        name: '所得税年\\n度汇算清缴',\r\n        value: 4,\r\n        itemStyle: {\r\n            color: color[3]\r\n        },\r\n        children: [{\r\n            name: '年度',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[0]\r\n            },\r\n        }, {\r\n            name: '汇算清缴日期',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[1]\r\n            }\r\n        }, {\r\n            name: '营业收入',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[2]\r\n            }\r\n        }, {\r\n            name: '应纳所得税额',\r\n            value: 1,\r\n            itemStyle: {\r\n                color: color[3]\r\n            }\r\n        }]\r\n    }]\r\n}]\r\n// '#007ec7','#09b4dc'//'#25d7fa', '#066db7'\r\nvar dc = data[0].children,\r\n    color1 = gradient('#007ec7','#09b4dc', dc.length);\r\nfor (var i = 0; i < dc.length; i++) {\r\n    dc[i].itemStyle.color = color1[i];\r\n    var dcc = dc[i].children,\r\n        color2 = gradient('#007ec7','#09b4dc', dcc.length);\r\n    for (var j = 0; j < dcc.length; j++) {\r\n        dcc[j].itemStyle.color = color2[j];\r\n        if (dcc[j].children) {\r\n            var dccc = dcc[j].children,\r\n                color3 = gradient('#007ec7','#09b4dc', dccc.length);\r\n            for (var k = 0; k < dccc.length; k++) {\r\n                dccc[k].itemStyle.color = color3[k];\r\n            }\r\n        }\r\n    }\r\n}\r\noption = {\r\n    backgroundColor: '#01052a',\r\n    toolbox: {\r\n        show: true,\r\n        feature: {\r\n            dataView: {\r\n                show: true,\r\n                readOnly: false\r\n            },\r\n            magicType: {\r\n                show: true,\r\n                type: ['line', 'bar']\r\n            },\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    color: color,\r\n    series: {\r\n        type: 'sunburst',\r\n        highlightPolicy: 'ancestor',\r\n        data: data,\r\n        radius: [0, '90%'],\r\n        sort: null,\r\n        label: {\r\n            rotate: 'radial',\r\n            //formatter: '{b}: {@score}xxxx'\r\n        },\r\n        levels: [{}, {\r\n            r0: '0%',\r\n            r: '12%',\r\n            itemStyle: {\r\n                align: 'right',\r\n                borderWidth: 0,\r\n            },\r\n            label: {\r\n                // rotate: 0\r\n                rotate: 'tangential',\r\n            }\r\n        }, {\r\n            r0: '21%',\r\n            r: '42%',\r\n            itemStyle: {\r\n                align: 'center',\r\n                borderWidth: 0\r\n            },\r\n            label: {\r\n                align: 'center'\r\n            }\r\n        }, {\r\n            r0: '45%',\r\n            r: '70%',\r\n            itemStyle: {\r\n                borderWidth: 0\r\n            }\r\n        }, {\r\n            r0: '72%',\r\n            r: '88%',\r\n            label: {\r\n                // position: 'outside',\r\n                padding: 3,\r\n                silent: false,\r\n                textBorderWidth: 0\r\n            },\r\n            itemStyle: {\r\n                borderWidth: 0\r\n            }\r\n        }]\r\n    }\r\n}","html":"","externalScripts":"","updaterUID":"bd-2652911079","theme":"","layout":"","viewCount":240,"userName":"囧***哥","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkmrKfSxQ.png?v=1620634697768","isCustomThumbnail":0,"builtinTags":["category-work","series-sunburst","toolbox"],"customTags":[],"updaterUserName":"囧***哥"}}