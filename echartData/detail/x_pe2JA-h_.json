{"status":0,"data":{"cid":"x_pe2JA-h_","authorUid":"obd-oF_xBEUaU3oyzHh0hg5ntWKmhb36Y5U","authorUserName":"a***u","title":"等比例缩放散点图","description":"等比例缩放散点图","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-14T08:21:55.000Z","lastUpdateTime":"2020-12-14T08:21:55.000Z","auth":2,"uid":"obd-oF_xBEUaU3oyzHh0hg5ntWKmhb36Y5U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-14T08:21:55.000Z","code":"var dataBJ = [\r\n    [1,55,\"G12345\",\"未施工\"],\r\n    [2,25,\"G12346\",\"未施工\"],\r\n    [3,56,\"G12347\",\"未施工\"],\r\n    [4,33,\"G12345\",\"未施工\"],\r\n    [5,42,\"G1234745\",\"未施工\"],\r\n    [6,82,\"G123452345\",\"未施工\"],\r\n    [7,74,\"G129345\",\"未施工\"],\r\n    [8,78,\"G012345\",\"未施工\"],\r\n    [9,267,\"G128345\",\"未施工\"],\r\n    [10,185,\"G1299345\",\"未施工\"],\r\n    [11,39,\"G123545\",\"未施工\"],\r\n    [12,41,\"G126345\",\"未施工\"],\r\n    [13,64,\"G126345\",\"未施工\"],\r\n    [14,108,\"G1212345\",\"未施工\"],\r\n    [15,108,\"G1221345\",\"未施工\"],\r\n    [16,33,\"G1231145\",\"未施工\"],\r\n    [17,94,\"G123245\",\"未施工\"],\r\n    [18,186,\"G1232345\",\"未施工\"],\r\n    [19,57,\"G1233245\",\"未施工\"],\r\n    [20,22,\"G1245345\",\"未施工\"],\r\n    [21,39,\"G12213345\",\"未施工\"],\r\n    [22,94,\"G12123345\",\"未施工\"],\r\n    [23,99,\"G12123345\",\"未施工\"],\r\n    [24,31,\"G1278345\",\"未施工\"],\r\n    [25,42,\"G1298345\",\"未施工\"],\r\n    [26,154,\"G1270345\",\"未施工\"],\r\n    [27,234,\"G1238045\",\"未施工\"],\r\n    [28,160,\"G12307845\",\"未施工\"],\r\n    [29,134,\"G1052345\",\"未施工\"],\r\n    [30,52,\"G123057045\",\"未施工\"],\r\n    [31,46,\"G1233445\",\"未施工\"]\r\n];\r\n\r\nvar dataGZ = [\r\n    [1,26,\"G001\",\"施工中\"],\r\n    [2,85,\"G001\",\"施工中\"],\r\n    [3,78,\"G001\",\"施工中\"],\r\n    [4,21,\"G001\",\"施工中\"],\r\n    [5,41,\"G001\",\"施工中\"],\r\n    [6,56,\"G001\",\"施工中\"],\r\n    [7,64,\"G001\",\"施工中\"],\r\n    [8,55,\"G001\",\"施工中\"],\r\n    [9,76,\"G001\",\"施工中\"],\r\n    [10,91,\"G001\",\"施工中\"],\r\n    [11,84,\"G001\",\"施工中\"],\r\n    [12,64,\"G001\",\"施工中\"],\r\n    [13,70,\"G001\",\"施工中\"],\r\n    [14,77,\"G001\",\"施工中\"],\r\n    [15,109,\"G001\",\"施工中\"],\r\n    [16,73,\"G001\",\"施工中\"],\r\n    [17,54,\"G001\",\"施工中\"],\r\n    [18,51,\"G001\",\"施工中\"],\r\n    [19,91,\"G001\",\"施工中\"],\r\n    [20,73,\"G001\",\"施工中\"],\r\n    [21,73,\"G001\",\"施工中\"],\r\n    [22,84,\"G001\",\"施工中\"],\r\n    [23,93,\"G001\",\"施工中\"],\r\n    [24,99,\"G001\",\"施工中\"],\r\n    [25,146,\"G001\",\"施工中\"],\r\n    [26,113,\"G001\",\"施工中\"],\r\n    [27,81,\"G001\",\"施工中\"],\r\n    [28,56,\"G001\",\"施工中\"],\r\n    [29,82,\"G001\",\"施工中\"],\r\n    [30,106,\"G001\",\"施工中\"],\r\n    [31,118,\"G001\",\"施工中\"]\r\n];\r\n\r\nvar dataSH = [\r\n    [1,91,\"G0012\",\"施工完成\"],\r\n    [2,65,\"G0012\",\"施工完成\"],\r\n    [3,83,\"G0012\",\"施工完成\"],\r\n    [4,109,\"G0012\",\"施工完成\"],\r\n    [5,106,\"G0012\",\"施工完成\"],\r\n    [6,109,\"G0012\",\"施工完成\"],\r\n    [7,106,\"G0012\",\"施工完成\"],\r\n    [8,89,\"G0012\",\"施工完成\"],\r\n    [9,53,\"G0012\",\"施工完成\"],\r\n    [10,80,\"G0012\",\"施工完成\"],\r\n    [11,117,\"G0012\",\"施工完成\"],\r\n    [12,99,\"G0012\",\"施工完成\"],\r\n    [13,95,\"G0012\",\"施工完成\"],\r\n    [14,116,\"G0012\",\"施工完成\"],\r\n    [15,108,\"G0012\",\"施工完成\"],\r\n    [16,134,\"G0012\",\"施工完成\"],\r\n    [17,79,\"G0012\",\"施工完成\"],\r\n    [18,71,\"G0012\",\"施工完成\"],\r\n    [19,97,\"G0012\",\"施工完成\"],\r\n    [20,84,\"G0012\",\"施工完成\"],\r\n    [21,87,\"G0012\",\"施工完成\"],\r\n    [22,104,\"G0012\",\"施工完成\"],\r\n    [23,87,\"G0012\",\"施工完成\"],\r\n    [24,168,\"G0012\",\"施工完成\"],\r\n    [25,65,\"G0012\",\"施工完成\"],\r\n    [27,39,\"G0012\",\"施工完成\"],\r\n    [28,93,\"G0012\",\"施工完成\"],\r\n    [29,188,\"G0012\",\"施工完成\"],\r\n    [30,174,\"G0012\",\"施工完成\"],\r\n    [31,187,\"G0012\",\"施工完成\"]\r\n];\r\n\r\nvar schema = [\r\n    {name: 'X', index: 0, text: 'X坐标'},\r\n    {name: 'Y', index: 1, text: 'Y坐标'},\r\n    {name: 'PM25', index: 2, text: 'PM2.5'},\r\n    {name: 'PM10', index: 3, text: 'PM10'},\r\n    {name: 'CO', index: 4, text: '一氧化碳（CO）'},\r\n    {name: 'NO2', index: 5, text: '二氧化氮（NO2）'},\r\n    {name: 'SO2', index: 6, text: '二氧化硫（SO2）'}\r\n];\r\n\r\n\r\nvar itemStyle = {\r\n    opacity: 0.8,\r\n    shadowBlur: 10,\r\n    shadowOffsetX: 0,\r\n    shadowOffsetY: 0,\r\n    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n};\r\n\r\noption = {\r\n    backgroundColor: '#000',\r\n    color: [\r\n        '#203A54', '#35B0FC', '#3AFA72'\r\n    ],\r\n    legend: {\r\n        orient: 'vertical',\r\n        x:'50',      //可设定图例在左、右、居中\r\n        y:'78%',     //可设定图例在上、下、居中\r\n        padding:[25,25,25,25],   //可设定图例[距上方距离，距右方距离，距下方距离，距左方距离]\r\n        data: ['未施工', '施工中', '施工完成'],\r\n        itemWidth: 15,  // 设置宽度\r\n        itemHeight: 15, // 设置高度\r\n        backgroundColor:\"#102c49e6\",\r\n        itemGap: 20, \r\n        // formatter: function (name) {\r\n        //     return 'Legend ' + name;\r\n        //     },\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 16\r\n        }\r\n    },\r\n    grid: {\r\n        left: '0%',\r\n        right: 150,\r\n        top: '5%',\r\n        bottom: '5%'\r\n    },\r\n    dataZoom: [\r\n           {\r\n            id: 'dataZoomX',\r\n            type: 'inside',\r\n            xAxisIndex: [0],\r\n            start: 0,                              //数据窗口范围的起始百分比,表示30%\r\n            end: 100,\r\n            filterMode: 'empty',\r\n            zoomLock: false\r\n        },\r\n        {\r\n            id: 'dataZoomY',\r\n            type: 'inside',\r\n            start: 0,                              //数据窗口范围的起始百分比,表示30%\r\n            end: 100,\r\n            yAxisIndex: [0],\r\n            filterMode: 'empty',\r\n            zoomLock: false\r\n        }\r\n        ],\r\n    // tooltip: {\r\n    //     padding: 10,\r\n    //     backgroundColor: '#222',\r\n    //     borderColor: '#777',\r\n    //     borderWidth: 1,\r\n    //     formatter: function (obj) {\r\n    //         var value = obj.value;\r\n    //         return '<div style=\"border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px\">'\r\n    //             + obj.seriesName + ' ' + value[2] \r\n    //             + '</div>'\r\n    //             + schema[0].text + '：' + value[0] + '<br>'\r\n    //             + schema[1].text + '：' + value[1] + '<br>';\r\n    //     }\r\n    // },\r\n    xAxis: {\r\n        type: 'value',\r\n        name: '日期',\r\n        show:false,\r\n        nameGap: 16,\r\n        nameTextStyle: {\r\n            color: '#fff',\r\n            fontSize: 14\r\n        },\r\n        max: 31,\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#eee'\r\n            }\r\n        }\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        name: 'AQI指数',\r\n        nameLocation: 'end',\r\n        nameGap: 20,\r\n        show:false,\r\n        nameTextStyle: {\r\n            color: '#fff',\r\n            fontSize: 16\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#eee'\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    \r\n    series: [\r\n        {\r\n            name: '未施工',\r\n            type: 'scatter',\r\n            itemStyle: itemStyle,\r\n            symbolSize: 16,\r\n            label: {\r\n                show: true,\r\n                position:\"top\",\r\n                color:\"#206199\",\r\n                formatter:function(params){ \r\n                    str =  params.data[2]\r\n                    return str\r\n                },\r\n            },\r\n            data: dataBJ\r\n        },\r\n        {\r\n            name: '施工中',\r\n            type: 'scatter',\r\n            itemStyle: itemStyle,\r\n            symbolSize: 16,\r\n            label: {\r\n                show: true,\r\n                position:\"top\",\r\n                color:\"#35B0FC\",\r\n                formatter:function(params){ \r\n                    str =  params.data[2]\r\n                    return str\r\n                },\r\n            },\r\n            data: dataSH\r\n        },\r\n        {\r\n            name: '施工完成',\r\n            type: 'scatter',\r\n            itemStyle: itemStyle,\r\n            symbolSize: 16,\r\n             label: {\r\n                show: true,\r\n                position:\"top\",\r\n                color:\"#3AFA72\",\r\n                formatter:function(params){ \r\n                    str =  params.data[2]\r\n                    return str\r\n                },\r\n            },\r\n            data: dataGZ\r\n        }\r\n    ]\r\n};\r\n\r\nmyChart.on(\"datazoom\", function(params) {\r\n        console.log(params); //里面存有代表滑动条的起始的数字\r\n        // let xAxis = this.myChart.getModel().option.xAxis[0]; //获取axis\r\n        let scaleData = parseInt(\r\n          Math.abs(params.batch[0].start - params.batch[0].end)\r\n        );\r\n        // console.log(xAxis.data); //axis的标号数据\r\n        // console.log(xAxis.rangeStart); //滑动条左端对应在xAxis.data的索引\r\n        // console.log(xAxis.rangeEnd); //滑动条右端对应在xAxis.data的索引\r\n      });","html":"","externalScripts":"","updaterUID":"obd-oF_xBEUaU3oyzHh0hg5ntWKmhb36Y5U","theme":"","layout":"","viewCount":194,"userName":"a***u","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_pe2JA-h_.png?v=1607934115486","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-scatter"],"customTags":["等比例缩放散点图"],"updaterUserName":"a***u"}}