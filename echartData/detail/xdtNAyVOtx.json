{"status":0,"data":{"cid":"xdtNAyVOtx","authorUid":"obd-o0WO2d6nrRlP26gkmpo5mIVnuMLxhFd","authorUserName":"f***r","title":"考勤折线图","description":"考勤","latestVersion":5,"alwaysLatest":0,"createTime":"2021-08-03T14:40:14.000Z","lastUpdateTime":"2021-08-04T16:38:30.000Z","auth":2,"uid":"obd-o0WO2d6nrRlP26gkmpo5mIVnuMLxhFd","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-04T16:38:30.000Z","code":"var data = [\n    { dateStr: '2021-07-05', signInTime: '07:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-06', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-07', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-08', signInTime: '08:27', signOutTime: '16:39' },\n    { dateStr: '2021-07-09', signInTime: '08:07', signOutTime: '20:39' },\n    { dateStr: '2021-07-12', signInTime: '08:18', signOutTime: '20:39' },\n    { dateStr: '2021-07-13', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-14', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-15', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-16', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-19', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-20', signInTime: '08:37', signOutTime: '20:39' },\n    { dateStr: '2021-07-21', signInTime: '08:39', signOutTime: '20:39' },\n    { dateStr: '2021-07-22', signInTime: '07:22', signOutTime: '20:39' },\n    { dateStr: '2021-07-23', signInTime: '08:00', signOutTime: '19:37' },\n    { dateStr: '2021-07-26', signInTime: '08:08', signOutTime: '23:39' },\n    { dateStr: '2021-07-27', signInTime: '08:39', signOutTime: '20:39' },\n    { dateStr: '2021-07-28', signInTime: '08:39', signOutTime: '20:39' },\n    { dateStr: '2021-07-29', signInTime: '08:39', signOutTime: '20:39' },\n    { dateStr: '2021-07-30', signInTime: '08:39', signOutTime: '20:39' },\n    { dateStr: '2021-08-02', signInTime: '08:10', signOutTime: '20:39' },\n    { dateStr: '2021-08-03', signInTime: '08:05', signOutTime: '20:39' },\n];\nfunction timeFromat(t) {\n    let arr = t.split(':');\n    return arr[0] * 10 + arr[1] / 6;\n}\nfunction getTwoNumber(num) {\n    if (Math.ceil(num) < 10) {\n        return `0${Math.ceil(num)}`;\n    }\n    return `${Math.ceil(num)}`;\n}\nfunction toString(num) {\n    let first = Math.floor(num / 10);\n    let second = (num - first * 10) * 6;\n    return `${first}:${getTwoNumber(second)}`;\n}\nlet x = data.map((item) => (item.dateStr ? item.dateStr : null));\nlet y1 = data.map((item) => (item.signInTime ? timeFromat(item.signInTime) : null));\nlet y2 = data.map((item) => (item.signOutTime ? timeFromat(item.signOutTime) : null));\noption = {\n    title: {\n        text: '考勤折线图',\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (params) {\n            return `${params[0].name}<br/>\n            <div style=\"display:inline-block;width:8px;height:8px;background-color:${\n                params[0].color\n            };border-radius:5px;margin-right:4px;\"></div>上班打卡:\n            ${data[params[0].dataIndex].signInTime ? data[params[0].dataIndex].signInTime : '-'}<br/>\n            <div style=\"display:inline-block;width:8px;height:8px;background-color:${\n                params[1].color\n            };border-radius:5px;margin-right:4px;\"></div>下班打卡:\n            ${data[params[0].dataIndex].signOutTime ? data[params[0].dataIndex].signOutTime : '-'}`;\n        },\n    },\n    color: ['#fb0202', '#14e253', '#fac858', '#ee6666'],\n    legend: {\n        data: ['上班打卡', '下班打卡'],\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true,\n    },\n    toolbox: {\n        feature: {\n            saveAsImage: {},\n        },\n    },\n    xAxis: {\n        show: true,\n        type: 'category',\n        axisTick: {\n            show: false,\n        },\n        axisLine: { show: false },\n        boundaryGap: false,\n        data: x,\n    },\n    yAxis: {\n        type: 'value',\n        max: 240,\n        interval: 30,\n        inverse: true,\n        axisLabel: {\n            formatter: function (value, index) {\n                return toString(value);\n            },\n        },\n    },\n    series: [\n        {\n            name: '上班打卡',\n            type: 'line',\n            stack: '上班打卡',\n            data: y1,\n        },\n        {\n            name: '下班打卡',\n            type: 'line',\n            stack: '下班打卡',\n            data: y2,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o0WO2d6nrRlP26gkmpo5mIVnuMLxhFd","theme":"","layout":"","viewCount":0,"userName":"f***r","commentCount":1,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdtNAyVOtx.png?v=1628095111114","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","toolbox","tooltip"],"customTags":["折线图","考勤"],"updaterUserName":"f***r"}}