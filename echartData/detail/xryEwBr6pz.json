{"status":0,"data":{"cid":"xryEwBr6pz","authorUid":"bd-3004182960","authorUserName":"lihbcn","title":"重点科目列支情况","description":"多x轴和y轴，堆叠柱状图","latestVersion":1,"alwaysLatest":1,"createTime":"2018-05-07T03:17:48.000Z","lastUpdateTime":"2018-05-07T03:17:48.000Z","auth":2,"uid":"bd-3004182960","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-07T03:17:48.000Z","code":"var xData = ['业务招待费', '业务宣传费', '办公费', '会议费']; //x轴名称\nvar xeData = [5000, 3000, 1000, 500, ]; //限额数据\nvar zcData = [2000, 450, 100, 0, ]; //累计支出\nvar syData = [3000, 2550, 900, 500]; //剩余额度\nvar perxeData = []; //限额总数\nvar perzcData = []; //支出占用百分比\nvar persyData = []; //剩余占用百分比\nfor (var i = 0; i < xeData.length; i++) {\n    perxeData[i] = 100; //限额总数\n    perzcData[i] = zcData[i] / xeData[i] * 100; //累计支出÷科目限额\n    persyData[i] = syData[i] / xeData[i] * 100; //剩余支出÷科目限额\n}\n//特别说明：series顺序不可随意调整\noption = {\n    title: {\n        text: '重点科目列支情况',\n        x: 'center'\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n\n        formatter: '{b}<br />{a0}: {c0}({c3}%)<br />{a2}: {c5}({c2}%)<br />{a1}: {c4}({c1}%)',\n    },\n    legend: {\n        bottom: 0,\n        selectedMode: false,\n        data: ['科目限额', '累计支出', ]\n    },\n    yAxis: [{\n            type: 'value',\n            axisLabel: {\n                formatter: function(value, index) {\n                    return value + '%'; //保留小数位数\n                }\n            }\n        },\n        {\n            show: true,\n            type: 'value',\n        }\n    ],\n    xAxis: [{\n            type: 'category',\n            data: xData\n        },\n        {\n            type: 'category',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false\n            },\n            splitArea: {\n                show: false\n            },\n            splitLine: {\n                show: false\n            },\n\n            data: xData\n        },\n    ],\n    series: [{\n        name: '科目限额',\n        type: 'bar',\n        barGap: '-100%',\n        xAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                color: 'rgba(128, 128, 128, 0.1)',\n                borderWidth: 2,\n                borderType: 'dotted',\n                borderColor: 'rgba(128, 128, 128, 0.1)'\n\n            }\n        },\n        data: perxeData\n    }, {\n        name: '科目限额',\n        type: 'bar',\n        yAxisIndex: 1,\n        itemStyle: {\n            label: {\n                show: true,\n                position: 'top',\n                color: '#fff',\n            },\n            normal: {\n                color: 'rgba(128, 128, 128, 0)',\n                borderWidth: 2,\n                borderType: 'dotted',\n                borderColor: 'rgba(128, 128, 128, 0)'\n            }\n        },\n        data: xeData,\n    }, {\n        name: '累计支出',\n        type: 'bar',\n        stack: '堆叠',\n        silent: true,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    position: 'left',\n                    formatter: function(p) {\n                        return p.value + '%';\n                    },\n                    color: '#c23531'\n                },\n            }\n        },\n        barGap: '-100%',\n        data: perzcData,\n    }, {\n        name: '累计支出',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    position: 'inside',\n                    color: '#000'\n                },\n            }\n        },\n        data: zcData,\n    }, {\n        name: '剩余额度',\n        type: 'bar',\n        stack: '堆叠',\n        silent: true,\n        barGap: '-100%',\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    position: 'inside',\n                    formatter: function(p) {\n                        return p.value + '%';\n                    },\n                    color: '#000'\n                },\n                color: 'rgba(128, 128, 128, 0.1)',\n                borderWidth: 2,\n                borderType: 'dotted',\n                borderColor: '#000'\n\n            }\n        },\n        data: persyData,\n    }, {\n        name: '剩余额度',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    position: 'left',\n                },\n                color: 'rgba(128, 128, 128, 0)',\n                borderWidth: 0,\n                borderColor: '#000'\n\n            }\n        },\n        data: syData,\n    }, ]\n}","html":"","externalScripts":"","updaterUID":"bd-3004182960","theme":"","layout":"","viewCount":75,"userName":"lihbcn","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryEwBr6pz.png?v=1525663068440","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"lihbcn"}}