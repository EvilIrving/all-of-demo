{"status":0,"data":{"cid":"xf6DhIhu-b","authorUid":"bd-909298879","authorUserName":"w***u","title":"时间坐标轴","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-11-02T03:29:33.000Z","lastUpdateTime":"2018-11-02T03:29:33.000Z","auth":2,"uid":"bd-909298879","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-02T06:11:02.000Z","code":"function randomData() {\n    now = new Date(+now + oneDay);\n    value = value + Math.random() * 21 - 10;\n    return {\n        name: now.toString(),\n        value: [\n            [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),\n            Math.round(value)\n        ]\n    }\n}\n\nvar data = [];\nvar now = +new Date(1997, 9, 3);\nvar oneDay = 24 * 3600 * 1000;\nvar value = Math.random() * 1000;\nfor (var i = 0; i < 1000; i++) {\n    data.push(randomData());\n}\n\nconsole.log(data);\n\noption = {\n    title: {\n        text: '动态数据 + 时间坐标轴'\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (params) {\n            params = params[0];\n            var date = new Date(params.name);\n            return date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + ' : ' + params.value[1];\n        },\n        axisPointer: {\n            animation: false\n        }\n    },\n    xAxis: {\n        type: 'time',\n        splitLine: {\n            show: false\n        },\n        axisLabel:{\n            formatter: function (value, index) {\n                // 格式化成月/日，只在第一个刻度显示年份\n                var date = new Date(value);\n                var texts = [(date.getMonth() + 1), date.getDate()];\n                // if (index === 0) {\n                //     texts.unshift(date.getYear());\n                // }\n                return texts.join('/');\n            }\n        }\n    },\n    yAxis: {\n        type: 'value',\n        boundaryGap: [0, '100%'],\n        splitLine: {\n            show: false\n        }\n    },\n    series: [{\n        name: '模拟数据',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        data: data\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-909298879","theme":"","layout":"","viewCount":169,"userName":"w***u","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xf6DhIhu-b.png?v=1541139062514","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title","tooltip"],"customTags":[],"updaterUserName":"w***u"}}