{"status":0,"data":{"cid":"xHJTaEB17X","authorUid":"bd-3189720129","authorUserName":"thirtyjin","title":"地域分布","description":"地域分布","latestVersion":2,"alwaysLatest":1,"createTime":"2018-07-08T08:01:09.000Z","lastUpdateTime":"2018-07-08T08:01:09.000Z","auth":2,"uid":"bd-3189720129","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-07-09T03:31:56.000Z","code":"\n    var citydata = [\n        { name: \"北京\", value: 974 },\n        { name: \"天津\", value: 532 },\n        { name: \"上海\", value: 834 },\n        { name: \"重庆\", value: 683 },\n        { name: \"河北\", value: 283 },\n        { name: \"河南\", value: 345 },\n        { name: \"云南\", value: 272 },\n        { name: \"辽宁\", value: 194 },\n        { name: \"黑龙江\", value: 342 },\n        { name: \"湖南\", value: 389 },\n        { name: \"安徽\", value: 267 },\n        { name: \"山东\", value: 675 },\n        { name: \"新疆\", value: 174 },\n        { name: \"江苏\", value: 574 },\n        { name: \"浙江\", value: 278 },\n        { name: \"江西\", value: 528 },\n        { name: \"湖北\", value: 144 },\n        { name: \"广西\", value: 448 },\n        { name: \"甘肃\", value: 197 },\n        { name: \"山西\", value: 203 },\n        { name: \"内蒙古\", value: 373 },\n        { name: \"陕西\", value: 563 },\n        { name: \"吉林\", value: 147 },\n        { name: \"福建\", value: 112 },\n        { name: \"贵州\", value: 373 },\n        { name: \"广东\", value: 747 },\n        { name: \"青海\", value: 38 },\n        { name: \"西藏\", value: 126 },\n        { name: \"四川\", value: 215 },\n        { name: \"宁夏\", value: 172 },\n        { name: \"海南\", value: 77 },\n        { name: \"台湾\", value: 837 },\n        { name: \"香港\", value: 677 },\n        { name: \"澳门\", value: 43 },\n        { name: \"南海诸岛\", value: 53 }\n    ];\n\n    var yMax = 1000;\n    var dataShadow = [];\n\n    var resultdata0 = [];\n    var titledata = [];\n    var bartop10 = [];\n\n\n    function NumDescSort(a,b){\n        return b.value-a.value;\n    }\n    function NumAsceSort(a,b){\n        return a.value-b.value;\n    }\n\n    // 先进行一次降序排序，找出最大的前十个\n    citydata.sort(NumDescSort);\n\n    for (var i = 0; i < 10; i++) {\n          var top10 = {\n              name: citydata[i].name,\n              value: citydata[i].value\n          };\n          bartop10.push(top10);\n          dataShadow.push(yMax);\n    }\n\n    bartop10.sort(NumAsceSort);\n    for (var i = 0; i < bartop10.length; i++) {\n          titledata.push(bartop10[i].name);\n    }\n\n    // console.log(citydata);\n    // console.log(bartop10);\n    // console.log(titledata);\n\n    var option = {\n        title: [\n          {\n            show: true,\n            text: '地域分布',\n          },\n          {\n            show: true,\n            text: 'TOP 10 排行榜',\n            right:'40',\n            textStyle: {\n                color: '#666666',\n                fontSize: 14\n            }\n          }\n        ],\n        tooltip:{\n              trigger: \"item\"\n        },\n        legend: {\n            show: false\n        },\n        grid: {\n          // 仅仅控制条形图的位置\n            show: true,\n            containLabel: false,\n            right: 40,\n            top: 50,\n            bottom: 30,\n            width: '30%'\n        },\n        visualMap: {\n            type: 'continuous',\n            min: 0,\n            max: 1000,\n            text:['多','少'],\n            seriesIndex: [0,2],\n            dimension:0,\n            realtime: false,\n            left: 0,\n            itemWidth: 18,\n            itemHeight: 100,\n            calculable : true,\n            inRange: {\n                color: ['rgba(159,205,253,0.50)','#60ACFC'],\n                symbolSize: [100, 100]\n            },\n            outOfRange: {\n                color: ['#eeeeee'],\n                symbolSize: [100, 100]\n            },\n        },\n        toolbox: {\n            show: false\n        },\n\n        xAxis: [\n            {\n                type: \"value\",\n                position: 'top',\n                inside: false,\n                axisLabel: {\n                    show: false\n                },\n                splitLine: {\n                    show: false\n                },\n                margin: 10\n            }\n        ],\n        yAxis: [\n            {\n                type: \"category\",\n                boundaryGap: true,\n                axisLine: {\n                    show: false\n                },\n                axisLabel: {\n                    align: \"right\",\n                    margin: 10,\n                    showMaxLabel: true,\n                },\n                data: titledata\n            }\n        ],\n\n        series: [\n            {\n                name: \"人数\",\n                type: \"map\",\n                mapType: \"china\",\n                left: '100',\n                width: '40%',\n                roam: 'move',\n                mapValueCalculation: \"sum\",\n                zoom:1,\n                selectedMode: false,\n                showLegendSymbol: false,\n                label:{\n                    normal:{\n                        textStyle:{\n                            color: '#666'\n                        }\n                    },\n                    emphasis:{\n                        textStyle:{\n                            color: '#234EA5'\n                        }\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        areaColor: '#EEEEEE',\n                        borderColor: '#FFFFFF'\n                    },\n                    emphasis: {\n                        areaColor: '#E5F39B'\n                    }\n                },\n                data: citydata\n            },\n            {\n                name: \"背景\",\n                type: \"bar\",\n                roam: false,\n                visualMap: false,\n                itemStyle: {\n                  color: \"#eeeeee\",\n                  opacity: 0.5\n                },\n                label: {\n                  show: false\n                },\n                emphasis: {\n                  itemStyle: {\n                    color: \"#eeeeee\",\n                    opacity: 0.5\n                  },\n                  label: {\n                    show: false\n                  },\n                },\n                silent: true,\n                barWidth: 18,\n                barGap:'-100%',\n                data: dataShadow,\n                animation: false\n            },\n            {\n                name: \"人数\",\n                type: \"bar\",\n                roam: false,\n                visualMap: false,\n                // itemStyle: {\n                //   color: \"#60ACFC\"\n                // },\n                barWidth: 18,\n                label: {\n                    normal: {\n                        show: true,\n                        fontSize: 12,\n                        position: 'insideLeft'\n                    },\n                    emphasis: {\n                        show: true\n                    }\n                },\n                data: bartop10\n            }\n\n        ]\n    };","html":"","externalScripts":"http://thirtyjin.com/dux_charts/assets/js/charts_common.js,/dep/echarts/map/js/china.js","updaterUID":"bd-3189720129","theme":"","layout":"","viewCount":4596,"userName":"thirtyjin","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJTaEB17X.png?v=1531107116285","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-map","title","toolbox","tooltip","visualMap"],"customTags":["duxcharts","度量衡"],"updaterUserName":"thirtyjin"}}