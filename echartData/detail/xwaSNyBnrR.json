{"status":0,"data":{"cid":"xwaSNyBnrR","authorUid":"bd-648161531","authorUserName":"天***道","title":"嵌套饼图 外层圆圈","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2020-04-16T10:39:21.000Z","lastUpdateTime":"2020-04-17T10:31:47.000Z","auth":2,"uid":"bd-648161531","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-17T05:38:25.000Z","code":"let echartData = {\n    inner: [\n        {\n            value: 30,\n            unit: '件',\n            name: '第一检查部'\n        },\n        {\n            value: 10,\n            unit: '件',\n            name: '第二检查部'\n        },\n        {\n            value: 15,\n            unit: '件',\n            name: '第三检查部'\n        },\n        {\n            value: 16,\n            unit: '件',\n            name: '第四检查部'\n        },\n        {\n            value: 15,\n            unit: '件',\n            name: '第五检查部'\n        }\n    ],\n    outer: [\n        {\n            value: 10,\n            unit: '件',\n            name: '第一检查部'\n        },\n        {\n            value: 3,\n            unit: '件',\n            name: '第二检查部'\n        },\n        {\n            value: 4,\n            unit: '件',\n            name: '第三检查部'\n        },\n        {\n            value: 4,\n            unit: '件',\n            name: '第四检查部'\n        },\n        {\n            value: 3,\n            unit: '件',\n            name: '第五检查部'\n        }\n    ]\n}\n\n// 获取图例数据\nvar arrName = getArrayValue(echartData.outer , \"name\");\n\nfunction getArrayValue(array, key) {\n    var key = key || \"value\";\n    var res = [];\n    if (array) {\n        array.forEach(function(t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n}\n\n\noption = {\n     title: [{\n        text: '内环：案数\\n外环：件数',\n        top: 'center',\n        left: '33.5%',\n        textStyle: {\n            fontSize: 22,\n            color:'#2e8fe6',\n            lineHeight: 26,\n            fontWeight: 400\n        }\n    }],\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    color: ['#f8cd57', '#5dd286', '#53c9c8', '#489ee5', '#436fce'],\n    legend: {\n        show: true,\n        top: \"center\",\n        left: '80%',\n        data: arrName,\n        itemWidth: 20,\n        itemHeight: 20,\n        padding: [0, 5],\n        itemGap: 25,\n        textStyle: {\n            color: '#b0b9cb'\n        },\n        formatter: function(name) {\n            return name + '    ' + '1.32'\n            // return \"{title|\" + name + \"}\\n{value|\" + (objData[name].value) + \"人}\"\n        },\n    },\n    series: [\n         //最外层圆环\n        {\n            name: '圆圈',\n            type: 'pie',\n            zlevel: 1,\n            silent: true,\n            radius: ['79%', '80%'],\n            center: [\"40%\", \"50%\"],\n            hoverAnimation: false,\n            color: \"#7eb3fb\",\n            label: {\n                normal: {\n                    show: false\n                },\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data:[{\n                value: 1,\n                name: '30天以内未发还金额',\n                 itemStyle:{\n                    normal: {\n                        color: '#99c3fc'\n                    }\n                }\n            }]\n        },\n      \n        {\n            name: '外环',\n            type: 'pie',\n            radius: ['50%', '75%'],\n            center: [\"40%\", \"50%\"],\n            startAngle: '240',\n            data: echartData.outer,\n            labelLine: {\n                normal: {\n                    length: 20,\n                    length2: 140,\n                    lineStyle: {\n                        color: '#e6e6e6'\n                    }\n                }\n            },\n            itemStyle: { // 此配置\n                normal: {\n                    borderWidth: 2,\n                    borderColor: '#fff',\n                },\n                emphasis: {\n                    borderWidth: 0,\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            },\n            label: {\n                normal: {\n                    position: 'inner',\n                    formatter: params => {\n                        return (\n                            params.value + '件'\n                        );\n                    },\n                    fontSize: 22,\n                    color: '#000',\n                    // padding: [0, -130, 25, -130],\n                }\n            },\n        },\n        \n        {\n            name: '内环',\n            type: 'pie',\n            radius: ['25%', '50%'],\n            center: [\"40%\", \"50%\"],\n            itemStyle: { // 此配置\n               normal: {\n                    borderWidth: 2,\n                    borderColor: '#fff',\n                },\n                emphasis: {\n                    borderWidth: 0,\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            },\n            label: {\n                normal: {\n                    position: 'inner',\n                    formatter: params => {\n                        return (\n                            params.value + '件'\n                        );\n                    },\n                    fontSize: 22,\n                    color: '#000',\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            startAngle: '230',\n            data: echartData.inner\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-648161531","theme":"default","layout":"","viewCount":2687,"userName":"天***道","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwaSNyBnrR.png?v=1587101906011","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"天***道"}}