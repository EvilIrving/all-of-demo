{"status":0,"data":{"cid":"xjIUuLd9NO","authorUid":"bd-336760053","authorUserName":"w***g","title":"tooltip轮播","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2020-10-12T09:14:45.000Z","lastUpdateTime":"2020-10-12T09:14:45.000Z","auth":1,"uid":"bd-336760053","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-13T03:27:56.000Z","code":"dataList = [{\n        name: \"南海诸岛\",\n        value: 0\n    },\n    {\n        name: '北京',\n        value: 54\n    },\n    {\n        name: '天津',\n        value: 13\n    },\n    {\n        name: '上海',\n        value: 40\n    },\n    {\n        name: '重庆',\n        value: 75\n    },\n    {\n        name: '河北',\n        value: 13\n    },\n    {\n        name: '河南',\n        value: 83\n    },\n    {\n        name: '云南',\n        value: 11\n    },\n    {\n        name: '辽宁',\n        value: 19\n    },\n    {\n        name: '黑龙江',\n        value: 15\n    },\n    {\n        name: '湖南',\n        value: 69\n    },\n    {\n        name: '安徽',\n        value: 60\n    },\n    {\n        name: '山东',\n        value: 39\n    },\n    {\n        name: '新疆',\n        value: 4\n    },\n    {\n        name: '江苏',\n        value: 31\n    },\n    {\n        name: '浙江',\n        value: 104\n    },\n    {\n        name: '江西',\n        value: 36\n    },\n    {\n        name: '湖北',\n        value: 1052\n    },\n    {\n        name: '广西',\n        value: 33\n    },\n    {\n        name: '甘肃',\n        value: 7\n    },\n    {\n        name: '山西',\n        value: 9\n    },\n    {\n        name: '内蒙古',\n        value: 7\n    },\n    {\n        name: '陕西',\n        value: 22\n    },\n    {\n        name: '吉林',\n        value: 4\n    },\n    {\n        name: '福建',\n        value: 18\n    },\n    {\n        name: '贵州',\n        value: 5\n    },\n    {\n        name: '广东',\n        value: 98\n    },\n    {\n        name: '青海',\n        value: 1\n    },\n    {\n        name: '西藏',\n        value: 0\n    },\n    {\n        name: '四川',\n        value: 44\n    },\n    {\n        name: '宁夏',\n        value: 4\n    },\n    {\n        name: '海南',\n        value: 22\n    },\n    {\n        name: '台湾',\n        value: 3\n    },\n    {\n        name: '香港',\n        value: 5\n    },\n    {\n        name: '澳门',\n        value: 5\n    }\n];\n\noption = {\n    geo: [\n        {\n            map: 'china',\n            selectedMode: 'single',\n            zoom: 1.2,\n            label: {\n                show: true,\n            }\n        }\n    ],\n    visualMap: {\n        show: false,\n        left: 'left',\n        top: 'bottom',\n        min: 0,\n        max: 50,\n        inRange: {\n            color: ['#74add1', '#ffd768', '#ff8c71']\n        }\n    },\n    tooltip: {\n        padding: 0,\n        formatter: function(param) {\n            var content = \"<div style='text-align:left;width:75px;height:53px;background-color: black ;border:2px solid rgba(0, 0, 0, 1);border-radius:6px;'>\"\n            content +=param.seriesName + '<br/>' + param.name + \": \" + param.value\n            content += \"</div>\"\n            return content\n        }\n    },\n    series: [\n        {\n            name: '系列1',\n            type: 'map',\n            geoIndex: 0,\n            data: dataList\n        }\n    ]\n}\n// 轮播函数\nfunction tooltipLoop() {\n    var dataIndex = 0\n    return setInterval(function() {\n        if (dataIndex >= dataList.length) {\n            dataIndex = 0\n        }\n        myChart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0,\n        })\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: dataIndex\n        })\n        myChart.dispatchAction({\n            type: 'showTip',\n            seriesIndex: 0,\n            dataIndex: dataIndex\n        })\n        dataIndex += 1\n    }, 1000)\n}\n\n// 首次开启轮播\nvar loopTaskId = tooltipLoop()\n// 鼠标进入停止轮播\nmyChart.on('mouseover', function(param) {\n    if (loopTaskId) {\n        clearInterval(loopTaskId)\n        loopTaskId = null\n    }\n    myChart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0,\n    })\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: param.dataIndex\n    })\n})\n// 鼠标离开重新开启轮播\nmyChart.on('mouseout', function(param) {\n    if (loopTaskId) {\n        clearInterval(loopTaskId)\n        loopTaskId = null\n    }\n    loopTaskId = tooltipLoop()\n})\n\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-336760053","theme":"","layout":"","viewCount":333,"userName":"w***g","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xjIUuLd9NO.png?v=1602559676381","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","tooltip"],"customTags":[],"updaterUserName":"w***g"}}