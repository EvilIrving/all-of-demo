{"status":0,"data":{"cid":"xmMryKHoD","authorUid":"bd-1159925872","authorUserName":"l***涯","title":"立方体柱状图","description":"","latestVersion":16,"alwaysLatest":1,"createTime":"2019-11-25T07:19:51.000Z","lastUpdateTime":"2019-11-25T07:19:51.000Z","auth":2,"uid":"bd-1159925872","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":16,"parentVersion":15,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-10T08:52:40.000Z","code":"//图形路径\nconst symbols = [\n    \"path://M66.1,35.7L100,49.8v128.7l-33.9-12.7L66.1,35.7z\", //左边\n    \"path://M133.9,35.7L100,49.8v128.7l33.9-12.7V35.7z\", //右边\n    \"path://M66.1,35.7L100,21.5l33.9,14.1L100,49.8L66.1,35.7z\", //菱形\n]\n//源数据\nconst data = [{\n    label: \"治安\",\n    value: 500\n}, {\n    label: \"交通\",\n    value: 400\n}, {\n    label: \"人脸\",\n    value: 500\n}]\n//数据最大值（需要结合源数据取最大值过程不在此编写，可使用lodash）\nconst maxData = 1000;\n//横坐标数值\nconst xAxisData = data.map((e) => {\n    return e.label\n})\n//图形颜色\nconst colorList = [\"#5f55ed59\", \"#f8954359\", \"#47d69d59\"]\n//图形边框颜色\nconst borderColorList = [\"#5f55ed\", \"#f89543\", \"#47d69d\"]\n//图形顶部颜色\nconst colorTopList = [\"#5571f659\", \"#f1d57759\", \"#3fdfc159\"]\n//图形顶部框颜色 \nconst colorBorderTopList = [\"#5f55ed\", \"#fd7d3d\", \"#25cd75\"]\n//图形底部颜色\nconst colorBottomList = [\"#437ffa\", \"#fee266\", \"#35c9c7\"]\n//图形实体顶部颜色\nconst topColorList = [\"#5571f6\", \"#f1d577\", \"#3fdfc1\"]\n//图形柱体颜色\nconst barColorList = [\"#7148ea\", \"#fd7d3d\", \"#25cd75\"]\n//左右框数值\nconst leftAndRightData = []\n//顶部框数值\nconst topBorderData = []\n//底部框数值\nconst bottomBorderData = []\n//顶部实体数值\nconst topData = []\n//图形柱体数值\nconst barData = []\nfor (var i = 0; i < data.length; i++) {\n    leftAndRightData.push({\n        name: data[i].label,\n        value: maxData,\n\n        itemStyle: {\n            color: colorList[i],\n            borderColor: borderColorList[i]\n        }\n    })\n    topBorderData.push({\n        name: data[i].label,\n        value: maxData,\n        symbolPosition: \"end\",\n        itemStyle: {\n            color: colorTopList[i],\n            borderColor: colorBorderTopList[i]\n        }\n    })\n    bottomBorderData.push({\n        name: data[i].label,\n        value: maxData,\n        itemStyle: {\n            color: colorBottomList[i]\n        }\n    })\n    topData.push({\n        name: data[i].label,\n        value: data[i].value,\n        symbolPosition: \"end\",\n        itemStyle: {\n            color: topColorList[i]\n        }\n    })\n    barData.push({\n        name: data[i].label,\n        value: data[i].value,\n        label: {\n            show: true,\n            position: \"bottom\",\n            distance: 60,\n            color: barColorList[i],\n            fontSize: 40\n        },\n        itemStyle: {\n            color: new window.echarts.graphic.LinearGradient(\n                0, 0, 0, 1,\n                [{\n                    offset: 0,\n                    color: barColorList[i]\n                }, {\n                    offset: 1,\n                    color: colorBottomList[i]\n                }]\n            )\n\n        }\n    })\n}\n//顶部框数值\n\n\noption = {\n    backgroundColor: \"#020C33\",\n    xAxis: [{\n        data: xAxisData,\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            margin: 30,\n            fontSize: 20,\n            color: \"#707FB3\"\n        }\n    }],\n    yAxis: {\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    },\n    grid: {\n        show: false,\n        height: 200\n    },\n    series: [{\n            name: \"左边\",\n            type: \"pictorialBar\",\n            symbolSize: [\"50%\", \"100%\"],\n            symbolOffset: [-70, 20],\n            barWidth: 100,\n            silent: true,\n            z: 12,\n            symbol: symbols[0],\n            data: leftAndRightData\n        },\n        {\n            name: \"右边\",\n            type: \"pictorialBar\",\n            symbolSize: [\"50%\", \"100%\"],\n            symbolOffset: [-20, 20],\n            barWidth: 100,\n            silent: true,\n            z: 12,\n            symbol: symbols[1],\n            data: leftAndRightData\n        },\n        // //菱形顶部框\n        {\n            name: \"\",\n            type: \"pictorialBar\",\n            symbolSize: [100, 40],\n            symbolOffset: [0, 0],\n            silent: true,\n            symbol: symbols[2],\n            data: topBorderData\n        },\n\n        // // //菱形底部实体\n        {\n            \"name\": \"\",\n            \"type\": \"pictorialBar\",\n            symbolSize: [101, 38],\n            symbolOffset: [0, 20],\n            silent: true,\n            \"z\": 12,\n            symbol: symbols[2],\n            \"data\": bottomBorderData\n        },\n        // // //菱形顶部实体\n        {\n            \"name\": \"\",\n            \"type\": \"pictorialBar\",\n            symbolSize: [99, 45],\n            symbolOffset: [0, -23],\n            \"z\": 16,\n            silent: true,\n            symbol: symbols[2],\n            \"data\": topData,\n             animationDuration: 1000,\n            animationDelay: function (idx) {\n    // 越往后的数据延迟越大\n    return idx * 500;\n}\n        },\n\n        // // //柱形实体\n        {\n            \"type\": \"bar\",\n            \"silent\": true,\n            \"barWidth\": 100,\n            \"barGap\": \"-100%\",\n            z: 13,\n            \"data\": barData,\n            animationDuration: 1000,\n            animationDelay: function (idx) {\n    // 越往后的数据延迟越大\n    return idx * 500;\n}\n        }\n\n\n    ]\n}","html":"","externalScripts":"","updaterUID":"bd-1159925872","theme":"","layout":"","viewCount":2648,"userName":"l***涯","commentCount":2,"starCount":64,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmMryKHoD.png?v=1575967961019","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":["xy"],"updaterUserName":"l***涯"}}