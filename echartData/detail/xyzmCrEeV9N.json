{"status":0,"data":{"cid":"xyzmCrEeV9N","authorUid":"obd-o2tTFxTbU03Zv9r1ID53336yheSPF6d","authorUserName":"187*****097","title":"安徽省各市GDP历年变化","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-11-04T02:40:02.000Z","lastUpdateTime":"2021-12-24T09:23:36.000Z","auth":1,"uid":"obd-o2tTFxTbU03Zv9r1ID53336yheSPF6d","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-24T09:23:36.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1482909768458-HJlU_yWBe.json\";\n\nvar t = 1; //流入流出控制\nvar r = 1; //右侧流入流出文字控制\n\nvar geoCoordMap = {\n    '合肥市': [117.25, 31.83],\n    '滁州市': [118.32, 32.3],\n    '芜湖市': [118.43, 31.35],\n    '阜阳市': [115.38, 32.89],\n    '蚌埠市': [117.39, 32.92],\n    '淮南市': [116.99, 32.63],\n    '马鞍山市': [118.5, 31.71],\n    '安庆市': [117.05, 30.52],\n    '黄山市': [118.33, 29.71],\n    '铜陵市': [117.81, 30.94],\n    '宿州市': [116.98, 33.64],\n    '淮北市': [116.8, 33.9],\n    '六安市': [116.51, 31.75],\n    '池州市': [117.49, 30.66],\n    '宣城市': [118.76, 30.94],\n    '亳州市': [115.78, 33.84],\n};\nvar d1 = {\n    '合肥市': 3600,\n    '芜湖市': 1600,\n    '滁州市': 850,\n    '阜阳市': 850,\n    '安庆市': 1200,\n    '马鞍山市':1090,\n    '蚌埠市': 770,\n    '宿州市': 780,\n    '亳州市': 615,\n    '六安市': 780,\n    '宣城市': 670,\n    '淮南市': 720.15,\n    '淮北市': 560,\n    '铜陵市': 580,\n    '池州市': 360,\n    '黄山市': 370,\n};\n\nvar d2 = {\n    '合肥市': 4164.34,\n    '芜湖市': 1873.63,\n    '滁州市': 970.7,\n    '阜阳市': 962.5,\n    '安庆市': 1359.7,\n    '马鞍山市':1232.0,\n    '蚌埠市': 890.2,\n    '宿州市': 915.0,\n    '亳州市': 715.7,\n    '六安市': 918.2,\n    '宣城市': 757.5,\n    '淮南市': 781.8,\n    '淮北市': 620.5,\n    '铜陵市': 621.3,\n    '池州市': 424.9,\n    '黄山市': 424.9,\n};\n\nvar d3 = {\n    '合肥市': 4672.9,\n    '芜湖市': 2099.53,\n    '滁州市': 1086.1,\n    '阜阳市': 1062.5,\n    '安庆市': 1418.2,\n    '马鞍山市':1293.0,\n    '蚌埠市': 1007.9,\n    '宿州市': 842.8,\n    '亳州市': 791.1,\n    '六安市': 1010.3,\n    '宣城市': 842.8,\n    '淮南市': 819.4,\n    '淮北市': 703.7,\n    '铜陵市': 680.6,\n    '池州市': 462.2,\n    '黄山市': 470.3,\n};\nvar d4 = {\n    '合肥市': 5158,\n    '芜湖市': 2308,\n    '滁州市': 1185,\n    '阜阳市': 1146,\n    '安庆市': 1544,\n    '马鞍山市':1357,\n    '蚌埠市': 1108,\n    '宿州市': 1126,\n    '亳州市': 851,\n    '六安市': 1086,\n    '宣城市': 913,\n    '淮南市': 789,\n    '淮北市':748 ,\n    '铜陵市': 716,\n    '池州市': 504,\n    '黄山市': 507,\n};\n\nvar d5 = {\n    '合肥市': 5660.3,\n    '芜湖市': 2457.3,\n    '滁州市': 1305.7,\n    '阜阳市': 1267.4,\n    '安庆市': 1613.2,\n    '马鞍山市':1365.3,\n    '蚌埠市': 1253.1,\n    '宿州市': 1235.8,\n    '亳州市': 942.6,\n    '六安市': 1143.4,\n    '宣城市': 971.5,\n    '淮南市': 770.6,\n    '淮北市': 760.4,\n    '铜陵市': 721.3,\n    '池州市': 544.7,\n    '黄山市': 530.6,\n};\n\nvar d6 = {\n   '合肥市': 6200,\n    '芜湖市': 2660,\n    '滁州市': 1418,\n    '阜阳市': 1401.9,\n    '安庆市': 1500,\n    '马鞍山市':1440,\n    '蚌埠市': 1385.8,\n    '宿州市': 1320,\n    '亳州市': 1030,\n    '六安市': 1108.1,\n    '宣城市': 1050,\n    '淮南市': 945,\n    '淮北市': 780,\n    '铜陵市': 960,\n    '池州市': 583,\n    '黄山市': 576.8,\n};\n\nvar d7 = {\n    '合肥市': 7213.45,\n    '芜湖市': 3065.52,\n    '滁州市': 1607.7,\n    '阜阳市': 1571.1,\n    '安庆市': 1708.6,\n    '马鞍山市':1738.09,\n    '蚌埠市': 1550.66,\n    '宿州市': 1503.91,\n    '亳州市': 1184.0,\n    '六安市': 1218.7,\n    '宣城市': 1188.6,\n    '淮南市': 1111.5,\n    '淮北市': 929.0,\n    '铜陵市': 1163.9,\n    '池州市': 654.1,\n    '黄山市': 645.7,\n};\nvar d8 = {\n    '合肥市': 7822.9,\n    '芜湖市': 3278.53,\n    '滁州市': 1801.7,\n    '阜阳市': 1759.5,\n    '安庆市': 1900,\n    '马鞍山市':1918.1,\n    '蚌埠市': 1714.7,\n    '宿州市': 1630.22,\n    '亳州市': 1277.19,\n    '六安市': 1288.1,\n    '宣城市': 1317.2,\n    '淮南市': 1133.30,\n    '淮北市': 985.2,\n    '铜陵市': 1222.4,\n    '池州市': 684.9,\n    '黄山市': 677.9,\n};\nvar d9 = {\n    '合肥市':9409.4 ,\n    '芜湖市': 3618.26,\n    '滁州市': 2909.1,\n    '阜阳市': 2705,\n    '安庆市': 2380.5,\n    '马鞍山市':2111,\n    '蚌埠市': 2057.2,\n    '宿州市': 1978.75,\n    '亳州市': 1749,\n    '六安市': 1620.1,\n    '宣城市': 1561.3,\n    '淮南市': 1296.2,\n    '淮北市': 1077.9,\n    '铜陵市': 960.2,\n    '池州市': 831.7,\n    '黄山市': 818,\n};\nvar d10 = {\n    '合肥市': 10045.72 ,\n    '芜湖市': 3753.02 ,\n    '滁州市': 3032.1,\n    '阜阳市': 2805.2,\n    '安庆市': 2467.7,\n    '马鞍山市':2186.9,\n    '蚌埠市': 2082.7,\n    '宿州市': 2045,\n    '亳州市': 1806.01,\n    '六安市': 1669.5,\n    '宣城市': 1607.5,\n    '淮南市': 1337.2,\n    '淮北市': 1119.1,\n    '铜陵市': 1003.7,\n    '池州市': 868.9,\n    '黄山市': 850.4,\n};\n\nvar colors = [\"#1DE9B6\", \"#EEDD78\", \"#FFFF00\", \"#FFDB5C\", \"#37A2DA\", \"#04B9FF\"];\nvar colorIndex = 0;\n$(function() {\n\n    var year = [ \"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\",\"2020\"];\n    var mapData = [\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n    ];\n\n    /*柱子Y名称*/\n    var categoryData = [];\n    var barData = [];\n\n    for (var key in geoCoordMap) {\n        mapData[0].push({\n            \"year\": '2011',\n            \"name\": key,\n            \"value\": d1[key] / 10,\n            \"value1\": d1[key] / 19,\n        });\n        mapData[1].push({\n            \"year\": '2012',\n            \"name\": key,\n            \"value\": d2[key] / 10,\n            \"value1\": d2[key] / 10,\n        });\n        mapData[2].push({\n            \"year\": '2013',\n            \"name\": key,\n            \"value\": d3[key] / 10,\n            \"value1\": d3[key] / 10,\n        });\n        mapData[3].push({\n            \"year\": '2014',\n            \"name\": key,\n            \"value\": d4[key] / 10,\n            \"value1\": d4[key] / 10,\n        });\n        mapData[4].push({\n            \"year\": '2015',\n            \"name\": key,\n            \"value\": d5[key] / 10,\n            \"value1\": d5[key] / 10,\n        });\n        mapData[5].push({\n            \"year\": '2016',\n            \"name\": key,\n            \"value\": d6[key] / 10,\n            \"value1\": d6[key] / 10,\n        });\n        mapData[6].push({\n            \"year\": '2017',\n            \"name\": key,\n            \"value\": d7[key] / 10,\n            \"value1\": d7[key] / 10,\n        });\n        mapData[7].push({\n            \"year\": '2018',\n            \"name\": key,\n            \"value\": d8[key] / 10,\n            \"value1\": d8[key] / 10,\n        });\n        mapData[8].push({\n            \"year\": '2019',\n            \"name\": key,\n            \"value\": d9[key] / 10,\n            \"value1\": d9[key] / 10,\n        });\n        mapData[9].push({\n            \"year\": '2020',\n            \"name\": key,\n            \"value\": d10[key] / 10,\n            \"value1\": d10[key] / 10,\n        });\n\n    }\n\n    for (var i = 0; i < mapData.length; i++) {\n        mapData[i].sort(function sortNumber(a, b) {\n            return a.value - b.value;\n        });\n        barData.push([]);\n        categoryData.push([]);\n        for (var j = 0; j < mapData[i].length; j++) {\n            barData[i].push(mapData[i][j].value1 * 10);\n            categoryData[i].push(mapData[i][j].name);\n        }\n    }\n\n    $.getJSON(uploadedDataURL, function (geoJson) {\n        // echarts.registerMap(nameMap, gdMap);\n        echarts.registerMap('anhui', geoJson);\n        var convertData = function (data) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var geoCoord = geoCoordMap[data[i].name];\n                if (geoCoord) {\n                    res.push({\n                        name: data[i].name,\n                        value: geoCoord.concat(data[i].value),\n                    });\n                }\n            }\n            return res;\n        };\n\n        var convertToLineData = function (data, gps) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                var toCoord = geoCoordMap[dataItem.name];\n                var fromCoord = gps; //郑州\n                //  var toCoord = geoGps[Math.random()*3];\n                if (fromCoord && toCoord) {\n                    if (t == 1) {\n                        res.push([\n                            {\n                                coord: toCoord,\n                            },\n                            {\n                                coord: fromCoord,\n                                value: dataItem.value,\n                            },\n                        ]);\n                    } else {\n                        res.push([\n                            {\n                                coord: fromCoord,\n                                value: dataItem.value,\n                            },\n                            {\n                                coord: toCoord,\n                            },\n                        ]);\n                    }\n                }\n            }\n            if (t === 0) {\n                t = 1;\n            } else {\n                t = 0;\n            }\n            return res;\n        };\n\n        optionXyMap01 = {\n            timeline: {\n                data: year,\n                axisType: 'category',\n                autoPlay: true,\n                playInterval: 1500,\n                left: '10%',\n                right: '10%',\n                bottom: '3%',\n                width: '80%',\n                //  height: null,\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#ddd',\n                        },\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff',\n                        },\n                    },\n                },\n                symbolSize: 10,\n                lineStyle: {\n                    color: '#FFFFFF',\n                },\n                checkpointStyle: {\n                    borderColor: '#FFFFFF',\n                    borderWidth: 2,\n                },\n                controlStyle: {\n                    showNextBtn: true,\n                    showPrevBtn: true,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666',\n                    },\n                    emphasis: {\n                        color: '#FFFFFF',\n                        borderColor: '#aaa',\n                    },\n                },\n            },\n            baseOption: {\n                animation: true,\n                animationDuration: 1000,\n                animationEasing: 'cubicInOut',\n                animationDurationUpdate: 1000,\n                animationEasingUpdate: 'cubicInOut',\n                grid: {\n                    right: '2%',\n                    top: '10%',\n                    bottom: '10%',\n                    width: '18%',\n                },\n                tooltip: {\n                    trigger: 'axis', // hover触发器\n                    axisPointer: {\n                        // 坐标轴指示器，坐标轴触发有效\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n                        shadowStyle: {\n                            color: 'rgba(150,150,150,0.1)', //hover颜色\n                        },\n                    },\n                },\n                visualMap: {\n                    min: 300,\n                    max: 12000,\n                    left: 'left',\n                    top: 'bottom',\n                    text: ['高', '低'],\n                    textStyle: {\n                        color: 'white',\n                    },\n                    calculable: true,\n                    colorLightne: [0.8, 100],\n                    color: ['#c05050', '#e5cf0d', '#5ab1ef'],\n                    dimension: 0,\n                },\n                geo: {\n                    show: true,\n                    map: 'anhui',\n                    roam: true,\n                    zoom: 1,\n                    center: [117.28492, 31.861184],\n                    label: {\n                        emphasis: {\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            borderColor: 'rgba(147, 235, 248, 1)',\n                            borderWidth:1,\n                            areaColor: {\n                                type: 'radial',\n                                x: 0.5,\n                                y: 0.5,\n                                r: 0.8,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: 'rgba(3, 0, 38,9)', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: 'rgba(3, 0, 38,9)', // 100% 处的颜色\n                                    },\n                                ],\n                                globalCoord: false, // 缺省为 false\n                            },\n                            shadowColor: 'rgba(128, 217, 248, 9)',\n                            // shadowColor: 'rgba(255, 255, 255, 1)',\n                            shadowOffsetX: -2,\n                            shadowOffsetY: 2,\n                            shadowBlur: 10,\n                        },\n                        emphasis: {\n                            areaColor: '#FCFFD9',\n                            borderWidth: 0,\n                        },\n                    },\n                },\n            },\n            options: [],\n        };\n\n        for (var n = 0; n < year.length; n++) {\n            var statistic_name = '安徽省各市GDP';\n            optionXyMap01.options.push({\n                backgroundColor: '#555555',\n\n                title: [\n                    {\n                        text: '安徽省各市GDP历年变化(单位：亿元）',\n                        //subtext: '   ',\n                        left: '25%',\n                        top: '1%',\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 25,\n                        },\n                    },\n                    {\n                        id: 'statistic',\n                        text: statistic_name,\n                        left: '75%',\n                        top: '3%',\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 16,\n                        },\n                    },\n                ],\n                xAxis: {\n                    type: 'value',\n                    scale: true,\n                    position: 'top',\n                    min: 0,\n                    boundaryGap: false,\n                    splitLine: {\n                        show: false,\n                    },\n                    axisLine: {\n                        show: false,\n                    },\n                    axisTick: {\n                        show: false,\n                    },\n                    axisLabel: {\n                        margin: 1,\n                        textStyle: {\n                            color: '#aaa',\n                        },\n                    },\n                },\n                yAxis: {\n                    type: 'category',\n                    //  name: 'TOP 20',\n                    nameGap: 16,\n                    axisLine: {\n                        show: true,\n                        lineStyle: {\n                            color: '#ddd',\n                        },\n                    },\n                    axisTick: {\n                        show: false,\n                        lineStyle: {\n                            color: '#ddd',\n                        },\n                    },\n                    axisLabel: {\n                        interval: 0,\n                        textStyle: {\n                            color: '#ddd',\n                        },\n                    },\n                    data: categoryData[n],\n                },\n\n                series: [{\n                        //文字和标志\n                        name: 'light',\n                        type: 'scatter',\n                        coordinateSystem: 'geo',\n                        data: convertData(mapData[n]),\n                        symbolSize: function (val) {\n                            return val[2] / 20;\n                        },\n                        label: {\n                            normal: {\n                                formatter: '{b}',\n                                position: 'right',\n                                show: true,\n                            },\n                            emphasis: {\n                                show: true,\n                            },\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n],\n                            },\n                        },\n                    },\n                    //地图?\n                    {\n                        type: 'map',\n                        map: 'anhui',\n                        geoIndex: 0,\n                        //aspectScale: 0.75, //长宽比\n                        showLegendSymbol: false, // 存在legend时显示\n                        label: {\n                            normal: {\n                                show: false,\n                            },\n                            emphasis: {\n                                show: false,\n                                textStyle: {\n                                    color: '#fff',\n                                },\n                            },\n                        },\n                        roam: true,\n                        itemStyle: {\n                            normal: {\n                                areaColor: '#031525',\n                                borderColor: '#FFFFFF',\n                            },\n                            emphasis: {\n                                areaColor: '#2B91B7',\n                            },\n                        },\n                        animation: false,\n                        data: mapData,\n                    },\n                    //地图点的动画效果\n                    {\n                        //  name: 'Top 5',\n                        type: 'effectScatter',\n                        coordinateSystem: 'geo',\n                        data: convertData(\n                            mapData[n]\n                                .sort(function (a, b) {\n                                    return b.value - a.value;\n                                })\n                                .slice(0, 20)\n                        ),\n                        symbolSize: function (val) {\n                            return val[2] /20;\n                        },\n                        showEffectOn: 'render',\n                        rippleEffect: {\n                            brushType: 'stroke',\n                        },\n                        hoverAnimation: true,\n                        label: {\n                            normal: {\n                                formatter: '{b}',\n                                position: 'right',\n                                show: true,\n                            },\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#031525',\n                                shadowBlur: 100,\n                                shadowColor: colors[colorIndex][n],\n                            },\n                        },\n                        zlevel: 1,\n                    },\n                    //地图线的动画效果\n\n                    //柱状图\n                    {\n                        zlevel: 1,\n                        type: 'bar',\n                        barMaxWidth: 8,\n                        symbol: 'none',\n                        itemStyle: {\n                            normal: {\n                                color: colors[n],\n                                barBorderRadius: [0, 30, 30, 0],\n                            },\n                        },\n                        data: barData[n],\n                    },\n                ],\n            });\n            if (r === 0) {\n                r = 1;\n            } else {\n                r = 0;\n            }\n        }\n        myChart.setOption(optionXyMap01);\n    });\n});\n","html":"","externalScripts":"","updaterUID":"obd-otak89ySib38uERfcMWTPoALPCXoj8L","theme":"","layout":"","viewCount":0,"userName":"187*****097","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyzmCrEeV9N.png?v=1640337817245","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-map","series-scatter","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"耳***封"}}