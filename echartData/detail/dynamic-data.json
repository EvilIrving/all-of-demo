{"status":0,"data":{"cid":"dynamic-data","authorUid":"bd-2135947294","authorUserName":"echarts","title":"动态数据","description":"动态添加和移除数据","latestVersion":1,"alwaysLatest":1,"createTime":"2016-04-25T11:18:32.000Z","lastUpdateTime":"2016-04-25T13:03:58.000Z","auth":2,"uid":"bd-2135947294","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.1.6","versionCreateTime":"2016-04-25T11:18:32.000Z","code":"option = {\n    title: {\n        text: '动态数据',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    legend: {\n        data:['最新成交价', '预购队列']\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataView: {readOnly: false},\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    dataZoom: {\n        show: false,\n        start: 0,\n        end: 100\n    },\n    xAxis: [\n        {\n            type: 'category',\n            boundaryGap: true,\n            data: (function (){\n                var now = new Date();\n                var res = [];\n                var len = 10;\n                while (len--) {\n                    res.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\n                    now = new Date(now - 2000);\n                }\n                return res;\n            })()\n        },\n        {\n            type: 'category',\n            boundaryGap: true,\n            data: (function (){\n                var res = [];\n                var len = 10;\n                while (len--) {\n                    res.push(len + 1);\n                }\n                return res;\n            })()\n        }\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            scale: true,\n            name: '价格',\n            max: 20,\n            min: 0,\n            boundaryGap: [0.2, 0.2]\n        },\n        {\n            type: 'value',\n            scale: true,\n            name: '预购量',\n            max: 1200,\n            min: 0,\n            boundaryGap: [0.2, 0.2]\n        }\n    ],\n    series: [\n        {\n            name:'预购队列',\n            type:'bar',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            data:(function (){\n                var res = [];\n                var len = 10;\n                while (len--) {\n                    res.push(Math.round(Math.random() * 1000));\n                }\n                return res;\n            })()\n        },\n        {\n            name:'最新成交价',\n            type:'line',\n            data:(function (){\n                var res = [];\n                var len = 0;\n                while (len < 10) {\n                    res.push((Math.random()*10 + 5).toFixed(1) - 0);\n                    len++;\n                }\n                return res;\n            })()\n        }\n    ]\n};\napp.count = 11;\nsetInterval(function (){\n    axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\n\n    var data0 = option.series[0].data;\n    var data1 = option.series[1].data;\n    data0.shift();\n    data0.push(Math.round(Math.random() * 1000));\n    data1.shift();\n    data1.push((Math.random() * 10 + 5).toFixed(1) - 0);\n\n    option.xAxis[0].data.shift();\n    option.xAxis[0].data.push(axisData);\n    option.xAxis[1].data.shift();\n    option.xAxis[1].data.push(app.count++);\n\n    myChart.setOption(option);\n}, 2100);\n","html":"","externalScripts":"","updaterUID":"bd-2135947294","theme":"default","layout":"","viewCount":36516,"userName":"echarts","commentCount":4,"starCount":64,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/dynamic-data.png?v=1461589438522","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"echarts"}}