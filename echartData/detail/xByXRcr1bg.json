{"status":0,"data":{"cid":"xByXRcr1bg","authorUid":"bd-2721140047","authorUserName":"F***8","title":"estimate","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2016-11-08T12:53:30.000Z","lastUpdateTime":"2016-11-08T12:53:30.000Z","auth":2,"uid":"bd-2721140047","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.3.0","versionCreateTime":"2016-11-09T04:39:50.000Z","code":"var countries = ['起动机', '机油泵总成', '发电机', '水泵总成', '燃油滤清器总成', '减振器', '机油冷却器总成'];\nvar years = ['2014年', '2015年', '2016年', '2017年'];\n\nvar data = [\n    [\n        [10000, 2.681634155, 0.115044968],\n        [7800, 2.155333864, 0.113580762],\n        [5000, 1.798516848, 0.321718039],\n        [6800, 0.353431105, 0.008865196],\n        [13200, 1.794378769, 1.344426108],\n        [12300, 1.560055473, 0.035462114],\n        [11111, 2.793094646, 1.049495413]\n    ],\n    [\n        [40000, 2.885611751, 0.117552039],\n        [43000, 2.362687426, 0.117609858],\n        [51000, 1.786069239, 0.327335695],\n        [38000, 0.364786726, 0.009675296],\n        [30500, 1.928096899, 1.631482938],\n        [31000, 1.790383224, 0.036960954],\n        [38000, 2.871666001, 1.516459314]\n    ],\n    [\n        [68000, 2.964367964, 0.127082033],\n        [66000, 2.429639368, 0.126681978],\n        [63000, 1.688282406, 0.310469086],\n        [72000, 0.391102941, 0.01082079],\n        [80000, 2.014663128, 2.412036712],\n        [86000, 1.909524273, 0.03978082],\n        [85000, 2.826465631, 2.05860102]\n    ],\n    [\n        [120000, 2.986101514, 0.130459055],\n        [110000, 2.464682772, 0.131009371],\n        [100000, 1.611535199, 0.287721343],\n        [90000, 0.379277698, 0.009787698],\n        [140000, 2.046036451, 3.018636316],\n        [135000, 1.997342028, 0.040999382],\n        [127000, 2.842110679, 10.899411182]\n    ]\n];\n\n// 如果看不懂这段代码，那么就不用这段代码，\n// 自己估计一个最大值也可以。\nfunction getMax(dim) {\n    var max = 0;\n    data.forEach(function (dataByYear) {\n        dataByYear.forEach(function (item) {\n            if (item[dim] > max) {\n                max = item[dim];\n            }\n        });\n    });\n    var exp = Math.round(Math.log(max) / Math.log(10));\n    var exp10 = Math.pow(10, exp);\n    max = Math.ceil(max / exp10 * 10) / 10 * exp10;\n\n    return max;\n}\n\n\nvar itemStyle = {\n    normal: {\n        opacity: 0.8,\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n    }\n};\n\noption = {\n    baseOption: {\n        timeline: {\n            axisType: 'category',\n            orient: 'vertical',\n            autoPlay: true,\n            inverse: true,\n            playInterval: 3000,\n            left: null,\n            right: 10,\n            top: 20,\n            bottom: 20,\n            width: 55,\n            height: null,\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            symbol: 'none',\n            lineStyle: {\n                color: '#555'\n            },\n            checkpointStyle: {\n                color: '#bbb',\n                borderColor: '#777',\n                borderWidth: 2\n            },\n            controlStyle: {\n                showNextBtn: false,\n                showPrevBtn: false,\n                normal: {\n                    color: '#666',\n                    borderColor: '#666'\n                },\n                emphasis: {\n                    color: '#aaa',\n                    borderColor: '#aaa'\n                }\n            },\n            data: years\n        },\n        backgroundColor: '#333',\n        title: {\n            text: '',\n            textAlign: 'center',\n            right: '3',\n            bottom: 110,\n            textStyle: {\n                fontSize: 70,\n                color: 'rgba(255, 255, 255, 0.9)'\n            }\n        },\n        tooltip: {\n            padding: 5,\n            backgroundColor: '#222',\n            borderColor: '#777',\n            borderWidth: 1\n        },\n        xAxis: {\n            type: 'value',\n            name: '里程数',\n            nameGap: 25,\n            min: 0,\n            max: getMax(0),\n            nameLocation: 'middle',\n            nameTextStyle: {\n                fontSize: 18\n            },\n            splitLine: {\n                show: false\n            },\n            axisTick: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#ddd'\n                }\n            }\n        },\n        yAxis: {\n            type: 'value',\n            name: '车龄/ 故障率 ',\n            nameGap: 25,\n            min: 0,\n            max: getMax(1),\n            nameTextStyle: {\n                color: '#ccc',\n                fontSize: 18\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisTick: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            splitLine: {\n                show: false\n            },\n            axisLabel: {\n                formatter: '{value} ',\n                textStyle: {\n                    color: '#ddd'\n                }\n            }\n        },\n        grid: {\n            left: 180,\n            right: 110,\n            bottom: 100\n        },\n        geo: {\n            top: 20,\n            left: 170,\n            right: 120,\n            height: '38%',\n            name: 'World Population (2010)',\n            type: 'map',\n            map: 'world',\n            roam: false,\n            label: {\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: '#aaa',\n                    areaColor: '#555'\n                },\n                emphasis: {\n                    areaColor: '#555'\n                }\n            }\n        },\n        toolbox: {\n            top: 25,\n            left: 10,\n            itemSize: 20,\n            iconStyle: {\n                normal: {\n                    borderColor: '#eee'\n                },\n                emphasis: {\n                    borderColor: '#fffb60'\n                }\n            }\n        },\n        visualMap: [{\n            type: 'piecewise',\n            dimension: 3,\n            categories: countries,\n            left: 10,\n            bottom: 35,\n            calculable: true,\n            precision: 0.1,\n            textGap: 10,\n            itemGap: 3,\n            textStyle: {\n                color: '#ccc'\n            },\n            inRange: {\n                color: ['#bcd3bb', '#e88f70', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a', '#376956', '#c3bed4', '#495a80', '#9966cc', '#bdb76a', '#eee8ab', '#a35015', '#04dd98', '#d9b3e6', '#b6c3fc','#315dbc','#c5c975','#476a54','#66e638','#a59619','#822ee2','#49450d','#eeebd4','#2b98dc','#b95c25', '#8f1ec2', '#d50390', '#36a15d', '#edc1a5']\n            },\n            outOfRange: {\n                color: '#555'\n            }\n        }, {\n            show: false,\n            type: 'continuous',\n            dimension: 2,\n            min: 0,\n            max: 5,\n            inRange: {\n                symbolSize: [10, 50]\n            }\n        }],\n        dataZoom: [{\n            type: 'inside',\n            xAxisIndex: 0\n        }, {\n            show: true,\n            type: 'slider',\n            xAxisIndex: 0\n        }],\n        series: [{\n            type: 'scatter',\n            id: 'gridScatter',\n            itemStyle: itemStyle,\n            data: [],\n            tooltip: {\n                formatter: function(obj) {\n                    var value = obj.value;\n                    return '<div style=\"border-bottom: 1px solid #555;padding-bottom: 5px; margin-bottom: 5px;\">' + value[3] + '</div>'\n                        + '专利申请量：' + value[0] + '<br>'\n                        + 'R&D 经费支出占比：' + value[1] + ' %<br>'\n                        + 'R&D 经费支出：' + value[2] + ' 千亿 $<br>';\n                }\n            }\n        }],\n        animationDurationUpdate: 1000,\n        animationEasingUpdate: 'quinticInOut'\n    },\n    options: []\n};\n\nfor (var n = 0; n < years.length; n++) {\n    option.options.push({\n        title: {\n            text: years[n]\n        },\n        series: {\n            id: 'gridScatter',\n            type: 'scatter',\n            itemStyle: itemStyle,\n            data: data[n].map(function (item, index) {\n                return item.concat([countries[index]]);\n            }),\n            symbolSize: 10\n        }\n    });\n}\n","html":"","externalScripts":"","updaterUID":"bd-2721140047","theme":"","layout":"","viewCount":3809,"userName":"F***8","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xByXRcr1bg.png?v=1478666390648","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","geo","grid","series-scatter","timeline","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"F***8"}}