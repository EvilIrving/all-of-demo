{"status":0,"data":{"cid":"xBYZzuCNn2","authorUid":"obd-oj1TY3WT3Cwpj0eTk4gxuUCDHx7FKDh","authorUserName":"l***4","title":"饼图3/4","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-08-28T11:47:31.000Z","lastUpdateTime":"2020-08-28T11:47:31.000Z","auth":2,"uid":"obd-oj1TY3WT3Cwpj0eTk4gxuUCDHx7FKDh","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-28T11:47:31.000Z","code":"let dashedPic = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAOBAMAAAB6G1V9AAAAD1BMVEX////Kysrk5OTj4+TJycoJ0iFPAAAAG0lEQVQ4y2MYBaNgGAMTQQVFOiABhlEwCugOAMqzCykGOeENAAAAAElFTkSuQmCC';\nlet color = ['#FF8700', '#ffc300', '#00e473', '#009DFF', '#0034ff'];\nlet chartData = [{\n        name: \"超期数\",\n        value: 40083,\n        unit: '列'\n    },\n    {\n        name: \"发生数\",\n        value: 33974,\n        unit: '列'\n    },\n    {\n        name: \"结案数\",\n        value: 15400,\n        unit: '列'\n    },\n];\nlet arrName = [];\nlet arrValue = [];\nlet sum = 0;\nlet pieSeries = [],\n    lineYAxis = [];\n\n// 数据处理\nchartData.forEach((v, i) => {\n    arrName.push(v.name);\n    arrValue.push(v.value);\n    sum = sum + v.value;\n})\n\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        type: 'pie',\n        clockWise: false,\n        hoverAnimation: false,\n        radius: [75 - i * 25 + '%', 57 - i * 25 + '%'],\n        center: [\"40%\", \"50%\"],\n        label: {\n            show: false\n        },\n        data: [{\n            value: v.value,\n            name: v.name\n        }, {\n            value: sum - v.value,\n            name: '',\n            itemStyle: {\n                color: \"rgba(0,0,0,0)\"\n            }\n        }]\n    });\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [75 - i * 25 + '%', 57 - i * 25 + '%'],\n        center: [\"40%\", \"50%\"],\n        label: {\n            show: false\n        },\n        data: [{\n            value: 7.5,\n            itemStyle: {\n                color: \"#E3F0FF\"\n            }\n        }, {\n            value: 2.5,\n            name: '',\n            itemStyle: {\n                color: \"rgba(0,0,0,0)\"\n            }\n        }]\n    });\n    v.percent = (v.value / sum * 100).toFixed(1) + \"%\";\n    lineYAxis.push({\n        value: i,\n        textStyle: {\n            rich: {\n                circle: {\n                    color: color[i],\n                    padding: [0, 5]\n                }\n            }\n        }\n    });\n})\n\noption = {\n    backgroundColor: '#fff',\n    color: color,\n    grid: {\n        top: '12%',\n        bottom: '54%',\n        left: \"40%\",\n        containLabel: false\n    },\n    yAxis: [{\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            formatter: function(params) {\n                let item = chartData[params];\n                console.log(item)\n                return '{line|}{circle|●}{name|'+ item.name +'}{bd||}{percent|'+item.percent+'}'\n            },\n            interval: 0,\n            inside: true,\n            textStyle: {\n                color: \"#333\",\n                fontSize: 14,\n                rich: {\n                    line: {\n                        width: 170,\n                        height: 10,\n                        backgroundColor: {image: dashedPic}\n                    },\n                    name: {\n                        color: '#666',\n                        fontSize: 14,\n                    },\n                    bd: {\n                        color: '#ccc',\n                        padding: [0, 5],\n                        fontSize: 14,\n                    },\n                    percent:{\n                        color: '#333',\n                        fontSize: 14,\n                    },\n                    value: {\n                        color: '#333',\n                        fontSize: 16,\n                        fontWeight: 500,\n                        padding: [0, 0, 0, 20]\n                    },\n                    unit: {\n                        fontSize: 14\n                    }\n                }\n            },\n            show: true\n        },\n        data: lineYAxis\n    }],\n    xAxis: [{\n        show: false\n    }],\n    series: pieSeries\n};","html":"","externalScripts":"","updaterUID":"obd-oj1TY3WT3Cwpj0eTk4gxuUCDHx7FKDh","theme":"","layout":"","viewCount":135,"userName":"l***4","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBYZzuCNn2.png?v=1598615251507","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie"],"customTags":[],"updaterUserName":"l***4"}}