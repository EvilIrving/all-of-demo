{"status":0,"data":{"cid":"xglhoEzwuP","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"未完成","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2021-02-05T11:52:48.000Z","lastUpdateTime":"2021-09-09T05:41:19.000Z","auth":2,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-09T05:41:19.000Z","code":"var colorList = ['rgba(0, 138, 255, 1)', 'rgba(255, 155, 48, 1)', 'rgba(0, 180, 76, 1)', 'rgba(151, 101, 254, 1)']\r\rvar colorListLabel = ['rgba(224, 245, 255, 1)', 'rgba(252, 248, 227, 1)', 'rgba(227, 252, 231, 1)', 'rgba(226, 225, 255, 1)', ]\r\r\r\r\r\r//var colorList = [\"rgba(56, 155, 255, 0.6)\", \"rgba(255, 155, 48, 0.6)\", \"rgba(0, 180, 76, 0.6)\", \"rgba(151, 101, 254, 0.6)\"];\r\r\r\rfunction getRich() {\r\r    let result = {}\r\r    colorLine.forEach((v, i) => {\r\r        result[`hr${i}`] = {\r\r            backgroundColor: colorLine[i],\r\r            borderRadius: 3,\r\r            width: 3,\r\r            height: 3,\r\r            padding: [3, 3, 0, -12]\r\r        }\r\r        result[`a${i}`] = {\r\r            padding: [8, -60, -20, -20],\r\r            color: colorLine[i],\r\r            fontSize: 12\r\r        }\r\r    })\r\r    return result\r\r}\r\rdata = [{\r\r    'name': '30人及以下',\r\r    'value': 5775\r\r}, {\r\r    'name': '31-60人',\r\r    'value': 4628\r\r}, {\r\r    'name': '61-90人',\r\r    'value': 2508\r\r}, {\r\r    'name': '90人及以上',\r\r    'value': 1025\r\r}].sort((a, b) => {\r\r    return b.value - a.value\r\r})\r\r\r\r\r\r\r\r// data.map((item, index) => {\r\r//     item.label = {\r\r//         show: true,\r\r//         position: 'outside',\r\r//         backgroundColor: colorListLabel[index],\r\r//         borderRadius: 5,\r\r//         padding: [5, 10, 3, 10],\r\r//         color: colorList[index],\r        \r//         textStyle:{\r//             fontSize:15\r//         }\r\r\r\r//     }\r\r//     item.labelLine = {\r\r//         lineStyle: {\r\r//             color: 'transparent'\r\r//         }\r\r//     }\r\r// })\r\r// let data1 = [{\r\r//     'name': '30人及以下',\r\r//     'value': 50\r\r// }, {\r\r//     'name': '31-60人',\r\r//     'value': 20\r\r// }, {\r\r//     'name': '61-90人',\r\r//     'value': 15\r\r// }, {\r\r//     'name': '90人及以上',\r\r//     'value': 10\r\r// }].sort((a, b) => {\r\r//     return b.value - a.value\r\r// })\r\r\r\rlet seriesData1 = data.map((item,index)=>{\r    return {\r        ...item,\r        value:Math.sqrt(item.value),\r        actValue:item.value,\r        label : {\r\r        show: true,\r\r        position: 'outside',\r\r        backgroundColor: colorListLabel[index],\r\r        borderRadius: 5,\r\r        padding: [5, 10, 3, 10],\r\r        color: colorList[index],\r        \r        textStyle:{\r            fontSize:15\r        }\r\r\r\r    },labelLine:{\r\r        lineStyle: {\r\r            color: 'transparent'\r\r        }\r\r    }\r    \r        \r    }\r})\rlet seriesData2 = data.map((item,index)=>{\r    return {\r        ...item,\r        value:Math.sqrt(item.value,20),\r        actValue:item.value,\r        label : {\r\r        show: true,\r\r        position: 'outside',\r\r        backgroundColor: colorListLabel[index],\r\r        borderRadius: 5,\r\r        padding: [5, 10, 3, 10],\r\r        color: colorList[index],\r        \r        textStyle:{\r            fontSize:15\r        },\r        \r        formatter: params=>{\r            console.log(params)\r            return params.data.actValue\r        }\r\r\r\r    },labelLine:{\r\r        lineStyle: {\r\r            color: 'transparent'\r\r        }\r\r    }\r    \r        \r    }\r})\r\r\r\r// data1.map((item, index) => {\r\r//     item.label = {\r\r//         show: true,\r\r//         position: 'outside',\r\r//         backgroundColor: colorListLabel[index],\r\r//         borderRadius: 5,\r\r//         padding: [5, 10, 3, 10],\r\r//         color: colorList[index],\r        \r//         textStyle:{\r//             fontSize:15\r//         },\r        \r//         formatter: params=>{\r//             console.log(params)\r//             return params.value\r//         }\r\r\r//     }\r\r//     item.labelLine = {\r\r//         lineStyle: {\r\r//             color: 'transparent'\r\r//         }\r\r//     }\r\r// })\r\r\r\rfunction _pie() {\r\r\r\r    let dataArr = [];\r\r\r\r    for (var i = 0; i < 150; i++) {\r\r\r\r        if (i % 2 === 0) {\r\r\r\r            dataArr.push({\r\r\r\r                name: (i + 1).toString(),\r\r\r\r                value: 1,\r\r\r\r                itemStyle: {\r\r\r\r                    normal: {\r\r\r\r                        color: \"rgba(223, 223, 223, 1)\",\r\r\r\r                        borderWidth: 0,\r\r\r\r                        borderColor: \"rgba(0,0,0,0)\"\r\r\r\r                    }\r\r\r\r                }\r\r\r\r            })\r\r\r\r        } else {\r\r\r\r            dataArr.push({\r\r\r\r                name: (i + 1).toString(),\r\r\r\r                value: 1,\r\r\r\r                itemStyle: {\r\r\r\r                    normal: {\r\r\r\r                        color: \"rgba(0,0,0,0)\",\r\r\r\r                        borderWidth: 0,\r\r\r\r                        borderColor: \"rgba(0,0,0,0)\"\r\r\r\r                    }\r\r\r\r                }\r\r\r\r            })\r\r\r\r        }\r\r\r\r\r\r\r\r    }\r\r\r\r    return dataArr\r\r\r\r\r\r\r\r}\r\r\r\roption = {\r\r    series: [\r\r        {\r\r\r\r            type: 'pie',\r\r\r\r            zlevel: 1,\r\r\r\r            color: \"rgba(223, 223, 223, 1)\",\r\r\r\r            silent: true,\r\r\r\r            radius: ['65.5%', '66%'],\r\r\r\r            label: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                },\r\r\r\r            },\r\r\r\r            labelLine: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                }\r\r\r\r            },\r\r\r\r            data: [1]\r\r\r\r        },\r\r        {\r\r\r\r            type: 'pie',\r\r\r\r            zlevel: 2,\r\r\r\r            silent: true,\r\r\r\r            radius: ['51.5%', '52%'],\r\r\r\r            label: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                },\r\r\r\r            },\r\r\r\r            labelLine: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                }\r\r\r\r            },\r\r            data: _pie()\r\r\r\r        },\r\r        {\r\r\r\r            type: 'pie',\r\r\r\r            zlevel: 2,\r\r\r\r            silent: true,\r\r\r\r            radius: ['41.5%', '42%'],\r\r\r\r            label: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                },\r\r\r\r            },\r\r\r\r            labelLine: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                }\r\r\r\r            },\r\r            data: _pie()\r\r\r\r        },\r\r        {\r\r\r\r            type: 'pie',\r\r\r\r            color: '#D0D0D0',\r\r\r\r            zlevel: 2,\r\r\r\r            silent: true,\r\r\r\r            radius: ['31.5%', '32%'],\r\r\r\r            label: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                },\r\r\r\r            },\r\r\r\r            labelLine: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                }\r\r\r\r            },\r\r            data: _pie()\r\r\r\r        },\r\r        {\r\r\r\r            type: 'pie',\r\r\r\r            zlevel: 2,\r\r\r\r            color: '#D0D0D0',\r\r\r\r            silent: true,\r\r\r\r            radius: ['19.2%', '20%'],\r\r\r\r            label: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                },\r\r\r\r            },\r\r\r\r            labelLine: {\r\r\r\r                normal: {\r\r\r\r                    show: false\r\r\r\r                }\r\r\r\r            },\r\r            data: _pie()\r\r\r\r        }, \r        {\r\r            type: 'pie',\r\r            radius: ['20%', '60%'],\r\r            center: ['50%', '50%'],\r\r            clockwise: true,\r\r            avoidLabelOverlap: true,\r\r            data:seriesData1,\r\r            roseType: 'area',\r\r            itemStyle: {\r\r                normal: {\r\r                    color: (item) => {\r\r                        return colorList[item.dataIndex]\r\r                    }\r\r                }\r\r            }\r\r        },\r        {\r\r            type: 'pie',\r\r            radius: '30%',\r\r            center: ['50%', '50%'],\r\r            clockwise: true,\r\r            avoidLabelOverlap: true,\r\r            data:seriesData2,\r\r            roseType: 'area',\r\r            itemStyle: {\r\r                normal: {\r\r                    color: 'transparent'\r\r                }\r\r            },\r            \r            zlevel: 100,\r            \r            z:100\r\r        }\r\r\r\r    ]\r\r}","html":"","externalScripts":"","updaterUID":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","theme":"","layout":"","viewCount":76,"userName":"m***h","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xglhoEzwuP.png?v=1631166079703","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":[],"updaterUserName":"m***h"}}