{"status":0,"data":{"cid":"xah1STYLOZ","authorUid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","authorUserName":"S***l","title":"好看的动画图","description":"谁给改改版","latestVersion":1,"alwaysLatest":0,"createTime":"2021-05-07T06:25:12.000Z","lastUpdateTime":"2021-05-07T06:25:12.000Z","auth":2,"uid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-07T06:25:12.000Z","code":"var $ = {};\n\n$.Particle = function (opt) {\n    this.radius = 7;\n    this.x = opt.x;\n    this.y = opt.y;\n    this.angle = opt.angle;\n    this.speed = opt.speed;\n    this.accel = opt.accel;\n    this.decay = 0.01;\n    this.life = 1;\n};\n\n$.Particle.prototype.step = function (i) {\n    this.speed += this.accel;\n    this.x += Math.cos(this.angle) * this.speed;\n    this.y += Math.sin(this.angle) * this.speed;\n    this.angle += $.PI / 64;\n    this.accel *= 1.01;\n    this.life -= this.decay;\n\n    if (this.life <= 0) {\n        $.particles.splice(i, 1);\n    }\n};\n\n$.Particle.prototype.draw = function (i) {\n    $.ctx.fillStyle = $.ctx.strokeStyle = 'hsla(' + ($.tick + this.life * 120) + ', 100%, 60%, ' + this.life + ')';\n    $.ctx.beginPath();\n    if ($.particles[i - 1]) {\n        $.ctx.moveTo(this.x, this.y);\n        $.ctx.lineTo($.particles[i - 1].x, $.particles[i - 1].y);\n    }\n    $.ctx.stroke();\n\n    $.ctx.beginPath();\n    $.ctx.arc(this.x, this.y, Math.max(0.001, this.life * this.radius), 0, $.TWO_PI);\n    $.ctx.fill();\n\n    var size = Math.random() * 1.25;\n    $.ctx.fillRect(\n        ~~(this.x + (Math.random() - 0.5) * 35 * this.life),\n        ~~(this.y + (Math.random() - 0.5) * 35 * this.life),\n        size,\n        size\n    );\n};\n\n$.step = function () {\n    $.particles.push(\n        new $.Particle({\n            x: $.width / 2 + (Math.cos($.tick / 20) * $.min) / 2,\n            y: $.height / 2 + (Math.sin($.tick / 20) * $.min) / 2,\n            angle: $.globalRotation + $.globalAngle,\n            speed: 0,\n            accel: 0.01,\n        })\n    );\n\n    $.particles.forEach(function (elem, index) {\n        elem.step(index);\n    });\n\n    $.globalRotation += $.PI / 6;\n    $.globalAngle += $.PI / 6;\n};\n\n$.draw = function () {\n    $.ctx.clearRect(0, 0, $.width, $.height);\n\n    $.particles.forEach(function (elem, index) {\n        elem.draw(index);\n    });\n};\n\n$.init = function () {\n    document.body.style.backgroundColor = '#000E1a';\n    $.canvas = document.createElement('canvas');\n    $.ctx = $.canvas.getContext('2d');\n    $.width = 500;\n    $.height = 500;\n    $.canvas.width = $.width * window.devicePixelRatio;\n    $.canvas.height = $.height * window.devicePixelRatio;\n    $.canvas.style.width = $.width + 'px';\n    $.canvas.style.height = $.height + 'px';\n\n    $.ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n    $.min = $.width * 0.5;\n    $.particles = [];\n    $.globalAngle = 0;\n    $.globalRotation = 0;\n    $.tick = 0;\n    $.PI = Math.PI;\n    $.TWO_PI = $.PI * 2;\n    $.ctx.globalCompositeOperation = 'lighter';\n    document.body.appendChild($.canvas);\n    $.loop();\n};\n\n$.loop = function () {\n    requestAnimationFrame($.loop);\n    $.step();\n    $.draw();\n    $.tick++;\n};\n\n$.init();\n","html":"","externalScripts":"","updaterUID":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","theme":"","layout":"","viewCount":0,"userName":"S***l","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xah1STYLOZ.png?v=1620368713006","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"S***l"}}