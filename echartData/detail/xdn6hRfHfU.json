{"status":0,"data":{"cid":"xdn6hRfHfU","authorUid":"obd-oj1Tph9VM2SjbjlYDwr7u6Fdr-Y3ADU","authorUserName":"李***3","title":"国内人口流动-出汉人口流向","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2020-09-27T08:33:34.000Z","lastUpdateTime":"2020-09-27T08:33:34.000Z","auth":1,"uid":"obd-oj1Tph9VM2SjbjlYDwr7u6Fdr-Y3ADU","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-28T01:18:15.000Z","code":"var geoCoordMap = {\r\n    '黑龙江': [127.9688, 45.368, 48209.4, 22321.2, 19598.7, 30213.2, 2521.2, 1343.5, 6321.6, 1842.1, 832.9, 90129.3],\r\n    '内蒙古': [110.3467, 41.4899, 59371.6, 23395.9, 18461.6, 29101.3, 510.5, 779.0, 688.4, 897.4, 202.6, 101229.1],\r\n    \"吉林\": [125.8154, 44.2584, 459391.2, 24591.4, 16846.6, 28589.4, 2296.9, 228.8, 1580.4, 259.8, 661.8, 500829.2],\r\n    '北京': [116.4551, 40.2539, 64368.7, 25737.1, 25712.1, 28573.9, 791.8, 817.1, 4888.7, 783.7, 60.2, 0],\r\n    \"辽宁\": [123.1238, 42.1216, 48097.3, 19734.3, 16816.1, 28330.2, 1513.5, 278.1, 6055.0, 1414.1, 700.9, 84647.7],\r\n    \"河北\": [114.4995, 38.1006, 40866.2, 17336.9, 16846.2, 28320.4, 840.3, 598.8, 1058.6, 330.5, 814.0, 75049.3],\r\n    \"天津\": [117.4219, 39.4189, 30964.4, 14341.5, 13482.1, 28262.8, 1437.9, 721.5, 4372.5, 627.2, 767.2, 58788],\r\n    \"山西\": [112.3352, 37.9413, 33211.8, 11435.8, 10818.7, 28256.7, 2109.7, 341.2, 5955.1, 1321.5, 402.3, 55466.3],\r\n    \"陕西\": [109.1162, 34.2004, 35714.9, 10814.4, 10459.4, 28135.4, 1251.3, 1262.7, 2871.5, 1334.4, 442.1, 56988.7],\r\n    \"甘肃\": [103.5901, 36.3043, 39459.1, 11358.6, 10410.8, 28123.4, 417.7, 1135.6, 172.1, 374.3, 415.8, 61228.5],\r\n    \"宁夏\": [106.3586, 38.1775, 41869.0, 11961.8, 10586.4, 28068.3, 1120.6, 1267.5, 3768.9, 1750.2, 208.1, 76164.1],\r\n    \"青海\": [101.4038, 36.8207, 48412.1, 14671.2, 13080.8, 28015.4, 2310.9, 982.4, 4577.3, 1709.5, 84.1, 76164.1],\r\n    \"新疆\": [87.9236, 43.5883, 45938.4, 21869.1, 20580.3, 27942.3, 2105.6, 1217.5, 4485.3, 461.7, 115.6, 88387.8],\r\n    \"西藏\": [91.11, 29.97, 43365.9, 23439.1, 22309.3, 27887.7, 2425.9, 905.6, 2855.7, 957.8, 410.0, 89114.3],\r\n    \"四川\": [103.9526, 30.7617, 51939.6, 25734.6, 24733.1, 27864.5, 418.7, 775.7, 969.3, 1533.8, 285.6, 102407.3],\r\n    \"重庆\": [108.3843, 30.4397, 48410.9, 24618.3, 22808.0, 27730.2, 82.3, 1117.8, 1573.9, 392.3, 122.6, 95837.2],\r\n    \"山东\": [117.1582, 36.8701, 48096.1, 19309.1, 18306.3, 27592.8, 1044.9, 849.7, 2270.3, 918.8, 424.5, 85711.5],\r\n    \"河南\": [113.4668, 34.6234, 45736.9, 19315.6, 17309.8, 27580.5, 1605.4, 136.6, 4704.7, 247.6, 142.2, 82362.3],\r\n    \"江苏\": [118.8062, 31.9208, 53080.8, 22185.9, 21830.8, 27357.2, 628.1, 192.0, 5492.4, 1012.8, 728.3, 97097.5],\r\n    \"安徽\": [117.29, 32.0581, 43080.6, 19308.0, 19081.0, 27230.3, 209.6, 968.5, 2151.5, 442.8, 60.1, 81469.6],\r\n    \"湖北\": [114.298572, 30.584355, 48094.1, 21808.1, 20308.0, 26754.7, 355.6, 1318.8, 3087.1, 1167.9, 288.2, 90210.2],\r\n    \"浙江\": [119.5313, 29.8773, 55821.3, 23698.1, 22337.0, 26471.4, 1955.7, 324.7, 2323.9, 592.2, 538.0, 2],\r\n    \"福建\": [119.4543, 25.9222, 53644.6, 24933.1, 23093.6, 26322.2, 1302.6, 863.1, 2475.2, 1585.8, 472.9, 101671.3],\r\n    \"江西\": [116.0046, 28.6633, 49616.3, 21843.9, 20803.4, 25755.4, 640.8, 1038.6, 4206.9, 227.6, 212.2, 92263.6],\r\n    \"湖南\": [113.0823, 28.2568, 51893.9, 21415.9, 20280.9, 25617.6, 2336.6, 543.0, 2940.5, 1412.1, 233.5, 93590.7],\r\n    \"贵州\": [106.6992, 26.7682, 45866.2, 23435.6, 22308.1, 25416.8, 1755.2, 1307.7, 1401.5, 31.2, 251.7, 91609.9],\r\n    \"云南\": [102.9199, 25.4663, 48099.1, 18664.1, 16130.8, 25255.3, 1796.4, 694.9, 3368.8, 1199.3, 402.2, 82894],\r\n    \"广东\": [113.1224, 23.0095, 62143.3, 25593.9, 24893.4, 25249.2, 1840.5, 347.1, 237.2, 1490.7, 530.4, 112630.6],\r\n    \"广西\": [108.479, 23.1152, 44618.5, 18684.3, 17808.1, 24761.5, 808.0, 374.1, 2422.5, 165.5, 500.7, 81110.9],\r\n    \"海南\": [110.3893, 19.8516, 55823.9, 25583.7, 24686.8, 24559.2, 1614.0, 1208.0, 784.1, 1337.4, 25.0, 95458.1],\r\n    '上海': [121.4648, 31.2891, 64643.5, 28096.4, 2718.3, 24524.4, 720.9, 1236.0, 4808.8, 393.2, 143.8, 106094.4],\r\n    '台湾': [121.5651, 25.0377, 24643.5, 147348.6, 13080.8, 24419.3, 667.2, 1100.0, 4976.4, 820.2, 210.2, 185072.9],\r\n    '香港': [114.1466, 22.2701, 46147.4, 24614.3, 24590.5, 24395.4, 406.2, 171.1, 5021.7, 1793.3, 580.2, 95352.2],\r\n    '澳门': [113.5495, 22.1918, 43464.3, 24935.8, 22812.1, 23987.3, 2519.4, 1110.3, 2692.8, 889.1, 704.1, 91212.2]\r\n};\r\n\r\nvar BJData = [\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '湖北',\r\n        value: 49420\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '河北',\r\n        value: 12541\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '辽宁',\r\n        value: 9552\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '山东',\r\n        value: 6325\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '山西',\r\n        value: 3625\r\n    }],\r\n     \r\n     [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '上海',\r\n        value: 2301\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '河南',\r\n        value: 6354\r\n    }],\r\n    [{\r\n        name: '湖北'\r\n    }, {\r\n        name: '广东',\r\n        value: 8722\r\n    }],\r\n    \r\n];\r\n\r\n\r\n\r\nvar planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\r\n\r\nvar convertData2 = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = geoCoordMap[dataItem[0].name];\r\n        var toCoord = geoCoordMap[dataItem[1].name];\r\n        if (fromCoord && toCoord) {\r\n            res.push([{\r\n                coord: fromCoord,\r\n                value: dataItem[1].value\r\n            }, {\r\n                coord: toCoord\r\n            }]);\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\nvar color = ['#a6c84c', ];\r\nvar series = [];\r\n[\r\n    ['湖北', BJData]\r\n].forEach(function(item, i) {\r\n    series.push({\r\n        type: 'lines',\r\n        zlevel: 2,\r\n        effect: {\r\n            show: true,\r\n            period: 6,\r\n            trailLength: 0,\r\n            symbol: planePath,\r\n            symbolSize: 10\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                width: 1,\r\n                opacity: 0.3,\r\n                curveness: 0.3\r\n            }\r\n        },\r\n        data: convertData2(item[1])\r\n    }, {\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        rippleEffect: {\r\n            period: 5, //动画时间，值越小速度越快\r\n            brushType: 'stroke', //波纹绘制方式 stroke, fill\r\n            scale: 3 //波纹圆环最大限制，值越大波纹越大\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'right', //显示位置\r\n                offset: [5, 0], //偏移设置\r\n                formatter: function(params) { //圆环显示文字\r\n                    return params.data.name;\r\n                },\r\n                fontSize: 13\r\n            }\r\n        },\r\n        symbol: 'circle',\r\n        symbolSize: function(val) {\r\n            return 10;\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: true,\r\n                color: color[i]\r\n            }\r\n        },\r\n        data: item[1].map(function(dataItem) {\r\n            return {\r\n                name: dataItem[1].name,\r\n                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])\r\n            };\r\n        })\r\n    }, {\r\n        type: 'scatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        rippleEffect: {\r\n            period: 4,\r\n            brushType: 'stroke',\r\n            scale: 4\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'right',\r\n                //offset:[5, 0],\r\n                color: '#0f0',\r\n                formatter: '{b}',\r\n                textStyle: {\r\n                    color: \"#0f0\"\r\n                }\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                color: \"#f60\"\r\n            }\r\n        },\r\n        symbol: 'pin',\r\n        symbolSize: 50,\r\n        data: [{\r\n            name: item[0],\r\n            value: geoCoordMap[item[0]].concat([83]),\r\n        }],\r\n    });\r\n});\r\n\r\noption = {\r\n    backgroundColor: '#ffffff',\r\n    title: {\r\n        text: '国内人口流动-出汉人口流向',\r\n        left: '1%',\r\n        top: '6%',\r\n        textStyle: {\r\n            color: '#000000'\r\n        }\r\n    },\r\n    tooltip: {\r\n        // trigger: 'item'\r\n        trigger: 'item',\r\n        backgroundColor: 'rgba(166, 200, 76, 0.82)',\r\n        borderColor: '#FFFFCC',\r\n        showDelay: 0,\r\n        hideDelay: 0,\r\n        enterable: true,\r\n        transitionDuration: 0,\r\n        extraCssText: 'z-index:100',\r\n        formatter: function(params, ticket, callback) {\r\n            //根据业务自己拓展要显示的内容\r\n            if (params.seriesType == \"effectScatter\") {\r\n                return \"地点：\" + params.data.name +'<br/>'+ \"出汉人数：\" + params.data.value[12] ;\r\n            } else if (params.seriesType == \"lines\") {\r\n                return \"当前出汉人数量：\" + params.data.value;\r\n            }\r\n            var res = \"\";\r\n            var name = params.name;\r\n            var value = params.value[params.seriesIndex + 1];\r\n            res = \"<span style='color:#fff;'> 出发地：武汉\"  + \"</span><br/>流出人数:\" + params.data.value[12];\r\n            return res;\r\n        }\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        top: 'bottom',\r\n        left: 'right',\r\n        textStyle: {\r\n            color: '#fff'\r\n        },\r\n        selectedMode: 'single'\r\n    },\r\n    visualMap: { //图例值控制\r\n        min: 0,\r\n        max: 15000,\r\n        calculable: true,\r\n        show: true,\r\n        color: ['#f44336', '#fc9700', '#ffde00', '#3cfc01', '#00eaff'],\r\n        textStyle: {\r\n            color: '#000000'\r\n        }\r\n    },\r\n    geo: {\r\n        map: 'china',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        roam: false, //是否允许缩放\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(46, 63, 81, 127)', //地图背景色\r\n                borderColor: '#445973', //省市边界线00fcff 516a89\r\n                borderWidth: 1\r\n            },\r\n            emphasis: {\r\n                color: 'rgba(35, 41, 58, 127)' //悬浮背景\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js,/dep/echarts/map/js/hubei.js","updaterUID":"obd-oj1Tph9VM2SjbjlYDwr7u6Fdr-Y3ADU","theme":"","layout":"","viewCount":86,"userName":"李***3","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdn6hRfHfU.png?v=1601255895806","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-lines","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"李***3"}}