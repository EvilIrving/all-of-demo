{"status":0,"data":{"cid":"xJjyd1CrBn","authorUid":"obd-oC-nKeGvxxwI9yHkc5NoISPyQRtcs3h","authorUserName":"w***8","title":"访问量和成功率","description":"柱形图非重叠、不堆积","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-10T07:02:07.000Z","lastUpdateTime":"2020-09-10T07:02:07.000Z","auth":2,"uid":"obd-oC-nKeGvxxwI9yHkc5NoISPyQRtcs3h","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-10T07:02:07.000Z","code":"var visitData = {\r\n    success: '98%',\r\n    request: [2145, 3722, 3424, 5657, 2434, 737, 728, 3143, 356, 324, 4144, 3769, 2672, 2236, 1511, 737, 728, 429, 356, 324],\r\n    session: [4144, 3769, 2672, 2236, 1511, 2345, 6345, 429, 356, 324, 4144, 3769, 2672, 2236, 1511, 737, 728, 429, 356, 324],\r\n    times: [\"21:170\", \"21:151\", \"23:96\", \"21:231\", \"21:170\", \"21:151\", \"20:96\", \"20:231\", \"21:166\", \"21:151\", \"21:142\", \"21:151\", \"23:96\", \"21:231\", \"21:170\", \"21:151\", \"5:96\", \"20:231\", \"21:166\", \"21:151\"],\r\n    unit: '（万次）'\r\n}\r\noption = {\r\n    title: {\r\n        text: \"访问量和成功率\",\r\n        textStyle: {\r\n            color: '#333',\r\n            fontSize: '14',\r\n            fontWeight: 'bold'\r\n        },\r\n        subtextStyle: {\r\n            color: '#90979c',\r\n            fontSize: '16'\r\n        }\r\n    },\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        formatter: (params) => {\r\n            if (params[0] && params[1]) {\r\n                return `<div style=\"width:150px;height:100px;font-size: 12px;color: #fff\">\r\n                        <p>${params[0].axisValue}</p>\r\n                        <p>${params[1].seriesName} ${params[1].data}</p>\r\n                        <p>${params[0].seriesName} ${params[0].data}</p>\r\n                    </div>`\r\n            } else if (!params[1]) {\r\n                return `<div style=\"width:150px;height:80px;font-size: 12px;color: #fff\">\r\n                    <p>${params[0].axisValue}</p>\r\n                    <p>${params[0].seriesName} ${params[0].data}</p>\r\n                </div>`\r\n            }\r\n        },\r\n        axisPointer: {\r\n            type: \"shadow\",\r\n            textStyle: {\r\n                color: \"rgb(153, 153, 153)\"\r\n            }\r\n        }\r\n    },\r\n    grid: {\r\n        borderWidth: 0,\r\n        top: 55,\r\n        right: 20,\r\n        bottom: 40,\r\n        left: 40,\r\n        textStyle: {\r\n            color: \"rgb(153, 153, 153)\"\r\n        }\r\n    },\r\n    legend: {\r\n        // x: '32%',\r\n        bottom: '0',\r\n        textStyle: {\r\n            color: 'rgb(153, 153, 153)',\r\n        },\r\n        data: ['访问量', '请求量']\r\n    },\r\n    calculable: true,\r\n    xAxis: [{\r\n        type: 'category',\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitArea: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'rgb(153, 153, 153)'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            fontSize: 10\r\n        },\r\n        // boundaryGap: false,\r\n        data: visitData.times\r\n    }, {\r\n        type: 'category',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        splitArea: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        data: visitData.times\r\n    }],\r\n    yAxis: {\r\n        type: \"value\",\r\n        name: '单位' + visitData.unit,\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'rgb(153, 153, 153)'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0\r\n        },\r\n        splitArea: {\r\n            show: false\r\n        },\r\n        splitNumber: 4\r\n    },\r\n    series: [{\r\n        name: \"请求量\",\r\n        type: \"bar\",\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#C91426',\r\n                barBorderRadius: 0,\r\n                label: {\r\n                    show: false,\r\n                    position: \"top\",\r\n                    formatter: function(p) {\r\n                        return p.value > 0 ? (p.value) : '';\r\n                    }\r\n                },\r\n                borderWidth: 1,\r\n                borderColor: 'rgb(45, 45, 45)'\r\n            }\r\n        },\r\n        data: visitData.session\r\n    }, {\r\n        name: \"访问量\",\r\n        type: \"bar\",\r\n        xAxisIndex: 1,\r\n        barGap: \"10%\",\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#3854CB',\r\n                label: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    },\r\n                    position: \"insideTop\",\r\n                    formatter: function(p) {\r\n                        return p.value > 0 ? (p.value) : '';\r\n                    }\r\n                },\r\n                borderWidth: 1,\r\n                borderColor: 'rgb(45, 45, 45)'\r\n            }\r\n        },\r\n        data: visitData.request\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-oC-nKeGvxxwI9yHkc5NoISPyQRtcs3h","theme":"","layout":"","viewCount":53,"userName":"w***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJjyd1CrBn.png?v=1599721327632","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"w***8"}}