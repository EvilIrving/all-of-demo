{"status":0,"data":{"cid":"xr11pC3JzM","authorUid":"bd-2852304203","authorUserName":"yqfly2008","title":"接口调用总量(次数)","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-12-14T09:04:54.000Z","lastUpdateTime":"2017-12-14T09:04:54.000Z","auth":1,"uid":"bd-2852304203","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-14T09:04:54.000Z","code":"\nvar title;\nvar subTitles = [];\nvar date = [];\nvar data0 = [];\nvar data1 = [];\n\n// 获取json数据\n$.getJSON(\"/asset/get/s/data-1513235757916-HkLNHiyGf.json\", function(dataJson){\n    //title = dataJson.title;\n    //subTitles = dataJson.subTitles\n    title = '接口调用总量(次数)';\n    subTitles[0] = '当前值';\n    subTitles[1] = '基线值';\n    var datas0 = dataJson.datas[0];\n    var datas1 = dataJson.datas[1];\n    \n    var idx = 0;\n    for(var key0 in datas0) {\n        var now = new Date(parseInt(key0));\n        var dt = [now.getHours() + 1, now.getMinutes()].join(':');\n        if(idx === 0 || dt === '0:0') {\n            dt = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('-');\n        }\n        date.push(dt);\n        data0.push(datas0[key0]);\n        idx ++;\n    }\n    for(var key1 in datas1) {\n        data1.push(datas1[key1]);\n    }\n    \n    myChart.setOption({\n        tooltip: {\n            trigger: 'axis',\n            position: function (pt) {\n                return [pt[0], '10%'];\n            }\n        },\n        title: {\n            left: 'center',\n            text: title,\n        },\n        legend: {\n            left: 'left',\n            data:[subTitles[0], subTitles[1]]\n        },\n        toolbox: {\n            feature: {\n                dataZoom: {\n                    yAxisIndex: 'none'\n                },\n                restore: {},\n                saveAsImage: {}\n            }\n        },\n        xAxis: {\n            type: 'category',\n            boundaryGap: false,\n            data: date\n            \n        },\n        yAxis: {\n            type: 'value',\n            boundaryGap: [0, '100%']\n        },\n        dataZoom: [{\n            type: 'inside',\n            start: 0,\n            end: 80\n        }, {\n            start: 0,\n            end: 10,\n            handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\n            handleSize: '80%',\n            handleStyle: {\n                color: '#fff',\n                shadowBlur: 3,\n                shadowColor: 'rgba(0, 0, 0, 0.6)',\n                shadowOffsetX: 2,\n                shadowOffsetY: 2\n            }\n        }],\n        series: [\n            {\n                name:subTitles[0],\n                type:'line',\n                data: data0\n            },\n            {\n                name:subTitles[1],\n                type:'line',\n                smooth:true,\n                data: data1\n            }\n        ]\n    });\n});\n","html":"","externalScripts":"","updaterUID":"bd-2852304203","theme":"","layout":"","viewCount":105,"userName":"yqfly2008","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr11pC3JzM.png?v=1513242294874","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"yqfly2008"}}