{"status":0,"data":{"cid":"xKyHMuZZe","authorUid":"bd-1027371310","authorUserName":"1***A","title":"3D 线图","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2019-11-07T11:48:18.000Z","lastUpdateTime":"2019-11-07T11:48:18.000Z","auth":2,"uid":"bd-1027371310","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-08T09:49:18.000Z","code":"let canvas = document.createElement('canvas');\nlet mapChart = echarts.init(canvas, null, {\n    width: 4096,\n    height: 2048\n});\nlet pOp = {\n    geo: {\n        // map: 'world',  // 切换中国地图和世界地图\n        show:true,\n        map: 'china',\n        label: {\n\t\t\tshow: true,\n\t\t\tcolor: '#f66',         // 地图上标签的颜色\n\t\t\tfontWeight: 'bold',    //  字体粗细\n\t\t\tfontSize:16,           // 字体大小\n\t\t\temphasis: {\n\t\t\t\tcolor: '#000',     // 鼠标选中后的颜色\n\t\t\t\tshow: false\n\t\t\t}\n\t\t},\n        itemStyle: {\n            areaColor: 'transparent',\n            borderColor: '#ffff00',\n            \n        },\n        emphasis: {\n            areaColor: 'transparent'\n        },\n        regions: [{\n            name: \"南海诸岛\",\n            value: 0,\n            itemStyle: {\n                normal: {\n                    opacity: 0,\n                    label: {\n                        show: false\n                    }\n                }\n            }\n        }],\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        boundingCoords: [\n            [-180, 90],\n            [180, -90]\n        ]\n    },\n    data: []\n}\nmapChart.setOption(pOp);\n\n\noption = {\n    backgroundColor: '#333',\n    visualMap: {\n        show: false,\n        // min: 0,\n        max: 3000,\n        type: 'continuous',\n        seriesIndex: 0,\n        text: ['scatter3D'],\n        textStyle: {\n            color: '#fff'\n        },\n        calculable: true,\n        inRange: {\n            // symbolSize: [1.0, 10.0]\n            color: ['#87aa66', '#eba438', '#d94d4c'],  //\n            symbolSize: [8, 30]\n        },\n    },\n    globe: {\n        // baseTexture: ROOT_PATH + \"data-gl/asset/world.topo.bathy.200401.jpg\",\n        // heightTexture: ROOT_PATH + \"data-gl/asset/world.topo.bathy.200401.jpg\",\n        baseTexture: \"/asset/get/s/data-1565167424629-_VRUzTZn2.jpg\",\n        heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',\n        displacementScale: 0.04,\n        displacementQuality: 'high',\n        globeOuterRadius: 110,         // 数据半径（数据值 与 地心的距离）\n        // baseColor: '#000',          // 地表颜色\n        shading: 'realistic',\n        // environment: ROOT_PATH + 'data-gl/asset/starfield.jpg',    // 背景环境\n        environment: '/asset/get/s/data-1491837999815-H1_44Qtal.jpg',\n        realisticMaterial: {\n            roughness: 0.9,\n            // metalness: 0\n        },\n        postEffect: {\n            enable: true,\n            // depthOfField: {                              // 景深（模糊处理）\n            //     focalRange: 15,\n            //     enable: true,\n            //     focalDistance: 100\n            // }\n        },\n        temporalSuperSampling: {\n            enable: false\n        },\n        light: {\n            main: {\n                color: '#fff', // 光照颜色\n                intensity: 2.8, // 光照强度\n                shadow: false // 是否显示纹理的阴影\n            },\n            ambientCubemap: { // 背景光照调节\n                // texture: ROOT_PATH + 'data-gl/asset/pisa.hdr',\n                // exposure: 1,\n                // specularIntensity: 2,\n                diffuseIntensity: 0.2\n            }\n        },\n        viewControl: {\n            projection: 'perspective',\n            alpha: 0,\n            beta: 180,\n            center: [0, 0, 0], // 距离地轴的位置[左、上、右]\n            targetCoord: [120, 38], // 旋转的水平面的起点坐标\n            autoRotate: true,\n            autoRotateAfterStill: 20, // 暂停20秒后会自动旋转\n            distance: 166 // 视距\n        },\n        layers: [{\n            type: 'blend',\n            texture: mapChart\n        }]\n    },\n    series: [\n    {   // 气泡图\n        type: 'scatter3D', // 可视化类型\n        coordinateSystem: 'globe', // 坐标系统\n        blendMode: 'lighter',\n        symbolSize: 2,\n        itemStyle: {\n            // color: 'rgb(255,255, 255)',   \n            color: 'rgb(255,0,0)', // 数据颜色\n            opacity: 1\n        },\n        // data: data\n        data: []\n    }, \n    {   // 线图\n        name: 'lines3D',\n        type: 'lines3D',\n        coordinateSystem: 'globe',\n        effect: {\n            show: true,\n            period: 2,\n            trailWidth: 1,\n            trailLength: 0.5,\n            trailOpacity: 1,\n            trailColor: '#0087f4'\n        },\n        blendMode: 'lighter',\n        lineStyle: {\n            width: 1,\n            color: '#0087f4',\n            opacity: 0\n        },\n        data: [],\n        silent: false,\n    }]\n}\n\nmyChart.setOption(option);\n\nfor (let i = 0; i < 50; i++) {\n    option.series[1].data = option.series[1].data.concat(getRandomData())\n}\n\nfunction getRandomData() {\n    return {\n        coords: [\n            [Math.random() * 135.20, Math.random() * 53.33],\n            [121.51585, 31.23045]\n        ],\n        value: (Math.random() * 30).toFixed(2)\n    }\n}","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-1027371310","theme":"","layout":"","viewCount":468,"userName":"1***A","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKyHMuZZe.png?v=1573206558540","isCustomThumbnail":0,"builtinTags":["category-work","globe","series-lines3D","series-scatter3D","visualMap"],"customTags":[],"updaterUserName":"1***A"}}