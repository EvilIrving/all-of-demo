{"status":0,"data":{"cid":"xAEQV8NopU","authorUid":"obd-oEugWvBjIOiv5wDuUikhvZcMKDsbQ4T","authorUserName":"银***4","title":"分类雷达图","description":"不同类型的数据，显示在同一个雷达图内，并根据颜色区分类型","latestVersion":1,"alwaysLatest":1,"createTime":"2021-02-24T07:14:05.000Z","lastUpdateTime":"2021-02-24T07:14:05.000Z","auth":2,"uid":"obd-oEugWvBjIOiv5wDuUikhvZcMKDsbQ4T","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-24T07:14:05.000Z","code":"  const symbolColors = [\n  '#0075ee',\n  '#6666FF',\n  '#66CCCC',\n  '#FFCC00',\n  '#0099CC',\n  '#FF9999',\n  '#99CC00',\n  '#CC3333',\n  '#003300',\n  '#999933',\n  '#99CCFF',\n  '#FF9966',\n  '#CC6600',\n  '#999966',\n  '#663333',\n];\n  \n  const data = [\n    {\n      id: 1,\n      name: '数据供给价值分类',\n      value: 60,\n      percent: '40%',\n      children: [\n        {\n          name: '调用成功率',\n          value: 10,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '订阅量',\n          value: 15,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '总调用量',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '今日调用量',\n          value: 25,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '产品访问量',\n          value: 30,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '产品更新频率',\n          value: 25,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '产品信息完整性',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '产品发布渠道数量',\n          value: 10,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n      ],\n    },\n    {\n      id: 2,\n      name: '衍生价值分类',\n      value: 20,\n      percent: '40%',\n      children: [\n        {\n          name: '产品有效期',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '用户评价',\n          value: 10,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '创新型产品',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n        {\n          name: '产品用于编排',\n          value: 50,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n      ],\n    },\n    {\n      id: 3,\n      name: '收入变现价值分类',\n      value: 10,\n      percent: '10%',\n      children: [\n        {\n          name: '年收入',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n      ],\n    },\n    {\n      id: 4,\n      name: '降低支出价值分类',\n      value: 10,\n      percent: '10%',\n      children: [\n        {\n          name: '年降低支出',\n          value: 20,\n          percent: '12%',\n          desc:\n            '调用成功率=100%，得分为基础得分权重100%；调用成功率比100%每下降1%，得分比基础得分权重100%下降10%',\n        },\n      ],\n    },\n  ];\n  \n  let childrenArray = []; // data 的所有children数组\n  let names = []; // data 的所有children的name数组\n \n  data.forEach((item) => {\n    names = names.concat(item.children.map((i) => i.name));\n    childrenArray = childrenArray.concat(item.children);\n  });\n\n  const childrenValueArray = childrenArray.map((item) => item.value); // 所有children的value\n  const maxValue = Math.max.apply(null, childrenValueArray); // 所有children的value 的最大值\n  const indicator = names.map((item) => ({ name: item, max: maxValue }));\n\n  let len = 0;\n  \n  const buildSeries = () => {\n    const helper = data.map((item) => {\n      const arr = new Array(names.length);\n      const childrenLen = item.children.length;\n      arr.splice(len, childrenLen, ...item.children);\n      len += childrenLen;\n      return arr;\n    });\n\n    return [childrenArray, ...helper].map((item, index) => {\n      const itemValues = item.map((i) => {\n        if (!i) return i;\n        return i.value;\n      });\n\n      return {\n        type: 'radar',\n        symbol: 'circle',\n        symbolSize: 5,\n        silent: true,\n        itemStyle: {\n          borderWidth: index === 0 ? 0 : '',\n          color: index === 0 ? '#000' : symbolColors[index - 1],\n          show: !(index === 0),\n        },\n        lineStyle: {\n          color: index === 0 ? 'black' : 'transparent',\n          opacity: 0.3,\n        },\n        z: index + 1,\n        data: [itemValues],\n      };\n    });\n  };\n\nconst whiteSymbol = {\n      type: 'radar', // 这个图层是为了盖住圆心，如果去掉，圆心的颜色为最后一个图层的颜色（不信就自己试试）\n      silent: true,\n      z: 999, // 图层是一层一层叠加，所以这个也是一级一级递增\n      data: [Array.from({ length: childrenValueArray.length }).map(() => '')],\n      itemStyle: {\n        normal: {\n          color: '#fff',\n        },\n      },\n      lineStyle: {\n        width: 0,\n        labelLine: {\n          show: false, // 隐藏标示线\n        },\n      },\n};\n\noption = {\n    \n      color: ['rgba(245, 166, 35, 1)'],\n      title: {\n        show: true,\n        text: '分类雷达图',\n        textStyle: {\n          fontSize: 14,\n          color: '#666666',\n        },\n      },\n      legend: {\n        show: false,\n      },\n      radar: {\n        center: ['50%', '50%'],\n        radius: '60%',\n        startAngle: 90,\n        splitNumber: 4,\n        shape: 'circle',\n        splitArea: {\n          areaStyle: {\n            color: ['transparent'],\n          },\n        },\n        name: {\n          textStyle: {\n            color: '#666666',\n          },\n        },\n        axisLabel: {\n          show: false,\n        },\n        axisLine: {\n          show: true,\n        },\n        splitLine: {\n          show: true,\n        },\n        indicator,\n      },\n      series: [...buildSeries(), whiteSymbol],\n    \n};","html":"","externalScripts":"","updaterUID":"obd-oEugWvBjIOiv5wDuUikhvZcMKDsbQ4T","theme":"","layout":"","viewCount":65,"userName":"银***4","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAEQV8NopU.png?v=1614150846297","isCustomThumbnail":0,"builtinTags":["category-work","legend","radar","series-radar","title"],"customTags":[],"updaterUserName":"银***4"}}