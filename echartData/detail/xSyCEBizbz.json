{"status":0,"data":{"cid":"xSyCEBizbz","authorUid":"bd-1208110063","authorUserName":"天杀包子神","title":"有选中时放大","description":"不选中的时候缩回zoom:1","latestVersion":3,"alwaysLatest":1,"createTime":"2017-12-04T10:36:38.000Z","lastUpdateTime":"2017-12-04T10:36:38.000Z","auth":1,"uid":"bd-1208110063","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.8.0","versionCreateTime":"2018-08-09T01:03:06.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1511850713219-BkWkmF5xM.json\";\n$.get(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('map', geoJson);\n    jsonmap = echarts.getMap('map').geoJson.features;\n});\noption = {\n    geo: {\n        map: 'map',\n        scaleLimit: {\n            max: 4,\n            min: 1,\n        },\n        selectedMode: 'single',\n    }\n};\n\n//选中时缩放至选中处 无任何选中时回归中心\nmyChart.on(\"geoselectchanged\", function(e) {\n    //根据地图数据获取中心位置 \n    var cppoint = jsonmap.find(function(a) {\n        return a.properties.name == e.batch[0].name;\n    }).properties;\n    //筛选选中的城市\n    var selected = Object.entries(e.batch[0].selected).filter(function(a) {\n        return a[1];\n    }).map(function(a) {\n        return a[0];\n    });\n    if (!selected.length) {\n        myChart.setOption(option = {\n            geo: {\n                center: null,\n                zoom: 1,\n            }\n        });\n    } else {\n        myChart.setOption(option = {\n            geo: {\n                center: cppoint.cp,\n                zoom: 3,\n            }\n        });\n    }\n});","html":"","externalScripts":"","updaterUID":"bd-3671262176","theme":"","layout":"","viewCount":337,"userName":"天杀包子神","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyCEBizbz.png?v=1533776586895","isCustomThumbnail":0,"builtinTags":["category-work","geo"],"customTags":[],"updaterUserName":"杨雨静521"}}