{"status":0,"data":{"cid":"xSRh6PzYmw","authorUid":"bd-541990002","authorUserName":"张***炫","title":"互动营销中心全球用户","description":"单位:人","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-06T02:20:24.000Z","lastUpdateTime":"2020-05-06T02:20:24.000Z","auth":2,"uid":"bd-541990002","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-06T02:20:24.000Z","code":"var data = [{\n        \"time\": 2020.1,\n        \"data\": [{\n                \"name\": \"美国\",\n                \"value\": [1025000, 31.222, \"美国\"]\n            },\n            {\n                \"name\": \"俄国\",\n                \"value\": [433412, 13.202, \"俄国\"]\n            },\n            {\n                \"name\": \"Japan\",\n                \"value\": [209071, 6.369, \"日本\"]\n            },\n            {\n                \"name\": \"Germany\",\n                \"value\": [208867, 6.362, \"德国\"]\n            },\n            {\n                \"name\": \"France\",\n                \"value\": [146982, 4.477, \"法国\"]\n            },\n            {\n                \"name\": \"United Kingdom\",\n                \"value\": [124970, 3.807, \"英国\"]\n            },\n            {\n                \"name\": \"Italy\",\n                \"value\": [109260, 3.328, \"意大利\"]\n            },\n            {\n                \"name\": \"China\",\n                \"value\": [91506, 2.787, \"中国\"]\n            },\n            {\n                \"name\": \"Canada\",\n                \"value\": [86303, 2.629, \"加拿大\"]\n            },\n            {\n                \"name\": \"India\",\n                \"value\": [61470, 1.873, \"印度\"]\n            }\n        ]\n    },\n    {\n        \"time\": 2020.2,\n        \"data\": [{\n                \"name\": \"United States of America\",\n                \"value\": [2768900, 23.337, \"美国\"]\n            },\n            {\n                \"name\": \"Japan\",\n                \"value\": [1086988, 9.027, \"日本\"]\n            },\n            {\n                \"name\": \"Russia\",\n                \"value\": [940038, 7.923, \"俄国\"]\n            },\n            {\n                \"name\": \"Germany\",\n                \"value\": [919651, 6.253, \"德国\"]\n            },\n            {\n                \"name\": \"France\",\n                \"value\": [691157, 5.825, \"法国\"]\n            },\n            {\n                \"name\": \"United Kingdom\",\n                \"value\": [541917, 4.567, \"英国\"]\n            },\n            {\n                \"name\": \"Italy\",\n                \"value\": [459811, 3.875, \"意大利\"]\n            },\n            {\n                \"name\": \"China\",\n                \"value\": [306520, 2.583, \"中国\"]\n            },\n            {\n                \"name\": \"Canada\",\n                \"value\": [268889, 2.266, \"加拿大\"]\n            },\n            {\n                \"name\": \"Mexico\",\n                \"value\": [227664, 1.919, \"墨西哥\"]\n            }\n        ]\n    },\n    {\n        \"time\": 2020.3,\n        \"data\": [{\n                \"name\": \"United States of America\",\n                \"value\": [5754800, 25.921, \"美国\"]\n            },\n            {\n                \"name\": \"Japan\",\n                \"value\": [3103698, 13.774, \"日本\"]\n            },\n            {\n                \"name\": \"Germany\",\n                \"value\": [1714447, 7.722, \"德国\"]\n            },\n            {\n                \"name\": \"France\",\n                \"value\": [1244419, 5.605, \"法国\"]\n            },\n            {\n                \"name\": \"Italy\",\n                \"value\": [1133465, 5.105, \"意大利\"]\n            },\n            {\n                \"name\": \"United Kingdom\",\n                \"value\": [1012617, 4.561, \"英国\"]\n            },\n            {\n                \"name\": \"Russia\",\n                \"value\": [775810, 3.501, \"俄国\"]\n            },\n            {\n                \"name\": \"Canada\",\n                \"value\": [582735, 2.625, \"加拿大\"]\n            },\n            {\n                \"name\": \"Spain\",\n                \"value\": [520938, 2.346, \"西班牙\"]\n            },\n            {\n                \"name\": \"China\",\n                \"value\": [404494, 1.822, \"中国\"]\n            }\n        ]\n    },\n    {\n        \"time\": 2020.4,\n        \"data\": [{\n                \"name\": \"United States of America\",\n                \"value\": [9898800, 30.659, \"美国\"]\n            },\n            {\n                \"name\": \"Japan\",\n                \"value\": [4731199, 14.456, \"日本\"]\n            },\n            {\n                \"name\": \"Germany\",\n                \"value\": [1886400, 5.843, \"德国\"]\n            },\n            {\n                \"name\": \"United Kingdom\",\n                \"value\": [1477132, 4.575, \"英国\"]\n            },\n            {\n                \"name\": \"France\",\n                \"value\": [1326333, 4.108, \"法国\"]\n            },\n            {\n                \"name\": \"China\",\n                \"value\": [1192836, 3.695, \"中国\"]\n            },\n            {\n                \"name\": \"Italy\",\n                \"value\": [1097343, 3.399, \"意大利\"]\n            },\n            {\n                \"name\": \"Canada\",\n                \"value\": [724914, 2.245, \"加拿大\"]\n            },\n            {\n                \"name\": \"Brazil\",\n                \"value\": [644729, 1.997, \"巴西\"]\n            },\n            {\n                \"name\": \"Mexico\",\n                \"value\": [636731, 1.972, \"墨西哥\"]\n            }\n        ]\n    },\n    {\n        \"time\": 2020.5,\n        \"data\": [{\n                \"name\": \"United States of America\",\n                \"value\": [14419600, 22.679, \"美国\"]\n            },\n            {\n                \"name\": \"China\",\n                \"value\": [5951462, 9.360, \"中国\"]\n            },\n            {\n                \"name\": \"Japan\",\n                \"value\": [5488424, 8.632, \"日本\"]\n            },\n            {\n                \"name\": \"Germany\",\n                \"value\": [3306028, 5.200, \"德国\"]\n            },\n            {\n                \"name\": \"France\",\n                \"value\": [2565755, 4.035, \"法国\"]\n            },\n            {\n                \"name\": \"United Kingdom\",\n                \"value\": [2266049, 3.564, \"英国\"]\n            },\n            {\n                \"name\": \"Brazil\",\n                \"value\": [2143035, 3.371, \"巴西\"]\n            },\n            {\n                \"name\": \"Italy\",\n                \"value\": [2056941, 3.235, \"意大利\"]\n            },\n            {\n                \"name\": \"India\",\n                \"value\": [1678297, 2.640, \"印度\"]\n            },\n            {\n                \"name\": \"Canada\",\n                \"value\": [1577040, 2.480, \"加拿大\"]\n            }\n        ]\n    }\n]\n\n\nvar option = {\n    baseOption: {\n        animationDurationUpdate: 1000,\n        animationEasingUpdate: 'quinticInOut',\n        timeline: {\n            axisType: 'category',\n            orient: 'vertical',\n            autoPlay: true,\n            inverse: true,\n            playInterval: 5000,\n            left: null,\n            right: 5,\n            top: 20,\n            bottom: 20,\n            width: 46,\n            height: null,\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            symbol: 'none',\n            lineStyle: {\n                color: '#555'\n            },\n            checkpointStyle: {\n                color: '#bbb',\n                borderColor: '#777',\n                borderWidth: 1\n            },\n            controlStyle: {\n                showNextBtn: false,\n                showPrevBtn: false,\n                normal: {\n                    color: '#666',\n                    borderColor: '#666'\n                },\n                emphasis: {\n                    color: '#aaa',\n                    borderColor: '#aaa'\n                }\n            },\n            data: data.map(function(ele) {\n                return ele.time\n            })\n        },\n        backgroundColor: '#404a59',\n        title: {\n            text: '互动营销中心全球用户',\n            subtext: '单位:人',\n            left: 'center',\n            top: 'top',\n            textStyle: {\n                fontSize: 25,\n                color: 'rgba(255,255,255, 0.9)'\n            }\n        },\n        tooltip: {\n            formatter: function(params) {\n                if ('value' in params.data) {\n                    return params.data.value[2] + ': ' + params.data.value[0];\n                }\n            }\n        },\n        grid: {\n            left: '12%',\n            right: '45%',\n            top: '70%',\n            bottom: 20\n        },\n        xAxis: {},\n        yAxis: {},\n        series: [{\n            id: 'map',\n            type: 'map',\n            mapType: 'world',\n            top: '10%',\n            bottom: '25%',\n            left: 10,\n            itemStyle: {\n                normal: {\n                    areaColor: '#323c48',\n                    borderColor: '#404a59'\n                },\n                emphasis: {\n                    label: {\n                        show: true\n                    },\n                    areaColor: 'rgba(255,255,255, 0.5)'\n                }\n            },\n            data: []\n        }, {\n            id: 'bar',\n            type: 'bar',\n            tooltip: {\n                show: false\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            data: []\n        }, {\n            id: 'pie',\n            type: 'pie',\n            radius: ['8%', '20%'],\n            center: ['75%', '85%'],\n            roseType: 'radius',\n            tooltip: {\n                formatter: '{b} {d}%'\n            },\n            data: [],\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            labelLine: {\n                normal: {\n                    lineStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: 'rgba(0,0,0,0.3)',\n                    borderSize: 1\n                }\n            }\n        }]\n    },\n    options: []\n}\n\nfor (var i = 0; i < data.length; i++) {\n    //计算其余国家GDP\n    var restPercent = 100;\n    var restValue = 0;\n    data[i].data.forEach(function(ele) {\n        restPercent = restPercent - ele.value[1];\n    });\n    restValue = data[i].data[0].value[0] * (restPercent / data[i].data[0].value[1]);\n    console.log(restPercent);\n    console.log(restValue);\n    option.options.push({\n        visualMap: [{\n            dimension: 0,\n            left: 10,\n            itemWidth: 12,\n            min: data[i].data[9].value[0],\n            max: data[i].data[0].value[0],\n            text: ['High', 'Low'],\n            textStyle: {\n                color: '#ddd'\n            },\n            inRange: {\n                color: ['lightskyblue', 'yellow', 'orangered', 'red']\n            }\n        }],\n        xAxis: {\n            type: 'value',\n            boundaryGap: [0, 0.1],\n            axisLabel: {\n                show: false,\n            }\n        },\n        yAxis: {\n            type: 'category',\n            axisLabel: {\n                textStyle: {\n                    color: '#ddd'\n                }\n            },\n            data: data[i].data.map(function(ele) {\n                return ele.value[2]\n            }).reverse()\n        },\n        series: [{\n            id: 'map',\n            data: data[i].data\n        }, {\n            id: 'bar',\n            data: data[i].data.map(function(ele) {\n                return ele.value[0]\n            }).sort(function(a, b) {\n                return a > b\n            })\n        }, {\n            id: 'pie',\n            data: data[i].data.map(function(ele) {\n                return {\n                    name: ele.value[2],\n                    value: ele.value\n                }\n            }).concat({\n                name: '其他国家',\n                value: restValue\n            }),\n        }]\n    })\n}","html":"","externalScripts":"dep/echarts/map/js/world.js","updaterUID":"bd-541990002","theme":"","layout":"","viewCount":735,"userName":"张***炫","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSRh6PzYmw.png?v=1588731624636","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","series-pie","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"张***炫"}}