{"status":0,"data":{"cid":"xEH4pzj7PA","authorUid":"bd-3984185559","authorUserName":"135*****474","title":"可变长度饼图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-17T03:45:31.000Z","lastUpdateTime":"2021-09-17T03:45:31.000Z","auth":2,"uid":"bd-3984185559","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-17T03:45:31.000Z","code":"var data = [\n    {\n        name: '处室1',\n        sqjd: 900, // 扇区角度数据\n        sqcd: 60, // 扇区长度数据\n    },\n    {\n        name: '处室2',\n        sqjd: 820,\n        sqcd: 30,\n    },\n    {\n        name: '处室3',\n        sqjd: 740,\n        sqcd: 210,\n    },\n    {\n        name: '处室4',\n        sqjd: 660,\n        sqcd: 100,\n    },\n    {\n        name: '处室5',\n        sqjd: 580,\n        sqcd: 150,\n    },\n    {\n        name: '处室6',\n        sqjd: 500,\n        sqcd: 10,\n    },\n    {\n        name: '处室7',\n        sqjd: 420,\n        sqcd: 280,\n    },\n    {\n        name: '处室8',\n        sqjd: 340,\n        sqcd: 360,\n    },\n    {\n        name: '处室9',\n        sqjd: 260,\n        sqcd: 450,\n    },\n    {\n        name: '处室10',\n        sqjd: 180,\n        sqcd: 550,\n    },\n];\nvar sqcdTotal = 0;\nvar seriesData = [];\ndata.forEach((item) => {\n     sqcdTotal += item.sqcd;\n});\n\ndata.forEach((item) => {\n     seriesData.push(\n        {\n            name: item.name,\n            type: 'bar',\n            max: 900,\n            data: [item.sqjd],\n            barWidth: (item.sqcd / sqcdTotal) * 100 + '%',\n            barGap: 0,\n            coordinateSystem: 'polar',\n        });\n});\n\noption = {\n    tooltip: {\n        show: true,\n        formatter: '{a} <br/> {c}',\n    },\n    angleAxis: {\n        type: 'category',\n        axisLine: {\n            show: false,\n        },\n    },\n    radiusAxis: {\n        max: 2000,\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n        },\n    },\n    polar: {\n        center: ['50%', '50%'],\n        radius: [20, '80%'],\n    },\n    series: [\n        ...seriesData\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-3984185559","theme":"","layout":"","viewCount":0,"userName":"135*****474","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xEH4pzj7PA.png?v=1631850331292","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","tooltip"],"customTags":[],"updaterUserName":"135*****474"}}