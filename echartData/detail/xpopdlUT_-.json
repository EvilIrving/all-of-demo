{"status":0,"data":{"cid":"xpopdlUT_-","authorUid":"bd-1078437236","authorUserName":"右***变","title":"圆形图, 数据汇聚","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-05-25T06:09:24.000Z","lastUpdateTime":"2019-05-25T06:09:24.000Z","auth":2,"uid":"bd-1078437236","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-25T06:12:03.000Z","code":"var scaleData = [{\r        'name': '这个图真难',\r        'value': 4000,\r        'value1': 421200,\r        'part': 6, // 定死圆环的宽度, 否则数据出现两极化\r    },\r    {\r        'name': '难死了, 我不会用圆点来渐变',\r        'value': 100, \r        'value1': 10210, \r        'part': 5,\r    },\r    {\r        'name': '我是排好序的数据',\r        'value': 90,\r        'value1': 200,\r        'part': 4,\r        \r    },\r    {\r        'name': '我是模块固定死的',\r        'value': 60,\r        'value1': 100,\r        'part': 3,\r    },\r    {\r        'name': '只展示前5个 其他的都用其他',\r        'value': 10,\r        'value1': 12,\r        'part': 2,\r    },\r    {\r        'name': '其他',\r        'value': 1,\r        'value1': 8,\r        'part': 1,\r    },\r  \r];\rvar rich = {\r    circle: {\r        color: '#333',\r        fontSize: 5,\r        fontFamily: 'Arial',\r        borderWidth: 3,\r        backgroundColor: '#984455',\r        padding: [1, 1, 1, 1],\r        width: 0,\r        height: 0,\r        lineHeight: 20,\r        borderColor: 'red',\r        borderWidth: 20,\r        position: ['10', '20'],\r        borderRadius: '50%',\r    },\r};\rvar placeHolderStyle = {\r    normal: {\r        label: {\r            show: false\r        },\r        labelLine: {\r            show: false\r        },\r        color: 'rgba(0, 0, 0, 0)',\r        // borderColor: 'rgba(0, 0, 0, 0)',\r        borderWidth: 0\r    }\r};\rvar data = [];\rvar data1 = [];\rvar data2 = [];\rvar color=['red','#00cfff','#006ced','#ffe000','#ffa800','#ff5b00','#ff3000']\rvar color1=['red','red','red','#ffe000','#ffa800','#ff5b00','#ff3000']\rfor (var i = 0; i < scaleData.length; i++) {\r    data.push({\r        value: scaleData[i].part,\r        total: scaleData[i].value,\r        valueCopy: scaleData[i].value1,\r        name: scaleData[i].name,\r        itemStyle: {\r            normal: {\r                borderWidth: 8,\r                // borderColor:color[i],\r                color: color[i],\r            }\r        }\r    }, {\r        value: 0.5,\r        name: '',\r        tooltip: {\r        show: false,\r    },\r        itemStyle: placeHolderStyle\r    });\r    data1.push({\r        value: scaleData[i].part,\r        total: scaleData[i].value,\r        valueCopy: scaleData[i].value1,\r        name: scaleData[i].name,\r        itemStyle: {\r            normal: {\r                borderWidth: 8,\r                // borderColor:color1[i],\r                // color: '#ccc',\r            }\r        }\r    }, {\r        value: 0.5,\r        name: '',\r        tooltip: {\r        show: false,\r    },\r        itemStyle: placeHolderStyle,\r    });\r    data2.push({\r        value: scaleData[i].part,\r        total: scaleData[i].value,\r        valueCopy: scaleData[i].value1,\r        name: scaleData[i].name,\r        itemStyle: {\r            normal: {\r                borderWidth: 8,\r                // borderColor:color1[i],\r                // color: '#ccc',\r            }\r        }\r    }, {\r        value: 2,\r        name: '',\r        tooltip: {\r        show: false,\r    },\r        itemStyle: placeHolderStyle\r    });\r}\rvar seriesObj = [{ // 最外圈\r\r    name: '',\r     tooltip: {\r        show: false,\r    },\r    type: 'pie',\r    zlevel: '-2',\r    radius: ['82%', '82.5%'],\r    clockWise: false,\r    hoverAnimation: false,\r    itemStyle: {\r        normal: {\r            color: '#D9D9D9',\r            label: {\r                show: true,\r                position: 'outside',\r                color: '#666',\r                formatter: function(params) {\r                    var percent = 0;\r                    var total = 0;\r                    for (var i = 0; i < scaleData.length; i++) {\r                        total += scaleData[i].value;\r                    }\r                    percent = ((params.value / total) * 100).toFixed(0);\r                    if(params.name !== '' && params.name.length > 5) {\r                        return params.name.substring(0, 5) + '...';\r                    } else if (params.name !== '' && params.name.length <= 5) {\r                        return params.name;\r                    } else {\r                        return '';\r                    }\r                },\r                rich: rich\r            },\r            labelLine: {\r                length:3,\r                length2:0,\r                show: true,\r                color:'#00ffff'\r            }\r        }\r    },\r    data: data1\r}, {\r    name: '',\r    type: 'pie',\r    radius: ['75%', '80%'],\r    clockWise: false,\r    hoverAnimation: false,\r    // zlevel: '',\r    itemStyle: {\r        normal: {\r            label: {\r                show: false,\r                position: 'inside',\r                color: '#ddd',\r                // formatter: function(params) {\r                //     if(params.name !== '') {\r                //         return params.name;\r                //     }else {\r                //         return '';\r                //     }\r                // },\r                // rich: rich\r            },\r            labelLine: {\r                length:30,\r                length2:100,\r                show: true,\r            }\r        }\r    },\r    data: data\r},\r// { // 最大方块\r//     name: '',\r//     type: 'pie',\r//     tooltip: {\r//         show: false,\r//     },\r//     zlevel: '-2',\r//     radius: ['65%', '65%'],\r//     clockWise: false,\r//     hoverAnimation: false,\r//     // backgroundColor: 'transparent',\r//     itemStyle: {\r//         normal: {\r//             label: {\r//                 show: true,\r//                 position: 'outside',\r//                 color: 'transparent',\r//                 formatter: function(params) {\r//                     if(params.name !== '') {\r//                         return '';\r//                     }else {\r//                         return '';\r//                     }\r//                 },\r//                 // rich: rich\r//             },\r//             labelLine: {\r//                 length:20,\r//                 length2:0,\r//                 show: true,\r//                 smooth: true,\r//                 color:'#00ffff',\r//                 lineStyle: {\r//                     width: 20,\r//                     type: 'dotted',\r//                     opacity: '1'\r//                 }\r//             }\r//         }\r//     },\r    \r//     data: data\r// },\r// { // 第二方块\r//     name: '',\r//     type: 'pie',\r//     tooltip: {\r//         show: false,\r//     },\r//     zlevel: '-4',\r//     radius: ['55%', '55%'],\r//     clockWise: false,\r//     hoverAnimation: false,\r//     itemStyle: {\r//         normal: {\r//             label: {\r//                 show: true,\r//                 position: 'outside',\r//                 color: 'transparent',\r//                 formatter: function(params) {\r//                     if(params.name !== '') {\r//                         return '';\r//                     }else {\r//                         return '';\r//                     }\r//                 },\r//                 // rich: rich\r//             },\r//             labelLine: {\r//                 length:10,\r//                 length2:0,\r//                 color:'#00ffff',\r//                 lineStyle: {\r//                     width: 10,\r//                     type: 'dotted',\r//                     opacity: '0.8'\r//                 }\r//             }\r//         }\r//     },\r    \r//     data: data\r// },\r// { // 第二方块\r//     name: '',\r//     type: 'pie',\r//     zlevel: '-5',\r//     tooltip: {\r//         show: false,\r//     },\r//     radius: ['45%', '45%'],\r//     clockWise: false,\r//     hoverAnimation: false,\r//     itemStyle: {\r//         normal: {\r//             label: {\r//                 show: true,\r//                 position: 'outside',\r//                 color: 'transparent',\r//                 formatter: function(params) {\r//                     if(params.name !== '') {\r//                         return '';\r//                     }else {\r//                         return '';\r//                     }\r//                 },\r//                 rich: rich\r//             },\r//             labelLine: {\r//                 length:10,\r//                 length2:0,\r//                 show: true,\r//                 // smooth: true,\r//                 // color:'#00ffff',\r//                 lineStyle: {\r//                     width: 10,\r//                     type: 'dotted',\r//                     opacity: '0.5'\r//                 }\r//             }\r//         }\r//     },\r    \r//     data: data\r// },\r{ // 第三个\r    name: '',\r    type: 'pie',\r    tooltip: {\r        show: false,\r    },\r    zlevel: '-6',\r    radius: ['41%', '42%'],\r    clockWise: false,\r    hoverAnimation: false,\r    itemStyle: {\r        normal: {\r            color: '#00AEE5',\r            label: {\r                show: false,\r            },\r            \r        }\r    },\r    data: [0]\r},\r{ // 第四个\r    name: '',\r    type: 'pie',\r    tooltip: {\r        show: false,\r    },\r    zlevel: '-3',\r    radius: ['35%', '40%'],\r    clockWise: false,\r    hoverAnimation: false,\r    itemStyle: {\r        normal: {\r            color: '#F5FCFE',\r            label: {\r                show: false,\r            },\r            \r        }\r    },\r    data: [0]\r}, { // 第五个\r    name: '',\r    type: 'pie',\r    tooltip: {\r        show: false,\r    },\r    zlevel: '-3',\r    radius: ['34.5%', '35%'],\r    clockWise: false,\r    hoverAnimation: false,\r    itemStyle: {\r        normal: {\r            color: '#00AEE5',\r            label: {\r                show: false,\r            },\r            \r        }\r    },\r    data: [0]\r}];\roption = {\r    //  tooltip: {\r    //     show: true,\r    //     trigger: 'item',\r    //     formatter: \"{b0} : {c0} ({c1})\"\r    //     formatter: function(params) {\r    //         return \r            \r    //     }\r    // },\r    tooltip: {\r            trigger: 'item',\r            formatter: function(params) {\r                var res = params.name+'<br/>';\r                var myseries = option.series;\r                for (var i = 0; i < 1; i++) {\r                    for(var j=0;j<myseries[i].data.length;j++){\r                        if(myseries[i].data[j].name==params.name){\r                            res+='总条数: '+ myseries[i].data[j].value  + '</br>' + '总次数: ' +myseries[i].data[j].valueCopy+'</br>';\r                        }\r                    }\r                }\r                //  res+=params.name +' : '+params.value1+'</br>';\r                return res;\r            }\r        },\r \r\r    backgroundColor: '#fff',\r    // tooltip: {\r    //     show: false\r    // },\r    legend: {\r        show: false\r    },\r    toolbox: {\r        show: false\r    },\r    title: {\r        text: '1890',\r        left: '50%',\r        textAlign: 'center',\r        top: '45%',\r        textStyle:{\r            fontSize:60,\r            color: '#00b4ed',\r            \r        },\r        color: '#00b4ed',\r    },\r    series: seriesObj\r}","html":"","externalScripts":"","updaterUID":"bd-1078437236","theme":"","layout":"","viewCount":191,"userName":"右***变","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpopdlUT_-.png?v=1558764723554","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"右***变"}}