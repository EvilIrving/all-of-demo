{"status":0,"data":{"cid":"x5zy29Isr","authorUid":"bd-390031333","authorUserName":"w***3","title":"类温度计图","description":"类温度计的展示","latestVersion":2,"alwaysLatest":1,"createTime":"2020-02-29T02:02:00.000Z","lastUpdateTime":"2020-02-29T02:02:00.000Z","auth":2,"uid":"bd-390031333","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-29T02:02:20.000Z","code":"var myData = [{\r\n    name: '1',\r\n    value: 18.9\r\n},{\r\n    name: '2',\r\n    value: 38\r\n},{\r\n    name: '3',\r\n    value: 72\r\n},{\r\n    name: '4',\r\n    value: 0\r\n},{\r\n     name: '5',\r\n    value: 25\r\n},{\r\n    name: '总体积',\r\n    value: 167\r\n}];\r\n\r\nvar xaxisData = {\r\n    type: 'category',\r\n    gridIndex: 0,\r\n    axisTick:{\r\n        show: false\r\n    },\r\n    axisLine:{\r\n        show: false\r\n    }\r\n};\r\nvar yaxisData = {\r\n    type: 'value',\r\n    splitLine:{\r\n       show: false  \r\n    },\r\n    axisTick:{\r\n        inside: true,\r\n        length : 18\r\n    },\r\n    axisLabel:{\r\n        show: false,\r\n        inside: true,\r\n    }\r\n};\r\nvar sData = {\r\n    type: 'scatter',\r\n    data:[0,20,40,60,80,100],\r\n    itemStyle:{\r\n        color: 'rgba(0,0,0,0)'\r\n    },\r\n    label:{\r\n        show: true,\r\n        color: '#2e57ac',\r\n        fontSize: 16\r\n    }\r\n}\r\nvar barData = {\r\n    data: [10],\r\n    type: 'bar',\r\n    itemStyle:{\r\n        color: '#ff3232'\r\n    },\r\n    xAxisIndex: 0,\r\n    yAxisIndex: 0,\r\n    zlevel: -1\r\n}\r\nfunction getXData(node, gridIndex){\r\n    var obj = JSON.parse(JSON.stringify(xaxisData));\r\n    var val = node.value;\r\n    obj.data = [node.name];\r\n    obj.gridIndex = gridIndex;\r\n    obj.axisLabel = {\r\n        formatter: function(param){\r\n            var s = [param,val].join('\\n');\r\n            if(param == '总体积'){\r\n                s = '{t1|'+s+'}';\r\n            }\r\n            return s;\r\n        },\r\n        rich:{\r\n            t1:{\r\n                color: 'red'\r\n            }\r\n        }\r\n    };\r\n    return obj;\r\n}\r\nfunction getyData(gridIndex,position,ymax){\r\n    var obj = JSON.parse(JSON.stringify(yaxisData));\r\n    obj.gridIndex = gridIndex;\r\n    if(position){\r\n        obj.position = position;\r\n    }\r\n     obj.min = 0;\r\n    if(ymax){\r\n        if(ymax % 100 === 0){\r\n            obj.max = ymax;\r\n        }else{\r\n            obj.max = (parseInt(ymax/100) + 1) * 100;\r\n        }    \r\n        obj.interval = obj.max/5;\r\n    }else{\r\n        obj.max = 100;\r\n    }\r\n    return obj;\r\n}\r\nfunction getScatterData(gridIndex,ymax){\r\n     var obj = JSON.parse(JSON.stringify(sData));\r\n     obj.xAxisIndex = gridIndex;\r\n     obj.yAxisIndex = gridIndex;\r\n     if(ymax){\r\n        var max = 0;\r\n        if(ymax % 100 === 0){\r\n            max = ymax;\r\n        }else{\r\n            max = (parseInt(ymax/100) + 1) * 100;\r\n        }    \r\n        var step = max/5;\r\n        obj.data = [step*0,step*1,step*2,step*3,step*4,step*5];\r\n    }\r\n     return obj;\r\n}\r\nfunction getBarData(node,gridIndex,color){\r\n     var obj = JSON.parse(JSON.stringify(barData));\r\n     obj.data = [node.value];\r\n     obj.xAxisIndex = gridIndex;\r\n     obj.yAxisIndex = gridIndex;\r\n     if(color){\r\n        obj.itemStyle.color = color;\r\n     }\r\n     return obj;\r\n}\r\n\r\n//console.log( getyData(5,'right',200));\r\noption = {\r\n    grid:[\r\n        {left: '5%', width: '10%', },\r\n        {left: '20%', width: '10%',},\r\n        {left: '35%', width: '10%',},\r\n        {left: '50%', width: '10%',},\r\n        {left: '65%', width: '10%',},\r\n        {left: '80%', width: '10%',}\r\n    ],\r\n    xAxis: [ \r\n        getXData(myData[0],0),\r\n        getXData(myData[1],1),\r\n        getXData(myData[2],2),\r\n        getXData(myData[3],3),\r\n        getXData(myData[4],4),\r\n        getXData(myData[5],5),\r\n    ],\r\n    yAxis: [ \r\n         getyData(0),\r\n         getyData(1),\r\n         getyData(2),\r\n         getyData(3),\r\n         getyData(4),\r\n         getyData(5, 'left', myData[5].value),\r\n         getyData(0,'right'),\r\n         getyData(1,'right'),\r\n         getyData(2,'right'),\r\n         getyData(3,'right'),\r\n         getyData(4,'right'),\r\n         getyData(5,'right', myData[5].value)\r\n    ],\r\n   series: [\r\n        getScatterData(0),\r\n        getScatterData(1),\r\n        getScatterData(2),\r\n        getScatterData(3),\r\n        getScatterData(4),\r\n        getScatterData(5, myData[5].value),\r\n        getBarData(myData[0],0),\r\n        getBarData(myData[1],1),\r\n        getBarData(myData[2],2),\r\n        getBarData(myData[3],3),\r\n        getBarData(myData[4],4),\r\n        getBarData(myData[5],5,'yellow'),\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-390031333","theme":"","layout":"","viewCount":137,"userName":"w***3","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5zy29Isr.png?v=1582941740433","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter"],"customTags":[],"updaterUserName":"w***3"}}