{"status":0,"data":{"cid":"xE-SUOz2gW","authorUid":"obd-o0gOZGbn-lKPw4xQhyiQCAlPCUJd7Fr","authorUserName":"k***9","title":"饼图+极坐标","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2021-01-19T06:06:08.000Z","lastUpdateTime":"2021-01-19T07:24:39.000Z","auth":2,"uid":"obd-o0gOZGbn-lKPw4xQhyiQCAlPCUJd7Fr","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-19T07:23:25.000Z","code":"var backgroundColor = \"rgb(6,14,51)\";\nvar color = [\"#00af6e\", \"#e5af07\", \"#ab4ed3\", \"#0e6ee9\"];\n\nvar labelData = [{\n        value: 1,\n        name: \"1亿以下\"\n    },\n    {\n        value: 1,\n        name: \"1亿-5亿\"\n    },\n    {\n        value: 1,\n        name: \"5亿-10亿\"\n    },\n    {\n        value: 1,\n        name: \"10亿以上\"\n    }\n];\nvar data = [{\n        value: 40,\n        name: \"1亿以下\"\n    },\n    {\n        value: 70,\n        name: \"1亿-5亿\"\n    },\n    {\n        value: 50,\n        name: \"5亿-10亿\"\n    },\n    {\n        value: 60,\n        name: \"10亿以上\"\n    }\n];\n\n\nfunction angleText(i, num) {\n    //每个元素的角度\n    var everyAngle = 360 / num;\n    //文字现在所在的角度\n    var currentAngle = i * everyAngle + everyAngle / 2;\n    //文字所在模块的所占角度\n    var currentArea = (i + 1) * everyAngle;\n\n    return 360 - currentAngle + 90;\n    // return 360 - currentAngle;\n}\n\nfor (let i = 0; i < labelData.length; i++) {\n    labelData[i][\"label\"] = {};\n    labelData[i][\"label\"][\"rotate\"] = angleText(i, labelData.length);\n}\n\noption = {\n    backgroundColor: backgroundColor,\n\n    tooltip: {\n        trigger: \"item\",\n        textStyle: {\n            fontSize: 16,\n            color: \"#fff\",\n            fontFamily: \"Microsoft YaHei\"\n        }\n    },\n\n    //\n    angleAxis: {\n        data: data,\n        type: \"category\",\n        startAngle: 180,\n        z: 2,\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: \"#19f1f530\"\n            }\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n    },\n    // 极坐标\n    radiusAxis: {\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        splitArea: {\n            show: false,\n            areaStyle: {\n                color: \"#19f1f53d\"\n            }\n        }\n    },\n    polar: {\n        center: [\"50%\", \"50%\"],\n        radius: \"65%\"\n    },\n    series: [\n        // 外侧圆环\n        {\n            type: \"pie\",\n            radius: [\"85.5%\", \"90%\"],\n            z: 5,\n            label: {\n                normal: {\n                    show: false,\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#0e6ee920\"\n                }\n            },\n            animation: false,\n            silent: true,\n            data: [0]\n        },\n        {\n            type: \"pie\",\n            radius: [\"85%\", \"85.5%\"],\n            z: 6,\n            label: {\n                normal: {\n                    show: false,\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#19f1f5f0\"\n                }\n            },\n            animation: false,\n            silent: true,\n            data: [0]\n        },\n        {\n            type: \"pie\",\n            radius: [\"70%\", \"70.5%\"],\n            z: 5,\n            label: {\n                normal: {\n                    show: false,\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#19f1f5f0\"\n                }\n            },\n            animation: false,\n            silent: true,\n            data: [0]\n        },\n        {\n            type: \"pie\",\n            radius: [\"70.5%\", \"85%\"],\n            startAngle: 180,\n            z: 3,\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        fontSize: 18,\n                        color: \"#19f1f5f0\"\n                    },\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#19f1f51f\"\n                    // borderColor: \"#19f1f5f0\"\n                }\n            },\n            animation: false,\n            silent: true,\n            data: labelData\n        },\n        {\n            type: \"pie\",\n            radius: \"70%\",\n            z: 1,\n            label: {\n                normal: {\n                    show: false,\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#19f1f53d\"\n                }\n            },\n            animation: false,\n            silent: true,\n            data: [0]\n        },\n        // 极坐标\n        {\n            type: \"bar\",\n            data: data,\n            z: 9,\n            coordinateSystem: \"polar\",\n            itemStyle: {\n                color: function(params) {\n                    return color[params.dataIndex];\n                }\n            },\n            trigger: \"item\"\n        },\n        // 内侧圆\n        {\n            type: \"pie\",\n            radius: \"10%\",\n            z: 10,\n            label: {\n                normal: {\n                    show: false,\n                    position: \"inside\"\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#002935\",\n                    borderWidth: 0\n                }\n            },\n            animation: false,\n            silent: true,\n            data: [0]\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-o0gOZGbn-lKPw4xQhyiQCAlPCUJd7Fr","theme":"default","layout":"","viewCount":148,"userName":"k***9","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xE-SUOz2gW.png?v=1611041080047","isCustomThumbnail":1,"builtinTags":["category-work","polar","series-bar","series-pie","tooltip"],"customTags":[],"updaterUserName":"k***9"}}