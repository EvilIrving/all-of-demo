{"status":0,"data":{"cid":"xBXTlFCSSr","authorUid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","authorUserName":"z***d","title":"8:00~9:00AM","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-12-08T10:02:35.000Z","lastUpdateTime":"2020-12-08T10:02:35.000Z","auth":2,"uid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-15T09:02:53.000Z","code":"// 部分注释的位置会使用变量\n// legend\nlet level = ['无', '轻度', '中度'];\n// 模拟数据\nlet data = [\n    {department: '部门1', none: 1, mild: 3, moderate: 5},\n    {department: '部门2', none: 2, mild: 4, moderate: 6},\n    {department: '部门3', none: 3, mild: 5, moderate: 4},\n    {department: '部门4', none: 4, mild: 6, moderate: 2},\n    {department: '部门5', none: 5, mild: 1, moderate: 3},\n    {department: '部门6', none: 6, mild: 2, moderate: 1},];\n// // let none = Math.max(...data.none);\n// // let mild = Math.max(...data.mild);\n// // let moderate = Math.max(...data.moderate);\n// // let max = none > mild ? none : mild > moderate ? mild : moderate;\nlet bg = [];\nfor (i = 0; i < data.length; i++) {\n    // bg.push(Math.floor(max * 1.2));\n    bg.push(10);\n}\n\noption = {\n    backgroundColor: '#031930',\n    title: {\n        text: '8:00~9:00AM',\n        textStyle: {\n            color: '#82a1c4',\n            fontSize: 18,\n            lineHeight: 20\n        },\n        padding: [10, 20],\n        left: '50%',\n        bottom: 30,\n        borderColor: '#015092',\n        borderWidth: 1,\n        borderRadius: 8\n    },\n    legend: {\n        // level\n        data: level,\n        orient: 'vertical',\n        bottom: 20,\n        left: '20%',\n        itemWidth: 10,\n        itemHeight: 10,\n        textStyle: {\n            color: '#82a1c4'\n        },\n        selectedMode: false\n    },\n    grid: {\n        left: '20%',\n        bottom: 150,\n    },\n    xAxis: {\n        type: 'value',\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: '#015092',\n            }\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            color: '#82a1c4',\n            show: true,\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#015092',\n                opacity: 0.6,\n                type: 'dotted'\n            }\n        },\n        max: 10\n\n    },\n    yAxis: [{\n        type: 'category',\n        axisLine: {\n            lineStyle: {\n                show: true,\n                color: '#015092'\n            }\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            color: '#82a1c4'\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#015092',\n                opacity: 0.6,\n                type: 'dotted'\n            }\n        },\n        // 刻度内容\n        position: 'left'\n    }, { //当作背景\n        show: false,\n        type: 'category',\n        // 刻度内容\n    }],\n    dataset: {\n        dimension: ['department', 'none', 'mild', 'moderate'],\n        source: data\n    },\n    series: [{\n            name: level[0],\n            type: 'bar',\n            // 程度：无\n            itemStyle: {\n                color: '#83a1c5',\n                barBorderRadius: [0, 20, 20, 0],\n            },\n            barWidth: 20,\n            silent: true,\n            yAxisIndex: 0,\n        },\n        {\n            name: level[1],\n            type: 'bar',\n            // 程度：轻度\n            itemStyle: {\n                color: '#45d7ff',\n                barBorderRadius: [0, 20, 20, 0],\n            },\n            barWidth: 20,\n            silent: true,\n            yAxisIndex: 0,\n        },\n        {\n            name: level[2],\n            type: 'bar',\n            // 程度：中度\n            itemStyle: {\n                color: '#286eff',\n                barBorderRadius: [0, 20, 20, 0],\n            },\n            barWidth: 20,\n            silent: true,\n            yAxisIndex: 0,\n        },\n        //         // 背景\n        {\n            //             name: level[0],\n            type: 'bar',\n            // 背景\n            data: bg,\n            itemStyle: {\n                color: \"#032443\"\n            },\n            barWidth: 90,\n            zlevel: -1,\n            silent: true,\n            yAxisIndex: 1\n        }\n    ],\n};\n\n// 随机数据\n// function vdata() {\n//     for(let i = 0; i < data.none.length; i++) {\n//         data.none[i] = Math.floor(Math.random() * 10 + 1);\n//         data.mild[i] = Math.floor(Math.random() * 10 + 1);\n//         data.moderate[i] = Math.floor(Math.random() * 10 + 1);\n//     }\n//     option.series[0].data = data.none;\n//     option.series[1].data = data.mild;\n//     option.series[2].data = data.moderate;\n//     myChart.setOption(option, true);\n// }\n\n// setInterval(function() {\n//     vdata();\n// }, 1000);","html":"","externalScripts":"","updaterUID":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","theme":"","layout":"","viewCount":82,"userName":"z***d","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBXTlFCSSr.png?v=1607421755653","isCustomThumbnail":1,"builtinTags":["category-work","grid","legend","series-bar","title"],"customTags":[],"updaterUserName":"z***d"}}