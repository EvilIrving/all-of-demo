{"status":0,"data":{"cid":"xfzeN0-Y0I","authorUid":"bd-1999656674","authorUserName":"s***凉","title":"多个环形展示","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-21T03:59:17.000Z","lastUpdateTime":"2020-05-21T03:59:17.000Z","auth":1,"uid":"bd-1999656674","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-21T03:59:17.000Z","code":"var data = [{\n    \"name\": \"短信\",\n    \"value\": 18\n}, {\n    \"name\": \"客服\",\n    \"value\": 78\n}, {\n    \"name\": \"外呼\",\n    \"value\": 96\n}, {\n    \"name\": \"网厅\",\n    \"value\": 69\n}].sort(function(a, b) {\n    return b.value - a.value\n})\nvar max = 100;\n\n\n//圆环的颜色\nvar colorList = ['rgb(73, 193, 210)', 'rgb(103, 176, 255)', 'rgb(235, 149, 76)', 'rgb(0, 175, 109)', ' rgb(239, 147, 134)'],\n    colorList2 = ['rgb(208,228,235)', 'rgba(103, 176, 255,0.2)', 'rgba(235, 149, 76,0.2)', 'rgba(0, 175, 109,0.2)', ' rgba(239, 147, 134,0.2)'];\n// 单独输入值 控制标线显示位置\nvar dataList = [30, 80, 130, 180];\n//控制线的颜色\nvar labelLineColorList = ['rgb(98,174,250)', 'rgb(98,174,250)', 'rgb(239,148,77)', 'rgb(239,148,77)'];\n//length1、length2的长度\nvar pieLenggth1 = [40,40,60,60],\n    pieLenggth2 = [60,60,60,60];\n\nfunction getData(data) {\n    let res = {\n        series: [],\n        yAxis: []\n    };\n    //这个意识整个pie图的青色背景\n    res.series.push({\n            name: '外层背景',\n            type: 'pie',\n            zlevel: 0 ,\n            z: 0 ,\n            clockWise: false,\n            hoverAnimation: false,\n            radius: ['0%', '35%'],\n            center: [\"50%\", \"50%\"],\n            label: {\n                show: false\n            },\n            itemStyle: {\n                label: {\n                    show: false,\n                },\n                labelLine: {\n                    show: false\n                },\n                borderWidth: 5,\n            },\n            data: [{\n                value: 100,\n                name: '00',\n                itemStyle: {\n                    color: 'rgb(244,249,252)'\n                },\n                emphasis:\n                {\n                   itemStyle: {\n                    color: 'rgb(244,249,252)'\n                }\n                }\n            }]\n        }\n\n    );\n    for (let i = 0; i < data.length; i++) {\n        res.series.push({\n                name: i,\n                type: 'pie',\n                // zlevel: 1 ,\n                // z: 1 ,\n                clockWise: false,\n                hoverAnimation: false,\n                radius: [28 - i * 5 + '%', 25 - i * 5 + '%'],\n                center: [\"50%\", \"50%\"],\n                label: {\n                    show: false\n                },\n                itemStyle: {\n                    label: {\n                        show: false,\n                    },\n                    labelLine: {\n                        show: false\n                    }\n                },\n                data: [{\n                    value: data[i].value,\n                    name: data[i].name,\n                    itemStyle: {\n\n                        color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{\n                                offset: 1,\n                                color: colorList[i]\n                            },\n                            {\n                                offset: 0,\n                                color: colorList2[i]\n                            }\n                        ])\n                    },\n                }, {\n                    value: max - data[i].value,\n                    name: '',\n                    itemStyle: {\n                        color: \"#ccc\",\n                        borderWidth: 0\n                    },\n                    tooltip: {\n                        show: false\n                    },\n                    hoverAnimation: false\n                }]\n            }, {\n                name: i,\n                type: 'pie',\n                clockWise: false,\n                hoverAnimation: false,\n                radius: [28 - i * 5 + '%', 25 - i * 5 + '%'],\n                center: [\"50%\", \"50%\"],\n                label: {\n                    show: false\n                },\n                tooltip: {\n                    show: false\n                },\n                data: [{\n                    value: dataList[i],\n                    name: data[i].name,\n                    labelLine: {\n                        show: true,\n                        length: pieLenggth1[i],\n                        length2: pieLenggth2[i],\n                        lineStyle: {\n                            color: labelLineColorList[i]\n                        }\n                    },\n                    label: {\n                        color: \"#000\",\n                        fontSize: 14,\n                        show: true,\n                        position: 'outside',\n                        formatter: '客户满意度\\n{a|'+data[i].value+'%}{b|个}',\n                        rich: {\n                            a: {\n                                color: \"#3a3a3a\",\n                                fontSize: 20,\n                                lineHeight: 30\n                            },\n                            b: {\n                                color: \"green\",\n                                fontSize: 20,\n                                fontWeight:'bold',\n                                lineHeight: 30\n                            }\n                        }\n                    },\n                    itemStyle: {\n                        color: 'transparent'\n                    },\n                }, {\n                    value: max - dataList[i],\n                    name: '',\n                    itemStyle: {\n                        color: \"transparent\",\n                        borderWidth: 0\n                    },\n                    tooltip: {\n                        show: false\n                    },\n                    hoverAnimation: false\n                }]\n            }\n\n        );\n    }\n    \n    return res;\n}\n\nvar optionData = getData(data)\noption = {\n    backgroundColor: '#fff',\n    legend: {\n        show: false\n    },\n    color: ['rgb(14, 109, 233)', 'rgb(172, 78, 211)', 'rgb(230, 175, 8)', 'rgb(0, 175, 109)', ' rgb(211, 78, 106)'],\n    grid: {\n        top: '0',\n        left: \"50%\",\n        containLabel: false\n    },\n    series: optionData.series\n}","html":"","externalScripts":"","updaterUID":"bd-1999656674","theme":"","layout":"","viewCount":195,"userName":"s***凉","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xfzeN0-Y0I.png?v=1590033557325","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":["pie"],"updaterUserName":"s***凉"}}