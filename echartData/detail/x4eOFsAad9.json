{"status":0,"data":{"cid":"x4eOFsAad9","authorUid":"bd-2552167583","authorUserName":"z***g","title":"折现图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-06-15T06:25:21.000Z","lastUpdateTime":"2020-06-15T06:25:21.000Z","auth":2,"uid":"bd-2552167583","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-27T08:38:37.000Z","code":"function min(array) {\n    var min = array[0];\n    var len = array.length;\n    for (var i = 1; i < len; i++) {\n        if ((array[i] && array[i] < min) || (array[i] == 0 && array[i] < min)) {\n            min = array[i];\n        }\n    }\n    return min;\n}\n\nfunction max(array) {\n    var max = array[0];\n    var len = array.length;\n    for (var i = 0; i < len; i++) {\n        if ((array[i] && array[i] > max) || (array[i] == 0 && array[i] > max)) {\n            max = array[i];\n        }\n    }\n    return max;\n}\n\nfunction percent(count) {\n    var a = (count / 100) * 2 * 100;\n    return a.toFixed(0) + '%';\n}\n\nvar data = {\n    text: '综评 (分)',\n    xAxis: [\n        '2019-01',\n        '2019-02',\n        '2019-03',\n        '2019-04',\n        '2019-05',\n        '2019-06',\n        '2019-07',\n        '2019-08',\n        '2019-09',\n        '2019-10',\n        '2019-11',\n        '2019-12',\n    ],\n    data: [81, 88, 86, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n};\n\nvar minarr = Number(min(data.data)),\n    maxarr = Number(max(data.data)),\n    min,\n    max;\n(min = minarr / 1.5), (max = maxarr * 1.2);\n\n// 如果数据条数为1个，坐标标记出来，否则看不见\nvar siglePoint = {};\nif (data.xAxis.length == 1) {\n    siglePoint = {\n        data: [\n            {\n                value: data.data[0].value || data.data[0],\n                xAxis: data.xAxis[0],\n                yAxis: data.data[0].value || data.data[0],\n            },\n        ],\n    };\n}\n\noption = {\n    backgroundColor: '#22252D',\n    title: {\n        text: '患者数量',\n        textStyle: {\n            color: '#FFFFFF',\n            fontSize: 12,\n            fontWeight: 'normal',\n        },\n        top: '2%',\n        left: '3%',\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            lineStyle: {\n                color: '#999999',\n            },\n        },\n    },\n    legend: {\n        icon: 'rect',\n        itemWidth: 14,\n        itemHeight: 5,\n        itemGap: 10,\n        data: ['新增'],\n        right: '10px',\n        top: '0px',\n        show: false,\n        textStyle: {\n            fontSize: 12,\n            color: '#fff',\n        },\n    },\n    grid: {\n        top: '5%',\n        left: '5%',\n        right: '5%',\n        bottom: '6%',\n        containLabel: true,\n    },\n    xAxis: [\n        {\n            type: 'category',\n            boundaryGap: false,\n            axisLine: {\n                lineStyle: {\n                    color: '#999999',\n                },\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#999999',\n                },\n            },\n            data: data.xAxis,\n        },\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#34373E',\n                },\n            },\n            axisLabel: {\n                margin: 10,\n                textStyle: {\n                    fontSize: 12,\n                },\n                textStyle: {\n                    color: '#999999',\n                },\n                formatter: '{value}',\n            },\n            splitLine: {\n                lineStyle: {\n                    color: '#34373E',\n                },\n            },\n            min: min.toFixed(0) < 10 ? 0 : min.toFixed(0),\n            max: max.toFixed(0) < 10 ? 10 : max.toFixed(0),\n        },\n    ],\n    series: [\n        {\n            name: '新增',\n            type: 'line',\n            smooth: true,\n            lineStyle: {\n                normal: {\n                    width: 3,\n                },\n            },\n            yAxisIndex: 0,\n            symbolSize: 10,\n            symbol: 'circle',\n            areaStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(\n                        0,\n                        0,\n                        0,\n                        1,\n                        [\n                            {\n                                offset: 0.5,\n                                color: 'rgba(0, 166, 255, 0.3)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(0, 166, 255, 0)',\n                            },\n                        ],\n                        false\n                    ),\n                    shadowColor: 'rgba(0, 0, 0, 0.1)',\n                    shadowBlur: 10,\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#00A0FF',\n                },\n            },\n            markPoint: siglePoint,\n            data: data.data,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-2552167583","theme":"","layout":"","viewCount":112,"userName":"z***g","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4eOFsAad9.png?v=1622104717644","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"z***g"}}