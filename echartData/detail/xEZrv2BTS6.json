{"status":0,"data":{"cid":"xEZrv2BTS6","authorUid":"obd-o0gOU8gu-Dic1TA-PlVR0edkajayQFE","authorUserName":"滔***t","title":"教育比例","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2021-02-07T07:15:50.000Z","lastUpdateTime":"2021-02-07T07:15:50.000Z","auth":2,"uid":"obd-o0gOU8gu-Dic1TA-PlVR0edkajayQFE","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-08T01:22:01.000Z","code":"let dashedPic = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAOBAMAAAB6G1V9AAAAD1BMVEX////Kysrk5OTj4+TJycoJ0iFPAAAAG0lEQVQ4y2MYBaNgGAMTQQVFOiABhlEwCugOAMqzCykGOeENAAAAAElFTkSuQmCC';\nlet color = ['#FF8700', '#ffc300', '#00e473', '#009DFF'];\nlet chartData = [{\n        name: \"Education Quality\",\n        value: 56.68,\n        unit: '元'\n    },\n    {\n        name: \"International Level\",\n        value: 27.11,\n        unit: '元'\n    },\n    {\n        name: \"Government Expenditure On Education\",\n        value: 18.3,\n        unit: '元'\n    },\n    {\n        name: \"Transportation & Urbanization\",\n        value: 13.32,\n        unit: '元'\n    }\n];\nlet arrName = [];\nlet arrValue = [];\nlet sum = 0;\nlet pieSeries = [],\n    lineYAxis = [];\n\n// 数据处理\nchartData.forEach((v, i) => {\n    arrName.push(v.name);\n    arrValue.push(v.value);\n    sum = sum + v.value;\n})\n\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        name: '学历',\n        type: 'pie',\n        clockWise: false,\n        hoverAnimation: false,\n        radius: [65 - i * 15 + '%', 57 - i * 15 + '%'],\n        center: [\"30%\", \"50%\"],\n        label: {\n            show: false\n        },\n        data: [{\n            value: v.value,\n            name: v.name\n        }, {\n            value: sum - v.value,\n            name: '',\n            itemStyle: {\n                color: \"rgba(0,0,0,0)\"\n            }\n        }]\n    });\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [65 - i * 15 + '%',57 - i * 15 + '%'],\n        center: [\"30%\", \"50%\"],\n        label: {\n            show: false\n        },\n        data: [{\n            value: 7.5,\n            itemStyle: {\n                color: \"#E3F0FF\"\n            }\n        }, {\n            value: 2.5,\n            name: '',\n            itemStyle: {\n                color: \"rgba(0,0,0,0)\"\n            }\n        }]\n    });\n    v.percent = (v.value / sum * 100).toFixed(1) + \"%\";\n    lineYAxis.push({\n        value: i,\n        textStyle: {\n            rich: {\n                circle: {\n                    color: color[i],\n                    padding: [0, 5]\n                }\n            }\n        }\n    });\n})\n\noption = {\n    toolbox: {\n        feature: {\n            dataView: {\n                show: true,\n                readOnly: false\n            },\n            restore: {\n                show: true\n            },\n            saveAsImage: {\n                show: true\n            }\n        }\n    },\n    backgroundColor: '#fff',\n    color: color,\n    grid: {\n        top: '15%',\n        bottom: '54%',\n        left: \"30%\",\n        containLabel: false\n    },\n    yAxis: [{\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            formatter: function(params) {\n                let item = chartData[params];\n                console.log(item)\n                return '{line|}{circle|●}{name|'+ item.name +'}{bd||}{percent|'+item.percent+'}'\n            },\n            interval: 0,\n            inside: true,\n            textStyle: {\n                color: \"#333\",\n                fontSize: 30,\n                rich: {\n                    line: {\n                        width: 170,\n                        height: 10,\n                        backgroundColor: {image: dashedPic}\n                    },\n                    name: {\n                        color: '#666',\n                        fontSize: 25,\n                    },\n                    bd: {\n                        color: '#ccc',\n                        padding: [0, 5],\n                        fontSize: 25,\n                    },\n                    percent:{\n                        color: '#666',\n                        fontSize: 25,\n                    },\n                    value: {\n                        color: '#333',\n                        fontSize: 20,\n                        fontWeight: 500,\n                        padding: [0, 0, 0, 20]\n                    },\n                    unit: {\n                        fontSize: 20\n                    }\n                }\n            },\n            show: true\n        },\n        data: lineYAxis\n    }],\n    xAxis: [{\n        show: false\n    }],\n    series: pieSeries\n};","html":"","externalScripts":"","updaterUID":"obd-o0gOU8gu-Dic1TA-PlVR0edkajayQFE","theme":"","layout":"","viewCount":71,"userName":"滔***t","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xEZrv2BTS6.png?v=1612747321482","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie","toolbox"],"customTags":[],"updaterUserName":"滔***t"}}