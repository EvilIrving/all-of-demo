{"status":0,"data":{"cid":"xHy3zKBRPG","authorUid":"bd-1864516252","authorUserName":"W还没睡醒","title":"动态数据 + 时间坐标轴","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-02-24T02:08:19.000Z","lastUpdateTime":"2018-02-24T02:08:19.000Z","auth":2,"uid":"bd-1864516252","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2018-02-24T02:08:19.000Z","code":"var data ={\n    first:[],\n    second:[]\n};\n\nvar now = new Date();\nvar date,num;\nfor(var i = 0,leni=750;i<leni;i++){\n    date = now.getTime()+i*1000*60*60;\n    num = Math.round(153*Math.random());\n    data.first.push({\n        name:date,\n        value: [date,num]\n    });\n    num = Math.round(153*Math.random());\n    data.second.push({\n        name:date,\n        value: [date,num]\n    });\n}\n\nvar timeFormat = function(num) {\n    if (num < 10) {\n        return '0' + num;\n    } else {\n        return num;\n    }\n}\nvar gauge_value = data.first[data.first.length-1].value[1];\nvar gauge_value2 = data.second[data.second.length-1].value[1];\nvar gauge_name = '温度';\nvar min = 0;\nvar max = 100;\nvar unit = '℃';\n\nfunction getcolor(value) {\n    let color;\n    let percent = value / max;\n    if (percent < 0.2) {\n        color = '#9CD6CE';\n    } else if (percent < 0.4) {\n        color = '#7CBB55';\n    } else if (percent < 0.6) {\n        color = '#DDBD4D';\n    } else if (percent < 0.8) {\n        color = '#E98E2C';\n    } else {\n        color = '#E43F3D';\n    }\n    return [percent, color];\n}\nvar gaugeColor = getcolor(gauge_value);\nvar gaugeColor2 = getcolor(gauge_value2);\nvar lineColor = '#9CD6CE';\nvar color = ['#e29304','#75b228'];\nvar seriesName = ['装药机1','装药机2'];\n\noption = {\n    title: {\n        text: '动态数据 + 时间坐标轴',\n        show: false\n    },\n    grid: {\n        right: 20,\n        left: 20,\n        top: 200\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            animation: false\n        }\n    },\n    xAxis: {\n        type: 'time',\n        splitLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        show: false,\n        type: 'value',\n        boundaryGap: [0, '5%'],\n        splitLine: {\n            show: false\n        }\n    },\n    color:color,\n    series: [\n        {\n            name: seriesName[0],\n            type: 'line',\n            showSymbol: false,\n            hoverAnimation: false,\n            data: data.first,\n            lineStyle: {\n                normal: {\n                    width: 2\n                }\n            }\n        },\n        {\n            name: seriesName[1],\n            type: 'line',\n            showSymbol: false,\n            hoverAnimation: false,\n            data: data.second,\n            lineStyle: {\n                normal: {\n                    width: 2\n                }\n            }\n        },\n        {\n            name: gauge_name,\n            type: 'gauge',\n            startAngle: 180,\n            endAngle: 0,\n            radius: 120,\n            splitNumber: 1,\n            center: ['35%', '45%'], // 默认全局居中  \n            min: min,\n            max: max,\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    width: 45,\n                    shadowBlur: 0,\n                    color: [\n                        [1, '#ccc']\n                    ]\n                }\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n                length: 20,\n\n            },\n            axisLabel: {\n                show: true,\n                padding: [20, 0, 0, 0],\n                fontSize: 12,\n                distance: -2\n            },\n            pointer: {\n                show: false\n            },\n            detail: {\n                offsetCenter: [0, -15],\n                textStyle: {\n                    fontSize: 40,\n                    fontWeight: '',\n                    color: '#ccc'\n                },\n                formatter: function(value) {\n                    return value + unit;\n                }\n\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#323232\",\n                }\n            },\n            data: [{\n                name: \"\",\n                value: Math.floor(gauge_value)\n            }]\n        },\n        {\n            name: gauge_name,\n            type: 'gauge',\n            startAngle: 180,\n            endAngle: 0,\n            radius: 120,\n            center: ['35%', '45%'], // 默认全局居中  \n            min: min,\n            max: max,\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    width: 45,\n                    shadowBlur: 0,\n                    color: [\n                        gaugeColor, [1, '#ccc']\n                    ]\n                }\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            pointer: {\n                show: false\n            },\n            detail: {\n                show: false\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#323232\",\n                }\n            },\n            data: [{\n                name: \"\",\n                value: Math.floor(gauge_value)\n            }]\n        },\n        {\n            name: gauge_name,\n            type: 'gauge',\n            startAngle: 180,\n            endAngle: 0,\n            radius: 120,\n            splitNumber: 1,\n            center: ['65%', '45%'], // 默认全局居中  \n            min: min,\n            max: max,\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    width: 45,\n                    shadowBlur: 0,\n                    color: [\n                        [1, '#ccc']\n                    ]\n                }\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n                length: 20,\n\n            },\n            axisLabel: {\n                show: true,\n                padding: [20, 0, 0, 0],\n                fontSize: 12,\n                distance: -2\n            },\n            pointer: {\n                show: false\n            },\n            detail: {\n                offsetCenter: [0, -15],\n                textStyle: {\n                    fontSize: 40,\n                    fontWeight: '',\n                    color: '#ccc'\n                },\n                formatter: function(value) {\n                    return value + unit;\n                }\n\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#323232\",\n                }\n            },\n            data: [{\n                name: \"\",\n                value: Math.floor(gauge_value2)\n            }]\n        },\n        {\n            name: gauge_name,\n            type: 'gauge',\n            startAngle: 180,\n            endAngle: 0,\n            radius: 120,\n            center: ['65%', '45%'], // 默认全局居中  \n            min: min,\n            max: max,\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    width: 45,\n                    shadowBlur: 0,\n                    color: [\n                        gaugeColor2, [1, '#ccc']\n                    ]\n                }\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            pointer: {\n                show: false\n            },\n            detail: {\n                show: false\n            },\n            itemStyle: {\n                normal: {\n                    color: \"#323232\",\n                }\n            },\n            data: [{\n                name: \"\",\n                value: Math.floor(gauge_value2)\n            }]\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1864516252","theme":"","layout":"","viewCount":689,"userName":"W还没睡醒","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHy3zKBRPG.png?v=1519438100160","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-gauge","series-line","title","tooltip"],"customTags":[],"updaterUserName":"W还没睡醒"}}