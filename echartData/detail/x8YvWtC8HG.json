{"status":0,"data":{"cid":"x8YvWtC8HG","authorUid":"bd-1007260984","authorUserName":"语***e","title":"河北3D地图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-07-26T08:51:37.000Z","lastUpdateTime":"2021-07-27T08:26:09.000Z","auth":2,"uid":"bd-1007260984","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-07-27T08:26:09.000Z","code":"var uploadedDataURL = 'https://cdn.jsdelivr.net/gh/SHJ33/EchartsMapJson@master/json/province/hebei.json';\r\n\r\nvar mapData = [\r\n     {name: '张家口', value: 1},\r\n     {name: '邯郸', value: 1},\r\n     {name: '沧州', value: 1},\r\n     {name: '邢台', value: 1},\r\n     {name: '秦皇岛', value: 1},\r\n     {name: '石家庄', value: 1},\r\n     {name: '保定', value: 1},\r\n     {name: '廊坊', value: 1}];\r\n     \r\nvar dataV = [{\r\n        name: \"张家口\",\r\n        value: [114.87,40.82, 1],\r\n\r\n    },\r\n    {\r\n        name: \"邯郸\",\r\n        value: [114.47,36.6,1]\r\n    },\r\n\r\n    {\r\n        name: \"沧州\",\r\n        value: [116.83,38.33,1]\r\n    },\r\n    {\r\n        name: \"邢台\",\r\n        value: [114.48,37.05,1]\r\n    },\r\n    {\r\n        name: \"秦皇岛\",\r\n        value: [119.57,39.95,1]\r\n    },\r\n    {\r\n        name: \"石家庄\",\r\n        value: [114.48,38.03,1]\r\n    },\r\n    {\r\n        name: \"保定\",\r\n        value: [115.48,38.85,1]\r\n    },\r\n    {\r\n        name: \"廊坊\",\r\n        value: [116.7,39.53,1]\r\n    },\r\n\r\n]\r\n\r\nvar geoCoordMap = {\r\n   '张家口':[114.87,40.82],\r\n   '邯郸':[114.47,36.6],\r\n   '沧州':[116.83,38.33],\r\n   '邢台':[114.48,37.05],\r\n   '秦皇岛':[119.57,39.95],\r\n   '石家庄':[114.48,38.03],\r\n   '保定':[115.48,38.85],\r\n   '廊坊':[116.7,39.53]\r\n};\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n$.get(uploadedDataURL, function (geoJson) {\r\n    echarts.registerMap('hebei', geoJson);\r\n    option = {\r\n       \tseries: [{\r\n       \t\ttype: 'map3D',\r\n       \t\tmap: 'hebei',\r\n       \t\tname: 'hebei',\r\n       \t\tzlevel: -10,\r\n       \t\tboxWidth: 120,\r\n       \t\tboxHeight:200,\r\n       \t\tboxDepth: 150,//地图倾斜度\r\n       \t\tregionHeight: 5,//地图厚度\r\n       \t\t// environment: 'imgs/19.jpeg',\r\n       \t\t//环境贴图，这里用的是渐变色\r\n       \t\tenvironment: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n       \t\t\t\t\t  offset: 0, color: '#00aaff' // 天空颜色\r\n       \t\t\t\t\t}, {\r\n       \t\t\t\t\t  offset: 0.7, color: '#FFF' // 地面颜色\r\n       \t\t\t\t\t}, {\r\n       \t\t\t\t\t  offset: 1, color: '#A2875E' // 地面颜色\r\n       \t\t\t\t\t}], false),\r\n       \t\t// 标签设置\r\n       \t\t/*groundPlane:{\r\n       \t\t\tshow:true,\r\n       \t\t\tcolor:'#aaa'\r\n       \t\t},*/\r\n       \t\tlabel: {\r\n       \t\t\tshow: false,//是否显示市\r\n       \t\t\t// formatter: '{b} : test{c}',\r\n       \t\t\t/*textStyle: {\r\n       \t\t\t\tcolor: \"#000\",//文字颜色\r\n       \t\t\t\tfontSize: 16,//文字大小\r\n       \t\t\t\tfontFamily: '微软雅黑',\r\n       \t\t\t\t// opacity: 0,\r\n       \t\t\t\tbackgroundColor: \"rgba(0,0,0,0)\",//透明度0清空文字背景 \r\n       \t\t\t},*/\r\n       \t\t},\r\n       \t\t//三维视觉属性\r\n       \t\titemStyle: {\r\n       \t\t\t//opacity: 1, // 透明度\r\n       \t\t\t//color: '#4575b4',//地图颜色\r\n       \t\t\t//borderWidth: 1.5,//分界线宽度   \r\n       \t\t\t//borderColor: \"#459bca\",//分界线颜色\r\n       \t\t\tareaColor: '#6554C0',\r\n       \t\t\t//color: '#6554C0',\r\n       \t\t\topacity: 1,\r\n       \t\t\tborderWidth: 0.5,\r\n       \t\t\tborderColor: '#A299DA'\r\n       \t\t},\r\n       \t\t// 鼠标hover高亮\r\n       \t\temphasis: {\r\n       \t\t\tlabel: {\r\n       \t\t\t\tshow: false,//是否显示标签\r\n       \t\t\t\t/*textStyle: {\r\n       \t\t\t\t\tcolor: 'yellow',//高亮文字颜色\r\n       \t\t\t\t\tfontSize: 32,\r\n       \t\t\t\t\tfontFamily: '微软雅黑'\r\n       \t\t\t\t},\r\n       \t\t\t\tformatter: '{b}: {c}'*/\r\n       \t\t\t},\r\n       \t\t\t//高亮区块颜色\r\n       \t\t\t// itemStyle: {\r\n       \t\t\t//     color: '#000'\r\n       \t\t\t// }\r\n       \t\t\titemStyle: {\r\n       \t\t\t\tareaColor: '#61A4E4',\r\n       \t\t\t\t//color: '#61A4E4',\r\n       \t\t\t\tborderColor:'#88BAEA',\r\n       \t\t\t\tborderWidth:2,\r\n       \t\t\t}\r\n       \t\t},\r\n       \t\tlight: {\r\n       \t\t\tmain: {\r\n       \t\t\t\tintensity:1,\r\n       \t\t\t\tshadow: true,\r\n       \t\t\t\tshadowQuality: 'ultra',\r\n       \t\t\t},\r\n       \r\n       \t\t},\r\n       \t\tgroundplane: {\r\n       \t\t\tshow: false\r\n       \t\t},\r\n       \t\t//data: data,\r\n       \t\t\r\n       \t\t//用了没有效果，还没找到原因，求指点\r\n       \t\t/*regions: [\r\n       \t\t\t{   // 可对单个地图区域进行设置\r\n       \t\t\t\tname: '昌平区',    // 所对应的地图区域的名称\r\n       \t\t\t\t//regionHeight: '', // 区域的高度，可以设置不同的高度用来表达数据的大小。当 GeoJSON 为建筑的数据时，也可以通过这个值表示简直的高度。\r\n       \t\t\t\titemStyle: {    // 单个区域的样式设置\r\n       \t\t\t\t\tcolor: '#00FF00',\r\n       \t\t\t\t\topacity: 1,\r\n       \t\t\t\t\tborderWidth: 0.4,\r\n       \t\t\t\t\tborderColor: '#5F9EA0'\r\n       \t\t\t\t},\r\n       \t\t\t}, {\r\n       \t\t\t\tname: '海淀区',\r\n       \t\t\t\titemStyle: {\r\n       \t\t\t\t\tcolor: '#EEEE00',\r\n       \t\t\t\t\topacity: 1,\r\n       \t\t\t\t\tborderWidth: 0.4,\r\n       \t\t\t\t\tborderColor: '#5F9EA0'\r\n       \t\t\t\t}\r\n       \t\t\t}\r\n       \t\t],*/\r\n       \t\t/*  \r\n       \t\t\tshading三维图形的着色效果,值：\r\n       \t\t\t\t'color'只显示颜色，不受光照等因素影响。\r\n       \t\t\t\t'lambert'通过景点的lambert着色表现光照的明暗\r\n       \t\t\t\t'realistic'真是感渲染\r\n       \t\t*/\r\n       \t\tshading: 'realistic',\r\n       \t\t// 真实感材质相关配置 shading: 'realistic'时有效\r\n       \t\trealisticMaterial: {\r\n       \t\t\t//detailTexture: 'https://cdn.jsdelivr.net/gh/SHJ33/examples@master/Glass_Frosted_C_10cm.mat.jpg', // 纹理贴图\r\n       \t\t\tdetailTexture:'#fff',\r\n       \t\t\ttextureTiling: 1, // 纹理平铺，1是拉伸，数字表示纹理平铺次数\r\n       \t\t\t//textureOffset: 1,\r\n       \t\t\troughness: 1, // 材质粗糙度，0完全光滑，1完全粗糙\r\n       \t\t\tmetalness: 0, // 0材质是非金属 ，1金属\r\n       \t\t\troughnessAdjust: 0\r\n       \t\t},\r\n       \t\t/*lambertMaterial:{\r\n       \t\t   detailTexture: 'https://cdn.jsdelivr.net/gh/SHJ33/examples@master/Glass_Frosted_C_10cm.mat.jpg', // 纹理贴图\r\n       \t\t   textureTiling: 1, // 纹理平铺，1是拉伸，数字表示纹理平铺次数\r\n       \t\t   textureOffset: 1,\r\n       \t\t},*/\r\n       \t\r\n       \t\tviewControl: {\r\n       \t\t\t//distance: 150,// 地图视角 控制初始大小\r\n       \t\t\t//rotateSensitivity: 1,// 旋转\r\n       \t\t\t//zoomSensitivity: 1,// 缩放\r\n       \t\t\tprojection: 'perspective',\r\n       \t\t\tautoRotate: false,\r\n       \t\t\tdamping: 0,\r\n       \t\t\trotateSensitivity: 2,//旋转操作的灵敏度\r\n       \t\t\trotateMouseButton: 'left', //旋转操作使用的鼠标按键\r\n       \t\t\tzoomSensitivity:2, //缩放操作的灵敏度\r\n       \t\t\tpanSensitivity:2, //平移操作的灵敏度\r\n       \t\t\tpanMouseButton: 'right', //平移操作使用的鼠标按键\r\n       \t\t\t\r\n       \t\t\tdistance: 160, //默认视角距离主体的距离\r\n       \t\t\tminDistance: 100,\r\n       \t\t\tmaxDistance: 170,\r\n       \t\t\t//orthographicSize:150,\r\n       \t\t\t//maxOrthographicSize:150,\r\n       \t\t\t//minOrthographicSize:150,\r\n       \t\t\tminAlpha:30,\r\n       \t\t\tmaxAlpha:80,\r\n       \t\t\tminBeta:-25,\r\n       \t\t\tmaxBeta:45,\r\n       \t\t\t\r\n       \t\t\tcenter:[0,0,10],\r\n       \t\t   \r\n       \t\t\tanimation: true,\r\n       \t\t\tanimationDurationUpdate: 1000,\r\n       \t\t\tanimationEasingUpdate: 'cubicInOut'\r\n       \t\t},\r\n       \t\t// postEffect: {\r\n       \t\t//     enable: true\r\n       \t\t// }\r\n       \t}/*,\r\n        {\r\n            type: 'scatter3D',\r\n            coordinateSystem: 'geo3D',\r\n            zlevel: 3,\r\n            symbol: 'circle',\r\n            symbolSize: 10,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}',\r\n                    \r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        // borderWidth: 1,\r\n                        // borderColor: 'red',\r\n                        fontWeight: \"bold\",\r\n                        fontSize: 11,\r\n                        backgroundColor: 'transparent' // 字体背景色\r\n                    },\r\n\r\n                }\r\n            },\r\n\r\n            data: dataV,\r\n            itemStyle: { //坐标点颜色\r\n                normal: {\r\n                    show: true,\r\n                    color: '#c0e6f2',\r\n                    shadowBlur: 20,\r\n                    shadowColor: '#fff'\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#f00'\r\n                }\r\n            },\r\n\r\n        }*/],\r\n    \t/*dataRange: {\r\n       \t\tsplitList: splitList\r\n       \t},*/\r\n       \t// ECharts 视觉映射「visualMap」组件 注释掉 dataRange 后可查看效果\r\n       \t// visualMap: {\r\n       \t//     show: false,\r\n       \t//     min: 0,\r\n       \t//     max: 15,\r\n       \t//     inRange: {\r\n       \t//         color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\r\n       \t//     }\r\n    \t// }\r\n    }\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,https://cdn.jsdelivr.net/gh/SHJ33/EchartsMapJson@master/json/china.json","updaterUID":"bd-1007260984","theme":"","layout":"","viewCount":0,"userName":"语***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8YvWtC8HG.png?v=1627374369656","isCustomThumbnail":0,"builtinTags":["category-work","series-map3D"],"customTags":["3D地图","地图","河北"],"updaterUserName":"语***e"}}