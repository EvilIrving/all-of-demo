{"status":0,"data":{"cid":"xagZwKb6Q3","authorUid":"obd-o0a9YYhCGQpD-kVyj3SzrwLLgWO0dFs","authorUserName":"灵***殃","title":"1960-2020年中国各省湖泊面积变化","description":"数据来源：https://data.tpdc.ac.cn/zh-hans/data/fa8426c0-d3f0-4615-8e78-0465a0957891/?q=%E4%B8%AD%E5%9B%BD%E6%B9%96%E6%B3%8A\n因仅统计单个面积大于1km2的湖泊，故部分省份无湖泊统计数据","latestVersion":24,"alwaysLatest":0,"createTime":"2021-12-13T11:42:08.000Z","lastUpdateTime":"2021-12-13T16:47:34.000Z","auth":2,"uid":"obd-o0a9YYhCGQpD-kVyj3SzrwLLgWO0dFs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":24,"parentVersion":23,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-13T16:47:34.000Z","code":"//数据来源：https://data.tpdc.ac.cn/zh-hans/data/fa8426c0-d3f0-4615-8e78-0465a0957891/?q=%E4%B8%AD%E5%9B%BD%E6%B9%96%E6%B3%8A\n\nvar uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\n\n\n\nvar geoCoordMap = {\n    '北京': [116.40, 40.40],\n    '天津': [117.04, 39.52],\n    '河北': [115.21, 38.44],\n    '山西': [111.95, 37.65],\n    '内蒙古': [112.17, 42.81],\n    '辽宁': [123.42, 41.29],\n    '吉林': [126.32, 43.38],\n    '黑龙江': [128.34, 47.05],\n    '上海': [121.46, 31.28],\n    '江苏': [120.26, 32.54],\n    '浙江': [120.15, 29.28],\n    '安徽': [117.28, 31.86],\n    '福建': [118.31, 26.07],\n    '江西': [115.89, 27.97],\n    '山东': [118.01, 36.37],\n    '河南': [113.46, 34.25],\n    '湖北': [112.29, 30.98],\n    '湖南': [112.08, 27.79],\n    '广东': [113.98, 22.82],\n    '广西': [108.67, 23.68],\n    '海南': [110.03, 19.33],\n    '重庆': [107.51, 29.63],\n    '四川': [103.36, 30.65],\n    '贵州': [106.91, 26.67],\n    '云南': [101.71, 24.84],\n    '西藏': [89.13, 30.66],\n    '陕西': [108.94, 34.46],\n    '甘肃': [103.82, 36.05],\n    '青海': [97.07, 35.62],\n    '宁夏': [106.27, 36.76],\n    '新疆': [86.61, 40.79],\n};\n//1960\nvar d1 = {\n       '北京': 1.17 ,\n       '天津' : 0 ,\n       '河北' : 304.17 ,\n       '山西' : 43.10 ,\n       '内蒙古' : 5597.58 ,\n       '辽宁' : 1.91 ,\n       '吉林' : 631.26 ,\n       '黑龙江' : 2421.19 ,\n       '上海' : 117.07 ,\n       '江苏' : 7125.19 ,\n       '浙江' : 2417.33 ,\n       '安徽': 4206.81 ,\n       '福建': 1.71 ,\n       '江西' : 1639.01 ,\n       '山东' : 1274.69 ,\n       '河南' : 10.19 ,\n       '湖北' : 2740.18 ,\n       '湖南' : 1836.05 ,\n       '广东' : 7.73 ,\n       '广西' : 3.42 ,\n       '海南' : 0 ,\n       '重庆' : 0,\n       '四川' : 134.96 ,\n       '贵州' : 47.93 ,\n       '云南' : 1073.99 ,\n       '西藏' : 24629.62 ,\n       '陕西' : 64.05 ,\n       '甘肃' : 118.83 ,\n       '青海' : 13139.75 ,\n       '宁夏' : 6.62 ,\n       '新疆' : 5262.43 ,\n\n\n}\n//1970\nvar d2 = {\n      '北京' : 1.68 ,\n      '天津' : 0 ,\n      '河北' : 340.80 ,\n      '山西' : 30.80 ,\n      '内蒙古' : 4767.41 ,\n      '辽宁' : 7.26 ,\n      '吉林' : 926.46 ,\n      '黑龙江' : 1940.25 ,\n      '上海' : 121.77 ,\n      '江苏' : 6437.35 ,\n      '浙江' : 2490.82,\n      '安徽' : 3561.96 ,\n      '福建' : 1.59 ,\n      '江西' : 2359.89 ,\n      '山东' : 503.91 ,\n      '河南' : 8.62 ,\n      '湖北' : 2590.23 ,\n      '湖南' : 1315.23 ,\n      '广东' : 68.85 ,\n      '广西' : 18.52 ,\n      '海南' : 0 ,\n      '重庆' : 0,\n      '四川' : 120.61 ,\n      '贵州' : 29.25 ,\n      '云南' : 1107.51,\n      '西藏' : 24664.97 ,\n      '陕西' : 59.26,\n      '甘肃' : 118.11,\n      '青海' : 13138.13 ,\n      '宁夏' : 16.09 ,\n      '新疆' : 5305.25 ,\n\n}\n//1990\nvar d3 = {\n      '北京' : 1.53,\n      '天津' : 0 ,\n      '河北' : 244.91 ,\n      '山西' : 103.91 ,\n      '内蒙古' : 4749.11,\n      '辽宁' : 25.62 ,\n      '吉林' : 1360.84 ,\n      '黑龙江' : 2664.38 ,\n      '上海' : 106.62 ,\n      '江苏' : 5826.03 ,\n      '浙江' : 2383.22 ,\n      '安徽' : 4114.95 ,\n      '福建' : 0 ,\n      '江西' : 2895.10 ,\n      '山东' : 556.44 ,\n      '河南' : 7.11 ,\n      '湖北' : 2433.08 ,\n      '湖南' : 2021.52 ,\n      '广东' : 4.83 ,\n      '广西' : 0 ,\n      '海南' : 0 ,\n  '重庆' : 2.33 ,\n      '四川' : 142.71 ,\n      '贵州' : 18.44 ,\n      '云南' : 1071.90 ,\n      '西藏' : 24307.39 ,\n      '陕西' : 60.46 ,\n      '甘肃' : 106.51 ,\n      '青海' : 12834.04 ,\n      '宁夏' : 45.96 , \n      '新疆' : 5319.99 ,\n\n}\n//1995\nvar d4 = {\n      '北京' : 3.40 ,\n      '天津' : 0 ,\n      '河北' : 184.21 ,\n      '山西' : 103.49 ,\n      '内蒙古' : 5537.43 ,\n      '辽宁' : 24.13 ,\n      '吉林' : 1664.08 ,\n      '黑龙江' : 2705.00 ,\n      '上海' : 97.44 ,\n      '江苏' : 5622.05 ,\n      '浙江' : 2367.05 ,\n      '安徽' : 3952.49 ,\n      '福建' : 0 ,\n      '江西' : 2823.66 ,\n      '山东' : 524.20 ,\n      '河南' : 0 ,\n      '湖北' : 2774.31 ,\n      '湖南' : 1749.15 ,\n      '广东' : 4.90 ,\n      '广西' : 3.78 ,\n      '海南' : 0 ,\n      '重庆' : 0 , \n      '四川' : 141.20 ,\n      '贵州' : 72.20 ,\n      '云南' : 1150.08 ,\n      '西藏' : 23607.57 ,\n      '陕西' : 79.73 ,\n      '甘肃' : 169.93 ,\n      '青海' : 12742.90 ,\n      '宁夏' : 12.97 ,\n      '新疆' : 5417.93 ,\n\n}\n//2000\nvar d5 = {\n      '北京' : 3.50 ,\n      '天津' : 1.11 ,\n      '河北' : 189.20 ,\n      '山西' : 14.46 ,\n      '内蒙古' : 4978.22 ,\n      '辽宁' : 49.25 ,\n      '吉林' : 1174.74 ,\n      '黑龙江' : 2755.41 ,\n      '上海' : 95.91 ,\n      '江苏' : 5716.19 ,\n      '浙江' : 2360.20 ,\n      '安徽' : 4106.59 ,\n      '福建' : 0 ,\n      '江西' : 3369.67 ,\n      '山东' : 339.93 ,\n      '河南' : 4.83 ,\n      '湖北' : 2302.14 ,\n      '湖南' : 2968.76 ,\n      '广东' : 12.92 ,\n      '广西' : 6.28 ,\n      '海南' : 0 ,\n      '重庆' : 0 , \n      '四川' : 139.12 ,\n      '贵州' : 20.38 ,\n      '云南' : 1104.58 ,\n      '西藏' : 26588.05 ,\n      '陕西' : 47.27 ,\n      '甘肃' : 123.64 ,\n      '青海' : 12476.55 ,\n      '宁夏' : 12.03 ,\n      '新疆' : 6088.25 ,\n\n}\n//2005\nvar d6 = {\n      '北京' : 1.61 ,\n      '天津' : 0.63 ,\n      '河北' : 163.06 ,\n      '山西' : 20.40 ,\n      '内蒙古' : 4092.26 ,\n      '辽宁' : 47.89 ,\n      '吉林' : 1374.94 ,\n      '黑龙江' : 3038.07 ,\n      '上海' : 94.31 ,\n      '江苏' : 6622.96 ,\n      '浙江' : 2388.091 ,\n      '安徽' : 3902.86 ,\n      '福建' : 0 ,\n      '江西' : 3250.38 ,\n      '山东' : 962.72 ,\n      '河南' : 6.11 ,\n      '湖北' : 2265.56,\n      '湖南' : 2494.98,\n      '广东' : 5.71 ,\n      '广西' : 3.17 ,\n      '海南' : 0 ,\n      '重庆' : 0 ,\n      '四川' : 135.35 ,\n      '贵州' : 20.38 ,\n      '云南' : 1078.76 ,\n      '西藏' : 28584.42,\n      '陕西' : 43.23,\n      '甘肃' : 133.89 ,\n      '青海' : 13096.72 ,\n      '宁夏' : 27.16 ,\n      '新疆' : 6402.60 ,\n\n};\n\n////////////////////////////////////////////////////////////\n//2010\nvar  d7 ={\n      '北京' : 1.15 ,\n      '天津' : 0.66,\n      '河北' : 201.77 ,\n      '山西' : 92.81 ,\n      '内蒙古' : 3812.35 ,\n      '辽宁' : 15.59 ,\n      '吉林' : 857.63 ,\n      '黑龙江' : 2596.99,\n      '上海' : 98.49 ,\n      '江苏' : 6342.45,\n      '浙江' : 2400.94,\n      '安徽' : 3821.85,\n      '福建' : 0 ,\n      '江西' : 2935.60 ,\n      '山东' : 769.33,\n      '河南' : 4.72,\n      '湖北' : 2312.16 ,\n      '湖南' : 2078.37 ,\n      '广东' : 72.18 ,\n      '广西' : 19.06 ,\n      '海南' : 0 ,\n      '重庆' : 0 , \n      '四川' : 137.78,\n      '贵州' : 18.77 ,\n      '云南' : 1128.20,\n      '西藏' : 29643.77,\n      '陕西' : 41.361 ,\n      '甘肃' : 141.57 ,\n      '青海' : 14175.88 ,\n      '宁夏' : 38.47,\n      '新疆' : 6279.58 ,\n}\n//2015\nvar  d8 ={\n      '北京' : 45.27 ,\n      '天津' : 1.79,\n      '河北' : 196.35,\n      '山西' : 49.28 ,\n      '内蒙古' : 4321.71 ,\n      '辽宁' : 135.92 ,\n      '吉林' : 1238.47 ,\n      '黑龙江' : 2925.68 ,\n      '上海' : 95.95 ,\n      '江苏' : 5903.15 ,\n      '浙江' : 2370.00 ,\n      '安徽' : 3902.64 ,\n      '福建' : 2.78 ,\n      '江西' : 2616.19,\n      '山东' : 451.18 ,\n      '河南' : 3.72 ,\n      '湖北' : 2341.55,\n      '湖南' : 1552.50 ,\n      '广东' : 21.45 ,\n      '广西' : 0 ,\n      '海南' : 5.04 ,\n      '重庆' : 2.34 , \n      '四川' : 143.77 ,\n      '贵州' : 61.44 ,\n      '云南' : 1058.10 ,\n      '西藏' : 29718.71 ,\n      '陕西' : 38.78 ,\n      '甘肃' : 160.59,\n      '青海' : 13956.08,\n      '宁夏' : 66.20,\n      '新疆' : 6695.52 ,\n}\n\n//2020\nvar  d9 ={\n      '北京' : 224.02 ,\n      '天津' : 1.70 ,\n      '河北' : 209.21 ,\n      '山西' : 116.75 ,\n      '内蒙古' : 4263.72 ,\n      '辽宁' : 150.65 ,\n      '吉林' : 1010.25 ,\n      '黑龙江' : 2808.70 ,\n      '上海' : 104.00,\n      '江苏' : 5983.86 ,\n      '浙江' : 2433.42 ,\n      '安徽' : 7882.23 ,\n      '福建' : 0 ,\n      '江西' : 4023.87 ,\n      '山东' : 503.28 ,\n      '河南' : 128.13 ,\n      '湖北' : 6527.24 ,\n      '湖南' : 2456.84 ,\n      '广东' : 14.65 ,\n      '广西' : 21.19 ,\n      '海南' : 0 ,\n      '重庆' : 1.97 ,\n      '四川' : 141.82 ,\n      '贵州' : 99.39,\n      '云南' : 1123.98 ,\n      '西藏' : 32507.69 ,\n      '陕西' : 90.11 ,\n      '甘肃' : 348.77 ,\n      '青海' : 15208.77 ,\n      '宁夏' : 87.62 ,\n      '新疆' : 7836.52 ,\n}\n\n\n\n\n\n\nvar colors = [\n    [\"#1DE9C9\", \"#FFFF00\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#E690D1\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\"],\n    [\"#37A2DA\", \"#FFFF00\", \"#32C5E9\", \"#5DBD32\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#546570\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\", \"#37A2DA\", \"#fde8cd\", \"#32C5E9\", \"#FFDB5C\", \"#FF9F7F\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\"],\n    [\"#DD6B66\", \"#FFFF00\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#DD6B66\", \"#E69D87\", \"#EA7E53\", \"#EEDD78\"],\n];\nvar colorIndex = 1;\n$(function() {\n    var year = [\"1960\", \"1970\", \"1990\", \"1995\", \"2000\", \"2005\",\"2010\",\"2015\",\"2020\"];\n\n    var mapData = [\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n        []\n    ];\n\n    /*柱子Y名称*/\n    var categoryData = [];\n    var barData = [];\n    \n        for (var key in geoCoordMap) {\n        mapData[0].push({\n            \"year\": '1960',\n            \"name\": key,\n            \"value\": d1[key],\n        });\n        mapData[1].push({\n            \"year\": '1970',\n            \"name\": key,\n            \"value\": d2[key],\n        });\n        mapData[2].push({\n            \"year\": '1990',\n            \"name\": key,\n            \"value\": d3[key],\n        });\n        mapData[3].push({\n            \"year\": '1995',\n            \"name\": key,\n            \"value\": d4[key],\n        });\n        mapData[4].push({\n            \"year\": '2000',\n            \"name\": key,\n            \"value\": d5[key],\n        });\n        mapData[5].push({\n            \"year\": '2005',\n            \"name\": key,\n            \"value\": d6[key],\n        });\n        mapData[6].push({\n            \"year\": '2010',\n            \"name\": key,\n            \"value\": d7[key],\n        });\n        mapData[7].push({\n            \"year\": '2015',\n            \"name\": key,\n            \"value\": d8[key],\n        });\n        mapData[8].push({\n            \"year\": '2020',\n            \"name\": key,\n            \"value\": d9[key],\n        });\n    }\n\n    for (var i = 0; i < mapData.length; i++) {\n        mapData[i].sort(function sortNumber(a, b) {\n            return a.value - b.value;\n        });\n        barData.push([]);\n        categoryData.push([]);\n        for (var j = 0; j < mapData[i].length; j++) {\n            barData[i].push(mapData[i][j].value);\n            categoryData[i].push(mapData[i][j].name);\n        }\n    }\n\n    $.getJSON(uploadedDataURL, function(geoJson) {\n\n        echarts.registerMap('china', geoJson);\n        var convertData = function(data) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var geoCoord = geoCoordMap[data[i].name];\n                if (geoCoord) {\n                    res.push({\n                        name: data[i].name,\n                        value: geoCoord.concat(data[i].value)\n                    });\n                }\n            }\n            return res;\n        };\n        optionXyMap01 = {\n            timeline: {\n                data: year,\n                axisType: 'category',\n                autoPlay: true,\n                playInterval: 3000,\n                left: '5%',\n                right: '15%',\n                bottom: '13%',\n                width: '65%',\n                //  height: null,\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#777'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#777'\n                        }\n                    }\n                },\n                symbolSize: 10,\n                lineStyle: {\n                    color: '#555'\n                },\n                checkpointStyle: {\n                    borderColor: '#777',\n                    borderWidth: 2\n                },\n                controlStyle: {\n                    showNextBtn: true,\n                    showPrevBtn: true,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666'\n                    },\n                    emphasis: {\n                        color: '#aaa',\n                        borderColor: '#aaa'\n                    }\n                },\n\n            },\n            baseOption: {\n                animation: true,\n                animationDuration: 1000,\n                animationEasing: 'cubicInOut',\n                animationDurationUpdate: 1000,\n                animationEasingUpdate: 'cubicInOut',\n                grid: {\n                    right: '3%',\n                    top: '15%',\n                    bottom: '10%',\n                    width: '20%'\n                },\n                tooltip: {\n                    trigger: 'axis', // hover触发器\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n                        shadowStyle: {\n                            color: 'rgba(50,150,150,0.1)' //hover颜色\n                        }\n                    }\n                },\n\n                geo: {\n                    show: true,\n                    map: 'china',\n                    roam: true,\n                    zoom: 0.9,\n                    center: [113.83531246, 34.0267395887],\n                    label: {\n                        emphasis: {\n                            show: false\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            borderColor: 'rgba(17, 235, 248, 1)',\n                            borderWidth: 1,\n                            areaColor: {\n                                type: 'radial',\n                                x: 0.5,\n                                y: 0.5,\n                                r: 0.8,\n                                colorStops: [{\n                                    offset: 0,\n                                    color: 'rgba(147, 25, 28, 0)' // 0% 处的颜色\n                                }, {\n                                    offset: 1,\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\n                                }],\n                                globalCoord: false // 缺省为 false\n                            },\n                            shadowColor: 'rgba(18, 27, 28, 1)',\n                            shadowOffsetX: -2,\n                            shadowOffsetY: 2,\n                            shadowBlur: 10\n                        },\n                    }\n                },\n            },\n            options: []\n\n        };\n        for (var n = 0; n < year.length; n++) {\n            optionXyMap01.options.push({\n                backgroundColor: '#013154',\n                title:[ {\n                    text: '1960-2020年中国各省湖泊面积变化',\n                    left: '23%',\n                    top: '7%',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 20\n                    }\n                },\n                 {\n                    id: 'statistic',\n                    text: year[n] + \"年各省湖泊面积\",\n                    left: '75%',\n                    top: '8%',\n                    textStyle: {\n                    color: '#fff',\n                    fontSize: 20\n                        }\n                    }\n                ],\n                xAxis: {\n                    type: 'value',\n                    scale: true,\n                    position: 'top',\n                    min: 0,\n                    max: 30000,\n                    boundaryGap: false,\n                    splitNumber: 4,\n                    splitLine: {\n                        show: false\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    axisLabel: {\n                        margin: 2,\n                        textStyle: {\n                            color: '#aaa'\n                        }\n\n                    },\n                },\n                yAxis: {\n                    type: 'category',\n                    nameGap: 16,\n                    axisLine: {\n                        show: true,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisTick: {\n                        show: false,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisLabel: {\n                        interval: 0,\n                        textStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    data: categoryData[n]\n                },\n\n                series: [\n                    //地图\n                    {\n                        type: 'map',\n                        map: 'china',\n                        geoIndex: 0,\n                        aspectScale: 0.75, //长宽比\n                        showLegendSymbol: false, // 存在legend时显示\n                        label: {\n                            normal: {\n                                show: false\n                            },\n                            emphasis: {\n                                show: false,\n                                textStyle: {\n                                    color: '#fff'\n                                }\n                            }\n                        },\n                        roam: true,\n                        itemStyle: {\n                            normal: {\n                                areaColor: '#2B91C7',\n                                borderColor: '#FFFFFF',\n                            },\n                            emphasis: {\n                                areaColor: '#2B91B7'\n                            }\n                        },\n                        animation: false,\n                        data: mapData\n                    },\n                   {\n                        name: 'Top 5',\n                        type: 'scatter',\n                        coordinateSystem: 'geo',\n                        symbol: 'pin',\n                        symbolSize: [50, 50],\n                        label: {\n                            normal: {\n                                show: true,\n                                textStyle: {\n                                    color: '#fff',\n                                    fontSize: 9,\n                                },\n                                formatter(value) {\n                                    return value.data.value[2];\n                                }\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#D8BC37', //标志颜色\n                            }\n                        },\n                        data: convertData(mapData[n].sort(function(a, b) {\n                            return b.value - a.value;\n                        }).slice(0, 35)),\n                        showEffectOn: 'render',\n                        rippleEffect: {\n                            brushType: 'stroke'\n                        },\n                        hoverAnimation: true,\n                        zlevel: 1\n                    },\n                    //柱状图\n                    {\n                        zlevel: 3.5,\n                        type: 'bar',\n                        barMaxWidth: 10,\n                        symbol: 'none',\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n]\n                            }\n                        },\n                        data: barData[n]\n                    }\n                ]\n            });\n        }\n        myChart.setOption(optionXyMap01);\n    });\n});\n","html":"","externalScripts":"","updaterUID":"obd-o0a9YYhCGQpD-kVyj3SzrwLLgWO0dFs","theme":"","layout":"","viewCount":0,"userName":"灵***殃","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xagZwKb6Q3.png?v=1639414054842","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"灵***殃"}}