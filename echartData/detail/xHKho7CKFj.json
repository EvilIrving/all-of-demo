{"status":0,"data":{"cid":"xHKho7CKFj","authorUid":"bd-151014260","authorUserName":"dlkts","title":"75","description":"","latestVersion":8,"alwaysLatest":1,"createTime":"2019-05-20T15:38:09.000Z","lastUpdateTime":"2019-05-20T15:38:09.000Z","auth":2,"uid":"bd-151014260","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-21T03:39:23.000Z","code":"var colors = [\n  '#e57373',\n  '#f06292',\n  '#ba68c8',\n  '#9575cd',\n  '#7986cb',\n  '#64b5f6',\n  '#ff8a65',\n  '#ce93d8',\n  '#9fa8da'\n];\n//var bgColor = '#fff';\n\nvar itemStyle = {\n  star0: {\n    color: colors[0]\n  },\n  star1: {\n    color: colors[1]\n  },\n  star2: {\n    color: colors[2]\n  },\n  star3: {\n    color: colors[3]\n  },\n  star4: {\n    color: colors[4]\n  },\n  star5: {\n    color: colors[5]\n  },\n  star6: {\n    color: colors[6]\n  },\n  star7: {\n    color: colors[7]\n  },\n  star8: {\n    color: colors[8]\n  }\n};\n\nvar data = [\n  {\n    //name: '小学生必背古诗75首',\n    name: '',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children:\n      // --start\n      [\n        {\n          name: '汉乐府',\n          children: [\n            {\n              name: '1',\n              children: [\n                {\n                  name: '《江南》'\n                }\n              ]\n            },\n            {\n              name: '2',\n              children: [\n                {\n                  name: '《长歌行》'\n                }\n              ]\n            }\n          ]\n        }\n        // {\n        //     name: '北朝民歌',\n        //     children: [{\n        //         name: '3',\n        //         children: [{\n        //             name: '《敕勒歌》chì lè gē'\n        //         }]\n        //     }]\n        // },\n      ]\n\n    // --end\n  },\n  {\n    //name: '小学生必背古诗75首',\n    name: '',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '北朝民歌',\n        children: [\n          {\n            name: '3',\n            children: [\n              {\n                name: '《敕chì勒lè歌》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    //name: '小学生必背古诗75首',\n    name: '唐',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '骆宾王',\n        children: [\n          {\n            name: '4',\n            children: [\n              {\n                name: '《咏鹅》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '李峤',\n        children: [\n          {\n            name: '5',\n            children: [\n              {\n                name: '《风》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '贺知章',\n        children: [\n          {\n            name: '6',\n            children: [\n              {\n                name: '《咏柳》'\n              }\n            ]\n          },\n          {\n            name: '7',\n            children: [\n              {\n                name: '《回乡偶书》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '王之涣',\n        children: [\n          {\n            name: '8',\n            children: [\n              {\n                name: '《凉州词》'\n              }\n            ]\n          },\n          {\n            name: '9',\n            children: [\n              {\n                name: '《登鹳雀楼》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '孟浩然',\n        children: [\n          {\n            name: '10',\n            children: [\n              {\n                name: '《春晓》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '王翰hàn',\n        children: [\n          {\n            name: '11',\n            children: [\n              {\n                name: '《凉州词》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '王昌龄',\n        children: [\n          {\n            name: '12',\n            children: [\n              {\n                name: '《出塞》'\n              }\n            ]\n          },\n          {\n            name: '13',\n            children: [\n              {\n                name: '《芙蓉楼送辛渐》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '王维',\n        children: [\n          {\n            name: '14',\n            children: [\n              {\n                name: '《鹿柴》'\n              }\n            ]\n          },\n          {\n            name: '15',\n            children: [\n              {\n                name: '《送元二使安西》'\n              }\n            ]\n          },\n          {\n            name: '16',\n            children: [\n              {\n                name: '《九月九日忆山东兄弟》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '李白',\n        children: [\n          {\n            name: '17',\n            children: [\n              {\n                name: '《静夜思》'\n              }\n            ]\n          },\n          {\n            name: '18',\n            children: [\n              {\n                name: '《古朗月行》'\n              }\n            ]\n          },\n          {\n            name: '19',\n            children: [\n              {\n                name: '《望庐山瀑布》'\n              }\n            ]\n          },\n          {\n            name: '20',\n            children: [\n              {\n                name: '《赠汪伦》'\n              }\n            ]\n          },\n          {\n            name: '21',\n            children: [\n              {\n                name: '《黄鹤楼送孟浩然之广陵》'\n              }\n            ]\n          },\n          {\n            name: '22',\n            children: [\n              {\n                name: '《早发白帝城》'\n              }\n            ]\n          },\n          {\n            name: '23',\n            children: [\n              {\n                name: '《望天门山》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '高适',\n        children: [\n          {\n            name: '24',\n            children: [\n              {\n                name: '《别董大》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '杜甫',\n        children: [\n          {\n            name: '25',\n            children: [\n              {\n                name: '《绝句》之一'\n              }\n            ]\n          },\n          {\n            name: '26',\n            children: [\n              {\n                name: '《春夜喜雨》'\n              }\n            ]\n          },\n          {\n            name: '27',\n            children: [\n              {\n                name: '《绝句》之二'\n              }\n            ]\n          },\n          {\n            name: '28',\n            children: [\n              {\n                name: '《江畔独步寻花》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '张继',\n        children: [\n          {\n            name: '29',\n            children: [\n              {\n                name: '《枫桥夜泊》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '韦应物',\n        children: [\n          {\n            name: '30',\n            children: [\n              {\n                name: '《滁州西涧》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '孟郊',\n        children: [\n          {\n            name: '31',\n            children: [\n              {\n                name: '《游子吟》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '韩愈',\n        children: [\n          {\n            name: '32',\n            children: [\n              {\n                name: '《早春呈水部张十八员外》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '张志和',\n        children: [\n          {\n            name: '33',\n            children: [\n              {\n                name: '《渔歌子》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '卢纶',\n        children: [\n          {\n            name: '34',\n            children: [\n              {\n                name: '《塞下曲》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '刘禹锡',\n        children: [\n          {\n            name: '35',\n            children: [\n              {\n                name: '《望洞庭》'\n              }\n            ]\n          },\n          {\n            name: '36',\n            children: [\n              {\n                name: '《浪淘沙》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '白居易',\n        children: [\n          {\n            name: '37',\n            children: [\n              {\n                name: '《赋得古原草送别》'\n              }\n            ]\n          },\n          {\n            name: '38',\n            children: [\n              {\n                name: '《池上》'\n              }\n            ]\n          },\n          {\n            name: '39',\n            children: [\n              {\n                name: '《忆江南》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '胡令能',\n        children: [\n          {\n            name: '40',\n            children: [\n              {\n                name: '《小儿垂钓》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '李绅',\n        children: [\n          {\n            name: '41',\n            children: [\n              {\n                name: '《悯农》（一）'\n              }\n            ]\n          },\n          {\n            name: '42',\n            children: [\n              {\n                name: '《悯农》（二）'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '柳宗元',\n        children: [\n          {\n            name: '43',\n            children: [\n              {\n                name: '《江雪》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '贾岛',\n        children: [\n          {\n            name: '44',\n            children: [\n              {\n                name: '《寻隐者不遇》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '杜牧',\n        children: [\n          {\n            name: '45',\n            children: [\n              {\n                name: '《山行》'\n              }\n            ]\n          },\n          {\n            name: '46',\n            children: [\n              {\n                name: '《清明》'\n              }\n            ]\n          },\n          {\n            name: '47',\n            children: [\n              {\n                name: '《江南春》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '罗隐',\n        children: [\n          {\n            name: '48',\n            children: [\n              {\n                name: '《蜂》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    //name: '小学生必背古诗75首',\n    name: '宋',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '范仲淹',\n        children: [\n          {\n            name: '49',\n            children: [\n              {\n                name: '《江上渔者》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '王安石',\n        children: [\n          {\n            name: '50',\n            children: [\n              {\n                name: '《元日》'\n              }\n            ]\n          },\n          {\n            name: '51',\n            children: [\n              {\n                name: '《泊bó船瓜洲》'\n              }\n            ]\n          },\n          {\n            name: '52',\n            children: [\n              {\n                name: '《书湖阴先生壁》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '苏轼',\n        children: [\n          {\n            name: '53',\n            children: [\n              {\n                name: '《六月二十七日望湖楼醉书》'\n              }\n            ]\n          },\n          {\n            name: '54',\n            children: [\n              {\n                name: '《饮湖上初晴后雨》'\n              }\n            ]\n          },\n          {\n            name: '55',\n            children: [\n              {\n                name: '《惠崇春江晓景》'\n              }\n            ]\n          },\n          {\n            name: '56',\n            children: [\n              {\n                name: '《题西林壁》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '李清照',\n        children: [\n          {\n            name: '57',\n            children: [\n              {\n                name: '《夏日绝句》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '曾几',\n        children: [\n          {\n            name: '58',\n            children: [\n              {\n                name: '《三衢道中》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '陆游',\n        children: [\n          {\n            name: '59',\n            children: [\n              {\n                name: '《示儿》'\n              }\n            ]\n          },\n          {\n            name: '60',\n            children: [\n              {\n                name: '《秋夜将晓出篱门迎凉有感》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '范成大',\n        children: [\n          {\n            name: '61',\n            children: [\n              {\n                name: '《四时田园杂兴》（选一）'\n              }\n            ]\n          },\n          {\n            name: '62',\n            children: [\n              {\n                name: '《四时田园杂兴》（选二）'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '杨万里',\n        children: [\n          {\n            name: '63',\n            children: [\n              {\n                name: '《小池》'\n              }\n            ]\n          },\n          {\n            name: '64',\n            children: [\n              {\n                name: '《晓出净慈寺送林子方》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '朱熹',\n        children: [\n          {\n            name: '65',\n            children: [\n              {\n                name: '《春日》'\n              }\n            ]\n          },\n          {\n            name: '66',\n            children: [\n              {\n                name: '《观书有感》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '林升',\n        children: [\n          {\n            name: '67',\n            children: [\n              {\n                name: '《题临安邸》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '叶绍翁',\n        children: [\n          {\n            name: '68',\n            children: [\n              {\n                name: '《游园不值》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '翁卷（juǎn）',\n        children: [\n          {\n            name: '69',\n            children: [\n              {\n                name: '《乡村四月》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n\n  {\n    //name: '小学生必背古诗75首',\n    name: '',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '(元)王冕miǎn',\n        children: [\n          {\n            name: '70',\n            children: [\n              {\n                name: '《墨梅》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n\n  {\n    //name: '小学生必背古诗75首',\n    name: '',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '(明)于谦',\n        children: [\n          {\n            name: '71',\n            children: [\n              {\n                name: '《石灰吟》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n\n  {\n    //name: '小学生必背古诗75首',\n    name: '清',\n    itemStyle: {\n      normal: {\n        // color:  colors[1]\n        //color: 'transparent'\n      }\n    },\n    children: [\n      {\n        name: '郑燮xiè',\n        children: [\n          {\n            name: '72',\n            children: [\n              {\n                name: '《竹石》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '袁枚',\n        children: [\n          {\n            name: '73',\n            children: [\n              {\n                name: '《所见》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '高鼎',\n        children: [\n          {\n            name: '74',\n            children: [\n              {\n                name: '《村居》'\n              }\n            ]\n          }\n        ]\n      },\n      {\n        name: '龚自珍',\n        children: [\n          {\n            name: '75',\n            children: [\n              {\n                name: '《己亥杂诗》'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n];\n\nfor (var j = 0; j < data.length; ++j) {\n  var level1 = data[j].children;\n  for (var i = 0; i < level1.length; ++i) {\n    var block = level1[i].children;\n    var bookScore = [];\n    var bookScoreId;\n    for (var star = 0; star < block.length; ++star) {\n      bookScoreId = 0;\n      let currName = Number(block[star].name);\n      var val = Number(currName);\n      var vv = val % 7;\n      var style;\n\n      console.log('vv:', vv);\n      switch (vv) {\n        case 0: //'5☆':\n          bookScoreId = 0;\n          style = itemStyle.star0;\n          break;\n        case 1:\n          bookScoreId = 1;\n          style = itemStyle.star1;\n          break;\n        case 2:\n          bookScoreId = 2;\n          style = itemStyle.star2;\n          break;\n        case 3:\n          bookScoreId = 3;\n          style = itemStyle.star3;\n          break;\n        case 4: //'5☆':\n          bookScoreId = 4;\n          style = itemStyle.star4;\n          break;\n        case 5:\n          bookScoreId = 5;\n          style = itemStyle.star5;\n          break;\n        case 6:\n          bookScoreId = 6;\n          style = itemStyle.star6;\n          break;\n        case 7:\n          bookScoreId = 7;\n          style = itemStyle.star7;\n          break;\n        default:\n          bookScoreId = 0;\n          style = itemStyle.star5;\n          break;\n      }\n\n      block[star].label = {\n        color: style.color,\n        downplay: {\n          opacity: 0.5\n        }\n      };\n\n      if (block[star].children) {\n        style = {\n          opacity: 1,\n          color: style.color\n        };\n        let children = block[star].children;\n        for (let index = 0; index < children.length; index++) {\n          const book = children[index];\n          book.value = 1;\n          book.itemStyle = style;\n\n          book.label = {\n            color: style.color\n          };\n\n          var value = 1;\n          if (bookScoreId === 0 || bookScoreId === 3) {\n            value = 5;\n          }\n\n          if (bookScore[bookScoreId]) {\n            bookScore[bookScoreId].value += value;\n          } else {\n            bookScore[bookScoreId] = {\n              color: colors[bookScoreId],\n              value: value\n            };\n          }\n        }\n      }\n    }\n\n    level1[i].itemStyle = {\n      color: data[j].itemStyle.color\n    };\n  }\n}\n\noption = {\n  //backgroundColor: bgColor,\n  color: colors,\n  series: [\n    {\n      type: 'sunburst',\n      center: ['50%', '48%'],\n      data: data,\n      sort: function(a, b) {\n        if (a.depth === 1) {\n          return b.getValue() - a.getValue();\n        } else {\n          return a.dataIndex - b.dataIndex;\n        }\n      },\n      label: {\n        rotate: 'radial'\n        //color: bgColor\n      },\n      itemStyle: {\n        //borderColor: bgColor,\n        borderWidth: 2\n      },\n      levels: [\n        {},\n        {\n          r0: 0,\n          r: '38%',\n          label: {\n            rotate: 0,\n            fontSize: 18,\n            color: '#212121'\n            //fontWeight:600\n          }\n        },\n        {\n          r0: '30%',\n          r: '61%',\n          itemStyle: {\n            //shadowBlur: 2,\n            //shadowColor: colors[2],\n            // color: 'transparent'\n          },\n          label: {\n            // rotate: 'tangential',\n            fontSize: 12,\n            color: '#212121'\n          }\n        },\n        {\n          r0: '62%',\n          r: '67%',\n          itemStyle: {\n            //shadowBlur: 2,\n            //shadowColor: colors[2],\n            color: 'transparent'\n          },\n          label: {\n            rotate: 'tangential',\n            fontSize: 12,\n            color: colors[0]\n          }\n        },\n        {\n          r0: '68%',\n          r: '70%',\n          itemStyle: {\n            //shadowBlur: 80,\n            //shadowColor: colors[5]\n          },\n          label: {\n            position: 'outside',\n            //textShadowBlur: 5,\n            //textShadowColor: '#333',\n            fontSize: 16\n          },\n          downplay: {\n            label: {\n              opacity: 0.5\n            }\n          }\n        }\n      ]\n    }\n  ]\n};\n","html":"","externalScripts":"","updaterUID":"bd-151014260","theme":"","layout":"","viewCount":4416,"userName":"dlkts","commentCount":0,"starCount":30,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHKho7CKFj.png?v=1558409963723","isCustomThumbnail":0,"builtinTags":["category-work","series-sunburst"],"customTags":[],"updaterUserName":"dlkts"}}