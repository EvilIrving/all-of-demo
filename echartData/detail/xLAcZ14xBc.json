{"status":0,"data":{"cid":"xLAcZ14xBc","authorUid":"bd-101698999","authorUserName":"Z***8","title":"百度知道回答，百度echarts如何实时显示当前价格","description":"借官方动态数据+时间坐标轴示例，使用markpoint显示实时的最新数据\n(版本 1 用的 markPoint，版本 2 用的 markLine)","latestVersion":2,"alwaysLatest":1,"createTime":"2018-12-18T01:50:45.000Z","lastUpdateTime":"2019-06-11T06:55:46.000Z","auth":2,"uid":"bd-101698999","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-18T02:08:44.000Z","code":"function randomData() {\n    now = new Date(+now + oneDay);\n    value = value + Math.random() * 21 - 10;\n    return {\n        name: now.toString(),\n        value: [\n            [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),\n            Math.round(value)\n        ]\n    };\n}\n\nvar data = [];\nvar now = +new Date(1997, 9, 3);\nvar oneDay = 24 * 3600 * 1000;\nvar value = Math.random() * 1000;\nfor (var i = 0; i < 1000; i++) {\n    data.push(randomData());\n}\n\noption = {\n    title: {\n        text: '动态数据 + 时间坐标轴'\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(params) {\n            params = params[0];\n            var date = new Date(params.name);\n            return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];\n        },\n        axisPointer: {\n            animation: false\n        }\n    },\n    xAxis: {\n        type: 'time',\n        splitLine: {\n            show: false\n        },\n        triggerEvent: true\n    },\n    yAxis: {\n        type: 'value',\n        boundaryGap: [0, '100%'],\n        splitLine: {\n            show: false\n        }\n    },\n    series: [{\n        name: '模拟数据',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        markPoint: {\n            data: [\n                [{\n                    symbol: 'none',\n                    x: '95%',\n                    yAxis: data[999].value[1]\n                }, {\n                    symbol: 'circle',\n                    label: {\n                        normal: {\n                            position: 'start',\n                            formatter: '实时数据\\n{c}'\n                        }\n                    },\n                    name: '实时数据',\n                    value: data[999].value[1],\n                    xAxis: data[999].value[0],\n                    yAxis: data[999].value[1]\n                }]\n            ]\n        },\n        data: data\n    }]\n};\n\nsetInterval(function() {\n\n    for (var i = 0; i < 5; i++) {\n        data.shift();\n        data.push(randomData());\n    }\n    //alert(data[999].name)\n    myChart.setOption({\n        series: [{\n            data: data,\n            markLine: {\n                data: [\n                    [{\n                        symbol: 'none',\n                        x: '95%',\n                        yAxis: data[999].value[1]\n                    }, {\n                        symbol: 'circle',\n                        label: {\n                            normal: {\n                                position: 'start',\n                                formatter: '实时数据\\n{c}'\n                            }\n                        },\n                        name: '实时数据',\n                        value: data[999].value[1],\n                        xAxis: data[999].value[0],\n                        yAxis: data[999].value[1]\n                    }]\n                ]\n            }\n        }]\n    });\n}, 1000);","html":"","externalScripts":"","updaterUID":"bd-101698999","theme":"default","layout":"","viewCount":611,"userName":"Z***8","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLAcZ14xBc.png?v=1545098924981","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","markPoint","series-line","title","tooltip"],"customTags":[],"updaterUserName":"Z***8"}}