{"status":0,"data":{"cid":"xD8OKYkbr2","authorUid":"bd-340991255","authorUserName":"困***里","title":"双柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-30T03:47:16.000Z","lastUpdateTime":"2020-10-30T03:47:16.000Z","auth":2,"uid":"bd-340991255","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-30T03:47:16.000Z","code":"option = {\r\n    backgroundColor: \"#000\",\r\n    legend: {\r\n        data: [\"2019年\", \"2020年\"],\r\n        left: '72%',\r\n        orient: 'horizontal',\r\n        //x:'50%',      //可设定图例在左、右、居中\r\n        y: 'left', //可设定图例在上、下、居中\r\n        align: 'left',\r\n        top: '10%',\r\n        icon: \"rect\", //设置显示为矩形\r\n        textStyle: { //图例文字的样式\r\n            color: ['#00edff', '#5bffae'],\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n            fontStretch: 'normal',\r\n            lineHeight: 19,\r\n            letterSpacing: 0,\r\n            fontFamily: 'SourceHanSansCN-Regular'\r\n        },\r\n        itemWidth: 12, //设置图表的大小\r\n        itemHeight: 5,\r\n        itemGap: 20, //图例之间的距离\r\n    },\r\n    grid: {\r\n        left: '12%',\r\n        right: '8%',\r\n        bottom: '12%',\r\n        top: \"16%\",\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'value',\r\n        name: '(个)',\r\n        splitNumber: 5, //划分等分\r\n        axisLabel: { //坐标轴刻度标签的相关设置。\r\n            textShadowColor: '#2706dd',\r\n            opacity: 0.8,\r\n            verticalAlign: 'bottom',\r\n            textStyle: {\r\n                color: '#ffffff', //更改坐标轴文字颜色\r\n                fontSize: 14,\r\n                fontFamily: 'SourceHanSansCN-Regular',\r\n                fontSize: 14,\r\n                fontWeight: 'normal',\r\n                fontStretch: 'normal',\r\n                lineHeight: 19,\r\n                letterSpacing: 0,\r\n\r\n            },\r\n\r\n            formatter: function(params) {\r\n                var newParamsName = \"\"; // 最终拼接成的字符串\r\n                var paramsNameNumber = params.length; // 实际标签的个数\r\n                var provideNumber = 7; // 每行能显示的字的个数\r\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber); // 换行的话，需要显示几行，向上取整\r\n                /**\r\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\r\n                 */\r\n                // 条件等同于rowNumber>1\r\n                if (paramsNameNumber > provideNumber) {\r\n                    /** 循环每一行,p表示行 */\r\n                    for (var p = 0; p < rowNumber; p++) {\r\n                        var tempStr = \"\"; // 表示每一次截取的字符串\r\n                        var start = p * provideNumber; // 开始截取的位置\r\n                        var end = start + provideNumber; // 结束截取的位置\r\n                        // 此处特殊处理最后一行的索引值\r\n                        if (p == rowNumber - 1) {\r\n                            // 最后一次不换行\r\n                            tempStr = params.substring(start, paramsNameNumber);\r\n                        } else {\r\n                            // 每一次拼接字符串并换行\r\n                            tempStr = params.substring(start, end) + \"\\n\";\r\n                        }\r\n                        newParamsName += tempStr; // 最终拼成的字符串\r\n                    }\r\n                    console.log(newParamsName)\r\n\r\n                } else {\r\n                    // 将旧标签的值赋给新标签\r\n                    newParamsName = params;\r\n                }\r\n                //将最终的字符串返回\r\n                return newParamsName\r\n            }\r\n\r\n        },\r\n        position: 'top',\r\n        boundaryGap: [0, 0.01], //设置距离左边位置\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: { //x轴线样式\r\n            lineStyle: {\r\n                color: '#666cb4',\r\n                width: 1, //这里是为了突出显示加上的\r\n            },\r\n            symbol: ['none', 'arrow'] //设置x轴箭头  ，none为不设置箭头\r\n        },\r\n        nameTextStyle: { //x轴右方单位的颜色\r\n            color: '#ffffff',\r\n            fontFamily: 'SourceHanSansCN-Regular',\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n            fontStretch: 'normal',\r\n            lineHeight: 19,\r\n            letterSpacing: 0,\r\n            padding: [0, 0, 40, 10]\r\n        },\r\n        splitLine: { //设置网格颜色\r\n            show: false\r\n        }\r\n\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        data: [\"香蜜沉沉烬如反反复复付霜\", \"甄嬛传\", \"如懿传\"], //设置从低到高\r\n        inverse: true,\r\n        axisTick: { //去除刻度线\r\n            show: false\r\n        },\r\n        boundaryGap: [0, 0.8], //设置距离上边位置\r\n        axisLine: { //y轴线样式\r\n            lineStyle: {\r\n                color: '#666cb4',\r\n                width: 1, //这里是为了突出显示加上的\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            textStyle: {\r\n                fontFamily: 'SourceHanSansCN-Regular',\r\n                fontSize: 14,\r\n                fontWeight: 'normal',\r\n                fontStretch: 'normal',\r\n                lineHeight: 19,\r\n                letterSpacing: 0,\r\n                color: '#ffffff',\r\n                padding: [0, 20, 0, -80]\r\n            },\r\n        },\r\n        splitLine: { //设置网格颜色\r\n            show: false\r\n        },\r\n    },\r\n    series: [{\r\n            name: \"2019年\",\r\n            type: 'bar',\r\n            barWidth: 15,\r\n            data: [\"300\", \"200\", \"240\"],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                            offset: 0,\r\n                            color: 'rgba(0,255,255,0.1)'\r\n                        },\r\n                        {\r\n                            offset: 0.5,\r\n                            color: 'rgba(0,215,244,0.3)'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: 'rgba(0,175,248,0.9)'\r\n                        },\r\n                    ]),\r\n                    barBorderRadius: [0, 0, 20, 0]\r\n                }\r\n            } //设置柱形渐变\r\n\r\n        },\r\n        {\r\n            name: \"2020年\",\r\n            type: 'bar',\r\n            // label: {\r\n            // show: true,\r\n            // position: 'right',\r\n            // textStyle: {\r\n            //     color: '#ffffff',\r\n            //     fontFamily: 'SourceHanSansSC-Regular',\r\n            //     fontSize: 14\r\n            // }\r\n            // },\r\n            barWidth: 15,\r\n            data: [\"260\", \"360\", \"300\"],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                            offset: 0,\r\n                            color: 'rgba(73,202,146,0.1)'\r\n                        },\r\n                        {\r\n                            offset: 0.5,\r\n                            color: 'rgba(73,202,146,0.3)'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: 'rgba(73,202,146,0.9)'\r\n                        },\r\n                    ]),\r\n                    barBorderRadius: [0, 0, 20, 0]\r\n                }\r\n            } //设置柱形渐变\r\n\r\n        }\r\n\r\n    ]\r\n};\r\n\r\nnewline(option, 7, 'yAxis')\r\n\r\nmyChart.setOption(option);\r\n\r\n\r\n\r\n// 文字换行显示\r\nfunction newline(option, number, axis) {\r\n    /* 此处注意你的json是数组还是对象 */\r\n    // console.log(option);\r\n    // console.log(number);\r\n    // console.log(axis)\r\n    // console.log(option[axis]['axisLabel'])\r\n    option[axis]['axisLabel'] = {\r\n        interval: 0,\r\n        formatter: function(params) {\r\n            var newParamsName = \"\";\r\n            var paramsNameNumber = params.length;\r\n            var provideNumber = number;\r\n            var rowNumber = Math.ceil(paramsNameNumber / provideNumber);\r\n            if (paramsNameNumber > provideNumber) {\r\n                for (var p = 0; p < rowNumber; p++) {\r\n                    var tempStr = \"\";\r\n                    var start = p * provideNumber;\r\n                    var end = start + provideNumber;\r\n                    if (p == rowNumber - 1) {\r\n                        tempStr = params.substring(start, paramsNameNumber);\r\n                    } else {\r\n                        tempStr = params.substring(start, end) + \"\\n\";\r\n                    }\r\n                    newParamsName += tempStr;\r\n                }\r\n            } else {\r\n                newParamsName = params;\r\n            }\r\n            return newParamsName\r\n        },\r\n        textStyle: {\r\n            fontFamily: 'SourceHanSansCN-Regular',\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n            fontStretch: 'normal',\r\n            lineHeight: 19,\r\n            letterSpacing: 0,\r\n            align: 'left',\r\n            color: '#ffffff',\r\n            padding: [0, 0, 0, -105]\r\n        },\r\n\r\n    }\r\n    return option;\r\n}","html":"","externalScripts":"","updaterUID":"bd-340991255","theme":"","layout":"","viewCount":99,"userName":"困***里","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xD8OKYkbr2.png?v=1604029636200","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"困***里"}}