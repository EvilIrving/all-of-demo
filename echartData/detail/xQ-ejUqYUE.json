{"status":0,"data":{"cid":"xQ-ejUqYUE","authorUid":"obd-oAFgf0amNP0lzyj8SGsnnqbkHnGU273","authorUserName":"遂***","title":"","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2022-01-13T08:52:55.000Z","lastUpdateTime":"2022-01-13T10:16:17.000Z","auth":2,"uid":"obd-oAFgf0amNP0lzyj8SGsnnqbkHnGU273","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2022-01-13T10:16:17.000Z","code":"let data1 = [\n    {\n        name: '谷类',\n        value: 175.17,\n    },\n    {\n        name: '豆类',\n        value: 148.35,\n    },\n    {\n        name: '油料作物',\n        value: 95.36,\n    },\n    {\n        name: '中草药材',\n        value: 56,\n    },\n    {\n        name: '蔬菜及食用菌',\n        value: 45,\n    },\n    {\n        name: '瓜果类',\n        value: 34,\n    },\n    {\n        name: '其他作物',\n        value: 95.36,\n    },\n];\nlet xAxisData = [];\nlet seriesData = [];\nlet seriesData1 = [];\nlet ciolData = [];\nlet sum = 0;\nlet bottomData = [];\nlet topData = [];\nlet ciolColor1 = [\n    'rgba(8, 177, 255, 1)',\n    'rgba(0, 255, 136,   1)',\n    'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88,   1)',\n    'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88,   1)',\n     'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88,   1)',\n];\nlet ciolColor0 = [\n    'rgba(107, 255, 243,  1)',\n    'rgba(97,253,196,  1)',\n    \n    'rgba(107, 255, 243,  1)',\n    'rgba(253, 221, 97,  1)',\n    \n    'rgba(107, 255, 243,  1)',\n    'rgba(253, 221, 97,  1)',\n    'rgba(107, 255, 243,  1)',\n    'rgba(253, 221, 97,  1)',\n];\nlet bottomColor0 = [\n    'rgba(8, 177, 255, 0.8)',\n    'rgba(0, 255, 136, 0.8)',\n    \n    'rgba(8, 177, 255, 0.8)',\n    'rgba(251, 171, 88, 0.8)',\n    \n    'rgba(8, 177, 255, 0.8)',\n    'rgba(251, 171, 88, 0.8)',\n    'rgba(8, 177, 255, 0.8)',\n    'rgba(251, 171, 88, 0.8)',\n];\nlet bottomColor1 = [\n    'rgba(107, 255, 243, 0.8)',\n    'rgba(100,253,212,0.8)',\n    \n    'rgba(107, 255, 243, 0.8)',\n    'rgba(253, 227, 100,0.8)',\n    \n    'rgba(107, 255, 243, 0.8)',\n    'rgba(253, 227, 100,0.8)',\n   'rgba(107, 255, 243, 0.8)',\n    'rgba(253, 227, 100,0.8)',\n];\nlet header0 = [\n    'rgba(8, 177, 255, 1)',\n    'rgba(0, 255, 136, 1)',\n    \n    'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88, 1)',\n   \n    'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88, 1)',\n   'rgba(8, 177, 255, 1)',\n    'rgba(251, 171, 88, 1)',\n];\nlet header1 = [\n    'rgba(107, 255, 243, 1)',\n    'rgba(100,253,212,1)',\n   \n    'rgba(107, 255, 243, 1)',\n    'rgba(253, 227, 100,1)',\n    \n    'rgba(107, 255, 243, 1)',\n    'rgba(253, 227, 100,1)',\n    'rgba(107, 255, 243, 1)',\n    'rgba(253, 227, 100,1)',\n];\nlet bottom = [\n    'rgba(31, 194, 252, 0.4)',\n    'rgba(0, 255, 136, 0.4)',\n    'rgba(31, 194, 252, 0.4)',\n    'rgba(253, 179, 88, 0.4)',\n    'rgba(31, 194, 252, 0.4)',\n    'rgba(253, 179, 88, 0.4)',\n    'rgba(31, 194, 252, 0.4)',\n    'rgba(253, 179, 88, 0.4)',\n    'rgba(31, 194, 252, 0.4)',\n    'rgba(253, 179, 88, 0.4)',\n];\n\ndata1.forEach((item) => {\n    xAxisData.push(item.name);\n    seriesData.push(item.value);\n    seriesData1.push({ name: '', value: item.value });\n    ciolData.push({ name: '', value: '0' });\n    sum += item.value;\n});\ndata1.forEach((item) => {\n    bottomData.push({ name: '', value: sum - item.value });\n    topData.push({ name: '', value: sum  });\n});\noption = {\n    backgroundColor: '#000',\n    grid: {\n        top: '5%',\n        left: '10%',\n        right: '9%',\n        bottom: '40%',\n    },\n    tooltip: {\n        show: true,\n        formatter: function (params) {\n            let text =\n                '<p  style=\"font-size:16px;font-weight: 400;color:rgba(255, 255, 255, 1);margin-bottom: 20px;\"><span style=\"display:inline-block;width:10px;height: 10px;background: ' +\n                v2L2Chart.color[params.dataIndex] +\n                ';border-radius: 50%;margin-right: 10px;\"></span>' +\n                v2L2Chart.xData[params.dataIndex] +\n                '：' +\n                v2L2Chart.data[params.dataIndex] +\n                '万</p>';\n            return text;\n        },\n        // formatter: (params) => {\n        //     return v2L2Chart.xData[params.dataIndex] + ':' + v2L2Chart.data[params.dataIndex] + '万';\n\n        // },\n        backgroundColor: 'rgba(38, 68, 110, 0.8)',\n        padding: 10,\n        borderColor: 'rgba(38, 68, 110, 1)',\n        textStyle: {\n            color: '#fff',\n        },\n    },\n\n    xAxis: {\n        offset: 20,\n        data: xAxisData,\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#fff',\n                fontSize: 16,\n            },\n        },\n    },\n    yAxis: {\n        splitLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    series: [\n        //'最低下的圆片',\n        {\n            name: '最低下的圆片',\n            stack: 'a',\n            // type: 'pictorialBar',\n            // symbolSize: [66, 12],\n            // symbolOffset: [0, 6],\n            type: 'effectScatter',\n            symbolSize: [62, 12],\n            symbolOffset: [0, 0],\n            z: 22,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 1,\n                                color: ciolColor0[params.dataIndex],\n                            },\n                            {\n                                offset: 0,\n                                color: ciolColor1[params.dataIndex],\n                            },\n                        ]);\n                    },\n                },\n            },\n            data: ciolData,\n        },\n        //下半截柱状图\n        {\n            name: '下半截柱状图',\n            stack: 'a',\n            type: 'bar',\n            barWidth: 66,\n            z: 2,\n            barGap: '-100%',\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 1,\n                                color: bottomColor1[params.dataIndex],\n                            },\n                            {\n                                offset: 0,\n                                color: bottomColor0[params.dataIndex],\n                            },\n                        ]);\n                    },\n                },\n            },\n            data: seriesData1,\n        },\n        //替代柱状图 默认不显示颜色，是最下方柱图的value值 - 20'\n        {\n            name: '替代柱状图 默认不显示颜色，是最下方柱图的value值 - 20',\n            // stack: '',\n            type: 'bar',\n            barWidth: 66,\n            barGap: '-100%',\n            // stack: '广告',\n            itemStyle: {\n                color: 'transparent',\n            },\n            data: seriesData,\n        },\n        //头部1\n        {\n            name: '头部1',\n            stack: 'a',\n            type: 'pictorialBar',\n            symbolSize: [66, 12],\n            symbolOffset: [0, -6],\n            z: 22,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 1,\n                                color: header1[params.dataIndex],\n                            },\n                            {\n                                offset: 0,\n                                color: header0[params.dataIndex],\n                            },\n                        ]);\n                    },\n                },\n            },\n            symbolPosition: 'end',\n            label: {\n                formatter: '{c} 万',\n                color: '#fff',\n                offset: [0, -5],\n                show: true,\n                position: 'top',\n                fontSize: 18,\n                fontWeight: 400,\n                fontFamily: 'zcool-gdh',\n            },\n            data: seriesData1,\n        },\n        //头部2\n        {\n            name: '头部2',\n            stack: 'a',\n            type: 'pictorialBar',\n            symbolSize: [66, 12],\n            symbolOffset: [0, -6],\n            symbolPosition: 'end',\n            z: 22,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 1,\n                                color: header1[params.dataIndex],\n                            },\n                            {\n                                offset: 0,\n                                color: header0[params.dataIndex],\n                            },\n                        ]);\n                    },\n                },\n            },\n            data:topData,\n        },\n        //底色\n        {\n            name: '底色',\n            stack: 'a',\n            type: 'bar',\n            barWidth: 66,\n            z: 2,\n            barGap: '-100%',\n            // stack: '',\n            symbolPosition: 'end',\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return bottom[params.dataIndex];\n                    },\n                },\n            },\n            data: bottomData,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oAFgf0amNP0lzyj8SGsnnqbkHnGU273","theme":"","layout":"","viewCount":0,"userName":"遂***","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQ-ejUqYUE.png?v=1642068977958","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-effectScatter","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"遂***"}}