{"status":0,"data":{"cid":"xTnFUMTPJs","authorUid":"bd-3553659272","authorUserName":"你***来","title":"伪3d圆柱图（支持负值）","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2021-03-19T11:05:40.000Z","lastUpdateTime":"2021-03-19T11:05:40.000Z","auth":2,"uid":"bd-3553659272","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-20T09:17:15.000Z","code":"data = [{\n        name: \"常规\",\n        value: -175.17\n    },\n    {\n        name: \"紧急\",\n        value: 148.35\n    },\n    {\n        name: \"疑难\",\n        value: 95.36\n    }\n];\nxAxisData = [];\nseriesData1 = [];\nsum = 0;\nbarTopColor = [\"#02c3f1\", \"#53e568\", \"#a154e9\"];\nbarBottomColor = [\"rgba(2,195,241,0.1)\", \"rgba(83, 229, 104, 0.1)\", \"rgba(161, 84, 233, 0.1)\"];\ndata.forEach(item => {\n    xAxisData.push(item.name);\n    seriesData1.push(item.value);\n    sum += item.value;\n});\noption = {\n    backgroundColor: '#061326',\n    title: {\n        text: '多色立体圆柱（支持负数）',\n        top:20,\n        left:'center',\n        textStyle:{\n            color:'#fff',\n            fontSize:20\n        }\n    },\n    grid:{\n        top:'25%',\n        bottom:'15%'\n    },\n    xAxis: {\n        data: xAxisData,\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            margin: 25,\n            align: 'center',\n            // formatter: function(params, index) {\n            //     return '{a|' + (seriesData1[index] / sum * 100).toFixed(2) + '%}' + '\\n' + '{b|' + params + '}';\n            // },\n            formatter: function(params, index) {\n                return '{b|' + params + '}';\n            },\n            textStyle: {\n                fontSize: 14,\n                color: '#ffffff',\n                rich: {\n                    a: {\n                        fontSize: 12,\n                        color: '#ffffff'\n                    },\n                    b: {\n                        height: 20,\n                        fontSize: 14,\n                        color: '#ffffff'\n                    }\n                }\n            }\n        },\n        interval: 0\n    },\n    yAxis: {\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    },\n    series: [{\n        name: '柱顶部',\n        type: 'pictorialBar',\n        symbolSize: [26, 15],\n        symbolOffset: [0, 0],\n        z: 12,\n        itemStyle: {\n            normal: {\n                color: function(params) {\n                    return barTopColor[params.dataIndex];\n                }\n            }\n        },\n        label: {\n            show: true,\n            formatter: function(params, index) {\n                // console.log(params.data)\n                return params.data+'%';\n            },\n            position: 'top',\n            fontSize: 16\n        },\n        symbolPosition: 'end',\n        data: seriesData1,\n    }, {\n        name: '柱底部',\n        type: 'pictorialBar',\n        symbolSize: [26, 15],\n        symbolOffset: [0, 0],\n        z: 12,\n        itemStyle: {\n            normal: {\n                color: function(params) {\n                    return barTopColor[params.dataIndex];\n                }\n            }\n        },\n        data: seriesData1\n    }, {\n        type: 'bar',\n        itemStyle: {\n            normal: {\n                barBorderRadius: 10,\n                color: function(params) {\n                    return new echarts.graphic.LinearGradient(\n                        0, 0, 0, 1,\n                        [{\n                                offset: 1,\n                                color: barTopColor[params.dataIndex]\n                            },\n                            {\n                                offset: 0,\n                                color: barBottomColor[params.dataIndex]\n                            }\n                        ]\n                    );\n                },\n                opacity: 0.8\n            }\n        },\n        z: 16,\n        silent: true,\n        barWidth: 26,\n        barGap: '-100%', // Make series be overlap\n        data: seriesData1\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-3553659272","theme":"","layout":"","viewCount":30,"userName":"你***来","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTnFUMTPJs.png?v=1616231835373","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"你***来"}}