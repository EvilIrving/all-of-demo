{"status":0,"data":{"cid":"xmLn_3Tu4a","authorUid":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","authorUserName":"c***6","title":"","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-28T10:02:19.000Z","lastUpdateTime":"2021-08-28T10:06:49.000Z","auth":2,"uid":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-28T10:06:49.000Z","code":"var luohu = \"/asset/get/s/data-1630144911450-ZxhmlN1Tx.json\";\n\nvar yantian = \"/asset/get/s/data-1630143650403-zEG-b4a6U.json\";\n\nvar pinshan = \"/asset/get/s/data-1630143638312-zYSKD0tJz.json\";\n\nvar nanshan = \"/asset/get/s/data-1630143627252-6pW9tMjLO.json\";\n\nvar longhua = \"/asset/get/s/data-1630143617196-DLZsHCP_w.json\";\n\nvar longgang = \"/asset/get/s/data-1630143605149-9YA_rZKMQ.json\";\n\nvar guangming = \"/asset/get/s/data-1630143596280-Be7kjHdf5.json\";\n\nvar futian = \"/asset/get/s/data-1630143582865-Wm14QlzPf.json\";\n\nvar dapeng  = \"/asset/get/s/data-1630143565772-XK45kErzc.json\";\n\nvar baoan = \"/asset/get/s/data-1630143486395-_VuCItF64.json\";\n\nvar shenzhen = \"/asset/get/s/data-1630143471355-OHGbVb93X.json\";\n\nvar street ,url=shenzhen;\n\nfunction init(){\n$.getJSON(url, function (geoJson) {\n        const arr= [\n  { name: \"罗湖区\", value: 0, obj: { value: [0] } },\n  { name: \"福田区\", value: 0, obj: { value: [0] } },\n  { name: \"南山区\", value: 0, obj: { value: [0] } },\n  { name: \"宝安区\", value: 0, obj: { value: [0] } },\n  { name: \"龙岗区\", value: 0, obj: { value: [0] } },\n  { name: \"大鹏新区\", value: 0, obj: { value: [0] } },\n  { name: \"盐田区\", value: 0, obj: { value: [0] } },\n  { name: \"龙华新区\", value: 0, obj: { value: [0] } },\n  { name: \"坪山新区\", value: 0, obj: { value: [0] } },\n  { name: \"光明新区\", value: 0, obj: { value: [0] } },\n];\n\nconst state= ['新增'];\nconst option = {\n  //显示内容的\n  tooltip: {\n    //样式\n    formatter: (params) => {\n      let str = \"\";\n      if (state && state.length != 0) {\n        str =\n          '<span style=\"color:#00fffc;font-size:20px;line-height:35px;display: block;margin:0 20px;\">';\n        for (let i = 0; i < state.length; i++) {\n          str +=\n            state[i] + \" : \" + (params.data.obj[i] || 0) + \"人<br>\";\n        }\n        str += \"</span>\";\n      }\n      return str;\n    },\n  },\n  //映射地图\n  visualMap: {\n    min: Math.min(\n      ...arr.map((item) => {\n        return item.value;\n      })\n    ),\n    max: Math.max(\n      ...arr.map((item) => {\n        return item.value;\n      })\n    ),\n    show: false,\n    splitNumber: 4,\n    inRange: {\n      color: [\"#1A6EAF\", \"#DDC75E\", \"#DD8E5E\", \"#DD5E5E\"],\n    },\n    textStyle: {\n      color: \"#fff\",\n    },\n  },\n  //地图组件\n  geo: {\n    map: \"深圳\",\n    label: {\n      normal: {\n        show: true,\n        fontSize: 20,\n        color: \"#fff\",\n      },\n      //选中效果\n      emphasis: {\n        show: true,\n        color: \"#fff\",\n      },\n    },\n    roam: false,\n    itemStyle: {\n      normal: {\n        //区域颜色\n        // areaColor: \"#8db200\",\n        // 边框颜色\n        borderColor: \"#6367ad\",\n        borderWidth: 3,\n      },\n      //选中效果\n      emphasis: {\n        areaColor: \"#feb6aa\", // hover效果\n      },\n    },\n    /*regions: [\n      //对不同的区块进行着色\n      {\n        name: \"宝安区\", //区块名称\n        itemStyle: {\n          normal: {\n            areaColor: \"#5EDD91\"\n          }\n        }\n      },\n      {\n        name: \"罗湖区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#1A6EAF\"\n          }\n        }\n      },\n      {\n        name: \"南山区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#DDC75E\"\n          }\n        }\n      },\n      {\n        name: \"光明新区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#DD5E5E\"\n          }\n        }\n      },\n      {\n        name: \"龙华新区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#DD5E5E\"\n          }\n        }\n      },\n      {\n        name: \"龙岗区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#1A6EAF\"\n          }\n        }\n      },\n      {\n        name: \"盐田区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#C10000\"\n          }\n        }\n      },\n      {\n        name: \"坪山新区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#DD8E5E\"\n          }\n        }\n      },\n      {\n        name: \"大鹏新区\",\n        itemStyle: {\n          normal: {\n            areaColor: \"#5EDD91\"\n          }\n        }\n      }\n    ],*/\n\n    left: arr.length == 1 ? \"30%\" : \"10%\",\n    right: arr.length == 1 ? \"30%\" : \"10%\",\n    top: \"2%\",\n    bottom: \"2%\",\n  },\n  // 数据展示\n  series: [\n    {\n      name: \"\", // 配合 legend 的data 使用\n      type: \"map\",\n      geoIndex: 0, // 不可缺少，否则无tooltip 指示效果\n      data: arr,\n    },\n  ],\n}\n\n            //地图组件\n    echarts.registerMap(\"深圳\", geoJson);\n    \n    \n\n    // 使用刚指定的配置项和数据显示图表。\n    myChart.setOption(option);\n\n    myChart.on(\"click\", echartsMapClick);\n    \n    \n     // 深圳地图点击\n function echartsMapClick(params) {\n\n\n    if (street !== params.name) {\n      street = params.name;\n      url= cwlType(params.name)\n      init()\n      //地图组件\n    //   echarts.registerMap(\"深圳\", cwlType(street));\n\n      // 使用刚指定的配置项和数据显示图表。\n    //   myChart.setOption(option);\n    }\n  }\n    \n    \n    // 深圳\n function cwlType(val) {\n    // console.log('cwlType', val);\n    switch (val) {\n      case \"光明新区\":\n        return guangming;\n      case \"南山区\":\n        return nanshan;\n      case \"坪山新区\":\n        return pinshan;\n      case \"大鹏新区\":\n        return dapeng;\n      case \"宝安区\":\n        return baoan;\n      case \"盐田区\":\n        return yantian;\n      case \"福田区\":\n        return futian;\n      case \"罗湖区\":\n        return luohu;\n      case \"龙华新区\":\n        return longhua;\n      case \"龙岗区\":\n        return longgang;\n      default:\n        return shenzhen;\n    }\n  }\n        \n        \n    })\n}\n\ninit()\n\n\n\n","html":"","externalScripts":"","updaterUID":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","theme":"","layout":"","viewCount":0,"userName":"c***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmLn_3Tu4a.png?v=1630145209734","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"c***6"}}