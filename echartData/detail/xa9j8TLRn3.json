{"status":0,"data":{"cid":"xa9j8TLRn3","authorUid":"bd-1309162528","authorUserName":"小***7","title":"渐变排行图(文字在柱体上方)","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-09-03T08:56:40.000Z","lastUpdateTime":"2020-09-03T08:56:40.000Z","auth":2,"uid":"bd-1309162528","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-03T11:51:15.000Z","code":"var chartData = [91, 91, 89, 89, 88, 10, 10];\r\nvar chartName = ['芳草街', '西园', '桂溪', '中和', '石羊', '肖家河', '合作'];\r\nvar yData = [];\r\nvar dataArr = [{\r\n        name: '芳草街',\r\n        num: 14,\r\n        num1: 18\r\n    },\r\n    {\r\n        name: '西园',\r\n        num: 13,\r\n        num1: 14\r\n    },\r\n    {\r\n        name: '桂溪',\r\n        num: 80,\r\n        num1: 89\r\n    },\r\n    {\r\n        name: '中和',\r\n        num: 80,\r\n        num1: 88\r\n    },\r\n    {\r\n        name: '石羊',\r\n        num: 107,\r\n        num1: 118\r\n    },\r\n    {\r\n        name: '肖家河',\r\n        num: 10,\r\n        num1: 10\r\n    },\r\n    {\r\n        name: '合作',\r\n        num: 10,\r\n        num1: 10\r\n    },\r\n]\r\n\r\n\r\n\r\nfor (var i = 0; i < chartName.length; i++) {\r\n    yData.push(i + ',' + chartName[i]);\r\n\r\n}\r\noption = {\r\n    backgroundColor: '#000',\r\n    grid: {\r\n        left: '10%',\r\n        right: '15%',\r\n        bottom: '2%',\r\n        top: '2%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n            show: false,\r\n\r\n        },\r\n        {\r\n            show: false,\r\n        }\r\n    ],\r\n    yAxis: {\r\n        type: 'category',\r\n        inverse: true,\r\n        nameGap: 16,\r\n        axisLine: {\r\n            show: false,\r\n\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n            margin: 20,\r\n            textStyle: {\r\n                color: '#d1e6eb',\r\n\r\n            },\r\n        },\r\n        data: yData\r\n    },\r\n\r\n    series: [\r\n\r\n        //亮色条 百分比\r\n        {\r\n            show: true,\r\n            type: 'bar',\r\n            barGap: '-100%',\r\n            barWidth: 10,\r\n            z: 2,\r\n            silent: true,\r\n            itemStyle: {\r\n                barBorderRadius: 10,\r\n                color: {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#275266' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#68D6DE' // 100% 处的颜色\r\n                    }]\r\n                }\r\n            },\r\n            data: chartData,\r\n        },\r\n        {\r\n            name: '外框',\r\n            type: 'bar',\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 10,\r\n                    color: 'rgba(255,255,255,0.1)' //rgba设置透明度0.14\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#DEDEDE',\r\n                        fontSize: 14,\r\n                         lineHeight:-20\r\n                    },\r\n                    position: ['90%', -20],\r\n                    formatter: function(data) {\r\n                        console.log('data',data)\r\n                        return '处置率' + \"{blue|\" + (chartData[data.dataIndex]) + \"}\" + '%';\r\n                    },\r\n                    rich: {\r\n                        blue: {\r\n                            fontSize: 14,\r\n                            lineHeight: 5,\r\n                            color: '#62E6F6',\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            barGap: '-100%',\r\n            z: 0,\r\n            barWidth: 10,\r\n            data: [100, 100, 100, 100, 100,100,100]\r\n        },\r\n        //年份\r\n        {\r\n            show: true,\r\n            type: 'bar',\r\n            xAxisIndex: 1, //代表使用第二个X轴刻度\r\n            barGap: '-100%',\r\n            barWidth: 10,\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 0,\r\n                    color: 'transparent',\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: [0, '-20'],\r\n                    textStyle: {\r\n                        fontSize: 14,\r\n                        color: '#fff',\r\n                        lineHeight:-20\r\n                    },\r\n                    formatter: function(data) {\r\n                        var result = ''\r\n                        result += chartName[data.dataIndex] + \"{mr|\" + \"当月处理\" + \"}\" + \"{blue|\" + dataArr[data.dataIndex].num + \"}\" + \"次\" + \"/\" + \"总数\" + \"{blue|\" + dataArr[data.dataIndex].num1 + \"}\" + \"次\";\r\n                        return result\r\n                    },\r\n                    rich: {\r\n                        blue: {\r\n                            fontSize: 14,\r\n                            lineHeight: 5,\r\n                            color: '#62E6F6'\r\n                        },\r\n                        mr: {\r\n                            padding: [0, 0,0,10],\r\n                            fontSize: 14,\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            data: chartData\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-1309162528","theme":"","layout":"","viewCount":339,"userName":"小***7","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xa9j8TLRn3.png?v=1599133876044","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"小***7"}}