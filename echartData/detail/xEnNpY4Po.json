{"status":0,"data":{"cid":"xEnNpY4Po","authorUid":"bd-2469886102","authorUserName":"芊***8","title":"自动轮播饼图auto","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-10-17T03:22:06.000Z","lastUpdateTime":"2019-10-17T03:22:06.000Z","auth":2,"uid":"bd-2469886102","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-17T03:22:06.000Z","code":"var data = [{\n        value: 335,\n        name: '直接访问'\n    },\n    {\n        value: 310,\n        name: '邮件营销'\n    },\n    {\n        value: 234,\n        name: '联盟广告'\n    },\n    {\n        value: 135,\n        name: '视频广告'\n    },\n    {\n        value: 1548,\n        name: '搜索引擎'\n    }\n];\n\nvar center = ['50%', '50%'];\nvar radius = {\n    '内': ['54%', '60%'],\n    'pie': ['60%', '70%'],\n    '中': ['70%', '76%'],\n    '外': ['70%', '85%'],\n}\n\nvar legenddata = data.map(item => item.name)\noption = {\n    backgroundColor: '#242E55',\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    legend: {\n        orient: 'vertical',\n        left: 'right',\n        top: 'center',\n        align: 'left',\n        itemHeight: 20,\n        itemWidth: 20,\n        textStyle: {\n            color: '#fff'\n        },\n        data: legenddata\n    },\n    series: [{\n        name: '访问来源',\n        type: 'pie',\n        radius: radius['pie'],\n        center: center,\n        avoidLabelOverlap: false,\n        color: ['#86D560', '#AF89D6', '#59ADF3', '#FF999A', '#FFCC67'],\n        label: {\n            normal: {\n                show: false,\n                position: 'center',\n                formatter: '{b}\\n\\n{c}'\n            },\n            emphasis: {\n                show: true,\n                textStyle: {\n                    fontSize: '30',\n                    fontWeight: 'bold'\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: data\n    }, {\n        name: '背景外圆环',\n        type: 'pie',\n        radius: radius['外'],\n        center: center,\n        color: 'rgba(0,0,0,.2)',\n        silent: true,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: '',\n            value: 100\n        }]\n    }, {\n        name: '背景中圆环',\n        type: 'pie',\n        radius: radius['中'],\n        center: center,\n        color: 'rgba(0,0,0,.3)',\n        silent: true,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: '',\n            value: 100\n        }]\n    }, {\n        name: '背景内圆环',\n        type: 'pie',\n        radius: radius['内'],\n        center: center,\n        color: 'rgba(0,0,0,.1)',\n        silent: true,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: '',\n            value: 100\n        }]\n    }]\n};\n\nvar index = -1;\nsetInterval(function() {\n    // 取消之前高亮的图形\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: index\n    });\n    \n    index = (index + 1) % legenddata.length;\n    // 高亮当前图形\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: index\n    });\n    // 显示 tooltip\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: index\n    });\n}, 2000);","html":"","externalScripts":"","updaterUID":"bd-2469886102","theme":"","layout":"","viewCount":316,"userName":"芊***8","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xEnNpY4Po.png?v=1571282526194","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":["auto","autoswitch","switch"],"updaterUserName":"芊***8"}}