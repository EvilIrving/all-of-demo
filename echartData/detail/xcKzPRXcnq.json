{"status":0,"data":{"cid":"xcKzPRXcnq","authorUid":"bd-3439381198","authorUserName":"4***9","title":"贪食蛇","description":"看到一个俄罗斯方块，感觉挺有意思，自己做了一个贪食蛇","latestVersion":7,"alwaysLatest":1,"createTime":"2018-10-15T06:44:31.000Z","lastUpdateTime":"2021-08-06T06:49:06.000Z","auth":2,"uid":"bd-3439381198","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-06T06:49:06.000Z","code":"\nconst WIDTH = 20,\n    HEIGHT = 20;\n\noption = {\n    animation: false,\n    backgroundColor: '#aaa',\n    grid: {\n        show: true,\n        borderColor: '#000',\n        z: 2,\n        top: 50,\n        x:'center',\n        height: 520,\n        width: 520\n    },\n    legend: {\n        show: false\n    },\n    xAxis: {\n        interval: 1,\n        splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        },\n        max: 20,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        interval: 1,\n        splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        },\n        max: 20,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n\n    },\n    series: [{\n        data: [],\n        type: 'scatter',\n        symbol: 'rect',\n        symbolSize: 26,\n        symbolOffset: [13, -13],\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n    }, {\n        data: [1,1],\n        type: 'scatter',\n        symbol: 'rect',\n        symbolSize: 26,\n        symbolOffset: [13, -13],\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n    }]\n};\n\nfunction Snake() {\n    this.direction = this.toRight;\n    this.body = [{\n        x: 0,\n        y: 0,\n    }, {\n        x: 1,\n        y: 0\n    }, {\n        x: 2,\n        y: 0\n    }];\n    this.head = {\n        x: 2,\n        y: 0\n    };\n}\nSnake.prototype.toRight = function() {\n    this.head.x = (this.head.x + 1) % WIDTH;\n};\n\nSnake.prototype.toDown = function() {\n    this.head.y = (this.head.y + 1) % HEIGHT;\n};\n\nSnake.prototype.toLeft = function() {\n    this.head.x = this.head.x - 1 < 0 ? this.head.x - 1 + WIDTH : this.head.x - 1;\n};\n\nSnake.prototype.toUp = function() {\n    this.head.y = this.head.y - 1 < 0 ? this.head.y - 1 + HEIGHT : this.head.y - 1;\n};\n\nvar snake = new Snake();\n\ndocument.onkeydown = function(event) {\n    var e = event || window.event || arguments.callee.caller.arguments[0];\n    switch (e.keyCode) {\n        case 39:\n            (snake.direction != snake.toLeft) && (snake.direction = snake.toRight);\n            break;\n        case 38:\n            (snake.direction != snake.toUp) && (snake.direction = snake.toDown);\n            break;\n        case 37:\n            (snake.direction != snake.toRight) && (snake.direction = snake.toLeft);\n            break;\n        case 40:\n            (snake.direction != snake.toDown) && (snake.direction = snake.toUp);\n            break;\n    }\n};\n\n function Food(){\n        this.x = 10;\n        this.y = 10;\n    }\n\nFood.prototype.produce = function(){\n    this.x = Math.round(Math.random()*19);\n    this.y = Math.round(Math.random()*19);\n    var self = this\n    snake.body.forEach(function(each){\n        if(each.x==self.x&&each.y==self.y){\n            self.produce();\n        }\n    });\n};\n\nvar food = new Food();\n\nfunction startGame() {\n    snake.direction();\n\n    snake.body.push({\n        x: snake.head.x,\n        y: snake.head.y\n    });\n    if(snake.head.x==food.x&&snake.head.y==food.y)\n        food.produce();\n    else\n        snake.body.shift();\n    option.series[0].data = [];\n    \n    snake.body.forEach(each => {\n        option.series[0].data.push([each.x, each.y]);\n    });\n    option.series[1].data = [[food.x, food.y]];\n\n    myChart.setOption(option);\n    setTimeout(startGame, 200);\n}\n\nstartGame()\n\n\n\n\n\n\n\n\n\n","html":"","externalScripts":"","updaterUID":"bd-3439381198","theme":"","layout":"","viewCount":300,"userName":"4***9","commentCount":3,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcKzPRXcnq.png?v=1628232546467","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-scatter"],"customTags":[],"updaterUserName":"4***9"}}