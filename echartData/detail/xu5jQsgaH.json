{"status":0,"data":{"cid":"xu5jQsgaH","authorUid":"bd-2536962124","authorUserName":"韩***翎","title":"地图线","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-02-10T03:21:46.000Z","lastUpdateTime":"2020-02-10T03:21:46.000Z","auth":2,"uid":"bd-2536962124","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-16T08:12:02.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1577929263585-7iWLUl9L.json\";\nvar symbolPower ='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAATCAYAAABlcqYFAAADKUlEQVQ4jaWVz2tcVRTHP/fHe/MjidM0MW1MaFVocFo1SJVKaSViFi7diHZR0E3/iO79P9y5EMSVgrgJqCCioMFgRSVNxoxjOml+dDLz3rvvni7efXVGoyT4hcPlce8933PO97xz1fJiDUABOpgJ36UdFxLMB8vDig2OLVADxoBxoApEYe+4yIEMOAQeAD0gAbKSpAZMA08As0AjEBGikaFsTQjK/C0IBxwA94BNYAu4D+Tl4Qlg/oXnnlyePTP5Upq6hogYpZTTWmdK4QElIjbPfdXlvu69VMX7WAoipZTKrNH7tWrcXv1p85PWVvdLYAD0S5LHgPPPN8+//uq1Sy+eoERH4dLO+5/1WlvddeBPYLckGQNmBkl6GqDduc/Hn36TRNZsR7HtGq37ImJc7sezzM1cu/LM1MWFeQDWfm6xurbBW29cfcQySLL5UP4qoGyodQxMuNzXAQ56A77+7pc41HgD2As6nAbqv653pt67fQNrNBeemkWp0SZ0uZ+kaKAIUDqQGCAWL9HQWRUclx48hbhpZ3uPz1d+ACCKDM0LcyMk4qXCUHfao4ramKizdPUi1prpSiXy1uhDQHkvlSR1jTTN2Ns/RET+kcVRGCGREPWZxxu88/YSwGSw/4URElX8D7TaO3zw0RdYa9pxbH+3xhwIon0utTRzZ7PMnZsYr3Hr5jJanzATAslhP+HHOy2AXaAVVh2yagC8e2PpWASEi0IxEhKlVTa0lwYrZ5CE8+bc3DTXrzQB6A9Svv3+t1GnWg2G7mLD5QTYj6x5AIXwr11/1kWRnYojq43RAxExzuX1NHOnXr688CiL9Y1t7rbucXnx6b/KY02Xov0zQGxg6wGdajXegUL4m2++UgfqwPx/laK5MEdzYbSFq5VoE9imGCtiKXp/D1hf+Wrtw9W1jTuZc6dEsErhtNZJKJcSkch7qeW5H/MiNfESC2IApZVKjdG7lTjautvaXqHQsgd4tbxYK8fKJHAWmKGYZZUQ2L9N4fL9KeGC0y7QBv4IwfdtcNIfWjuBYPhvPw48hQZJIOtTiO9L4TMKbfoUb8BJnA9DGH0hBeAh8Ok8qebAi8UAAAAASUVORK5CYII=';\nvar powerImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAALCAYAAAByF90EAAAAyklEQVQokaXSoUsDYQCG8d/kULAMBkaLxWwThg6WVl00GawzDIMbC7ZZBts/MJaWbFctgysz2TVeGGhdGQbDTji249i4B77wfvA+vPB9pTAM73CoGIsAQ5QLiqIgFXqY71A6wQMu05dp0QfecgSneMQ9jhHhGzdwsMOCc4zxhRZmuMYV3rMWbXKBLppJfkU/Wb5FlqiGJzSwwgQv+MybnRbV0UEVS+vXHCDOE2SJ2vjFFCP8WP+vs5x+JUv0n2+TsxcBnnG0b3GD+A95NCBnsOTeXgAAAABJRU5ErkJggg==';\nvar option = null;\nvar data = [];\nvar province = [\n    \"西藏\",\n];\nvar geoCoordMap = {\n    西藏: [91.11, 30.97],\n    上海: [121.48, 31.22],\n    福建: [118.1, 27.46],\n    浙江: [119.96, 29.86],\n    广东: [113.23, 24.16],\n    山西: [112.53, 38.87],\n    云南: [101.73, 25.04],\n    辽宁: [123.38, 42.8],\n    吉林: [125.35, 44.88],\n    江西: [115.89, 28.68],\n    海南: [109.51, 20.25],\n    广西: [108.74, 24.16],\n    内蒙古: [111.65, 42.42],\n    四川: [104.06, 31.67],\n    陕西: [108.95, 35.27],\n    江苏: [119.78, 33.04],\n    贵州: [106.71, 27.57],\n    北京: [116.46, 41.92],\n    新疆: [86.68, 41.77],\n    山东: [118, 36.65],\n    甘肃: [103.73, 37.03],\n    天津: [117.2, 40.13],\n    河南: [113.65, 34.76],\n    黑龙江: [127.63, 47.75],\n    河北: [115.48, 40.03],\n    湖南: [112, 28.21],\n    安徽: [117.27, 32.86],\n    湖北: [112.31, 31.52],\n    青海: [97.31, 37.03],\n    重庆: [107.31, 30.52],\n    宁夏: [106.31, 38.52]\n};\nvar gdp = [\n    [113.879249,23.413066,113.361825,22.416307],\n];\n$.get(uploadedDataURL, function (geoJson) {\n\n    myChart.hideLoading();\n\n    echarts.registerMap('江门市', geoJson);\n    \nvar allData = {\n\"citys\":[\n    {\"name\":\"a\",\"value\":[113.399707,22.751756]},\n    {\"name\":\"b\",\"value\":[112.978351,22.356635]},\n\n],\n\"moveLines\":[\n    {coords: [[113.338988,22.762689],[112.925176,22.387704]]}, \n    {coords: [[113.483875,22.759356],[113.026649,22.32326]]}, \n    ],\n\"powerList\":[\n    {name: 'a',value: [113.106912,22.610955]},\n    // {name: 'a',value: [113.039144,22.577736]},\n    ],\n \"powerList2\":[\n    {name: 'b',value: [113.66635,23.248939]},\n    // {name: 'b',value: [113.039144,22.577736]},\n    ],   \n    // \"section\":[\n    //     {coords: [[113.879249,23.413066],[113.361825,22.416307]]},\n        \n    //     ]\n};\nfor (var i = 0; i < province.length; i++) {\n    data.push({\n        name: province[i],\n        value: [\n             {\n                    value: 34,\n                    itemStyle: {\n                        normal:{\n                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: '#f6e3a1'\n                        }, {\n                            offset: 1,\n                            color: '#ff4236'\n                        }]),  \n                        },\n                    },\n                    label: {\n                        show:false,\n                        // color: \"rgb(8,218,28)\",\n                        // fontSize: 14,\n                    }\n                },\n                {\n                    value: 52,\n                    name: 'rose2',\n                    itemStyle: {\n                        color: \"raba(0,0,0,0)\",\n                        emphasis: {\n                        label: {\n                            show: false\n                        }\n                    }\n                    }\n                }\n        ]\n    });\n}\n/*addBar*/\nfunction addBar(chart, data) {\n    var op = chart.getOption();\n    var sd = option.series;\n\n    var grids = [];\n    var xAxis = [];\n    var yAxis = [];\n    var barSeries = [];\n\n    for (var i = 0; i < data.length; i++) {\n        var randomValue = 15;\n        var radius = randomValue;\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            var vr = [];\n            data[i].value.map(function(v) {\n                vr.push({\n                    name: v.name,\n                    value: v.value,\n                    // visualMap: false\n                }); //饼图的数据不进行映射\n            });\n\n            // xAxis.push({\n            //     gridIndex: i,\n            //     show: false,\n            //     type: \"category\",\n            //     data: [\"早\", \"中\", \"晚\"],\n            //     z: 6\n            // });\n\n            // yAxis.push({\n            //     type: \"value\",\n            //     show: false,\n            //     gridIndex: i,\n            //     z:6\n            // });\n\n            // var coord = chart.convertToPixel(\"geo\", geoCoord);\n            // grids.push({\n            //     width: 30,\n            //     height: 30,\n            //     left: coord[0] - 25,\n            //     top: coord[1] - 25,\n            //     z:6\n            // });\n\n            let barSeriesData = data[i].value.map(item => item.value);\n            barSeries.push({\n                id: i,\n                type: \"pie\",\n                radius : ['33%', '44%'],\n                // xAxisIndex: i,\n                // yAxisIndex: i,\n                barCategoryGap: 0,\n                data: barSeriesData,\n                z:6,\n                label: {\n                    normal: {\n                       show : false\n                    }\n                    },\n                itemStyle: {\n                    normal: {\n                        color: function(params) {\n                            // 柱状图每根柱子颜色\n                            var colorList = [\"rgb(8,218,28)\", \"rgba(0,0,0,0)\"];\n                            return colorList[params.dataIndex];\n                        }\n                    },\n                    emphasis: {\n                        label: {\n                            show: false\n                        }\n                    }\n                }\n            });\n\n            var newOption = {\n                // geo: op.geo,\n                // grid: grids,\n                // xAxis: xAxis,\n                // yAxis: yAxis,\n                series: [...barSeries]\n            };\n        }\n    }\n    return newOption;\n}\n    \nvar option = {\n    backgroundColor: '#404a59',\n    title: {\n        text: '',\n        left: 'center',\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    legend: {\n        show: false,\n        orient: 'vertical',\n        top: 'auto',\n        left: 'right',\n        data: ['1', '2','3','4','5'],\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    geo: {\n        map: '江门市',\n        label: {\n            //normal:{\n                //show: true,\n                //textStyle:{\n                    //color:'#fff',\n                //}\n            //},\n            emphasis: {\n                show: false,\n                    textStyle:{\n                    color:'#fff',\n                }\n            }\n        },\n        roam: false,\n        itemStyle: {\n            normal: {\n                areaColor: '#2a333d',\n                borderColor: '#404a59',\n                borderWidth:1,\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n    series: [\n        {\n        // name: '1',\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n        zlevel: 2,\n        rippleEffect: {\n            brushType: 'stroke',\n            period:7,\n            scale:2\n        },\n        label: {\n            normal:\n            {\n                show : true,\n                position:'right',\n                formatter:'{b}',\n                color:'rgb(44,229,236)'\n            },\n            emphasis: {\n                show: true,\n                position: 'right',\n                formatter: '{b}'\n            }\n        },\n        symbolSize: 15,\n        showEffectOn: 'render',\n        itemStyle: {\n            normal: {\n                color: 'rgb(0,252,255)'\n            }\n        },\n        data: allData.citys\n    }, \n    {\n        // name: '2',\n        type: 'lines',\n        symbol: ['none', 'none'],\n                    symbolSize: 10,\n                    // coordinateSystem: 'cartesian2d',\n                    effect: {\n                        show: true,\n                        period: 6,\n                        trailLength: 0,\n                        symbolSize: 10,\n                        symbol: 'arrow',\n                    },\n                    label: {\n                        show: true,\n                        position: 'middle',\n                    },\n                    lineStyle: {\n                        normal: {\n                            color:'rgba(0,252,255,1)',\n                            width: 2,\n                            opacity: 1,\n                            curveness: 0\n                        }\n                    },\n        coordinateSystem: 'geo',\n        zlevel: 8,\n        large: true,\n        data: allData.moveLines\n    },\n    {\n        // name: '3',\n        type: 'effectScatter',\n        symbol: 'image://'+ symbolPower,\n        symbolSize: 10,\n        coordinateSystem: 'geo',\n        zlevel: 3,\n        label: {\n            normal:\n            {\n                show : true,\n                position:'right',\n                formatter:'{b}',\n                color:'rgb(44,229,236)'\n            },\n            emphasis: {\n                show: false,\n            }\n        },\n        data: allData.powerList \n    },\n    {\n        // name: '4',\n        type: 'effectScatter',\n        symbol: 'image://'+ powerImg,\n        symbolSize: 10,\n        coordinateSystem: 'geo',\n        zlevel: 4,\n        label: {\n            normal:\n            {\n                show : true,\n                position:'right',\n                formatter:'{b}',\n                color:'rgb(44,229,236)'\n            },\n            emphasis: {\n                show: false,\n            }\n        },\n        data: allData.powerList2\n    },\n    {\n        // name:'5',\n        type: \"pie\",\n                radius : ['33%', '40%'],\n                barCategoryGap: 0,\n                data: [{\n                    value: 34,\n                    itemStyle: {\n                        color: new echarts.graphic.RadialGradient(0.5, 0.5, 1, [{\n                        offset: 0,\n                        color: 'rgba(20,164,61,1)'\n                    }, {\n                        offset: 1,\n                        color: 'rgba(27,134,85,1)'\n                       }], false),\n                    },\n                    label: {\n                        show:false,\n                        // color: \"rgb(8,218,28)\",\n                        // fontSize: 14,\n                    }\n                },\n                {\n                    value: 52,\n                    name: 'rose2',\n                    itemStyle: {\n                        normal:{\n                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(0,0,0,0)'\n                        }, {\n                            offset: 1,\n                           color: 'rgba(0,0,0,0)'\n                        }]),  \n                        },\n                        emphasis: {\n                        label: {\n                            show: false\n                        }\n                    }\n                    }\n                }],\n                z:10,\n                label: {\n                    normal: {\n                      show : false\n                    }\n                    },\n                itemStyle: {\n                    normal: {\n                        // color: function(params) {\n                        //     // 柱状图每根柱子颜色\n                        //     var colorList = [\"rgb(8,218,28)\", \"rgba(0,0,0,0)\"];\n                        //     return colorList[params.dataIndex];\n                        // }\n                    },\n                    emphasis: {\n                        label: {\n                            show: false\n                        }\n                    }\n                }\n    }\n    // {\n    //     // name: '5',\n    //     type: 'lines',\n    //     // symbol: ['none', 'none'],\n    //     // symbolSize: 0,\n    //     // coordinateSystem: 'geo',\n    //     zlevel: 5,\n    //     label: {\n    //         normal:\n    //         {\n    //             show : true,\n    //             position:'right',\n    //             formatter:'xxx断面',\n    //             color:'rgb(76,255,90)',\n    //         },\n    //         emphasis: {\n    //             show: false,\n    //         }\n    //     },\n    //     effect: {\n    //                 show: false,\n    //             },\n    //             lineStyle: {\n    //                 normal: {\n    //                     color:'rgb(8,218,28)',\n    //                     width: 2,\n    //                     opacity: 0.8,\n    //                     type: 'dotted',\n    //                     curveness: 0.3,\n    //                 }\n    //             },\n    //     data: allData.section\n    // },\n    ]\n};\nmyChart.setOption(option);\n// option = addBar(myChart, data);\n// myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"bd-2536962124","theme":"","layout":"","viewCount":531,"userName":"韩***翎","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xu5jQsgaH.png?v=1600243922565","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-lines","series-pie","title"],"customTags":[],"updaterUserName":"韩***翎"}}