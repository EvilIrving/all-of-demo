{"status":0,"data":{"cid":"x0dK5jItt","authorUid":"bd-3562132043","authorUserName":"z***0","title":"新型冠状病毒全国感染人数(1月20日－1月30日)","description":"","latestVersion":163,"alwaysLatest":1,"createTime":"2020-02-05T15:33:41.000Z","lastUpdateTime":"2021-11-17T08:44:22.000Z","auth":1,"uid":"bd-3562132043","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":163,"parentVersion":162,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-17T08:44:22.000Z","code":"var mapName = 'china';\nvar data = [\n    { name: '北京', value: 0 },\n    { name: '天津', value: 42 },\n    { name: '河北', value: 102 },\n    { name: '山西', value: 81 },\n    { name: '内蒙古', value: 147 },\n];\n\nvar geoCoordMap = {};\nvar toolTipData = [\n    {\n        name: '北京',\n        value: [\n            { name: '科技人才总数', value: 95 },\n            { name: '理科', value: 82 },\n        ],\n    },\n    {\n        name: '天津',\n        value: [\n            { name: '文科', value: 22 },\n            { name: '理科', value: 20 },\n        ],\n    },\n    {\n        name: '河北',\n        value: [\n            { name: '文科', value: 60 },\n            { name: '理科', value: 42 },\n        ],\n    },\n    {\n        name: '山西',\n        value: [\n            { name: '文科', value: 40 },\n            { name: '理科', value: 41 },\n        ],\n    },\n    {\n        name: '内蒙古',\n        value: [\n            { name: '文科', value: 23 },\n            { name: '理科', value: 24 },\n        ],\n    },\n];\n\n/*获取地图数据*/\nmyChart.showLoading();\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\nconsole.log(mapFeatures);\nmyChart.hideLoading();\nmapFeatures.forEach(function (v) {\n    // 地区名称\n    var name = v.properties.name;\n    // 地区经纬度\n    geoCoordMap[name] = v.properties.cp;\n});\n\nconsole.log(data);\nconsole.log(toolTipData);\nvar max = 480,\n    min = 9; // todo\nvar maxSize4Pin = 100,\n    minSize4Pin = 20;\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\nvar planePath =\n    'path://M683.436973 788.16173H317.495351c-28.86573 0-52.279351-23.164541-52.279351-51.753514V296.627892c0-28.575135 23.413622-51.739676 52.279351-51.739676h39.202595v12.938379c0 35.715459 29.267027 64.678054 65.356108 64.678054h156.824216c36.075243 0 65.34227-28.962595 65.342271-64.678054v-12.938379h39.216432c28.86573 0 52.265514 23.164541 52.265513 51.753514v439.794162c0 28.575135-23.399784 51.739676-52.265513 51.739676zM631.143784 425.970162H369.747027a26.015135 26.015135 0 0 0-26.125838 25.876757 26.015135 26.015135 0 0 0 26.139676 25.876757H631.143784a26.015135 26.015135 0 0 0 26.139675-25.876757 26.015135 26.015135 0 0 0-26.153513-25.876757z m0 90.554811H369.747027a26.015135 26.015135 0 0 0-26.125838 25.876757 26.015135 26.015135 0 0 0 26.139676 25.862919H631.143784a26.015135 26.015135 0 0 0 26.139675-25.876757 26.015135 26.015135 0 0 0-26.153513-25.876757z m0 90.540973H369.747027a26.015135 26.015135 0 0 0-26.125838 25.876757 26.015135 26.015135 0 0 0 26.139676 25.876756H631.143784a26.015135 26.015135 0 0 0 26.139675-25.876756 26.015135 26.015135 0 0 0-26.153513-25.876757z m-78.419027-310.451892H448.207568c-28.879568 0-52.279351-23.164541-52.279352-51.739676s23.399784-51.739676 52.279352-51.739675h104.544864c28.86573 0 52.279351 23.164541 52.279352 51.753513 0 28.561297-23.413622 51.725838-52.279352 51.725838z';\n\noption = {\n    backgroundColor: '#070827',\n    visualMap: {\n        show: true,\n        min: 0,\n        max: 200,\n        left: '10%',\n        top: 'bottom',\n        calculable: true,\n        seriesIndex: [1],\n        inRange: {\n            color: ['rgba(0, 107, 255, 0.2)', 'rgba(0, 107, 255, 0.8)'], // 蓝绿\n        },\n    },\n    geo: {\n        show: true,\n        map: mapName,\n        label: {\n            normal: {\n                show: false,\n            },\n            emphasis: {\n                show: false,\n            },\n        },\n        roam: false,\n        itemStyle: {\n            normal: {\n                areaColor: 'rgba(0, 107, 255, 0.3)',\n                borderColor: '#006BFF',\n                borderWidth: 2,\n            },\n            emphasis: {\n                areaColor: '#4499d0',\n            },\n        },\n    },\n    series: [\n        {\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbol: planePath,\n            // symbol:'path://M505.468541 505.468541m-505.468541 0a505.468541 505.468541 0 1 0 1010.937081 0 505.468541 505.468541 0 1 0-1010.937081 0Z',\n            symbolSize: function (val) {\n                return val[2] / 10;\n            },\n            symbolKeepAspect: true,\n\n            itemStyle: {\n                normal: {\n                    color: '#FFFFFF',\n                },\n            },\n            zlevel: 6,\n        },\n        {\n            type: 'map',\n            map: mapName,\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff',\n                    },\n                },\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#006BFF',\n                    borderColor: '#3B5077',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                },\n            },\n            animation: false,\n            data: data,\n        },\n\n        {\n            name: 'Top 5',\n            // type: 'effectScatter',\n            // coordinateSystem: 'geo',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function (val) {\n                return val[2] / 6;\n            },\n            symbolKeepAspect: true,\n            itemStyle: {\n                normal: {\n                    color: '#E26851',\n                },\n            },\n\n            zlevel: 5,\n        },\n    ],\n};\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-oET_xlVsaWqMbOpEHUSEHQafcQ5PA4j","theme":"","layout":"","viewCount":46187,"userName":"z***0","commentCount":11,"starCount":99,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0dK5jItt.png?v=1637138662758","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"156******31"}}