{"status":0,"data":{"cid":"xAwVG_9Jko","authorUid":"obd-oCot5d1aw5lPnPXXhRg4qkRuVPPh_3A","authorUserName":"应***玩","title":"2014-2019年最大跨省客运量","description":"数据来源：国家统计局（单位：万人）","latestVersion":2,"alwaysLatest":1,"createTime":"2020-12-27T07:30:12.000Z","lastUpdateTime":"2020-12-27T07:30:12.000Z","auth":2,"uid":"obd-oCot5d1aw5lPnPXXhRg4qkRuVPPh_3A","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-27T08:00:06.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\nvar geoGpsMap = {\n    '1': [113.12244, 23.009505],\n    '2': [118.8062, 31.9208],\n    '3': [118.8062, 31.9208],\n    '4': [113.12244, 23.009505],\n    '5': [113.12244, 23.009505],\n    '6': [113.12244, 23.009505],\n};\nvar geoCoordMap = {\n    \"江苏\": [118.8062, 31.9208],\n    '黑龙江': [127.9688, 45.368],\n    '内蒙古': [110.3467, 41.4899],\n    \"吉林\": [125.8154, 44.2584],\n    '北京市': [116.4551, 40.2539],\n    \"辽宁\": [123.1238, 42.1216],\n    \"河北\": [114.4995, 38.1006],\n    \"天津\": [117.4219, 39.4189],\n    \"山西\": [112.3352, 37.9413],\n    \"陕西\": [109.1162, 34.2004],\n    \"甘肃\": [103.5901, 36.3043],\n    \"宁夏\": [106.3586, 38.1775],\n    \"青海\": [101.4038, 36.8207],\n    \"新疆\": [87.9236, 43.5883],\n    \"四川\": [103.9526, 30.7617],\n    \"重庆\": [108.384366, 30.439702],\n    \"山东\": [117.1582, 36.8701],\n    \"河南\": [113.4668, 34.6234],\n    \"安徽\": [117.29, 32.0581],\n    \"湖北\": [114.3896, 30.6628],\n    \"浙江\": [119.5313, 29.8773],\n    \"福建\": [119.4543, 25.9222],\n    \"江西\": [116.0046, 28.6633],\n    \"湖南\": [113.0823, 28.2568],\n    \"贵州\": [106.6992, 26.7682],\n    \"云南\": [102.9199, 25.4663],\n    \"广东\": [113.12244, 23.009505],\n    \"广西\": [108.479, 23.1152],\n    \"海南\": [110.3893, 19.8516],\n    '上海': [121.4648, 31.2891],\n    \"西藏\": [115.0648, 28.6744],\n};\n\n\nvar d1 = {\n    '江苏': 15520.7,\n    '黑龙江': 4684.1,\n    '内蒙古': 1828.3,\n    '吉林': 3500.4,\n    '北京市': 6506.3,\n    '辽宁': 9417.2,\n    '河北': 6072.5,\n    '天津': 1830.0,\n    '山西': 3416.8,\n    '陕西': 7418.8,\n    '甘肃': 3898.6,\n    '宁夏': 918.6,\n    '青海': 544.4,\n    '新疆': 3717.6,\n    '四川': 13827.4,\n    '重庆': 6839.9,\n    '山东': 7437.8,\n    '河南': 14018.0,\n    '安徽': 13955.3,\n    '湖北': 10073,\n    '浙江': 13014.5,\n    '福建': 5871.9,\n    '江西': 6779.5,\n    '湖南': 16183.7,\n    '贵州': 8657.1,\n    '云南': 4908.0,\n    '广东': 18078.9,\n    '广西': 5190.4,\n    '海南': 1421.0,\n    '上海': 1331.7,\n    '西藏': 990.5,\n\n};\n\nvar d2 = {\n    \"江苏\": 13830.8,\n    '黑龙江': 4286.9,\n    '内蒙古': 1612.5,\n    \"吉林\": 3635.9,\n    '北京市': 6284.9,\n    \"辽宁\": 7369.2,\n    \"河北\": 5327.4,\n    \"天津\": 1834.5,\n    \"山西\": 2961.2,\n    \"陕西\": 6968.0,\n    \"甘肃\": 4045.3,\n    \"宁夏\": 9300,\n    \"青海\": 5602,\n    \"新疆\": 3594.8,\n    \"四川\": 13596.9,\n    \"重庆\": 6228.3,\n    \"山东\": 6035.6,\n    \"河南\": 12501.5,\n    \"安徽\": 8681.0,\n    \"湖北\": 10203.5,\n    \"浙江\": 11136.9,\n    \"福建\": 5164.6,\n    \"江西\": 6241.8,\n    \"湖南\": 1313.11,\n    \"贵州\": 8754.1,\n    \"云南\": 4879.4,\n    \"广东\": 12392.6,\n    \"广西\": 4910.1,\n    '海南': 1372.8,\n    '上海': 1384.4,\n    '西藏': 922.5,\n\n};\n\nvar d3 = {\n    '江苏': 13358.0,\n    '黑龙江': 3938.6,\n    '内蒙古': 1573.5,\n    '吉林': 3491.0,\n    '北京市': 6151.9,\n    '辽宁': 7363.2,\n    '河北': 5070.1,\n    '天津': 1837.7,\n    '山西': 2637.4,\n    '陕西': 6982.0,\n    '甘肃': 4162.6,\n    '宁夏': 8757,\n    '青海': 5934,\n    '新疆': 3214.8,\n    '四川': 12374.6,\n    '重庆': 6125.5,\n    '山东': 6346.3,\n    '河南': 12052.8,\n    '安徽': 8110.6,\n    '湖北': 10299.0,\n    '浙江': 10501.8,\n    '福建': 5164.9,\n    '江西': 6287.6,\n    '湖南': 12176,\n    '贵州': 8946.4,\n    '云南': 4651.9,\n    '广东': 13034.5,\n    '广西': 4869.9,\n    '海南': 1391.2,\n    '上海': 1441.6,\n    '西藏': 930.5,\n\n\n};\n\nvar d4 = {\n    \"江苏\": 12678.3,\n    '黑龙江': 3467,\n    '内蒙古': 1486.7,\n    \"吉林\": 3298.9,\n    '北京市': 5887.1,\n    \"辽宁\": 7248.3,\n    \"河北\": 5002.3,\n    \"天津\": 1744,\n    \"山西\": 2515.5,\n    \"陕西\": 6788,\n    \"甘肃\": 4263.8,\n    \"宁夏\": 7345,\n    \"青海\": 6274,\n    \"新疆\": 2708.3,\n    \"四川\": 10909.3,\n    \"重庆\": 6052.2,\n    \"山东\": 6529.9,\n    \"河南\": 11435.1,\n    \"安徽\": 6910.5,\n    \"湖北\": 10314.4,\n    \"浙江\": 10449.7,\n    \"福建\": 5113.4,\n    \"江西\": 6299.7,\n    \"湖南\": 11493.6,\n    \"贵州\": 9180.3,\n    \"云南\": 4462.2,\n    \"广东\": 13741.8,\n    \"广西\": 4857.8,\n    '海南': 1466,\n    '上海': 1548.5,\n    '西藏': 970.5,\n};\n\nvar d5 = {\n    '江苏': 12061.2,\n    '黑龙江': 3156.8,\n    '内蒙古': 1326.8,\n    '吉林': 3195.6,\n    '北京市': 5893.5,\n    '辽宁': 7134.3,\n    '河北': 4734.6,\n    '天津': 1745,\n    '山西': 2383.7,\n    '陕西': 7158.3,\n    '甘肃': 4218.5,\n    '宁夏': 6137,\n    '青海': 6443,\n    '新疆': 2120.4,\n    '四川': 9856.9,\n    '重庆': 6058.7,\n    '山东': 6744.3,\n    '河南': 11042.1,\n    '安徽': 6334.7,\n    '湖北': 9835,\n    '浙江': 9838,\n    '福建': 4810.5,\n    '江西': 6068.6,\n    '湖南': 10668,\n    '贵州': 9302.5,\n    '云南': 4148.4,\n    '广东': 14214.4,\n    '广西': 4793.1,\n    '海南': 1438.3,\n    '上海': 1584.5,\n    '西藏': 880.5,\n\n\n};\n\nvar d6 = {\n    \"江苏\": 12029.8,\n    '黑龙江': 2975.1,\n    '内蒙古': 1215.8,\n    \"吉林\": 3159.9,\n    '北京市': 6297.7,\n    \"辽宁\": 7026.6,\n    \"河北\": 4473.3,\n    \"天津\": 1767.9,\n    \"山西\": 2230.5,\n    \"陕西\": 7076.1,\n    \"甘肃\": 4213.3,\n    \"宁夏\": 5754,\n    \"青海\": 6313,\n    \"新疆\": 2027.6,\n    \"四川\": 9166.8,\n    \"重庆\": 6015.3,\n    \"山东\": 6892,\n    \"河南\": 10929.7,\n    \"安徽\": 5927.5,\n    \"湖北\": 8743.2,\n    \"浙江\": 10189.3,\n    \"福建\": 4576.1,\n    \"江西\": 5806.9,\n    \"湖南\": 10142.8,\n    \"贵州\": 9375.6,\n    \"云南\": 3838.1,\n    \"广东\": 14232.6,\n    \"广西\": 4708.5,\n    '海南': 1418.7,\n    '上海': 1644.2,\n    '西藏': 790.5,\n};\n\nvar colors = [\n    [\"#1DE9B6\", \"#1DE9B6\", \"#FFDB5C\", \"#FFDB5C\", \"#04B9FF\", \"#04B9FF\"],\n    [\"#1DE9B6\", \"#F46E36\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#546570\", \"#C4CCD3\"],\n    [\"#37A2DA\", \"#67E0E3\", \"#32C5E9\", \"#9FE6B8\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#E690D1\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\"],\n    [\"#DD6B66\", \"#759AA0\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\"],\n];\nvar colorIndex = 0;\n$(function() {\n\n    var year = [\"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\"];\n    var mapData = [\n        [],\n        [],\n        [],\n        [],\n        [],\n        [],\n    ];\n\n    /*柱子Y名称*/\n    var categoryData = [];\n    var barData = [];\n\n    for (var key in geoCoordMap) {\n        mapData[0].push({\n            \"year\": '2014',\n            \"name\": key,\n            \"value\": d1[key] / 100,\n            \"value1\": d1[key] / 100,\n        });\n        mapData[1].push({\n            \"year\": '2015',\n            \"name\": key,\n            \"value\": d1[key] / 100,\n            \"value1\": d2[key] / 100,\n        });\n        mapData[2].push({\n            \"year\": '2016',\n            \"name\": key,\n            \"value\": d3[key] / 100,\n            \"value1\": d3[key] / 100,\n        });\n        mapData[3].push({\n            \"year\": '2017',\n            \"name\": key,\n            \"value\": d3[key] / 100,\n            \"value1\": d4[key] / 100,\n        });\n        mapData[4].push({\n            \"year\": '2018',\n            \"name\": key,\n            \"value\": d5[key] / 100,\n            \"value1\": d5[key] / 100,\n        });\n        mapData[5].push({\n            \"year\": '2019',\n            \"name\": key,\n            \"value\": d5[key] / 100,\n            \"value1\": d6[key] / 100,\n        });\n    }\n\n    $.getJSON(uploadedDataURL, function(geoJson) {\n\n        echarts.registerMap('china', geoJson);\n        var convertData = function(data) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var geoCoord = geoCoordMap[data[i].name];\n                if (geoCoord) {\n                    res.push({\n                        name: data[i].name,\n                        value: geoCoord.concat(data[i].value)\n                    });\n                }\n            }\n            return res;\n        };\n\n        var convertToLineData = function(data, gps) {\n            var res = [];\n            //流\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                var toCoord = geoCoordMap[dataItem.name];\n                debugger;\n                var fromCoord = gps;\n                if (fromCoord && toCoord) {\n                    res.push([{\n                        coord: fromCoord,\n                        value: dataItem.value\n                    }, {\n                        coord: toCoord,\n                    }]);\n                }\n            }\n            return res;\n        };\n\n        optionXyMap01 = {\n            timeline: {\n                data: year,\n                axisType: 'category',\n                autoPlay: true,\n                playInterval: 3000,\n                left: '10%',\n                right: '10%',\n                bottom: '3%',\n                width: '80%',\n                //  height: null,\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n                symbolSize: 10,\n                lineStyle: {\n                    color: '#555'\n                },\n                checkpointStyle: {\n                    borderColor: '#777',\n                    borderWidth: 2\n                },\n                controlStyle: {\n                    showNextBtn: true,\n                    showPrevBtn: true,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666'\n                    },\n                    emphasis: {\n                        color: '#aaa',\n                        borderColor: '#aaa'\n                    }\n                },\n\n            },\n            baseOption: {\n\n                animation: true,\n                animationDuration: 1000,\n                animationEasing: 'cubicInOut',\n                animationDurationUpdate: 1000,\n                animationEasingUpdate: 'cubicInOut',\n                grid: {\n                    right: '1%',\n                    top: '15%',\n                    bottom: '10%',\n                    width: '20%'\n                },\n                tooltip: {\n                    trigger: 'axis', // hover触发器\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n                        shadowStyle: {\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\n                        }\n                    }\n                },\n                geo: {\n                    show: true,\n                    map: 'china',\n                    roam: true,\n                    zoom: 1,\n                    center: [105, 34.6234],\n                    label: {\n                        emphasis: {\n                            show: false\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n\n                            borderColor: 'rgba(147, 235, 248, 1)',\n                            borderWidth: 1,\n                            areaColor: {\n                                type: 'radial',\n                                x: 0.5,\n                                y: 0.5,\n                                r: 0.8,\n                                colorStops: [{\n                                    offset: 0,\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\n                                }, {\n                                    offset: 1,\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\n                                }],\n                                globalCoord: false // 缺省为 false\n                            },\n                            shadowColor: 'rgba(128, 217, 248, 1)',\n                            // shadowColor: 'rgba(255, 255, 255, 1)',\n                            shadowOffsetX: -2,\n                            shadowOffsetY: 2,\n                            shadowBlur: 10\n                        },\n                        emphasis: {\n                            areaColor: '#EEDD78',\n                            borderWidth: 0\n                        }\n                    }\n                },\n            },\n            options: []\n\n        };\n\n        for (var n = 0; n < year.length; n++) {\n\n            optionXyMap01.options.push({\n                backgroundColor: '#000000',\n                title:\n\n\n                    [{\n                            text: '2014-2019年最大跨省客运量',\n                            subtext: '数据来源：国家统计局（单位：万人）',\n                            left: '15%',\n                            top: '5%',\n                            textStyle: {\n                                color: '#70DB93',\n                                fontSize: 25\n                            }\n                        },\n\n                    ],\n                xAxis: {\n                    type: 'value',\n                    scale: true,\n                    position: 'top',\n                    min: 0,\n                    boundaryGap: false,\n                    splitLine: {\n                        show: false\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    axisLabel: {\n                        margin: 2,\n                        textStyle: {\n                            color: '#aaa'\n                        }\n                    },\n                },\n                yAxis: {\n                    type: 'category',\n                    //  name: 'TOP 20',\n                    nameGap: 16,\n                    axisLine: {\n                        show: false,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisTick: {\n                        show: false,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisLabel: {\n                        interval: 0,\n                        textStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    data: categoryData[n]\n                },\n\n                series: [\n                    //未知作用\n                    {\n                        //文字和标志\n                        name: 'light',\n                        type: 'scatter',\n                        coordinateSystem: 'geo',\n                        data: convertData(mapData[n]),\n                        symbolSize: function(val) {\n                            return val[2] / 10;\n                        },\n                        label: {\n                            normal: {\n                                formatter: '{b}',\n                                position: 'right',\n                                show: true\n                            },\n                            emphasis: {\n                                show: true\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n]\n                            }\n                        }\n                    },\n                    //地图？\n                    {\n                        type: 'map',\n                        map: 'china',\n                        geoIndex: 0,\n                        aspectScale: 0.75, //长宽比\n                        showLegendSymbol: false, // 存在legend时显示\n                        label: {\n                            normal: {\n                                show: false\n                            },\n                            emphasis: {\n                                show: false,\n                                textStyle: {\n                                    color: '#fff'\n                                }\n                            }\n                        },\n                        roam: true,\n\n                        animation: false,\n                        data: mapData\n                    },\n                    //地图点的动画效果\n                    {\n                        //  name: 'Top 5',\n                        type: 'effectScatter',\n                        coordinateSystem: 'geo',\n                        data: convertData(mapData[n].sort(function(a, b) {\n                            return b.value - a.value;\n                        }).slice(0, 20)),\n                        symbolSize: function(val) {\n                            return val[2] / 10;\n                        },\n                        showEffectOn: 'render',\n                        rippleEffect: {\n                            brushType: 'stroke'\n                        },\n                        hoverAnimation: true,\n                        label: {\n                            normal: {\n                                formatter: '{b}',\n                                position: 'right',\n                                show: true\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n],\n                                shadowBlur: 10,\n                                shadowColor: colors[colorIndex][n]\n                            }\n                        },\n                        zlevel: 1\n                    },\n                    //地图线的动画效果\n                    {\n                        type: 'lines',\n                        zlevel: 2,\n                        effect: {\n                            show: true,\n                            period: 2, //箭头指向速度，值越小速度越快\n                            trailLength: 0.06, //特效尾迹长度[0,1]值越大，尾迹越长重\n                            symbol: 'arrow', //箭头图标\n                            symbolSize: 6, //图标大小\n                        },\n                        lineStyle: {\n                            normal: {\n                                color: colors[colorIndex][n],\n                                width: 0.1, //尾迹线条宽度\n                                opacity: 0.5, //尾迹线条透明度\n                                curveness: .3 //尾迹线条曲直度\n                            }\n                        },\n                        data: convertToLineData(mapData[n], geoGpsMap[n + 1])\n                    },\n                    //柱状图\n                    {\n                        zlevel: 1.5,\n                        type: 'bar',\n                        symbol: 'none',\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n]\n                            }\n                        },\n                        data: barData[n]\n                    }\n                ]\n            })\n        }\n        myChart.setOption(optionXyMap01);\n    });\n});\n\n\nfunction randomNum(minNum, maxNum) {\n    switch (arguments.length) {\n        case 1:\n            return parseInt(Math.random() * minNum + 1, 10);\n            break;\n        case 2:\n            return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n            break;\n        default:\n            return 0;\n            break;\n    }\n}","html":"","externalScripts":"","updaterUID":"obd-oCot5d1aw5lPnPXXhRg4qkRuVPPh_3A","theme":"","layout":"","viewCount":387,"userName":"应***玩","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAwVG_9Jko.png?v=1609056006475","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-lines","series-map","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"应***玩"}}