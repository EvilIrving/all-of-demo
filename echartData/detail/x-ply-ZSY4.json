{"status":0,"data":{"cid":"x-ply-ZSY4","authorUid":"bd-3913771301","authorUserName":"因***凡","title":"demo Chart","description":"demo Chart","latestVersion":2,"alwaysLatest":1,"createTime":"2021-01-26T01:36:29.000Z","lastUpdateTime":"2021-01-26T01:36:29.000Z","auth":2,"uid":"bd-3913771301","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-27T01:40:04.000Z","code":"var dataArray = [15, 40, 35, 60, 30, 20, 70];\nvar dataX = ['15:52', '15:53', '15:54', '15:55', '15:56', '15:57', '15:58','15:59','16:00','16:01','16:02','16:03'];\nvar dataArray2 = [2, 2, 2, 2, 2, 2, 2];\nfunction handleList(N, Q) {\n  let R = [],\n    F;\n  for (F = 0; F < Q.length; ) {\n    R.push(Q.slice(F, (F += N)));\n  }\n  return R;\n};\n\n\nvar jsdata1 = [];\nvar pldata1 = [];\nvar gzdata1 = [];\nvar d1 = \"0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,3,3,3,3,3,3,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6\";\nvar d2 = \"0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0\";\nvar d3 = \"0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,2,2,2,2,2,2,0,0,0,0,0,0,5,5,5,5,5\";\nd1 = d1.split(\",\");\nd2 = d2.split(\",\");\nd3 = d3.split(\",\");\nd1 = handleList(6,d1);\nd2 = handleList(6,d2);\nd3 = handleList(6,d3);\nconsole.log(d1,d2,d3);\nvar i = 0;\nvar jsv = 0,plv=0,gzv=0;\nfor(var h=0;h<d1.length;h++){\n    \n    for(var s=0;s<d1[h].length;s++){\n        jsv+=d1[h][s]*1;\n    }\n    jsdata1.push((jsv/6).toFixed(2));\n    for(var s=0;s<d2[h].length;s++){\n        plv+=d2[h][s]*1;\n    }\n    pldata1.push((plv/6).toFixed(2));\n    for(var s=0;s<d3[h].length;s++){\n        gzv+=d3[h][s]*1;\n    }\n    gzdata1.push((gzv/6).toFixed(2));\n    jsv = 0;\n    plv = 0;\n    gzv = 0;\n}\nconsole.log(jsdata1,pldata1,gzdata1);\n\n\nvar marray = [];\nvar lscolor = 'rgba(255,255,255,1)';\nvar colorList = ['rgba(225,245,205,1)',\n                'rgba(225,245,205,1)',\n                'rgba(253,227,197,1)',\n                'rgba(243,212,213,1)',\n                'rgba(199,177,179,1)'];\nfor(var i =0;i<colorList.length;i++){\n    colorList[i] = lscolor;\n}\nfunction getBarColor(e, p) {\n    if (p == \"color\") {\n        if (e == \"0\") {\n            return 'rgba(140,198,63)';\n        } else if (e == \"1\") {\n            return 'rgba(247,147,30,0.35)';\n        } else if (e == \"2\") {\n            return 'rgba(247,147,30,0.6)';\n        } else if (e == \"3\") {\n            return 'rgba(247,147,30)';\n        } else {\n            return 'rgba(255,0,0,0.7)';\n        }\n    } else {\n        if (e == \"0\") {\n            return '正常';\n        } else if (e == \"1\") {\n            return '轻度';\n        } else if (e == \"2\") {\n            return '中度';\n        } else if (e == \"3\") {\n            return '中重度';\n        } else {\n            return '重度';\n        }\n    }\n}\noption = {\n    title: {\n        text: '分析模拟'\n    },\n    legend:{\n        show:true ,\n        // data:[\"精神面貌\",\"疲劳状态\",\"工作状态\"],\n        data:[{\n                name: '精神面貌',\n                textStyle: {\n                    color: 'green'\n                }\n            },\n            {\n                name: '疲劳状态',\n                textStyle: {\n                    color: '#ff6000'\n                }\n            },\n            {\n                name: '工作状态',\n                textStyle: {\n                    color: '#34ade4'\n                }\n            }\n        ]\n    },\n    xAxis: [{\n            data: dataX,\n            type: 'category',\n            name: \"(时间)\",\n            nameLocation: 'end',\n        },\n        {\n            type: 'value',\n            name: \"(11月)\",\n            nameLocation: 'end',\n            min: 0,\n            max: 100,\n            show: false\n        }\n    ],\n    yAxis: [{\n            type: 'value',\n            min: 0,\n            max: 10,\n            splitLine: {\n                show: true\n            }\n        },\n        {\n            name: \"横着的\",\n            type: 'category',\n            data: [\"类目1\", \"类目2\", \"类目3\", \"类目4\", \"类目5\"],\n            show: false\n        }\n    ],\n    series: [\n        {\n            type: 'bar',\n            yAxisIndex: 1,\n            xAxisIndex: 1,\n            data: dataArray2,\n            z:100,\n            itemStyle: {\n                color: function(params) {\n                    return getBarColor(params.dataIndex, 'color');\n                }\n            },\n            label: {\n                show: true,\n                formatter: function(params) {\n                    return getBarColor(params.dataIndex, 'label');\n                },\n                position: 'right',\n                distance: 10,\n                color: 'black'\n            },\n            barWidth: '99%'\n        },\n        {\n            type: 'line',\n            name:\"精神面貌\",\n            data: jsdata1,\n            showSymbol: false, //显示节点\n            smooth: 0.1, //平滑展示\n            lineStyle: {\n                color: 'green'\n            },\n            markPoint: {\n                animationEasing: 'elasticOut',\n                animationDelay: function (idx) {\n                    return idx * 200 + 1000;  \n                },\n                symbolOffset:[0, \"-20%\"],\n                data: [{\n                    type: 'min',\n                    itemStyle:{\n                        color:'green'\n                    }\n                }, {\n                    type: 'max',\n                    itemStyle:{\n                        color:'green'\n                    }\n                }]\n            }\n        },\n        {\n            type: 'line',\n            name:\"疲劳状态\",\n            data: pldata1,\n            showSymbol: false, //显示节点\n            smooth: 0.1, //平滑展示\n            lineStyle: {\n                color: '#ff6000'\n            },\n            markPoint: {\n                animationEasing: 'elasticOut',\n                animationDelay: function (idx) {\n                    return idx * 200 + 1000;  \n                },\n                symbolOffset:[0, \"-20%\"],\n                data: [{\n                    type: 'min',\n                    itemStyle:{\n                        color:'#ff6000'\n                    }\n                }, {\n                    type: 'max',\n                    itemStyle:{\n                        color:'#ff6000'\n                    }\n                }]\n            }\n        },\n        {\n            type: 'line',\n            name:\"工作状态\",\n            data: gzdata1,\n            showSymbol: false, //显示节点\n            smooth: 0.1, //平滑展示\n            lineStyle: {\n                color: '#34ade4'\n            },\n            markPoint: {\n                animationEasing: 'elasticOut',\n                animationDelay: function (idx) {\n                    return idx * 200 + 1000;  \n                },\n                symbolOffset:[0, \"-20%\"],\n                data: [{\n                    type: 'min',\n                    itemStyle:{\n                        color:'#34ade4'\n                    }\n                }, {\n                    type: 'max',\n                    itemStyle:{\n                        color:'#34ade4'\n                    }\n                }]\n            }\n        },\n        // {\n        //     type: 'bar',\n        //     // data: dataArray,\n        //     itemStyle: {\n        //         color: 'rgba(0,132,255,0.7)'\n        //     },\n        //     barWidth: '40%',\n        //     markLine: {\n        //         symbol: 'none',\n        //         lineStyle:{\n        //             type:'dotted',\n        //         },\n        //         data: [\n        //             // [\n        //             //     {coord: [\"16\", 100],itemStyle:{color:'rgba(100,39,45,1)'}},\n        //             //     {coord: [\"22\", 100]}\n        //             // ]\n        //             {\n        //                 yAxis: 20,\n        //                 itemStyle: {\n        //                     color: 'rgba(140,198,63,1)'\n        //                 }\n        //             },\n        //             {\n        //                 yAxis: 40,\n        //                 itemStyle: {\n        //                     color: 'rgba(252,238,33,1)'\n        //                 }\n        //             },\n        //             {\n        //                 yAxis: 60,\n        //                 itemStyle: {\n        //                     color: 'rgba(247,147,30,1)'\n        //                 }\n        //             },\n        //             {\n        //                 yAxis: 80,\n        //                 itemStyle: {\n        //                     color: 'rgba(193,39,45,1)'\n        //                 }\n        //             },\n        //             {\n        //                 yAxis: 100,\n        //                 itemStyle: {\n        //                     color: 'rgba(100,39,45,1)'\n        //                 }\n        //             }\n\n        //         ]\n        //     }\n        // }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-3913771301","theme":"","layout":"","viewCount":129,"userName":"因***凡","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-ply-ZSY4.png?v=1611711604896","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markArea","series-line","title"],"customTags":[],"updaterUserName":"因***凡"}}