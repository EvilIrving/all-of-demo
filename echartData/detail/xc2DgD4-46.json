{"status":0,"data":{"cid":"xc2DgD4-46","authorUid":"obd-oM3zcmKMN-256uNP7uY0Jj_MtdpCB2r","authorUserName":"我***明","title":"2015~2020年中国各省年地下水资源量(单位：亿立方米)","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-04T03:01:21.000Z","lastUpdateTime":"2021-11-04T09:28:42.000Z","auth":2,"uid":"obd-oM3zcmKMN-256uNP7uY0Jj_MtdpCB2r","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-04T09:28:42.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\r\n\r\nvar geoCoordMap = {\r\n    '北京': [116.40, 40.40],\r\n    '天津': [117.04, 39.52],\r\n    '河北': [115.21, 38.44],\r\n    '山西': [111.95, 37.65],\r\n    '内蒙古': [112.17, 42.81],\r\n    '辽宁': [123.42, 41.29],\r\n    '吉林': [126.32, 43.38],\r\n    '黑龙江': [128.34, 47.05],\r\n    '上海': [121.46, 31.28],\r\n    '江苏': [120.26, 32.54],\r\n    '浙江': [120.15, 29.28],\r\n    '安徽': [117.28, 31.86],\r\n    '福建': [118.31, 26.07],\r\n    '江西': [115.89, 27.97],\r\n    '山东': [118.01, 36.37],\r\n    '河南': [113.46, 34.25],\r\n    '湖北': [112.29, 30.98],\r\n    '湖南': [112.08, 27.79],\r\n    '广东': [113.98, 22.82],\r\n    '广西': [108.67, 23.68],\r\n    '海南': [110.03, 19.33],\r\n    '重庆': [107.51, 29.63],\r\n    '四川': [103.36, 30.65],\r\n    '贵州': [106.91, 26.67],\r\n    '云南': [101.71, 24.84],\r\n    '西藏': [89.13, 30.66],\r\n    '陕西': [108.94, 34.46],\r\n    '甘肃': [103.82, 36.05],\r\n    '青海': [97.07, 35.62],\r\n    '宁夏': [106.27, 36.76],\r\n    '新疆': [86.61, 40.79],\r\n};\r\n//2015年数据\r\nvar d1 = {\r\n    '北京': 16.0,\r\n    '天津': 3.7,\r\n    '河北': 89.3,\r\n    '山西': 97.3,\r\n    '内蒙古': 236.3,\r\n    '辽宁': 82.3,\r\n    '吉林': 120.2,\r\n    '黑龙江': 295.4,\r\n    '上海': 10.0,\r\n    '江苏': 118.9,\r\n    '浙江': 231.8,\r\n    '安徽': 178.9,\r\n    '福建': 330.5,\r\n    '江西': 397.2,\r\n    '山东': 116.9,\r\n    '河南': 166.8,\r\n    '湖北': 282.0,\r\n    '湖南': 434.1,\r\n    '广东': 420.5,\r\n    '广西': 403.0,\r\n    '海南': 96.7,\r\n    '重庆': 121.8,\r\n    '四川': 606.2,\r\n    '贵州': 294.4,\r\n    '云南': 558.4,\r\n    '西藏': 985.1,\r\n    '陕西': 124.1,\r\n    '甘肃': 112.6,\r\n    '青海': 349.4,\r\n    '宁夏': 21.3,\r\n    '新疆': 443.9,\r\n};\r\n//2016年数据\r\nvar d2 = {\r\n    '北京': 20.6,\r\n    '天津': 4.9,\r\n    '河北': 113.6,\r\n    '山西': 86.4,\r\n    '内蒙古': 224.6,\r\n    '辽宁': 83.2,\r\n    '吉林': 127.4,\r\n    '黑龙江': 283.0,\r\n    '上海': 11.7,\r\n    '江苏': 142.4,\r\n    '浙江': 269.8,\r\n    '安徽': 193.7,\r\n    '福建': 332.3,\r\n    '江西': 465.0,\r\n    '山东': 133.1,\r\n    '河南': 173.1,\r\n    '湖北': 279.6,\r\n    '湖南': 432.4,\r\n    '广东': 461.4,\r\n    '广西': 467.3,\r\n    '海南': 50.6,\r\n    '重庆': 103.3,\r\n    '四川': 584.0,\r\n    '贵州': 282.2,\r\n    '云南': 607.5,\r\n    '西藏': 803.0,\r\n    '陕西': 120.6,\r\n    '甘肃': 100.9,\r\n    '青海': 273.6,\r\n    '宁夏': 20.9,\r\n    '新疆': 544.9,\r\n};\r\n//2017年数据\r\nvar d3 = {\r\n    '北京': 24.2,\r\n    '天津': 6.1,\r\n    '河北': 133.7,\r\n    '山西': 104.9,\r\n    '内蒙古': 248.2,\r\n    '辽宁': 120.9,\r\n    '吉林': 154.7,\r\n    '黑龙江': 285.9,\r\n    '上海': 11.3,\r\n    '江苏': 164.0,\r\n    '浙江': 255.5,\r\n    '安徽': 219.3,\r\n    '福建': 450.7,\r\n    '江西': 501.9,\r\n    '山东': 164.8,\r\n    '河南': 190.2,\r\n    '湖北': 313.6,\r\n    '湖南': 475.4,\r\n    '广东': 570.0,\r\n    '广西': 529.2,\r\n    '海南': 118.3,\r\n    '重庆': 112.3,\r\n    '四川': 593.3,\r\n    '贵州': 251.3,\r\n    '云南': 699.7,\r\n    '西藏': 1028.0,\r\n    '陕西': 107.4,\r\n    '甘肃': 108.7,\r\n    '青海': 282.5,\r\n    '宁夏': 18.6,\r\n    '新疆': 610.4,\r\n};\r\n//2018年数据\r\nvar d4 = {\r\n    '北京': 20.4,\r\n    '天津': 5.5,\r\n    '河北': 116.3,\r\n    '山西': 104.1,\r\n    '内蒙古': 207.3,\r\n    '辽宁': 86.6,\r\n    '吉林': 133.3,\r\n    '黑龙江': 273.2,\r\n    '上海': 9.2,\r\n    '江苏': 114.5,\r\n    '浙江': 204.3,\r\n    '安徽': 201.0,\r\n    '福建': 287.5,\r\n    '江西': 379.5,\r\n    '山东': 151.1,\r\n    '河南': 206.5,\r\n    '湖北': 319.0,\r\n    '湖南': 436.8,\r\n    '广东': 440.7,\r\n    '广西': 446.6,\r\n    '海南': 96.8,\r\n    '重庆': 116.1,\r\n    '四川': 607.5,\r\n    '贵州': 260.8,\r\n    '云南': 762.0,\r\n    '西藏': 1086.0,\r\n    '陕西': 141.6,\r\n    '甘肃': 133.4,\r\n    '青海': 355.7,\r\n    '宁夏': 19.3,\r\n    '新疆': 587.0,\r\n};\r\n//2019年数据\r\nvar d5 = {\r\n    '北京': 28.9,\r\n    '天津': 7.3,\r\n    '河北': 124.4,\r\n    '山西': 100.3,\r\n    '内蒙古': 253.6,\r\n    '辽宁': 79.8,\r\n    '吉林': 137.9,\r\n    '黑龙江': 347.5,\r\n    '上海': 9.6,\r\n    '江苏': 119.7,\r\n    '浙江': 213.9,\r\n    '安徽': 203.7,\r\n    '福建': 245.7,\r\n    '江西': 298.5,\r\n    '山东': 196.7,\r\n    '河南': 188.0,\r\n    '湖北': 257.7,\r\n    '湖南': 333.5,\r\n    '广东': 460.6,\r\n    '广西': 440.9,\r\n    '海南': 98.0,\r\n    '重庆': 104.0,\r\n    '四川': 635.1,\r\n    '贵州': 252.7,\r\n    '云南': 772.8,\r\n    '西藏': 1105.7,\r\n    '陕西': 125.0,\r\n    '甘肃': 165.6,\r\n    '青海': 424.2,\r\n    '宁夏': 18.1,\r\n    '新疆': 497.0,\r\n};\r\n//2020年数据\r\nvar d6 = {\r\n    '北京': 24.7,\r\n    '天津': 4.2,\r\n    '河北': 97.8,\r\n    '山西': 82.5,\r\n    '内蒙古': 233.8,\r\n    '辽宁': 106.8,\r\n    '吉林': 156.1,\r\n    '黑龙江': 413.6,\r\n    '上海': 10.4,\r\n    '江苏': 77.5,\r\n    '浙江': 253.7,\r\n    '安徽': 144.8,\r\n    '福建': 339.0,\r\n    '江西': 482.4,\r\n    '山东': 128.4,\r\n    '河南': 119.1,\r\n    '湖北': 217.3,\r\n    '湖南': 472.3,\r\n    '广东': 508.2,\r\n    '广西': 445.0,\r\n    '海南': 73.0,\r\n    '重庆': 98.5,\r\n    '四川': 616.2,\r\n    '贵州': 267.0,\r\n    '云南': 554.6,\r\n    '西藏': 1037.0,\r\n    '陕西': 139.4,\r\n    '甘肃': 148.7,\r\n    '青海': 412.7,\r\n    '宁夏': 18.4,\r\n    '新疆': 508.5,\r\n};\r\n\r\nvar colors = [\r\n    [\"#1DE9B6\", \"#FFFF00\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#E690D1\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\"],\r\n    [\"#37A2DA\", \"#FFFF00\", \"#32C5E9\", \"#5DBD32\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#546570\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\", \"#37A2DA\", \"#fde8cd\", \"#32C5E9\", \"#FFDB5C\", \"#FF9F7F\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\"],\r\n    [\"#DD6B66\", \"#FFFF00\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#DD6B66\", \"#E69D87\", \"#EA7E53\", \"#EEDD78\"],\r\n];\r\nvar colorIndex = 2;\r\n$(function() {\r\n    var year = [\"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\"];\r\n    var mapData = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n\r\n    /*柱子Y名称*/\r\n    var categoryData = [];\r\n    var barData = [];\r\n\r\n    for (var key in geoCoordMap) {\r\n        mapData[0].push({\r\n            \"year\": '2015',\r\n            \"name\": key,\r\n            \"value\": d1[key],\r\n        });\r\n        mapData[1].push({\r\n            \"year\": '2016',\r\n            \"name\": key,\r\n            \"value\": d2[key],\r\n        });\r\n        mapData[2].push({\r\n            \"year\": '2017',\r\n            \"name\": key,\r\n            \"value\": d3[key],\r\n        });\r\n        mapData[3].push({\r\n            \"year\": '2018',\r\n            \"name\": key,\r\n            \"value\": d4[key],\r\n        });\r\n        mapData[4].push({\r\n            \"year\": '2019',\r\n            \"name\": key,\r\n            \"value\": d5[key],\r\n        });\r\n        mapData[5].push({\r\n            \"year\": '2020',\r\n            \"name\": key,\r\n            \"value\": d6[key],\r\n        });\r\n    }\r\n\r\n    for (var i = 0; i < mapData.length; i++) {\r\n        mapData[i].sort(function sortNumber(a, b) {\r\n            return a.value - b.value;\r\n        });\r\n        barData.push([]);\r\n        categoryData.push([]);\r\n        for (var j = 0; j < mapData[i].length; j++) {\r\n            barData[i].push(mapData[i][j].value);\r\n            categoryData[i].push(mapData[i][j].name);\r\n        }\r\n    }\r\n\r\n    $.getJSON(uploadedDataURL, function(geoJson) {\r\n\r\n        echarts.registerMap('china', geoJson);\r\n        var convertData = function(data) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({\r\n                        name: data[i].name,\r\n                        value: geoCoord.concat(data[i].value)\r\n                    });\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n        optionXyMap01 = {\r\n            timeline: {\r\n                data: year,\r\n                axisType: 'category',\r\n                autoPlay: true,\r\n                playInterval: 3000,\r\n                left: '5%',\r\n                right: '15%',\r\n                bottom: '1%',\r\n                width: '65%',\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                symbolSize: 10,\r\n                lineStyle: {\r\n                    color: '#555'\r\n                },\r\n                checkpointStyle: {\r\n                    borderColor: '#777',\r\n                    borderWidth: 2\r\n                },\r\n                controlStyle: {\r\n                    showNextBtn: true,\r\n                    showPrevBtn: true,\r\n                    normal: {\r\n                        color: '#666',\r\n                        borderColor: '#666'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa',\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n\r\n            },\r\n            baseOption: {\r\n                animation: true,\r\n                animationDuration: 1000,\r\n                animationEasing: 'cubicInOut',\r\n                animationDurationUpdate: 1000,\r\n                animationEasingUpdate: 'cubicInOut',\r\n                grid: {\r\n                    right: '2%',\r\n                    top: '15%',\r\n                    bottom: '5%',\r\n                    width: '20%'\r\n                },\r\n                tooltip: {\r\n                    trigger: 'axis', // hover触发器\r\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n                        shadowStyle: {\r\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\r\n                        }\r\n                    }\r\n                },\r\n\r\n                geo: {\r\n                    show: true,\r\n                    map: 'china',\r\n                    roam: true,\r\n                    zoom: 0.9,\r\n                    center: [113.83531246, 34.0267395887],\r\n                    label: {\r\n                        emphasis: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'rgba(147, 235, 248, 1)',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'radial',\r\n                                x: 0.5,\r\n                                y: 0.5,\r\n                                r: 0.8,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\r\n                                }],\r\n                                globalCoord: false // 缺省为 false\r\n                            },\r\n                            shadowColor: 'rgba(128, 217, 248, 1)',\r\n                            shadowOffsetX: -2,\r\n                            shadowOffsetY: 2,\r\n                            shadowBlur: 10\r\n                        },\r\n                    }\r\n                },\r\n            },\r\n            options: []\r\n\r\n        };\r\n        for (var n = 0; n < year.length; n++) {\r\n            optionXyMap01.options.push({\r\n                backgroundColor: '#013954',\r\n                title: {\r\n                    text: '2015~2020年中国各省年地下水资源量(单位：亿立方米)',\r\n                    left: '23%',\r\n                    top: '7%',\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 20\r\n                    }\r\n                },\r\n                xAxis: {\r\n                    type: 'value',\r\n                    scale: true,\r\n                    position: 'top',\r\n                    min: 0,\r\n                    max: 1200,\r\n                    boundaryGap: false,\r\n                    splitNumber: 4,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        margin: 2,\r\n                        textStyle: {\r\n                            color: '#aaa'\r\n                        }\r\n\r\n                    },\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    nameGap: 16,\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show: false,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    data: categoryData[n]\r\n                },\r\n\r\n                series: [\r\n                    //地图\r\n                    {\r\n                        type: 'map',\r\n                        map: 'china',\r\n                        geoIndex: 0,\r\n                        aspectScale: 0.75, //长宽比\r\n                        showLegendSymbol: false, // 存在legend时显示\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            },\r\n                            emphasis: {\r\n                                show: false,\r\n                                textStyle: {\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        },\r\n                        roam: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#031525',\r\n                                borderColor: '#FFFFFF',\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2B91B7'\r\n                            }\r\n                        },\r\n                        animation: false,\r\n                        data: mapData\r\n                    },\r\n                    {\r\n                        name: 'Top 5',\r\n                        type: 'scatter',\r\n                        coordinateSystem: 'geo',\r\n                        symbol: 'pin',\r\n                        symbolSize: [50, 50],\r\n                        label: {\r\n                            normal: {\r\n                                show: true,\r\n                                textStyle: {\r\n                                    color: '#fff',\r\n                                    fontSize: 9,\r\n                                },\r\n                                formatter(value) {\r\n                                    return value.data.value[2];\r\n                                }\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: '#D8BC37', //标志颜色\r\n                            }\r\n                        },\r\n                        data: convertData(mapData[n].sort(function(a, b) {\r\n                            return b.value - a.value;\r\n                        }).slice(0, 35)),\r\n                        showEffectOn: 'render',\r\n                        rippleEffect: {\r\n                            brushType: 'stroke'\r\n                        },\r\n                        hoverAnimation: true,\r\n                        zlevel: 1\r\n                    },\r\n                    //柱状图\r\n                    {\r\n                        zlevel: 1.5,\r\n                        type: 'bar',\r\n                        barMaxWidth: 10,\r\n                        symbol: 'none',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        data: barData[n]\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n        myChart.setOption(optionXyMap01);\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"obd-oM3zcmKMN-256uNP7uY0Jj_MtdpCB2r","theme":"","layout":"","viewCount":0,"userName":"我***明","commentCount":1,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xc2DgD4-46.png?v=1636018122994","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"我***明"}}