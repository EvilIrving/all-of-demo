{"status":0,"data":{"cid":"xxdA-G7h_a","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"矩形树图","description":"","latestVersion":4,"alwaysLatest":0,"createTime":"2021-05-11T03:46:45.000Z","lastUpdateTime":"2021-05-11T03:46:45.000Z","auth":2,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.1.1","versionCreateTime":"2021-06-09T07:53:46.000Z","code":"var dataname = [\n    '教师系列',\n    '教师（辅导员）系列',\n    '其他系列',\n    '社会研究系列',\n    '工程技术系列',\n    '图书资料系列',\n    '会计系列',\n    '经济系列',\n    '档案系列',\n    '实验技术系列',\n    '农业系列',\n    '卫生系列',\n    '医学',\n    '审计系列',\n    '出版系列',\n];\nvar datvalue = [2545, 1599, 1000, 950, 500, 260, 240, 130, 120, 110, 100, 50, 456, 885, 542];\nvar color = ['#4B96F3', '#10C6A6', '#F2AF4B', '#FF4D4F', '#AA7AF1','#ff7d3d','#ff977b','#36c78b','#e8a2f1','#fec279','#f97e7b','#2ed3cd','#6faaff','#b355ef','#10d8b0'];\nvar colorList = [];\nfor (var i = 0; i < dataname.length; i++) {\n    if (i <= 15) {\n        colorList[i] = color[i];\n    } else {\n        colorList[i] = color[i % 5];\n    }\n}\n\nvar data = [];\nvar sum = 0;\nvar datapercent = [];\nfor (var i = 0; i < datvalue.length; i++) {\n        sum+= datvalue[i];\n}\nfor (var i = 0; i < dataname.length; i++) {\n    data.push({\n        value: datvalue[i],\n        name: dataname[i],\n        itemStyle: {\n            color: colorList[i],\n        },\n    });\n}\n// console.log(data);\n\noption = {\n    title: [{\n        text: \"总数：789人\",\n        left:0,\n        textStyle: {\n          fontSize: 20,\n        },\n        \n    },{\n        text: \"单位：人\",\n        right:10,\n        textStyle: {\n          fontSize: 20\n        }\n    }],\n    legend: {\n        show: true,\n        data: dataname,\n        itemGap: 5,\n        borderRadius: 5,\n        symbolSize: 'auto',\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{b}: {c}',\n    },\n    series: [\n        {\n            type: 'treemap',\n            width: '100%',\n            height: '60%',\n            breadcrumb: {\n                show: false,\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'insideTopLeft',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 16,\n                    },\n                    // formatter:'{b}:'+'/n'+ '{c}'\n                    formatter: function (param) {\n                        // var str ='';\n                        // return str.concat(param.name + '\\n\\n' + '车辆数：' + param.percent.toFixed(0) + '\\n\\n' + param.value);\n                        // return str.concat(param.name + '\\n\\n' + '车辆数：' + '\\n\\n' + param.value);\n                        return (param.name + '\\n\\n' + ((param.value/sum)*100).toFixed(0) + '%' + '\\n\\n' + param.value);\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    show: true,\n                    borderWidth: 1,\n                    borderColor: '#fff',\n                },\n                emphasis: {\n                    label: {\n                        show: true,\n                    },\n                },\n            },\n            data: data,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxdA-G7h_a.png?v=1623225226520","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-treemap","tooltip"],"customTags":[],"updaterUserName":"花***n"}}