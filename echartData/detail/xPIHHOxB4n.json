{"status":0,"data":{"cid":"xPIHHOxB4n","authorUid":"bd-1580834365","authorUserName":"随***空","title":"立体感彩色地图","description":"彩色立体地图+固定颜色+地图边框","latestVersion":1,"alwaysLatest":1,"createTime":"2018-12-21T07:02:31.000Z","lastUpdateTime":"2018-12-21T07:02:31.000Z","auth":2,"uid":"bd-1580834365","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-21T07:02:31.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1545373988179-p1Cd-l9Ck.json\";\r\nlet mapTipData = {},\r\n    mainMap = {},\r\n    mapDataBorder = {},\r\n    mapDataBG = {},\r\n    mapName = 'gaoyou',\r\n    colorDic = {\r\n        areaColor: ['#fcc6a9', '#8ad77d', '#63d4f5', '#f6cb65', '#d5abfc', '#aee1ff', '#a4f4a0', '#6199ef', '#f88d79', '#fbb7ca', '#8aeadb', '#7ebefa', '#d4f99e']\r\n    };\r\n\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    gyData = geoJson\r\n    mapTipData = gyData.tipData;\r\n    mainMap = gyData.GaoYouGeo;\r\n    mapDataBorder = gyData.GaoYouBorderGeo;\r\n    mapDataBG = gyData.GaoYouBorderGeo;\r\n    echarts.registerMap(mapName, mainMap);\r\n\r\n    option = {\r\n        backgroundColor: '#131535',\r\n        visualMap: {\r\n            show: false,\r\n            left: 'left',\r\n            top: 'bottom',\r\n            calculable: false,\r\n            orient: 'horizontal',\r\n            inRange: {\r\n                color: ['#000', '#fff'],\r\n            },\r\n            splitList: [{\r\n                    label: '菱塘回族乡',\r\n                    start: 1,\r\n                    end: 1,\r\n                    color: '#fcc6a9'\r\n                },\r\n                {\r\n                    label: '车逻镇',\r\n                    start: 2,\r\n                    end: 2,\r\n                    color: '#8ad77d'\r\n                },\r\n                {\r\n                    label: '高邮镇',\r\n                    start: 3,\r\n                    end: 3,\r\n                    color: '#63d4f5'\r\n                },\r\n                {\r\n                    label: '送桥镇',\r\n                    start: 4,\r\n                    end: 4,\r\n                    color: '#f6cb65'\r\n                },\r\n                {\r\n                    label: '卸甲镇',\r\n                    start: 5,\r\n                    end: 5,\r\n                    color: '#d5abfc'\r\n                },\r\n                {\r\n                    label: '汤庄镇',\r\n                    start: 6,\r\n                    end: 6,\r\n                    color: '#aee1ff'\r\n                },\r\n                {\r\n                    label: '甘垛镇',\r\n                    start: 7,\r\n                    end: 7,\r\n                    color: '#a4f4a0'\r\n                },\r\n                {\r\n                    label: '三垛镇',\r\n                    start: 8,\r\n                    end: 8,\r\n                    color: '#6199ef'\r\n                },\r\n                {\r\n                    label: '龙虬镇',\r\n                    start: 9,\r\n                    end: 9,\r\n                    color: '#f88d79'\r\n                },\r\n                {\r\n                    label: '开发区(马棚街道)',\r\n                    start: 10,\r\n                    end: 10,\r\n                    color: '#fbb7ca'\r\n                },\r\n                {\r\n                    label: '界首镇',\r\n                    start: 11,\r\n                    end: 11,\r\n                    color: '#8aeadb'\r\n                },\r\n                {\r\n                    label: '周山镇',\r\n                    start: 12,\r\n                    end: 12,\r\n                    color: '#7ebefa'\r\n                },\r\n                {\r\n                    label: '临泽镇',\r\n                    start: 13,\r\n                    end: 13,\r\n                    color: '#d4f99e'\r\n                }\r\n            ]\r\n        },\r\n        tooltip: {\r\n            show: true,\r\n            trigger: 'item',\r\n        },\r\n        series: [{\r\n            name: 'gaoyou',\r\n            type: 'map',\r\n            zoom: 1.2,\r\n            left: 260,\r\n            top: 80,\r\n            mapType: 'gaoyou',\r\n            itemStyle: {\r\n                normal: {\r\n                    borderColor: '#5777ac',\r\n                    borderWidth: 2,\r\n                    label: {\r\n                        show: true,\r\n                        fontSize: 20,\r\n                        color: '#333',\r\n                        fontWeight: 500\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    borderColor: '#ededf2',\r\n                    shadowColor: '#6592c4',\r\n                    shadowBlur: 50,\r\n                    label: {\r\n                        show: true,\r\n                    }\r\n                }\r\n            },\r\n            data: formatMapNamesData(),\r\n        }, ]\r\n    }\r\n    // 地图边框\r\n    if (JSON.stringify(mapDataBorder) != \"{}\") {\r\n        echarts.registerMap(mapName + 'border', mapDataBorder);\r\n        option.series.push({\r\n            name: mapName + 'border',\r\n            type: 'map',\r\n            silent: true,\r\n            zoom: 1.2,\r\n            left: 260,\r\n            top: 80,\r\n            mapType: mapName + 'border', // 自定义扩展图表类型\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#111c4c',\r\n                    areaColor: 'transparent',\r\n                    borderColor: '#ededf2',\r\n                    borderWidth: 5,\r\n                    shadowColor: '#9dace8',\r\n                    shadowBlur: 50\r\n                },\r\n            },\r\n            data: [],\r\n        })\r\n    }\r\n    // 地图背景\r\n    if (JSON.stringify(mapDataBG) != \"{}\") {\r\n        echarts.registerMap(mapName + 'bg', mapDataBG);\r\n        option.series.unshift({\r\n            name: mapName + 'bg',\r\n            type: 'map',\r\n            silent: true,\r\n            zoom: 1.2,\r\n            left: 280,\r\n            top: 100,\r\n            mapType: mapName + 'bg', // 自定义扩展图表类型\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#6187bc',\r\n                    shadowColor: '#484b80',\r\n                    shadowBlur: 100\r\n                },\r\n            },\r\n            data: [],\r\n        })\r\n    }\r\n    myChart.setOption(option);\r\n})\r\n\r\n\r\n\r\nfunction formatMapNamesData() {\r\n    if (mainMap && mainMap.features &&\r\n        Object.prototype.toString.call(mainMap.features === '[object Array]')) {\r\n        const names = []\r\n        mainMap.features.forEach((item, index) => {\r\n            if (mapTipData) {\r\n                names.push({\r\n                    name: item.properties.name,\r\n                    value: index + 1,\r\n                    itemStyle: {\r\n                        emphasis: {\r\n                            areaColor: colorDic.areaColor[index]\r\n                        }\r\n                    },\r\n                    dataList: mapTipData[item.properties.name]\r\n                })\r\n            } else {\r\n                names.push({\r\n                    name: item.properties.name,\r\n                    value: index + 1,\r\n                    itemStyle: {\r\n                        emphasis: {\r\n                            areaColor: colorDic.areaColor[index]\r\n                        }\r\n                    },\r\n                    value: Math.random() * 1000\r\n                })\r\n            }\r\n        })\r\n        return names\r\n    }\r\n}","html":"","externalScripts":"","updaterUID":"bd-1580834365","theme":"","layout":"","viewCount":1185,"userName":"随***空","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPIHHOxB4n.png?v=1545375752515","isCustomThumbnail":1,"builtinTags":["category-work","series-map","tooltip","visualMap"],"customTags":["map"],"updaterUserName":"随***空"}}