{"status":0,"data":{"cid":"xGCteqwoL9","authorUid":"bd-2652911079","authorUserName":"囧***哥","title":"地图迁徙效果","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-18T08:18:21.000Z","lastUpdateTime":"2021-10-18T08:21:00.000Z","auth":2,"uid":"bd-2652911079","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-18T08:21:00.000Z","code":"// 目标节点（流向节点）\nvar keyNode = [\n    {\n        name: '华东供电公司',\n        gps: [114.854911, 33.901464],\n    },\n    {\n        name: '华南电公司',\n        gps: [115.854911, 26.901464],\n    },\n];\n// 原始节点\nvar dataMap = [\n    {\n        name: '上海',\n        value: 95,\n        gps: [121.4648, 31.2891],\n    },\n    {\n        name: '韶关',\n        value: 75,\n        gps: [113.7964, 24.7028],\n    },\n];\n\n// 原始节点\nvar dataMapDatas = keyNode.map(({ name: dName }, i) => ({\n    name: dName,\n    type: 'scatter',\n    coordinateSystem: 'geo',\n    zlevel: 2,\n    rippleEffect: {\n        brushType: 'stroke',\n    },\n    label: {\n        normal: {\n            show: true,\n            position: 'right',\n            formatter: '{b}',\n        },\n    },\n    itemStyle: {\n        normal: {},\n    },\n    data: dataMap.map(({ name, gps, value }, i) => ({\n        name,\n        value: [...gps, value],\n    })),\n}));\n// 目标节点\nvar dataKeyNode = keyNode.map(({ name, gps: value }, i) => ({ name, value, visualMap: false }));\n\n// 流向线条\nvar dataMapLines = keyNode.map(({ name: dName, gps: dGps }, i) => ({\n    name: dName,\n    type: 'lines',\n    zlevel: 3,\n    symbol: ['none', 'circle'],\n    effect: {\n        show: true,\n        period: 3,\n        trailLength: 0.01,\n        symbolSize: 4,\n    },\n    lineStyle: {\n        normal: {\n            opacity: 1,\n            curveness: 0.4,\n            color: '#609fd4',\n        },\n    },\n    data: dataMap.map(({ name, gps, value }, i) => ({\n        fromName: name,\n        toName: dName,\n        coords: [gps, dGps],\n        value: value,\n\n        name,\n        value: [...gps, value],\n    })),\n}));\n\noption = {\n    tooltip: {\n        trigger: 'item',\n    },\n    visualMap: {\n        min: 0,\n        max: 100,\n        calculable: true,\n        color: ['#00ff78', '#ff971b', '#acff43', '#ff73b7', '#ffff46', '#27bbfe'],\n        show: false,\n    },\n    geo: {\n        map: 'china',\n        zoom: 0.98,\n        zlevel: 2,\n        label: {\n            emphasis: {\n                show: false,\n            },\n        },\n        roam: false,\n        itemStyle: {\n            normal: {\n                areaColor: '#214278',\n                borderColor: '#195BB9',\n            },\n            emphasis: {\n                color: '#112246',\n            },\n        },\n    },\n    series: [\n        // 原始节点\n        ...dataMapDatas,\n        // 目标节点\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 4,\n            symbolSize: 30,\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}',\n                    color: 'white',\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: 'white',\n                },\n            },\n            rippleEffect: {\n                scale: 4,\n                brushType: 'stroke',\n            },\n            data: dataKeyNode,\n        },\n        // 线条流向\n        ...dataMapLines,\n    ],\n};\n","html":"","externalScripts":"https://gallerybox.makeapie.com/dep/echarts/map/js/china.js","updaterUID":"bd-2652911079","theme":"","layout":"","viewCount":0,"userName":"囧***哥","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGCteqwoL9.png?v=1634545261076","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"囧***哥"}}