{"status":0,"data":{"cid":"xQA8DnnZxO","authorUid":"obd-oCXcyPuzu5FKR0sIDwh3Tu_r7s61y3x","authorUserName":"h***笙","title":"XX数量-驻马店市","description":"自定义tootip的实验，上传完json、拿去改改坐标什么的可以直接用","latestVersion":2,"alwaysLatest":1,"createTime":"2020-08-24T01:38:58.000Z","lastUpdateTime":"2020-08-24T01:38:58.000Z","auth":2,"uid":"obd-oCXcyPuzu5FKR0sIDwh3Tu_r7s61y3x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-24T02:08:21.000Z","code":"//引入市区json文件\nvar uploadedDataURL = \"/asset/get/s/data-1597452450339-dQm5JP9rx.json\";\n\n\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('china', geoJson);\n    myChart.hideLoading();\n    //地理位置信息\n    var geoCoordMap = {\n        '遂平县': [114.015819, 33.150944],\n        '上蔡县': [114.276256, 33.267906],\n        '西平县': [114.022143, 33.394355],\n        \"驿城区\": [114.006045, 32.978599],\n        '确山县': [114.033641, 32.810768],\n        \"泌阳县\": [113.335694, 32.731107],\n        \"汝南县\": [114.375141, 33.016389],\n        \"正阳县\": [114.398138, 32.615372],\n        \"平舆县\": [114.629254, 32.969876],\n        \"新蔡县\": [114.979952, 32.752487]\n\n    };\n    //数据信息\n    var data = [{\n            name: \"遂平县\",\n            value: 199\n        },\n        {\n            name: \"上蔡县\",\n            value: 170\n        },\n        {\n            name: \"西平县\",\n            value: 102\n        },\n        {\n            name: \"驿城区\",\n            value: 81\n        },\n        {\n            name: \"确山县\",\n            value: 147\n        },\n        {\n            name: \"泌阳县\",\n            value: 130\n        },\n        {\n            name: \"汝南县\",\n            value: 172\n        },\n        {\n            name: \"正阳县\",\n            value: 123\n        },\n        {\n            name: \"平舆县\",\n            value: 120\n        },\n        {\n            name: \"新蔡县\",\n            value: 292\n        }\n    ];\n    var max = 480,\n        min = 9; // todo \n    var maxSize4Pin = 100,\n        minSize4Pin = 20;\n\n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value)\n                });\n            }\n        }\n        return res;\n    };\n\n\n    option = {\n        backgroundColor: '#404a59',\n        title: {\n            text: 'XX数量-驻马店市',\n\n            left: 'center',\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        tooltip: {\n            trigger: 'item',\n\n            //自定义修改显示\n            formatter: function(value) {\n                                                          //这只能填2，不太明白，希望大神指教\n                return res = '<div><p>数量：' + value.data.value[2] + '</p></div>'\n\n            },\n        },\n\n        geo: {\n            map: 'china',\n            center: [114.006045, 32.978599],\n            zoom: 12,\n            label: {\n                emphasis: {\n                    show: false\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#323c48',\n                    borderColor: '#111'\n                },\n                emphasis: {\n                    areaColor: '#2a333d'\n                }\n            }\n        },\n        series: [{\n            name: 'pm2.5',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function(val) {\n                return val[2] / 10;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#f4e925',\n                    shadowBlur: 10,\n                    shadowColor: '#333'\n                }\n            },\n            zlevel: 1\n        }]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"obd-oCXcyPuzu5FKR0sIDwh3Tu_r7s61y3x","theme":"","layout":"","viewCount":267,"userName":"h***笙","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQA8DnnZxO.png?v=1598234901299","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","title","tooltip"],"customTags":[],"updaterUserName":"h***笙"}}