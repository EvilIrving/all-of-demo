{"status":0,"data":{"cid":"xpA70HxQ6t","authorUid":"obd-oN6D-m6oOgog1ap8g2xNcaUy-nYCTCe","authorUserName":"有***4","title":"结算统计、Y轴排列","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-11-25T03:37:57.000Z","lastUpdateTime":"2021-11-25T03:50:50.000Z","auth":2,"uid":"obd-oN6D-m6oOgog1ap8g2xNcaUy-nYCTCe","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-11-25T03:50:50.000Z","code":"const randNum = (min, max, len, isRound) => {\n    var arr = [];\n    for (let i = 0; i < len; i++) {\n        var num;\n        num = Math.random() * (max - min) + min;\n        if (isRound) {\n            num = Math.round(num);\n            arr.push(num);\n        } else {\n            arr.push(num.toFixed(2));\n        }\n    }\n    return arr;\n};\nconst dataX = ['庆阳', '西安', '南京', '长沙', '上海', '深圳'];\nconst dataY = randNum(1000, 100000, 6, true);\nconst dataY2 = randNum(1000, 100000, 6, true);\nconst dataY3 = dataY.map((item, index) => {\n    return item + dataY2[index];\n});\nconst themeColor = '#040624';\noption = {\n    grid: {\n        top: 55,\n        left: '15%',\n        right: 60,\n        bottom: '5%',\n    },\n    legend: {\n        top: '5%',\n        right: '5%',\n        textStyle: {\n            color: themeColor,\n        },\n        data: ['已结算', '未结算'],\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n            shadowStyle: {\n                color: themeColor,\n                opacity: 0.1,\n            },\n        },\n        formatter(e) {\n            let result = e.filter((item) => item.seriesName !== '总计');\n            return result.map((item) => `${item.marker} ${item.seriesName} ${item.value}<br/>`).join('');\n        },\n    },\n\n    xAxis: {\n        type: 'value',\n        splitLine: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    yAxis: {\n        type: 'category',\n        realtimeSort: true, // 设置true,开启Y轴的动态排序效果\n        data: dataX,\n        axisLine: {\n            lineStyle: {\n                color: themeColor,\n            },\n        },\n        axisLabel: {\n            color: themeColor,\n        },\n        axisTick: {\n            show: false,\n        },\n    },\n    series: [\n        {\n            type: 'bar',\n            name: '已结算',\n            stack: '总计',\n            zlevel: 1,\n            barMaxWidth: 30,\n            itemStyle: {\n                color: '#ff9e34',\n            },\n            label: {\n                show: true,\n                position: 'inside',\n                color: themeColor,\n                formatter(e) {\n                    return e.value > 0 ? `${(e.value / 10000).toFixed(2)}万` : '';\n                },\n            },\n            data: dataY,\n        },\n        {\n            type: 'bar',\n            name: '未结算',\n            stack: '总计',\n            zlevel: 1,\n            barMaxWidth: 30,\n            itemStyle: {\n                color: '#39fdc0',\n            },\n            label: {\n                show: true,\n                position: 'inside',\n                color: themeColor,\n                formatter(e) {\n                    return e.value > 0 ? `${(e.value / 10000).toFixed(2)}万` : '';\n                },\n            },\n            data: dataY2,\n        },\n        {\n            type: 'bar',\n            name: '总计',\n            barGap: '-100%',\n            barMaxWidth: 30,\n            itemStyle: {\n                color: '#00ffff',\n            },\n            label: {\n                show: true,\n                position: 'right',\n                color: themeColor,\n                formatter(e) {\n                    return e.value > 0 ? `${(e.value / 10000).toFixed(2)}万` : '';\n                },\n            },\n            data: dataY3,\n        },\n    ],\n};\nlet indexSort = 0;\nsetInterval(() => {\n    indexSort = indexSort === dataX.length ? 0 : indexSort + 1;\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0, // 显示第几个series\n        dataIndex: indexSort, // 显示第几个数据\n    });\n}, 1000);\n","html":"","externalScripts":"","updaterUID":"obd-oN6D-m6oOgog1ap8g2xNcaUy-nYCTCe","theme":"default","layout":"","viewCount":0,"userName":"有***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpA70HxQ6t.png?v=1637812251070","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"有***4"}}