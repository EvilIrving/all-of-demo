{"status":0,"data":{"cid":"x7yftMgYd6","authorUid":"bd-940265080","authorUserName":"hao123hahaha","title":"电量统计","description":"电量按照天统计","latestVersion":3,"alwaysLatest":1,"createTime":"2018-12-20T09:24:58.000Z","lastUpdateTime":"2018-12-20T09:24:58.000Z","auth":2,"uid":"bd-940265080","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-20T10:11:25.000Z","code":"var Chart = {\n    Config: {\n        y_font_color: '#60F194',\n        x_font_color: '#fff',\n        y_line_color: '#184483',\n        x_line_color: '#184483',\n        split_line_color: 'rgba(0,53,115,0.6)'\n    },\n    getXAxisData(timestamp) {\n        let date = new Date();\n        if (timestamp) date.setTime(parseInt(timestamp));\n        let year = date.getFullYear();\n        date.setMonth(date.getMonth() + 1);\n        date.setDate(0);\n        let month = date.getMonth() + 1;\n        let day_max = date.getDate();\n        let data = [];\n        for (let i = 1; i <= day_max; i++) {\n            data.push(i < 10 ? year + '/' + month + '/0' + i : year + '/' + month + '/' + i);\n        }\n        return data;\n    },\n    //用于进行双轴均分计算，这里的max和min需要提前获取到\n    split(){\n        let max = 10;\n        let min = 0;\n        //双轴切割线均分重合\n      if (max > 0 && line_max > 0) {\n        //此处定义规则\n        let interval_y_left = parseInt(max / 6) + 1;\n        let interval_y_right = parseFloat((parseFloat(line_max / 6) * 1.1).toFixed(1));\n        option.yAxis = [{\n          max: (interval_y_left * 6).toFixed(2),\n          interval: interval_y_left\n        }, {\n          max: (interval_y_right * 6).toFixed(2),\n          interval: interval_y_right\n        }];\n      } else {\n        option.yAxis = [{max: 1}, {max: 1}];\n      }\n    }\n};\n\noption = {\n    backgroundColor: '#141845',\n    color: ['#26CEFB', '#FEE99A'],\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n            crossStyle: {\n                color: '#999'\n            }\n        }\n    },\n    legend: {\n        top: '2%',\n        right: '2%',\n        data: ['日用电量（kw·h）', '单位用电量（kw·h/m³）'],\n        textStyle: {\n            color: '#fff',\n            fontSize: '14px'\n        },\n        icon: 'rect',\n        itemHeight: 7\n    },\n    grid: {\n        left: '5%',\n        right: '5%',\n        top: '18%',\n        bottom: '38%'\n    },\n    xAxis: [{\n        type: 'category',\n        data: Chart.getXAxisData(),\n        axisPointer: {\n            type: 'shadow'\n        },\n        axisLine: {\n            lineStyle: {\n                color: Chart.Config.x_line_color\n            }\n        },\n        axisLabel: {\n            // margin: 26,\n            interval: 0,\n            rotate: 30,\n            textStyle: {\n                color: Chart.Config.x_font_color,\n                fontSize: '70%'\n            }\n        }\n    }],\n    yAxis: [{\n            axisPointer: {\n                show: false\n            },\n            splitNumber: 6,\n            type: 'value',\n            min: 0, //max: 6000,\n            axisLabel: {\n                textStyle: {\n                    color: Chart.Config.y_font_color,\n                    fontSize: '12px'\n                }\n            },\n            axisLine: {\n                lineStyle: {\n                    color: Chart.Config.y_line_color,\n                }\n            },\n            splitLine: {\n                lineStyle: {\n                    color: Chart.Config.split_line_color,\n                    width: 0,\n                    type: 'solid'\n                }\n            }\n        },\n        {\n            axisPointer: {\n                show: false\n            },\n            splitNumber: 6,\n            type: 'value',\n            min: 0, //max: 0.6,\n            axisLabel: {\n                textStyle: {\n                    color: Chart.Config.y_font_color,\n                    fontSize: '12px'\n                }\n            },\n            axisLine: {\n                lineStyle: {\n                    color: Chart.Config.y_line_color,\n                }\n            },\n            splitLine: {\n                lineStyle: {\n                    color: Chart.Config.split_line_color,\n                    width: 1,\n                    type: 'solid'\n                }\n            }\n        }\n    ],\n    series: [{\n        name: '日用电量（kw·h）',\n        type: 'bar',\n        data: [12, 23, 33, 2, 11, 43, 66, 2, 12, 44, 84, 27, 2]\n    }, {\n        name: '单位用电量（kw·h/m³）',\n        type: 'line',\n        yAxisIndex: 1,\n        data: [11, 55, 2, 54, 17, 29, 42, 56, 78, 2, 22, 4, 3]\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-940265080","theme":"dark","layout":"","viewCount":619,"userName":"hao123hahaha","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7yftMgYd6.png?v=1545300685416","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"hao123hahaha"}}