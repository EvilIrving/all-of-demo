{"status":0,"data":{"cid":"xSJLS-fzM7","authorUid":"bd-4029760411","authorUserName":"6002晴","title":"部分虚线部分实线","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-06-28T07:41:49.000Z","lastUpdateTime":"2018-06-28T07:41:49.000Z","auth":2,"uid":"bd-4029760411","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-06-28T07:41:49.000Z","code":"let costChange = {\n    changeDate: ['17-04', '17-05', '17-06', '17-07', '17-08', '17-09', '17-10', '17-11', '17-12', '18-01', '18-02', '18-03'],\n    cost: [13200, 14100, 15200, 15001, 13000, 14200, 15091, 14000, 17032, 18091, 20034, 19000]\n};\n\nlet data = costChange.cost;\nlet chartData = {\n    xAxisNames: costChange.changeDate,\n    seriesData: data,\n    name: '费用',\n    seriesDash: true,\n    dashStart: 5\n};\n\nlet seriesData = [];\nif (chartData.seriesDash) {\n    let len = chartData.xAxisNames.length;\n    let minusArr = [];\n    for (let i = 0; i < len; i++) {\n        minusArr.push('-');\n    }\n    seriesData = [{\n            name: chartData.name,\n            symbol: 'circle',\n            symbolSize: 12,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#2d8cf0'\n                }\n            },\n            data: (chartData.seriesData.slice(0, chartData.dashStart)).concat(minusArr.slice(0, len - chartData.dashStart))\n        },\n        {\n            name: chartData.name,\n            symbol: 'emptyCircle',\n            symbolSize: 6,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#2d8cf0'\n                }\n            },\n            data: (chartData.seriesData.slice(0, chartData.dashStart)).concat(minusArr.slice(0, len - chartData.dashStart))\n        },\n        {\n            name: chartData.name,\n            symbol: 'circle',\n            symbolSize: 12,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#8fc3f7',\n                    lineStyle: {\n                        width: 2,\n                        type: 'dashed'\n                    }\n                }\n            },\n            data: (minusArr.slice(0, chartData.dashStart - 1)).concat(chartData.seriesData.slice(chartData.dashStart - 1, len))\n        },\n        {\n            name: chartData.name,\n            symbol: 'circle',\n            symbolSize: 6,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#2d8cf0',\n                    lineStyle: {\n                        width: 2,\n                        type: 'dotted'\n                    }\n                }\n            },\n            data: (minusArr.slice(0, chartData.dashStart - 1)).concat(chartData.seriesData.slice(chartData.dashStart - 1, chartData.xAxisNames.length))\n        },\n        {\n            name: chartData.name,\n            symbol: 'circle',\n            symbolSize: 12,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#2d8cf0'\n                }\n            },\n            data: (minusArr.slice(0, chartData.dashStart - 1)).concat(chartData.seriesData.slice(chartData.dashStart - 1, chartData.dashStart)).concat(minusArr.slice(0, len - chartData.dashStart))\n        },\n        {\n            name: chartData.name,\n            symbol: 'emptyCircle',\n            symbolSize: 6,\n            type: 'line',\n            smooth: false,\n            itemStyle: {\n                normal: {\n                    color: '#2d8cf0'\n                }\n            },\n            data: (minusArr.slice(0, chartData.dashStart - 1)).concat(chartData.seriesData.slice(chartData.dashStart - 1, chartData.dashStart)).concat(minusArr.slice(0, len - chartData.dashStart))\n        }\n    ];\n} else {\n    seriesData = [{\n            name: chartData.name,\n            symbol: 'circle',\n            symbolSize: 12,\n            type: 'line',\n            data: chartData.seriesData\n        },\n        {\n            name: chartData.name,\n            symbol: 'emptyCircle',\n            symbolSize: 6,\n            type: 'line',\n            data: chartData.seriesData\n        }\n    ];\n}\n\noption = {\n    backgroundColor: '#00265f',\n    color: '#2d8cf0',\n    tooltip: {\n        axisPointer: {\n            tyle: 'line',\n            lineStyle: {\n                type: 'dashed',\n                color: '#2d8cf0'\n            }\n        },\n        trigger: 'axis',\n        formatter: function(params, ticket, callback) {\n            callback;\n            var htmlStr = '';\n            var valMap = {};\n            for (var i = 0; i < params.length; i++) {\n                var param = params[i];\n                var xName = param.name;\n                var seriesName = param.seriesName;\n                var value = param.value;\n                // var color = param.color;\n                if (value === '-') {\n                    continue;\n                }\n                if (valMap[seriesName] === value) {\n                    continue;\n                }\n                htmlStr += '20' + xName + '-01';\n                if (chartData.dashStart && params[0].dataIndex >= chartData.dashStart) {\n                    htmlStr += '预估';\n                }\n                htmlStr += '<br/><div>';\n                htmlStr += seriesName + '：' + value.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n                htmlStr += '</div>';\n                valMap[seriesName] = value;\n            }\n            return htmlStr;\n        }\n    },\n    legend: {\n        show: false\n    },\n    grid: {\n        left: 80,\n        bottom: 80,\n        top: 80,\n        right: 80,\n        containLabel: true\n    },\n    xAxis: {\n        type: 'category',\n        data: chartData.xAxisNames,\n        axisLabel: {\n            color: '#2d8cf0'\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#2d8cf0'\n            }\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    yAxis: {\n        type: 'value',\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: '#2d8cf0'\n            }\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            lineStyle: {\n                type: 'dashed',\n                color: '#2d8cf0'\n            }\n        }\n    },\n    series: seriesData\n};","html":"","externalScripts":"","updaterUID":"bd-4029760411","theme":"","layout":"","viewCount":113,"userName":"6002晴","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJLS-fzM7.png?v=1530171709990","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"6002晴"}}