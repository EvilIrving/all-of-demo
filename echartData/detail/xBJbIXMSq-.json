{"status":0,"data":{"cid":"xBJbIXMSq-","authorUid":"bd-2215764494","authorUserName":"p***g","title":"Global wind visualization","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2017-09-12T07:56:56.000Z","lastUpdateTime":"2017-09-12T07:56:56.000Z","auth":2,"uid":"bd-2215764494","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"3.7.1","versionCreateTime":"2017-09-12T08:05:18.000Z","code":"$.getJSON('/asset/get/s/data-1505118307697-S1nD_67qb.json', function (windData) {\n    var data = [];\n    var p = 0;\n    var maxMag = 0;\n    var minMag = Infinity;\n    for (var j = 0; j < windData.ny; j++) {\n        for (var i = 0; i < windData.nx; i++, p++) {\n            var vx = windData.data[p][0];\n            var vy = windData.data[p][1];\n            var mag = Math.sqrt(vx * vx + vy * vy);\n            // 数据是一个一维数组\n            // [ [经度, 维度，向量经度方向的值，向量维度方向的值] ]\n            data.push([\n                i / windData.nx * 360 - 180,\n                j / windData.ny * 180 - 90,\n                vx,\n                vy,\n                mag\n            ]);\n            maxMag = Math.max(mag, maxMag);\n            minMag = Math.min(mag, minMag);\n        }\n    }\n    myChart.setOption(option = {\n        visualMap: {\n            left: 'right',\n            min: minMag,\n            max: maxMag,\n            dimension: 4,\n            inRange: {\n                // color: ['green', 'yellow', 'red']\n                color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n            },\n            realtime: false,\n            calculable: true,\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        bmap: {\n            center: [0, 0],\n            zoom: 1,\n            roam: true,\n            mapStyle: {\n            'styleJson': [\n                {\n                'featureType': 'water',\n                'elementType': 'all',\n                'stylers': {\n                    'color': '#031628'\n                }\n                },\n                {\n                'featureType': 'land',\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#000102'\n                }\n                },\n                {\n                'featureType': 'highway',\n                'elementType': 'all',\n                'stylers': {\n                    'visibility': 'off'\n                }\n                },\n                {\n                'featureType': 'arterial',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                    'color': '#000000'\n                }\n                },\n                {\n                'featureType': 'arterial',\n                'elementType': 'geometry.stroke',\n                'stylers': {\n                    'color': '#0b3d51'\n                }\n                },\n                {\n                'featureType': 'local',\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#000000'\n                }\n                },\n                {\n                'featureType': 'railway',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                    'color': '#000000'\n                }\n                },\n                {\n                'featureType': 'railway',\n                'elementType': 'geometry.stroke',\n                'stylers': {\n                    'color': '#08304b'\n                }\n                },\n                {\n                'featureType': 'subway',\n                'elementType': 'geometry',\n                'stylers': {\n                    'lightness': -70\n                }\n                },\n                {\n                'featureType': 'building',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                    'color': '#000000'\n                }\n                },\n                {\n                'featureType': 'all',\n                'elementType': 'labels.text.fill',\n                'stylers': {\n                    'color': '#857f7f'\n                }\n                },\n                {\n                'featureType': 'all',\n                'elementType': 'labels.text.stroke',\n                'stylers': {\n                    'color': '#000000'\n                }\n                },\n                {\n                'featureType': 'building',\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#022338'\n                }\n                },\n                {\n                'featureType': 'green',\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#062032'\n                }\n                },\n                {\n                'featureType': 'boundary',\n                'elementType': 'all',\n                'stylers': {\n                    'color': '#465b6c'\n                }\n                },\n                {\n                'featureType': 'manmade',\n                'elementType': 'all',\n                'stylers': {\n                    'color': '#022338'\n                }\n                },\n                {\n                'featureType': 'label',\n                'elementType': 'all',\n                'stylers': {\n                    'visibility': 'off'\n                }\n                }\n            ]\n            }\n        },\n        series: [{\n            type: 'flowGL',\n            coordinateSystem: 'bmap',\n            data: data,\n            particleDensity: 512,\n            particleSpeed: 2,\n            particleSize: 1,\n            // gridWidth: windData.nx,\n            // gridHeight: windData.ny,\n            itemStyle: {\n                opacity: 0.7\n            }\n        }]\n    });\n});","html":"","externalScripts":"http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-2215764494","theme":"","layout":"","viewCount":3636,"userName":"p***g","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJbIXMSq-.png?v=1505203020775","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":["echarts-gl"],"updaterUserName":"p***g"}}