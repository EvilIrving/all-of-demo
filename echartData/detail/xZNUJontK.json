{"status":0,"data":{"cid":"xZNUJontK","authorUid":"bd-405910062","authorUserName":"人***去","title":"1970年以来中国GDP排名变化情况","description":"GDP单位:百万美元","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-13T03:14:08.000Z","lastUpdateTime":"2019-11-13T03:14:08.000Z","auth":2,"uid":"bd-405910062","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-13T03:14:08.000Z","code":"var data=[\n  {\n    \"time\": 1970,\n    \"data\": [\n      {\"name\":\"United States of America\",\"value\":[1025000,31.222,\"美国\"]},\n      {\"name\":\"Russia\",\"value\":[433412,13.202,\"俄国\"]},\n      {\"name\":\"Japan\",\"value\":[209071,6.369,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[208867,6.362,\"德国\"]},\n      {\"name\":\"France\",\"value\":[146982,4.477,\"法国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[124970,3.807,\"英国\"]},\n      {\"name\":\"Italy\",\"value\":[109260,3.328,\"意大利\"]},\n      {\"name\":\"China\",\"value\":[91506,2.787,\"中国\"]},\n      {\"name\":\"Canada\",\"value\":[86303,2.629,\"加拿大\"]},\n      {\"name\":\"India\",\"value\":[61470,1.873,\"印度\"]}\n    ]\n  },\n  {\n    \"time\": 1980,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[2768900,23.337,\"美国\"]},\n      {\"name\":\"Japan\",\"value\":[1086988,9.027,\"日本\"]},\n      {\"name\":\"Russia\",\"value\":[940038,7.923,\"俄国\"]},\n      {\"name\":\"Germany\",\"value\":[919651,6.253,\"德国\"]},\n      {\"name\":\"France\",\"value\":[691157,5.825,\"法国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[541917,4.567,\"英国\"]},\n      {\"name\":\"Italy\",\"value\":[459811,3.875,\"意大利\"]},\n      {\"name\":\"China\",\"value\":[306520,2.583,\"中国\"]},\n      {\"name\":\"Canada\",\"value\":[268889,2.266,\"加拿大\"]},\n      {\"name\":\"Mexico\",\"value\":[227664,1.919,\"墨西哥\"]}\n    ]\n  },\n  {\n    \"time\": 1990,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[5754800,25.921,\"美国\"]},\n      {\"name\":\"Japan\",\"value\":[3103698,13.774,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[1714447,7.722,\"德国\"]},\n      {\"name\":\"France\",\"value\":[1244419,5.605,\"法国\"]},\n      {\"name\":\"Italy\",\"value\":[1133465,5.105,\"意大利\"]},\n      {\"name\":\"United Kingdom\",\"value\":[1012617,4.561,\"英国\"]},\n      {\"name\":\"Russia\",\"value\":[775810,3.501,\"俄国\"]},\n      {\"name\":\"Canada\",\"value\":[582735,2.625,\"加拿大\"]},\n      {\"name\":\"Spain\",\"value\":[520938,2.346,\"西班牙\"]},\n      {\"name\":\"China\",\"value\":[404494,1.822,\"中国\"]}\n    ]\n  },\n  {\n    \"time\": 2000,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[9898800,30.659,\"美国\"]},\n      {\"name\":\"Japan\",\"value\":[4731199,14.456,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[1886400,5.843,\"德国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[1477132,4.575,\"英国\"]},\n      {\"name\":\"France\",\"value\":[1326333,4.108,\"法国\"]},\n      {\"name\":\"China\",\"value\":[1192836,3.695,\"中国\"]},\n      {\"name\":\"Italy\",\"value\":[1097343,3.399,\"意大利\"]},\n      {\"name\":\"Canada\",\"value\":[724914,2.245,\"加拿大\"]},\n      {\"name\":\"Brazil\",\"value\":[644729,1.997,\"巴西\"]},\n      {\"name\":\"Mexico\",\"value\":[636731,1.972,\"墨西哥\"]}\n    ]\n  },\n  {\n    \"time\": 2010,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[14419600,22.679,\"美国\"]},\n      {\"name\":\"China\",\"value\":[5951462,9.360,\"中国\"]},\n      {\"name\":\"Japan\",\"value\":[5488424,8.632,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[3306028,5.200,\"德国\"]},\n      {\"name\":\"France\",\"value\":[2565755,4.035,\"法国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[2266049,3.564,\"英国\"]},\n      {\"name\":\"Brazil\",\"value\":[2143035,3.371,\"巴西\"]},\n      {\"name\":\"Italy\",\"value\":[2056941,3.235,\"意大利\"]},\n      {\"name\":\"India\",\"value\":[1678297,2.640,\"印度\"]},\n      {\"name\":\"Canada\",\"value\":[1577040,2.480,\"加拿大\"]}\n    ]\n  },\n  {\n    \"time\": 2015,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[17947000,23.208,\"美国\"]},\n      {\"name\":\"China\",\"value\":[10982829,14.204,\"中国\"]},\n      {\"name\":\"Japan\",\"value\":[4123258,5.329,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[3357614,4.333,\"德国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[2849345,3.685,\"英国\"]},\n      {\"name\":\"France\",\"value\":[2421560,3.130,\"法国\"]},\n      {\"name\":\"India\",\"value\":[2090706,2.703,\"印度\"]},\n      {\"name\":\"Italy\",\"value\":[1815757,2.347,\"意大利\"]},\n      {\"name\":\"Brazil\",\"value\":[1772589,2.289,\"巴西\"]},\n      {\"name\":\"Canada\",\"value\":[1552386,2.005,\"加拿大\"]}\n    ]\n  },\n  {\n    \"time\": 2018,\n    \"data\": [\n      {\"name\":\"United States of America\", \"value\":[20513000,24.2,\"美国\"]},\n      {\"name\":\"China\",\"value\":[13457267,16,\"中国\"]},\n      {\"name\":\"Japan\",\"value\":[5070626,5.9,\"日本\"]},\n      {\"name\":\"Germany\",\"value\":[4029140,4.7,\"德国\"]},\n      {\"name\":\"United Kingdom\",\"value\":[2808899,3.3,\"英国\"]},\n      {\"name\":\"France\",\"value\":[2794696,3.3,\"法国\"]},\n      {\"name\":\"India\",\"value\":[2689992,3.2,\"印度\"]},\n      {\"name\":\"Italy\",\"value\":[2086911,2.4,\"意大利\"]},\n      {\"name\":\"Brazil\",\"value\":[1909386,2.2,\"巴西\"]},\n      {\"name\":\"Canada\",\"value\":[1733706,2.005,\"加拿大\"]}\n    ]\n  }\n]\n\n\nvar option = {\n  baseOption: {\n    animationDurationUpdate: 1000,\n    animationEasingUpdate: 'quinticInOut',\n    timeline: {\n      axisType: 'category',\n      orient: 'vertical',\n      autoPlay: true,\n      inverse: true,\n      playInterval: 5000,\n      left: null,\n      right: 5,\n      top: 20,\n      bottom: 20,\n      width: 46,\n      height: null,\n      label: {\n        normal: {\n          textStyle: {\n            color: '#ddd'\n          }\n        },\n        emphasis: {\n          textStyle: {\n            color: '#fff'\n          }\n        }\n      },\n      symbol: 'none',\n      lineStyle: {\n        color: '#555'\n      },\n      checkpointStyle: {\n        color: '#bbb',\n        borderColor: '#777',\n        borderWidth: 1\n      },\n      controlStyle: {\n        showNextBtn: false,\n        showPrevBtn: false,\n        normal: {\n          color: '#666',\n          borderColor: '#666'\n        },\n        emphasis: {\n          color: '#aaa',\n          borderColor: '#aaa'\n        }\n      },\n      data: data.map(function(ele) {\n        return ele.time\n      })\n    },\n    backgroundColor: '#404a59',\n    title: {\n      text: '1970年以来中国GDP排名变化情况',\n      subtext: 'GDP单位:百万美元',\n      left: 'center',\n      top: 'top',\n      textStyle: {\n        fontSize: 25,\n        color: 'rgba(255,255,255, 0.9)'\n      }\n    },\n    tooltip: {\n      formatter: function(params) {\n        if ('value' in params.data) {\n          return params.data.value[2] + ': ' + params.data.value[0];\n        }\n      }\n    },\n    grid: {\n      left: '12%',\n      right: '45%',\n      top: '70%',\n      bottom: 20\n    },\n    xAxis: {},\n    yAxis: {},\n    series: [\n      {\n        id: 'map',\n        type: 'map',\n        mapType: 'world',\n        top: '10%',\n        bottom: '25%',\n        left: 10,\n        itemStyle: {\n          normal: {\n            areaColor: '#323c48',\n            borderColor: '#404a59'\n          },\n          emphasis: {\n            label: {\n              show: true\n            },\n            areaColor: 'rgba(255,255,255, 0.5)'\n          }\n        },\n        data: []\n      }, {\n        id: 'bar',\n        type: 'bar',\n        tooltip: {\n          show: false\n        },\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            textStyle: {\n              color: '#ddd'\n            }\n          }\n        },\n        data: []\n      }, {\n        id: 'pie',\n        type: 'pie',\n        radius: ['8%', '20%'],\n        center: ['75%', '85%'],\n        roseType: 'radius',\n        tooltip: {\n          formatter: '{b} {d}%'\n        },\n        data: [],\n        label: {\n          normal: {\n            textStyle: {\n              color: '#ddd'\n            }\n          }\n        },\n        labelLine: {\n          normal: {\n            lineStyle: {\n              color: '#ddd'\n            }\n          }\n        },\n        itemStyle: {\n          normal: {\n            borderColor: 'rgba(0,0,0,0.3)',\n            borderSize: 1\n          }\n        }\n      }\n    ]\n  },\n  options: []\n}\n\nfor (var i = 0; i < data.length; i++) {\n  //计算其余国家GDP\n  var restPercent = 100;\n  var restValue = 0;\n  data[i].data.forEach(function(ele) {\n    restPercent = restPercent - ele.value[1];\n  });\n  restValue = data[i].data[0].value[0] * (restPercent / data[i].data[0].value[1]);\n  console.log(restPercent);\n  console.log(restValue);\n  option.options.push({\n    visualMap: [{\n      dimension: 0,\n      left: 10,\n      itemWidth: 12,\n      min: data[i].data[9].value[0],\n      max: data[i].data[0].value[0],\n      text: ['High', 'Low'],\n      textStyle: {\n        color: '#ddd'\n      },\n      inRange: {\n        color: ['lightskyblue', 'yellow', 'orangered', 'red']\n      }\n    }],\n    xAxis: {\n      type: 'value',\n      boundaryGap: [0, 0.1],\n      axisLabel: {\n        show: false,\n      }\n    },\n    yAxis: {\n      type: 'category',\n      axisLabel: {\n        textStyle: {\n          color: '#ddd'\n        }\n      },\n      data: data[i].data.map(function(ele) {\n        return ele.value[2]\n      }).reverse()\n    },\n    series: [\n      {\n        id: 'map',\n        data: data[i].data\n      }, {\n        id: 'bar',\n        data: data[i].data.map(function(ele) {\n          return ele.value[0]\n        }).sort(function(a, b) {\n          return a > b\n        })\n      }, {\n        id: 'pie',\n        data: data[i].data.map(function(ele) {\n          return {\n            name: ele.value[2],\n            value: ele.value\n          }\n        }).concat({\n          name: '其他国家',\n          value: restValue\n        }),\n      }\n    ]\n  })\n}\n","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"bd-405910062","theme":"","layout":"","viewCount":618,"userName":"人***去","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZNUJontK.png?v=1573614848645","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","series-pie","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"人***去"}}