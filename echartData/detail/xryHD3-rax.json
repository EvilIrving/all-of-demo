{"status":0,"data":{"cid":"xryHD3-rax","authorUid":"bd-3778831175","authorUserName":"m***i","title":"苏州部分地区空气质量","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2017-04-07T12:55:57.000Z","lastUpdateTime":"2017-04-07T12:55:57.000Z","auth":1,"uid":"bd-3778831175","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"3.8.0","versionCreateTime":"2018-05-14T01:00:05.000Z","code":"var data = [{\r\n        name: '安丰派出所',\r\n        value: 37\r\n    },\r\n    {\r\n        name: '安丰中队',\r\n        value: 92\r\n    },\r\n    {\r\n        name: '城北派出所',\r\n        value: 91\r\n    },\r\n    {\r\n        name: '城东派出所',\r\n        value: 79\r\n    },\r\n    {\r\n        name: '东台河闸边防派出所',\r\n        value: 3\r\n    },\r\n    {\r\n        name: '富安派出所',\r\n        value: 49\r\n    },\r\n    {\r\n        name: '富安中队',\r\n        value: 58\r\n    },\r\n    {\r\n        name: '海道桥派出所',\r\n        value: 99\r\n    },\r\n    {\r\n        name: '何垛桥派出所',\r\n        value: 65\r\n    },\r\n    {\r\n        name: '花舍派出所',\r\n        value: 6\r\n    },\r\n    {\r\n        name: '弶港边防派出所',\r\n        value: 15\r\n    },\r\n    {\r\n        name: '弶港派出所',\r\n        value: 5\r\n    },\r\n    {\r\n        name: '交大开发区中队',\r\n        value: 91\r\n    },\r\n    {\r\n        name: '廉贻中队',\r\n        value: 74\r\n    },\r\n    {\r\n        name: '梁垛河闸边防派出所',\r\n        value: 4\r\n    },\r\n    {\r\n        name: '梁垛派出所',\r\n        value: 58\r\n    },\r\n    {\r\n        name: '南沈灶派出所',\r\n        value: 22\r\n    },\r\n    {\r\n        name: '农干桥派出所',\r\n        value: 2\r\n    },\r\n    {\r\n        name: '溱东派出所',\r\n        value: 36\r\n    },\r\n    {\r\n        name: '溱东中队',\r\n        value: 46\r\n    },\r\n    {\r\n        name: '三仓派出所',\r\n        value: 42\r\n    },\r\n    {\r\n        name: '三仓中队',\r\n        value: 52\r\n    },\r\n    {\r\n        name: '三里桥派出所',\r\n        value: 99\r\n    },\r\n    {\r\n        name: '时堰派出所',\r\n        value: 44\r\n    },\r\n    {\r\n        name: '事故中队',\r\n        value: 271\r\n    },\r\n    {\r\n        name: '水上派出所',\r\n        value: 2\r\n    },\r\n    {\r\n        name: '唐洋派出所',\r\n        value: 23\r\n    },\r\n    {\r\n        name: '唐洋中队',\r\n        value: 62\r\n    },\r\n    {\r\n        name: '头灶派出所',\r\n        value: 41\r\n    },\r\n    {\r\n        name: '头灶中队',\r\n        value: 72\r\n    },\r\n    {\r\n        name: '五烈派出所',\r\n        value: 46\r\n    },\r\n    {\r\n        name: '新坝派出所',\r\n        value: 50\r\n    },\r\n    {\r\n        name: '新东边防派出所',\r\n        value: 3\r\n    },\r\n    {\r\n        name: '新港边防派出所',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '新街派出所',\r\n        value: 23\r\n    },\r\n    {\r\n        name: '许河派出所',\r\n        value: 29\r\n    },\r\n    {\r\n        name: '沿海高速公路一大队',\r\n        value: 14\r\n    },\r\n    {\r\n        name: '沿海中队',\r\n        value: 29\r\n    }\r\n\r\n];\r\nvar geoCoordMap = {\r\n    '安丰派出所': [120.414229, 32.742268],\r\n    '安丰中队': [120.413761, 32.736904],\r\n    '城北派出所': [119.87366, 34.026293],\r\n    '城东派出所': [120.295584, 33.77327],\r\n    '东台河闸边防派出所': [120.914194, 32.878284],\r\n    '富安派出所': [120.491024, 32.679186],\r\n    '富安中队': [120.485251, 32.676356],\r\n    '海道桥派出所': [120.311399, 32.866706],\r\n    '何垛桥派出所': [120.329357, 32.859149],\r\n    '花舍派出所': [120.745484, 32.922478],\r\n    '弶港边防派出所': [120.855964, 32.755594],\r\n    '弶港派出所': [120.763107, 32.88946],\r\n    '交大开发区中队': [119.138774, 34.847127],\r\n    '廉贻中队': [120.252287, 32.898852],\r\n    '梁垛河闸边防派出所': [120.914194, 32.878284],\r\n    '梁垛派出所': [120.377517, 32.778627],\r\n    '南沈灶派出所': [120.53594, 32.784559],\r\n    '农干桥派出所': [120.77285, 32.77131],\r\n    '溱东派出所': [120.154838, 32.666296],\r\n    '溱东中队': [120.154838, 32.666296],\r\n    '三仓派出所': [120.670724, 32.773948],\r\n    '三仓中队': [120.690483, 32.779491],\r\n    '三里桥派出所': [120.324364, 32.850973],\r\n    '时堰派出所': [120.200697, 32.718924],\r\n    '事故中队': [120.330384, 32.864492],\r\n    '水上派出所': [118.872702, 34.766416],\r\n    '唐洋派出所': [120.7009, 32.638111],\r\n    '唐洋中队': [120.700838, 32.638034],\r\n    '头灶派出所': [120.557013, 32.894402],\r\n    '头灶中队': [120.572059, 32.892228],\r\n    '五烈派出所': [120.264926, 32.853785],\r\n    '新坝派出所': [119.145258, 34.449991],\r\n    '新东边防派出所': [120.862021, 32.683683],\r\n    '新港边防派出所': [120.842036, 32.614245],\r\n    '新街派出所': [120.7855, 32.677219],\r\n    '许河派出所': [120.653076, 32.73319],\r\n    '沿海高速公路一大队': [120.390438, 33.180384],\r\n    '沿海中队': [120.062776, 34.309956]\r\n};\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\noption = {\r\n    backgroundColor: '#404a59',\r\n    textStyle: {\r\n        color: 'white'\r\n    },\r\n    tooltip: {\r\n        trigger: 'item'\r\n    },\r\n    geo: {\r\n        show: true,\r\n        roam: true,\r\n        center: [120.58108655195974, 32.501001169106716],\r\n        zoom: 20,\r\n        map: 'china',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#323c48',\r\n                borderColor: '#111'\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2a333d'\r\n            }\r\n        }\r\n    },\r\n\r\n    series: [{\r\n            name: 'pm2.5',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function(val) {\r\n                return val[2] / 10;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'yellow'\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'Top 5',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data.sort(function(a, b) {\r\n                return b.value - a.value;\r\n            }).slice(0, 6)),\r\n            symbolSize: function(val) {\r\n                return val[2] / 10;\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'yellow',\r\n                    shadowBlur: 10,\r\n                    shadowColor: 'yellow'\r\n                }\r\n            },\r\n            //zlevel: 1\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-1947365975","theme":"","layout":"","viewCount":571,"userName":"m***i","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryHD3-rax.png?v=1526259605772","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-scatter","tooltip"],"customTags":[],"updaterUserName":"Kevin_pie"}}