{"status":0,"data":{"cid":"xOW6LTducq","authorUid":"bd-4247900075","authorUserName":"w***s","title":"动画","description":"pie有规律变换动画","latestVersion":1,"alwaysLatest":1,"createTime":"2019-01-10T09:41:11.000Z","lastUpdateTime":"2019-01-10T09:41:11.000Z","auth":2,"uid":"bd-4247900075","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-10T09:41:11.000Z","code":"var percent = 0.7;\r\n\r\nfunction getData() {\r\n    return [{\r\n        value: percent,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#fb358a',\r\n                shadowBlur: 10,\r\n                shadowColor: '#fb358a'\r\n            }\r\n        }\r\n    }, {\r\n        value: 1 - percent,\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'transparent'\r\n            }\r\n        }\r\n    }];\r\n}\r\n\r\noption = {\r\n    backgroundColor: '#333645',\r\n\r\n    title: {\r\n        text: (percent * 100) + '%',\r\n        x: 'center',\r\n        y: 'center',\r\n        textStyle: {\r\n            color: '#98a0c4',\r\n            fontWeight: 'bolder',\r\n            fontSize: 64,\r\n        }\r\n    },\r\n    series: [{\r\n            type: 'pie',\r\n            radius: ['39%', '49%'],\r\n            silent: true,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                }\r\n            },\r\n\r\n            data: [{\r\n                value: 1,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#313443',\r\n                        shadowBlur: 10,\r\n                        shadowColor: '#1b1e25',\r\n\r\n\r\n                    }\r\n                }\r\n            }],\r\n\r\n            animation: false\r\n        },\r\n\r\n        {\r\n            type: 'pie',\r\n            radius: ['39%', '49%'],\r\n            silent: true,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                }\r\n            },\r\n\r\n            data: [{\r\n                value: 1,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#313443',\r\n                        shadowBlur: 50,\r\n                        shadowColor: '#1b1e25'\r\n                    }\r\n                }\r\n            }],\r\n        \r\n            animation: false\r\n        },\r\n\r\n        {\r\n            name: 'main',\r\n            type: 'pie',\r\n            radius: ['50%', '51%'],\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                }\r\n            },\r\n            data: getData(),\r\n            \r\n            animationEasingUpdate: 'cubicInOut',\r\n            animationDurationUpdate: 500\r\n        }\r\n    ]\r\n};\r\n// var arr = [0.1,0.2,0.3,0.4]\r\n// var i = 1\r\nvar a=0\r\nvar timer1,timer2;\r\nfunction add(){\r\n    a++;\r\n    console.log(a);\r\n    myChart.setOption({\r\n        title: {\r\n            text: (a *1) + '%'\r\n        },\r\n        series: [{\r\n            name: 'main',\r\n            radius: [ '50%', (a + 51) + '%']\r\n        }]\r\n    })\r\n    if(a>=10){\r\n        clearInterval(timer1);\r\n        timer2=setInterval(sub,1000);\r\n    }\r\n}\r\nfunction sub(){\r\n    a--;\r\n    console.log(a);\r\n    myChart.setOption({\r\n        title: {\r\n            text: (a *1) + '%'\r\n        },\r\n        series: [{\r\n            name: 'main',\r\n            radius: [ '50%', (a + 51) + '%']\r\n        }]\r\n    })\r\n    if(a<=0){\r\n        clearInterval(timer2);\r\n        timer1=setInterval(add,1000);\r\n    } \r\n}\r\ntimer1=setInterval(add,1000);","html":"","externalScripts":"","updaterUID":"bd-4247900075","theme":"","layout":"","viewCount":264,"userName":"w***s","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOW6LTducq.png?v=1547113271508","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title"],"customTags":[],"updaterUserName":"w***s"}}