{"status":0,"data":{"cid":"xa3thqL2Mz","authorUid":"bd-3724974333","authorUserName":"m***3","title":"江苏省地区数据","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-11-06T06:04:25.000Z","lastUpdateTime":"2018-11-06T06:04:25.000Z","auth":2,"uid":"bd-3724974333","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-06T07:22:02.000Z","code":"\nvar jiangsu = {\n\tname: '江苏省',\n\tlink: '/asset/get/s/data-1541483028242-KQ5kvH04Z.json',\n\tchildren: {\n\t\t'宿迁市': '/asset/get/s/data-1541483174897-Fwn9USkUp.json',\n\t\t'泰州市': '/asset/get/s/data-1541483169968-hYdTeUE5L.json',\n\t\t'镇江市': '/asset/get/s/data-1541483163907-2bwxG5xct.json',\n\t\t'扬州市': '/asset/get/s/data-1541483157174-fQracl91Q.json',\n\t\t'盐城市': '/asset/get/s/data-1541483131486-HbDtUl-tj.json',\n\t\t'淮安市': '/asset/get/s/data-1541483123146-gwHVDz7yO.json',\n\t\t'连云港市': '/asset/get/s/data-1541483113326-E7Ab3iCV2.json',\n\t\t'南通市': '/asset/get/s/data-1541483108475-vP4DzrwV1.json',\n\t\t'苏州市': '/asset/get/s/data-1541483103134-CJRehfJKh.json',\n\t\t'常州市': '/asset/get/s/data-1541483097335-QbKYjbhll.json',\n\t\t'徐州市': '/asset/get/s/data-1541483089618-ZIt52gJLQ.json',\n\t\t'无锡市': '/asset/get/s/data-1541483084338-Sw9ScWgbZ.json',\n\t\t'南京市': '/asset/get/s/data-1541483074139-_hp0YK9kz.json',\n\t}\n}\n\n\n\n\n\n$.getJSON(jiangsu.link, function(geoJson) {\n    echarts.registerMap('jiangsu', geoJson)\n    console.log('geoJson', geoJson)\n    \n    let data = []\n    geoJson.features.map(v => {\n        data.push({\n            name: v.properties.name,\n            value: v.properties.cp\n        })\n    })\n    \n    console.log('data : ', data)\n\n    option = {\n        backgroundColor: '#030303',\n        title: {\n            text: '中国地图',\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        animationDuration:1000,\n    \tanimationEasing:'cubicOut',\n    \tanimationDurationUpdate:1000,\n        series: [{\n            name: '江苏省地图',\n            width: '40%',\n            left: 20,\n            top: 'center',\n            type: 'map',\n            mapType: 'jiangsu', // 自定义扩展图表类型\n            data: data,\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true,\n                        color: '#fff'\n                    },\n                    areaColor: 'rgb(19, 91, 153)',\n                    borderColor: 'rgb(9, 54, 95)'\n                },\n                emphasis: {\n                    label: {\n                        color: '#80c4ff'\n                    },\n                    areaColor: 'rgb(10, 105, 187)'\n                }\n            }\n        }]\n    }\n\n    myChart.setOption(option);\n    loadMap('南京市')\n\n})\n\n\nmyChart.on('click', function(params) {\n    console.log('params : ', params)\n    if (params.seriesIndex === 0) {\n        loadMap(params.name)\n    } else {\n        //\n    }\n})\n\n\n\nfunction loadMap(name) {\n    $.getJSON(jiangsu.children[name], function(geoJson) {\n    echarts.registerMap(name, geoJson)\n    \n    let data = []\n    geoJson.features.map(v => {\n        data.push({\n            name: v.properties.name,\n            value: v.properties.cp\n        })\n    })\n\n    option.series[1] = {\n            name: name,\n            width: '40%',\n            top: 'center',\n            left: '55%',\n            type: 'map',\n            mapType: name, // 自定义扩展图表类型\n            data: data,\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true,\n                        color: '#fff'\n                    },\n                    areaColor: 'rgb(19, 91, 153)',\n                    borderColor: 'rgb(9, 54, 95)'\n                },\n                emphasis: {\n                    label: {\n                        color: '#80c4ff'\n                    },\n                    areaColor: 'rgb(10, 105, 187)'\n                }\n            }\n        }\n    \n\n    myChart.setOption(option);\n\n})\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","html":"","externalScripts":"","updaterUID":"bd-3724974333","theme":"","layout":"","viewCount":956,"userName":"m***3","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xa3thqL2Mz.png?v=1541488923188","isCustomThumbnail":0,"builtinTags":["category-work","series-map","title"],"customTags":[],"updaterUserName":"m***3"}}