{"status":0,"data":{"cid":"xIfqb0V7rR","authorUid":"bd-1981023706","authorUserName":"シ***画","title":"使用visualmap模拟锥形渐变","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-23T08:19:42.000Z","lastUpdateTime":"2020-03-23T08:19:42.000Z","auth":2,"uid":"bd-1981023706","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-23T08:19:42.000Z","code":"var count = 360;\nvar data = [];\nfor (let i = 0; i < count; i++) {\n    data.push({\n        value: [1, i]\n    });\n}\n\nlet udata = [25, 25, 5];\nlet colors = ['#fff', 'blue', 'red'];\n\nfunction getPieces(udata, colors) {\n    let sum = udata.reduce((s, n) => s + n);\n    let ddata = udata.map(d => parseInt(count * d / sum));\n    let pp = [];\n    for (let i = 0; i < ddata.length; i++) {\n        const arr = ddata.slice(0, i);\n        const index = arr.length > 0 ? arr.reduce((s, n) => s + n) : 0;\n        for (let j = 0; j < ddata[i]; j++) {\n            pp.push({\n                gt: index + j,\n                lte: index + j + 1,\n                color: colors[i],\n                colorAlpha: 1 * j / ddata[i] + ''\n            });\n        }\n    }\n    return pp;\n}\n\n\noption = {\n    legend: {\n        data: ['a']\n    },\n    visualMap: [{\n        show: false,\n        dimension: 1,\n        pieces: getPieces(udata, colors),\n    }],\n    series: [{\n        type: 'pie',\n        radius: ['55%', '75%'],\n        center: ['50%', '50%'],\n        silent: true,\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: data\n    }]\n}","html":"","externalScripts":"","updaterUID":"bd-1981023706","theme":"dark","layout":"","viewCount":156,"userName":"シ***画","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIfqb0V7rR.png?v=1584951582428","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","visualMap"],"customTags":[],"updaterUserName":"シ***画"}}