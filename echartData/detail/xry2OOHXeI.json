{"status":0,"data":{"cid":"xry2OOHXeI","authorUid":"obd-o-FeFmq-QaWycb5fqwh8s5Jk1P-toAT","authorUserName":"冷***S","title":"福建省3D","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2020-08-14T03:32:17.000Z","lastUpdateTime":"2020-08-14T03:32:17.000Z","auth":2,"uid":"obd-o-FeFmq-QaWycb5fqwh8s5Jk1P-toAT","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-14T04:12:35.000Z","code":"var uploadedDataURL = \"https://geo.datav.aliyun.com/areas_v2/bound/350000_full.json\";\n\n/**\n此版本通过设置geoindex && seriesIndex: [1] 属性来实现geo和map共存，来达到hover散点和区域显示tooltip的效果\n\n默认情况下，map series 会自己生成内部专用的 geo 组件。但是也可以用这个 geoIndex 指定一个 geo 组件。这样的话，map 和 其他 series（例如散点图）就可以共享一个 geo 组件了。并且，geo 组件的颜色也可以被这个 map series 控制，从而用 visualMap 来更改。\n当设定了 geoIndex 后，series-map.map 属性，以及 series-map.itemStyle 等样式配置不再起作用，而是采用 geo 中的相应属性。\n\nhttp://echarts.baidu.com/option.html#series-map.geoIndex\n\n并且加了pin气泡图标以示数值大小\n*/\n\n// var uploadedDataURL = \"/asset/get/s/data-1482909892121-BJ3auk-Se.json\";\nmyChart.showLoading();\nlet index = -1;\nvar timer = setInterval(function() {\n    // 隐藏提示框\n    myChart.dispatchAction({\n        type: 'hideTip',\n        seriesIndex: 0,\n        dataIndex: index\n    });\n    // 显示提示框\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: index + 1\n    });\n    // 取消高亮指定的数据图形\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: index\n    });\n    // 高亮指定的数据图形\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: index + 1\n    });\n    index++;\n    if (index > 13) {\n        index = -1;\n    }\n}, 2000);\n\n\nmyChart.on('mousemove', function(e) {\n    clearInterval(timer);\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0\n    });\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: e.dataIndex\n    });\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: e.dataIndex\n    });\n}); //---------------------------------------------鼠标移入静止播放\nmyChart.on('mouseout', function(e) {\n    clearInterval(timer);\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: e.dataIndex\n    }); //鼠标移出后先把上次的高亮取消\n    timer = setInterval(function() {\n        // 隐藏提示框\n        myChart.dispatchAction({\n            type: 'hideTip',\n            seriesIndex: 0,\n            dataIndex: index\n        });\n        // 显示提示框\n        myChart.dispatchAction({\n            type: 'showTip',\n            seriesIndex: 0,\n            dataIndex: index + 1\n        });\n        // 取消高亮指定的数据图形\n        myChart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0,\n            dataIndex: index\n        });\n        // 高亮指定的数据图形\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: index + 1\n        });\n        index++;\n        if (index > 13) {\n            index = -1;\n        }\n    }, 2000);\n});\n$.getJSON(uploadedDataURL, function(geoJson) {\n\n    echarts.registerMap('fujian', geoJson);\n    myChart.hideLoading();\n    var mapDate = [{\n            name: '福州市',\n            value: [119.306239, 26.075302, 29999]\n        },\n        {\n            name: '厦门市',\n            value: [118.11022, 24.490474, 29999]\n        },\n        {\n            name: '泉州市',\n            value: [118.589421, 24.908853, 29999]\n        },\n        {\n            name: '漳州市',\n            value: [117.661801, 24.510897, 29999]\n        },\n        {\n            name: '宁德市',\n            value: [119.527082, 26.65924, 29999]\n        },\n        {\n            name: '莆田市',\n            value: [119.007558, 25.431011, 29999]\n        },\n        {\n            name: '南平市',\n            value: [118.178459, 26.635627, 29999]\n        },\n        {\n            name: '三明市',\n            value: [117.635001, 26.265444, 29999]\n        },\n        {\n            name: '龙岩市',\n            value: [117.02978, 25.091603, 29999]\n        }\n    ];\n\n\n    option = {\n        backgroundColor: '#020933',\n        title: {\n            top: 20,\n            text: '福建省',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#FFF'\n            }\n        },\n\n\n\n        geo: {\n            map: 'fujian',\n            aspectScale: 0.75, //长宽比\n            zoom: 1.1,\n            roam: false,\n            itemStyle: {\n                normal: {\n                    areaColor: '#013C62',\n                    shadowColor: '#182f68',\n                    shadowOffsetX: 0,\n                    shadowOffsetY: 25\n                },\n                emphasis: {\n                    areaColor: '#2AB8FF',\n                    borderWidth: 0,\n                    color: 'green',\n                    label: {\n                        show: false\n                    }\n                }\n            }\n        },\n        series: [{\n                type: 'map',\n                roam: true,\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n\n                itemStyle: {\n                    normal: {\n                        borderColor: '#2ab8ff',\n                        borderWidth: 1.5,\n                        areaColor: '#0e0e0e' //地图色块颜色\n                    },\n                    emphasis: {\n                        areaColor: '#2AB8FF', //地图色块选中色\n                        borderWidth: 0,\n                        color: 'green'\n                    }\n                },\n                zoom: 1.1,\n                roam: false,\n                map: 'fujian' //使用\n                // data: this.difficultData //热力图数据   不同区域 不同的底色\n            },\n            {\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                showEffectOn: 'render',\n                rippleEffect: {\n                    period: 15,\n                    scale: 4,\n                    brushType: 'fill'\n                },\n                hoverAnimation: true,\n                itemStyle: {\n                    normal: {\n                        color: '#ffff',\n                        shadowBlur: 10,\n                        shadowColor: '#333'\n                    }\n                },\n                data: mapDate\n            }\n\n        ]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"obd-o-FeFmq-QaWycb5fqwh8s5Jk1P-toAT","theme":"","layout":"","viewCount":2390,"userName":"冷***S","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xry2OOHXeI.png?v=1597378355982","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","title"],"customTags":[],"updaterUserName":"冷***S"}}