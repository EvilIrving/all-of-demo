{"status":0,"data":{"cid":"xr1bMxk7AG","authorUid":"bd-2838733078","authorUserName":"高***猫","title":"鬼猫猫五月每天工作组成","description":"本数据纯属虚构","latestVersion":1,"alwaysLatest":1,"createTime":"2018-05-11T09:19:05.000Z","lastUpdateTime":"2018-05-11T09:19:05.000Z","auth":2,"uid":"bd-2838733078","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-11T09:19:05.000Z","code":"var cellSize = [80, 80];\nvar pieRadius = 30;\n\nfunction getVirtulData() {\n    var date = +echarts.number.parseDate('2017-02-01');\n    var end = +echarts.number.parseDate('2017-03-01');\n    var dayTime = 3600 * 24 * 1000;\n    var data = [];\n    for (var time = date; time < end; time += dayTime) {\n        data.push([\n            echarts.format.formatTime('yyyy-MM-dd', time),\n            Math.floor(Math.random() * 10000)\n        ]);\n    }\n    return data;\n}\n\nfunction getPieSeries(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        var center = chart.convertToPixel('calendar', item);\n        return {\n            id: index + 'pie',\n            type: 'pie',\n            center: center,\n            label: {\n                normal: {\n                    formatter: '{c}',\n                    position: 'inside'\n                }\n            },\n            tooltip: {\n                formatter: '{c} 小时'\n            },\n            radius: pieRadius,\n            data: [{\n                    name: '做镜头',\n                    value: Math.round(Math.random() * 5)\n                },\n                {\n                    name: '自主学习',\n                    value: Math.round(Math.random() * 5)\n                },\n                {\n                    name: '开会',\n                    value: Math.round(Math.random() * 5)\n                }\n            ]\n        };\n    });\n}\n\nfunction getPieSeriesUpdate(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        var center = chart.convertToPixel('calendar', item);\n        return {\n            id: index + 'pie',\n            center: center\n        };\n    });\n}\n\nvar scatterData = getVirtulData();\n\noption = {\n    tooltip: {},\n    title: {\n        text: '鬼猫猫五月每天工作组成',\n        top: 40,\n        left: 'center',\n        subtext: '本数据纯属虚构'\n\n    },\n    legend: {\n        data: ['做镜头', '自主学习', '开会'],\n        top: 100,\n\n    },\n    calendar: {\n        top: 'middle',\n        left: 'center',\n        orient: 'vertical',\n        cellSize: cellSize,\n        yearLabel: {\n            show: false,\n            textStyle: {\n                fontSize: 30\n            }\n        },\n        dayLabel: {\n            margin: 20,\n            firstDay: 1,\n            nameMap: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n        },\n        monthLabel: {\n            show: false\n        },\n        range: ['2017-02']\n    },\n    series: [{\n        id: 'label',\n        type: 'scatter',\n        coordinateSystem: 'calendar',\n        symbolSize: 1,\n        label: {\n            normal: {\n                show: true,\n                formatter: function(params) {\n                    return echarts.format.formatTime('dd', params.value[0]);\n                },\n                offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],\n                textStyle: {\n                    color: '#000',\n                    fontSize: 14\n                }\n            }\n        },\n        data: scatterData\n    }]\n};\n\nif (!app.inNode) {\n    var pieInitialized;\n    setTimeout(function() {\n        pieInitialized = true;\n        myChart.setOption({\n            series: getPieSeries(scatterData, myChart)\n        });\n    }, 10);\n\n    app.onresize = function() {\n        if (pieInitialized) {\n            myChart.setOption({\n                series: getPieSeriesUpdate(scatterData, myChart)\n            });\n        }\n    };\n}","html":"","externalScripts":"","updaterUID":"bd-2838733078","theme":"","layout":"","viewCount":605,"userName":"高***猫","commentCount":1,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1bMxk7AG.png?v=1526030345476","isCustomThumbnail":1,"builtinTags":["calendar","category-work","legend","series-pie","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"高***猫"}}