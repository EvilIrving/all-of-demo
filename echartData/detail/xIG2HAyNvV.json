{"status":0,"data":{"cid":"xIG2HAyNvV","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"12-柱状——折线图-部门情况总览","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-05-13T01:16:04.000Z","lastUpdateTime":"2021-05-13T01:16:04.000Z","auth":1,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-14T03:48:43.000Z","code":"var getname =  ['机械', '电气', '建筑', '工管', '教育','心理','政法',''];\nvar getvalue =[4,2,3,6,5,4,8];\nvar getvalue1 = [8,2,3,8,6,3,5];\nvar age = [45,55,35,42,60,56,42];\n\n\n\nvar getname1 = ['男','女'];\nvar getvalue3 = [32,35];\n\nvar data = [];\nfor(var i = 0;i<getname.length;i++){\n\tdata.push({name:getname1[i],value:getvalue3[i]})\n}\n//计算最大值  \nfunction calMax(arr) {\n    let max = 0;\n    arr.forEach((el) => {\n        el.forEach((el1) => {\n            if (!(el1 === undefined || el1 === '')) {\n                if (max < el1) {\n                    max = el1;\n                }\n            }\n        })\n    })\n    let maxint = Math.ceil(max / 9.5);\n    //不让最高的值超过最上面的刻度    \n    let maxval = maxint * 10;\n    //让显示的刻度是整数    \n    return maxval;\n}\n\nvar sumData = [];\nsumData= sumData.concat(getvalue).concat(getvalue1);\nvar max = Math.ceil((calMax([sumData])) / 1) * 1;\n\nvar option = {\n    grid: {\n        top: 65,\n        bottom: 90,\n        left: 40,\n        right: 20\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'none'\n        },\n        formatter: '{b0}<br/>{a0}: {c0}人<br/>{a1}: {c1}人',\n    },\n    legend: {\n        data: ['攻读博士','攻读硕士','平均年龄'],\n        right: '20',\n        top: '10',\n        itemGap: 30,\n        itemWidth: 14,\n        itemHeight: 14,\n        textStyle: {\n            fontSize: '14',\n            color: '#666',\n        },\n\n    },\n    xAxis: [{\n        data: getname,\n        axisLabel: {\n            margin: 10,\n            color: '#656565',\n            textStyle: {\n                fontSize: 13\n            },\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#333333',\n            }\n        },\n        axisTick: {\n            show: false\n        },\n    }],\n    yAxis: [\n        {\n        type: 'value',\n        min: 0,\n        max: max, // 计算最大值\n        // interval: 20, //  平均分为5份\n        name: '人',\n        nameTextStyle: {\n            color: '#666666',\n            fontSize: 13,\n            padding: [0, 0, 0, 70]\n        },\n        axisLabel: {\n            formatter: function(value) {\n                num = value\n                if (num && num != 'undefined' && num != 'null') {\n                    let numS = num;\n                    numS = numS.toString();\n                    numS = numS.replace(/,/gi, '');\n                    return numS;\n                } else {\n                    return num;\n                }\n            },\n            color: '#656565',\n            textStyle: {\n                fontSize: 13\n            },\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#333333',\n            }\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            lineStyle: {\n                color: 'rgba(209,209,209,.5)',\n            }\n        }\n    },  {\n            type: 'value',\n            name: '岁',\n            min: 20,\n            max: 70,\n            interval: 10,\n            axisLabel: {\n                formatter: '{value}',\n            },\n        },],\n    series: [\n\t{\n        name: \"攻读博士\",\n        type: 'bar',\n        data: getvalue,\n        barWidth: '15px',\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    offset: 0,\n                    color: '#5CBFFF'\n                }, {\n                    offset: 1,\n                    color: '#5997FF'\n                }], false),\n                barBorderRadius: [4, 4, 0, 0],\n            }\n        },\n    },\n\t{\n        name: \"攻读硕士\",\n        type: 'bar',\n        data: getvalue1,\n        barWidth: '15px',\n        itemStyle: {\n            normal: {\n                color: '#f7af5c',\n                barBorderRadius: [4, 4, 0, 0],\n            }\n        },\n    },{\n            name: '平均年龄',\n            type: 'line',\n            yAxisIndex: 1,\n            data: age,\n            // smooth: true,\n            // symbol: 'circle', //数值点设定为实心点\n            symbolSize: 10, // 折线的点的大小\n            itemStyle: {\n                normal: {\n                    color: '#05C398', //点的颜色\n                    lineStyle: {\n                        color: '#05C398', //线的颜色\n                        width: 5, // 折线图线条粗细设置\n                    },\n                },\n            },\n        },]\n};\nreturn option;\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIG2HAyNvV.png?v=1620964123856","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","series-line","toolbox","tooltip"],"customTags":[],"updaterUserName":"花***n"}}