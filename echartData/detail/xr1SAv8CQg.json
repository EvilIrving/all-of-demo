{"status":0,"data":{"cid":"xr1SAv8CQg","authorUid":"bd-3976584703","authorUserName":"wang11084","title":"多标签折线图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2016-12-14T05:25:33.000Z","lastUpdateTime":"2016-12-14T05:25:33.000Z","auth":2,"uid":"bd-3976584703","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.3.2","versionCreateTime":"2016-12-14T05:25:33.000Z","code":"// 构造数据\r\nvar _data = [\r\n    [3206.0, 0.0, -5], // 下跌极限，净值，百分比\r\n    [3428.2, 89.4], // 合约开仓点，净值\r\n    [3439.6, 100.0], // 当前点位，净值\r\n    [3654.0, 210, 5] // 上涨峰值，净值，百分比\r\n];\r\n// 渲染图表\r\nvar _origin = _data[2][1];\r\nvar _min = _data[0][0] - 6;\r\nvar _max = _data[3][0];\r\nvar _seriesData_0 = [[_data[0][0], _data[2][1]]];\r\nvar _seriesData_1 = [_data[0], _data[1]];\r\nvar _seriesData_2 = ['-', _data[1], _data[2]];\r\nvar _seriesData_3 = ['-', '-', _data[2], _data[3]];\r\nvar _seriesData_4 = [ '-', '-', '-', [_data[3][0], 0] ];\r\nvar _maxLoss = _data[0][2];\r\nvar _maxProfit = _data[3][2];\r\n\r\n// 配置\r\nvar OPTION = {\r\n    color: ['#3e8e7e', '#3e8e7e', '#9a2f10', '#9a2f10'],\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    grid: {\r\n        left: '10%',\r\n        right: '10%',\r\n        top: '20%',\r\n        bottom: '15%'\r\n    },\r\n    xAxis: {\r\n        name: '指数',\r\n        scale: true,\r\n        min: _min,\r\n        max: _max,\r\n        type: 'value',\r\n        boundaryGap: false,\r\n        interval: 70,\r\n        nameTextStyle: {\r\n            color: 'transparent',\r\n            fontWeight: 'bold',\r\n            fontSize: 14\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#7f7f7f'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            interval: 1\r\n        }\r\n    },\r\n    yAxis: {\r\n        name: '损益',\r\n        nameTextStyle: {\r\n            color: 'transparent',\r\n            fontWeight: 'bold',\r\n            fontSize: 14\r\n        },\r\n        type: 'value',\r\n        boundaryGap: ['0', '10%'],\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        }\r\n    },\r\n    series: [{\r\n        name: '净亏损',\r\n        type: 'line',\r\n        symbol: 'circle',\r\n        symbolSize: 2,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 12\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbolOffset: [0, 40],\r\n            data: [{\r\n                type: 'min',\r\n                name: '最小值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return decimalDigits(obj.data.coord[0]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'min',\r\n                name: '最小值2',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"\\n\\n下跌极限\",\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: '800',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'min',\r\n                name: '最小值3',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return \"\\n\\n\\n\\n\\n\" + decimalDigits(_maxLoss) + '%';\r\n                        },\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        data: _seriesData_0\r\n    }, {\r\n        name: '亏损',\r\n        type: 'line',\r\n        symbol: 'circle',\r\n        symbolSize: 12,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 12\r\n            }\r\n        },\r\n        markLine: {\r\n            lineStyle: {\r\n                normal: {\r\n                    type: 'solid',\r\n                    color: '#7f7f7f',\r\n                    width: 2,\r\n                    fontWeight: 'bold',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            data: [{\r\n                yAxis: _origin,\r\n                symbol: 'none',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: '指数',\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: 'bold',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                xAxis: _min,\r\n                symbol: 'none',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: '损益',\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: 'bold',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        markPoint: {\r\n            symbolOffset: [-10, -20],\r\n            data: [{\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"\\n合约开仓点\",\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: '800',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return \"\\n\\n\\n\\n\" + decimalDigits(obj.data.coord[0]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#7f7f7f',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'min',\r\n                name: '最小值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return decimalDigits(obj.data.coord[1]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#3e8e7e',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'min',\r\n                name: '最小值2',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"\\n\\n预计净值\",\r\n                        textStyle: {\r\n                            color: '#3e8e7e',\r\n                            fontWeight: '800',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        data: _seriesData_1\r\n    }, {\r\n        name: '点差',\r\n        type: 'line',\r\n        symbol: 'circle',\r\n        symbolSize: 12,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 12\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbolOffset: [30, 40],\r\n            data: [{\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return decimalDigits(obj.data.coord[0]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#9a2f10',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"\\n\\n当前点位\",\r\n                        textStyle: {\r\n                            color: '#9a2f10',\r\n                            fontWeight: 'bold',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        data: _seriesData_2\r\n    }, {\r\n        name: '盈利',\r\n        type: 'line',\r\n        symbol: 'circle',\r\n        symbolSize: 12,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 12\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbolOffset: [0, 0],\r\n            data: [{\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"预计净值\",\r\n                        textStyle: {\r\n                            color: '#9a2f10',\r\n                            fontWeight: '800',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'max',\r\n                name: '最大值2',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return \"\\n\\n\" + decimalDigits(obj.data.coord[1]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#9a2f10',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        data: _seriesData_3\r\n    }, {\r\n        name: '净盈利',\r\n        type: 'line',\r\n        symbol: 'circle',\r\n        symbolSize: 0,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 0\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbolOffset: [0, -180],\r\n            data: [{\r\n                type: 'max',\r\n                name: '最大值',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return decimalDigits(obj.data.coord[0]);\r\n                        },\r\n                        textStyle: {\r\n                            color: '#000',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'max',\r\n                name: '最大值2',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: \"\\n\\n上涨峰值\",\r\n                        textStyle: {\r\n                            color: '#000',\r\n                            fontWeight: '800',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                type: 'max',\r\n                name: '最大值3',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function(obj) {\r\n                            return \"\\n\\n\\n\\n\\n\" + decimalDigits(_maxProfit) + '%';\r\n                        },\r\n                        textStyle: {\r\n                            color: '#000',\r\n                            fontWeight: '400',\r\n                            fontSize: 12\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        data: _seriesData_4\r\n    }]\r\n};\r\n/**\r\n * 浮点数格式化\r\n * @param  {Number}  val    输入的值\r\n * @param  {Number}  digits 小数点位数 0-20\r\n * @param  {Boolean} sign   是否含有正值标识符\r\n * @return {String}         返回一个格式化的字符串\r\n */\r\nfunction decimalDigits(val) {\r\n    if (typeof val !== 'number') {\r\n        return val;\r\n    }\r\n    var digits = 1;\r\n\r\n    val = parseFloat(val.toFixed(digits)).toLocaleString();\r\n    var floatNum = val.split('.')[1];\r\n\r\n    if (floatNum === undefined) {\r\n        val += '.';\r\n        for (var i = 0; i < digits; i++) {\r\n            val += '0';\r\n        }\r\n    }\r\n    return val;\r\n}\r\n\r\nmyChart.setOption(OPTION)","html":"","externalScripts":"","updaterUID":"bd-3976584703","theme":"","layout":"","viewCount":1334,"userName":"wang11084","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1SAv8CQg.png?v=1481693134403","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","markPoint","series-line","tooltip"],"customTags":[],"updaterUserName":"wang11084"}}