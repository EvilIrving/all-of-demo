{"status":0,"data":{"cid":"xLc0RdENe","authorUid":"bd-3676951086","authorUserName":"缘***m","title":"气泡图，按照既定位置排布","description":"气泡图，按照既定位置排布，气泡大小根据value，最大最小值限制","latestVersion":3,"alwaysLatest":1,"createTime":"2020-02-06T10:57:53.000Z","lastUpdateTime":"2020-02-06T10:57:53.000Z","auth":1,"uid":"bd-3676951086","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-25T01:28:41.000Z","code":"var plantCap = [\r\n    { name: '1工具', value: 100000, id: '001' }, \r\n    { name: '2社交', value: 900, id: '002' }, \r\n    { name: '3汽车', value: 800, id: '003' }, \r\n    { name: '4母婴', value: 600, id: '004' }, \r\n    { name: '5理财', value: 300, id: '005' }, \r\n    { name: '6视听', value: 700, id: '006' }, \r\n    { name: '7游戏', value: 100, id: '007' }, \r\n    { name: '8教育', value: 600, id: '008' }, \r\n    { name: '9健康', value: 600, id: '009' }, \r\n    { name: '10购物', value: 600, id: '010' }, \r\n    { name: '健康1', value: 300, id: '011' },\r\n    { name: '健康2', value: 300, id: '012' },\r\n    { name: '健康3', value: 900, id: '013' },\r\n    { name: '健康4', value: 900, id: '014' },\r\n    { name: '健康5', value: 900, id: '015' },\r\n    { name: '健康6', value: 900, id: '016' },\r\n    { name: '健康7', value: 900, id: '017' },\r\n    { name: '健康8', value: 900, id: '018' },\r\n    { name: '健康9', value: 900, id: '019' },\r\n    { name: '健康10', value: 900, id: '020' },\r\n];\r\n\r\nvar datalist = [\r\n    { offset: 80, color: '#f467ce' }, \r\n    { offset: 30, color: '#7aabe2' }, \r\n    { offset: 60, color: '#ff7123' }, \r\n    { offset: 90, color: '#ffc400' }, \r\n    { offset: 30, color: '#5e333f' }, \r\n    { offset: 60, color: '#6b3442' }, \r\n    { offset: 20, color: '#8a3647' }, \r\n    { offset: 80, color: '#68333f' }, \r\n    { offset: 40, color: '#68333f' }, \r\n    { offset: 70, color: '#68333f' }, \r\n    { offset: 20, color: '#68333f' },\r\n    { offset: 50, color: '#68333f' },\r\n    { offset: 90, color: '#68333f' },\r\n    { offset: 30, color: '#68333f' },\r\n    { offset: 60, color: '#68333f' },\r\n    { offset: 80, color: '#68333f' },\r\n    { offset: 40, color: '#68333f' },\r\n    { offset: 60, color: '#68333f' },\r\n    { offset: 20, color: '#68333f' },\r\n    { offset: 90, color: '#68333f' },\r\n];\r\n\r\nvar minSymbolSize = 40, maxSymbolSize = 100, sum = 0, val = [];\r\nfor (var i = 0; i < plantCap.length; i++) {\r\n    sum += plantCap[i].value;\r\n    val.push(plantCap[i].value)\r\n}\r\nvar datas = [], len = 100/plantCap.length, leftLen = len/2, maxVal = Math.max.apply(this, val);\r\nfor (var i = 0; i < plantCap.length; i++) {\r\n    var item = plantCap[i];\r\n    var itemToStyle = datalist[i];\r\n    var symbolsize = (item.value/sum)*maxVal;\r\n    if(symbolsize >= maxSymbolSize){\r\n        symbolsize = maxSymbolSize\r\n    }else if(symbolsize < minSymbolSize){\r\n        symbolsize = minSymbolSize\r\n    }\r\n    var offset = [leftLen, itemToStyle.offset, item.id];\r\n    leftLen += len;\r\n    datas.push({\r\n        name: item.value + '\\n' + item.name,\r\n        value: offset,\r\n        symbolSize: symbolsize,\r\n        itemStyle: {\r\n            normal: {\r\n                color: itemToStyle.color,\r\n            }\r\n        },\r\n    })\r\n}\r\noption = {\r\n    grid: {\r\n        show: false,\r\n        left: 50,\r\n        right: 50,\r\n        top: 0,\r\n        bottom: 0\r\n    },\r\n    xAxis: [{\r\n        gridIndex: 0,\r\n        type: 'value',\r\n        show: false,\r\n        min: 0,\r\n        max: 100,\r\n    }],\r\n    yAxis: [{\r\n        gridIndex: 0,\r\n        min: 0,\r\n        show: false,\r\n        max: 100,\r\n    }],\r\n    series: [{\r\n        type: 'scatter',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                formatter: '{b}',\r\n                color: '#fff',\r\n                textStyle: {\r\n                    fontSize: 12\r\n                }\r\n            },\r\n        },\r\n        data: datas\r\n    }]\r\n};\r\n\r\nmyChart.on('click', function(params) {\r\n    console.log(params)\r\n    var id = params.value[2]\r\n    console.log(id)\r\n    // 获取点击，然后重新获取数据，重新渲染option\r\n});\r\n","html":"","externalScripts":"","updaterUID":"obd-oPeKT5YataDbqJ2ifkRXhGgtvi0_j9W","theme":"","layout":"","viewCount":1182,"userName":"缘***m","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLc0RdENe.png?v=1598318921864","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter"],"customTags":[],"updaterUserName":"绿***冰"}}