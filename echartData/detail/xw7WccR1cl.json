{"status":0,"data":{"cid":"xw7WccR1cl","authorUid":"obd-o0gOEZePSdJ2lMOpuEszlB8gL-ebuFg","authorUserName":"刘***6","title":"嵌套环状图的legend对齐","description":"将多个series中的占比对齐展示在提示框中    series的name就作为表头","latestVersion":5,"alwaysLatest":1,"createTime":"2020-06-15T08:34:29.000Z","lastUpdateTime":"2020-06-15T08:34:29.000Z","auth":1,"uid":"obd-o0gOEZePSdJ2lMOpuEszlB8gL-ebuFg","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-01T01:02:46.000Z","code":"//本作品只为交流使用  数据为虚构测试数据\r\noption = {\r\n    \r\n\t    title : {\t      \r\n\t        x:'center',\r\n\t        textStyle: {\r\n\t            fontSize: 20\r\n\t        },\r\n\t        subtext: '',\r\n\t        subtextStyle: {\r\n\t        \tcolor: '#000',\r\n\t        \tfontSize: 16\r\n\t        }\r\n\t    },\r\n\t    tooltip : {\r\n\t        trigger: 'item',\r\n\t        formatter: \"{a}->{b}: <br/>{c}  ({d}%)\",\r\n\t        textStyle : {\r\n\t        \talign:'left',\r\n\t        \tfontSize:15\r\n\t        }\r\n\t    },\r\n\t    legend: {\r\n        orient: 'vertical',\r\n        x: 'left',\r\n        y: '20%',\r\n       textStyle: {\r\n            color: '#77899c',\r\n            rich: {\r\n                uname: {\r\n                    width:50,\r\n                    align: 'left'\r\n                },\r\n                unum: {\r\n                    width: 60,\r\n                    align: 'right'\r\n                }\r\n            }\r\n        },\r\n        data: ['不同行业','微小','线下'],\r\n        formatter:function(name){\r\n\t        \tvar oa0 = option.series[0].data;\r\n\t        \tvar oa1 = option.series[1].data;\r\n\t        \tvar sum0=0;\r\n\t        \tvar sum1=0;\r\n\t        \tfor(var j=0; j<oa0.length; j++)\r\n\t        \t{\r\n\t        \t\tsum0+=oa0[j].value;\r\n\t        \t\tsum1+=oa1[j].value;\r\n\t        \t}    \t \r\n\t        \tfor(var i = 0; i < option.series[0].data.length; i++){\t        \t \r\n                    if(name===oa0[i].name && i===0){\r\n                     \treturn   '{uname|}'+'{unum|'+option.series[0].name+'}{uname|'+option.series[1].name+'}\\n'+'{uname|'+ name +'}{unum|' + (oa0[i].value/sum0 * 100).toFixed(2)+'%' + '}' +'{unum|' + (oa1[i].value/sum1 * 100).toFixed(2)+'%' + '}';\r\n                     }else if (name==oa0[i].name){\r\n                        return\t'{uname|'+ name +'}{unum|' + (oa0[i].value/sum0 * 100).toFixed(2)+'%' + '}' +'{unum|' + (oa1[i].value/sum1 * 100).toFixed(2)+'%' + '}';\r\n                    }\r\n\t        \t}\r\n\t        }\r\n    },\r\n\tseries : [\r\n\t     {\r\n            name: '合作数据',\r\n            type: 'pie',\r\n            \r\n            radius: ['45%', '60%'],//radius : ['30%', '50%'],\r\n            center: ['50%', '40%'],\r\n            label: {\r\n                show: false,\r\n                position: 'center'\r\n            },\r\n           emphasis: {\r\n                label: {\r\n                    formatter: \"{a}\",\r\n                    show: true,\r\n                    fontSize: '30',\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            data: [{value:27519.53, name:'不同行业'},{value:318315.80, name:'微小'},{value:85285.03, name:'线下'}],\r\n            itemStyle: {\r\n\t                emphasis: {\r\n\t                    shadowBlur: 10,\r\n\t                    shadowOffsetX: 0,\r\n\t                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t                }\r\n\t            }\r\n        },\r\n\t{\r\n            name: '数量数据',\r\n            type: 'pie',\r\n            \r\n            radius: ['25%', '40%'],\r\n            center: ['50%', '40%'],\r\n            label: {\r\n                show: false,\r\n                position: 'center'\r\n            },\r\n           emphasis: {\r\n                label: {\r\n                    formatter: \"{a}\",\r\n                    show: true,\r\n                    fontSize: '30',\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            data: [{value:27149.53, name:'不同行业'},{value:31115.80, name:'微小'},{value:85211.03, name:'线下'}],\r\n            itemStyle: {\r\n\t                emphasis: {\r\n\t                    shadowBlur: 10,\r\n\t                    shadowOffsetX: 0,\r\n\t                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t                }\r\n\t            }\r\n        },\r\n\t    ]\r\n};\r\n","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-liquidfill-latest/dist/echarts-liquidfill.min.js","updaterUID":"obd-oM1zzNOylAqD9wN1PP8nxTvMia6qi20","theme":"","layout":"","viewCount":226,"userName":"刘***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xw7WccR1cl.png?v=1593565366238","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"M***亮"}}