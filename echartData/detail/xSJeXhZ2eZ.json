{"status":0,"data":{"cid":"xSJeXhZ2eZ","authorUid":"bd-3459231708","authorUserName":"skyjune5","title":"Multiple dynamic series","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2017-05-19T06:09:27.000Z","lastUpdateTime":"2017-05-19T06:09:27.000Z","auth":2,"uid":"bd-3459231708","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":2,"echartsVersion":"3.5.4","versionCreateTime":"2017-05-22T07:48:11.000Z","code":"function randomData() {\n    now = new Date(+now + oneMinute);\n    var fatigue = Math.random() * 2 - 1;\n    return {\n        value: [\n            [now.getHours(), now.getMinutes()].join(\":\"),\n            Math.round(fatigue * 100) / 100\n        ]\n    };\n}\n\nfunction randomY() {\n    var fatigue = Math.random() * 2 - 1;\n    return Math.round(fatigue * 100) / 100;\n}\n\nvar now = +new Date();\nvar oneMinute = 60 * 1000;\nvar data1 = [], data2 = [], data3 = [],\nx1 = [], x2 = [], x3 = [];\n\n//点数是一样的，x轴也是一样的\nfor (var i = 0; i < 30; i++) {\n    var item = randomData();\n    console.log(item);\n    data1.push(item);\n    x1.push(item.value[0])\n}\n\nconsole.log(\"data1: \");\nconsole.log(data1);\n\nfor (var i = 0; i < 30; i++) {\n    var item = randomData();\n    data2.push(randomY())\n    x2.push(x1[i])\n}\n\nconsole.log(\"data2: \");\nconsole.log(data2);\n\nfor (var i = 0; i < 30; i++) {\n    var item = randomData();\n    data3.push(randomY())\n    x3.push(x1[i])\n}\n\n\nvar option = {\n    textStyle: {\n        fontSize: 24\n    },\n    legend: {\n        data: [{\n            name: \"Alert State\",\n            icon: \"square\",\n            textStyle: {\n                color: \"#222222\",\n                fontSize: \"13px\",\n                fontFamily: \"Arial\"\n            }\n        }]\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross'\n        }\n    },\n    xAxis: {\n        name: \"Time Period\",\n        nameLocation: \"middle\",\n        nameGap: \"40\",\n        nameTextStyle: {\n            fontSize: \"16\",\n            fontWeight: \"normal\",\n            fontStyle: \"normal\",\n            fontFamily: \"Arial\"\n        },\n        data: x1,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        max: 'dataMax',\n        min: 'dataMin',\n        name: \"Fatigue\",\n        nameTextStyle: {\n            fontSize: \"16\",\n            fontWeight: \"normal\",\n            fontStyle: \"normal\",\n            fontFamily: \"Arial\"\n        },\n        type: \"value\",\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: true\n        }\n    },\n    series: [{\n        name: 'Driver1',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        data: data1,\n        itemStyle: {\n            normal: {\n                color: '#199CD8',\n                borderColor: '#fff',\n                borderWith: 1,\n                shadowBlur: 2,\n                shadowOffsetX: 2,\n                shadowOffsetY: 5\n            }\n        },\n        lineStyle: {\n            normal: {\n                width: 2,\n                shadowColor: 'rgba(112, 155, 233, 0.5)',\n                shadowBlur: 4,\n                shadowOffsetY: 4\n            }\n        },\n        markLine: {\n            silent: true,\n            symbol: false,\n            animation: false,\n            label: {\n                normal: {\n                    show: false\n                }\n            },\n            data: [{\n                yAxis: -0.10\n            }],\n            lineStyle: {\n                normal: {\n                    opacity: 0.5\n                }\n            }\n        }\n    }, \n    {\n        name: 'Driver2',\n        type: 'line',\n        data: data2,\n        smooth: true,\n        lineStyle: {\n                normal: {opacity: 0.5}\n            }\n    },\n    {\n        name: 'Driver3',\n        type: 'line',\n        data: data3,\n        smooth: true,\n        lineStyle: {\n                normal: {opacity: 0.5}\n            }\n    },\n    \n    ]\n};\n\nvar newitem;\nsetInterval(function() {\n    // for (var j = 0; j < 5; j++) {\n        newitem = randomData();\n        data1.shift();\n        data1.push(newitem);\n        data2.shift();\n        data2.push(randomY());\n        \n        data3.shift();\n        data3.push(randomY());\n      \n        x1.shift();\n        x1.push(newitem.value[0]);\n        x2.shift();\n        x2.push(newitem.value[0]);\n        x3.shift();\n        x3.push(newitem.value[0]);\n    // }\n    \n    console.log(\"data1: \");\nconsole.log(data1);\n\n    myChart.setOption({\n        series: [{\n            data: data1\n        }\n        , {\n            data: data2\n        },{\n            data: data3\n        }],\n        xAxis: [{\n            data: x1\n        }]\n    });\n}, 1000);\n\n// setInterval(function() {\n//     data2.shift();\n//     data2.push(randomY());\n    \n//     data3.shift();\n//     data3.push(randomY());\n    \n//     myChart.setOption({\n//         series: [{\n//             data: data2\n//         },{\n//             data: data3\n//         }],\n//         // , {\n//         //     data: data2\n//         // },{\n//         //     data: data3\n//         // }],\n//         xAxis: [{\n//             data: x1\n//         }]\n//     });\n    \n// }, 2000)","html":"","externalScripts":"","updaterUID":"bd-3459231708","theme":"","layout":"","viewCount":616,"userName":"skyjune5","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJeXhZ2eZ.png?v=1495439291817","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-line","tooltip"],"customTags":[],"updaterUserName":"skyjune5"}}