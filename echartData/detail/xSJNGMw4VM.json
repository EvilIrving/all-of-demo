{"status":0,"data":{"cid":"xSJNGMw4VM","authorUid":"bd-186954852","authorUserName":"l***7","title":"自定义图标","description":"","latestVersion":11,"alwaysLatest":1,"createTime":"2018-01-11T04:03:24.000Z","lastUpdateTime":"2018-01-11T04:03:24.000Z","auth":2,"uid":"bd-186954852","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":11,"parentVersion":10,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-11T08:17:38.000Z","code":"// value, diff, name\nvar data = [\n    [6, 1, '重度'],\n    [7, 0, '中度'],\n    [2, -1, '轻度'],\n    [3, 0, '缓行'],\n    [12, 0, '畅通']\n]\noption = {\n    backgroundColor: '#262A35',\n    xAxis: {\n        show: false,\n        type: 'value',\n        min: 0,\n        max: 6\n    },\n    yAxis: {\n        show: false,\n        type: 'value',\n        min: 0,\n        max: 4\n    },\n    grid: {\n        bottom: 0,\n        top: 0,\n        left: 0,\n        right: 0\n    },\n    series: [{\n        type: 'custom',\n        name: 'custom',\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(0,0,0,1, [\n                    {offset: 0, color: '#63E4FB'},\n                    {offset: 1, color: '#028BBB'}\n                ]),\n                shadowBlur: 20,\n                shadowOffsetX: -15,\n                shadowOffsetY: 15,\n                shadowColor: 'rgba(0,0,0,0.8)'\n            },\n            emphasis: {\n                color: new echarts.graphic.LinearGradient(0.5,0,0.5,1, [\n                    {offset: 0, color: '#63E4FBCC'},\n                    {offset: 1, color: '#028BBBCC'}\n                ])\n            }\n        },\n        renderItem: function(params, api) {\n            var value = api.value(0);\n            var diff = api.value(1);\n            var name = api.value(2);\n            var size = (100 - 30) / (15 - 0) * value + 50;\n            var coord = api.coord([params.dataIndexInside + 1, (params.dataIndexInside) % 3 + 1]);\n            var x = coord[0];\n            var y = coord[1];\n            var d = (size / 2) * Math.cos(45 / 180);\n            var points = {\n                left: [x - d, y],\n                right: [x + d, y],\n                top: [x, y - d],\n                bottom: [x, y + d]\n            }\n            var valueLength = String(value).length;\n            var valueWidth = 12 * valueLength;\n            var unitWidth = 12;\n            var iconWidth = diff ? 5 : 0;\n            var labelWidth = valueWidth + unitWidth + iconWidth;\n            var labelHeight = 18\n            return {\n                type: 'group',\n                children: [\n                    {\n                        type: 'polygon',\n                        shape: {\n                            points: [points.left, points.top, points.right, points.bottom, points.left]\n                        },\n                        style: api.style(),\n                        styleEmphasis: api.styleEmphasis()\n                    },\n                    {\n                        type: 'group',\n                        children: [\n                            {\n                                type: 'text',\n                                style: {\n                                    text: value,\n                                    x: x - labelWidth / 2,\n                                    y: y - labelHeight / 2,\n                                    fill: '#fff',\n                                    font: 'normal 18px \"Microsoft YaHei\", sans-serif'\n                                }\n                            },\n                            {\n                                type: 'text',\n                                style: {\n                                    text: '天',\n                                    x: x - labelWidth / 2 + valueWidth,\n                                    y: y - 5,\n                                    fill: '#fff',\n                                }\n                            },\n                            {\n                                type: 'text',\n                                style: {\n                                    text: diff > 0 ? '↑' : (diff < 0 ? '↓' : ''),\n                                    x: x - labelWidth / 2 + valueWidth + unitWidth,\n                                    y: y - 5,\n                                    fill: '#fff',\n                                }\n                            }\n                        ]\n                    },\n                    {\n                        type: 'text',\n                        style: {\n                            text: name,\n                            x: x - (name.length * 12 / 2),\n                            y: y - d - 18,\n                            fill: '#8492A6',\n                            font: 'normal 12px \"Microsoft YaHei\", sans-serif'\n                        }\n                    }\n                ]\n            }\n        },\n        data: data,\n        animationDuration: 1500,\n        animationEasing: 'sinusoidalInOut',\n        animationDelay: function(idx) {\n            return idx * 300;\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-186954852","theme":"","layout":"","viewCount":4856,"userName":"l***7","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJNGMw4VM.png?v=1515658658149","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom"],"customTags":[],"updaterUserName":"l***7"}}