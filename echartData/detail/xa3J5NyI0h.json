{"status":0,"data":{"cid":"xa3J5NyI0h","authorUid":"bd-201593938","authorUserName":"l***2","title":"分段颜色折线，递增红色，递减绿色","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-05-22T15:01:08.000Z","lastUpdateTime":"2019-05-22T15:01:08.000Z","auth":1,"uid":"bd-201593938","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-22T16:27:08.000Z","code":"_data = [];\n\nfunction getColors(data) {\n    var arr = [];\n    for (var i = 1; i < data.length; i++) {\n        var style_start = {};\n        var style_end = {};\n        if (data[i] > data[i - 1]) {\n            style_start.color = \"red\";\n        } else {\n            style_start.color = \"green\";\n        }\n        style_end.color = style_start.color;\n        style_start.offset = (i - 1) / (data.length - 1);\n        style_end.offset = i / (data.length - 1);\n        arr.push(style_start, style_end);\n    }\n    return arr;\n}\n\nfor (var i = 0; i < 20; i++) {\n    _data.push(Math.round(Math.random() * 100, 0));\n}\n\noption = {\n    title: {\n        text: 'Awesome Chart'\n    },\n    xAxis: {\n        data: _data,\n        boundaryGap: [0, 0]\n    },\n    yAxis: {},\n    animation: false,\n    series: [{\n        type: 'line',\n        data: _data,\n        lineStyle: {\n            color: {\n                colorStops: getColors(_data)\n            }\n        }\n    }]\n};\n\nmyChart.setOption(option);\n\nmyChart.setOption({\n    series: [{\n        data: _data\n    }]\n})\n\n// console.log(myChart.getOption());\nsetInterval(function() {\n    var oldData = _data.shift();\n    var newData = Math.round(Math.random() * 100, 2);\n    _data.push(newData);\n    myChart.setOption({\n        series: [{\n            data: _data,\n            lineStyle: {\n                color: {\n                    colorStops: getColors(_data)\n                }\n            }\n        }]\n    })\n}, 1000)","html":"","externalScripts":"","updaterUID":"bd-2048338355","theme":"","layout":"","viewCount":230,"userName":"l***2","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xa3J5NyI0h.png?v=1558542428612","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"shc1221"}}