{"status":0,"data":{"cid":"xV_AvaEk77","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2021-02-04T02:45:37.000Z","lastUpdateTime":"2021-02-04T02:45:37.000Z","auth":1,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-05T02:52:21.000Z","code":"var name = ['教育学院', '心理学院', '政法学院', '经管学院', '文学院', '历史学院', '外语学院', '音乐学院', '美术学院', '马克思学院', '数学学院', '信科学院', '物理学院', '化学学院', '生科学院', '地理学院', '环境学院', '体育学院', '传媒学院', '民族学院', '国际汉学院', '纽瓦克学院'];\nvar legendName = ['教授', '副教授', '讲师', '其它教师'];\nvar value1 = [34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55];\nvar value2 = [34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13];\nvar value3 = [2, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21];\nvar value4 = [30, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11];\nvar bl = [];\nvar bl1 = [34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55];\nvar bl2 = [34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13];\nvar bl3 = [2, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21];\nvar bl4 = [30, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11];\n// var max1  =[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\n// for(var i=0;i<value1.length;i++){\n//     max1[i]=value1[i]+value2[i]+value3[i]+value4[i];\n// }\n\n// for(var i=0;i<value1.length;i++){\n//      bl1[i]=value1[i];\n//      bl1[i]=(bl1[i]/max1[i]*100).toFixed();\n// }\n// for(var i=0;i<value2.length;i++){\n//      bl2[i]=value2[i];\n//      bl2[i]=(bl2[i]/max1[i]*100).toFixed();\n// }\n// for(var i=0;i<value3.length;i++){\n//      bl3[i]=value3[i];\n//      bl3[i]=(bl3[i]/max1[i]*100).toFixed();\n// }\n// for(var i=0;i<value4.length;i++){\n//      bl4[i]=value4[i];\n//      bl4[i]=(bl4[i]/max1[i]*100).toFixed();\n// }\n// bl.push(bl1);\n// bl.push(bl2);\n// bl.push(bl3);\n// bl.push(bl4);\n\nlet tooltipColor = ['#2094FF','#FFC579','#8381FF','#FF6A88']\nlet color = [{\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 0,\n        colorStops: [{\n            offset: 0,\n            color: '#79D4FF'\n        }, {\n            offset: 1,\n            color: '#57AEFF'\n        }]\n    },\n\n    {\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 0,\n        colorStops: [{\n            offset: 0,\n            color: '#FFD19A'\n        }, {\n            offset: 1,\n            color: '#FFD283'\n        }]\n    },\n\n    {\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 0,\n        colorStops: [{\n            offset: 0,\n            color: '#BDBCFF'\n        }, {\n            offset: 1,\n            color: '#9C9BFF'\n        }]\n    },\n\n    {\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 0,\n        colorStops: [{\n            offset: 0,\n            color: '#FF6388'\n        }, {\n            offset: 1,\n            color: '#FFA387'\n        }]\n    }\n]\noption = {\n    color: color,\n    tooltip: {\n\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        showContent: true,\n        // formatter: '{a0}:{c0}<br/>{a1}:{c1}<br/>{a2}:{c2}<br/>{a3}:{c3}'\n        formatter:value=>{\n            let html = `<div style=\"fontSize:15px;fontWeight:bold;color:#00fffc;margin:0 0 10px 0\">${value[0].axisValue}</div>`\n            value.map((item,index)=>{\n                html+=`\n                <div>\n                    <span style=\"background:${tooltipColor[index]};width:10px;height:10px;display:inline-block;\"></span>\n                    <span style=\"display:inline-block;width:90px;margin:0 22px 0 12px\">${item.seriesName}开课</span>\n                    <span>${item.value}学时</span>\n                </div>`\n            })\n            return html\n        },\n        extraCssText:'padding:10px 17px;fontSize:13px'\n    },\n    legend: {\n        data: legendName\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '4%',\n        containLabel: true,\n        show: false\n    },\n    xAxis: {\n        type: 'value',\n        show: false,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    yAxis: {\n        type: 'category',\n        data: name,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    series: [{\n            name: legendName[0],\n            type: 'bar',\n            stack: 'total',\n            label: {\n                show: true,\n                position: 'insideRight',\n                formatter: function(item) {\n                    return bl1[item.dataIndex] + '%';\n                }\n            },\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [3, 0, 0, 3]\n                }\n            },\n            data: value1,\n        },\n        {\n            name: legendName[1],\n            type: 'bar',\n            stack: 'total',\n            label: {\n                show: true,\n                position: 'insideRight',\n                formatter: function(item) {\n                    return bl2[item.dataIndex] + '%';\n                }\n            },\n            // itemStyle:{\n            //   color:'', \n            //   barWidth:'',\n            // },\n            data: value2\n        },\n        {\n            name: legendName[2],\n            type: 'bar',\n            stack: 'total',\n\n            label: {\n                show: true,\n                position: 'insideRight',\n                formatter: function(item) {\n                    return bl3[item.dataIndex] + '%';\n                }\n            },\n            // itemStyle:{\n            //   color:'', \n            //   barWidth:'',\n            // },\n            data: value3\n        },\n        {\n            name: legendName[3],\n            type: 'bar',\n            stack: 'total',\n\n            label: {\n                show: true,\n                position: '',\n                formatter: function(item) {\n                    return bl4[item.dataIndex] + '%';\n                }\n            },\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [0, 3, 3, 0]\n                }\n            },\n            data: value4\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","theme":"","layout":"","viewCount":78,"userName":"m***h","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xV_AvaEk77.png?v=1612493541798","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"m***h"}}