{"status":0,"data":{"cid":"xBCjxcyBJ","authorUid":"bd-2385645868","authorUserName":"闻***哒","title":"一个折线图两个x轴可缩放","description":"一个折线图两个x轴可缩放","latestVersion":3,"alwaysLatest":1,"createTime":"2020-01-07T06:15:14.000Z","lastUpdateTime":"2020-01-07T06:15:14.000Z","auth":1,"uid":"bd-2385645868","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-08T02:16:49.000Z","code":"// 数据 数据格式最后只要能分解成两个X轴集合和一个数据集合就可以 s\r\nlet data = [{\r\n        label: [1, -98],\r\n        value: 1\r\n    },\r\n    {\r\n        label: [2, -97],\r\n        value: 9\r\n    },\r\n    {\r\n        label: [3, -96],\r\n        value: 12\r\n    },\r\n    {\r\n        label: [4, -95],\r\n        value: 7\r\n    },\r\n    {\r\n        label: [5, -94],\r\n        value: 5\r\n    },\r\n    {\r\n        label: [6, -93],\r\n        value: 13\r\n    },\r\n    {\r\n        label: [7, -92],\r\n        value: 6\r\n    },\r\n    {\r\n        label: [8, -91],\r\n        value: 1\r\n    },\r\n    {\r\n        label: [9, -90],\r\n        value: 5\r\n    },\r\n    {\r\n        label: [10, 89],\r\n        value: 3\r\n    }\r\n]\r\n// 起始环集合\r\nlet xAxisData1 = []\r\n// 截止环集合\r\nlet xAxisData2 = []\r\n// 数据集合\r\nlet series = []\r\n// 对数据进行格式化\r\ndata.forEach(item => {\r\n    xAxisData1.push(item.label[0])\r\n    xAxisData2.push(item.label[1])\r\n    series.push(item.value)\r\n})\r\noption = {\r\n    title: {\r\n        text: '测试',\r\n        x: 'center'\r\n    },\r\n    // 此处设置鼠标悬浮的显示文字可根据实际情况进行修改\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        formatter: function(params) {\r\n            return params[0].name + '<br/>' +\r\n                params[0].seriesName + ' : ' + params[0].value;\r\n        },\r\n        axisPointer: {\r\n            animation: false\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['偏移量'],\r\n        x: 'left'\r\n    },\r\n    // 设置两个缩放，第二个type设为inside 进行隐藏关联\r\n    dataZoom: [{\r\n            show: true,\r\n            realtime: true,\r\n            start: 0,\r\n            end: 100,\r\n            xAxisIndex: [0, 1]\r\n        },\r\n        {\r\n            type: 'inside',\r\n            realtime: true,\r\n            start: 0,\r\n            end: 100,\r\n            xAxisIndex: [0, 1]\r\n        }\r\n    ],\r\n    // 设置两个折线图的位置 第二个靠下 根据实际情况可修改显示位置\r\n    grid: [{\r\n        left: 100,\r\n        right: 50,\r\n        height: '70%'\r\n    }, {\r\n        left: 100,\r\n        right: 50,\r\n        height: '78%'\r\n    }],\r\n    // 设置两个X轴\r\n    xAxis: [{\r\n            type: 'category',\r\n            name: '截止环',\r\n            nameLocation: 'start',\r\n            boundaryGap: false,\r\n            data: xAxisData2\r\n        },\r\n        {\r\n            gridIndex: 1,\r\n            type: 'category',\r\n            name: '起始环',\r\n            nameLocation: 'start',\r\n            boundaryGap: false,\r\n            data: xAxisData1,\r\n            splitLine: false\r\n        }\r\n    ],\r\n    // 设置两个Y轴，并对第二个进行隐藏\r\n    yAxis: [{\r\n            name: '偏移量',\r\n            type: 'value',\r\n        },\r\n        {\r\n            gridIndex: 1,\r\n            name: '',\r\n            type: 'value',\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            show: false\r\n        }\r\n    ],\r\n    // 设置两个折线图 不能删除任何一个， 隐藏第二个折线图\r\n    series: [{\r\n            name: '偏移量',\r\n            type: 'line',\r\n            hoverAnimation: false,\r\n            data: series\r\n        },\r\n        {\r\n            name: '',\r\n            type: 'line',\r\n            show: false,\r\n            data: series\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2385645868","theme":"","layout":"","viewCount":215,"userName":"闻***哒","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBCjxcyBJ.png?v=1588904209297","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","tooltip"],"customTags":["dataZoom","line","两个x轴"],"updaterUserName":"闻***哒"}}