{"status":0,"data":{"cid":"xHHEkEehYb","authorUid":"obd-oj9MprikcKRDuPhdlo40ktvy2JIz9DW","authorUserName":"叶***明","title":"环形图百分比","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-13T03:52:16.000Z","lastUpdateTime":"2021-08-13T03:52:16.000Z","auth":2,"uid":"obd-oj9MprikcKRDuPhdlo40ktvy2JIz9DW","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-13T03:52:16.000Z","code":"\n\nconst baseDeg = 12.5\n\nconst innerSeriesName = '内环名称'\nconst outerSeriesName = '外环名称'\n\n// 数据源\nconst val1 = 99.5\nconst val2 = 78.16\n\n// 外环颜色\nconst outColors = [\n    '#82f5fd','#7ef2fd',\"#79eefd\",\"#69dffe\",\"#53cbfe\",\"#3db7fe\",\"#28a4ff\",\"#1a97ff\",\"#1a97ff\"\n]\n// 外环颜色\nconst innerColors = [\n    '#82b8fd','#7db1fd',\"#77a9fd\",\"#6d9afd\",\"#5173fe\",\"#405afe\",\"#293bff\",\"#1b27ff\",\"#1722ff\"\n]\n\nfunction getData(val,colors){\n    const blockNum = val/baseDeg\n    const len = Math.ceil(blockNum)\n    const finalValue = val%baseDeg\n    \n    const persentData = Array.from(new Array(len),function(item,index){\n        return {\n            name: '人数',\n            value:  finalValue && len-index === 1 ? finalValue : baseDeg,\n            label: {\n                normal: {\n                    fontSize: 18,\n                    color: '#fff',\n                    fontWeight: 'bolder'\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: '#fff',\n                    borderWidth: 1,\n                    color: {\n                        type: 'linear',\n                        colorStops: [\n                            // !! 在此添加想要的渐变过程色 !!\n                            {offset: 0, color: colors[index+1] },\n                            {offset: 1, color: colors[index] },\n                        ]\n                    },\n                }\n            }\n        }\n    })\n    \n    const residueBlock = 8 - blockNum\n    const residueLen = Math.ceil(residueBlock)\n    const residueValue = finalValue ? baseDeg - finalValue : 0\n    \n    const residueData = Array.from(new Array(residueLen),function(item,index){\n        return {\n            name: '总数',\n            value: residueValue && index === 0 ? residueValue : baseDeg,\n            itemStyle: {\n                borderColor: '#fff',\n                borderWidth: 1,\n                color: '#f3f3f3'\n            }\n        }\n    })\n    \n    return persentData.concat(residueData)\n}\n\n\n\n\nvar option = {\n    title:[\n        {\n            text:'全人群接种率',\n            textAlign:'center',\n            left:'50%',\n            bottom:81,\n            textStyle:{\n                color:'#666',\n                fontSize:16,\n                fontWeight:'normal',\n            }\n        },\n        {\n            text:`${innerSeriesName}：{c|${val2}%}`,\n            textAlign:'center',\n            left:'50%',\n            bottom:50,\n            textStyle:{\n                color:'#3c44bb',\n                fontSize:16,\n                fontWeight:'normal',\n                rich:{\n                    c:{\n                        fontSize:16,\n                        fontWeight:'bolder'\n                    }\n                }\n            }\n        },\n        {\n            text:`${outerSeriesName}：{c|${val1}%}`,\n            textAlign:'center',\n            left:'50%',\n            bottom:32,\n            textStyle:{\n                color:'#08a9f0',\n                fontSize:16,\n                fontWeight:'normal',\n                rich:{\n                    c:{\n                        fontSize:16,\n                        fontWeight:'bolder'\n                    }\n                }\n            }\n        },\n    ],\n    legend: {\n        show:false,\n     },\n    series: [\n        {\n            name: outerSeriesName,\n            type: 'pie',\n            hoverAnimation:false,\n            radius: ['40%', '63%'],                 // 圆环内径外径\n            center:['50%','40%'],\n            avoidLabelOverlap: false,\n            label: {\n                show:false\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data: getData(val1,outColors)\n        },\n        {\n            name: innerSeriesName,\n            hoverAnimation:false,\n            type: 'pie',\n            radius: ['25%', '40%'],                 // 圆环内径外径\n            center:['50%','40%'],\n            avoidLabelOverlap: false,\n            label: {\n                show:false\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data: getData(val2,innerColors)\n        },\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-oj9MprikcKRDuPhdlo40ktvy2JIz9DW","theme":"","layout":"","viewCount":0,"userName":"叶***明","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHHEkEehYb.png?v=1628826736753","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"叶***明"}}