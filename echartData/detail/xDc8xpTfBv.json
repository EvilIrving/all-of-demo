{"status":0,"data":{"cid":"xDc8xpTfBv","authorUid":"bd-3777600695","authorUserName":"y***8","title":"都匀供电局负荷走向图","description":"5分钟实时数据","latestVersion":2,"alwaysLatest":1,"createTime":"2019-08-05T05:42:58.000Z","lastUpdateTime":"2019-08-05T05:42:58.000Z","auth":2,"uid":"bd-3777600695","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-05T05:43:42.000Z","code":" var geoCoordMap = {\n            '瓮安变': [107.533922148438, 27.1260353828125],\n            '果果坪变': [107.283922148438, 27.2135134101563],\n            '山坪变': [107.383045683594, 26.9179103828125],\n            '福泉变': [107.443045683594, 26.6679103828125],\n            '福泉电厂': [107.483045683594, 26.6679103828125],\n            '龙里变': [107.183260527344, 26.8197585273438],\n            '旧治变': [107.177345, 26.1038430000001],\n            '都匀变': [107.177345, 26.1038430000001],\n            '湾塘变': [106.887345, 25.923843],\n            '威远变': [106.217345, 26.033843],\n            '剑江变': [106.887345, 25.923843],\n            '甘塘变': [106.687345, 25.693843],\n            '中和变': [107.603516875, 26.0112331367188],\n            '麻尾变': [107.687345, 25.203843],\n            '石牌变': [107.797115507813, 26.1135134101563],\n            '瓮朗变': [108.597115507813, 26.1135134101563],           \n            '贵阳青岩变': [108.197115507813, 26.1135134101563]\n        };\n\n        var BJData = [\n        [{ name: '福泉电厂' }, { name: '福泉变', value: 5 }],\n        [{ name: '福泉变' }, { name: '瓮安变', value: 5 }],\n        [{ name: '福泉变' }, { name: '旧治变', value: 5 }],\n        [{ name: '福泉变' }, { name: '甘塘变', value: 5 }],\n        [{ name: '福泉变' }, { name: '瓮朗变', value: 5 }],\n        [{ name: '福泉变' }, { name: '山坪变', value: 5 }],\n        [{ name: '福泉变' }, { name: '瓮安变', value: 5 }],\n        [{ name: '独山变' }, { name: '麻尾变', value: 5 }],\n        [{ name: '独山变' }, { name: '都匀变', value: 5 }],\n        [{ name: '石牌变' }, { name: '中和变', value: 5 }],\n        [{ name: '都匀变' }, { name: '甘塘变', value: 5 }],\n        [{ name: '都匀变' }, { name: '剑江变', value: 5 }],\n        [{ name: '甘塘变' }, { name: '剑江变', value: 5 }],\n        [{ name: '贵阳青岩变' }, { name: '湾塘变', value: 5 }],\n        [{ name: '湾塘变' }, { name: '威远变', value: 5 }],\n        [{ name: '瓮安变' }, { name: '果果坪变', value: 5 }]     \n\n\n        ];\n\n\nvar planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        if (fromCoord && toCoord) {\n            res.push({\n                fromName: dataItem[0].name,\n                toName: dataItem[1].name,\n                coords: [fromCoord, toCoord]\n            });\n        }\n    }\n    return res;\n};\n\nvar color = ['#a6c84c', '#ffa022', '#46bee9'];\nvar series = [];\n[['都匀市', BJData]].forEach(function (item, i) {\n    series.push({\n        name: item[0] + ' Top10',\n        type: 'lines',\n        zlevel: 1,\n        effect: {\n            show: true,\n            period: 6,\n            trailLength: 0.7,\n            color: '#fff',\n            symbolSize: 3\n        },\n        lineStyle: {\n            normal: {\n                color: color[i],\n                width: 0,\n                curveness: 0.2\n            }\n        },\n        data: convertData(item[1])\n    },\n    {\n        name: item[0] + ' Top10',\n        type: 'lines',\n        zlevel: 2,\n        effect: {\n            show: true,\n            period: 6,\n            trailLength: 0,\n            //symbol: planePath,\n            symbolSize: 5\n        },\n        lineStyle: {\n            normal: {\n                color: color[i],\n                width: 1,\n                opacity: 0.4,\n                curveness: 0.2\n            }\n        },\n        data: convertData(item[1])\n    },\n    {\n        name: item[0] + ' Top10',\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n        zlevel: 2,\n        rippleEffect: {\n            brushType: 'stroke'\n        },\n        label: {\n            normal: {\n                show: true,\n                position: 'right',\n                formatter: '{b}'\n            }\n        },\n        symbolSize: function (val) {\n            return val[2] / 8;\n        },\n        itemStyle: {\n            normal: {\n                color: color[i]\n            }\n        },\n        data: item[1].map(function (dataItem) {\n            return {\n                name: dataItem[1].name,\n                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])\n            };\n        })\n    });\n});\n\noption = {\n    backgroundColor: '#404a59',\n    title : {\n        text: '都匀供电局负荷走向图',\n        subtext: '5分钟实时数据',\n        left: 'center',\n        textStyle : {\n            color: '#fff'\n        }\n    },\n    tooltip : {\n        trigger: 'item'\n    },\n    legend: {\n        orient: 'vertical',\n        top: 'bottom',\n        left: 'right',\n        data:[],\n        textStyle: {\n            color: '#fff'\n        },\n        selectedMode: 'single'\n    },\n    geo: {\n        map: '黔南布依族苗族自治州',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#323c48',\n                borderColor: '#404a59'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n    series: series\n};","html":"","externalScripts":"","updaterUID":"bd-3777600695","theme":"","layout":"","viewCount":124,"userName":"y***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDc8xpTfBv.png?v=1564983822702","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-lines","title","tooltip"],"customTags":[],"updaterUserName":"y***8"}}