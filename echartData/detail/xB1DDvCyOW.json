{"status":0,"data":{"cid":"xB1DDvCyOW","authorUid":"bd-658419289","authorUserName":"经***4","title":"双层圆环图","description":"简单便捷，随拿随用的双圆环图","latestVersion":7,"alwaysLatest":1,"createTime":"2017-08-15T02:07:26.000Z","lastUpdateTime":"2017-08-15T02:07:26.000Z","auth":1,"uid":"bd-658419289","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"3.8.0","versionCreateTime":"2020-03-13T16:54:14.000Z","code":"/**\r\n * 双层圆环图\r\n * param1  echarts的初始化id  echarts.init(document.getElementById('xxx'))\r\n * param2  value值  数值型\r\n * param3  value值的单位\r\n * param4  字体及圆环大颜色\r\n * param5,6  最小最大值\r\n */\r\n// function Double_ring(id,value,unit,initcolor,min,max){\r\n\r\nvar value = 14.7;\r\nvar unit = \"%\";\r\nvar initcolor = \"red\";\r\nvar min = 0;\r\nvar max = 100;\r\n\r\n\r\nvar color = initcolor;\r\n// var size = $(\"#\" + id).css('fontSize');\r\nvar size = '100%';\r\nvar background = \"#00000000\"; //背景\r\n// var Myecharts = \"mycharts_\"+id;\r\n// Myecharts = echarts.init(document.getElementById(id));\r\nvar dataStyle = {\r\n    normal: {\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        },\r\n        shadowBlur: 40,\r\n        shadowColor: 'rgba(40, 40, 40, 0.5)'\r\n    }\r\n};\r\nvar placeHolderStyle = {\r\n    normal: {\r\n        color: 'rgba(44,59,70,0)', //未完成的圆环的颜色\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        }\r\n    }\r\n};\r\n// if ((value - min) / (max - min) * 100 >= 70) {\r\n//     color = 'red';\r\n// } else {\r\n//     color = initcolor;\r\n// }\r\noption = {\r\n    title: {\r\n        text: value + unit,\r\n        x: 'center',\r\n        y: 'center',\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            color: color,\r\n            fontSize: parseInt(size)*0.6\r\n        }\r\n    },\r\n    backgroundColor: background,\r\n    color: [color, '#313443', '#fff'],\r\n    tooltip: {\r\n        show: false,\r\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n    },\r\n    legend: {\r\n        show: false,\r\n        itemGap: 12,\r\n        data: ['01', '02']\r\n    },\r\n    toolbox: {\r\n        show: false,\r\n        feature: {\r\n            mark: {\r\n                show: true\r\n            },\r\n            dataView: {\r\n                show: true,\r\n                readOnly: false\r\n            },\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: 'Line 1',\r\n        type: 'pie',\r\n        clockWise: false,\r\n        radius: ['50%', '58%'],\r\n        itemStyle: dataStyle,\r\n        hoverAnimation: false,\r\n        data: [{\r\n                value: value - min,\r\n                name: '01',\r\n                itemStyle: {\r\n                   normal: {\r\n                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                            offset: 0,\r\n                            color: '#7777eb'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#70ffac'\r\n                        }]),\r\n                    },\r\n                },\r\n            }, {\r\n                value: max - value,\r\n                name: 'invisible',\r\n                itemStyle: placeHolderStyle\r\n            }\r\n\r\n        ]\r\n    }, {\r\n        name: 'Line 2',\r\n        type: 'pie',\r\n        animation: false,\r\n        clockWise: false,\r\n        radius: ['58%', '60%'],\r\n        itemStyle: dataStyle,\r\n        hoverAnimation: false,\r\n        tooltip: {\r\n            show: false\r\n        },\r\n        data: [{\r\n                value: 100,\r\n                name: '02',\r\n                itemStyle: {\r\n                     normal: {\r\n                        color: \"#3c6482\",\r\n                    },\r\n                }\r\n        }]\r\n    }, {\r\n        name: 'Line 3',\r\n        type: 'pie',\r\n        animation: false,\r\n        clockWise: false,\r\n        radius: ['48%', '50%'],\r\n        itemStyle: dataStyle,\r\n        hoverAnimation: false,\r\n        tooltip: {\r\n            show: false\r\n        },\r\n        data: [{\r\n                value: 100,\r\n                name: '02',\r\n                itemStyle: {\r\n                     normal: {\r\n                        color: \"#3c6482\",\r\n                    },\r\n                }\r\n            }\r\n        ]\r\n    }]\r\n};\r\n// Myecharts.setOption(option)\r\n// this.update_Double_ring = function(message){\r\n//     if((message-min)/(max-min)*100>=70){\r\n//         color='red';\r\n//     }else{\r\n//         color=initcolor;\r\n//     }\r\n//     Myecharts.setOption({\r\n//         title: {\r\n//             text: message+unit,\r\n//             textStyle: {\r\n//                 color: color\r\n//             }\r\n//         },\r\n//         color: [color, '#313443', '#fff'],\r\n//         series:[{\r\n//             name: 'Line 1',\r\n//             data:[{\r\n//                 name : '01',\r\n//                 value : message-min\r\n//             },{\r\n//                 name : 'invisible',\r\n//                 value : max-message\r\n//             }]\r\n//         },{\r\n//             name : 'Line 2',\r\n//             data:[{\r\n//                 name : '01',\r\n//                 value : 0\r\n//             },{\r\n//                 name : 'invisible',\r\n//                 value : 100\r\n//             }]\r\n//         }]\r\n//     });\r\n// }\r\n// }","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-3091257856","theme":"","layout":"","viewCount":3741,"userName":"经***4","commentCount":0,"starCount":15,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1DDvCyOW.png?v=1584118454937","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"时***儿"}}