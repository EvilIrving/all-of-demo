{"status":0,"data":{"cid":"xpMInbY3I","authorUid":"bd-257182154","authorUserName":"好***胡","title":"柱状堆积图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-10-28T10:13:52.000Z","lastUpdateTime":"2019-10-28T10:13:52.000Z","auth":2,"uid":"bd-257182154","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-28T10:20:20.000Z","code":"var dataArr = [80, 100, 120, 140, 160, 130, 80];\r\nvar dataArrPercent = [40, 50, 60, 70, 80, 65, 40];\r\nvar dataArr2 = [120, 100, 80, 60, 40, 70, 120];\r\nvar dataArrPercent2 = [60, 50, 40, 30, 20, 35, 60];\r\n\r\nfunction formatterToolTip(params, ticket, callback) {\r\n    let tipString = `${params[0].axisValue}<br/>`; // 显示提示文字模板\r\n    for (let i = 0, length = params.length; i < length; i++) {\r\n        tipString += `<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background:${params[i].color}\"></span>`;\r\n        tipString += `${params[i].seriesName}: ${params[i].currentData}(${params[i].value}%)<br/>`;\r\n    }\r\n    return tipString;\r\n}\r\n\r\noption = {\r\n    title: {\r\n        text: '行为分析',\r\n        show: true,\r\n        textStyle: {\r\n            color: '#333333',\r\n            fontSize: 16,\r\n        },\r\n        x: 'center'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        },\r\n        formatter: (params, ticket, callback) => {\r\n            let index = params[0]['dataIndex']; // 不能传更多参数,先把参数params增加一个自定义的key：currentData表示真实数据\r\n            if (params[0]) {\r\n                params[0]['currentData'] = dataArr[index];\r\n            }\r\n            if (params[1]) {\r\n                params[1]['currentData'] = dataArr2[index];\r\n            }\r\n            return formatterToolTip(params, ticket, callback);\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['AA', 'BB'],\r\n        left: 'center',\r\n        bottom: 10\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        data: [\"20190806\", \"20190807\", \"20190808\", \"20190809\", \"20190810\", \"20190811\", \"20190812\"]\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        min: 0,\r\n        max: 100,\r\n        axisLabel: {\r\n            show: true,\r\n            interval: 'auto',\r\n            formatter: '{value} %'\r\n        },\r\n        show: true\r\n    },\r\n    series: [{\r\n            name: 'AA',\r\n            type: 'bar',\r\n            stack: '总量',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'inside',\r\n                    formatter: (v) => {\r\n                        return dataArr[v.dataIndex];\r\n                    }\r\n                },\r\n            },\r\n            itemStyle: {\r\n                color: '#5b9bd5'\r\n            },\r\n            data: dataArrPercent\r\n        },\r\n        {\r\n            name: 'BB',\r\n            type: 'bar',\r\n            stack: '总量',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'inside',\r\n                    formatter: (v) => {\r\n                        return dataArr2[v.dataIndex];\r\n                    }\r\n                },\r\n            },\r\n            itemStyle: {\r\n                color: '#ed7d31'\r\n            },\r\n            data: dataArrPercent2\r\n        },\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-257182154","theme":"","layout":"","viewCount":119,"userName":"好***胡","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpMInbY3I.png?v=1572258020641","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"好***胡"}}