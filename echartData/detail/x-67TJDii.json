{"status":0,"data":{"cid":"x-67TJDii","authorUid":"bd-1799383937","authorUserName":"M***_","title":"折线图 tooltip 百分比显示","description":"","latestVersion":12,"alwaysLatest":1,"createTime":"2020-02-24T08:44:23.000Z","lastUpdateTime":"2020-02-24T08:56:37.000Z","auth":2,"uid":"bd-1799383937","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":12,"parentVersion":11,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-24T09:35:45.000Z","code":"var colors = ['rgb(46, 199, 201)', 'rgb(90, 177, 239)', 'rgb(255, 185, 128)'];\n\noption = {\n    color: colors,\n\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross'\n        },\n        formatter: function(params) {\n            // 系列\n            let html = params[0].name + \"<br>\";\n\n            for (var i = 0; i < params.length; i++) {\n\n                // 获取每个系列对应的颜色值\n                html += '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + params[i].color + ';\"></span>';\n\n                // 通过判断指定系列增加 % 符号\n                if (option.series[params[i].seriesIndex].type == \"line\") {\n                    html += params[i].seriesName + \": \" + params[i].value + \"%<br>\";\n                } else {\n                    html += params[i].seriesName + \": \" + params[i].value + \"<br>\";\n                }\n            }\n            return html;\n        }\n    },\n    grid: {\n        right: '20%'\n    },\n    toolbox: {\n        feature: {\n            dataView: {\n                show: true,\n                readOnly: false\n            },\n            restore: {\n                show: true\n            },\n            saveAsImage: {\n                show: true\n            }\n        }\n    },\n    legend: {\n        data: ['蒸发量', '降水量', '平均温度']\n    },\n    // 缩放组件\n    dataZoom: {\n        type: 'slider'\n    },\n    xAxis: [{\n        type: 'category',\n        axisTick: {\n            alignWithLabel: true\n        },\n        data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\n    }],\n    yAxis: [{\n            type: 'value',\n            name: '蒸发量',\n            min: 0,\n            max: 250,\n            position: 'right',\n            axisLine: {\n                lineStyle: {\n                    color: colors[0]\n                }\n            },\n            axisLabel: {\n                formatter: '{value} ml'\n            }\n        },\n        {\n            type: 'value',\n            name: '降水量',\n            min: 0,\n            max: 250,\n            position: 'right',\n            offset: 80,\n            axisLine: {\n                lineStyle: {\n                    color: colors[1]\n                }\n            },\n            axisLabel: {\n                formatter: '{value} ml'\n            }\n        },\n        {\n            type: 'value',\n            name: '温度',\n            min: 0,\n            max: 25,\n            position: 'left',\n            axisLine: {\n                lineStyle: {\n                    color: colors[2]\n                }\n            },\n            axisLabel: {\n                formatter: '{value} °C'\n            }\n        }\n    ],\n    series: [{\n            name: '蒸发量',\n            type: 'bar',\n            data: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 2\n                }\n            }\n        },\n        {\n            barGap: '-50%', // 增加偏移量使重叠显示\n            name: '降水量',\n            type: 'bar',\n            yAxisIndex: 1,\n            data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 2\n                }\n            }\n        },\n        {\n            name: '平均温度',\n            type: 'line',\n            yAxisIndex: 2,\n            data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2],\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1799383937","theme":"macarons","layout":"","viewCount":1382,"userName":"M***_","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-67TJDii.png?v=1582536945316","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","series-line","toolbox","tooltip"],"customTags":[],"updaterUserName":"M***_"}}