{"status":0,"data":{"cid":"xxfjAItsJV","authorUid":"bd-2858071105","authorUserName":"xiaojian201502","title":"圆环图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-04-04T02:20:00.000Z","lastUpdateTime":"2019-04-04T02:20:00.000Z","auth":2,"uid":"bd-2858071105","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-04-04T02:20:00.000Z","code":"const colors = ['rgba(39, 200, 241, 1)', 'rgba(0, 158, 255, 1)', 'rgba(0, 71, 255, 1)'];\nvar data = [{\n        value: 55,\n        name: '三类点'\n    },\n    {\n        value: 65,\n        name: '二类点'\n    },\n    {\n        value: 75,\n        name: '一类点'\n    }\n].sort(function(a, b) {\n    return a.value > b.value\n});\nlet seriesBar = [];\ndata.forEach((d, i) => {\n    seriesBar.push({\n        value: d.value,\n        itemStyle: {\n            color: colors[i]\n        }\n    })\n})\n\n\noption = {\n    backgroundColor: '#000',\n    polar: {\n        radius: 268, // 10条数据的时候 190\n    },\n    angleAxis: {\n        show: false,\n        min: function(value) {\n            return 5\n        },\n        max: function(value) {\n            return value.max * 9 / 7;\n        }\n    },\n    radiusAxis: {\n        type: 'category',\n        min: function(value) {\n            return -1\n        },\n        max: function(value) {\n            return value.max;\n        },\n        axisLabel: {\n            interval: 0,\n            color: function(value, index) {\n                return colors[index - 1];\n            },\n            fontSize: 18,\n            fontFamily: 'PingFangSC-Regular',\n            fontWeight: 400\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false,\n            alignWithLabel: true\n        },\n        splitLine: {\n            show: false\n        },\n        data: [...data.map(d => d.name)],\n    },\n    series: [{\n            type: 'bar',\n            coordinateSystem: 'polar',\n            barWidth: 20, // 10条数据的时候 10\n            itemStyle: {\n                color: '#41a0ff'\n            },\n            data: seriesBar\n        },\n        {\n            type: \"custom\",\n            coordinateSystem: 'polar',\n            renderItem: function(params, api) {\n                var values = [api.value(0), api.value(1)];\n                var coord = api.coord(values);\n                return {\n                    type: 'text',\n                    position: [3 * Math.sin(coord[3]), 3 * Math.cos(coord[3])],\n                    rotation: coord[3] + Math.PI / 2,\n                    origin: [coord[0], coord[1]],\n                    style: {\n                        text: api.value(1) + '%',\n                        fill: colors[params.dataIndex],\n                        fontSize: 18,\n                        fontFamily: 'PingFangSC-Regular',\n                        fontWeight: 400,\n                        textAlign: \"right\",\n                        textVerticalAlign: \"middle\",\n                        x: coord[0],\n                        y: coord[1]\n                    }\n                };\n            },\n            data: data\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-2858071105","theme":"","layout":"","viewCount":761,"userName":"xiaojian201502","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxfjAItsJV.png?v=1554344400280","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","series-custom"],"customTags":[],"updaterUserName":"xiaojian201502"}}