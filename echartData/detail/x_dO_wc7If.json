{"status":0,"data":{"cid":"x_dO_wc7If","authorUid":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","authorUserName":"白***鹫","title":"闪烁动画","description":"闪烁动画","latestVersion":3,"alwaysLatest":1,"createTime":"2021-05-31T10:04:15.000Z","lastUpdateTime":"2021-06-25T09:34:15.000Z","auth":2,"uid":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.1","versionCreateTime":"2021-06-01T05:53:39.000Z","code":"let xdata = [],\n    datas = [];\n//阀值定义\nlet max = 120,min = 60;\nfor (var i = 0; i < 10; i++) {\n    if (xdata[0]) {\n        xdata.push(getOneMonthAgoDate(new Date(xdata[i - 1])));\n    } else xdata.push(dateFormat(new Date(), 'YYYY-MM-DD'));\n    datas[i] = {\n        value:Math.round(Math.random() * 150 + 10),\n        itemStyle: {\n        borderWidth: 2,\n        borderColor: \"rgba(24, 70, 145, 0.66)\"\n      }\n    };\n}\nfunction getOneMonthAgoDate(date) {\n    var time = date.getTime() - 1000 * 60 * 60 * 24 * 30;\n    var lastDate = new Date(time);\n    return dateFormat(lastDate, 'YYYY-MM-DD'); //getFormatDate(lastDate) + \" 00:00:00\";\n}\nfunction dateFormat(date, fmt) {\n    let ret;\n    const opt = {\n        'Y+': date.getFullYear().toString(), // 年\n        'M+': (date.getMonth() + 1).toString(), // 月\n        'D+': date.getDate().toString(), // 日\n        'h+': date.getHours().toString(), // 时\n        'm+': date.getMinutes().toString(), // 分\n        's+': date.getSeconds().toString(), // 秒\n        // 有其他格式化字符需求可以继续添加，必须转化成字符串\n    };\n    for (let k in opt) {\n        ret = new RegExp('(' + k + ')').exec(fmt);\n        if (ret) {\n            fmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, '0'));\n        }\n    }\n    return fmt;\n}\ngetSymbolData = (data) => {\n    let arr = [];\n    for (var i = 0; i < data.length; i++) {\n        arr.push({\n            value: data[i],\n            symbolPosition: 'end',\n        });\n    }\n    return arr;\n};\noption = {\n    backgroundColor: '#060f20',\n    grid: {\n        top: '15%',\n        right: '3%',\n        left: '8%',\n        bottom: '16%',\n    },\n    xAxis: [\n        {\n            type: 'category',\n            color: '#cef7fd',\n            data: xdata,\n            axisPointer: {\n                type: 'line',\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#eaeae8',\n                },\n            },\n            axisLabel: {\n                margin: 20,\n                color: '#cef6fe',\n                textStyle: {\n                    color: '#cbf7ff',\n                    fontSize: 14,\n                    fontWeight: 200,\n                },\n            },\n            inverse: true,\n        },\n    ],\n\n    yAxis: [\n        {\n            type: 'value',\n            color: '#cef7fd',\n            axisLine: {\n                lineStyle: {\n                    color: '#eaeae8',\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                formatter: function (value) {\n                    var texts = [];\n                    if (value == 30) {\n                        texts.push('超低');\n                    } else if (value == 60) {\n                        texts.push('低');\n                    } else if (value == 90) {\n                        texts.push('中');\n                    } else if (value == 120) {\n                        texts.push('高');\n                    } else if (value == 150) {\n                        texts.push('超高');\n                    }\n                    return texts;\n                },\n                textStyle: {\n                    color: '#cbf7ff',\n                    fontSize: 14,\n                    fontWeight: 200,\n                },\n            },\n\n            splitLine: {\n                lineStyle: {\n                    color: '#272456',\n                },\n            },\n        },\n    ],\n    dataZoom: [\n        {\n            show: true,\n            height: 20,\n            xAxisIndex: [0],\n            bottom: 50,\n            start: 20,\n            end: 150,\n            handleIcon:\n                'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\n            handleSize: '120%',\n            handleStyle: {\n                color: '#00b4ff',\n            },\n            textStyle: {\n                color: '#cef6fe',\n            },\n            fillerColor: 'rgba(40,82,106,0.8)',\n            borderColor: 'rgba(49,65,80,0.5)',\n        },\n        {\n            type: 'inside',\n            show: true,\n            height: 15,\n            width: 20,\n            start: 1,\n            end: 35,\n        },\n    ],\n    series: [\n        {\n            type: 'pictorialBar',\n            symbol:\n                'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAZlBMVEUAAABe3uVe3+Vf3uVf3+Zf3uVg3+Zg3+Zf3+Vi4OZh4OZg3+Z86/Bh3+Zi4Odj4Odi4OZ86/B76/B86/Bj4ed56+9x5+xn4umB7/N87PB36e+A7/N+7fF/7vJ/7vJ+7fGA7/OB7/PReX+lAAAAIXRSTlMABQkVDREmIhk3MR10LEFFPHh7cUprXE35h2XnqMLAp+mHAG9cAAAB5ElEQVRIx83WjU7CMBQFYIoiKMqU/XUboHv/l/Tce7t2XamDNSacETEmX86tlK2rx4py150o+MstMBLwWRfHKo6JCVxLnvmFGBjFQ58oF1//sUZhGy/ClSTWObgnL4O+bkeN4nY2okfNMbkRt9/vtxz8InoTsWplJSCzFxPmO8+GpSIByX3YQAuGDWtRKhKjCnxDXhF6Z4yxnZ20Wgko7BMRDmxtSGVaI4kdTIgb+zTYoJQlIMlDlmUFgrcDWWC201qSayqlTkiCddWWeV62VU0YlnpRi9VOKaSUsiyq/N0krwq2Ugt7lVpZl5BfHNiytjagMi+XYp0kCR45hMlivVQrE/uU5pXSrCB5bM6d1t2lOZItMqmliT3q5uVxqxzyW/ccfYLNKx7ZTeykMvNyac2yt2Fbc61MHLSC0rwoxbiNdlQ3GBm1NLHQsHUrtEXppR/ljNpW6DbSCoqlFiVoN6YdaFlgsSFVPs1BdT8OaB5QyQzVcaqWDows/zepxR8ObLglTrdtCRVuRNj4Rrxh+//0ke2f8KVL+Kon3GCSbmsJN9OUW3j6g0Ns+LgCij2u0h+Sghc8mlMPBMgdx5DFh59VmOVHrvmDnoNxCz3J7MFWsMuaLyR089xz/xhlfijvwutR8gv3zk6BLUUeCgAAAABJRU5ErkJggg==',\n            symbolSize: [50, 50],\n            symbolOffset: [0, -20],\n            z: 12,\n            itemStyle: {\n                normal: {\n                    color: '#14b1eb',\n                },\n            },\n            data: getSymbolData(datas),\n        },\n        {\n            type: 'bar',\n            data: datas,\n            barWidth: 15,\n            itemStyle: {\n                normal: {\n                    color: {\n                        //图形颜色\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#4fa5e2', // 0% 处的颜色\n                            },\n                            {\n                                offset: 0.5,\n                                color: '#c2bc1c', // 50% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#5EDEE5', // 50% 处的颜色\n                            },\n                        ],\n                        global: false, // 缺省为 false\n                    },\n                    barBorderRadius: [30, 30, 0, 0],\n                    shadowColor: 'rgba(0,255,225,1)',\n                    shadowBlur: 4,\n                },\n            },\n            markLine: {\n                symbol: 'none',\n                label: {\n                    show: true,\n                    position: 'start',\n                    formatter: '阀值\\n{c}',\n                    fontSize: 14,\n                    fontWeight: 'bold',\n                },\n                lineStyle: {\n                    type: 'solid',\n                },\n                data: [\n                    {\n                        yAxis: min,\n                        lineStyle: {\n                            color: 'rgba(188, 27, 65, 1)',\n                        },\n                        label: {\n                            color: 'rgba(188, 27, 65, 1)',\n                        },\n                    },\n                    {\n                        yAxis: max,\n                        lineStyle: {\n                            color: 'rgba(255, 182, 54, 1)',\n                        },\n                        label: {\n                            color: 'rgba(255, 182, 54, 1)',\n                        },\n                    },\n                ],\n            },\n            label: {\n                normal: {\n                    show: true,\n                    lineHeight: 20,\n                    width: 80,\n                    height: 40,\n                    padding: 5,\n                    backgroundColor: '#fff',\n                    borderRadius: 5,\n                    position: 'top',\n                    align: 'center',\n                    formatter: '{b|{b}\\n}{c|{c}}',\n                    fontSize: 15,\n                    rich: {\n                        b: {\n                            align: 'center',\n                            color: '#fff',\n                            fontSize: 15,\n                            textShadowBlur: 2,\n                            textShadowColor: '#000',\n                            textShadowOffsetX: 0,\n                            textShadowOffsetY: 1,\n                            textBorderColor: '#333',\n                            textBorderWidth: 2,\n                        },\n                        c: {\n                            color: '#999',\n                            fontSize: 14,\n                            lineHeight: 22,\n                            align: 'center',\n                        },\n                    },\n                },\n            },\n        },\n    ],\n};\nvar count = 0;\nsetInterval(function () {\n    if (count % 2 === 0) {\n        option.series[1].barWidth = 15;\n        option.series[0].symbolSize = [50, 50];\n        myChart.setOption(option); //交替setOption\n    } else {\n        option.series[1].barWidth = 18;\n        option.series[0].symbolSize = [53, 53];\n        myChart.setOption(option);\n    }\n    count += 1;\n}, 600);\n","html":"","externalScripts":"","updaterUID":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","theme":"default","layout":"","viewCount":0,"userName":"白***鹫","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_dO_wc7If.png?v=1624613656242","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markLine","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"白***鹫"}}