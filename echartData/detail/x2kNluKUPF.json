{"status":0,"data":{"cid":"x2kNluKUPF","authorUid":"obd-oD5ZP4PdCoOYaeAiu75WSRH-ZV9-61w","authorUserName":"牛***啦","title":"柱状图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-23T14:17:01.000Z","lastUpdateTime":"2021-11-24T01:56:35.000Z","auth":2,"uid":"obd-oD5ZP4PdCoOYaeAiu75WSRH-ZV9-61w","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-24T01:56:35.000Z","code":"var colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\r\nvar datas = [{\r\n        \"value\": 36,\r\n        \"name\": \"2021/11/11\"\r\n    },\r\n    {\r\n        \"value\": 54,\r\n        \"name\": \"系列二\"\r\n    },\r\n    {\r\n        \"value\": 29,\r\n        \"name\": \"系列三\"\r\n    },\r\n    {\r\n        \"value\": 25,\r\n        \"name\": \"系列四\"\r\n    }\r\n]\r\nlet maxArr = (new Array(datas.length)).fill(100);\r\noption = {\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n    legend: {\r\n        show: false\r\n    },\r\n    grid: {\r\n        left: 0,\r\n        right:0,\r\n        containLabel:true\r\n    },\r\n    xAxis: {\r\n        show: false,\r\n        type: 'value'\r\n\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        inverse: true,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisPointer: {\r\n            label: {\r\n                show: true,\r\n                margin: 30\r\n            }\r\n        },\r\n        data: datas.map(item => item.name),\r\n        axisLabel: {\r\n            margin:40,\r\n            fontSize: 14,\r\n            align: 'left',\r\n            color: '#333',\r\n            rich: {\r\n                a1: {\r\n                    color: '#fff',\r\n                    backgroundColor: colorList[0],\r\n                    width: 30,\r\n                    height: 30,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                },\r\n                a2: {\r\n                    color: '#fff',\r\n                    backgroundColor: colorList[1],\r\n                    width: 30,\r\n                    height: 30,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                },\r\n                a3: {\r\n                    color: '#fff',\r\n                    backgroundColor: colorList[2],\r\n                    width: 30,\r\n                    height: 30,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                },\r\n                b: {\r\n                    color: '#fff',\r\n                    backgroundColor: colorList[3],\r\n                    width: 30,\r\n                    height: 30,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                }\r\n            },\r\n            formatter: function(params) {\r\n                console.log(params)\r\n                var index = datas.map(item => item.name).indexOf(params);\r\n                index = index + 1;\r\n                if (index - 1 < 3) {\r\n                    return [\r\n                        '{a' + index + '|' + index + '}' + '  ' \r\n                    ].join('\\n')\r\n                } else {\r\n                    return [\r\n                        '{b|' + index + '}' + '  ' \r\n                    ].join('\\n')\r\n                }\r\n            }\r\n        }\r\n    }],\r\n    series: [{\r\n            z: 2,\r\n            name: 'value',\r\n            type: 'bar',\r\n            barWidth: 20,\r\n            zlevel: 1,\r\n            data: datas.map((item, i) => {\r\n                itemStyle = {\r\n                    color: i > 3 ? colorList[3] : colorList[i],\r\n                    barBorderRadius: 30,\r\n                }\r\n                return {\r\n                    value: item.value,\r\n                    itemStyle: itemStyle\r\n                };\r\n            }),\r\n            label: {\r\n                show:true,\r\n                  position: 'insideTopRight',\r\n                  padding:[-24,24,-24,0],\r\n                color: '#333333',\r\n                  formatter: '{c}%',\r\n                fontSize: 14,\r\n                offset: [10, 0]\r\n            }\r\n        },{\r\n            z: 2,\r\n            name: 'value',\r\n            type: 'bar',\r\n            barWidth: 20,\r\n            zlevel: 1,\r\n            data: datas.map((item, i) => {\r\n                itemStyle = {\r\n                    color: i > 3 ? colorList[3] : colorList[i],\r\n                    barBorderRadius: 30,\r\n                }\r\n                return {\r\n                    value: item.value,\r\n                    itemStyle: itemStyle\r\n                };\r\n            }),\r\n            label: {\r\n                show:true,\r\n                  position: 'insideTopLeft',\r\n                  padding:[-24,24,-24,0],\r\n                color: '#333333',\r\n                  formatter: '{b}',\r\n                fontSize: 14,\r\n                offset: [10, 0],\r\n            }\r\n        },\r\n        {\r\n            name: '背景',\r\n            type: 'bar',\r\n            barWidth: 20,\r\n            barGap: '-100%',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(118, 111, 111, 0.55)',\r\n                    barBorderRadius: 30,\r\n                }\r\n            },\r\n            data: maxArr,\r\n        }\r\n\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oD5ZP4PdCoOYaeAiu75WSRH-ZV9-61w","theme":"","layout":"","viewCount":0,"userName":"牛***啦","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2kNluKUPF.png?v=1637718995162","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"牛***啦"}}