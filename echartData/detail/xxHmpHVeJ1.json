{"status":0,"data":{"cid":"xxHmpHVeJ1","authorUid":"bd-3408963407","authorUserName":"霓虹36","title":"柱状图自动切换和范围缩放","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-10-24T10:03:08.000Z","lastUpdateTime":"2018-10-24T10:03:08.000Z","auth":2,"uid":"bd-3408963407","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-24T10:03:08.000Z","code":"var colorList = {\r\n        type: 'linear',\r\n        x: 0,\r\n        y: 0,\r\n        x2: 0,\r\n        y2: 1,\r\n        colorStops: [{\r\n          offset: 0,\r\n          color: '#06DBF5' // 0% 处的颜色\r\n        }, {\r\n          offset: 1,\r\n          color: '#00d386' // 100% 处的颜色\r\n        }],\r\n        globalCoord: false // 缺省为 false\r\n      }\r\n      var specialColor = {\r\n        type: 'linear',\r\n        x: 0,\r\n        y: 0,\r\n        x2: 0,\r\n        y2: 1,\r\n        colorStops: [{\r\n          offset: 0,\r\n          color: '#FEDD3D' // 0% 处的颜色\r\n        }, {\r\n          offset: 1,\r\n          color: '#F99901' // 100% 处的颜色\r\n        }],\r\n        globalCoord: false // 缺省为 false\r\n      }\r\n      var option = {\r\n        // backgroundColor: '#12234F',\r\n        \"title\": {\r\n          \"text\": \"30天能耗数据监测\",\r\n          \"left\": \"center\",\r\n          \"y\": \"0\",\r\n          \"textStyle\": {\r\n            \"color\": \"#fff\"\r\n          }\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '14%',\r\n          top:'15%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: ['10/01','10/02','10/03','10/04','10/05','10/06','10/07','10/08','10/09','10/10','10/11','10/12','10/13','10/14','10/15','10/16','10/17','10/18','10/19','10/20','10/21','10/22'],\r\n          // axisTick: {\r\n          //     alignWithLabel: true\r\n          // }\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: 'white'\r\n\r\n            }\r\n          },\r\n          axisLabel: {\r\n            // interval: 0,\r\n            // rotate: 40,\r\n            textStyle: {\r\n              fontFamily: 'Microsoft YaHei'\r\n            }\r\n          },\r\n        },\r\n\r\n        yAxis: {\r\n          type: 'value',\r\n          axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n              color: 'white'\r\n            }\r\n\r\n          },\r\n          splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n              color: 'rgba(255,255,255,0.3)'\r\n            }\r\n          },\r\n          axisLabel: {}\r\n        },\r\n        \"dataZoom\": [{\r\n          \"show\": true,\r\n          \"height\": 30,\r\n          \"xAxisIndex\": [\r\n            0\r\n          ],\r\n          bottom:'8%',\r\n          \"start\": 10,\r\n          \"end\": 80,\r\n          handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\r\n          handleSize: '110%',\r\n          handleStyle:{\r\n            color:\"#d3dee5\",\r\n\r\n          },\r\n          textStyle:{\r\n            color:\"#fff\"},\r\n          borderColor:\"#90979c\"\r\n\r\n\r\n        }, {\r\n          \"type\": \"inside\",\r\n          \"show\": true,\r\n          \"height\": 15,\r\n          \"start\": 1,\r\n          \"end\": 35\r\n        }],\r\n        series: [{\r\n          name: '',\r\n          type: 'bar',\r\n          barWidth: '60%',\r\n          // label:{\r\n          //     normal:{\r\n          //         show:true,\r\n          //         formatter: function(v) {\r\n          //             var val = v.data;\r\n          //             if (val === 0) {\r\n          //                 return '';\r\n          //             }\r\n          //             return val;\r\n          //         },\r\n          //         color: '#fff'\r\n          //     }\r\n          // },\r\n          itemStyle: {\r\n            color: function (params) {\r\n              /* if (params.name == '建许路口') {\r\n                   return specialColor;\r\n               } else {\r\n                   return colorList;\r\n               }*/\r\n              return colorList;\r\n            },\r\n            //barBorderRadius: 15,\r\n          },\r\n          emphasis: {\r\n            itemStyle: {\r\n              color: specialColor\r\n            }\r\n\r\n          },\r\n          data: [12000, 10000, 8000, 8000, 6000, 6000, 6000, 5377, 2000, 1760, 1325, 1200, 1000, 1000, 1000,12000, 10000, 8000, 8000, 6000, 6000, 6000]\r\n        }]\r\n      };\r\n\r\n      var app = {\r\n        currentIndex: -1,\r\n      };\r\n      setInterval(function () {\r\n        var dataLen = option.series[0].data.length;\r\n\r\n        // 取消之前高亮的图形\r\n        myChart.dispatchAction({\r\n          type: 'downplay',\r\n          seriesIndex: 0,\r\n          dataIndex: app.currentIndex\r\n        });\r\n        app.currentIndex = (app.currentIndex + 1) % dataLen;\r\n        //console.log(app.currentIndex);\r\n        // 高亮当前图形\r\n        myChart.dispatchAction({\r\n          type: 'highlight',\r\n          seriesIndex: 0,\r\n          dataIndex: app.currentIndex,\r\n        });\r\n        // 显示 tooltip\r\n        myChart.dispatchAction({\r\n          type: 'showTip',\r\n          seriesIndex: 0,\r\n          dataIndex: app.currentIndex\r\n        });\r\n\r\n\r\n      }, 1000);","html":"","externalScripts":"","updaterUID":"bd-3408963407","theme":"dark","layout":"","viewCount":464,"userName":"霓虹36","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxHmpHVeJ1.png?v=1540375388908","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-bar","title","tooltip"],"customTags":["局部缩放","柱状图","渐变","缩放","自动切换","范围"],"updaterUserName":"霓虹36"}}