{"status":0,"data":{"cid":"xlOSg1r4vs","authorUid":"bd-4240785066","authorUserName":"小***丶","title":"全国气象专题图","description":"全国气象专题图","latestVersion":3,"alwaysLatest":1,"createTime":"2020-06-23T11:11:50.000Z","lastUpdateTime":"2020-06-23T11:11:50.000Z","auth":1,"uid":"bd-4240785066","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-25T10:30:02.000Z","code":"var geoJson = \"/asset/get/s/data-1592904944493-2HB1a9-yg.json\";\n\n\nconst imgUrl = {\n    '阴': \"image:///asset/get/s/data-1592879301745-RIlQ5MYjE.png\",\n    '雨': \"image:///asset/get/s/data-1592879294117-ool80K6F4.png\",\n    '多云': \"image:///asset/get/s/data-1592879279868-pKYFkYOKH.png\",\n    '晴': \"image:///asset/get/s/data-1592879266354-IOh2LbYRo.png\"\n}\n\n\n//数据纯属虚构\n$.get(geoJson, res => {\n    const data = JSON.parse(res)\n    echarts.registerMap('Map', data);\n\n    //这里模拟数据，不用管\n    let mapData = {\n        '阴': [],\n        '雨': [],\n        '多云': [],\n        '晴': []\n    }\n    for (let i = 0; i < data.features.length; i++) {\n        if (i < 8) {\n            mapData['阴'].push({\n                name: data.features[i].properties.name,\n                value: [data.features[i].properties.center[0], data.features[i].properties.center[1], 40]\n            })\n        } else if (i > 8 && i <= 16) {\n            mapData['雨'].push({\n                name: data.features[i].properties.name,\n                value: [data.features[i].properties.center[0], data.features[i].properties.center[1], 40]\n            })\n        } else if (i > 16 && i <= 24) {\n            mapData['多云'].push({\n                name: data.features[i].properties.name,\n                value: [data.features[i].properties.center[0], data.features[i].properties.center[1], 40]\n            })\n        } else if (i > 24 && i < 34) {\n            mapData['晴'].push({\n                name: data.features[i].properties.name,\n                value: [data.features[i].properties.center[0], data.features[i].properties.center[1], 40]\n            })\n        }\n    }\n    let seriesArr = []\n\n    for (let j in mapData) {\n        seriesArr.push({\n            name: j,\n            type: \"effectScatter\",\n            coordinateSystem: \"geo\",\n            data: mapData[j],\n            symbolSize: 20,\n            symbol: imgUrl[j],\n            showEffectOn: \"emphasis\", //高亮时显示特效\n            rippleEffect: {\n                brushType: \"stroke\"\n            },\n            hoverAnimation: true, //动画效果\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: \"rgba(255, 128, 0,0.6)\" //地图点的颜色\n                }\n            },\n            layoutCenter: [\"50%\", \"50%\"], //属性定义地图中心在屏幕中的位置，一般结合layoutSize 定义地图的大小\n            layoutSize: 430\n        })\n    }\n\n\n    myChart.setOption({\n        backgroundColor: '#050038',\n        tooltip: {\n            trigger: \"item\",\n            formatter: p => {\n                let txtCon = p.name + '：' + p.seriesName;\n                return txtCon;\n            }\n        },\n        title: {\n            text: \"全国气象专题图\",\n            left: 'center',\n            textStyle: {\n                fontWeight: 'normal',\n                fontSize: 17,\n                color: 'rgb(97, 142, 205)'\n            }\n        },\n        geo: {\n            // 地图配置\n            show: true,\n            map: \"Map\", //使用\n            roam: true,\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                normal: {\n                    show: true,\n                    areaColor: 'rgba(0,0,0,0)',\n                    borderColor: 'rgb(15, 163, 227)',\n                    borderWidth: '1',\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 20\n                },\n                //emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。\n                emphasis: {\n                    show: true\n                }\n            },\n            zoom: 1.2\n        },\n        series: seriesArr\n\n    }, true)\n})","html":"","externalScripts":"","updaterUID":"obd-oEVgrrVYTGyJTK-IXspVuZeBkqyda4S","theme":"","layout":"","viewCount":342,"userName":"小***丶","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlOSg1r4vs.png?v=1606300202998","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","title","tooltip"],"customTags":[],"updaterUserName":"M***r"}}