{"status":0,"data":{"cid":"x0zWwiREw","authorUid":"bd-3576629841","authorUserName":"培***p","title":"全国生猪出栏价格","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2019-11-04T02:40:46.000Z","lastUpdateTime":"2019-11-04T02:40:46.000Z","auth":2,"uid":"bd-3576629841","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-15T08:19:34.000Z","code":"var name_title = \"全国生猪出栏价格\"\r\nvar subname = ''\r\nvar nameColor = \" rgb(55, 75, 113)\"\r\nvar name_fontFamily = '等线'\r\nvar subname_fontSize = 15\r\nvar name_fontSize = 18\r\nvar mapName = 'china'\r\nvar data = [{\r\n    \"name\": \"安徽\",\r\n    \"value\": 39.51\r\n}, {\r\n    \"name\": \"北京\",\r\n    \"value\": 38.13\r\n}, {\r\n    \"name\": \"福建\",\r\n    \"value\": 42.35\r\n}, {\r\n    \"name\": \"甘肃\",\r\n    \"value\": 36.62\r\n}, {\r\n    \"name\": \"广东\",\r\n    \"value\": 44\r\n}, {\r\n    \"name\": \"广西\",\r\n    \"value\": 42.64\r\n}, {\r\n    \"name\": \"贵州\",\r\n    \"value\": 36.33\r\n}, {\r\n    \"name\": \"海南\",\r\n    \"value\": 29.18\r\n}, {\r\n    \"name\": \"河北\",\r\n    \"value\": 37.49\r\n}, {\r\n    \"name\": \"河南\",\r\n    \"value\": 38.38\r\n}, {\r\n    \"name\": \"黑龙江\",\r\n    \"value\": 37.43\r\n}, {\r\n    \"name\": \"湖北\",\r\n    \"value\": 40.75\r\n}, {\r\n    \"name\": \"湖南\",\r\n    \"value\": 41.58\r\n}, {\r\n    \"name\": \"吉林\",\r\n    \"value\": 36.81\r\n}, {\r\n    \"name\": \"江苏\",\r\n    \"value\": 40.2\r\n}, {\r\n    \"name\": \"江西\",\r\n    \"value\": 43.05\r\n}, {\r\n    \"name\": \"辽宁\",\r\n    \"value\": 37.45\r\n}, {\r\n    \"name\": \"内蒙古\",\r\n    \"value\": 36.75\r\n}, {\r\n    \"name\": \"宁夏\",\r\n    \"value\": 30.48\r\n}, {\r\n    \"name\": \"青海\",\r\n    \"value\": 30\r\n}, {\r\n    \"name\": \"山东\",\r\n    \"value\": 38.26\r\n}, {\r\n    \"name\": \"山西\",\r\n    \"value\": 38.29\r\n}, {\r\n    \"name\": \"陕西\",\r\n    \"value\": 38.7\r\n}, {\r\n    \"name\": \"上海\",\r\n    \"value\": 39.47\r\n}, {\r\n    \"name\": \"四川\",\r\n    \"value\": 42.27\r\n}, {\r\n    \"name\": \"天津\",\r\n    \"value\": 38.17\r\n}, {\r\n    \"name\": \"西藏\",\r\n    \"value\": 30\r\n}, {\r\n    \"name\": \"新疆\",\r\n    \"value\": 35.84\r\n}, {\r\n    \"name\": \"云南\",\r\n    \"value\": 33.41\r\n}, {\r\n    \"name\": \"浙江\",\r\n    \"value\": 41.13\r\n}, {\r\n    \"name\": \"重庆\",\r\n    \"value\": 41.12\r\n}];\r\n\r\nvar geoCoordMap = {};\r\nvar toolTipData = [{\r\n    name: \"安徽\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 39.51\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 151.8\r\n    }]\r\n}, {\r\n    name: \"北京\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.13\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 128.2\r\n    }]\r\n}, {\r\n    name: \"福建\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 42.35\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 148.7\r\n    }]\r\n}, {\r\n    name: \"甘肃\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 36.62\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 130.3\r\n    }]\r\n}, {\r\n    name: \"广东\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 44\r\n    }, {\r\n       name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 151.7\r\n    }]\r\n}, {\r\n    name: \"广西\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 42.64\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 175.2\r\n    }]\r\n}, {\r\n    name: \"贵州\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 36.33\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 135.8\r\n    }]\r\n}, {\r\n    name: \"海南\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 29.18\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 144\r\n    }]\r\n}, {\r\n    name: \"河北\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 37.49\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 142.2\r\n    }]\r\n}, {\r\n    name: \"河南\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.38\r\n    }, {\r\n       name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 155.8\r\n    }]\r\n}, {\r\n    name: \"黑龙江\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 37.43\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 145.5\r\n    }]\r\n}, {\r\n    name: \"湖北\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 40.75\r\n    }, {\r\n       name: \"畜肉类消费价格指数（上年同期）\",\r\n        value: 148.1\r\n    }]\r\n}, {\r\n    name: \"湖南\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 41.58\r\n    }, {\r\n       name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 157.4\r\n    }]\r\n}, {\r\n    name: \"吉林\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 36.81\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 143\r\n    }]\r\n}, {\r\n    name: \"江苏\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 40.2\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value:143.3\r\n    }]\r\n}, {\r\n    name: \"江西\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 43.05\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 154.2\r\n    }]\r\n}, {\r\n    name: \"辽宁\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 37.45\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 143\r\n    }]\r\n}, {\r\n    name: \"内蒙古\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 36.75\r\n    }, {\r\n       name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 135.2\r\n    }]\r\n}, {\r\n    name: \"宁夏\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 30.48\r\n    }, {\r\n      name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 124.3\r\n    }]\r\n}, {\r\n    name: \"青海\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 13.41\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 120.6\r\n    }]\r\n}, {\r\n    name: \"山东\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.26\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 154.6\r\n    }]\r\n}, {\r\n    name: \"山西\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.29\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value:142.4\r\n    }]\r\n}, {\r\n    name: \"陕西\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.7\r\n    }, {\r\n       name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 142.2\r\n    }]\r\n}, {\r\n    name: \"上海\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 39.47\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 127.3\r\n    }]\r\n}, {\r\n    name: \"四川\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 42.27\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 164.6\r\n    }]\r\n}, {\r\n    name: \"天津\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 38.17\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 137.1\r\n    }]\r\n}, {\r\n    name: \"西藏\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 0000\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 109.4\r\n    }]\r\n}, {\r\n    name: \"新疆\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 35.84\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 117.7\r\n    }]\r\n}, {\r\n    name: \"云南\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 33.41\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 122.5\r\n    }]\r\n}, {\r\n    name: \"浙江\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 41.13\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 138.4\r\n    }]\r\n}, {\r\n    name: \"重庆\",\r\n    value: [{\r\n        name: \"猪肉价格\",\r\n        value: 41.12\r\n    }, {\r\n        name: \"九月畜肉类消费价格指数（上年同期）\",\r\n        value: 156.7\r\n    }]\r\n}];\r\n\r\n/*获取地图数据*/\r\nmyChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\n\r\n// console.log(\"============geoCoordMap===================\")\r\n// console.log(geoCoordMap)\r\n// console.log(\"================data======================\")\r\nconsole.log(data)\r\nconsole.log(toolTipData)\r\nvar max = 500000,\r\n    min = 1000; // todo \r\nvar maxSize4Pin = 80,\r\n    minSize4Pin =40;\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\noption = {\r\n    title: {\r\n        text: name_title,\r\n        subtext: subname,\r\n        x: 'center',\r\n        textStyle: {\r\n            color: nameColor,\r\n            fontFamily: name_fontFamily,\r\n            fontSize: name_fontSize\r\n        },\r\n        subtextStyle: {\r\n            fontSize: subname_fontSize,\r\n            fontFamily: name_fontFamily\r\n        }\r\n    },\r\n    tooltip: {//wenzikuang\r\n        trigger: 'item',\r\n        formatter: function(params) {\r\n            if (typeof(params.value)[2] == \"-2\") {\r\n                var toolTiphtml = ''\r\n                for (var i = 0; i < toolTipData.length; i++) {\r\n                    if (params.name == toolTipData[i].name) {\r\n                        toolTiphtml += toolTipData[i].name + ':<br>'\r\n                        for (var j = 0; j < toolTipData[i].value.length; j++) {\r\n                            toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + \"<br>\"\r\n                        }\r\n                    }\r\n                }\r\n                console.log(toolTiphtml)\r\n                // console.log(convertData(data))\r\n                return toolTiphtml;\r\n            } else {\r\n                var toolTiphtml = ''\r\n                for (var i = 0; i < toolTipData.length; i++) {\r\n                    if (params.name == toolTipData[i].name) {\r\n                        toolTiphtml += toolTipData[i].name + ':<br>'\r\n                        for (var j = 0; j < toolTipData[i].value.length; j++) {\r\n                            toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + \"<br>\"\r\n                        }\r\n                    }\r\n                }\r\n                console.log(toolTiphtml)\r\n                // console.log(convertData(data))\r\n                return toolTiphtml;\r\n           }\r\n       }\r\n    },\r\n   \r\n    visualMap: {\r\n        show: true,\r\n        min: 30,\r\n        max: 45,\r\n        left: 'left',\r\n        top: 'bottom',\r\n        //text: ['高', '低'], // 文本，默认为数值文本\r\n        calculable: true,\r\n        seriesIndex: [1],\r\n        inRange: {\r\n            // color: ['#3B5077', '#031525'] // 蓝黑\r\n            // color: ['#ffc0cb', '#800080'] // 红紫\r\n            // color: ['#3C3B3F', '#605C3C'] // 黑绿\r\n            // color: ['#0f0c29', '#302b63', '#24243e'] // 黑紫黑\r\n            // color: ['#23074d', '#cc5333'] // 紫红\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#1488CC', '#2B32B2'] // 浅蓝\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            color: ['#BC8F8F', '#CD0000'] // 蓝绿\r\n            // color:['#FFC1C1','#FF3030'] //红\r\n\r\n        }\r\n    },\r\n    /*工具按钮组*/\r\n    // toolbox: {\r\n    //     show: true,\r\n    //     orient: 'vertical',\r\n    //     left: 'right',\r\n    //     top: 'center',\r\n    //     feature: {\r\n    //         dataView: {\r\n    //             readOnly: false\r\n    //         },\r\n    //         restore: {},\r\n    //         saveAsImage: {}\r\n    //     }\r\n    // },\r\n    geo: {\r\n        show: true,\r\n        map: mapName,\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        roam: true,\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#031525',\r\n                borderColor: '#3B5077',\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2B91B7',\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: '散点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function(val) {\r\n                return val[2] / 10000;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#05C3F9'\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: 'map',\r\n            map: mapName,\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7'\r\n                }\r\n            },\r\n            animation: false,\r\n            data: data\r\n        },\r\n        {\r\n            name: '点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin', //气泡\r\n            symbolSize: function(val) {\r\n                var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n                var b = minSize4Pin - a * min;\r\n                b = maxSize4Pin - a * max;\r\n                return a * val[2] + b;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 9,\r\n                    }\r\n                }\r\n            },\r\n            //itemStyle: {\r\n                normal: {\r\n                    color: '#F62157', //标志颜色\r\n                }\r\n            //},\r\n            //zlevel: 6,\r\n            //data: convertData(data),\r\n        },\r\n        {\r\n            name: 'Top 5',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data.sort(function(a, b) {\r\n                return b.value - a.value;\r\n            }).slice(0, 5)),\r\n            symbolSize: function(val) {\r\n                return val[2] / 10000;\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'yellow',\r\n                    shadowBlur: 5,\r\n                    shadowColor: 'yellow'\r\n                }\r\n            },\r\n            zlevel: 1\r\n        },\r\n\r\n    ]\r\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-3576629841","theme":"","layout":"","viewCount":873,"userName":"培***p","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0zWwiREw.png?v=1573805974121","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"培***p"}}