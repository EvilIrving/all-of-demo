{"status":0,"data":{"cid":"xBkl1Q3GCG","authorUid":"bd-1766413141","authorUserName":"後***楷","title":"河北省地图加柱状图结合","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-05-11T06:06:16.000Z","lastUpdateTime":"2018-05-11T06:06:16.000Z","auth":2,"uid":"bd-1766413141","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-11T06:06:16.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1526018707993-B129M3z0f.json\";\nvar nameMap = '河北省';\nvar hbmap = [{\n    name: '秦皇岛',\n    value: '98'\n}, {\n    name: '衡水',\n    value: '2223'\n}, {\n    name: '邢台',\n    value: '437'\n}, {\n    name: '保定',\n    value: '385'\n}, {\n    name: '唐山',\n    value: '768'\n}, {\n    name: '张家口',\n    value: '1233'\n}, {\n    name: '石家庄',\n    value: '1633'\n}];\nvar geoCoordMap = {\n    '石家庄':[114.48,38.03],\n    '保定':[115.48,38.85],\n    '张家口':[114.87,40.82],\n    '承德':[117.93,40.97] ,\n    '秦皇岛':[119.57,39.95],\n    '唐山':[118.02,39.63],\n    '廊坊':[116.7,39.53],\n    '沧州':[116.83,38.33],\n    '邯郸':[114.47,36.6],\n    '衡水':[115.72,37.72],\n    '邢台':[114.48,37.05],\n\n};\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\nvar seriesdata = [\n\n    // {\n    //     name: 'light',\n    //     type: 'scatter',\n    //     coordinateSystem: 'geo',\n    //     data: convertData(hbmap),\n    //     symbolSize:  10,\n    //\n    //     label: {\n    //         normal: {\n    //             formatter: '{b}',\n    //             position: 'bottom',\n    //             show: true\n    //         },\n    //         emphasis: {\n    //             show: true\n    //         }\n    //     },\n    //     itemStyle: {\n    //         normal: {\n    //             color: '#F4E925'\n    //         }\n    //     }\n    // },\n    {\n\n        type: 'map',\n        map: nameMap,\n        aspectScale: 0.75, //长宽比\n        left: '2%',\n        // right: '35%',\n        top: 10,\n        width: '50%',\n        height: '90%',\n        roam: false,\n        itemStyle: {\n            normal: {\n                areaColor: '#0C1564',\n                borderColor: '#00effc',\n                borderWidth: 1.5,\n                label: {\n                    show: true,\n                    color: '#fff',\n                },\n\n                emphasis: {\n                    label: {\n                        show: true\n                    }\n                }\n            }\n        },\n\n        data: hbmap\n\n    },\n\n    //右边柱状图\n\n    {\n        name: '',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        barWidth: '45%',\n        itemStyle: {\n            normal: {\n                color: '#00effc',\n\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"right\",\n                textStyle: {\n                    color: \"#00effc\"\n                }\n            }\n        },\n        data: hbmap\n    },\n\n];\nvar ynameMap = [];\nfor (var i = 0; i < 7; i++) {\n    ynameMap.push(seriesdata[1].data[i].name);\n}\n\n\n//GDP\nvar optionMap = {\n    backgroundColor: \"#0C1564\",\n    grid: {\n        // left:'2%',\n        right: '10%',\n        bottom: '3%',\n        width: '20%',\n        height: '50%'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function (data) {\n            //console.log(data);\n            if (!isNaN(data.value)) {\n                return data.name + \"：\" + data.value;\n            }\n        },\n    },\n    xAxis: {\n        gridIndex: 0,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        gridIndex: 0,\n        interval: 0,\n        data: ynameMap,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: true\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: \"#00effc\"\n            }\n        }\n    },\n    // geo: {\n    //     map: hbmap,\n    //     roam: 'move',\n    //     // scaleLimit:{\n    //     //   max:'1.2',\n    //     //   min:'0.7'\n    //     // },\n    //     label: {\n    //         normal: {\n    //             show: true,\n    //             textStyle: {\n    //                 color: 'rgba(0,0,0,0.6)'\n    //             }\n    //         }\n    //     },\n    //     itemStyle: {\n    //         normal: {\n    //             borderColor: 'rgba(0, 0, 0, 0.2)'\n    //         },\n    //         emphasis: {\n    //             areaColor: null,\n    //             shadowOffsetX: 0,\n    //             shadowOffsetY: 0,\n    //             shadowBlur: 20,\n    //             borderWidth: 0,\n    //             shadowColor: 'rgba(0, 0, 0, 0.5)'\n    //         }\n    //     }\n    // },\n    series: seriesdata\n\n};\n\n$.get(uploadedDataURL, function (gdMap) {\n    echarts.registerMap(nameMap, gdMap);\n    myChart.setOption(optionMap, true);\n});\n\n","html":"","externalScripts":"","updaterUID":"bd-1766413141","theme":"","layout":"","viewCount":13637,"userName":"後***楷","commentCount":7,"starCount":41,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkl1Q3GCG.png?v=1526018776177","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","tooltip"],"customTags":[],"updaterUserName":"後***楷"}}