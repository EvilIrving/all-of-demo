{"status":0,"data":{"cid":"xx1X7dOOI","authorUid":"bd-181101713","authorUserName":"j***6","title":"双Y轴，时长换算","description":"两个Y轴，毫秒转换时长计算","latestVersion":5,"alwaysLatest":1,"createTime":"2020-02-16T06:32:58.000Z","lastUpdateTime":"2020-02-16T06:32:58.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":3,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-16T11:30:38.000Z","code":"var data_x=['01-01', '01-02', '01-03', '01-04', '01-05', '01-06', '01-07'];\nvar data_y1=[120, 200, 150, 80, 70, 110, 130];\nvar data_y2=[1200000, 1080000, 600000, 900000, 3780000, 2640000, 1800000];\n\nfunction formatDuring(mss) {\n    var hours = parseInt((mss % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    var minutes = parseInt((mss % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = (mss % (1000 * 60)) / 1000;\n    if (hours < 10) hours = \"0\" + hours;\n    if (minutes < 10) minutes = \"0\" + minutes;\n    if (seconds < 10) seconds = \"0\" + seconds;\n    return hours + \":\" + minutes + \":\" + seconds;\n}\n\noption = {\n    legend: {\n        type: \"plain\",\n        data: [{\n            name: '观看人次',\n            icon: 'rect',\n            itemWidth: 12,\n            itemHeight: 6,\n            textStyle: {\n                color: '#666',\n                fontSize: 12,\n            }\n        }, {\n            name: '观看时长',\n            icon: 'rect',\n            itemWidth: 12,\n            itemHeight: 4,\n            textStyle: {\n                color: '#666',\n                fontSize: 12,\n            }\n        }],\n        show: true,\n        bottom: 0\n    },\n    tooltip: {\n        trigger: \"axis\",\n        axisPointer: {\n            type: 'line',\n            lineStyle: {\n                color: \"#BFBFBF\"\n            }\n        },\n        formatter: function(params, ticket, callback) {\n\n            var res = params[0].name;\n\n            for (var i = 0, l = params.length; i < l; i++) {\n                if (params[i].seriesType === 'line') {\n                    res += '<br/>' + params[i].seriesName + ' : ' + formatDuring(params[i].value);\n                } else {\n                    res += '<br/>' + params[i].seriesName + ' : ' + params[i].value + \"人次\";\n                }\n            }\n            return res;\n\n        }\n    },\n    xAxis: [{\n        type: 'category',\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: \"#BFBFBF\"\n            }\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            color: \"#333\"\n        },\n        data: data_x\n    }],\n    yAxis: [{\n        type: 'value',\n        name: \"人次\",\n        position: \"left\",\n        nameLocation: \"end\",\n        nameTextStyle: {\n            color: \"#333\",\n            align: \"left\",\n            padding: [0, 0, 0, -32],\n        },\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            color: \"#333\"\n        },\n        splitLine: {\n            lineStyle: {\n                color: \"#E9E9E9\",\n                type: \"dashed\"\n            }\n        }\n    }, {\n        type: 'value',\n        name: '时长',\n        position: \"right\",\n        nameLocation: \"end\",\n        nameTextStyle: {\n            color: \"#333\",\n            align: \"left\",\n        },\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            color: \"#333\",\n            formatter: function(data) {\n                return formatDuring(data)\n            } //以百分比显示\n        },\n        splitLine: {\n            show: false\n        }\n    }],\n    series: [{\n        name: '观看人次',\n        data: data_y1,\n        type: 'bar',\n        barWidth: \"24\",\n        itemStyle: {\n            color: \"#1891FF\"\n        }\n    }, {\n        name: '观看时长',\n        yAxisIndex: 1, //图层层级，重要，没有它就不会展示Y轴了\n        data: data_y2,\n        type: 'line',\n        lineStyle: {\n            width: 3,\n            color: \"#FBCD14\"\n        },\n        itemStyle: {\n            color: \"#FBCD14\",\n            opacity: 1\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":157,"userName":"j***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xx1X7dOOI.png?v=1581852638462","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"j***6"}}