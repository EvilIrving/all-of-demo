{"status":0,"data":{"cid":"xopVGxcZzQ","authorUid":"obd-oDoZE0QFQiTJ8fgNYaJmNXNc2nGaq1W","authorUserName":"v***哦","title":"散点图左右分区","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-04T02:44:35.000Z","lastUpdateTime":"2021-08-04T02:48:31.000Z","auth":2,"uid":"obd-oDoZE0QFQiTJ8fgNYaJmNXNc2nGaq1W","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-04T02:48:31.000Z","code":"const colors = ['#15C2C3', '#FE655B'];\nconst delta = 0.1;\nconst { brand = { x: 0, y: 0, name: '' }, items = [] } = {\n        \"brand\":{\n            \"name\":\"碧欧泉\",\n            \"x\":100.1,\n            \"y\":100.1\n        },\n        \"items\":[\n            {\n                \"name\":\"兰蔻\",\n                \"x\":100.1,\n                \"y\":100.1,\n                \"type\":0,\n                \"brand_id\":\"1\",\n                \"social_index\":11.1,\n                \" social_index_ranking\":10\n            },\n            {\n                \"name\":\"碧欧泉\",\n                \"x\":10,\n                \"y\":100,\n                \"type\":0,\n                \"brand_id\":\"3\",\n                \"social_index\":11.1,\n                \" social_index_ranking\":10\n            },\n            {\n                \"name\":\"雅诗兰黛\",\n                \"x\":200,\n                \"y\":100,\n                \"type\":1,\n                \"brand_id\":\"3\",\n                \"social_index\":11.1,\n                \" social_index_ranking\":10\n            },\n            {\n                \"name\":\"ysl\",\n                \"x\":300,\n                \"y\":100,\n                \"type\":1,\n                \"brand_id\":\"3\",\n                \"social_index\":11.1,\n                \" social_index_ranking\":10\n            }\n        ]\n    };\n\n    const max = {\n      x: brand.x,\n      y: brand.y,\n    };\n\n    const min = {\n      x: brand.x,\n      y: brand.y,\n    };\n\n    const getSymbolSize = (value) => {\n      const symbolSize = {\n        max: 36,\n        min: 12,\n      };\n      const size = (value * symbolSize.max) / max.y;\n      return size < symbolSize.min ? symbolSize.min : size;\n    };\n\n    let directVieBrandData = [];\n    let observeVieBrandData = [];\n\n    items.forEach((item) => {\n      if (item.x > max.x) {\n        max.x = item.x;\n      }\n      if (item.y > max.y) {\n        max.y = item.y;\n      }\n      if (item.x < min.x) {\n        min.x = item.x;\n      }\n      if (item.y < min.y) {\n        min.y = item.y;\n      }\n    });\n\n    items.forEach((item) => {\n      const obj = {\n        id: item.id,\n        name: item.name,\n        selectedMode: true,\n        symbolKeepAspect: true,\n        // symbol: '',\n        label: {\n          formatter: ({ name}) => name,\n          show: item.name.trim().length > 0,\n          fontSize: 12,\n          color: colors[item.type || 0],\n          position: 'bottom',\n        },\n        symbolSize: getSymbolSize(item.y),\n        value: [item.x, item.y],\n      };\n      if (item.name.trim().length === 0) {\n        // @ts-ignore\n        obj.symbol = item.type === 1 ? redPng : bluePng;\n        obj.symbolSize = obj.symbolSize + 40;\n      }\n      if (item.type === 1) {\n        directVieBrandData.push(obj);\n      } else {\n        observeVieBrandData.push(obj);\n      }\n    });\n\n    const directVieBrandSeries = {\n      name: '品牌1',\n      type: 'scatter',\n      animation: false,\n      symbol: 'circle',\n      color: colors[1],\n      itemStyle: {\n        opacity: 1,\n      },\n      zlevel: 1,\n      data: directVieBrandData,\n      markLine: {\n        silent: true,\n        zlevel: 0,\n        symbol: 'none',\n        lineStyle: {\n          type: 'solid',\n          color: 'rgba(227, 227, 227, 0.6)',\n          width: 1,\n          opacity: 0.4,\n        },\n        label: {\n          show: false,\n        },\n        data: [\n          {\n            xAxis: brand.x,\n          },\n          {\n            yAxis: brand.y,\n          },\n        ],\n      },\n    };\n\n    const observeVieBrandSeries = {\n      name: '品牌2',\n      type: 'scatter',\n      symbol: 'circle',\n      color: colors[0],\n      itemStyle: {\n        opacity: 1,\n      },\n      zlevel: 1,\n      data: observeVieBrandData,\n      markLine: {\n        silent: true,\n        zlevel: 0,\n        symbol: 'none',\n        lineStyle: {\n          type: 'solid',\n          color: 'rgba(227, 227, 227, 0.6)',\n          width: 1,\n          opacity: 0.4,\n        },\n\n        data: [\n          {\n            xAxis: brand.x,\n            label: {\n              show: false,\n            },\n          },\n          {\n            yAxis: brand.y,\n            label: {\n              position: 'start',\n              formatter: brand.name,\n            },\n          },\n        ],\n      },\n    };\noption = {\n      grid: {\n        top: 94,\n        left: 48,\n        right: 68,\n        bottom: 70,\n        containLabel: true,\n      },\n      color: colors,\n      legend: {\n        show: true,\n        // \t\t\"selectedMode\": false,\n        icon: 'circle',\n        itemWidth: 10,\n        itemHeight: 10,\n        itemGap: 20,\n        textStyle: {\n          fontSize: 12,\n          color: '#000000',\n        },\n        x: 47,\n        y: 20,\n        data: ['品牌1', '品牌2'],\n      },\n      tooltip: {\n        trigger: 'item',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        padding: [6, 12],\n        borderWidth: 0,\n        textStyle: {\n          color: 'rgba(0, 0, 0, 0.9)',\n          fontSize: 12,\n        },\n        formatter: ({ name, value }) => {\n          if (!name) {\n            return '';\n          }\n          let str = `<div style=\" display:flex;flex-direction: column ;justify-content: center;font-size:12px\">\n          <div style=\" margin: 0 10px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); \">\n          <p style=\"font-weight: bold;font-size:13px;line-height:24px\">${name}</p>\n          <div style=\"color: rgba(0, 0, 0, 0.6);\">\n          <p><span style=\"display:inline-block;width:80px;line-height:24px;font-size:12px\">榜单排名</span><span style=\"display:inline-block;width:50px;text-align:right;\">${value[0]}</span></p>\n          <p><span style=\"display:inline-block;width:80px;line-height:24px;font-size:12px\">社交影响力指数</span><span style=\"display:inline-block;width:50px;text-align:right;\">${value[1]}</span></p>\n          </div>\n          </div>`;\n          str = str + '</div>';\n          return str;\n        },\n      },\n      xAxis: {\n        name: '相关度',\n        nameLocation: 'end',\n        // min: min.x * (1 - delta),\n        nameTextStyle: {\n          color: 'color: rgba(0, 0, 0, 0.6)',\n          lineHeight: 17,\n        },\n        axisLine: {\n          //  \"show\": false,\n          lineStyle: {\n            color: 'rgba(227, 227, 227, 1)',\n          },\n        },\n        axisTick: {\n          inside: true,\n          show: false,\n        },\n        axisLabel: {\n          // \t\t\t\"showMaxLabel\": false,\n          color: 'color: rgba(0, 0, 0, 0.6)',\n          fontSize: 12,\n          // \t\t\t\"show\": false,\n          formatter: (val) => {\n            if (+val === max.x) {\n              return '高';\n            }\n          },\n        },\n        splitLine: {\n          show: false,\n          lineStyle: {\n            color: 'rgba(240, 240, 240, 1)',\n          },\n        },\n        max: max.x * (1 + delta),\n      },\n      yAxis: [\n        {\n          name: '品牌指数',\n          min: min.y,\n          max: max.y,\n          nameGap: 20,\n          nameTextStyle: {\n            color: 'color: rgba(0, 0, 0, 0.6)',\n            lineHeight: 20,\n            align: 'center',\n          },\n          axisLine: {\n            //  \"show\": false,\n            lineStyle: {\n              color: 'rgba(227, 227, 227, 1)',\n            },\n          },\n          axisTick: {\n            show: false,\n          },\n          axisLabel: {\n            color: 'rgba(0,0,0,0.6)',\n            formatter: (val) => {\n              if (val === min.y) {\n                return '低';\n              } else if (val === max.y) {\n                return '高';\n              }\n            },\n          },\n          splitLine: {\n            show: false,\n            lineStyle: {\n              color: 'rgba(240, 240, 240, 1)',\n              type: 'dashed',\n            },\n          },\n        },\n      ],\n      series: [directVieBrandSeries, observeVieBrandSeries],\n    }","html":"","externalScripts":"","updaterUID":"obd-oDoZE0QFQiTJ8fgNYaJmNXNc2nGaq1W","theme":"","layout":"","viewCount":0,"userName":"v***哦","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xopVGxcZzQ.png?v=1628045311573","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-scatter","tooltip"],"customTags":[],"updaterUserName":"v***哦"}}