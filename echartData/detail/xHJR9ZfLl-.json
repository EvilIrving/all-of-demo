{"status":0,"data":{"cid":"xHJR9ZfLl-","authorUid":"bd-1663368455","authorUserName":"肉***7","title":"树图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-05-14T17:19:18.000Z","lastUpdateTime":"2017-05-14T17:19:18.000Z","auth":2,"uid":"bd-1663368455","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.5.4","versionCreateTime":"2017-05-14T17:19:18.000Z","code":"         var nodes = [];\r\n         var links = [];\r\n         var constMaxDepth = 4;\r\n         var constMaxChildren = 3;\r\n         var constMinChildren = 2;\r\n         var constMaxRadius = 10;\r\n         var constMinRadius = 2;\r\n         var mainDom = {\r\n             clientWidth:500,\r\n             clientHeight:700\r\n         };\r\n\r\n         function rangeRandom(min, max) {\r\n             return Math.random() * (max - min) + min;\r\n         }\r\n\r\n         function createRandomNode(depth,data) {\r\n             var x = mainDom.clientWidth / 2 + (.5 - Math.random()) * 200;\r\n             var y = (mainDom.clientHeight - 20) * depth / (constMaxDepth + 1) + 20;\r\n             var node = {\r\n                 name : 'NODE_' + nodes.length,\r\n                 value : rangeRandom(constMinRadius, constMaxRadius),\r\n                 // Custom properties\r\n                 id : nodes.length,\r\n                 depth : depth,\r\n                 x : y,\r\n                 y: x,\r\n                 category : depth === constMaxDepth ? 0 : 1\r\n             };\r\n\r\n             nodes.push(node);\r\n             return node;\r\n         }\r\n\r\n         function forceMockThreeData() {\r\n             var depth = 0;\r\n\r\n             var rootNode = createRandomNode(0);\r\n             rootNode.name = 'ROOT';\r\n             rootNode.category = 2;\r\n\r\n             function mock(parentNode, depth) {\r\n                 var nChildren = Math.round(rangeRandom(constMinChildren, constMaxChildren));\r\n\r\n                 for (var i = 0; i < nChildren; i++) {\r\n                     var childNode = createRandomNode(depth);\r\n                     console.log(parentNode.id,childNode.id,depth);\r\n                     links.push({\r\n                         source : parentNode.id,\r\n                         target : childNode.id,\r\n                         weight : 1\r\n                     });\r\n                     if (depth < constMaxDepth) {\r\n                         mock(childNode, depth + 1);\r\n                     }\r\n                 }\r\n             }\r\n\r\n             mock(rootNode, 1);\r\n         }\r\n\r\n         forceMockThreeData();\r\n        // createRandomNode(0,$scope.datalist);\r\n\r\noption = {\r\n             tooltip: {},\r\n             animationDurationUpdate: 1500,\r\n             animationEasingUpdate: 'quinticInOut',\r\n             series : [\r\n                 {\r\n                     type: 'graph',\r\n                     layout: 'none',\r\n                     symbolSize: 6,\r\n                     roam: true,\r\n                     label: {\r\n                         normal: {\r\n                             show: false\r\n                         }\r\n                     },\r\n                     edgeSymbol: ['circle'],\r\n                     edgeSymbolSize: [4, 10],\r\n                     edgeLabel: {\r\n                         normal: {\r\n                             textStyle: {\r\n                                 fontSize: 20\r\n                             }\r\n                         }\r\n                     },\r\n                     data:nodes,\r\n                     // links: [],\r\n                     links: links,\r\n                     lineStyle: {\r\n                         normal: {\r\n                             opacity: 0.9,\r\n                             width: 2,\r\n                             curveness: 0\r\n                         }\r\n                     }\r\n                 }\r\n             ]\r\n         };\r\n","html":"","externalScripts":"","updaterUID":"bd-1663368455","theme":"","layout":"","viewCount":3112,"userName":"肉***7","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJR9ZfLl-.png?v=1494782358980","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","tooltip"],"customTags":[],"updaterUserName":"肉***7"}}