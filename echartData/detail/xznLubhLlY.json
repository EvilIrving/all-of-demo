{"status":0,"data":{"cid":"xznLubhLlY","authorUid":"bd-2536962124","authorUserName":"韩***翎","title":"应急事件统计","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-08-06T08:47:20.000Z","lastUpdateTime":"2019-08-06T08:47:20.000Z","auth":2,"uid":"bd-2536962124","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-06T09:00:47.000Z","code":"data = [{\r\n        value: 107,\r\n        name: '常规',\r\n        itemStyle: {\r\n            color: {\r\n                x: 0,\r\n                y: 0,\r\n                x2: 0,\r\n                y2: 1,\r\n                colorStops: [{\r\n                        offset: 0,\r\n                        color: '#C9F351'\r\n                    },\r\n                    {\r\n                        offset: .5,\r\n                        color: '#688032'\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: '#688032'\r\n                    }\r\n                ],\r\n                globalCoord: false // 缺省为 false\r\n            }\r\n        },\r\n    },\r\n    {\r\n        value: 54,\r\n        name: '暂缓',\r\n        itemStyle: {\r\n            color: {\r\n                x: 1,\r\n                y: 0,\r\n                x2: 0,\r\n                y2: 1,\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: '#265E3B'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#21D0AF'\r\n                }],\r\n                globalCoord: false // 缺省为 false\r\n            }\r\n        },\r\n    },\r\n    {\r\n        value: 57,\r\n        name: '次紧急',\r\n        itemStyle: {\r\n            color: {\r\n                x: 0,\r\n                y: 0,\r\n                x2: 1,\r\n                y2: 1,\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: '#112B64'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#0AC8E0'\r\n                }],\r\n                globalCoord: false // 缺省为 false\r\n            }\r\n        },\r\n    },\r\n    {\r\n        value: 27,\r\n        name: '紧急',\r\n        itemStyle: {\r\n            color: {\r\n                x: 0,\r\n                y: 0,\r\n                x2: 1,\r\n                y2: 1,\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: '#5C2F1C'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#FE9F43'\r\n                }],\r\n                globalCoord: false // 缺省为 false\r\n            }\r\n        },\r\n    },\r\n];\r\n// 累计事件次数\r\nvar totalTime = 0;\r\nfor (var i = 0; i < data.length; i++) {\r\n    totalTime += data[i].value;\r\n}\r\nvar radius =  [\"40%\", \"58%\"];//圆的大小\r\nobjData = arrayObj(data, \"name\");\r\nvar legendData = ['常规', '暂缓', '次紧急', '紧急'];\r\n\r\nfunction arrayObj(array, key) {\r\n    var resObj = {};\r\n    for (var i = 0; i < array.length; i++) {\r\n        resObj[array[i][key]] = array[i];\r\n    }\r\n    return resObj;\r\n}\r\nvar rich = {\r\n    text: {\r\n        color: \"#666\",\r\n        fontSize: 14,\r\n        align: 'center',\r\n        verticalAlign: 'middle',\r\n        padding: 5\r\n    },\r\n    value: {\r\n        color: \"#8693F3\",\r\n        fontSize: 24,\r\n        align: 'center',\r\n        verticalAlign: 'middle',\r\n        padding: [0, 20]\r\n    },\r\n    title: {\r\n        fontSize: 18,\r\n        color: \"#82A1BD\",\r\n        padding: [0, 10]\r\n    },\r\n    num: {\r\n        fontSize: 25,\r\n        // lineHeight: 20,\r\n        color: \"#fff\",\r\n        fontWeight: 400,\r\n    },\r\n    bule: {\r\n        color: '#00F7FE',\r\n        fontSize: 35,\r\n        padding: [10, 0],\r\n        fontWeight: 600,\r\n    }\r\n};\r\noption = {\r\n    //  backgroundColor: \"rgba(255,255,255,1)\",\r\n    backgroundColor: '#000',\r\n    legend: {\r\n        orient: 'vertical',\r\n        x: 850,\r\n        y: 'center',\r\n        // icon:'image://./images/icon1.png'//格式为'image://+icon文件地址'，其中image::后的//不能省略\r\n        data: legendData,\r\n        formatter: function(name) {\r\n            return \"{title|\" + name + \"}{num|\" + (objData[name].value) + \"}{title|起}\"\r\n        },\r\n\r\n        textStyle: {\r\n            rich: rich\r\n        },\r\n    },\r\n    series: [{\r\n        // name: '违规次数',\r\n        type: 'pie',\r\n        clockwise: false, //饼图的扇区是否是顺时针排布\r\n        minAngle: 20, //最小的扇区角度（0 ~ 360）\r\n        radius: radius,\r\n        center: [\"35%\", \"50%\"],\r\n        avoidLabelOverlap: false,\r\n        itemStyle: { //图形样式\r\n            normal: {\r\n                borderColor: '#000',\r\n                borderWidth: 10,\r\n            },\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'center',\r\n                // formatter: '{text|{b}}\\n{value|{d}%}',\r\n                formatter: function(parmas) {\r\n                    return \"{title|\" + \"累计事件次数\" + '\\n' + \"}{bule|\" + totalTime + '\\n' + \"}{title|\" + \"日均发生事件概率\" + '\\n' + \"}{bule|\" + '7.43%' + \"}\"\r\n                },\r\n                rich: rich\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: 46,\r\n                }\r\n            }\r\n        },\r\n        data: data\r\n    }]\r\n};\r\nmyChart.setOption(option);","html":"","externalScripts":"","updaterUID":"bd-2536962124","theme":"","layout":"","viewCount":159,"userName":"韩***翎","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xznLubhLlY.png?v=1565082047178","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":[],"updaterUserName":"韩***翎"}}