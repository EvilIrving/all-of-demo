{"status":0,"data":{"cid":"xKFRNQgZ1","authorUid":"bd-365218436","authorUserName":"G***G","title":"仪表盘比率","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-01-02T07:27:13.000Z","lastUpdateTime":"2020-01-02T07:27:13.000Z","auth":2,"uid":"bd-365218436","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-02T07:27:13.000Z","code":"var data = [];\r\nvar gauge_font = 50 // 中间字体大小\r\nvar gauge_value = 40\r\nvar xjradius = 120 // 整体大小\r\nvar centerY = 85\r\nfor (var i = 0; i <= 180; i++) {\r\n    var t = i / 180 * Math.PI;\r\n    var r = 10;\r\n    data.push([r, i]);\r\n}\r\n\r\n// 获取页面服务器台数数据渲染页面\r\nvar xjpoint = 175 //控制小点的位置 0 - 180\r\nvar xjpointColor = [ // 控制小点的颜色\r\n    'rgba(13,197,113,1)',\r\n    'rgba(13,197,113,1)',\r\n    'rgba(13,197,113,1)'\r\n]\r\nvar lineCorrect = 1 //控制线条颜色的位置 0-1\r\nvar normalRate = 100 //正常率\r\nvar normalColor = \"#393939\"\r\nvar correct = 50\r\nvar sum = 100\r\n\r\nlineCorrect = (correct / sum).toFixed(3)\r\nxjpoint = lineCorrect * 175\r\nnormalRate = lineCorrect * 100\r\n\r\nif (xjpoint >= 175) {\r\n    xjpointColor = [ // 控制小点的颜色\r\n        'rgba(13,197,113,1)',\r\n        'rgba(13,197,113,1)',\r\n        'rgba(13,197,113,1)'\r\n    ]\r\n    normalColor = \"#393939\"\r\n} else if (xjpoint < 175) {\r\n    xjpointColor = [ // 控制小点的颜色\r\n        'rgba(250,0,0,1)',\r\n        'rgba(250,0,0,1)',\r\n        'rgba(250,0,0,1)',\r\n    ]\r\n    normalColor = \"red\"\r\n}\r\n\r\noption = {\r\n    title: {\r\n        show: true,\r\n        text: '正常率',\r\n        y: \"75%\",\r\n        x: \"center\",\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 18,\r\n            color: \"#000\",\r\n        },\r\n    },\r\n    polar: {\r\n        center: ['52%', centerY -1.3 + '%'], // 控制点的位置\r\n        radius: xjradius + \"%\"\r\n    },\r\n    visualMap: {\r\n        show: false,\r\n        seriesIndex: 1,\r\n        dimension: 1,\r\n        type: 'continuous',\r\n        min: 0,\r\n        max: 180,\r\n        text: ['High', 'Low'],\r\n        realtime: false,\r\n        calculable: true,\r\n        inRange: {\r\n            color: xjpointColor,\r\n            symbolSize: [10, 20]\r\n        }\r\n    },\r\n    angleAxis: {\r\n        type: 'value',\r\n        min: 0,\r\n        max: 360,\r\n        startAngle: 180,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n    },\r\n    radiusAxis: {\r\n        min: 0,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    },\r\n    series: [{\r\n            name: 'line',\r\n            type: 'line',\r\n            coordinateSystem: 'polar',\r\n            showSymbol: false,\r\n            lineStyle: {\r\n                normal: {\r\n                    opacity: 0,\r\n                    width: 15,\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 1,\r\n                        y2: 0,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'lightskyblue' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.5,\r\n                            color: 'yellow' // 100% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'orangered' // 100% 处的颜色\r\n                        }],\r\n                        globalCoord: false // 缺省为 false\r\n                    }\r\n                }\r\n            },\r\n            data: data\r\n        },\r\n        {\r\n            name: 'point',\r\n            type: 'scatter',\r\n            coordinateSystem: 'polar',\r\n            symbolSize: 25,\r\n            z: 12,\r\n            hoverAnimation: true,\r\n            cursor: 'pointer',\r\n            itemStyle: {\r\n                normal: {\r\n                    borderColor: '#fff',\r\n                    borderWidth: 6,\r\n                    shadowColor: 'rgba(0, 0, 0, 0.2)',\r\n                    shadowBlur: 10\r\n                },\r\n            },\r\n            data: [\r\n                [9.65, xjpoint]\r\n            ]\r\n        },\r\n        {\r\n            name: \"刻度\",\r\n            type: \"gauge\",\r\n            title: {\r\n                color: normalColor,\r\n                fontSize: gauge_font,\r\n                fontWeight: 700,\r\n                offsetCenter: [0, \"-30%\"]\r\n            },\r\n            radius: xjradius + \"%\",\r\n            center: [\"50%\", centerY + '%'],\r\n            startAngle: 180, //刻度起始\r\n            endAngle: 0, //刻度结束\r\n            z: 11,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                length: 10, //刻度节点线长度\r\n                lineStyle: {\r\n                    width: 1,\r\n                    color: \"#50cca3\"\r\n                }\r\n            },\r\n            axisLabel: {\r\n                show: false,\r\n                color: '#',\r\n                fontSize: 12,\r\n            }, //刻度节点文字颜色\r\n            pointer: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    opacity: 0\r\n                }\r\n            },\r\n            detail: {\r\n                show: false\r\n            },\r\n            data: [{\r\n                value: 0,\r\n                name: normalRate + '%'\r\n            }]\r\n        },\r\n        {\r\n            name: '内圈', //刻度背景\r\n            type: 'gauge',\r\n            z: 10,\r\n            radius: xjradius + \"%\",\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            center: [\"50%\", centerY + '%'], //整体的位置设置\r\n            axisLine: { // 坐标轴线\r\n                lineStyle: { // 属性lineStyle控制线条样式\r\n                    color: [\r\n                        [lineCorrect, '#83edbe'],\r\n                        [1, \"#f83740\"]\r\n                    ],\r\n                    width: 10,\r\n                    opacity: 1, //刻度背景宽度\r\n\r\n                }\r\n            },\r\n            markArea: {\r\n                show: true,\r\n                silent: true,\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            data: [{\r\n                show: false,\r\n                value: '80'\r\n            }], //作用不清楚\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            detail: {\r\n                show: 0\r\n            }\r\n        },\r\n        {\r\n            name: '内层圈',\r\n            type: 'gauge',\r\n            z: 6,\r\n            radius: xjradius - 30 + \"%\",\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            center: [\"50%\", centerY + '%'], //整体的位置设置\r\n            axisLine: {\r\n                lineStyle: { // 属性lineStyle控制线条样式//控制外圈位置\r\n                    // color:\"#000\",\r\n                    color: [\r\n                        [0.5, '#c4d8f5'],\r\n                        [1, '#c4d8f5']\r\n                    ],\r\n                    width: 3,\r\n                    opacity: 1, //控制外圈位置，颜色，宽度，透明度\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            data: [{\r\n                show: false,\r\n                value: '10'\r\n            }],\r\n            detail: {\r\n                show: 0\r\n            }\r\n        },\r\n        {\r\n            name: 'point',\r\n            type: \"effectScatter\",\r\n            coordinateSystem: \"polar\",\r\n            zlevel: 0,\r\n            z: 14,\r\n            rippleEffect: {\r\n                //涟漪特效\r\n                period: 4, //动画时间，值越小速度越快\r\n                brushType: \"stroke\", //波纹绘制方式 stroke, fill\r\n                scale: 5 //波纹圆环最大限制，值越大波纹越大\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"right\", //显示位置\r\n                    offset: [5, 0], //偏移设置\r\n                    formatter: \"{b}\", //圆环显示文字,\r\n                    color: \"red\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            symbol: \"circle\",\r\n            symbolSize: 12,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: xjpointColor[1]\r\n                }\r\n            },\r\n\r\n            data: [\r\n                [9.65, xjpoint]\r\n            ]\r\n        },\r\n    ],\r\n    animationDuration: 2000\r\n};","html":"","externalScripts":"","updaterUID":"bd-365218436","theme":"","layout":"","viewCount":637,"userName":"G***G","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKFRNQgZ1.png?v=1577950033257","isCustomThumbnail":0,"builtinTags":["category-work","markArea","polar","series-effectScatter","series-gauge","series-line","series-scatter","title","visualMap"],"customTags":[],"updaterUserName":"G***G"}}