{"status":0,"data":{"cid":"xXvAk70RC9","authorUid":"obd-o2IuzGZAUL69XINAJNlfZTfm3IafOBP","authorUserName":"k***h","title":"广东省地图下钻","description":"地图下钻功能","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-26T02:10:30.000Z","lastUpdateTime":"2020-05-26T02:10:30.000Z","auth":2,"uid":"obd-o2IuzGZAUL69XINAJNlfZTfm3IafOBP","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-05-26T02:10:30.000Z","code":"var sz = \"/asset/get/s/data-1590372928763--kKLg0YPC.json\";\n\nvar gd = \"/asset/get/s/data-1590372918278-Y1gVzx6pR.json\";\n\nmyChart.showLoading();\nvar data = [];\nvar max = 100;\n\nfunction getOption(nameLocation, scatterData) {\n    return {\n        backgroundColor: '#404a59', // 背景\n        tooltip: { // 窗口外框\n            backgroundColor: 'rgba(0,0,0,0)',\n            trigger: 'item',\n        },\n\n        visualMap: {\n            min: 0,\n            max: max,\n            calculable: true,\n            inRange: {\n                color: ['#50a3ba', '#eac736', '#d94e5d']\n            }\n        },\n        geo: {\n            show: true,\n            map: nameLocation,\n            roam: true,\n            label: { // 文字\n                show: true,\n                color: '#fff',\n                fontSize: 10\n            },\n            itemStyle: { //地图样式\n                normal: {\n                    borderColor: 'rgba(147, 235, 248, 1)',\n                    borderWidth: 1,\n                    areaColor: {\n                        type: 'radial',\n                        x: 0.5,\n                        y: 0.5,\n                        r: 0.8,\n                        colorStops: [{\n                            offset: 0,\n                            color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\n                        }, {\n                            offset: 1,\n                            color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\n                        }],\n                        globalCoord: false // 缺省为 false\n                    },\n                    shadowColor: 'rgba(128, 217, 248, 1)',\n                    shadowOffsetX: -2,\n                    shadowOffsetY: 2,\n                    shadowBlur: 10\n                }\n            },\n            emphasis: { //鼠标移入动态的时候显示的默认样式\n                itemStyle: {\n                    areaColor: '#FFD181',\n                    borderColor: '#404a59',\n                    borderWidth: 1\n                }\n            },\n            layoutCenter: ['50%','50%'],\n        },\n        series: [{\n            tooltip: { // 显示的窗口\n                trigger: 'item',\n                formatter: function(item) {\n                    var tipHtml = '';\n                    tipHtml = '<div style=\"background:#fff;border-radius:10px;padding-top:10px;box-shadow:0 0 10px #666\">' +\n                        '<div style=\"color:#fff;height:20px;border-radius:6px;font-size:12px;line-height:20px;background-color:#5861a2;text-align:center;margin:0 2px;\">' + item.data.name + '</div>' +\n                        '<div style=\"text-align:center;color:#494949;padding:8px 6px\">' +\n                        '<span style=\"font-size:18px;font-weight:bold;\">' + '测试设备：' + item.data.value + ' ' + '</span>' +\n                        '</div>' + '</div>';\n                    return tipHtml;\n                }\n            },\n            name: '广东省数据',\n            type: 'map',\n            geoIndex: 0,\n            data: data,\n        }, {\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbolSize: function(val) {\n                return val[2] / max * 25;\n            },\n            data: scatterData\n        }],\n    }\n}\n\nfunction getGDMap() {\n    myChart.off('dblclick');\n    $.getJSON(gd, function(geoJson) {\n        echarts.registerMap('gd', geoJson);\n        data = geoJson.features.map((item) => { // 显示窗口的数据转换\n            return {\n                value: (Math.random() * 1000).toFixed(2),\n                name: item.properties.name\n            }\n        });\n        myChart.hideLoading();\n        myChart.setOption(getOption('gd', [{\n            value: [114.105946, 22.610125, 10]\n        }, {\n            value: [113.3965, 23.118422, 88]\n        }, {\n            value: [114.648666, 23.90841, 55]\n        }, {\n            value: [114.386505, 23.089702, 23]\n        }]),true);\n        myChart.on('click', getSZMap);\n    });\n}\n\nfunction getSZMap() {\n    myChart.off('click');\n    $.getJSON(sz, function(geoJson) {\n        echarts.registerMap('sz', geoJson);\n        data = geoJson.features.map((item) => { // 显示窗口的数据转换\n            return {\n                value: (Math.random() * 1000).toFixed(2),\n                name: item.properties.name\n            }\n        });\n        myChart.hideLoading();\n        myChart.setOption(getOption('sz', [{\n            value: [114.105946, 22.610125, 10]\n        }]),true);\n        myChart.on('dblclick', getGDMap);\n    });\n}\n\n(getGDMap())();","html":"","externalScripts":"","updaterUID":"obd-o2IuzGZAUL69XINAJNlfZTfm3IafOBP","theme":"","layout":"","viewCount":1803,"userName":"k***h","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXvAk70RC9.png?v=1590459030759","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","tooltip","visualMap"],"customTags":["geo","map"],"updaterUserName":"k***h"}}