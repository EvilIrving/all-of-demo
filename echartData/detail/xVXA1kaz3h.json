{"status":0,"data":{"cid":"xVXA1kaz3h","authorUid":"bd-1548620540","authorUserName":"s***君","title":"基础地图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-01T10:07:28.000Z","lastUpdateTime":"2020-04-01T10:07:28.000Z","auth":1,"uid":"bd-1548620540","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-01T10:07:28.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1519279347346-BkslpCjwf.json\";\n\n/**\n此版本通过设置geoindex && seriesIndex: [1] 属性来实现geo和map共存，\n来达到hover散点和区域显示tooltip的效果\n\n默认情况下，map series 会自己生成内部专用的 geo 组件。\n但是也可以用这个 geoIndex 指定一个 geo 组件。\n这样的话，map 和 其他 series（例如散点图）就可以共享一个 geo 组件了。\n并且，geo 组件的颜色也可以被这个 map series 控制，从而用 visualMap 来更改。\n当设定了 geoIndex 后，series-map.map 属性，\n以及 series-map.itemStyle 等样式配置不再起作用，而是采用 geo 中的相应属性。\n\nhttp://echarts.baidu.com/option.html#series-map.geoIndex\n\n并且加了pin气泡图标以示数值大小\n*/\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('anhui', geoJson);\n    myChart.hideLoading();\n    option = {\n        backgroundColor: '#091c3d',\n        title: {\n            top:20,\n            text: '',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#ccc'\n            }\n        },    \n\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n              if(typeof(params.value)[2] == \"undefined\"){\n              \treturn params.name + ' : ' + params.value;\n              }else{\n              \treturn params.name + ' : ' + params.value[2];\n              }\n            }\n        },\n        legend: {\n        orient: 'vertical',\n        y: 'bottom',\n        x:'right',\n        data:['pm2.5'],\n        textStyle: {\n            color: '#fff'\n        }\n        }, \n        geo: {\n            show: true,\n            map: 'anhui',\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: 'transparent',\n                    borderColor: '#3fdaff',\n                    borderWidth: 2,\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 30\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                }\n            }\n        },\n        series : []\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-1548620540","theme":"","layout":"","viewCount":80,"userName":"s***君","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVXA1kaz3h.png?v=1585735648403","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","title","tooltip"],"customTags":[],"updaterUserName":"s***君"}}