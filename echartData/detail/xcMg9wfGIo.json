{"status":0,"data":{"cid":"xcMg9wfGIo","authorUid":"bd-2307958024","authorUserName":"小***啊","title":"空气质量AQI24小时数据分析 ","description":"通过分析将24小时实测和预测数据做对比，不同的值对应不同的aqi等级颜色","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-24T08:44:41.000Z","lastUpdateTime":"2020-03-24T08:44:41.000Z","auth":2,"uid":"bd-2307958024","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-24T08:44:41.000Z","code":"  var timeData = [\"2020-03-23 17:00\", \"2020-03-23 18:00\", \"2020-03-23 19:00\", \"2020-03-23 20:00\", \"2020-03-23 21:00\", \"2020-03-23 22:00\", \"2020-03-23 23:00\", \"2020-03-24 00:00\", \"2020-03-24 01:00\", \"2020-03-24 02:00\", \"2020-03-24 03:00\", \"2020-03-24 04:00\", \"2020-03-24 05:00\", \"2020-03-24 06:00\", \"2020-03-24 07:00\", \"2020-03-24 08:00\", \"2020-03-24 09:00\", \"2020-03-24 10:00\", \"2020-03-24 11:00\", \"2020-03-24 12:00\", \"2020-03-24 13:00\", \"2020-03-24 14:00\", \"2020-03-24 15:00\", \"2020-03-24 16:00\", \"2020-03-24 17:00\", \"2020-03-24 18:00\", \"2020-03-24 19:00\", \"2020-03-24 20:00\", \"2020-03-24 21:00\", \"2020-03-24 22:00\", \"2020-03-24 23:00\", \"2020-03-25 00:00\", \"2020-03-25 01:00\", \"2020-03-25 02:00\", \"2020-03-25 03:00\", \"2020-03-25 04:00\", \"2020-03-25 05:00\", \"2020-03-25 06:00\", \"2020-03-25 07:00\", \"2020-03-25 08:00\", \"2020-03-25 09:00\", \"2020-03-25 10:00\", \"2020-03-25 11:00\", \"2020-03-25 12:00\", \"2020-03-25 13:00\", \"2020-03-25 14:00\", \"2020-03-25 15:00\"];\r\n  var aqiData = [42, 46, 50, 36, 83, 75, 73, 73, 74, 65, 69, 68, 74, 60, 120, 110, 89, 65, 72, 60, 121, 75, 62, 90, 78, 72, 78, 67, 83, 75, 73, 73, 74, 65, 69, 68, 74, 60, 120, 110, 89, 65, 72, 60, 208, 75, 62];\r\n  window.seriesData = [];\r\n  $.each(timeData, function(index, val) {\r\n      seriesData.push({\r\n          value: aqiData[index],\r\n          itemStyle: {\r\n              color: aqiLevel(aqiData[index])\r\n          }\r\n      })\r\n  });\r\n\r\n  var option = {\r\n      title: {\r\n          text: '实测         预测',\r\n          left: '47%',\r\n          top: '8%',\r\n          textStyle: {\r\n              color: '#333'\r\n          }\r\n      },\r\n      tooltip: {\r\n          trigger: \"axis\",\r\n          formatter: function(params) {\r\n              return params[0].name + '<br/>' + \"AQI：\" + params[0].value;\r\n          }\r\n      },\r\n      grid: {\r\n          top: \"12%\",\r\n          left: \"10%\",\r\n          right: \"5%\"\r\n      },\r\n      xAxis: [{\r\n          type: \"category\",\r\n          data: timeData,\r\n          axisLine: {\r\n              lineStyle: {\r\n                  color: \"#fff\"\r\n              }\r\n          },\r\n          axisLabel: {\r\n              show: true,\r\n              textStyle: {\r\n                  color: \"#333\"\r\n              }\r\n          }\r\n      }, {\r\n          show: false,\r\n          type: \"category\",\r\n          data: timeData\r\n      }],\r\n      yAxis: {\r\n          type: \"value\",\r\n          axisLabel: {\r\n              show: true,\r\n              textStyle: {\r\n                  color: \"#333\"\r\n              }\r\n          },\r\n          axisTick: {\r\n              show: false\r\n          },\r\n          splitLine: {\r\n              show: false\r\n          },\r\n          axisLine: {\r\n              show: false\r\n          }\r\n      },\r\n      series: [{\r\n          name: \"AQI\",\r\n          type: \"bar\"\r\n      }, {\r\n          xAxisIndex: 1,\r\n          data: seriesData,\r\n          type: \"bar\",\r\n          smooth: true,\r\n          markArea: {\r\n              data: [\r\n                  [{\r\n                      itemStyle: {\r\n                          color: \"rgba(22, 120, 225, 0.05)\"\r\n                      }\r\n                  }, {\r\n                      xAxis: '2020-03-24 17:00'\r\n                  }],\r\n                  [{\r\n                      xAxis: '2020-03-24 17:00',\r\n                      itemStyle: {\r\n                          color: \"rgba(0, 244, 0, 0.05)\"\r\n                      }\r\n                  }, {}]\r\n              ]\r\n          }\r\n      }]\r\n  };\r\n\r\n  // AQI等级\r\n  function aqiLevel(data) {\r\n      var color = data >= 0 && data <= 50 ? \"#61D800\" :\r\n          data > 50 && data <= 100 ? \"#CCB21A\" :\r\n          data > 100 && data <= 150 ? \"#F5A623\" :\r\n          data > 150 && data <= 200 ? \"#F12F1C\" :\r\n          data > 200 && data <= 300 ? \"#9C0D71\" :\r\n          data > 300 ? \"#630445\" : \"\";\r\n      return color;\r\n  }","html":"","externalScripts":"","updaterUID":"bd-2307958024","theme":"","layout":"","viewCount":149,"userName":"小***啊","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcMg9wfGIo.png?v=1585039481552","isCustomThumbnail":0,"builtinTags":["category-work","grid","markArea","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"小***啊"}}