{"status":0,"data":{"cid":"xIthRA5RoS","authorUid":"obd-oA7gLIG1pj1WVmHj78TeZmchHyVI770","authorUserName":"陈***冒","title":"地图迁徙图","description":"线图","latestVersion":4,"alwaysLatest":0,"createTime":"2021-09-30T09:22:50.000Z","lastUpdateTime":"2021-11-16T15:04:10.000Z","auth":1,"uid":"obd-oA7gLIG1pj1WVmHj78TeZmchHyVI770","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.2.1","versionCreateTime":"2021-11-16T15:04:10.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\n\n/**\n此版本通过设置geoindex && seriesIndex: [1] 属性来实现geo和map共存，来达到hover散点和区域显示tooltip的效果\n\n默认情况下，map series 会自己生成内部专用的 geo 组件。但是也可以用这个 geoIndex 指定一个 geo 组件。这样的话，map 和 其他 series（例如散点图）就可以共享一个 geo 组件了。并且，geo 组件的颜色也可以被这个 map series 控制，从而用 visualMap 来更改。\n当设定了 geoIndex 后，series-map.map 属性，以及 series-map.itemStyle 等样式配置不再起作用，而是采用 geo 中的相应属性。\n\nhttp://echarts.baidu.com/option.html#series-map.geoIndex\n\n并且加了pin气泡图标以示数值大小\n*/\nvar points = [\n{value: [118.8062, 31.9208],itemStyle:{color:'red'}}\n, {value: [119.4543, 25.9222]}\n  ]\n// var uploadedDataURL = \"/asset/get/s/data-1482909892121-BJ3auk-Se.json\";\nmyChart.showLoading();\n      let index = -1;\n      \n$.getJSON(uploadedDataURL, function(geoJson) {\n    \n    echarts.registerMap('china', geoJson);\n    myChart.hideLoading();\n    option = {\n        backgroundColor: '#013954',\n \n        geo: {\n        map: 'china',\n          aspectScale: 0.75, //长宽比\n          zoom: 1.1,\n          roam: false,\n          itemStyle: {\n            normal: {\n              areaColor: '#15e3c9',\n              shadowColor:'rgba(0,243,255,0.6)',\n              shadowOffsetX: 9,\n              shadowOffsetY: 9\n            },\n            emphasis: {\n              areaColor: '#2AB8FF',\n              borderWidth: 0,\n              color: 'green',\n              label: {\n                show: false\n              }\n            }\n          },\n          regions: [{\n            name: '南海诸岛',\n            itemStyle: {\n                areaColor: 'rgba(0, 10, 52, 1)',\n                borderColor: 'rgba(0, 10, 52, 1)',\n                normal: {\n                    opacity: 0,\n                    label: {\n                        show: false,\n                        color: \"#009cc9\",\n                    }\n                }\n            },\n\n\n        }],\n        },\n        series: [ {\n            type: 'map',\n            roam: false,\n            label: {\n                normal: {\n                    show: false,\n                    textStyle: {\n                        color: '#1DE9B6'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: 'rgb(183,185,14)'\n                    }\n                }\n            },\n\n            itemStyle: {\n              normal: {\n               borderColor: 'rgb(18 126 169 / 58%)',\n                borderWidth: 1,\n                areaColor: '#15e3c9',\n              },\n              emphasis: {\n                    areaColor: 'rgb(46,229,206)',\n                //    shadowColor: 'rgb(12,25,50)',\n                    borderWidth: 0.1\n                }\n            },\n            zoom: 1.1,\n            map: 'china' //使用\n          },{\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                showEffectOn: 'render',\n                zlevel:1,\n                rippleEffect: {\n                    period: 15,\n                    scale: 2,\n                    brushType: 'fill'\n                },\n                hoverAnimation: true,\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        offset: [15, 0],\n                        color: '#333',\n                        show: true\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                       color:'#1DE9B6',\n                        shadowBlur: 10,\n                        shadowColor: '#333'\n                    }\n                },\n                symbolSize: 12,\n                data: points\n            }, //地图线的动画效果\n          {\n                type: 'lines',\n                zlevel: 2,\n                effect: {\n                    show: true,\n                    period: 8, //箭头指向速度，值越小速度越快\n                    trailLength:0.9, //特效尾迹长度[0,1]值越大，尾迹越长重\n                    symbol: 'arrow', //箭头图标\n                    symbolSize: 15, //图标大小\n                },\n                lineStyle: {\n                    normal: {\n                        color:'#1DE9B6',\n                        width: 0, //线条宽度\n                        opacity: 0, //尾迹线条透明度\n                        curveness: -1 //尾迹线条曲直度\n                    }\n                },\n                data: [\n                    {coords: [[118.8062, 31.9208],[118.8062, 31.9208]],lineStyle:{color:'yellow'}}\n                  , {coords: [[118.8062, 31.9208],[127.9688, 45.368]],lineStyle:{color:'yellow'}}\n                  , {coords: [[118.8062, 31.9208],[102.9199, 25.46639]],lineStyle:{color:'yellow'}}\n                ]\n            }\n\n        ]\n    };\n    myChart.setOption(option,true);\n});","html":"","externalScripts":"","updaterUID":"obd-oFDwVnOpbXu7tJ2IobOR-5oz_EUvO5B","theme":"","layout":"","viewCount":0,"userName":"陈***冒","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIthRA5RoS.png?v=1637075050805","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map"],"customTags":[],"updaterUserName":"小***3"}}