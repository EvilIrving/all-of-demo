{"status":0,"data":{"cid":"x-JTa3v8c1","authorUid":"bd-939842705","authorUserName":"j***h","title":"老人出行词云热点分析","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2019-01-31T10:19:47.000Z","lastUpdateTime":"2019-02-03T10:09:33.000Z","auth":2,"uid":"bd-939842705","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-02-03T12:11:56.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1549191113335-gRFB1ID5X.csv\";\r\n\r\n\r\noption = {\r\n    title: {\r\n        text: '老人出行热点分析',\r\n        x: 'center',\r\n        textStyle: {\r\n            fontSize: 23\r\n        }\r\n\r\n    },\r\n    backgroundColor: '#F7F7F7',\r\n    tooltip: {\r\n        show: true\r\n    },\r\n    toolbox: {\r\n        feature: {\r\n            saveAsImage: {\r\n                iconStyle: {\r\n                    normal: {\r\n                        color: '#FFFFFF'\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '热点分析',\r\n        type: 'wordCloud',\r\n        //size: ['9%', '99%'],\r\n        sizeRange: [2, 50],\r\n        gridSize: 2,\r\n        //textRotation: [0, 45, 90, -45],\r\n        rotationRange: [-45, 90],\r\n        //shape: 'circle',\r\n        textPadding: 0,\r\n        autoSize: {\r\n            enable: true,\r\n            minSize: 6\r\n        },\r\n        textStyle: {\r\n            normal: {\r\n                color: function() {\r\n                    return 'rgb(' + [\r\n                        Math.round(Math.random() * 160),\r\n                        Math.round(Math.random() * 160),\r\n                        Math.round(Math.random() * 160)\r\n                    ].join(',') + ')';\r\n                }\r\n            },\r\n            emphasis: {\r\n                shadowBlur: 10,\r\n                shadowColor: '#333'\r\n            }\r\n        },\r\n        data: []\r\n    }]\r\n};\r\n$.ajax({\r\n    \"url\": uploadedDataURL,\r\n    \"dataType\": \"text\",\r\n    \"method\": \"GET\",\r\n    \"success\": function(csvdata) {\r\n        var rows = csvdata.split('\\n');\r\n        var JsonList = [];\r\n        for (var r in rows) {\r\n\r\n            if (r < 1)\r\n                continue;\r\n\r\n            var row = rows[r].slice(1, rows[r].length).split('\",');\r\n            //console.log(row);\r\n            JsonList.push({\r\n                name:row[0],\r\n                value:row[1]\r\n            });\r\n\r\n        }\r\n        console.log(JsonList);\r\n        option.series[0].data = JsonList;\r\n        myChart.setOption(option);\r\n        //myChart.setOption(option);\r\nmyChart.on('click', function(params) {\r\n    //alert((params.name));\r\n   \r\n});\r\n\r\n    },\r\n});\r\n\r\n\r\n\r\n\r\n\r\n","html":"","externalScripts":"http://data-visual.cn/datav/src/js/echarts/extension/echarts-wordcloud.min.js","updaterUID":"bd-939842705","theme":"default","layout":"","viewCount":944,"userName":"j***h","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-JTa3v8c1.png?v=1549188574258","isCustomThumbnail":1,"builtinTags":["category-work","series-wordCloud","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"j***h"}}