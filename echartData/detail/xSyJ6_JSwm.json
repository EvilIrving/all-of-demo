{"status":0,"data":{"cid":"xSyJ6_JSwm","authorUid":"bd-933860657","authorUserName":"176******95","title":"三个y轴","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-08-30T03:47:03.000Z","lastUpdateTime":"2018-08-30T03:47:03.000Z","auth":2,"uid":"bd-933860657","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-08-30T03:47:03.000Z","code":"var data = [{\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"a6973168fc0c4d0c9fa55fad62e25c30\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 1554,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 211,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"毛老师\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"a52aefe2915b4eb7ae6685ab3dfbec83\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 796,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 190,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"jishu1director\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"700b0cfc040a4db38e117e2b3ca1d289\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 904,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 90,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"东院老师\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"fbbe8173f36c47959ad6968b80d08cb9\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 1160,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 78,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"张老师\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"0069205b1595492999ed2f444fadac8c\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 152,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 71,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"王雪晶\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"bae4302c237c409d96487e52cf6b50f9\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 118,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 64,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"李老师\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"5893795b4e444716b652c62dc68a69b1\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 834,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 64,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"燕子埠王老师\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"aec0d9925e954931911b227dd4703c49\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 484,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 54,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"常态\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"356cc5d7493b4acb84e3c4e6e3157bbb\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 471,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 47,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"邳州实验小学于肖肖\",\r\n        \"userName\": null\r\n    },\r\n    {\r\n        \"areaCode\": null,\r\n        \"areaIdPath\": null,\r\n        \"areaName\": null,\r\n        \"baseAreaId\": null,\r\n        \"baseClasslevelId\": null,\r\n        \"baseSubjectId\": null,\r\n        \"baseUserId\": \"49f9ca8d43c54d2e8a08a7e819633532\",\r\n        \"beginTime\": null,\r\n        \"classStatus\": null,\r\n        \"classlevelName\": null,\r\n        \"classlevelSort\": null,\r\n        \"clsSchoolId\": null,\r\n        \"planCourseCnt\": 759,\r\n        \"realBeginTime\": null,\r\n        \"realCourseCnt\": 44,\r\n        \"roomType\": null,\r\n        \"scheduleCount\": 0,\r\n        \"status\": null,\r\n        \"subjectName\": null,\r\n        \"teacherUserName\": \"燕子埠李老师\",\r\n        \"userName\": null\r\n    }\r\n];\r\nvar areaName = [],\r\n    realCourseCnt = [],\r\n    planCourseCnt = [],\r\n    CourseRate = [],\r\n    maxCount = [];\r\nvar fullAreaName = [];\r\nfor (var i = 0; i < data.length; i++) {\r\n    areaName.push(data[i].teacherUserName);\r\n    fullAreaName.push(data[i].teacherUserName);\r\n    realCourseCnt.push(data[i].realCourseCnt);\r\n    planCourseCnt.push(data[i].planCourseCnt);\r\n    CourseRate.push(('(' + (data[i].realCourseCnt * 100 / data[i].planCourseCnt).toFixed(0)) + '%)');\r\n}\r\nvar maxPlanCourseCnt = Math.max.apply(null, planCourseCnt);\r\nvar maxRealCourseCnt = Math.max.apply(null, realCourseCnt);\r\nvar maxCourseCnt = Math.max(maxPlanCourseCnt, maxRealCourseCnt);\r\n$.each(data, function(i, d) {\r\n    maxCount.push(maxCourseCnt);\r\n});\r\noption = {\r\n    backgroundColor: '#0B1A32',\r\n    title: {\r\n        text: '计划开课',\r\n        left: '70',\r\n        bottom: '-11',\r\n        textStyle: {\r\n            color: 'rgba(255,255,255,0.5)',\r\n            fontSize: '12',\r\n            fontfamily: 'PingFangMedium',\r\n            fontWeight: 'light'\r\n        }\r\n\r\n    },\r\n    grid: {\r\n        left: '29',\r\n        top: '20',\r\n        right: '28',\r\n        bottom: '6',\r\n        containLabel: true\r\n    },\r\n    tooltip: {\r\n        show: \"true\",\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'none' // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        transitionDuration: 0,\r\n        backgroundColor: 'rgba(255,255,255,0.3)',\r\n        borderColor: '#535b69',\r\n        borderRadius: 8,\r\n        borderWidth: 0,\r\n        padding: [5, 10],\r\n        formatter: function(param) {\r\n            var html = fullAreaName[param[1].dataIndex] + '<br/>';\r\n            html += '实际开课：' + param[0].value + '<br/>';\r\n            html += '计划开课：' + planCourseCnt[param[1].dataIndex] + '<br/>';\r\n            html += '开课占比：' + param[1].axisValue;\r\n            return html;\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'value',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        max: maxCourseCnt,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#90979c'\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#1bb9f9'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            fontSize: '16',\r\n            fontFamily: 'PingFangMedium',\r\n        },\r\n        data: areaName,\r\n        offset: 57\r\n    }, {\r\n        type: 'category',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#7e9bc6'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            fontSize: '14'\r\n        },\r\n        position: 'left',\r\n        offset: 5,\r\n        data: CourseRate,\r\n        zLevel: '2'\r\n    }, {\r\n        type: 'category',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#7e9bc6'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            color: '#fff',\r\n            interval: '0',\r\n            fontSize: '24',\r\n            fontFamily: 'myFirstFont'\r\n        },\r\n        position: 'right',\r\n        offset: 10,\r\n        data: realCourseCnt,\r\n        zLevel: '3'\r\n    }],\r\n    series: [{\r\n            name: '计划开课',\r\n            type: 'bar',\r\n            yAxisIndex: 1,\r\n            barWidth: '12',\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#09152a',\r\n                    borderType: 'solid',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 1,\r\n                    borderColor: '#61738c'\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '20%',\r\n            data: planCourseCnt\r\n        },\r\n        {\r\n            name: '实际开课',\r\n            type: 'bar',\r\n            // yAxisIndex: 2,\r\n            barWidth: '6',\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    color: '#fff',\r\n                    position: [320, -8],\r\n                    fontSize: '24',\r\n                    fontFamily: 'myFirstFont'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#1bb2f9',\r\n                    barBorderRadius: 50,\r\n                    borderWidth: 0,\r\n                    borderColor: '#333'\r\n                }\r\n            },\r\n            barGap: '0%',\r\n            barCategoryGap: '20%',\r\n            data: realCourseCnt,\r\n            zLevel: '2'\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-933860657","theme":"","layout":"","viewCount":2431,"userName":"176******95","commentCount":0,"starCount":19,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyJ6_JSwm.png?v=1535600823649","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"176******95"}}