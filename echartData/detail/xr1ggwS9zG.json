{"status":0,"data":{"cid":"xr1ggwS9zG","authorUid":"bd-1854960114","authorUserName":"文龍oo","title":"动态list","description":"柱状图实现动态列表","latestVersion":1,"alwaysLatest":1,"createTime":"2017-12-22T08:48:40.000Z","lastUpdateTime":"2017-12-22T08:48:40.000Z","auth":2,"uid":"bd-1854960114","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-22T08:48:40.000Z","code":"// app.title = '柱状图列表';\n// var dom = myChart.getDom();\n// dom.style.width = \"600px\";\n// dom.style.height = \"400px\";\n// dom.style.position = \"absolute\";\n// dom.style.left = \"50%\";\n// dom.style.top = \"50%\";\n// dom.style.transform = \"translateX(-50%) translateY(-50%)\";\n// myChart = echarts.init(dom);\nlet nameData = [];\nlet timeData = [];\nlet contentData = [];\nlet listData = [];\nlet len=36;\nfor (let i = 1; i < len; i++) {\n    nameData.push({\n        name: '方法I' + i,\n        value: 4\n    });\n    timeData.push({\n        name: '方法II' + i,\n        value: 4\n    });\n    contentData.push({\n        name: \"方法III\" +i,\n        value: 11\n    });\n    listData.push({\n        name: i+'',\n        value: 1\n    });\n}\noption = {\n    backgroundColor: \"#333\",\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    grid: {\n        top:'-2%',\n        left: '0%',\n        right: '0%',\n        bottom: '-5%',\n        containLabel: true\n    },\n    xAxis: {\n        show: false,\n        type: 'value'\n    },\n    yAxis: [{ \n        type: 'category',\n          position:'right',\n        inverse: true,\n        axisLine:{position:'right'},\n        show: false,\n        data: ['', '', '', '', '', '', '', '', '', '','']\n        }],\n    series: [{\n        name: '列表序列号',\n        type: 'bar',\n        stack: '总量',\n        label: {\n            normal: {\n                show: true,\n                position: 'insideLeft',\n                formatter: function(e) {\n                    if(e.name===''){\n                        return '';\n                    }\n                     return '{cirle|' +e.name + '}';\n                },\n                rich: {\n                    cirle: {\n                        width: 20,\n                        height: 20,\n                        borderRadius: 10,\n                        color: \"#fff\",\n                        align: \"center\",\n                        borderColor: \"orange\",\n                        borderWidth: 1,\n                        backgroundColor: \"orange\"\n                    }\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: \"rgb(172,63,36)\"\n            }\n        },\n        data: [{name:'',value:1,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        }}].concat(listData.slice(0,10))\n    }, {\n        name: '列表名',\n        type: 'bar',\n        stack: '总量',\n        label: {\n            normal: {\n                show: true,\n                position: 'inside',\n                formatter: function(e) {\n                    // console.log(e);\n                    return '{cirle|' + e.name + '}';\n                },\n                rich: {\n                    cirle: {\n                        color: \"#fff\",\n                        // width:100,\n                        // height:40,\n                        // backgroundColor:\"red\",\n                        // align:\"center\",\n                    }\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: \"rgb(172,63,36)\"\n            }\n        },\n        data: ([{ name: \"方法1\", value: 4,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(nameData.slice(0, 10))\n    }, {\n        name: '时长',\n        type: 'bar',\n        stack: '总量',\n        label: {\n            normal: {\n                show: true,\n                position: 'inside',\n                formatter: function(e) {\n                    // console.log(e);\n                    return '{cirle|' + e.name + '}';\n                },\n                rich: {\n                    cirle: {\n                        color: \"#fff\",\n                        // width:100,\n                        // height:40,\n                        // backgroundColor:\"red\",\n                        // align:\"center\",\n                    }\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: \"rgb(172,63,36)\"\n            }\n        },\n        data: ([{ name: \"方法2\", value: 4,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(timeData.slice(0, 10))\n    }, {\n        name: '列表内容',\n        type: 'bar',\n        stack: '总量',\n        label: {\n            normal: {\n                show: true,\n                position: 'inside',\n                formatter: function(e) {\n                    // console.log(e);\n                    let len=e.name.length;\n                    if(len>40){\n                        e.name=e.name.substring(0,40)+\"\\n\"+e.name.substring(40,len);\n                    }\n                    return '{cirle|' + e.name + '}';\n                },\n                rich: {\n                    cirle: {\n                        color: \"#fff\",\n                        width: 100,\n                        // height:40,\n                        // backgroundColor:\"red\",\n                        align: \"center\",\n                    }\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: \"rgb(172,63,36)\"\n            }\n        },\n        data:  ([{ name: \"方法3\", value: 11,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(contentData.slice(0, 10))\n    }]\n};\nmyChart.setOption(option);\nclearInterval(timeTicket);\nlet count1 = 0;\nlet count2 = 10;\nvar timeTicket = setInterval(function() {\n    count1++;\n    count2++;\n    count1 = count1>(len-11) ? 0 : count1;\n    count2 = count2>(len-1)? 10 : count2;\n    option.series[0].data =([{name: \"\",value: 1,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(listData.slice(count1, count2));\n    option.series[1].data =([{ name: \"方法1\", value: 4,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(nameData.slice(count1, count2));\n    option.series[2].data = ([{name:\"方法2\",value:4,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(timeData.slice(count1, count2));\n    option.series[3].data =([{name:\"方法3\",value:11,  itemStyle: {\n            normal: {\n                color: \"#000\"\n            }\n        },}]).concat(contentData.slice(count1, count2));\n    myChart.setOption(option);\n}, 1000); ","html":"","externalScripts":"","updaterUID":"bd-1854960114","theme":"","layout":"","viewCount":824,"userName":"文龍oo","commentCount":1,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1ggwS9zG.png?v=1513932520217","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"文龍oo"}}