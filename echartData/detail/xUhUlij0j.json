{"status":0,"data":{"cid":"xUhUlij0j","authorUid":"bd-3950882971","authorUserName":"麦***g","title":"温度计柱状图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-11-19T03:44:37.000Z","lastUpdateTime":"2019-11-19T03:44:37.000Z","auth":2,"uid":"bd-3950882971","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-19T05:20:44.000Z","code":"var sourceBar = {\n    \"itemData\": [\"正面表彰类\", \"中性类\", \"弄虚作假类\", \"公平公正类\", \"突发事件类\", \"测试类\"],\n    \"seriesData\": [980, 302, 150, 57, 231, 300]\n}\nvar itemData = sourceBar.itemData;\nvar seriesData = sourceBar.seriesData;\nvar tooltip = sourceBar.tooltip\nvar color = ['#00b9f6', '#38a97d', '#004eff', '#17c7e7', '#4e85ea', '#e49be9', '#078d9d', '#eca52a', '#ef9544', '#ea3b3b']\nvar data = {};\nfor (var k in itemData) {\n    data[itemData[k]] = seriesData[k];\n}\n\nvar xAxisData = [];\nvar dataArr = [];\nfor (var i in data) {\n    xAxisData.push(i);\n    dataArr.push(data[i]);\n}\n\noption = {\n    backgroundColor: '#142058',\n    grid: {\n        top: '25%',\n        left: '5%',\n        right: '10%',\n        bottom: '8%',\n        containLabel: true\n    },\n    tooltip: {//提示信息\n        show: \"true\",\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n            shadowStyle: {\n                color: 'rgba(112,112,112,0)',\n            },\n        },\n        formatter: function(params) {\n            var unit = params[0].name.substring(params[0].name.indexOf('(') + 1, params[0].name.indexOf(')'));\n            return params[0].name + '：' + params[0].value + '条数据';\n        },\n        backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n        padding: [8, 10], //内边距\n        extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n    },\n    xAxis: [{//x轴相关设置\n        show: true,\n        name: '来源',\n        nameTextStyle: {\n            fontSize: 14,\n            fontFamily: 'Microsoft YaHei',\n            color: '#fff'\n        },\n        type: 'category',\n        nameLocation: 'end',\n        nameGap: 8,\n        axisLabel: {\n            show:true,\n            fontSize: 16,\n            fontFamily: 'Microsoft YaHei',\n            color: \"#fff\",\n            interval: 0,\n            margin: 16,\n            formatter: function(params) {\n                if (params.length > 6) {\n                    params = params.substr(0, 6) + \"...\";\n                } else {\n                    params = params;\n\n                }\n                return params;\n            }\n        },\n        axisLine: {\n            show: true,\n            symbol: ['none', 'arrow'],\n            lineStyle: {\n                color: '#05edfc'\n            }\n        },\n        data: xAxisData\n    }, {\n        type: 'category',\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitArea: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        data: xAxisData\n    }, {\n        type: 'category',\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n         axisLabel: {\n            show:false,\n            // fontSize: 16,\n            // fontFamily: 'Microsoft YaHei',\n            color: \"#fff\",\n            // interval: 0,\n            // margin: 16,\n            // formatter: function(params) {\n            //     if (params.length > 6) {\n            //         params = params.substr(0, 6) + \"...\";\n            //     } else {\n            //         params = params;\n\n            //     }\n            //     return params;\n            // },\n        },\n        splitArea: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        data: xAxisData\n    }],\n    yAxis: {\n        type: 'value',\n        name: '数量',\n        nameTextStyle: {\n            fontSize: 14,\n            fontFamily: 'Microsoft YaHei',\n            color: '#fff'\n        },\n        minInterval: 1,\n        nameLocation: 'end',\n        nameGap: 10,\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            fontSize: 12,\n            fontFamily: 'Arial',\n            color: \"#fff\"\n        },\n        axisLine: {\n            show: true,\n            symbol: ['none', 'arrow'],\n            lineStyle: {\n                color: '#05edfc'\n            }\n        }\n    },\n    series: [{//中间的细柱条\n            type: 'bar',\n            stack: 1,\n            xAxisIndex: 0,\n            barWidth: 10,\n            barGap: 5,\n            z: 2,\n            data: function() {\n                var itemArr = [];\n                for (var i = 1; i < (dataArr.length + 1); i++) {\n                    var item = {\n                        value: dataArr[i - 1],\n                        itemStyle: {\n                            normal: {\n                                barBorderRadius: [50, 50, 0, 0],\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: color[translateColor(i) * 2 - 2]\n                                }, {\n                                    offset: 1,\n                                    color: color[translateColor(i) * 2 - 1]\n                                }]),\n                            }\n                        }\n                    };\n                    itemArr.push(item);\n                }\n                return itemArr;\n            }()\n        },\n        // {//顶部的圆点\n        //     type: 'scatter',\n        //     stack: 1,\n        //     symbolOffset: [0, 0], //相对于原本位置的偏移量\n        //     label: {\n        //         normal: {\n        //             show: false,\n        //         }\n        //     },\n        //     xAxisIndex: 2,\n        //     symbolSize: 10,\n        //     z: 2,\n        //     data: function() {\n        //         var itemArr = [];\n        //         for (var i = 1; i < (dataArr.length + 1); i++) {\n        //             var item = {\n        //                 value: 0,\n        //                 itemStyle: {\n        //                     normal: {\n        //                         borderColor: '#fff',\n        //                         borderWidth: 2,\n        //                         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n        //                             offset: 0,\n        //                             color: color[translateColor(i) * 2 - 2]\n        //                         }, {\n        //                             offset: 1,\n        //                             color: color[translateColor(i) * 2 - 1]\n        //                         }]),\n        //                     }\n        //                 }\n        //             };\n        //             itemArr.push(item);\n        //         }\n        //         return itemArr;\n        //     }()\n        // },\n        {//圆柱中的空隙部分\n            type: 'bar',\n            xAxisIndex: 1,\n            barGap: '140%',\n            data: dataArr,\n            barWidth: 22,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [50, 50, 0, 0],\n                    color: '#0e2147'\n                }\n            },\n            z: 1\n        },\n        {//柱状图的外层边框\n            type: 'bar',\n            xAxisIndex: 2,\n            barWidth: 25,\n            barGap: 1,\n            z: 0,\n            data: function() {\n                var itemArr = [];\n                for (var i = 1; i < (dataArr.length + 1); i++) {\n                    var item = {\n                        value: dataArr[i - 1],\n                        itemStyle: {\n                            normal: {\n                                barBorderRadius: [50, 50, 0, 0],\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: color[translateColor(i) * 2 - 2]\n                                }, {\n                                    offset: 1,\n                                    color: color[translateColor(i) * 2 - 1]\n                                }]),\n                            }\n                        }\n                    };\n                    itemArr.push(item);\n                }\n                return itemArr;\n            }()\n        },\n        {//底部圆圈部分\n            type: 'scatter',\n            hoverAnimation: false,\n            xAxisIndex: 2,\n            symbolOffset: [0, 40], //相对于原本位置的偏移量\n            symbolSize: 80,\n            z: 1,\n            data: function() {\n                var itemArr = [];\n                for (var i = 1; i < (dataArr.length + 1); i++) {\n                    var item = {\n                        value: 0,\n                        itemStyle: {\n                            normal: {\n                                color:'#42bfca',\n                                // color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                //     offset: 0,\n                                //     color: color[translateColor(i) * 2 - 2]\n                                // }, {\n                                //     offset: 1,\n                                //     color: color[translateColor(i) * 2 - 1]\n                                // }]),\n                            }\n                        }\n                    };\n                    itemArr.push(item);\n                }\n                return itemArr;\n            }()\n        }\n    ]\n};\n\nfunction translateColor(index) {\n    if (index > 5) {\n        return translateColor(index - 5)\n    }\n    return index\n}","html":"","externalScripts":"","updaterUID":"bd-3950882971","theme":"","layout":"","viewCount":177,"userName":"麦***g","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xUhUlij0j.png?v=1574140844459","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter","tooltip"],"customTags":[],"updaterUserName":"麦***g"}}