{"status":0,"data":{"cid":"xSHh34mXx0","authorUid":"bd-1664736122","authorUserName":"无心ingsmile","title":"双value柱形图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-05T02:59:12.000Z","lastUpdateTime":"2019-05-05T02:59:12.000Z","auth":2,"uid":"bd-1664736122","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-05T02:59:12.000Z","code":"\n/**\n* data 样例数据\n*/\n// var data = [\n//     [10, 16, 3, 'A'], \n//     [17, 18, 15, 'B'], \n//     [18, 26, 12, 'C'], \n//     [26, 32, 22, 'D'], \n//     [32, 56, 7, 'E'], \n//     [56, 62, 17, 'F']\n// ];\n\n\nlet sourceDataX = [30, 40, 60, 20, 66];\nlet sourceDataY = [10, 12, 16, 12, 6];\nlet saleName = ['赵', '钱', '孙', '李', '周', '吴'];\nlet data = [];\nlet baseStart = 0;\nlet barGap = 20;\n\nlet xStartMemory = 0;\nlet xEndMemory = 0;\n\nsourceDataX.forEach((item, index) => {\n    xStartMemory += barGap + xEndMemory;\n    if (data.length === 0) {\n        data.push([barGap, barGap * (index+1) + xEndMemory + item, sourceDataY[index], saleName[index]]);\n        xEndMemory += item;\n    } else {\n        data.push([barGap * (index + 1)  + xEndMemory, barGap * (index+1) + xEndMemory + item, sourceDataY[index], saleName[index]]);\n        xEndMemory += item;\n    }\n});\n//sourceDataX[index], sourceDataY[index], saleName[index]\nconsole.log(data);\n\n\nvar colorList = ['#466de2', '#c0504d', '#9bbb59', '#604a7b', '#948a54', '#e46c0b'];\n\ndata = echarts.util.map(data, function (item, index) {\n    return {\n        value: item,\n        itemStyle: {\n            normal: {\n                color: colorList[index]\n            }\n        }\n    };\n});\n\nfunction renderItem(params, api) {\n    var yValue = api.value(2);\n    var start = api.coord([api.value(0), yValue]);\n    var size = api.size([api.value(1) - api.value(0), yValue]);\n    var style = api.style({\n        fill: '#466de2'\n    });\n    return {\n        type: 'rect',\n        shape: {\n            x: start[0],\n            y: start[1],\n            width: size[0],\n            height: size[1]\n        },\n        style: style\n    };\n}\n\noption = {\n    title: {\n        text: 'Profit',\n        left: 'center'\n    },\n    tooltip: {\n    },\n    xAxis: [\n        {\n            \n            show: false,\n            scale: true,\n            // type: 'categories',\n            // data: ['1', '2', '3', '4', '5', '6']\n        },\n        {\n            show: true,\n            data: ['1', '2', '3', '4', '5', '6'],\n            position: 'bottom',\n            offset: 10\n        }\n    ],\n    yAxis: {\n    },\n    series: [{\n        type: 'custom',\n        renderItem: renderItem,\n        label: {\n            normal: {\n                show: true,\n                position: 'top'\n            }\n        },\n        dimensions: ['from', 'to', 'profit'],\n        encode: {\n            x: [0, 1],\n            y: 2,\n            tooltip: [0, 1, 2],\n            itemName: 3\n        },\n        data: data\n    }]\n};\n\n","html":"","externalScripts":"","updaterUID":"bd-1664736122","theme":"","layout":"","viewCount":23,"userName":"无心ingsmile","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSHh34mXx0.png?v=1557025152194","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom","title","tooltip"],"customTags":[],"updaterUserName":"无心ingsmile"}}