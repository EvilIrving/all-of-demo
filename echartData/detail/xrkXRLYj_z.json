{"status":0,"data":{"cid":"xrkXRLYj_z","authorUid":"bd-2870690863","authorUserName":"蓝***3","title":"等分进度展示","description":"根据计算得出工作完成进展，或者同类情况的完成进度展示","latestVersion":13,"alwaysLatest":1,"createTime":"2018-03-06T03:11:06.000Z","lastUpdateTime":"2018-03-06T03:11:06.000Z","auth":1,"uid":"bd-2870690863","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":13,"parentVersion":12,"echartsVersion":"4.2.1","versionCreateTime":"2019-04-03T06:00:17.000Z","code":"var equalPartcalc = function(total, alreadyCompleted, equalPart) {\r\n    var data = [];\r\n    var average = Math.floor(total / equalPart * 100) / 100;\r\n    var alreadyLoop = alreadyCompleted / average;\r\n    for (var i = 1; i <= equalPart; i++) {\r\n        if (i <= alreadyLoop) {\r\n            data.push({\r\n                value: average,\r\n                name: \"已完成工作\",\r\n                label: {\r\n                    position: 'center',\r\n                    fontSize: 18,\r\n                    color: '#63EBFF',\r\n                    fontFamily: 'Silom',\r\n                    formatter: function(params) {\r\n                      return alreadyCompleted + '%'\r\n                    },\r\n                }\r\n            });\r\n        }\r\n        if (i > alreadyLoop && i <= equalPart) {\r\n            data.push({\r\n                value: average,\r\n                name: \"未完成工作\",\r\n                label: {\r\n                    show: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return data;\r\n};\r\n\r\nvar datas = equalPartcalc(100, 98.3, 50);\r\n\r\noption = {\r\n    backgroundColor: \"#010219\",\r\n    legend: {\r\n        show: false,\r\n        itemGap: 12,\r\n        data: ['已完成工作', '未完成工作']\r\n    },\r\n    series: [{\r\n        name: \"工作进度\",\r\n        type: \"pie\",\r\n        radius: [\"40%\", \"60%\"],\r\n        center: [\"50%\", \"50%\"],\r\n        clockwise: true,\r\n        data: datas,\r\n        color: [\"#14A5BB\", \"#05293D\"],\r\n        hoverAnimation: false,\r\n        legendHoverLink: false,\r\n        hoverOffset: 0,\r\n        label: {\r\n            normal: {\r\n                normal: {\r\n                    position: 'center'\r\n                }\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 4,\r\n                borderColor: \"#010219\"\r\n            },\r\n            emphasis: {\r\n                borderWidth: 0,\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n            }\r\n        }\r\n    },{\r\n        value:20,\r\n        name: '占位',\r\n        type: \"pie\",\r\n        label: {\r\n          normal: {\r\n              position: 'center',\r\n            formatter: '\\n月完成率',\r\n            textStyle: {\r\n              color: '#ffffff',\r\n              fontSize: 14\r\n            }\r\n          }\r\n        },\r\n        itemStyle:{\r\n          normal:{\r\n            color: 'rgba(255,255,255,.4)'\r\n          }\r\n        },\r\n    }],\r\n\r\n    //backgroundColor: \"#fff\"\r\n};","html":"","externalScripts":"","updaterUID":"bd-3643624805","theme":"","layout":"","viewCount":457,"userName":"蓝***3","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkXRLYj_z.png?v=1554271217688","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":[],"updaterUserName":"994j"}}