{"status":0,"data":{"cid":"xyhlnwrtcs","authorUid":"bd-1359161935","authorUserName":"t***e","title":"地图效果","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-11T07:04:17.000Z","lastUpdateTime":"2021-10-11T07:10:56.000Z","auth":2,"uid":"bd-1359161935","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-10-11T07:10:56.000Z","code":"var geoCoordMap = [\r\n    { name: '上海', value: 100, location: [121.4648, 31.2891], img: 'https://www.makeapie.com/asset/get/s/data-1619059442567-s5l7-f8Eu9.png' },\r\n    { name: '东莞', value: 100, location: [113.8953, 22.901], img: 'https://www.makeapie.com/asset/get/s/data-1619059442567-s5l7-f8Eu9.png' },\r\n    { name: '东营', value: 100, location: [118.7073, 37.5513], img: 'https://www.makeapie.com/asset/get/s/data-1619059442567-s5l7-f8Eu9.png' }\r\n  ];\r\n\r\n  var img2 = 'image://asset/get/s/data-1619318279159-o6ZbTGoO0.png';\r\n\r\n  var series = [];\r\n  geoCoordMap.forEach(function (item, i) {\r\n    //console.log(item)\r\n    series.push(\r\n      {\r\n        name: item.name,\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        rippleEffect: {\r\n          scale: 10,\r\n          brushType: 'stroke',\r\n        },\r\n        showEffectOn: 'render',\r\n        symbol: 'circle',\r\n        symbolSize: [10, 5],\r\n        label: {\r\n          normal: {\r\n            show: true,\r\n            position: 'right',\r\n            formatter: '{b}',\r\n            color: '#fff'\r\n          }\r\n        },\r\n        itemStyle: {\r\n          normal: {\r\n            shadowColor: '#0ff',\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowOffsetY: 0,\r\n            color: function (params) {\r\n              var colorList = [\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#64fbc5',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#018ace',\r\n                  },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#64fbc5',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#018ace',\r\n                  },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#168e6d',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#c78d7b',\r\n                  },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#61c0f1',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#6f2eb6',\r\n                  },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#168e6d',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#c78d7b',\r\n                  },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, 0, 0, 0, [\r\n                  {\r\n                    offset: 0,\r\n                    color: '#61c0f1',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: '#6f2eb6',\r\n                  },\r\n                ]),\r\n              ];\r\n              return colorList[params.dataIndex];\r\n            },\r\n          },\r\n        },\r\n        data: [{\r\n          name: item.name,\r\n          value: item.location,\r\n\r\n        }]\r\n      });\r\n\r\n\r\n    series.push({\r\n      type: 'scatter',\r\n      coordinateSystem: 'geo',\r\n      itemStyle: {\r\n        color: '#f00',\r\n      },\r\n      symbol: function (value, params) {\r\n        console.log(params)\r\n        return params.data.img;\r\n      },\r\n      symbolSize: [32, 41],\r\n      symbolOffset: [0, -20],\r\n      z: 9999,\r\n      data: [{\r\n        name: item.name,\r\n        value: item.location,\r\n        datas: item.value,\r\n        img: 'image://asset/get/s/data-1619059442567-s5l7-f8Eu9.png',\r\n      }]\r\n    })\r\n\r\n    series.push({\r\n      type: 'scatter',\r\n      coordinateSystem: 'geo',\r\n      label: {\r\n        normal: {\r\n          show: true,\r\n          formatter: function (params) {\r\n            var name = params.name;\r\n            var value = params.data.datas;\r\n            var text = `{fline|${value}}\\n{tline|${name}}`;\r\n            return text;\r\n          },\r\n          color: '#fff',\r\n          rich: {\r\n            fline: {\r\n              padding: [0, 25],\r\n              color: '#fff',\r\n              textShadowColor: '#030615',\r\n              textShadowBlur: '0',\r\n              textShadowOffsetX: 1,\r\n              textShadowOffsetY: 1,\r\n              fontSize: 14,\r\n              fontWeight: 400,\r\n            },\r\n            tline: {\r\n              padding: [0, 27],\r\n              color: '#ABF8FF',\r\n              fontSize: 12,\r\n            },\r\n          },\r\n        },\r\n        emphasis: {\r\n          show: true,\r\n        },\r\n      },\r\n      itemStyle: {\r\n        color: '#00FFF6',\r\n      },\r\n      symbol: img2,\r\n      symbolSize: [100, 50],\r\n      symbolOffset: [0, -60],\r\n      z: 999,\r\n      data: [{\r\n        name: item.name,\r\n        value: item.location,\r\n        datas: item.value,\r\n      }],\r\n    });\r\n  });\r\n\r\n\r\n  var option = {\r\n    backgroundColor: '#000',\r\n    title: {\r\n      text: '模拟',\r\n      subtext: 'test',\r\n      left: 'center',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n\r\n    geo: {\r\n      map: 'china',\r\n      label: {\r\n        emphasis: {\r\n          show: true,\r\n          color: '#fff'\r\n        }\r\n      },\r\n      roam: true,\r\n      itemStyle: {\r\n        normal: {\r\n          areaColor: '#00186E',\r\n          borderColor: '#195BB9',\r\n          borderWidth: 1,\r\n        },\r\n        emphasis: {\r\n          areaColor: '#2B91B7'\r\n        }\r\n      }\r\n    },\r\n    series: series\r\n  };","html":"","externalScripts":"","updaterUID":"bd-1359161935","theme":"","layout":"","viewCount":0,"userName":"t***e","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyhlnwrtcs.png?v=1633936256986","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"t***e"}}