{"status":0,"data":{"cid":"xQIM2epY9T","authorUid":"obd-oCjhaXFbRoGEF9SHhuXZpbFC4UN2l3W","authorUserName":"188******75","title":"circle","description":"shopping","latestVersion":2,"alwaysLatest":0,"createTime":"2021-09-28T10:23:45.000Z","lastUpdateTime":"2021-09-29T01:17:24.000Z","auth":2,"uid":"obd-oCjhaXFbRoGEF9SHhuXZpbFC4UN2l3W","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-29T01:17:24.000Z","code":"var list = [10, 10, 10, 25];\nlet sum = 0\nlist.forEach((item,index)=>{\n    sum=sum+item\n})\nlet series=[]\nlet obj={}\nlet chartList=[{name:'机械电子制造业',value:10},{name:'轻纺工业',value:10},{name:'资源加工工业',value:10},{name:'其他',value:25}]\nlet maxAngleNum = (sum * 360) / 270;\nvar namelist = ['机械电子制造业', '轻纺工业', '资源加工工业', '其他'];\nlet colorList = ['#BFA27C', '#328CD9', '#1FB4A7', '#424CB9'];\n   chartList.forEach((item, index) => {\n       //文字区域显示样式\n        // obj['a'+index]={\n        //         color:colorList[index],\n        //         align: \"center\",\n        //         padding:[0,0,0,5],\n        //   }\n          let data = list.map((ele, i) => {\n            return 0;\n          });\n          let bgData = list.map((ele, i) => {\n            return 0;\n          });\n          data[index] = item.value;\n          bgData[index] = sum;\n          series.push({\n            type: \"bar\",\n            barWidth: \"50%\",\n            data: data,\n            coordinateSystem: \"polar\",\n            name: item.name,\n            stack: \"a\",\n            roundCap: true,\n            itemStyle: {\n             color: {\n                type: \"linear\",\n                x: 0,\n                y: 0,\n                x2: 0,\n                y2: 1,\n                colorStops: [\n                  {\n                    offset: 0,\n                    color: colorList[index], // 0% 处的颜色\n                  },\n                  {\n                    offset: 1,\n                    color: \"red\", // 100% 处的颜色\n                  },\n                ],\n              },\n              barBorderRadius: 5,\n            },\n          });\n          series.push({\n            type: \"bar\",\n            barWidth: \"50%\", //和 radius: [\"27%\", \"65%\"],控制圆的大小，距离\n            data: bgData,\n            coordinateSystem: \"polar\",\n            showSymble: true,\n            barGap: \"-100%\",\n            name: item.name + \"1\",\n            z: 0,\n            stack: \"b\",\n            roundCap: true,\n            itemStyle: {\n              color: \"#16294C\",\n              barBorderRadius: 5,\n            },\n          });\n    });\noption = {\n    backgroundColor: 'black',\n    angleAxis: {\n        type: 'value',\n        startAngle: 90,\n        clockwise: false, // 逆时针\n        max: maxAngleNum,\n        min: 0,\n        // max: 145,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    radiusAxis: {\n        type: 'category',\n        data: namelist,\n        z: 100,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            show: true,\n            // inside: true,\n            align: 'left',\n            verticalAlign: 'middle',\n            margin: -20,\n            fontSize: 5,\n              formatter: function (value, index) {\n                console.log(value);\n                return '———' + value + ((list[index] * 100) / sum + '%');\n            },\n        //   rich: {\n        //       ...obj,          \n        //       b: {\n        //         color: \"#fff\",\n        //         align: \"center\",\n        //         padding: [0, 5, 0, 5],\n        //         fontSize: this.fontSize,\n        //       },\n        //       c: {\n        //         color: \"#fff\",\n        //         align: \"center\",\n        //         fontSize: this.fontSize,\n        //       },\n        //       d: {\n        //         color: \"#fff\",\n        //         align: \"center\",\n        //         padding: [0, 5, 0, 0],\n        //         fontSize: this.fontSize,\n        //       },\n        //     },\n            // formatter: (index) => {\n            //   return `{a${index}|— — —}{b|${this.nameList[index]}}{d|-}{c|${(\n            //     (this.valueList[index] * 100) /sum).toFixed(1)}%}`;\n            // },\n            textStyle: {\n                color: '#96F5F6',\n            },\n            interval: 0,\n        },\n    },\n    polar: {\n        radius: ['27%', '65%'],\n        center: ['50%', '50%'],\n    },\n    tooltip: {\n        show: true,\n    },\n    series:series\n    // series: [\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%', //和 radius: [\"27%\", \"65%\"],控制圆的大小，距离\n    //         data: [10, 0, 0, 0],//对应list数据\n    //         coordinateSystem: 'polar',\n    //         showSymble: true,\n    //         barGap: '-100%',\n    //         name: '其他',\n    //         stack: 'a',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: '#BFA27C',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%', //和 radius: [\"27%\", \"65%\"],控制圆的大小，距离\n    //         data: [total, 0, 0, 0],\n    //         coordinateSystem: 'polar',\n    //         showSymble: true,\n\n    //         name: '其他1',\n    //         z: 0,\n    //         stack: 'b',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: 'red',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         data: [0, 10, 0, 0],//对应list数据\n    //         coordinateSystem: 'polar',\n    //         name: '资源加工工业',\n    //         stack: 'a',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: '#328CD9',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         z: 0,\n    //         data: [0, total, 0, 0],\n    //         coordinateSystem: 'polar',\n    //         // showSymble: true,\n    //         barGap: '-100%',\n    //         name: '资源加工工业1',\n    //         stack: 'b',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: 'red',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         data: [0, 0, 10, 0],//对应list数据\n    //         coordinateSystem: 'polar',\n    //         name: '轻纺工业',\n    //         stack: 'a',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: '#1FB4A7',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         z: 0,\n    //         data: [0, 0, total, 0],\n    //         coordinateSystem: 'polar',\n    //         // showSymble: true,\n    //         barGap: '-100%',\n    //         name: '轻纺工业1',\n    //         stack: 'b',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: 'red',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         data: [0, 0, 0, 25],//对应list数据\n    //         coordinateSystem: 'polar',\n    //         name: '机械电子制造业',\n    //         stack: 'a', //相同的stack值可以堆叠放置\n    //         roundCap: true, //环形柱条两侧使用圆弧效果\n\n    //         itemStyle: {\n    //             color: '#424CB9',\n    //             barBorderRadius: 0,\n    //         },\n    //     },\n    //     {\n    //         type: 'bar',\n    //         barWidth: '40%',\n    //         z: 0,\n    //         data: [0, 0, 0, total],\n    //         coordinateSystem: 'polar',\n    //         // showSymble: true,\n    //         barGap: '-100%',\n    //         name: '机械电子制造业1',\n    //         stack: 'b',\n    //         roundCap: true,\n    //         itemStyle: {\n    //             color: 'red',\n    //             barBorderRadius: 5,\n    //         },\n    //     },\n    // ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oCjhaXFbRoGEF9SHhuXZpbFC4UN2l3W","theme":"","layout":"","viewCount":0,"userName":"188******75","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQIM2epY9T.png?v=1632878244686","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","tooltip"],"customTags":[],"updaterUserName":"188******75"}}