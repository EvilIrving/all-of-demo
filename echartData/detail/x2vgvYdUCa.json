{"status":0,"data":{"cid":"x2vgvYdUCa","authorUid":"obd-oMuVydhiODz9BKaEZQuuoCN7tfXO42L","authorUserName":"s***m","title":"自定义指针仪表盘","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-01T06:46:51.000Z","lastUpdateTime":"2020-12-01T06:46:51.000Z","auth":2,"uid":"obd-oMuVydhiODz9BKaEZQuuoCN7tfXO42L","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-01T06:46:51.000Z","code":"   var currvalue = 450;\r\n   var maxValue = 4000;\r\n   var title = '收入比重';\r\n\r\n   var percent = (currvalue / maxValue * 100).toFixed(2);\r\n   var bl = maxValue / 100;\r\n   option = {\r\n       backgroundColor: '#010e28',\r\n       series: [{\r\n               name: '刻度',\r\n               type: 'gauge',\r\n               radius: '80%',\r\n               center: ['50%', '70%'],\r\n               min: 0, //最小刻度\r\n               max: 100, //最大刻度\r\n               splitNumber: 8, //刻度数量\r\n               startAngle: 190,\r\n               endAngle: -10,\r\n               axisLine: {\r\n                   show: true,\r\n                   lineStyle: {\r\n                       width: 1,\r\n                       color: [\r\n                           [1, 'rgba(0,0,0,0)']\r\n                       ]\r\n                   }\r\n               }, //仪表盘轴线\r\n               axisLabel: {\r\n                   show: true,\r\n                   color: '#4c647c',\r\n                   distance: 30,\r\n                   formatter: function(v) {\r\n                       switch (v + '') {\r\n                           case '0':\r\n                               return '0';\r\n                           case '12.5':\r\n                               return 12.5 * bl;\r\n                           case '25':\r\n                               return 25 * bl;\r\n                           case '37.5':\r\n                               return 37.5 * bl;\r\n                           case '50':\r\n                               return 50 * bl;\r\n                           case '62.5':\r\n                               return 62.5 * bl;\r\n                           case '75':\r\n                               return 75 * bl;\r\n                           case '87.5':\r\n                               return 87.5 * bl;\r\n                           case '100':\r\n                               return 100 * bl;\r\n                       }\r\n                   }\r\n               }, //刻度标签。\r\n               axisTick: {\r\n                   show: true,\r\n                   splitNumber: 10,\r\n                   lineStyle: {\r\n                       color: '#4c647c',\r\n                       width: 1,\r\n                   },\r\n                   length: -8\r\n               }, //刻度样式\r\n               splitLine: {\r\n                   show: true,\r\n                   length: -20,\r\n                   lineStyle: {\r\n                       color: '#4c647c'\r\n                   }\r\n               }, //分隔线样式\r\n               detail: {\r\n                   show: false\r\n               },\r\n               pointer: {\r\n                   show: false\r\n               }\r\n           },\r\n           {\r\n\r\n               name: '税收比重',\r\n               type: 'gauge',\r\n               radius: '98%',\r\n               center: ['50%', '70%'],\r\n\r\n               splitNumber: 0, //刻度数量\r\n               startAngle: 190,\r\n               endAngle: -10,\r\n               axisLine: {\r\n                   show: true,\r\n                   lineStyle: {\r\n                       width: 5,\r\n                       color: [\r\n                           [\r\n                               1, new echarts.graphic.LinearGradient(\r\n                                   0, 0, 1, 0, [{\r\n                                           offset: 0,\r\n                                           color: '#4e6be3'\r\n                                       },\r\n                                       {\r\n                                           offset: 1,\r\n                                           color: '#23b4f9'\r\n                                       }\r\n                                   ]\r\n                               )\r\n                           ]\r\n                       ]\r\n                   }\r\n               },\r\n               //分隔线样式。\r\n               splitLine: {\r\n                   show: false,\r\n               },\r\n               axisLabel: {\r\n                   show: false\r\n               },\r\n               axisTick: {\r\n                   show: false\r\n               },\r\n               pointer: {\r\n                   show: false\r\n               },\r\n               title: {\r\n                   show: true,\r\n                   offsetCenter: [0, '40%'], // x, y，单位px\r\n                   textStyle: {\r\n                       color: '#73f3f5', //标题颜色\r\n                       fontSize: 32\r\n                   }\r\n               },\r\n               //仪表盘详情，用于显示数据。\r\n               detail: {\r\n                   show: true,\r\n                   offsetCenter: [0, 0],\r\n                   color: '#d5b16f', //指标值颜色\r\n                   formatter: function(params) {\r\n                       // var params = params.toFixed(2)\r\n                       return params + '%'\r\n\r\n                   },\r\n                   textStyle: {\r\n                       fontSize: 48\r\n                   }\r\n               },\r\n               data: [{\r\n                   name: title,\r\n                   value: percent\r\n               }]\r\n           },\r\n           {\r\n               type: 'pie',\r\n               radius: [\"79%\", \"91%\"],\r\n               center: ['50%', '70%'],\r\n               animation: false,\r\n               label: {\r\n                   show: false,\r\n               },\r\n               startAngle: 190 - (percent / 100) * 200 + 1.5,\r\n               color: ['#d5b16f', 'rgba(0,0,0,0)'],\r\n               itemStyle: {\r\n                   shadowColor: '#d5b16f',\r\n                   shadowBlur: 15,\r\n               },\r\n               data: [{\r\n                   value: 3,\r\n                   name: \"指针\"\r\n               }, {\r\n                   value: 357,\r\n                   name: \"空白\"\r\n               }],\r\n           }, {\r\n               type: 'pie',\r\n               radius: [\"50%\", \"51%\"],\r\n               center: ['50%', '70%'],\r\n               animation: false,\r\n               label: {\r\n                   show: false,\r\n               },\r\n               startAngle: 200,\r\n               itemStyle: {\r\n                   shadowColor: '#73f3f5', //中心渐变颜色\r\n                   shadowBlur: 30,\r\n               },\r\n               data: [{\r\n                   value: 220,\r\n                   name: \"指针\",\r\n                   itemStyle: {\r\n                       color: '#010e28'\r\n                   }\r\n               }, {\r\n                   value: 140,\r\n                   name: \"空白\",\r\n                   itemStyle: {\r\n                       color: 'rgba(0,0,0,0)'\r\n                   }\r\n               }],\r\n           }\r\n       ]\r\n   };","html":"","externalScripts":"","updaterUID":"obd-oMuVydhiODz9BKaEZQuuoCN7tfXO42L","theme":"","layout":"","viewCount":269,"userName":"s***m","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2vgvYdUCa.png?v=1606805211222","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","series-pie"],"customTags":[],"updaterUserName":"s***m"}}