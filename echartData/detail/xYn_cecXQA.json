{"status":0,"data":{"cid":"xYn_cecXQA","authorUid":"obd-o0h9rBjvPJnbIZ82VsPELKGoO3dMEF7","authorUserName":"n***u","title":"通辽市地图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-03-25T02:39:46.000Z","lastUpdateTime":"2021-03-25T02:39:46.000Z","auth":2,"uid":"obd-o0h9rBjvPJnbIZ82VsPELKGoO3dMEF7","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-25T02:39:46.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1616638094708-G9hbJf2iR.json\";\n\nvar center = {\n    \"科尔沁区\": [122.264042, 43.617422],\n    \"科尔沁左翼中旗\": [123.313873, 44.127166],\n    \"科尔沁左翼后旗\": [122.355155, 42.954564],\n    \"开鲁县\": [121.308797, 43.602432],\n    \"库伦旗\": [121.774886, 42.734692],\n    \"奈曼旗\": [120.662543, 42.84685],\n    \"扎鲁特旗\": [120.905275, 44.555294],\n    \"霍林郭勒市\": [119.657862, 45.532361]\n}\nvar option = null;\n$.get(uploadedDataURL, function(json) {\n    echarts.registerMap('js', json);\n    option = {\n        backgroundColor: '#020933',\n        title: {\n            top: 20,\n            text: '通辽市地图',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#ffffff'\n            }\n        },\n\n        tooltip: {\n            trigger: 'item',\n            formatter: function(params) {\n                if (typeof(params.value)[2] == \"undefined\") {\n                    return params.name + ' : ' + params.value;\n                } else {\n                    return params.name + ' : ' + params.value[2];\n                }\n            }\n        },\n        visualMap: {\n            show: false,\n            max: 100,\n            seriesIndex: [3],\n            inRange: {\n                color: ['#A5DCF4', '#006edd']\n            }\n        },\n        geo: [{\n            map: 'js',\n            roam: false, //是否允许缩放\n            zoom: 1.1, //默认显示级别\n            scaleLimit: {\n                min: 0,\n                max: 3\n            }, //缩放级别\n            itemStyle: {\n                normal: {\n                    areaColor: 'transparent',\n                    borderColor: '#3fdaff',\n                    borderWidth: 2,\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 30\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                }\n            },\n            tooltip: {\n                show: false\n            }\n        }],\n        series: [{\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                z: 5,\n                data: [],\n                symbolSize: 14,\n                label: {\n                    normal: {\n                        show: true,\n                        formatter: function(params) {\n                            return '{fline|地点：' + params.data.city + '}\\n{tline|' + (params.data.info || '发生xx集件') + '}';\n                        },\n                        position: 'top',\n                        backgroundColor: 'rgba(233,63,66,.9)',\n                        padding: [0, 0],\n                        borderRadius: 3,\n                        lineHeight: 32,\n                        color: '#ffffff',\n                        rich: {\n                            fline: {\n                                padding: [0, 10, 10, 10],\n                                color: '#ffffff'\n                            },\n                            tline: {\n                                padding: [10, 10, 0, 10],\n                                color: '#ffffff'\n                            }\n                        }\n                    },\n                    emphasis: {\n                        show: true\n                    }\n                },\n                itemStyle: {\n                    color: '#e93f42',\n                }\n            },\n\n            //地图\n            {\n                type: 'map',\n                mapType: 'js',\n                geoIndex: -1,\n                zoom: 1.1, //默认显示级别\n                label: {\n                    show: true,\n                    color: '#ffffff',\n                    emphasis: {\n                        color: 'white',\n                        show: false\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        borderColor: '#2980b9',\n                        borderWidth: 1,\n                        areaColor: '#12235c'\n                    },\n                    emphasis: {\n                        areaColor: '#FA8C16',\n                        borderWidth: 0,\n                        color: 'green'\n                    }\n                },\n                data: Object.keys(center).map(name => {\n                    return {\n                        name: name,\n                        value: Math.random() * 100\n                    }\n                })\n            }\n        ]\n    };\n    myChart.setOption(option);\n});\nvar timer = setInterval(() => {\n    //数据情况重绘，清除formatter移动效果，也可根据自身需求是否需要，删除这两行代码\n    /*option.series[seriesjson[runidx].createType-1].data = [];\n    myChart.setOption(option, true);*/\n    for (var i = 0; i < 3; i++) {\n        option.series[i].data = [];\n    }\n    var cityIndex = Math.floor(Math.random() * 13);\n    var runidx = Math.floor(Math.random() * 3);\n    var coordCity = Object.keys(center)[cityIndex];\n    var coord = center[coordCity];\n    option.series[runidx].data = [{\n        city: coordCity,\n        value: coord\n    }];\n    // console.log(option.series[runidx].data)\n    // option.series[4].data = option.series[4].data.sort(function(a,b){\n    //     return b.value-a.value;\n    // });\n    myChart.setOption(option, true);\n}, Math.floor(Math.random() * 10000) + 3000);","html":"","externalScripts":"","updaterUID":"obd-o0h9rBjvPJnbIZ82VsPELKGoO3dMEF7","theme":"","layout":"","viewCount":107,"userName":"n***u","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYn_cecXQA.png?v=1616639987115","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"n***u"}}