{"status":0,"data":{"cid":"xOjd7Ck4_m","authorUid":"obd-o0SPFhHBmPPNuxCtGkgS025fSIw5FFS","authorUserName":"幸***屁","title":"实线加虚线-折线图表","description":"实线加虚线-折线图表","latestVersion":5,"alwaysLatest":0,"createTime":"2021-10-20T13:15:26.000Z","lastUpdateTime":"2021-10-21T08:17:24.000Z","auth":2,"uid":"obd-o0SPFhHBmPPNuxCtGkgS025fSIw5FFS","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-21T08:17:24.000Z","code":"let bgColor = '#3b5c5f';\nlet color = ['#0089fe', '#0089fe', '#2DD9FF', '#FF515A', '#8B5CFF', '#00CA69'];\nlet echartData = [\n    {\n        name: '10/1',\n        value1: 100,\n        value2: 233,\n        value3: '',\n        value4: 290,\n    },\n    {\n        name: '10/2',\n        value1: 138,\n        value2: 233,\n\n        value3: '',\n        value4: 290,\n    },\n    {\n        name: '10/3',\n        value1: 350,\n        value2: 200,\n\n        value3: '',\n        value4: 290,\n    },\n    {\n        name: '10/4',\n        value1: 173,\n        value2: 180,\n\n        value3: '',\n        value4: 290,\n    },\n    {\n        name: '今日',\n        value1: 180,\n        value2: 199,\n        value3: 199,\n        value4: 290,\n    },\n    {\n        name: '10/6',\n        value1: 150,\n        value2: '',\n        value3: 110,\n        value4: 290,\n    },\n    {\n        name: '10/7',\n        value1: 180,\n        value2: '',\n        value3: 150,\n        value4: 290,\n    },\n    {\n        name: '10/8',\n        value1: 230,\n        value2: '',\n        value3: 120,\n        value4: 290,\n    },\n];\n\nlet xAxisData = echartData.map((v) => v.name);\n\nlet yAxisData1 = echartData.map((v) => v.value1);\n\nlet yAxisData2 = echartData.map((v) => v.value2);\n\nlet yAxisData3 = echartData.map((v) => v.value3);\nlet yAxisData4 = echartData.map((v) => v.value4);\n\nconst hexToRgba = (hex, opacity) => {\n    let rgbaColor = '';\n    let reg = /^#[\\da-f]{6}$/i;\n    if (reg.test(hex)) {\n        rgbaColor = `rgba(${parseInt('0x' + hex.slice(1, 3))},${parseInt('0x' + hex.slice(3, 5))},${parseInt(\n            '0x' + hex.slice(5, 7)\n        )},${opacity})`;\n    }\n    return rgbaColor;\n};\n\noption = {\n    color: color,\n    legend: {\n      icon: 'roundRect',\n      top: 0,\n      right: 0,\n      textStyle: {\n        fontSize: 12,\n        color: '#A0C8F6',\n      },\n\n      itemHeight: 5.33,\n      itemWidth: 30,\n      data: [{\n        name: '今年',\n        itemStyle: {\n          color:'#0089fe'\n        },\n      }\n        , {\n        name: '去年',\n        itemStyle: {\n          color: '#2DD9FF'\n        },\n      }],\n    },\n    tooltip: {\n      trigger: 'axis',\n      backgroundColor: 'rgba(0, 0, 0, 0.6);',\n      borderColor: 'rgba(0, 0, 0, 0.6);',\n      padding: [0, 8, 0, 8],\n      formatter: function (params) {\n        let html = '';\n        params.forEach((item) => {\n\n          const { seriesName, value, name, seriesIndex } = item;\n          if (html === '') {\n            html += `<span style=\"color:#fff;font-size: 10px\">${name}</span></br>`\n          }\n\n          // 没有值,且特殊series不做tooltip展示\n          if ((seriesName == '今年' && !value) || seriesName === '警戒值' || seriesName === '警戒值Y轴刻度值') {\n            html += '';\n          } else if (\n            // 今日为今年数据的结束以及预测的开始,只展示今年的数据,seriesIndex对应 今年预测虚线部分series\n            seriesIndex == '2' && value && name === '今日'\n          ) {\n            html += '';\n          } else {\n            html += `<span style=\"color:#fff;font-size: 9px\">${item.seriesName} :</span>   <span style=\"color:${color[item.componentIndex]};font-weight:bold;font-size: 12px\">${item.value}</span> </br>`;\n          }\n        });\n\n        return html;\n      },\n    },\n    grid: {\n      top: '18%',\n      right: '2%',\n      left: '2%',\n      containLabel: true,\n      bottom: 2,\n    },\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: false,\n        axisLabel: {\n          formatter: '{value}',\n          textStyle: {\n            color: '#B0CBEC',\n          },\n          interval: 0,\n          padding: [0, 0, 0, -20],\n          fontFamily: \"Source Han Sans CN\"\n        },\n\n        axisLine: {\n          lineStyle: {\n            color: '#3D7384',\n          },\n        },\n\n        axisTick: {\n          show: false\n        },\n        data: xAxisData,\n      },\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        name: '人流量/万人次',\n        axisLabel: {\n          textStyle: {\n            color: '#B0CBEC',\n            fontSize: 10,\n          },\n          formatter: function (value, index) {\n            console.log(value);\n            return value;\n          },\n        },\n        nameTextStyle: {\n          color: '#B0CBEC',\n          fontSize: 12,\n          lineHeight: 40,\n          padding: [0, 0, 0, 20]\n        },\n        splitLine: {\n          show: false,\n          lineStyle: {\n            type: 'dashed',\n            color: '#E9E9E9',\n\n          },\n        },\n        axisLine: {\n          show: true,\n          lineStyle: {\n            color: '#3D7384',\n          },\n        },\n        axisTick: {\n          show: false,\n        },\n      },\n    ],\n    series: [\n      {\n        name: '今年',\n        type: 'line',\n        smooth: true,\n        showSymbol: false,\n        symbolSize: 8,\n        zlevel: 3,\n        lineStyle: {\n          width: 4,\n          color: color[0],\n        },\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(\n              0,\n              0,\n              0,\n              1,\n              [\n                {\n                  offset: 0,\n                  color: hexToRgba(color[0], 1),\n                },\n                {\n                  offset: 1,\n                  color: hexToRgba(color[0], 0),\n                },\n              ],\n              false\n            ),\n          },\n        },\n        data: yAxisData2,\n      },\n      {\n        name: '今年',  //今年预测 虚线部分\n        type: 'line',\n        smooth: true,\n        showSymbol: false,\n        symbolSize: 8,\n        zlevel: 3,\n        lineStyle: {\n          width: 4,\n          color: color[1],\n          type: 'dotted',\n        },\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(\n              0,\n              0,\n              0,\n              1,\n              [\n                {\n                  offset: 0,\n                  color: hexToRgba(color[1], 1),\n                },\n                {\n                  offset: 1,\n                  color: hexToRgba(color[1], 0),\n                },\n              ],\n              false\n            ),\n          },\n        },\n        yAxisIndex: 0,\n        data: yAxisData3,\n      },\n      {\n        name: '去年',\n        type: 'line',\n        smooth: true,\n        showSymbol: false,\n        symbolSize: 8,\n        zlevel: 3,\n        lineStyle: {\n          width: 4,\n          color: color[2],\n        },\n        areaStyle: {\n          color: new echarts.graphic.LinearGradient(\n            0,\n            0,\n            0,\n            1,\n            [\n              {\n                offset: 0,\n                color: hexToRgba(color[2], 1),\n              },\n              {\n                offset: 1,\n                color: hexToRgba(color[2], 0),\n              },\n            ],\n            false\n          ),\n        },\n        data: yAxisData1,\n      },\n      {\n        name: '警戒值',\n        type: 'line',\n        smooth: true,\n        showSymbol: false,\n        symbolSize: 8,\n        zlevel: 3,\n\n        lineStyle: {\n          width: 4,\n          color: '#EF805D',\n          type: 'dotted',\n        },\n        areaStyle: {\n          opacity: 0,\n        },\n        data: yAxisData4,\n        yAxisIndex: 0,\n      },\n\n      // 仅为在y轴展示特殊值(警戒值)\n      {\n        name: '警戒值Y轴刻度值',\n        type: 'effectScatter',\n        symbolSize: 0,\n        itemStyle: {\n          normal: {\n            label: {\n              show: true,\n              fontSize: 10,\n              distance: 0,\n              color: '#EF805D',\n              formatter: '{c}',\n              offset: [-16, 0],\n            },\n          },\n        },\n        data: [\n          {\n            value: 290,\n          },\n        ],\n      },\n    ],\n  }\n","html":"","externalScripts":"","updaterUID":"obd-o0SPFhHBmPPNuxCtGkgS025fSIw5FFS","theme":"","layout":"","viewCount":0,"userName":"幸***屁","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOjd7Ck4_m.png?v=1634804244747","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":["linedashedline"],"updaterUserName":"幸***屁"}}