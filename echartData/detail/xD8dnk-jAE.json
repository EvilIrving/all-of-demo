{"status":0,"data":{"cid":"xD8dnk-jAE","authorUid":"obd-o24gCu9r2U5OL___UtL5Lps9E5jhOBA","authorUserName":"Y***0","title":"pie 多环 刻度","description":"刻度、渐变","latestVersion":1,"alwaysLatest":0,"createTime":"2022-01-11T07:12:48.000Z","lastUpdateTime":"2022-01-11T07:12:48.000Z","auth":2,"uid":"obd-o24gCu9r2U5OL___UtL5Lps9E5jhOBA","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-11T07:12:48.000Z","code":"let dataPie2 = [\n    {\n        name: '应收',\n        value: 60,\n    },\n    {\n        name: '实收',\n        value: 40,\n    },\n    {\n        name: '欠费',\n        value: 10,\n    },\n];\nlet dataColor2 = [\n    {\n        type: 'linear',\n        x: 0,\n        x2: 0,\n        y: 1,\n        y2: 0,\n        colorStops: [\n            { offset: 0, color: 'rgba(5, 75, 170, 1)' },\n            { offset: 0.3, color: 'rgba(10, 138, 222, 1)' },\n            { offset: 0.6, color: 'rgba(6, 91, 184, 1)' },\n            { offset: 1, color: 'rgba(11, 151, 232, 1)' },\n        ],\n    },\n    {\n        type: 'linear',\n        x: 0,\n        x2: 0,\n        y: 1,\n        y2: 0,\n        colorStops: [\n            { offset: 0, color: 'rgba(3, 120, 134, 1)' },\n            { offset: 1, color: 'rgba(0, 200, 188, 1)' },\n        ],\n    },\n    {\n        type: 'linear',\n        x: 0,\n        x2: 0,\n        y: 1,\n        y2: 0,\n        colorStops: [\n            { offset: 0, color: 'rgba(241, 108, 114, 1)' },\n            { offset: 1, color: 'rgba(169, 14, 69, 1)' },\n        ],\n    },\n];\nlet legendData = [],\n    seriesData = [],\n    radiusValue = 60,\n    total = 0;\nlet startAngle = [];\n\ntotal = dataPie2.reduce((a,c)=>a+c.value,0)\n\ndataPie2.reduce((a,c)=>{\n    startAngle.push(a/total*360)\n     return a+c.value\n},0)\nfor (var i = 0; i < dataPie2.length; i++) {\n    legendData.push(dataPie2[i].name);\n    seriesData.push({\n        type: 'pie',\n        clockWise: true, //饼图的扇区是否是顺时针排布\n        radius: [radiusValue - 8 * i + '%', radiusValue - 4 - 8 * i + 1 + '%'],\n        center: ['50%', '50%'],\n        label: {\n            normal: {\n                show: false, //隐藏引导线标识\n            },\n        },\n        hoverAnimation: false, //关闭 hover 在扇区上的放大动画效果\n        startAngle: 180+startAngle[i], //起始角度\n        data: [\n            {\n                //透明伞形\n                z: 1,\n                value: total - dataPie2[i].value,\n                tooltip: {\n                    show: false,\n                },\n                itemStyle: {\n                    //设置透明伞形\n                    color: 'rgba(60, 79, 154, 0.2)', //伞形颜色\n                    // borderWidth: 10,\n                    // borderColor: 'rgba(60, 79, 154, 0.2)',\n                    label: {\n                        show: false,\n                    },\n                },\n            },\n            {\n                z: 2,\n                value: dataPie2[i].value,\n                name: dataPie2[i].name,\n\n                itemStyle: {\n                    // borderWidth: 10,\n                    borderRadius: '50%',\n                    // borderColor: dataColor2[i],\n                    color: dataColor2[i],\n                },\n            },\n        ],\n    });\n}\nseriesData.push(\n    {\n        type: 'pie',\n        name: '内层细圆环',\n        radius: ['26%', '27%'],\n        hoverAnimation: false,\n        clockWise: false,\n        itemStyle: {\n            //   opacity: 0.5,\n            color: 'rgba(160,160,160,0.5)',\n        },\n        label: {\n            show: false,\n        },\n        data: [100],\n    },\n    {\n        name: '大环',\n        type: 'gauge',\n        splitNumber: 15,\n        radius: '27%',\n        center: ['50%', '50%'],\n        startAngle: 90,\n        endAngle: -269.9999,\n        axisLine: {\n            show: false,\n            lineStyle: {\n                opacity: 0.5,\n                color: [[0, 'rgba(160,160,160,0.5)']],\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: true,\n            length: 12,\n            lineStyle: {\n                color: 'auto',\n                width: 3.5,\n            },\n        },\n        axisLabel: {\n            show: false,\n        },\n        detail: {\n            show: false,\n        },\n    },\n    {\n        name: '小环',\n        type: 'gauge',\n        splitNumber: 15,\n        radius: '32%',\n        center: ['50%', '50%'],\n        startAngle: 90,\n        endAngle: -269.9999,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: true,\n            lineStyle: {\n                opacity: 0.5,\n                color: 'rgba(160,160,160,1)',\n                width: 3,\n            },\n            length: 20,\n            splitNumber: 5,\n        },\n        splitLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n        detail: {\n            show: false,\n        },\n    }\n);\noption = {\n    backgroundColor: 'rgba(4, 11, 27, 1)',\n    tooltip: {\n        trigger: 'item',\n        show: true,\n        formatter: '{b} : <br/>{d}%',\n        backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n        padding: [8, 10], //内边距\n        extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n    },\n    legend: {\n        data: legendData,\n        icon: 'vertical',\n        top: '0',\n        itemGap: 80,\n        itemWidth: 15,\n        itemHeight: 8,\n        formatter: function (name) {\n            let target, percent;\n            for (let i = 0; i < dataPie2.length; i++) {\n                if (dataPie2[i].name === name) {\n                    target = dataPie2[i].value;\n                    percent = ((target / total) * 100).toFixed(2);\n                }\n            }\n            let arr = [' {blue|' + name + '}', ' {white|' + target + '}', percent + '% '];\n            return arr.join('\\n');\n        },\n        textStyle: {\n            lineHeight: 20,\n            color: '#a5dbff',\n            align: 'right',\n            rich: {\n                white: {\n                    color: '#e9e9e9',\n                    align: 'right',\n                },\n                blue: {\n                    color: '#a5dbff',\n                    align: 'right',\n                },\n            },\n        },\n    },\n    series: seriesData,\n};\n","html":"","externalScripts":"","updaterUID":"obd-o24gCu9r2U5OL___UtL5Lps9E5jhOBA","theme":"","layout":"","viewCount":0,"userName":"Y***0","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xD8dnk-jAE.png?v=1641885168347","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-gauge","series-pie","tooltip"],"customTags":[],"updaterUserName":"Y***0"}}