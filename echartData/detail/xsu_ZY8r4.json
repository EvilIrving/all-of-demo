{"status":0,"data":{"cid":"xsu_ZY8r4","authorUid":"bd-4249217762","authorUserName":"不***9","title":"legend文字对齐","description":"legend文字对齐","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-14T02:24:23.000Z","lastUpdateTime":"2019-11-14T02:24:23.000Z","auth":1,"uid":"bd-4249217762","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-14T02:24:23.000Z","code":"// 返回几个空格\nfunction setSpace(name, maxLen) {\n  const space = maxLen - name.length;\n  if (space < 0) {\n    return '';\n  }\n  let str = '';\n  for (let index = 0; index < space; index++) {\n    str = str + '区';\n  }\n  return str;\n}\n// 数字占位用于百分比\nfunction setNumber(num, total) {\n  const _num = Math.round((num * 100) / total);\n  if (_num < 10) {\n    return 0;\n  }\n  return '';\n}\n\n// 用于数值\nfunction setNum(num, maxLen) {\n  const len = num.toString().length;\n  const space = maxLen - len;\n  if (space < 0) {\n    return '';\n  }\n  let str = '';\n  for (let index = 0; index < space; index++) {\n    str = str + '0';\n  }\n  return str;\n}\nconst animaton = 3000;\nconst arr = [\n    {\n        name: '重庆',\n        num: 30,\n    },\n    {\n        name: '哈尔滨',\n        num: 60,\n    },\n    {\n        name: '杭州',\n        num: 35,\n    },\n    {\n        name: '乌鲁木齐',\n        num: 39,\n    },\n    {\n        name: '其它',\n        num: 39,\n    }\n]\nconst names = arr.map(item => item.name.length); // 获取每个名字的长度\nconst nums = arr.map(item => item.num.toString().length); // 获取每个数字的长度\nconst maxLen = Math.max(...names);\nconst maxNumLen = Math.max(...nums);\nconst total = arr.reduce((a, b) => a + b.num, 0); // 获取总数\nconst data = arr.map(({ num, name }) => ({\n  value: num,\n  name: `${name}{a|${setSpace(name, maxLen)}}     {a|${setNumber(num, total)}}${Math.round(\n    (num * 100) / total\n  )}%     {a|${setNum(num, maxNumLen)}}${num}`,\n  legendname: name,\n}));\n\n option = {\n      animation: true,\n      animationDuration: animaton,\n      animationEasing: 'quadraticOut',\n      color: ['#F7B500', '#30DCD6', '#F27878', '#5584FF', '#9F80E1', '#FA6400'],\n      tooltip: {\n        trigger: 'item',\n        formatter: function({ name }) {\n          return name.replace(/\\{.*?\\}/g, '');\n        },\n      },\n      title: [\n        {\n          text: '总数',\n          subtext: data.reduce((a, b) => a + b.value, 0),\n          textStyle: {\n            color: 'black',\n            fontSize: 20,\n          },\n          subtextStyle: {\n            color: 'black ',\n            fontSize: 20,\n          },\n          textAlign: 'center',\n          x: '29%',\n          y: '45%',\n        },\n      ],\n      grid: {\n        bottom: 150,\n        left: 100,\n        right: '10%',\n      },\n      legend: {\n        orient: 'vertical',\n        top: 'middle',\n        right: '5%',\n        icon: 'circle',\n        textStyle: {\n          color: 'black',\n          rich: {\n            a: {\n              color: 'rgba(0,0,0,0)',\n              opacity: 0,\n            },\n          },\n        },\n      },\n      series: [\n        // 主要展示层的\n        {\n          radius: ['40%', '70%'],\n          center: ['30%', '50%'],\n          type: 'pie',\n          name: '区域分布',\n          data: data,\n          label: {\n            normal: {\n              show: false,\n            },\n          },\n        },\n        // 边框的设置\n        {\n          radius: ['40%', '53%'],\n          center: ['30%', '50%'],\n          type: 'pie',\n          label: {\n            normal: {\n              show: false,\n            },\n            emphasis: {\n              show: false,\n            },\n          },\n          labelLine: {\n            normal: {\n              show: false,\n            },\n            emphasis: {\n              show: false,\n            },\n          },\n          animation: false,\n          tooltip: {\n            show: false,\n          },\n          data: [\n            {\n              value: 1,\n              itemStyle: {\n                color: 'rgba(250,250,250,0.3)',\n              },\n            },\n          ],\n        },\n        {\n          name: '外边框',\n          type: 'pie',\n          clockWise: false, //顺时加载\n          hoverAnimation: false, //鼠标移入变大\n          center: ['30%', '50%'],\n          radius: ['74%', '74%'],\n          label: {\n            normal: {\n              show: false,\n            },\n          },\n          data: [\n            {\n              value: 9,\n              name: '',\n              itemStyle: {\n                normal: {\n                  borderWidth: 2,\n                  borderColor: '#0b5263',\n                },\n              },\n            },\n          ],\n        },\n      ],\n    };","html":"","externalScripts":"","updaterUID":"bd-4249217762","theme":"","layout":"","viewCount":175,"userName":"不***9","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xsu_ZY8r4.png?v=1573698263753","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"不***9"}}