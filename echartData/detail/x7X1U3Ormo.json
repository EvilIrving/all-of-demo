{"status":0,"data":{"cid":"x7X1U3Ormo","authorUid":"bd-1109688145","authorUserName":"n***g","title":"{val|18,889,888} {name|（万人）}","description":"自家调试用","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-10T10:32:50.000Z","lastUpdateTime":"2020-11-10T10:32:50.000Z","auth":2,"uid":"bd-1109688145","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-10T10:32:50.000Z","code":"let bgColor = \"#fff\";\nlet title = '（万人）';\nlet color = [\n    \"#0090FF\",\n    \"#36CE9E\",\n    \"#FFC005\",\n    \"#FF515A\",\n    \"#8B5CFF\",\n    \"#00CA69\"\n];\nlet echartData = [{\n        name: \"1\",\n        value1: 5,\n        value2: 8880888\n    },\n    {\n        name: \"2\",\n        value1: 4,\n        value2: 1723888\n    },\n    {\n        name: \"3\",\n        value1: 3,\n        value2: 18889888\n    },\n    {\n        name: \"4\",\n        value1: 2,\n        value2: 2489888\n    },\n    {\n        name: \"5\",\n        value1: 1,\n        value2: 11889888\n    },\n    {\n        name: \"6\",\n        value1: 2,\n        value2: 2889888\n    },\n    {\n        name: \"7\",\n        value1: 3,\n        value2: 16669888\n    },\n    {\n        name: \"8\",\n        value1: 18889888,\n        value2: 7989888\n    }\n];\n\nlet formatNumber = function(num) {\n    let reg = /(?=(\\B)(\\d{3})+$)/g;\n    return num.toString().replace(reg, ',');\n}\n\nlet total = 18889888\n\nlet xAxisData = echartData.map(v => v.name);\n//  [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\nlet yAxisData1 = echartData.map(v => v.value1);\n// [100, 138, 350, 173, 180, 150, 180, 230]\nlet yAxisData2 = echartData.map(v => v.value2);\n// [233, 233, 200, 180, 199, 233, 210, 180]\nconst hexToRgba = (hex, opacity) => {\n    let rgbaColor = \"\";\n    let reg = /^#[\\da-f]{6}$/i;\n    if (reg.test(hex)) {\n        rgbaColor = `rgba(${parseInt(\"0x\" + hex.slice(1, 3))},${parseInt(\n      \"0x\" + hex.slice(3, 5)\n    )},${parseInt(\"0x\" + hex.slice(5, 7))},${opacity})`;\n    }\n    return rgbaColor;\n}\n\noption = {\n    // backgroundColor: bgColor,\n    color: color,\n    // legend: {\n    //     right: 10,\n    //     top: 10\n    // },\n    title: [{\n        text: '{val|' + formatNumber(total) + '} {name|' + title + '}',\n        top: '1%',\n        left: '1%',\n        textStyle: {\n            rich: {\n                name: {\n                    fontSize: 14,\n                    fontWeight: 'normal',\n                    color: '#666666',\n                    padding: [10, 0]\n                },\n                val: {\n                    fontSize: 32,\n                    fontWeight: 'bold',\n                    color: '#333333',\n                }\n            }\n        }\n    }],\n    tooltip: {\n        show: true,\n        trigger: \"axis\",\n        formatter: function(params) {\n            let html = '';\n            params.forEach(v => {\n                // console.warn(v, color[v.componentIndex])\n                html += `<div style=\"color: #666;font-size: 14px;line-height: 24px\">\n                <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${color[v.componentIndex]};\"></span>\n                ${v.seriesName}.${v.name}\n                <span style=\"color:${color[v.componentIndex]};font-weight:700;font-size: 18px\">${v.value}</span>\n                万元`;\n            })\n\n\n\n            return html\n        },\n        extraCssText: 'background: #fff; border-radius: 0;box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);color: #333;',\n        // axisPointer: {\n        //     type: 'shadow',\n        //     shadowStyle: {\n        //         color: '#ffffff',\n        //         shadowColor: 'rgba(225,225,225,1)',\n        //         shadowBlur: 5\n        //     }\n        // }\n        // alwaysShowContent: true,\n        axisPointer: {\n            type: 'line',\n            lineStyle: {\n                type: 'dashed',\n                color: color[0]\n            }\n        }\n    },\n    grid: {\n        // top: 100,\n        // containLabel: true\n        bottom: '70%',\n        left: '1.5%',\n        right: '1.5%'\n    },\n    xAxis: [{\n        type: \"category\",\n        boundaryGap: false,\n        axisLabel: {\n            formatter: '{value}月',\n            textStyle: {\n                color: \"#999\"\n            }\n        },\n        axisLine: {\n            show:false\n        },\n        axisTick: {\n            show: false\n        },\n        data: xAxisData\n    }],\n    yAxis: [{\n        type: \"value\",\n        // name: '单位：万千瓦时',\n        axisLabel: {\n            show:false,\n            // textStyle: {\n            //     color: \"#666\"\n            // }\n        },\n        nameTextStyle: {\n            color: \"#666\",\n            fontSize: 12,\n            lineHeight: 40\n        },\n        splitLine: {\n            lineStyle: {\n                type: \"dashed\",\n                color: \"#ddd\"\n            }\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    }],\n    series: [{\n        name: \"2019\",\n        type: \"line\",\n        smooth: true,\n        showSymbol: false,\n        symbolSize: 10,\n        zlevel: 3,\n        lineStyle: {\n            normal: {\n                width: 5,\n                color: color[0],\n                shadowBlur: 1,\n                shadowColor: hexToRgba(color[0], 0.1),\n                shadowOffsetX: 120,\n                shadowOffsetY: 5\n            }\n        },\n        areaStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(\n                    0,\n                    0,\n                    0,\n                    1,\n                    [{\n                            offset: 0,\n                            color: hexToRgba(color[0], 0.5)\n                        },\n                        {\n                            offset: 1,\n                            color: hexToRgba(color[0], 0)\n                        }\n                    ],\n                    false\n                ),\n                shadowColor: hexToRgba(color[0], 0.1),\n                shadowBlur: 10\n            }\n        },\n        data: yAxisData2,\n        markPoint: {\n            symbol:'path://M170.666667 85.333333 853.333333 85.333333C900.266667 85.333333 938.666667 123.733333 938.666667 170.666667L938.666667 682.666667C938.666667 729.6 900.266667 768 853.333333 768L682.666667 768 512 938.666667 341.333333 768 170.666667 768C123.733333 768 85.333333 729.6 85.333333 682.666667L85.333333 170.666667C85.333333 123.733333 123.733333 85.333333 170.666667 85.333333Z',\n            symbolKeepAspect: false,\n            symbolSize: [80,50],\n            symbolOffset: [0,-36],\n            silent: false,\n            label:{\n                show: true,\n                offset:[0,-5]\n            },\n            data: [{\n                    type: 'max',\n                    name: '最大值'\n                }]\n            }\n    }]\n};\n\n// setTimeout(function (){\n//     console.log(myChart)\n//   myChart.dispatchAction({\n//         type: 'showTip',\n//         seriesIndex: 0,\n//         dataIndex: 2\n//     });\n\n// }, 600);\n","html":"","externalScripts":"","updaterUID":"bd-1109688145","theme":"","layout":"","viewCount":722,"userName":"n***g","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7X1U3Ormo.png?v=1605004370959","isCustomThumbnail":0,"builtinTags":["category-work","grid","markPoint","series-line","title","tooltip"],"customTags":[],"updaterUserName":"n***g"}}