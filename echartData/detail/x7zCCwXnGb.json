{"status":0,"data":{"cid":"x7zCCwXnGb","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"","description":"bar","latestVersion":2,"alwaysLatest":1,"createTime":"2020-07-28T09:55:46.000Z","lastUpdateTime":"2020-07-28T09:55:46.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-29T01:35:32.000Z","code":"var light = \"/asset/get/s/data-1595930107662-5IpeftyCW.png\";\n\nvar uploadedDataURLgrey = \"/asset/get/s/data-1595928383529-QwrevlUTe.png\";\n\nvar uploadedDataURLgreen = \"/asset/get/s/data-1595928356924-g-oSomb1P.png\";\n\nvar uploadedDataURLred = \"/asset/get/s/data-1595928332832-V3qHb56dl.png\";\n\n\nlet dataPie2 = [{\n        name: '在线',\n        value: 60\n    },\n    {\n        name: '离线',\n        value: 40\n    },\n    {\n        name: '异常',\n        value: 10\n    },\n   \n];\nlet dataColor2 = [{\n        os1: '#22ffff',\n        os2: '#22ffff'\n    },\n    {\n        os1: '#ff0950',\n        os2: '#ff0950'\n    },\n    {\n        os1: '#a2a2a2',\n        os2: '#a2a2a2'\n    },\n   \n];\nlet legendData = [],\n    seriesData = [],\n    radiusValue = 40,total = 0;\n    \n dataPie2.forEach(function(val, idx, arr) {\n     total += val.value;\n })\n for (let i = 0; i < dataPie2.length; i++) {\n            legendData.push(dataPie2[i].name);\n            seriesData.push({\n                type: 'pie',\n                clockWise: false, //饼图的扇区是否是顺时针排布\n                radius: [radiusValue - 18 * i + '%', radiusValue - 18 * i + 1 + '%'],\n                center: ['20%', '50%'],\n                label: {\n                    normal: {\n                        show: false //隐藏引导线标识\n                    }\n                },\n                hoverAnimation: false, //关闭 hover 在扇区上的放大动画效果\n                startAngle: 150*i, //起始角度\n                data: [ { //透明伞形\n                    value: total - dataPie2[i].value,\n                    tooltip: {\n                        show: false\n                    },\n                    itemStyle: { //设置透明伞形\n                        normal: {\n                            color: '#041e36',//伞形颜色\n                            borderWidth: 5,\n                            borderColor:'#041e36',\n                            label: {\n                                show: false\n                            },\n\n                        },\n\n                    }\n                },\n                    {\n                        value: dataPie2[i].value,\n                        name: dataPie2[i].name,\n\n                        itemStyle: {\n                            normal: {\n                                borderWidth: 5,\n                                borderColor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: dataColor2[i].os1,\n                                }, {\n                                    offset: 1,\n                                    color: dataColor2[i].os2,\n                                }]),\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: dataColor2[i].os1\n                                }, {\n                                    offset: 1,\n                                    color: dataColor2[i].os2\n                                }])\n                            }\n                        }\n                    },\n\n                ]\n            });\n\n\n        }\noption = {\n            backgroundColor: '#021228',\n            graphic: {\n                elements: [{\n                    type: 'image',\n                    style: {\n                        image: light,\n                        width: 24,\n                        height: 24\n                    },\n                    left: '17.5%',\n                    top: '30%'\n                }]\n            },\n            title: [{\n                // text: '160',\n                subtext: '228个',\n                textAlign: 'center',\n                textStyle: {\n                    color: '#ffffff',\n                    fontSize: 12,\n                    lineHeight: 12\n                },\n                subtextStyle: {\n                    color: '#ffffff',\n                    fontSize: 12,\n                    // fontWeight:800\n                },\n                x: '19%',\n                y: 'center',\n            }],\n            tooltip: {\n                trigger: 'item',\n                show: true,\n                formatter: \"{b} : <br/>{d}%\",\n                backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n                padding: [8, 10], //内边距\n                extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n            },\n\n            legend: {\n\n\n                right: '5px',\n                top: 'center',\n                orient: 'horizontal',\n                itemGap: 20,\n                itemWidth: 19,\n                itemHeight:19,\n                formatter: function(name) {\n\n\n                    let target,percent;\n                    for (let i = 0; i < dataPie2.length; i++) {\n                        if (dataPie2[i].name === name) {\n                            target = dataPie2[i].value;\n                            percent = ((target/total)*100).toFixed(2);\n                        }\n                    }\n                    let arr =  [ ' {blue|' + name + '}',' {white|' + target + '}', percent+'% ', ];\n                    return arr.join(\"\\n\")\n\n                },\n                textStyle: {\n\n                    lineHeight: 20,\n                    color: '#a5dbff',\n                    align: 'right',\n                    rich: {\n                        white: {\n                            color: '#e9e9e9',\n                            align: 'right',\n\n                        },\n                        blue: {\n                            color: '#a5dbff',\n                            align: 'right',\n\n                        },\n                    }\n\n                },\n                data: [\n                    {name:'在线', icon:'image://'+uploadedDataURLgreen},\n                    {name:'离线', icon:'image://'+uploadedDataURLred},\n                    {name:'异常', icon:'image://'+uploadedDataURLgrey},\n                ],\n            },\n            series: seriesData\n        };","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":108,"userName":"绿***绿","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7zCCwXnGb.png?v=1595986532783","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}