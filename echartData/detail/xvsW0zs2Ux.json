{"status":0,"data":{"cid":"xvsW0zs2Ux","authorUid":"bd-3567986262","authorUserName":"三***丶","title":"圆环定时高亮","description":"圆环定时高亮","latestVersion":4,"alwaysLatest":1,"createTime":"2020-09-29T06:03:06.000Z","lastUpdateTime":"2020-09-29T06:03:06.000Z","auth":1,"uid":"bd-3567986262","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.9.0","versionCreateTime":"2021-04-26T07:37:11.000Z","code":"var data = [{\r\n    name: '一',\r\n    value: 1\r\n}, {\r\n    name: '二',\r\n    value: 2\r\n}, {\r\n    name: '三',\r\n    value: 3\r\n}, {\r\n    name: '四',\r\n    value: 4\r\n}, {\r\n    name: '五',\r\n    value: 5\r\n}]\r\nlet timer = null;\r\nlet dataLength = data.length;\r\nlet index = 0;\r\nmyChart.dispatchAction({\r\n    type: \"highlight\",\r\n    seriesIndex: 0,\r\n    dataIndex: index,\r\n});\r\n\r\nfunction setInterFun() {\r\n    timer = setInterval(() => {\r\n        myChart.dispatchAction({\r\n            type: \"highlight\",\r\n            seriesIndex: 0,\r\n            dataIndex: index,\r\n        });\r\n        // 取消高亮指定的数据图形\r\n        myChart.dispatchAction({\r\n            type: \"downplay\",\r\n            seriesIndex: 0,\r\n            dataIndex: index == 0 ? dataLength - 1 : index - 1,\r\n        });\r\n        index++;\r\n        if (index > dataLength - 1) {\r\n            index = 0;\r\n        }\r\n    }, 2000);\r\n}\r\nsetInterFun();\r\nmyChart.on(\"mouseover\", (e) => {\r\n    for (let i = 0; i < dataLength; i++) {\r\n        if (i != e.dataIndex) {\r\n            myChart.dispatchAction({\r\n                type: \"downplay\",\r\n                seriesIndex: 0,\r\n                dataIndex: i,\r\n            });\r\n        }\r\n    }\r\n    if (e.dataIndex != index) {\r\n        index = e.dataIndex;\r\n        myChart.dispatchAction({\r\n            type: \"highlight\",\r\n            seriesIndex: 0,\r\n            dataIndex: index,\r\n        });\r\n    }\r\n    clearInterval(timer);\r\n});\r\nmyChart.on(\"mouseout\", (e) => {\r\n    // timer=null;\r\n    index = e.dataIndex;\r\n    myChart.dispatchAction({\r\n        type: \"highlight\",\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex,\r\n    });\r\n    clearInterval(timer);\r\n    if (index + 1 > dataLength - 1) {\r\n        index = 0;\r\n    } else {\r\n        index += 1;\r\n    }\r\n    setInterFun();\r\n});\r\n\r\nlet sum = 0;\r\ndata.map(item => {\r\n    sum += item.value;\r\n})\r\n\r\noption = {\r\n    backgroundColor: '#000',\r\n    tooltip: {\r\n        trigger: \"item\",\r\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\",\r\n    },\r\n    title: {\r\n        text: \"风险评估\",\r\n        textStyle: {\r\n            fontSize: \"18\",\r\n            color: \"white\",\r\n        },\r\n    },\r\n    series: [{\r\n        name: \"风险评估\",\r\n        type: \"pie\",\r\n        radius: [\"52%\", \"70%\"],\r\n        center: ['50%', '50%'],\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n            show: false,\r\n            position: \"center\",\r\n        },\r\n        emphasis: {\r\n            label: {\r\n                show: true,\r\n                formatter: [\"{astyle|{d}%}\", \"{dstyle|{b}}\"].join(\"\\n\"),\r\n                lineHeight:  20,\r\n                rich: {\r\n                    astyle: {\r\n                        color: \"white\",\r\n                        fontSize: 30,\r\n                        fontWeight: \"bold\",\r\n                    },\r\n                    dstyle: {\r\n                        color: \"white\",\r\n                        fontSize: 20,\r\n                        lineHeight: 30,\r\n                    },\r\n                },\r\n                fontSize: \"30\",\r\n                fontWeight: \"bold\",\r\n            },\r\n        },\r\n        labelLine: {\r\n            show: false,\r\n        },\r\n        color: [\"#10c4ff\", \"#49f6a1\", \"#fbd15f\", \"#7c83dd\", \"#e46573\"],\r\n        data: data,\r\n    }, ],\r\n};","html":"","externalScripts":"","updaterUID":"bd-3567986262","theme":"","layout":"","viewCount":72,"userName":"三***丶","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvsW0zs2Ux.png?v=1619422631786","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"三***丶"}}