{"status":0,"data":{"cid":"xrJDOQAPqW","authorUid":"bd-3743044666","authorUserName":"许仙521983","title":"品牌TOP在地图上的显示","description":"纯属虚构啦啦啦","latestVersion":1,"alwaysLatest":1,"createTime":"2017-09-14T10:01:18.000Z","lastUpdateTime":"2017-09-14T10:01:18.000Z","auth":2,"uid":"bd-3743044666","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.7.1","versionCreateTime":"2017-09-14T10:01:18.000Z","code":"const geoCoordMap = {\n    '北京': [116.46, 39.92],\n    '上海': [121.48, 31.22],\n    '天津': [117.2, 39.13],\n    '重庆': [106.54, 29.59],\n    '香港': [113.2, 22.75],\n    '澳门': [114.52, 22.86],\n    '台北': [121.55, 25.05],\n    '石家庄': [114.48, 38.03],\n    '唐山': [118.02, 39.63],\n    '秦皇岛': [119.57, 39.95],\n    '邯郸': [114.47, 36.6],\n    '鄂尔多斯': [109.781327, 39.608266],\n    '舟山': [122.207216, 29.985295],\n    '齐齐哈尔': [123.97, 47.33],\n    '青岛': [120.33, 36.07],\n    '泉州': [118.58, 24.93],\n    '日照': [119.46, 35.42],\n    '南通': [121.05, 32.08],\n    '拉萨': [91.11, 29.97],\n    '梅州': [116.1, 24.55],\n    '攀枝花': [101.718637, 26.582347],\n    '威海': [122.1, 37.5],\n    '承德': [117.93, 40.97],\n    '潮州': [116.63, 23.68],\n    '烟台': [121.39, 37.52],\n    '福州': [119.3, 26.08],\n    '厦门': [118.1, 24.46],\n    '莆田': [119.01, 25.46],\n    '漳州': [117.65, 24.52],\n    '张家口': [114.87, 40.82],\n    '湖州': [120.1, 30.86],\n    '汕头': [116.69, 23.39],\n    '宁波': [121.56, 29.86],\n    '湛江': [110.359377, 21.270708],\n    '连云港': [119.16, 34.59],\n    '葫芦岛': [120.836932, 40.711052],\n    '东莞': [113.75, 23.04],\n    '南宁': [108.33, 22.84],\n    '惠州': [114.4, 23.09],\n    '蓬莱': [120.75, 37.8],\n    '广州': [113.23, 23.16],\n    '延安': [109.47, 36.6],\n    '太原': [112.53, 37.87],\n    '中山': [113.38, 22.52],\n    '昆明': [102.73, 25.04],\n    '丽江': [100.23, 26.86],\n    '盘锦': [122.070714, 41.119997],\n    '深圳': [114.07, 22.62],\n    '珠海': [113.52, 22.3],\n    '咸阳': [108.72, 34.36],\n    '佛山': [113.11, 23.05],\n    '江门': [113.06, 22.61],\n    '大连': [121.62, 38.92],\n    '临汾': [111.5, 36.08],\n    '沈阳': [123.38, 41.8],\n    '苏州': [120.62, 31.32],\n    '茂名': [110.88, 21.68],\n    '嘉兴': [120.76, 30.77],\n    '长春': [125.35, 43.88],\n    '银川': [106.27, 38.47],\n    '张家港': [120.555821, 31.875428],\n    '锦州': [121.15, 41.13],\n    '南昌': [115.89, 28.68],\n    '景德镇': [117.187, 29.27],\n    '柳州': [109.4, 24.33],\n    '吉林': [126.57, 43.87],\n    '泸州': [105.39, 28.91],\n    '西宁': [101.74, 36.56],\n    '呼和浩特': [111.65, 40.82],\n    '成都': [104.06, 30.67],\n    '大同': [113.3, 40.12],\n    '镇江': [119.44, 32.2],\n    '桂林': [110.28, 25.29],\n    '张家界': [110.479191, 29.117096],\n    '西安': [108.95, 34.27],\n    '牡丹江': [129.58, 44.6],\n    '佳木斯': [130.33, 46.81],\n    '遵义': [106.9, 27.7],\n    '绍兴': [120.58, 30.01],\n    '扬州': [119.42, 32.39],\n    '常州': [119.95, 31.79],\n    '潍坊': [119.1, 36.62],\n    '台州': [121.420757, 28.656386],\n    '南京': [118.78, 32.04],\n    '贵阳': [106.71, 26.57],\n    '无锡': [120.29, 31.59],\n    '本溪': [123.73, 41.3],\n    '马鞍山': [118.48, 31.56],\n    '宝鸡': [107.15, 34.38],\n    '徐州': [117.2, 34.26],\n    '包头': [110, 40.58],\n    '绵阳': [104.73, 31.48],\n    '乌鲁木齐': [87.68, 43.77],\n    '克拉玛依': [84.77, 45.59],\n    '吐鲁番': [89.19, 42.96],\n    '杭州': [120.19, 30.26],\n    '淄博': [118.05, 36.78],\n    '鞍山': [122.85, 41.12],\n    '开封': [114.35, 34.79],\n    '济南': [117, 36.65],\n    '温州': [120.65, 28.01],\n    '九江': [115.97, 29.71],\n    '兰州': [103.73, 36.03],\n    '沧州': [116.83, 38.33],\n    '郑州': [113.65, 34.76],\n    '哈尔滨': [126.63, 45.75],\n    '芜湖': [118.38, 31.33],\n    '荆州': [112.239741, 30.335165],\n    '宜昌': [111.3, 30.7],\n    '洛阳': [112.44, 34.7],\n    '株洲': [113.16, 27.83],\n    '保定': [115.48, 38.85],\n    '湘潭': [112.91, 27.87],\n    '金华': [119.64, 29.12],\n    '岳阳': [113.09, 29.37],\n    '长沙': [113, 28.21],\n    '廊坊': [116.7, 39.53],\n    '合肥': [117.27, 31.86],\n    '武汉': [114.31, 30.52],\n    '襄阳': [112.13, 32.01],\n    '黄冈': [114.89, 30.46],\n    '孝感': [113.92, 30.93],\n    '蚌埠': [117.39, 32.92],\n    '大庆': [125.03, 46.58],\n    '海口': [110.35, 20.02],\n    '三亚': [109.511909, 18.252847],\n    '三沙': [112.365072, 16.846693],\n\n    '黄山': [118.174807, 30.133213],\n    '庐山': [115.961218, 29.548669],\n    '雁荡山': [121.082565, 28.389185],\n\n    '泰山': [117.122594, 36.251522],\n    '华山': [110.088721, 34.5322],\n    '衡山': [112.726471, 27.257672],\n    '恒山': [113.739308, 39.678923],\n    '嵩山': [113.035959, 34.488748],\n\n    '五台山': [113.596796, 38.984466],\n    '普陀山': [122.390477, 29.983976],\n    '峨眉山': [103.447858, 29.584531],\n    '九华山': [117.810475, 30.488241],\n\n    '武当山': [117.810475, 30.488241],\n    '龙虎山': [116.995158, 28.078519],\n\n    '天山': [93.12248, 43.478822],\n    '昆仑山': [81.671941, 35.478739],\n    '长白山': [128.094283, 42.112236],\n    '武夷山': [117.993295, 27.631218],\n    '青城山': [103.579549, 30.903367],\n    '终南山': [109.072308, 33.948998],\n\n    '万里长城': [116.016022, 40.364252],\n    '三峡大坝': [111.059428, 30.840983],\n    '日月潭': [120.921823, 23.869305],\n    '秦始皇兵马俑': [109.291943, 34.394395],\n\n    '河北': [114.336873, 38.21885],\n    '河南': [113.453802, 34.895028],\n    '云南': [102.599397, 25.248948],\n    '辽宁': [123.241164, 41.948112],\n    '黑龙江': [126.479088, 45.985284],\n    '湖南': [112.800698, 28.474291],\n    '安徽': [117.170056, 31.99595],\n    '山东': [116.912494, 36.812038],\n    '新疆': [87.476819, 43.894927],\n    '江苏': [118.715429, 32.246466],\n    '浙江': [120.040035, 30.350837],\n    '江西': [115.808656, 28.774611],\n    '湖北': [114.116105, 30.764814],\n    '广西': [108.265765, 23.020403],\n    '甘肃': [103.66644, 36.218003],\n    '山西': [112.349964, 38.044464],\n    '内蒙古': [111.614073, 40.951504],\n    '陕西': [108.780889, 34.408508],\n    '福建': [119.156964, 26.182279],\n    '贵州': [106.499624, 26.844365],\n    '广东': [113.233035, 23.224606],\n    '青海': [101.605943, 36.752842],\n    '西藏': [90.972306, 29.838888],\n    '四川': [103.924003, 30.796585],\n    '宁夏': [106.094884, 38.624116],\n    '海南': [110.179083, 19.921006],\n    '台湾': [121.36464, 25.248948]\n};\nconst icons = ['http://img30.360buyimg.com/popshop/jfs/t2989/240/151377693/3895/30ad9044/574d36dbN262ef26d.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t3511/131/31887105/4943/48f83fa9/57fdf4b8N6e95624d.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t2989/240/151377693/3895/30ad9044/574d36dbN262ef26d.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t5662/36/8888655583/7806/1c629c01/598033b4Nd6055897.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t2701/34/484677369/7439/ee13e8fa/5716e2c4Nc925baf3.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t2398/233/975959106/6263/a786f5b8/563b33ffN9c288c6c.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t2572/102/189476501/7717/16cc5814/563b33d4N6c59780c.jpg',\n    'http://img30.360buyimg.com/popshop/jfs/t2119/133/2264148064/4303/b8ab3755/56b2f385N8e4eb051.jpg'\n\n\n];\n\nconst convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                value: geoCoord.concat(data[i].value),\n                name: data[i].name,\n                symbol: 'image://' + icons[_.random(0, icons.length)],\n                symbolSize: [50, 20],\n                top: []\n            });\n        }\n    }\n    return res;\n};\n\nconst randomData = () => Math.round(Math.random() * 1000)\n\nconst mock = [{\n    name: '北京',\n    value: randomData()\n}, {\n    name: '天津',\n    value: randomData()\n}, {\n    name: '上海',\n    value: randomData()\n}, {\n    name: '重庆',\n    value: randomData()\n}, {\n    name: '河北',\n    value: randomData()\n}, {\n    name: '河南',\n    value: randomData()\n}, {\n    name: '云南',\n    value: randomData()\n}, {\n    name: '辽宁',\n    value: randomData()\n}, {\n    name: '黑龙江',\n    value: randomData()\n}, {\n    name: '湖南',\n    value: randomData()\n}, {\n    name: '安徽',\n    value: randomData()\n}, {\n    name: '山东',\n    value: randomData()\n}, {\n    name: '新疆',\n    value: randomData()\n}, {\n    name: '江苏',\n    value: randomData()\n}, {\n    name: '浙江',\n    value: randomData()\n}, {\n    name: '江西',\n    value: randomData()\n}, {\n    name: '湖北',\n    value: randomData()\n}, {\n    name: '广西',\n    value: randomData()\n}, {\n    name: '甘肃',\n    value: randomData()\n}, {\n    name: '山西',\n    value: randomData()\n}, {\n    name: '内蒙古',\n    value: randomData()\n}, {\n    name: '陕西',\n    value: randomData()\n}, {\n    name: '吉林',\n    value: randomData()\n}, {\n    name: '福建',\n    value: randomData()\n}, {\n    name: '贵州',\n    value: randomData()\n}, {\n    name: '广东',\n    value: randomData()\n}, {\n    name: '青海',\n    value: randomData()\n}, {\n    name: '西藏',\n    value: randomData()\n}, {\n    name: '四川',\n    value: randomData()\n}, {\n    name: '宁夏',\n    value: randomData()\n}, {\n    name: '海南',\n    value: randomData()\n}, {\n    name: '台湾',\n    value: randomData()\n}, {\n    name: '香港',\n    value: randomData()\n}, {\n    name: '澳门',\n    value: randomData()\n}];\n\noption = {\n    backgroundColor: '#404a59',\n    title: {\n        text: '品牌TOP',\n        subtext: '纯属虚构',\n        left: 'center'\n    },\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'click',\n        padding: [5, 10],\n        showDelay: 100,\n        backgroundColor: 'rgba(37,42,48, 0.8)',\n        extraCssText: 'box-shadow: 0 0 5px rgba(0,0,0,0.9)',\n        formatter: (data) => {\n            let _html = '';\n            if (!data.data.top.length) return `<img src='https://misc.360buyimg.com/mtd/pc/index/gb/images/loading.gif'/>`;\n            data.data.top.forEach((item) => {\n                _html += `<div style=\"width:100%\">${item.name} :<span style=\"padding-left:8px;float:right\"> ${item.value}</span></div>`\n            })\n            return _html\n        }\n    },\n    geo: {\n        map: 'china',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#323c48',\n                borderColor: '#111'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n    toolbox: {\n        show: true,\n        orient: 'vertical',\n        left: 'right',\n        top: 'center',\n        feature: {\n            dataView: {\n                readOnly: false\n            },\n            saveAsImage: {}\n        }\n    },\n    series: [{\n        name: 'a',\n        type: 'scatter',\n        coordinateSystem: 'geo',\n        roam: true,\n        label: {\n            normal: {\n                show: true,\n                formatter: function(params) {\n                    return params.name;\n                },\n                position: 'left',\n                padding: [4, 5],\n                borderRadius: 3,\n                borderWidth: 1,\n                borderColor: 'rgba(0,0,0,0.5)',\n                color: '#ddd',\n                fontSize: 12,\n            },\n            emphasis: {\n                show: true\n            }\n        },\n        data: convertData(mock)\n\n    }]\n};\n\nsetTimeout(function() {\n\n    myChart.on('click', function(params) {\n        /**\n         * 异步获取 详细 top\n         */\n        console.log(params)\n        const newData = [{\n            name: 'apple',\n            value: '2,234'\n        }, {\n            name: '小米',\n            value: '1,768'\n        }, {\n            name: '华为',\n            value: '434'\n        }, {\n            name: 'oppo',\n            value: '37'\n        }, {\n            name: '魅族',\n            value: '77'\n        }];\n        option.series[0].data[params.dataIndex].top = newData;\n        setTimeout(() => {\n            myChart.setOption(option, true)\n        }, 2000)\n\n    });\n\n}, 0);","html":"","externalScripts":"/dep/echarts/map/js/china.js,https://cdn.bootcss.com/lodash.js/4.17.4/lodash.min.js","updaterUID":"bd-3743044666","theme":"","layout":"","viewCount":1585,"userName":"许仙521983","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJDOQAPqW.png?v=1505383278992","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"许仙521983"}}