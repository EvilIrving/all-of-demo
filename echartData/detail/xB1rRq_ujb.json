{"status":0,"data":{"cid":"xB1rRq_ujb","authorUid":"bd-621198641","authorUserName":"l***2","title":"余杭路网监控图","description":"echarts lines demo","latestVersion":1,"alwaysLatest":1,"createTime":"2017-09-27T01:11:41.000Z","lastUpdateTime":"2017-09-27T01:11:41.000Z","auth":2,"uid":"bd-621198641","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.7.1","versionCreateTime":"2017-09-27T01:11:41.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1505973353818-S1MdECgob.json\";\r\n$.get(uploadedDataURL, function(data) {\r\n    data = JSON.parse(data);\r\n    \r\n    var hStep = 300 / (data.length - 1);\r\n    var busLines = [].concat.apply([], data.map(function (busLine, idx) {\r\n         /*var points = [];\r\n        for (var i = 0; i < busLine.length; i ++) {\r\n            var pt = busLine[i].split(',');\r\n            points.push([pt[0], pt[1]]);\r\n        }*/\r\n\r\n        return {\r\n            coords: busLine,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: echarts.color.modifyHSL('#5A94DF', Math.round(hStep * idx))\r\n                }\r\n            }\r\n        };\r\n    }));\r\n    myChart.setOption(\r\n    option = {\r\n         title : {\r\n        text: '余杭公交路网监控图',\r\n        subtext: '',\r\n        x:'center',\r\n        textStyle:{\r\n            color:'#fff'\r\n        }\r\n    },\r\n        bmap: {\r\n            center: [120.184158,30.28849],\r\n            zoom: 12,\r\n            roam: true,\r\n            mapStyle: {\r\n                'styleJson': [{\r\n                    'featureType': 'water',\r\n                    'elementType': 'all',\r\n                    'stylers': {\r\n                        'color': '#031628'\r\n                    }\r\n                }, {\r\n                    'featureType': 'land',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#000102'\r\n                    }\r\n                }, {\r\n                    'featureType': 'highway',\r\n                    'elementType': 'all',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'arterial',\r\n                    'elementType': 'geometry.fill',\r\n                    'stylers': {\r\n                        'color': '#000000'\r\n                    }\r\n                }, {\r\n                    'featureType': 'arterial',\r\n                    'elementType': 'geometry.stroke',\r\n                    'stylers': {\r\n                        'color': '#0b3d51'\r\n                    }\r\n                }, {\r\n                    'featureType': 'local',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#000000'\r\n                    }\r\n                }, {\r\n                    'featureType': 'railway',\r\n                    'elementType': 'geometry.fill',\r\n                    'stylers': {\r\n                        'color': '#000000'\r\n                    }\r\n                }, {\r\n                    'featureType': 'railway',\r\n                    'elementType': 'geometry.stroke',\r\n                    'stylers': {\r\n                        'color': '#08304b'\r\n                    }\r\n                }, {\r\n                    'featureType': 'subway',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'lightness': -70\r\n                    }\r\n                }, {\r\n                    'featureType': 'building',\r\n                    'elementType': 'geometry.fill',\r\n                    'stylers': {\r\n                        'color': '#000000'\r\n                    }\r\n                }, {\r\n                    'featureType': 'all',\r\n                    'elementType': 'labels.text.fill',\r\n                    'stylers': {\r\n                        'color': '#857f7f'\r\n                    }\r\n                }, {\r\n                    'featureType': 'all',\r\n                    'elementType': 'labels.text.stroke',\r\n                    'stylers': {\r\n                        'color': '#000000'\r\n                    }\r\n                }, {\r\n                    'featureType': 'building',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#022338'\r\n                    }\r\n                }, {\r\n                    'featureType': 'green',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#062032'\r\n                    }\r\n                }, {\r\n                    'featureType': 'boundary',\r\n                    'elementType': 'all',\r\n                    'stylers': {\r\n                        'color': '#465b6c'\r\n                    }\r\n                }, {\r\n                    'featureType': 'manmade',\r\n                    'elementType': 'all',\r\n                    'stylers': {\r\n                        'color': '#022338'\r\n                    }\r\n                }, {\r\n                    'featureType': 'point',\r\n                    'elementType': 'all',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                    \r\n                }, {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#93c47d\",\r\n                              \"visibility\": \"off\"\r\n                    }\r\n          }]\r\n            },\r\n        },\r\n        series: [{\r\n            type: 'lines',\r\n            coordinateSystem: 'bmap',\r\n            polyline: true,\r\n            data: busLines,\r\n            silent: true,\r\n            lineStyle: {\r\n                normal: {\r\n                    opacity: 0.3,\r\n                    width: 1\r\n                }\r\n            },\r\n            progressiveThreshold: 500,\r\n            progressive: 100\r\n        }, {\r\n            type: 'lines',\r\n            coordinateSystem: 'bmap',\r\n            polyline: true,\r\n            data: busLines,\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 0.02\r\n                }\r\n            },\r\n            effect: {\r\n                constantSpeed: 40,\r\n                show: true,\r\n                trailLength: 0.02,\r\n                symbolSize: 2\r\n            },\r\n            zlevel: 1\r\n        },{\r\n            name:'浙A95527',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'bmap',\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}'\r\n                }\r\n            },\r\n            symbolSize: function(val) {\r\n                return val[2] / 4;\r\n            },\r\n            showEffectOn: 'render',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#f4e925',\r\n                    shadowBlur: 10,\r\n                    shadowColor: '#333'\r\n                }\r\n            },\r\n            data: [{\r\n                name: '浙A95527-告警',\r\n                value:[120.102281,30.281876,50]\r\n            }]\r\n        },{\r\n            name:'浙AGH2352',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'bmap',\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}'\r\n                }\r\n            },\r\n            symbolSize: function(val) {\r\n                return val[2] / 4;\r\n            },\r\n            showEffectOn: 'render',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#ff2200',\r\n                    shadowBlur: 10,\r\n                    shadowColor: '#333'\r\n                }\r\n            },\r\n            data: [{\r\n                name: '浙AGH2352-故障',\r\n                value:[120.155575,30.314324,70]\r\n            }]\r\n        }\r\n        ]\r\n    });\r\n});","html":"","externalScripts":"http://api.map.baidu.com/api?v=2.0&ak=hYCENCEx1nXO0Nt46ldexfG9oI49xBGh,http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-621198641","theme":"","layout":"","viewCount":2812,"userName":"l***2","commentCount":0,"starCount":23,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1rRq_ujb.png?v=1506474703225","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"l***2"}}