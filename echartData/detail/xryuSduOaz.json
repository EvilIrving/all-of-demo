{"status":0,"data":{"cid":"xryuSduOaz","authorUid":"bd-1947365975","authorUserName":"Kevin_pie","title":"盐城公安接警数量分布","description":"盐城公安接警数量分布","latestVersion":6,"alwaysLatest":1,"createTime":"2018-05-03T11:53:35.000Z","lastUpdateTime":"2018-05-03T11:53:35.000Z","auth":2,"uid":"bd-1947365975","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-14T07:16:24.000Z","code":"var geoCoordMap = {\n    '安丰派出所': [120.414229, 32.742268],\n    '安丰中队': [120.413761, 32.736904],\n    '城北派出所': [120.233519, 33.820345],\n    '城东派出所': [119.595099, 34.206175],\n    '东台河闸边防派出所': [120.914194, 32.878284],\n    '富安派出所': [120.491024, 32.679186],\n    '富安中队': [120.485251, 32.676356],\n    '海道桥派出所': [120.311399, 32.866706],\n    '何垛桥派出所': [120.329357, 32.859149],\n    '花舍派出所': [120.745484, 32.922478],\n    '弶港边防派出所': [120.855964, 32.755594],\n    '弶港派出所': [120.763107, 32.88946],\n    '交大开发区中队': [120.345513, 32.874541],\n    '廉贻中队': [120.252287, 32.898852],\n    '梁垛河闸边防派出所': [120.914194, 32.878284],\n    '梁垛派出所': [120.377517, 32.778627],\n    '南沈灶派出所': [120.53594, 32.784559],\n    '农干桥派出所': [120.77285, 32.77131],\n    '溱东派出所': [120.154838, 32.666296],\n    '溱东中队': [120.154838, 32.666296],\n    '三仓派出所': [120.670724, 32.773948],\n    '三仓中队': [120.690483, 32.779491],\n    '三里桥派出所': [120.324364, 32.850973],\n    '时堰派出所': [120.200697, 32.718924],\n    '事故中队': [120.330384, 32.864492],\n    '水上派出所': [118.872702, 34.766416],\n    '唐洋派出所': [120.7009, 32.638111],\n    '唐洋中队': [120.700838, 32.638034],\n    '头灶派出所': [120.557013, 32.894402],\n    '头灶中队': [120.572059, 32.892228],\n    '五烈派出所': [120.264926, 32.853785],\n    '新坝派出所': [120.298613, 32.849475],\n    '新东边防派出所': [120.862021, 32.683683],\n    '新港边防派出所': [120.842036, 32.614245],\n    '新街派出所': [120.7855, 32.677219],\n    '许河派出所': [120.653076, 32.73319],\n    '沿海高速公路一大队': [120.390438, 33.180384],\n    '沿海中队': [120.390438, 33.180388]\n\n};\n\nvar rawData = [{\n        name: '安丰派出所',\n        value: [0, 0, 25, 3, 3, 3, 3]\n    },\n    {\n        name: '安丰中队',\n        value: [0, 92, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '城北派出所',\n        value: [1, 0, 63, 2, 7, 7, 11]\n    },\n    {\n        name: '城东派出所',\n        value: [0, 0, 56, 0, 9, 5, 9]\n    },\n    {\n        name: '东台河闸边防派出所',\n        value: [1, 0, 1, 1, 0, 0, 0]\n    },\n    {\n        name: '富安派出所',\n        value: [1, 0, 31, 2, 5, 5, 5]\n    },\n    {\n        name: '富安中队',\n        value: [0, 58, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '海道桥派出所',\n        value: [4, 0, 43, 0, 19, 13, 20]\n    },\n    {\n        name: '何垛桥派出所',\n        value: [1, 0, 38, 4, 7, 10, 5]\n    },\n    {\n        name: '花舍派出所',\n        value: [0, 0, 5, 0, 0, 0, 1]\n    },\n    {\n        name: '弶港边防派出所',\n        value: [1, 0, 8, 0, 1, 3, 2]\n    },\n    {\n        name: '弶港派出所',\n        value: [0, 0, 3, 0, 0, 1, 1]\n    },\n    {\n        name: '交大开发区中队',\n        value: [0, 90, 1, 0, 0, 0, 0]\n    },\n    {\n        name: '廉贻中队',\n        value: [0, 74, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '梁垛河闸边防派出所',\n        value: [0, 0, 3, 0, 0, 0, 1]\n    },\n    {\n        name: '梁垛派出所',\n        value: [2, 0, 37, 0, 8, 5, 6]\n    },\n    {\n        name: '南沈灶派出所',\n        value: [1, 0, 12, 1, 1, 3, 4]\n    },\n    {\n        name: '农干桥派出所',\n        value: [0, 0, 2, 0, 0, 0, 0]\n    },\n    {\n        name: '溱东派出所',\n        value: [0, 0, 22, 3, 1, 3, 7]\n    },\n    {\n        name: '溱东中队',\n        value: [0, 46, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '三仓派出所',\n        value: [3, 0, 28, 0, 5, 1, 5]\n    },\n    {\n        name: '三仓中队',\n        value: [0, 52, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '三里桥派出所',\n        value: [2, 0, 51, 3, 12, 16, 15]\n    },\n    {\n        name: '时堰派出所',\n        value: [2, 0, 29, 2, 2, 4, 5]\n    },\n    {\n        name: '事故中队',\n        value: [0, 271, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '水上派出所',\n        value: [0, 0, 0, 0, 2, 0, 0]\n    },\n    {\n        name: '唐洋派出所',\n        value: [1, 0, 17, 1, 2, 1, 1]\n    },\n    {\n        name: '唐洋中队',\n        value: [0, 62, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '头灶派出所',\n        value: [1, 0, 22, 3, 3, 2, 10]\n    },\n    {\n        name: '头灶中队',\n        value: [0, 72, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '五烈派出所',\n        value: [4, 0, 29, 1, 3, 2, 7]\n    },\n    {\n        name: '新坝派出所',\n        value: [0, 0, 28, 1, 3, 11, 7]\n    },\n    {\n        name: '新东边防派出所',\n        value: [0, 0, 3, 0, 0, 0, 0]\n    },\n    {\n        name: '新港边防派出所',\n        value: [0, 0, 0, 0, 0, 1, 0]\n    },\n    {\n        name: '新街派出所',\n        value: [1, 0, 16, 0, 1, 1, 4]\n    },\n    {\n        name: '许河派出所',\n        value: [4, 0, 19, 1, 0, 0, 5]\n    },\n    {\n        name: '沿海高速公路一大队',\n        value: [0, 14, 0, 0, 0, 0, 0]\n    },\n    {\n        name: '沿海中队',\n        value: [0, 29, 0, 0, 0, 0, 0]\n    }\n\n];\n\nvar namearr = ['火灾事故',\n    '交通警情',\n    '纠纷',\n    '举报投诉',\n    '其他警情',\n    '群众求助',\n    '违法犯罪警情'\n];\n\nvar colorarr = ['#1921ff', '#266eff', '#01c3dd', '#008198', '#2ef4ab',\n    '#ffe074', '#ffcbcb'\n];\n\noption = {\n    backgroundColor: '#010b43',\n    top: '40%',\n    bottom: '-850%',\n    tooltip: {\n        trigger: 'axis'\n    },\n    geo: {\n        type: 'map',\n        center: [120.58108655195974, 33.601001169106716],\n        map: 'china',\n        label: {\n            normal: {\n                textStyle: {\n                    color: '#fff'\n                },\n                show: false\n            },\n            emphasis: {\n                textStyle: {\n                    color: '#C6A300'\n                },\n                show: false\n            }\n        },\n        itemStyle: {\n            normal: {\n                areaColor: \"rgba(0,0,0,0)\",\n                borderColor: \"#126cc4\",\n                borderWidth: 1.3\n            },\n            emphasis: {\n                areaColor: \"rgba(233,0,200,0.3)\"\n            }\n        }\n    },\n    series: []\n}\n\nfunction renderEachCity() {\n    var options = {\n        legend: [],\n        xAxis: [],\n        yAxis: [],\n        grid: [],\n        series: []\n    };\n\n    options.legend.push({\n        data: namearr,\n        itemWidth: 5,\n        itemHeight: 5,\n        textStyle: {\n            color: '#ddd',\n            fontSize: 10\n        },\n        top: '95%',\n        //bottom:'5%'\n    });\n\n    echarts.util.each(rawData, function(dataItem, idx) {\n        var geoCoord = geoCoordMap[dataItem.name];\n        var coord = myChart.convertToPixel('geo', geoCoord);\n        idx += '';\n\n        options.xAxis.push({\n            id: idx,\n            gridId: idx,\n            type: 'category',\n            name: dataItem.name,\n            nameStyle: {\n                color: '#ddd',\n                fontSize: 12\n            },\n            nameLocation: 'middle',\n            nameGap: 3,\n            splitLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false\n            },\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    color: '#bbb'\n                }\n            },\n            data: [dataItem.name],\n        });\n        options.yAxis.push({\n            id: idx,\n            gridId: idx,\n            show: false\n        });\n        options.grid.push({\n            id: idx,\n            width: 30,\n            height: 50,\n            left: coord[0] - 15,\n            top: coord[1] - 35,\n        });\n\n        for (var i = 0; i < namearr.length; i++) {\n            options.series.push({\n                name: namearr[i],\n                type: 'bar',\n                stack: 'bar' + idx,\n                xAxisId: idx,\n                yAxisId: idx,\n                barWidth: 12,\n                itemStyle: {\n                    normal: {\n                        color: colorarr[i]\n                    }\n                },\n                data: [dataItem.value[i]]\n            });\n        }\n\n    });\n    myChart.setOption(options);\n}\nsetTimeout(function() {\n    renderEachCity();\n}, 1);","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-1947365975","theme":"","layout":"","viewCount":1887,"userName":"Kevin_pie","commentCount":1,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryuSduOaz.png?v=1526282184785","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"Kevin_pie"}}