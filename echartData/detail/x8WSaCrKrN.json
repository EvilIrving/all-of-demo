{"status":0,"data":{"cid":"x8WSaCrKrN","authorUid":"bd-3793071787","authorUserName":"二***弃","title":"显示时间段内数据","description":"显示某一时间段内的数据","latestVersion":1,"alwaysLatest":1,"createTime":"2019-03-21T03:28:54.000Z","lastUpdateTime":"2019-03-21T03:28:54.000Z","auth":2,"uid":"bd-3793071787","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-21T03:28:54.000Z","code":"var data,times_e,yearName;//整个数据、要显示的时间段、标题\ndata=[\n        [\"2019-01-15\", 35.27, 5, 0],\n        [\"2019-02-02\", 35.27, 100, 117],\n        [\"2019-02-27\", 384.11, 100, 99],\n        [\"2019-02-27\", 384.11, 100, 99],\n        [\"2019-02-28\", 384.11, 100, 99],\n        [\"2019-03-01\", 384.11, 100, 99],\n        [\"2019-03-02\", 384.11, 100, 99],\n        [\"2019-03-03\", 384.11, 100, 99],\n        [\"2019-03-04\", 384.11, 100, 99],\n        [\"2019-03-04\", 384.11, 100, 99],\n        [\"2019-03-05\", 384.11, 100, 99],\n        [\"2019-03-06\", 384.11, 100, 99],\n        [\"2019-03-07\", 384.11, 100, 99]\n    ]\ntimes_e=[\"2019-01-01\", \"2019-06-30\"]; \nyearName='2019上半年';\noption = {\n   \t\t\tcolor:['#35C5F9','#FFD31C','#FF6F43','red'],\n    tooltip: {\n        trigger: 'item',\n        formatter:function (params) {\n\t\t\tvar value = '';\n\t\t\tif(params.componentIndex == 0){\n\t\t\t\tvalue=params.data[1]\n\t\t\t}else if(params.componentIndex == 1){\n\t\t\t\tvalue=params.data[2]\n\t\t\t}else if(params.componentIndex == 2){\n\t\t\t\tvalue=params.data[3]\n\t\t\t}\n\t\t\tvar showts='时间 : '+params.data[0]+'</br>'+\n\t\t\t\t\t\tparams.seriesName+' : '+value\n\n\t\t\treturn showts;\n\t\t}\n    },\n\n    legend: {\n        data: [{\n\t\t                name: '流量(GB)',\n\t\t                textStyle: {\n\t\t                    color: '#485377'\n\t\t                }\n\t\t            },\n\t\t            {\n\t\t                name: '话务量(Erl)',\n\t\t                textStyle: {\n\t\t                    color: '#485377'\n\t\t                }\n\t\t            },\n\t\t            {\n\t\t                name: '用户数(个)',\n\t\t                textStyle: {\n\t\t                    color: '#485377'\n\t\t                }\n\t\t            },\n\t\t            {\n\t\t                name: '工单',\n\t\t                textStyle: {\n\t\t                    color: '#485377'\n\t\t                }\n\t\t            }\n\t\t        ],\n\t\t        selected: {\n\t\t\t\t\t'流量(GB)': true,\n\t\t\t\t\t'话务量(Erl)': false,\n\t\t\t\t\t'用户数(个)': false,\n\t\t\t\t\t'工单': true\n\t\t\t\t}\n    },\n    calendar: [\n    {\n        left:'12%',\n\t        top:'25%',\n\t        right:'3%',\n\t        bottom:'10%',\n        range: times_e,\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#C8CADF',\n                width: 1,\n                type: 'solid'\n            }\n        },\n        yearLabel: {\n        \ttextStyle: {\n\t\t                    color: '#041241'\n\t\t               },\n            formatter: yearName,\n        },\n        monthLabel:{\n\t            formatter: \"{M}月\",\n\t            color:'#485377'\n\t        },\n\t        dayLabel:{\n\t           nameMap: \"cn\",\n\t           color:'#485377'\n\t        },\n        itemStyle: {\n            color:'red',\n            normal: {\n                color: '#E8ECF5',\n                borderWidth: 1,\n                borderColor: '#C8CADF'\n            }\n        }\n    }],\n    series: [\n        {\n            name: '流量(GB)',\n            type: 'scatter',\n            coordinateSystem: 'calendar',\n            calendarIndex: 0,\n            data: data.sort(function (a, b) {\n                return b[1] - a[1];\n            }).slice(0, 200),\n            symbolSize: function (val) {\n                return 12;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            zlevel: 2\n        },\n       {\n            name: '话务量(Erl)',\n            type: 'scatter',\n            coordinateSystem: 'calendar',\n            calendarIndex: 0,\n            data: data.sort(function (a, b) {\n                return b[2] - a[2];\n            }).slice(0, 200),\n            symbolSize: function (val) {\n                return 11;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            zlevel: 3\n        },\n        {\n            name: '用户数(个)',\n            type: 'scatter',\n            coordinateSystem: 'calendar',\n            calendarIndex: 0,\n            data: data.sort(function (a, b) {\n                return b[3] - a[3];\n            }).slice(0, 200),\n            symbolSize: function (val) {\n                return 9;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            zlevel: 4\n        },\n        {\n            name: '工单',\n            type: 'scatter',\n            coordinateSystem: 'calendar',\n            calendarIndex: 0,\n            data: data.sort(function (a, b) {\n                return b[4] - a[4];\n            }).slice(0, 200),\n            symbolSize: function (val) {\n                return 16;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            zlevel: 1\n        }\n    ]\n};\n\n\n// 前3项只能3选1，工单可选可不选\n// var infor3 = echarts.init($(\"#infor3\")[0]);\n// option1 = {\n        //   这里的内容就是上面的内容 \n// }\n// infor3.setOption(option1, true);\n// infor3.on('legendselectchanged',function(params){\n// \t\t\tfor(t in option1.legend.selected){\n// \t\t\t\tconsole.log(t);\n// \t\t\t\tif(params.name==t){\n// \t\t\t\t\tif(params.name==\"工单\"){\n// \t\t\t\t\t\tif(option1.legend.selected[t]==false){\n// \t\t\t\t\t\t\toption1.legend.selected[t]=true;\n// \t\t\t\t\t\t}else{\n// \t\t\t\t\t\t\toption1.legend.selected[t]=false;\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}else{\n// \t\t\t\t\t\toption1.legend.selected[t]==true?option1.legend.selected[t]=false:option1.legend.selected[t]=true\n// \t\t\t\t\t}\n// \t\t\t\t}else{\n// \t\t\t\t\tif(t!='工单' && params.name!='工单'){\n// \t\t\t\t\t\toption1.legend.selected[t]=false;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tinfor3.setOption(option1, true);\n// \t\t});\n\n\n\n","html":"","externalScripts":"","updaterUID":"bd-3793071787","theme":"","layout":"","viewCount":608,"userName":"二***弃","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8WSaCrKrN.png?v=1553138934865","isCustomThumbnail":0,"builtinTags":["calendar","category-work","legend","series-scatter","tooltip"],"customTags":[],"updaterUserName":"二***弃"}}