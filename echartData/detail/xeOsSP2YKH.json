{"status":0,"data":{"cid":"xeOsSP2YKH","authorUid":"bd-181101713","authorUserName":"j***6","title":"轮播柱状图","description":"轮播数据，tooltip根据鼠标位置计算，不固定位置，Y轴无刻线、无分割线，加箭头指示","latestVersion":3,"alwaysLatest":1,"createTime":"2019-05-29T02:04:23.000Z","lastUpdateTime":"2019-05-29T02:04:23.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-29T02:18:22.000Z","code":" var data = {\r\n     schoolYears: ['我是一个柱子', '耳机啊是你的', '啊就是觉得', '撒娇都是', '牛奶咖啡', '比比鸡鸡'],\r\n     studentsInEachSchoolYear: [12, 23, 43, 63, 29, 33]\r\n };\r\n //  轮播间隔3秒\r\n var intervalSecs = 3000;\r\n \r\n var myColor=['#F0F8FF','#B0C4DE','#778899','#6495ED','#4169E1','#00008B'];\r\n\r\n\r\n\r\n option = {\r\n     color: ['#1891FF'],\r\n     tooltip: {\r\n         trigger: 'axis',\r\n         axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n             type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n         },\r\n         //  不固定\r\n         position: function(pos, params, dom, rect, size) {\r\n             // 鼠标在左侧时 tooltip 显示到右侧，鼠标在右侧时 tooltip 显示到左侧。\r\n             var obj = {\r\n                 top: 60\r\n             };\r\n             obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 5;\r\n             return obj;\r\n         }\r\n         //  固定\r\n         //  position: ['80%', '10%']\r\n     },\r\n     grid: {\r\n         top: '12%',\r\n         left: '6%',\r\n         right: '6%',\r\n         bottom: '6%',\r\n         containLabel: true\r\n     },\r\n     xAxis: [{\r\n         type: 'category',\r\n         // data:['112','123','123'],\r\n         data: !data.schoolYears ? [] : data.schoolYears,\r\n         axisTick: {\r\n             alignWithLabel: false,\r\n             show: false\r\n         },\r\n         axisLine: {\r\n             lineStyle: {\r\n                 color: '#8098C5'\r\n             }\r\n         }\r\n\r\n     }],\r\n     yAxis: [{\r\n         type: 'value',\r\n         //分割线\r\n         splitLine: {\r\n             show: false\r\n         },\r\n         //刻度线\r\n         axisTick: {\r\n             show: false\r\n         },\r\n         //轴线\r\n         axisLine: {\r\n             lineStyle: {\r\n                 color: '#8098C5'\r\n             },\r\n             symbol: ['none', 'arrow'], //箭头\r\n             symbolSize: [4, 4],\r\n         }\r\n     }],\r\n     series: [{\r\n         type: 'bar',\r\n         //柱子宽度\r\n         barWidth: null,\r\n         // data:[123,232,42]\r\n         data: !data.studentsInEachSchoolYear ? [] : data.studentsInEachSchoolYear,\r\n         itemStyle: {\r\n             normal: {\r\n                 show: true,\r\n                //  循环颜色\r\n                 color: function(params) {\r\n                     var num = myColor.length;\r\n                     return myColor[params.dataIndex % num]\r\n                 },\r\n                 barBorderRadius: 8,\r\n                 borderWidth: 0,\r\n                 borderColor: '#333',\r\n             }\r\n         },\r\n     }]\r\n };\r\n\r\n\r\n\r\n /*轮播展示数据*/\r\n var count = 0;\r\n var timeTicket = null;\r\n var dataLength = option.xAxis[0].data.length;\r\n timeTicket && clearInterval(timeTicket);\r\n timeTicket = setInterval(function() {\r\n     myChart.dispatchAction({\r\n         type: 'downplay',\r\n         seriesIndex: 0,\r\n     });\r\n     myChart.dispatchAction({\r\n         type: 'highlight',\r\n         seriesIndex: 0,\r\n         dataIndex: (count) % dataLength\r\n     });\r\n     myChart.dispatchAction({\r\n         type: 'showTip',\r\n         seriesIndex: 0,\r\n         dataIndex: (count) % dataLength\r\n     });\r\n     count++;\r\n }, intervalSecs);\r\n\r\n myChart.on('mouseover', function(params) {\r\n     clearInterval(timeTicket);\r\n     myChart.dispatchAction({\r\n         type: 'downplay',\r\n         seriesIndex: 0\r\n     });\r\n     myChart.dispatchAction({\r\n         type: 'highlight',\r\n         seriesIndex: 0,\r\n         dataIndex: params.dataIndex\r\n     });\r\n     myChart.dispatchAction({\r\n         type: 'showTip',\r\n         seriesIndex: 0,\r\n         dataIndex: params.dataIndex,\r\n     });\r\n });\r\n myChart.on('mouseout', function(params) {\r\n     timeTicket && clearInterval(timeTicket);\r\n     timeTicket = setInterval(function() {\r\n         myChart.dispatchAction({\r\n             type: 'downplay',\r\n             seriesIndex: 0,\r\n         });\r\n         myChart.dispatchAction({\r\n             type: 'highlight',\r\n             seriesIndex: 0,\r\n             dataIndex: (count) % dataLength\r\n         });\r\n         myChart.dispatchAction({\r\n             type: 'showTip',\r\n             seriesIndex: 0,\r\n             dataIndex: (count) % dataLength\r\n         });\r\n         count++;\r\n     }, intervalSecs);\r\n });","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":992,"userName":"j***6","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeOsSP2YKH.png?v=1559096302747","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"j***6"}}