{"status":0,"data":{"cid":"xOCaqykkxF","authorUid":"bd-1800740195","authorUserName":"思***法","title":"收入同比增速","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-21T01:09:11.000Z","lastUpdateTime":"2020-05-21T01:09:11.000Z","auth":2,"uid":"bd-1800740195","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-21T01:11:16.000Z","code":"//财务格式数据\r\nfunction formatNum(strNum) {\r\n    if (strNum.length <= 3) {\r\n        return strNum;\r\n    }\r\n    if (!/^(\\+|-)?(\\d+)(\\.\\d+)?$/.test(strNum)) {\r\n        return strNum;\r\n    }\r\n    var a = RegExp.$1,\r\n        b = RegExp.$2,\r\n        c = RegExp.$3;\r\n    var re = new RegExp();\r\n    re.compile(\"(\\\\d)(\\\\d{3})(,|$)\");\r\n    while (re.test(b)) {\r\n        b = b.replace(re, \"$1,$2$3\");\r\n    }\r\n    return a + \"\" + b + \"\" + c;\r\n}\r\n//数据\r\nvar planCharge = [\"394637.59\"];\r\nvar realCharge = [\"999793.08\"];\r\n//根据数值判断前后显示\r\nvar seriesDemo1 = [{\r\n        name: '今年累计',\r\n        type: 'bar',\r\n        barWidth: 25,\r\n        z: 1,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideBottomRight',\r\n                // formatter: '{c}万元',\r\n                formatter: function(p) {\r\n                    return p.name + \":\" + formatNum(p.value) + \"万元\";\r\n                },\r\n                color: '#fff',\r\n                fontSize: 12,\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: '#4a90e2',\r\n                barBorderRadius: 50,\r\n                borderWidth: 0,\r\n                borderColor: '#333',\r\n            }\r\n        },\r\n        barGap: '0%',\r\n        barCategoryGap: '50%',\r\n        data: planCharge\r\n    },\r\n    {\r\n        name: '去年同期',\r\n        type: 'bar',\r\n        barWidth: 25,\r\n        yAxisIndex: 1,\r\n        z: 0,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideBottomRight',\r\n                // formatter: '{c}万元',\r\n                formatter: function(p) {\r\n                    return p.name + \":\" + formatNum(p.value) + \"万元\";\r\n                },\r\n                color: '#fff',\r\n                fontSize: 12,\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: '#98a3ad',\r\n                barBorderRadius: 50,\r\n                borderWidth: 0,\r\n                borderColor: '#333',\r\n            }\r\n        },\r\n        barGap: '0%',\r\n        barCategoryGap: '50%',\r\n        data: realCharge\r\n    }\r\n];\r\nvar seriesDemo2 = [{\r\n        name: '今年累计',\r\n        type: 'bar',\r\n        barWidth: 25,\r\n        z: 0,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideBottomRight',\r\n                // formatter: '{c}万元',\r\n                formatter: function(p) {\r\n                    return p.name + \":\" + formatNum(p.value) + \"万元\";\r\n                },\r\n                color: '#fff',\r\n                fontSize: 12,\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: '#4a90e2',\r\n                barBorderRadius: 50,\r\n                borderWidth: 0,\r\n                borderColor: '#333',\r\n            }\r\n        },\r\n        barGap: '0%',\r\n        barCategoryGap: '50%',\r\n        data: planCharge\r\n    },\r\n    {\r\n        name: '去年同期',\r\n        type: 'bar',\r\n        barWidth: 25,\r\n        yAxisIndex: 1,\r\n        z: 1,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideBottomRight',\r\n                // formatter: '{c}万元',\r\n                formatter: function(p) {\r\n                    return p.name + \":\" + formatNum(p.value) + \"万元\";\r\n                },\r\n                color: '#fff',\r\n                fontSize: 12,\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: '#98a3ad',\r\n                barBorderRadius: 50,\r\n                borderWidth: 0,\r\n                borderColor: '#333',\r\n            }\r\n        },\r\n        barGap: '0%',\r\n        barCategoryGap: '50%',\r\n        data: realCharge\r\n    }\r\n];\r\nif (parseInt(planCharge[0]) > parseInt(realCharge[0])) {\r\n    seriesDemo1 = seriesDemo2;\r\n}\r\n\r\noption = {\r\n    title: {\r\n        text: '收入同比增速',\r\n        y: '30px',\r\n        x: '20px',\r\n        textStyle: {\r\n            color: '#4c647c',\r\n            fontSize: '15',\r\n\r\n        }\r\n\r\n    },\r\n    backgroundColor: \"\",\r\n    legend: {\r\n        bottom: 20,\r\n        selectedMode: true, //取消右上角点击事件\r\n        textStyle: {\r\n            color: '#4c647c',\r\n        },\r\n        data: ['今年累计', '去年同期'],\r\n        x: '310',\r\n        y: '30',\r\n    },\r\n    grid: {\r\n        left: 'left',\r\n        bottom: '10%',\r\n        containLabel: false\r\n    },\r\n    tooltip: {\r\n        show: \"false\",\r\n        // formatter: '收入同比增速<br />{a0}: {c0}万元<br />{a1}: {c1}万元\r\n        formatter: function(params) {\r\n            var relVal = '收入同比增速';\r\n            for (var i = 0, l = params.length; i < l; i++) {\r\n                relVal += '<br/>' + params[i].seriesName + ' : ' + formatNum(params[i].value) + \"万元\";\r\n            }\r\n            return relVal;\r\n        },\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: '' //轴线为阴影类型\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'value',\r\n        show: false,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#fff',\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n    },\r\n    yAxis: [{\r\n            type: 'category',\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n                lineStyle: {\r\n                    color: '#fff',\r\n                }\r\n            },\r\n            data: [\"今年累计\"]\r\n        },\r\n        {\r\n            type: 'category',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            splitArea: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            data: [\"去年同期\"]\r\n        },\r\n\r\n    ],\r\n    dataZoom: [{\r\n        type: 'slider',\r\n        show: false,\r\n        yAxisIndex: [0, 1],\r\n        width: 25,\r\n        start: 1,\r\n        end: 99\r\n    }],\r\n    series: seriesDemo1\r\n};","html":"","externalScripts":"","updaterUID":"bd-1800740195","theme":"","layout":"","viewCount":414,"userName":"思***法","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOCaqykkxF.png?v=1590023476892","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","title","tooltip"],"customTags":["柱图"],"updaterUserName":"思***法"}}