{"status":0,"data":{"cid":"xG3GJsBZ0K","authorUid":"bd-3225283816","authorUserName":"啸***y","title":"PieChart","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-03-31T02:28:26.000Z","lastUpdateTime":"2021-03-31T02:28:26.000Z","auth":2,"uid":"bd-3225283816","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-31T02:28:26.000Z","code":"let index = 0;\r\n    var colorList = ['#73DDFF', '#73ACFF', '#FDD56A', '#FDB36A', '#FD866A', '#9E87FF', '#58D5FF'];\r\n    var data = [{\r\n        'name': '热点网格',\r\n        'value': 5600\r\n    }, {\r\n        'name': '大气污染',\r\n        'value': 3600\r\n    }, {\r\n        'name': '水质超标',\r\n        'value': 1500\r\n    }, {\r\n        'name': '在线超标',\r\n        'value': 2000\r\n    }, {\r\n        'name': '未知',\r\n        'value': 899\r\n    }, {\r\n        'name': '系统对接',\r\n        'value': 4000\r\n    }]\r\n    function fun() {\r\n    var timer = setInterval(function() {\r\n    console.log(index)\r\n    myChart.dispatchAction({\r\n        type: 'hideTip',\r\n        seriesIndex: 0,\r\n        dataIndex: index\r\n    });\r\n    // 显示提示框\r\n    myChart.dispatchAction({\r\n        type: 'showTip',\r\n        seriesIndex: 0,\r\n        dataIndex: index\r\n    });\r\n    // 取消高亮指定的数据图形\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0,\r\n        dataIndex: index == 0 ? 5 : index - 1\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: index\r\n    });\r\n    index++;\r\n    if (index > 5) {\r\n        index = 0;\r\n    }\r\n    }, 3000)\r\n    }\r\n    fun()\r\n    option = {\r\n    title: {\r\n    text: 'PieChart',\r\n    x: 'center',\r\n    y: 'center',\r\n    textStyle: {\r\n        fontSize: 20\r\n    }\r\n    },\r\n    tooltip: {\r\n    trigger: 'item'\r\n    },\r\n    legend: {\r\n      type: 'scroll',\r\n       orient: 'vertical',\r\n       right: '5%',\r\n       top: 'center',\r\n      //  itemGap: 40,\r\n       selectedMode: true,\r\n       icon: 'pin',\r\n       textStyle: {\r\n         rich: {\r\n             a: {\r\n                 color: '#000',\r\n                 width: 30\r\n             },\r\n             b0: {\r\n                 color: '#73DDFF',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             },\r\n             b1: {\r\n                 color: '#73ACFF',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             },\r\n             b2: {\r\n                 color: '#FDD56A',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             },\r\n             b3: {\r\n                 color: '#FDB36A',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             },\r\n             b4: {\r\n                 color: '#FD866A',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             },\r\n             b5: {\r\n                 color: '#9E87FF',\r\n                 fontSize: 20,\r\n                 padding: [0, 30, 0, 40]\r\n             }\r\n         }\r\n     },\r\n     formatter: function(name) {\r\n         let title = ''\r\n         var total = 0;\r\n         var target;\r\n         var index;\r\n         for (var i = 0, l = data.length; i < l; i++) {\r\n             if (data[i].name == name) {\r\n                 target = data[i].value;\r\n                 title = data[i].label\r\n                 index = i < 6 ? i : 5\r\n             }\r\n         }\r\n         return `{a| ${name}}{b${index}| ${target}}个`\r\n     }\r\n       \r\n   },\r\n    series: [{\r\n    type: 'pie',\r\n    center: ['50%', '50%'],\r\n    radius: ['50%', '70%'],\r\n    clockwise: true,\r\n    avoidLabelOverlap: true,\r\n    hoverOffset: 30,\r\n    emphasis:{\r\n        itemStyle:{\r\n            borderColor: '#f3f3f3',\r\n            borderWidth: 10\r\n        }\r\n    },\r\n    itemStyle: {\r\n        normal: {\r\n            color: function(params) {\r\n                return colorList[params.dataIndex]\r\n            }\r\n        }\r\n    },\r\n    label: {\r\n        show: true,\r\n        position: 'outside',\r\n        formatter: '{a|{b}：{d}%}\\n{hr|}',\r\n        rich: {\r\n            hr: {\r\n                backgroundColor: 't',\r\n                borderRadius: 1,\r\n                width: 1,\r\n                height: 1,\r\n                padding: [1, 1, 0, -4]\r\n            },\r\n            a: {\r\n                padding: [-15, 7, -10, 7]\r\n            }\r\n        }\r\n    },\r\n    labelLine: {\r\n        normal: {\r\n            length: 10,\r\n            length2: 15,\r\n            lineStyle: {\r\n                width: 1\r\n            }\r\n        }\r\n    },\r\n    data: data,\r\n    }]\r\n    };","html":"","externalScripts":"","updaterUID":"bd-3225283816","theme":"","layout":"","viewCount":66,"userName":"啸***y","commentCount":0,"starCount":26,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xG3GJsBZ0K.png?v=1617157707112","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"啸***y"}}