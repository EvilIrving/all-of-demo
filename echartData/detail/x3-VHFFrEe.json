{"status":0,"data":{"cid":"x3-VHFFrEe","authorUid":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","authorUserName":"白***鹫","title":"圆环图——渐变","description":"可以自定义渐变色设置","latestVersion":3,"alwaysLatest":1,"createTime":"2021-02-18T03:30:32.000Z","lastUpdateTime":"2021-02-18T03:35:47.000Z","auth":2,"uid":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-18T03:36:25.000Z","code":"//系列色配置\nvar colors = {\n    length: 3,\n    0: [{\n            offset: 0.2,\n            color: '#83bff6'\n        },\n        {\n            offset: 0.6,\n            color: '#188df0'\n        },\n        {\n            offset: 1,\n            color: '#188df0'\n        }\n    ],\n    1: [{\n            offset: 0.2,\n            color: '#bbbbce'\n        },\n        {\n            offset: 0.6,\n            color: '#9875d5'\n        },\n        {\n            offset: 1,\n            color: '#8157d4'\n        }\n    ],\n    2: [{\n            offset: 0.2,\n            color: '#bfa0ce'\n        },\n        {\n            offset: 0.6,\n            color: '#cd6787'\n        },\n        {\n            offset: 1,\n            color: '#d21952'\n        }\n    ]\n}\nvar data = [{\n    SeriesValue: [59, 70, 92]\n}, {\n    SeriesValue: [65, 67, 59]\n}, {\n    SeriesValue: [98, 87, 62]\n}]\nvar title_data = [{\n    show: true,\n    text: \"区间完成率\",\n    left: \"center\",\n    borderWidth: 1,\n    shadowColor: \"rgba(94, 63, 193, 1)\",\n    textStyle: {\n        fontSize: 16\n    }\n}, {\n    text: \"一区\",\n    left: \"16.666666666666668%\",\n    top: \"55%\",\n    textAlign: \"center\",\n    textStyle: {\n        fontSize: 15\n    }\n}, {\n    text: \"二区\",\n    left: \"50%\",\n    top: \"55%\",\n    textAlign: \"center\",\n    textStyle: {\n        fontSize: 15\n    }\n}, {\n    text: \"三区\",\n    left: \"83.33333333333334%\",\n    top: \"55%\",\n    textAlign: \"center\",\n    textStyle: {\n        fontSize: 15\n    }\n}]\nvar xData = [\"一区\", \"二区\", \"三区\"]\nvar Legend = {\n    show: true,\n    textStyle: {\n        color: '#FE80C8',\n        fontSize: 15\n    },\n    orient: \"horizontal\",\n    right: \"auto\",\n    top: \"15%\",\n    bottom: \"auto\",\n    itemGap: 12,\n    data: [\"日完成率\", \"周完成率\", \"月完成率\"]\n}\nvar placeHolderStyle = {\n    normal: {\n        color: 'rgba(0,0,0,0)',\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        }\n    },\n    emphasis: {\n        color: 'rgba(0,0,0,0)'\n    }\n};\nvar series_data = []\nvar title_data = [{\n    show: true,\n    text: '自定义系列渐变色',\n    left: 'center',\n    borderWidth: 1,\n    shadowColor: \"rgba(94, 63, 193, 1)\",\n    padding: [10, 10, 10, 10],\n    shadowBlur: 2,\n    borderColor: \"rgba(107, 106, 173, 0.93)\",\n    textStyle: {\n        fontSize: 20,\n        color: '#fff'\n    },\n}]\nvar color = [];\nfor (let i = 0; i < Legend.data.length; i++) {\n    //渐变色设置\n    color[i] = new echarts.graphic.LinearGradient(\n        0, 0, 1, 0, colors[i % colors.length]\n    )\n}\nvar maxRadius = 80\nvar series_annulusWidth = 15\nvar left = 100 / (data.length * 2)\nvar position = 'inner'\nvar label_fountSize = 10\nfor (let j = 0; j < data.length; j++) {\n    //标题赋值\n    let title = {\n        text: xData[j],\n        left: left * (1 + j * 2) + '%',\n        top: '55%',\n        textAlign: 'center',\n        textStyle: {\n            fontSize: 15,\n            color: '#fff'\n        },\n    }\n    // @ts-ignore\n    title_data.push(title)\n    //按分类添加系列\n    for (let i = 0; i < Legend.data.length; i++) {\n        let series = {\n            name: xData[j],\n            type: 'pie',\n            clockWise: true,\n            hoverAnimation: false,\n            radius: [maxRadius - (i + 1) * series_annulusWidth - i * 2 + '%', maxRadius - i * series_annulusWidth - i * 2 + '%'],\n            center: ['50%', '56%'],\n            left: 100 / data.length * j + '%',\n            right: 100 / data.length * (data.length - 1 - j) + '%',\n            itemStyle: {\n                color: color[i],\n            },\n            data: [{\n                    value: data[j].SeriesValue[i],\n                    name: Legend.data[i],\n                    label: {\n                        // 在文本中，可以对部分文本采用 rich 中定义样式。\n                        // 这里需要在文本中使用标记符号：\n                        // `{styleName|text content text content}` 标记样式名。\n                        // 注意，换行仍是使用 '\\n'。\n                        formatter: position == 'inner' ? '{c}%' : '{bottom|{b}}\\n {top|{c}%}',\n                        fontSize: label_fountSize,\n                        position: position,\n                        rich: {\n                            top: {\n                                verticalAlign: 'bottom',\n                                // bottom：文字在上圆点在下\n                                // top: 文字在下圆点在上\n                                padding: [5, 5, 0, 0],\n                                fontSize: label_fountSize,\n                                // padding：[上， 右， 下，左]，\n                                // 上：圆点到上文字间距, 文字上移距离\n                                // 右：文字与右侧圆点间距, 文字左移距离\n                                // 下：圆点到下文字间距, 文字下移距离\n                                // 左：文字与左侧圆点间距, 文字右移距离\n                                align: 'center'\n                                // center:文字圆点居中，right文字在圆点左侧，left文字在圆点右侧\n                            },\n                            bottom: {\n                                padding: [0, 5, 5, 0],\n                                fontSize: label_fountSize,\n                                verticalAlign: 'top',\n                                align: 'center'\n                            }\n                        }\n                    },\n                    labelLine: {\n                        length: (i + 1) * 10,\n                        lineStyle: {\n                            width: 2,\n                            color: \"rgba(251, 247, 247, 1)\"\n                        }\n                    },\n                },\n                {\n                    value: 100 >= data[j].SeriesValue[i] ? 100 - data[j].SeriesValue[i] : 0,\n                    itemStyle: placeHolderStyle\n                }\n            ],\n            z: i + 1\n        }\n        series_data.push(series)\n    }\n}\noption = {\n    color: [\"#857ABA\", \"#4C3CAE\", \"#8C0F86\", \"#CA2C95\", \"#E1A4C4\", \"#857ABA\"],\n    title: title_data,\n    tooltip: {\n        show: true,\n        formatter: \"{a} <br/>{b} : {c}%\"\n    },\n    legend: Legend,\n    series: series_data\n};","html":"","externalScripts":"","updaterUID":"obd-olmfWOISzDvRz3PoktuOKx2EPkpLL0U","theme":"dark","layout":"","viewCount":36,"userName":"白***鹫","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x3-VHFFrEe.png?v=1613619385922","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"白***鹫"}}