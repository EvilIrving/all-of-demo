{"status":0,"data":{"cid":"xS82_6e10E","authorUid":"bd-3489355751","authorUserName":"火***冰","title":"上海市地图","description":"市区统称为市区","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-04T07:31:27.000Z","lastUpdateTime":"2021-08-04T10:09:43.000Z","auth":2,"uid":"bd-3489355751","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-08-04T10:09:43.000Z","code":"\nvar uploadedDataURL = \"/asset/get/s/data-1559121640669-cC3-ztp_y.json\";\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('shanghai', geoJson);\n    myChart.hideLoading();\n    let chartData=[\n       {name: '上海市区', latlong:[121.430317, 31.222771],value:Math.random()*200},\n       {name: '闵行区'  , latlong:[121.375972, 31.111658],value:Math.random()*200},\n       {name: '宝山区'  , latlong:[121.489934, 31.398896],value:Math.random()*200},\n       {name: '嘉定区'  , latlong:[121.250333, 31.383524],value:Math.random()*200},\n       {name:'浦东新区' , latlong:[121.567706, 31.245944],value:Math.random()*200},\n       {name: '金山区'  , latlong:[121.330736, 30.724697],value:Math.random()*200},\n       {name: '松江区'  , latlong: [121.223543, 31.03047],value:Math.random()*200},\n       {name: '青浦区'  , latlong:[121.113021, 31.151209],value:Math.random()*200},\n       {name: '奉贤区'  , latlong:[121.458472, 30.912345],value:Math.random()*200},\n       {name: '崇明区'  , latlong:[121.397516, 31.626946],value:Math.random()*200},\n        ]\n\n   chartData=chartData.map((item)=>{\n       let a=[...item.latlong,item.value]\n       return  {name:item.name,value:item.value,scatter:[...item.latlong,item.value]}\n   })\n   debugger\n\n    option = {\n        backgroundColor: 'rgba(10,12,55,1)',\n       \n        tooltip: {\n            trigger: 'item',\n            backgroundColor: '#09bdb1',\n            borderColor: '#FFFFCC',\n            showDelay: 0,\n            hideDelay: 0,\n            enterable: true,\n            transitionDuration: 0,\n            extraCssText: 'z-index:100',\n            formatter: function(params, ticket, callback) {\n                //根据业务自己拓展要显示的内容\n                var res = \"\";\n                var name = params.name;\n                var value = params.value;\n                res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n                return res;\n            }\n        },\n        legend: {\n            orient: 'vertical',\n            top: 'top',\n            left: 'right',\n            data: ['credit_pm2.5'],\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        geo: {\n           map: 'shanghai',\n               itemStyle: {\n                    normal: {\n                        areaColor: '#24CFF4',\n                        borderColor: '#53D9FF',\n                        borderWidth: 1.3,\n                        shadowBlur: 15,\n                        shadowColor: 'rgb(58,115,192)',\n                        shadowOffsetX: 7,\n                        shadowOffsetY: 6,\n                    },\n                    emphasis: {\n                        areaColor: '#8dd7fc',\n                        borderWidth: 1.6,\n                        shadowBlur: 25,\n                    }\n\n                },\n        },\n          visualMap: {\n                //min: 0,\n                //max: 1,\n                left: '3%',\n                bottom: '5%',\n                calculable: true,\n                seriesIndex: [0],\n                inRange: {\n                    color: ['#24CFF4', '#2E98CA', '#1E62AC']\n                },\n                textStyle: {\n                    color: '#24CFF4'\n                }\n            },\n        series: [ {\n                    \n                    type: 'map',\n                    geoIndex: 0,\n                    map: 'shanghai',\n                    roam: true,\n                    zoom: 1.3,\n                    tooltip: {\n                        trigger: \"item\",\n                        formatter: p => {\n                            let val = p.value;\n                            if (p.name == '南海诸岛') return\n                            if (window.isNaN(val)) {\n                                val = 0;\n                            }\n                            let txtCon =\n                                \"<div style='text-align:left'>\" + p.name + \":<br />销售额：\" + val.toFixed(2) + '万</div>';\n                            return txtCon;\n                        }\n                    },\n                    label: {\n                        normal: {\n                            show: false,\n                        },\n                        emphasis: {\n                            show: false,\n                        }\n                    },\n                    data: chartData,\n\n                },{\n                    name: '散点',\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    rippleEffect: {\n                        brushType: 'fill'\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#F4E925',\n                            shadowBlur: 10,\n                            shadowColor: '#333'\n                        }\n                    },\n                    data: chartData.map((it)=>{\n                        return {name:it.name,value:it.scatter}\n                    }),\n                     symbolSize: function(val) {\n                         return val[2] / 10;\n                     },\n                    showEffectOn: 'render', //加载完毕显示特效\n                }\n        ]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-3489355751","theme":"","layout":"","viewCount":0,"userName":"火***冰","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS82_6e10E.png?v=1628071783977","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"火***冰"}}