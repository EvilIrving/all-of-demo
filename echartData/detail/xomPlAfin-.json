{"status":0,"data":{"cid":"xomPlAfin-","authorUid":"bd-3489355751","authorUserName":"火***冰","title":"地图","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-08-06T09:55:16.000Z","lastUpdateTime":"2021-08-08T06:32:36.000Z","auth":2,"uid":"bd-3489355751","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2021-08-08T06:32:36.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1528971808162-BkOXf61WX.json';\n\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('china', geoJson);\n\n    var colors = ['rgba(0,255,0,0.24)', 'rgba(0,255,0,0.50)', 'rgba(0,255,0,1)']\n    let chartData = [\n        {\n            year:2021,\n            month:1,\n            name: '内蒙古',\n            coord: [110.3467, 41.4899],\n            from: [\n                { name: '甘肃', coord: [103.5901, 36.3043], value: 100 },\n                { name: '宁夏', coord: [106.3586, 38.1775], value: 100 },\n                { name: '青海', coord: [101.4038, 36.8207], value: 100 },\n                { name: '新疆', coord: [87.9236, 43.5883], value: 100 },\n                { name: '西藏', coord: [91.11, 29.97], value: 100 },\n                { name: '四川', coord: [103.9526, 30.7617], value: 100 },\n                { name: '重庆', coord: [108.384366, 30.439702], value: 100 },\n                { name: '山东', coord: [117.1582, 36.8701], value: 100 },\n                { name: '河南', coord: [113.4668, 34.6234], value: 100 },\n                { name: '江苏', coord: [118.8062, 31.9208], value: 100 },\n                { name: '安徽', coord: [117.29, 32.0581], value: 100 },\n                { name: '湖北', coord: [114.3896, 30.6628], value: 100 },\n                { name: '浙江', coord: [119.5313, 29.8773], value: 100 },\n                { name: '福建', coord: [119.4543, 25.9222], value: 100 },\n                { name: '江西', coord: [116.0046, 28.6633], value: 100 },\n                { name: '湖南', coord: [113.0823, 28.2568], value: 100 },\n                { name: '贵州', coord: [106.6992, 26.7682], value: 100 },\n                { name: '云南', coord: [102.9199, 25.4663], value: 100 },\n                { name: '广东', coord: [113.12244, 23.009505], value: 100 },\n                { name: '广西', coord: [108.479, 23.1152], value: 100 },\n                { name: '海南', coord: [110.3893, 19.8516], value: 100 },\n            ],\n        },\n        {\n            name: '重庆',\n            year:2021,\n            month:1,\n            coord: [108.384366, 30.439702],\n            from: [\n                { name: '黑龙江', coord: [127.9688, 45.368], value: 100 },\n                { name: '内蒙古', coord: [110.3467, 41.4899], value: 100 },\n                { name: '吉林', coord: [125.8154, 44.2584], value: 100 },\n                { name: '北京市', coord: [116.4551, 40.2539], value: 100 },\n                { name: '辽宁', coord: [123.1238, 42.1216], value: 100 },\n                { name: '河北', coord: [114.4995, 38.1006], value: 100 },\n                { name: '天津', coord: [117.4219, 39.4189], value: 100 },\n                { name: '山西', coord: [112.3352, 37.9413], value: 100 },\n                { name: '陕西', coord: [109.1162, 34.2004], value: 100 },\n                { name: '甘肃', coord: [103.5901, 36.3043], value: 100 },\n                { name: '宁夏', coord: [106.3586, 38.1775], value: 100 },\n                { name: '青海', coord: [101.4038, 36.8207], value: 100 },\n                { name: '新疆', coord: [87.9236, 43.5883], value: 100 },\n                { name: '西藏', coord: [91.11, 29.97], value: 100 },\n\n                { name: '广西', coord: [108.479, 23.1152], value: 100 },\n                { name: '海南', coord: [110.3893, 19.8516], value: 100 },\n            ],\n        },\n    ];\n\n    let optionXyMap01 = {\n        timeline: {\n            data: chartData.map((m) => {\n                return m.name;\n            }),\n            axisType: 'category',\n            autoPlay: true,\n            playInterval: 3000,\n            left: '10%',\n            right: '10%',\n            bottom: '3%',\n            width: '80%',\n             label: {\n                normal: {\n                    textStyle: {\n                        color: 'rgba(2,139,255,1)'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: 'rgba(2,139,255,1)'\n                    }\n                }\n            },\n            \n            symbolSize: 10,\n            lineStyle: {\n                color: 'rgba(40,68,253,0.6)'\n            },\n            checkpointStyle: {\n                borderColor: 'rgba(113,245,247,1)',\n                color: 'rgba(40,68,253,1)',\n                borderWidth: 2,\n            },\n            controlStyle: {\n                showNextBtn: true,\n                showPrevBtn: true,\n                normal: {\n                    color: 'rgba(40,68,253,0.6)',\n                    borderColor: 'rgba(40,68,253,0.6)'\n                },\n                emphasis: {\n                    color: 'rgba(40,68,253,0.6)',\n                    borderColor: 'rgba(40,68,253,0.6)'\n                }\n            }\n        },\n        baseOption: {\n            animation: true,\n            animationDuration: 1000,\n            animationEasing: 'cubicInOut',\n            animationDurationUpdate: 1000,\n            animationEasingUpdate: 'cubicInOut',\n            grid: {\n                right: '1%',\n                top: '15%',\n                bottom: '10%',\n                width: '20%',\n            },\n            visualMap: {\n                text: ['高', '低'],\n                showLabel: false,\n                left: '3%',\n                bottom: '20%',\n                calculable: true,\n                seriesIndex: [1, 2, 3],\n                inRange: {\n                    color: colors,\n                },\n                textStyle: {\n                    color: '#24CFF4',\n                },\n            },\n            tooltip: {\n                trigger: 'axis', // hover触发器\n                axisPointer: {\n                    // 坐标轴指示器，坐标轴触发有效\n                    type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n                    shadowStyle: {\n                        color: 'rgba(150,150,150,0.1)', //hover颜色\n                    },\n                },\n            },\n            geo: {\n                show: true,\n                map: 'china',\n                roam: false,\n                zoom: 1,\n                label: {\n                    emphasis: {\n                        show: false,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#092765', //地图背景色\n                        borderColor: 'RGB(083, 217, 255,0.3)', //省市边界线00fcff 516a89\n                        borderWidth: 5,\n                        shadowColor: 'rgba(128, 217, 248, 1)',\n                        shadowBlur: 5,\n                    },\n                    emphasis: {\n                        areaColor: 'rgba(2,139,255,1)',\n                        borderWidth: 0,\n                    },\n                    emphasis: {\n                        color: 'RGB(037, 120, 184)', //悬浮背景\n                        borderWidth: 0,\n                    },\n                },\n            },\n        },\n        options: [],\n    };\n    for (var it of chartData) {\n        optionXyMap01.options.push({\n            backgroundColor: '#000000',\n\n            series: [\n                //地图\n                {\n                    type: 'map',\n                    map: 'china',\n                    roam: false,\n                    //geoIndex: 0,\n                    //aspectScale: 1, //长宽比\n                    showLegendSymbol: false, // 存在legend时显示\n                    label: {\n                        normal: {\n                            show: false,\n                        },\n                        emphasis: {\n                            show: false,\n                            textStyle: {\n                                color: '#fff',\n                            },\n                        },\n                    },\n\n                    itemStyle: {\n                        normal: {\n                            borderColor: 'RGB(083, 217, 255,0.5)', //省市边界线00fcff 516a89\n                            borderWidth: 1,\n                            areaColor: 'RGB(000, 038, 109)',\n                        },\n                        emphasis: {\n                            areaColor: 'RGB(037, 120, 184)', //悬浮背景\n                            borderWidth: 0,\n                        },\n                    },\n                    animation: true,\n                    data: it.from.map((item) => {\n                        return { name: item.name, value: [...item.coord, item.value] };\n                    }),\n                },\n                //地图线的动画效果\n                {\n                    type: 'lines',\n                    zlevel: 2,\n                    effect: {\n                        show: true,\n                        period: 5, //箭头指向速度，值越小速度越快\n                        trailLength: 0.2, //特效尾迹长度[0,1]值越大，尾迹越长重\n                        symbol: 'arrow', //箭头图标\n                        symbolSize: 6, //图标大小\n                    },\n                    lineStyle: {\n                        normal: {\n                            //color: colors[0],\n                            width: 0.1, //尾迹线条宽度\n                            opacity: 0.5, //尾迹线条透明度\n                            curveness: 0.3, //尾迹线条曲直度\n                        },\n                    },\n\n                    data: it.from.map((item) => {\n                        return [\n                            {\n                                coord: item.coord,\n                                value: item.value,\n                            },\n                            {\n                                coord: it.coord,\n                                name:it.name\n                            },\n                        ];\n                    }),\n                },\n                {\n                    //文字和标志\n                    name: 'light',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    data: it.from.map((item) => {\n                        return { name: item.name, value: [...item.coord, item.value] };\n                    }),\n                    symbolSize: function (val) {\n                        return val[2] / 10;\n                    },\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            position: 'right',\n                            show: true,\n                        },\n                        emphasis: {\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            //color: colors[0],\n                        },\n                    },\n                },\n                //地图点的动画效果\n                {\n                    //  name: 'Top 5',\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    data: it.from.map((item) => {\n                        return { name: item.name, value: [...item.coord, item.value] };\n                    }),\n                    symbolSize: function (val) {\n                        return val[2] / 10;\n                    },\n                    showEffectOn: 'render',\n                    rippleEffect: {\n                        brushType: 'stroke',\n                    },\n                    hoverAnimation: true,\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            position: 'right',\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            //color: colors[0],\n                            shadowBlur: 10,\n                           // shadowColor: colors[0],\n                        },\n                    },\n                    zlevel: 1,\n                },\n            ],\n        });\n    }\n    myChart.setOption(optionXyMap01);\n});\n","html":"","externalScripts":"","updaterUID":"bd-3489355751","theme":"","layout":"","viewCount":0,"userName":"火***冰","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xomPlAfin-.png?v=1628404356495","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","series-scatter","timeline","tooltip"],"customTags":[],"updaterUserName":"火***冰"}}