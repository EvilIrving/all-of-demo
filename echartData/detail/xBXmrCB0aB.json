{"status":0,"data":{"cid":"xBXmrCB0aB","authorUid":"bd-7382906384","authorUserName":"满***6","title":"地图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-04T10:14:54.000Z","lastUpdateTime":"2021-01-04T10:14:54.000Z","auth":2,"uid":"bd-7382906384","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-04T10:14:54.000Z","code":"loadMap('/asset/get/s/data-1591152454850-nnifVpUft.json', 'china'); //初始化全国地图\r\nlet provincesName = [\r\n    '上海',\r\n    '河北',\r\n    '山西',\r\n    '内蒙古',\r\n    '辽宁',\r\n    '吉林',\r\n    '黑龙江',\r\n    '江苏',\r\n    '浙江',\r\n    '安徽',\r\n    '福建',\r\n    '江西',\r\n    '山东',\r\n    '河南',\r\n    '湖北',\r\n    '湖南',\r\n    '广东',\r\n    '广西',\r\n    '海南',\r\n    '四川',\r\n    '贵州',\r\n    '云南',\r\n    '西藏',\r\n    '陕西',\r\n    '甘肃',\r\n    '青海',\r\n    '宁夏',\r\n    '新疆',\r\n    '北京',\r\n    '天津',\r\n    '重庆',\r\n    '香港',\r\n    '澳门',\r\n    '台湾',\r\n];\r\nlet item=[];\r\nprovincesName.map(it => {\r\n    let obj = {\r\n        \"code\": \"12\",\r\n        \"area\": it,\r\n        \"board_num\":Math.random()*100,\r\n        \"ask_num\": 500+Math.random()*1000,\r\n        \"sign_num\": Math.random()*10\r\n    };\r\n    item.push(obj);\r\n})\r\n\r\nitem.map(function(i) {\r\n    i.name = i.area;\r\n    i.value = i.ask_num; //这个参数决定颜色深浅\r\n    return i\r\n});\r\nfunction loadMap(mapCode, name) {\r\n    $.get(mapCode, function(data) {\r\n        if (data) {\r\n            echarts.registerMap(name, data);\r\n            var option = {\r\n                title: {\r\n                    text: '全国地域分析',\r\n                    left: 'center',\r\n                },\r\n                tooltip: {\r\n                    formatter: function(params) {\r\n                        if (params.data) {\r\n                            return params.name + '<br>' + '咨询数:' + params.data.ask_num + '<br>' + '留言数:' + params.data.board_num + '<br>' + '用户数:' + params.data.sign_num + '<br>';\r\n                        } else {\r\n                            return params.name + '<br>' + '咨询数:' + 0 + '<br>' + '留言数:' + 0 + '<br>' + '用户数:' + 0 + '<br>';\r\n                        }\r\n                    }\r\n\r\n                },\r\n                visualMap: {\r\n                    min: 0,\r\n                    max: 1500,\r\n                    left: 'left',\r\n                    top: 'bottom',\r\n                    text: ['高', '低'],\r\n                    calculable: true,\r\n                    // seriesIndex: [1],\r\n                    inRange: {\r\n                        color: ['#A5DCF4', '#006edd', ]\r\n                    },\r\n                    show: true\r\n                },\r\n                toolbox: {\r\n                    show: true,\r\n                    feature: {\r\n                        saveAsImage: {\r\n                            pixelRatio: 4\r\n                        }\r\n                    }\r\n                },\r\n                series: [{\r\n                    type: 'map',\r\n                    mapType: name,\r\n                    selectedMode: 'false', //是否允许选中多个区域\r\n                    label: {\r\n                        normal: {\r\n                            show: true\r\n                        },\r\n                        emphasis: {\r\n                            show: true\r\n                        }\r\n                    },\r\n                    data: item\r\n                }]\r\n            };\r\n            myChart.setOption(option);\r\n        } else {\r\n            alert('无法加载该地图');\r\n        }\r\n    });\r\n}","html":"","externalScripts":"","updaterUID":"bd-7382906384","theme":"","layout":"","viewCount":232,"userName":"满***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBXmrCB0aB.png?v=1609755295158","isCustomThumbnail":0,"builtinTags":["category-work","series-map","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"满***6"}}