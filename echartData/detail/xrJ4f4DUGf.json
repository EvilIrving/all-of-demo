{"status":0,"data":{"cid":"xrJ4f4DUGf","authorUid":"bd-1664726201","authorUserName":"鬼事佛","title":"年龄阶段","description":"嵌套占比环图","latestVersion":1,"alwaysLatest":1,"createTime":"2017-12-19T10:03:56.000Z","lastUpdateTime":"2017-12-19T10:03:56.000Z","auth":2,"uid":"bd-1664726201","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-19T10:03:56.000Z","code":"//使用markPoint，上一个使用legend，上上一个使用x轴\r\nvar colorList = ['#fa5f7d','#fff'];\r\nvar data=[{\r\n\t\t\"name\":'未成年',\r\n\t\t\"value\":46,\r\n\t\t\"mark\":\"weichen\"\r\n     },{\r\n\t\t\"name\":'青年',\r\n\t\t\"value\":20\r\n     },{\r\n\t\t\"name\":'中年',\r\n\t\t\"value\":14\r\n     },{\r\n\t\t\"name\":'老年',\r\n\t\t\"value\":10\r\n     }];\r\nvar create=function(data){\r\n    var result = [];\r\n   for(var i=0;i<data.length;i++){\r\n        result.push({\r\n        name:'',\r\n        center: [\r\n            '50%',\r\n            '50%'\r\n        ],\r\n        radius: [\r\n            200-20*i,\r\n            201-20*i\r\n        ],\r\n        type: 'pie',\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n          markPoint: {\r\n            data: [{\r\n                        symbol: 'triangle',\r\n                        symbolSize: 0.01,\r\n                        symbolRotate: 0,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: 'transparent'\r\n                            }\r\n                        },\r\n                        name: data[i].name,\r\n                        value:data[i].value,\r\n                        x: myChart.getWidth()/2-(10*((data[i].name+\" \"+data[i].value).length)),\r\n                        y:17+i*20,\r\n                        label: {\r\n                            normal: {\r\n                                show: true,\r\n                                position: 'center',\r\n                                formatter: function(params) {\r\n                                    return params.name+params.value;\r\n                                },\r\n                                textStyle: {\r\n                                    color: '#444'\r\n                                }\r\n                            }\r\n                        },\r\n                    }\r\n            ]\r\n        },\r\n        /* markLine:{\r\n            silent: true,\r\n            symbolSize:0,\r\n            data:[{ \r\n                \r\n               0: {\r\n                x: i* 25 + '%', \r\n                y:  '40%',\r\n                lineStyle: {\r\n                    normal: {\r\n                        color:!!i ?'#ccc':'transparent' ,\r\n                        width: 1,\r\n                        type: 'solid'\r\n                    }\r\n                 }\r\n                    \r\n                },\r\n                 1: {\r\n                    \r\n                 x: i* 25  + '%',  \r\n                y:  '70%',\r\n                lineStyle: {\r\n                    normal: {\r\n                        color: !!i ?'#ccc':'transparent' ,\r\n                        width: 1,\r\n                        type: 'solid'\r\n                    }\r\n                 }\r\n                    \r\n                }\r\n               \r\n               \r\n                \r\n            }]\r\n        },*/\r\n        data: [{\r\n            value: data[i].value,\r\n            name: data[i].name,\r\n            itemStyle: {\r\n                normal: {\r\n                    color:colorList[0],\r\n                    borderColor: colorList[0],\r\n                    borderWidth: 5\r\n                },\r\n                emphasis: {\r\n                    color: colorList[0],\r\n                    borderColor: colorList[0],\r\n                    borderWidth: 5\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{d} %',\r\n                    show: false,\r\n                    textStyle: {\r\n                        fontSize: '16',\r\n                        fontWeight: 'bold',\r\n                        color:'black'\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            value: (100-data[i].value),\r\n            name: '',\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: colorList[1],\r\n                    borderColor: colorList[1],\r\n                    borderWidth: 1\r\n                },\r\n                emphasis: {\r\n                    color: colorList[1],\r\n                    borderColor: colorList[1],\r\n                    borderWidth: 1\r\n                }\r\n            },\r\n            hoverAnimation: false\r\n        }]\r\n    });\r\n   }\r\n     return result;\r\n};\r\n\r\noption = {\r\n    title : {\r\n        text: '年龄阶段',\r\n        x:'center',\r\n        y:'center'\r\n    },\r\n    backgroundColor:'#fff',\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(params, ticket, callback) {\r\n            var res= params.name + ' : ' + params.percent + '%';\r\n            return res;\r\n        }\r\n    },\r\n    series:create(data)\r\n};","html":"","externalScripts":"","updaterUID":"bd-1664726201","theme":"","layout":"","viewCount":413,"userName":"鬼事佛","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJ4f4DUGf.png?v=1513677836437","isCustomThumbnail":0,"builtinTags":["category-work","markPoint","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"鬼事佛"}}