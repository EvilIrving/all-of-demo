{"status":0,"data":{"cid":"xPgDIMrLbi","authorUid":"obd-ot3TRAYqjMeTWzW4ZlAjPj9Yi8UQr8g","authorUserName":"离***2","title":"柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-15T05:38:33.000Z","lastUpdateTime":"2021-11-15T05:38:33.000Z","auth":2,"uid":"obd-ot3TRAYqjMeTWzW4ZlAjPj9Yi8UQr8g","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-15T05:38:33.000Z","code":"let tdata = [\n    { code: '相关舆情', stock: '5408', fundPost: '19785' },\n    { code: '事件总数', stock: '4007', fundPost: '16064' },\n    { code: '标准警情数', stock: '1382', fundPost: '14319' },\n    { code: '案件总数', stock: '457', fundPost: '13100' },\n];\nfunction contains(arr, dst) {\n    var i = arr.length;\n    while ((i -= 1)) {\n        if (arr[i] == dst) {\n            return i;\n        }\n    }\n    return false;\n}\n\nvar attackSourcesColor = [\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: 'rgba(32,220,249,0.1)' },\n        { offset: 1, color: 'rgba(32,220,249,1.000)' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: 'rgba(55,230,173,0.1)' },\n        { offset: 1, color: 'rgba(55,230,173,1.000)' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: 'rgba(244,199,0,0.1)' },\n        { offset: 1, color: 'rgba(244,199,0,1.000)' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: 'rgba(130,164,170,1)' },\n        { offset: 1, color: 'rgba(130,164,170,1.000)' },\n    ]),\n];\nvar attackSourcesColor1 = ['#20dcf9', '#37e6ad', '#f4c700', '#82a4aa'];\nvar attaData = [];\nvar attaName = [];\nvar topName = ['相关舆情', '事件总数', '标准警情数', '案件总数'];\ntdata.forEach((it, index) => {\n    attaData[index] = parseFloat(it.fundPost).toFixed(2);\n    attaName[index] = it.stock;\n    topName[index] = `${it.code} ${it.stock}`;\n});\nvar salvProMax = []; //背景按最大值\nfor (let i = 0; i < attaData.length; i++) {\n    salvProMax.push(attaData[0]);\n}\nfunction attackSourcesDataFmt(sData) {\n    var sss = [];\n    sData.forEach(function (item, i) {\n        let itemStyle = {\n            color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i],\n        };\n        sss.push({\n            value: item,\n            itemStyle: itemStyle,\n        });\n    });\n    return sss;\n}\n\noption = {\n    backgroundColor: '#000',\n    tooltip: {\n        show: false,\n        textStyle: {\n            fontSize: 16,\n        },\n    },\n    color: ['#05071e'],\n    legend: {\n        show: false,\n        pageIconSize: [12, 12],\n        itemWidth: 20,\n        itemHeight: 10,\n        textStyle: {\n            //图例文字的样式\n            fontSize: 10,\n            color: '#fff',\n        },\n        selectedMode: false,\n        //data: ['个人所得(亿元)'],\n    },\n    grid: {\n        left: '2%',\n        right: '0',\n        width: '90%',\n        bottom: '-4%',\n        top: '8%',\n        containLabel: true,\n    },\n    xAxis: {\n        type: 'value',\n\n        splitLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisPointer: {\n                label: {\n                    show: true,\n                    //margin: 30\n                },\n            },\n            padding: [5, 0, 0, 0],\n            //postion: \"right\",\n            data: attaName,\n            axisLabel: {\n                show: true,\n                margin: 30,\n                fontSize: 20,\n                align: 'left',\n                padding: [0, 0, 0, -230],\n                color: '#000',\n                rich: {\n                    nt0: {\n                        color: attackSourcesColor1[0],\n                        // backgroundColor: attackSourcesColor1[3],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 30,\n                        lineHeight: 3,\n                        padding: [0, 0, 0, 0],\n                        lineHeight: 5,\n                    },\n                    nt1: {\n                        color: attackSourcesColor1[1],\n                        // backgroundColor: attackSourcesColor1[0],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 30,\n                        borderRadius: 100,\n                        lineHeight: '5',\n                        padding: [0, 0, 0, 0],\n                        // padding:[0,0,2,0],\n                    },\n                    nt2: {\n                        color: attackSourcesColor1[2],\n                        // backgroundColor: attackSourcesColor1[1],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 30,\n                        borderRadius: 100,\n                        padding: [0, 0, 0, 0],\n                    },\n                    nt3: {\n                        color: attackSourcesColor1[3],\n                        // backgroundColor: attackSourcesColor1[2],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 30,\n                        padding: [0, 0, 0, 0],\n                    },\n                    ntOther: {\n                        color: '#fff',\n                        fontSize: 30,\n                    },\n                    top0: {\n                        color: attackSourcesColor1[0],\n                        fontSize: 35,\n                        padding: [0, 0, 0, 0],\n                        fontStyle: 'italic',\n                    },\n                    top1: {\n                        color: attackSourcesColor1[1],\n                        fontSize: 35,\n                        padding: [0, 0, 0, 0],\n                        fontStyle: 'italic',\n                    },\n                    top2: {\n                        color: attackSourcesColor1[2],\n                        fontSize: 35,\n                        padding: [0, 0, 0, 0],\n                        fontStyle: 'italic',\n                    },\n                    other: {\n                        color: attackSourcesColor1[3],\n                        fontSize: 35,\n                        padding: [0, 0, 0, 0],\n                        fontStyle: 'italic',\n                    },\n                },\n                formatter: function (value, index) {\n                    if (index == 0)\n                        return (\n                            ['{top' + index + '|' + 'No.' + (index + 1) + ' ' + '}'] +\n                            ['{ntOther' + '|' + '相关舆情' + '}'].join('\\n')\n                        );\n                    else if (index == 1)\n                        return (\n                            ['{top' + index + '|' + 'No.' + (index + 1) + ' ' + '}'] +\n                            ['{ntOther' + '|' + '事件总数' + '}'].join('\\n')\n                        );\n                    else if (index == 2)\n                        return (\n                            ['{top' + index + '|' + 'No.' + (index + 1) + ' ' + '}'] +\n                            ['{ntOther' + '|' + '标准警情数' + '}'].join('\\n')\n                        );\n                    else if (index == 3)\n                        return (\n                            ['{other' + '|' + 'No.' + (index + 1) + ' ' + '}'] +\n                            ['{ntOther' + '|' + '案件总数' + '}'].join('\\n')\n                        );\n                },\n            },\n        },\n        {\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                rich: {\n                    nt0: {\n                        color: attackSourcesColor1[0],\n                        // backgroundColor: attackSourcesColor1[3],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 40,\n                        align: 'center',\n                        lineHeight: 3,\n                        borderRadius: 100,\n                        padding: [0, 1, 2, 1],\n                        lineHeight: 5,\n                    },\n                    nt1: {\n                        color: attackSourcesColor1[1],\n                        // backgroundColor: attackSourcesColor1[0],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 40,\n                        align: 'center',\n                        borderRadius: 100,\n                        lineHeight: '5',\n                        padding: [0, 1, 2, 1],\n                        // padding:[0,0,2,0],\n                    },\n                    nt2: {\n                        color: attackSourcesColor1[2],\n                        // backgroundColor: attackSourcesColor1[1],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 40,\n                        align: 'center',\n                        borderRadius: 100,\n                        padding: [0, 1, 2, 1],\n                    },\n                    nt3: {\n                        color: attackSourcesColor1[3],\n                        // backgroundColor: attackSourcesColor1[2],\n                        // width: 13,\n                        // height: 13,\n                        fontSize: 40,\n                        align: 'center',\n                        borderRadius: 100,\n                        padding: [0, 1, 2, 1],\n                    },\n                },\n                formatter: function (value, index) {\n                    if (index <= 3) return ['{nt' + index + '|' + value + '}'].join('\\n');\n                    else return ['{nt' + 3 + '|' + value + '}'].join('\\n');\n                },\n            },\n            data: attackSourcesDataFmt(attaName),\n        },\n        {\n            //名称\n            type: 'category',\n            offset: -10,\n            position: 'left',\n            axisLine: {\n                show: false,\n            },\n            inverse: false,\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n                interval: 0,\n                color: ['#fff'],\n                align: 'left',\n                verticalAlign: 'bottom',\n                lineHeight: 32,\n                fontSize: 10,\n            },\n            data: topName,\n        },\n    ],\n    series: [\n        {\n            zlevel: 1,\n            name: '',\n            type: 'bar',\n            barWidth: '26px',\n            animationDuration: 1500,\n            data: attackSourcesDataFmt(attaData),\n            align: 'center',\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 0,\n                },\n            },\n            label: {\n                show: false,\n                fontSize: 10,\n                color: '#fff',\n                textBorderWidth: 2,\n                padding: [2, 0, 0, 0],\n            },\n        },\n        {\n            name: '',\n            type: 'bar',\n            barWidth: 26,\n            barGap: '-100%',\n            margin: '20',\n            data: salvProMax,\n            textStyle: {\n                //图例文字的样式\n                fontSize: 10,\n                color: '#fff',\n            },\n            itemStyle: {\n                normal: {\n                    //color: \"#142831\",\n                    //width:\"100%\",\n                    fontSize: 10,\n                    //barBorderRadius: 30,\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-ot3TRAYqjMeTWzW4ZlAjPj9Yi8UQr8g","theme":"","layout":"","viewCount":0,"userName":"离***2","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPgDIMrLbi.png?v=1636954713661","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"离***2"}}