{"status":0,"data":{"cid":"xvvD_vfD5d","authorUid":"bd-71012466","authorUserName":"前***n","title":"立体柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-23T09:16:16.000Z","lastUpdateTime":"2020-09-23T09:16:16.000Z","auth":2,"uid":"bd-71012466","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-23T09:16:16.000Z","code":"const CubeLeft = echarts.graphic.extendShape({\r\n    shape: {\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    buildPath: function(ctx, shape) {\r\n        const xAxisPoint = shape.xAxisPoint\r\n        const c0 = [shape.x, shape.y]\r\n        const c1 = [shape.x - 25, shape.y - 4]\r\n        const c2 = [xAxisPoint[0] - 25, xAxisPoint[1] - 4]\r\n        const c3 = [xAxisPoint[0], xAxisPoint[1]]\r\n        ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath()\r\n    }\r\n})\r\nconst CubeRight = echarts.graphic.extendShape({\r\n    shape: {\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    buildPath: function(ctx, shape) {\r\n        const xAxisPoint = shape.xAxisPoint\r\n        const c1 = [shape.x, shape.y]\r\n        const c2 = [xAxisPoint[0], xAxisPoint[1]]\r\n        const c3 = [xAxisPoint[0] + 10, xAxisPoint[1] - 4]\r\n        const c4 = [shape.x + 10, shape.y - 4]\r\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n    }\r\n})\r\nconst CubeTop = echarts.graphic.extendShape({\r\n    shape: {\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    buildPath: function(ctx, shape) {\r\n        // 逆时针 角 y 负数向上  X 负数向左\r\n        const c1 = [shape.x, shape.y + 0]\r\n        const c2 = [shape.x + 10, shape.y - 4]\r\n        const c3 = [shape.x - 14, shape.y - 8]\r\n        const c4 = [shape.x - 25, shape.y - 4]\r\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n    }\r\n})\r\necharts.graphic.registerShape('CubeLeft', CubeLeft)\r\necharts.graphic.registerShape('CubeRight', CubeRight)\r\necharts.graphic.registerShape('CubeTop', CubeTop)\r\n\r\noption = {\r\n    backgroundColor: '#031C5D',\r\n    tooltip: {\r\n        trigger: 'item',\r\n        textStyle: {\r\n            fontSize: 38\r\n        },\r\n        // formatter:'{b}'\r\n    },\r\n    legend: {\r\n        show: false,\r\n        itemWidth: 30,\r\n        itemHeight: 20,\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 24\r\n        }\r\n    },\r\n    grid: {\r\n        show: false,\r\n        left: '5%',\r\n        right: '5%',\r\n        bottom: '12%',\r\n        top: '20%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        data: ['2017年', '2018年', '2019年'],\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#fff',\r\n                width: 3\r\n            }\r\n        },\r\n        offset: 10,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            fontSize: 38,\r\n            color: '#fff'\r\n        }\r\n    },\r\n    yAxis: {\r\n        name: '(%)',\r\n        nameTextStyle: {\r\n            fontSize: 38,\r\n            color: '#fff'\r\n        },\r\n        nameGap: 30,\r\n        show: true,\r\n        type: 'value',\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'white',\r\n                width: 3\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            fontSize: 38,\r\n            color: '#fff'\r\n        },\r\n        boundaryGap: ['20%', '20%']\r\n    },\r\n    series: [{\r\n        type: 'custom',\r\n        name: '第一产业',\r\n        renderItem: (params, api) => {\r\n            const location = api.coord([api.value(0), api.value(1)])\r\n            return {\r\n                type: 'group',\r\n                children: [{\r\n                    type: 'CubeLeft',\r\n                    position: [-50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#736A0B'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#B7AA0D'\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeRight',\r\n                    position: [-50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#322E07' // 顶部\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#79700B' // 底部\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeTop',\r\n                    position: [-50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#D3C71F'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#D3C71F'\r\n                        }])\r\n                    }\r\n                }]\r\n            }\r\n        },\r\n        data: [20, 30, 20]\r\n    }, {\r\n        type: 'custom',\r\n        name: '第二产业',\r\n        renderItem: (params, api) => {\r\n            const location = api.coord([api.value(0), api.value(1)])\r\n            return {\r\n                type: 'group',\r\n                children: [{\r\n                    type: 'CubeLeft',\r\n                    position: [0, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#0F9D0C'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#40FF33'\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeRight',\r\n                    position: [0, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#084408' // 顶部\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#11B10C' // 底部\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeTop',\r\n                    position: [0, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#55FF52'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#55FF52'\r\n                        }])\r\n                    }\r\n                }]\r\n            }\r\n        },\r\n        data: [30, 40, 20]\r\n    }, {\r\n        type: 'custom',\r\n        name: '第三产业',\r\n        renderItem: (params, api) => {\r\n            const location = api.coord([api.value(0), api.value(1)])\r\n\r\n            return {\r\n                type: 'group',\r\n                children: [{\r\n                    type: 'CubeLeft',\r\n                    position: [50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1477BD'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#00FFFE'\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeRight',\r\n                    position: [50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#002E75' // 顶部\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#00B0D0' // 底部\r\n                        }])\r\n                    }\r\n                }, {\r\n                    type: 'CubeTop',\r\n                    position: [50, 0],\r\n                    shape: {\r\n                        api,\r\n                        xValue: api.value(0),\r\n                        yValue: api.value(1),\r\n                        x: location[0],\r\n                        y: location[1],\r\n                        xAxisPoint: api.coord([api.value(0), 0])\r\n                    },\r\n                    style: {\r\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#33F7FB'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#00FFFE'\r\n                        }])\r\n                    }\r\n                }]\r\n            }\r\n        },\r\n        data: [40, 50, 30]\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"bd-71012466","theme":"","layout":"","viewCount":273,"userName":"前***n","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvvD_vfD5d.png?v=1600852576406","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom","tooltip"],"customTags":[],"updaterUserName":"前***n"}}