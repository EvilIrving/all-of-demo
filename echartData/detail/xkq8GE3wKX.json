{"status":0,"data":{"cid":"xkq8GE3wKX","authorUid":"obd-oj1TdsM_DNBP9syEyw_Nra3U7wgdDDP","authorUserName":"l***啊","title":"3D图2","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-19T09:30:29.000Z","lastUpdateTime":"2021-10-19T14:19:26.000Z","auth":2,"uid":"obd-oj1TdsM_DNBP9syEyw_Nra3U7wgdDDP","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-10-19T14:19:26.000Z","code":"const CubeLeft = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        console.log(shape)\n        const xAxisPoint = shape.xAxisPoint;\n        const c0 = [shape.y, xAxisPoint[1]];\n        const c1 = [shape.y+7, xAxisPoint[1] + 7];\n        const c2 = [xAxisPoint[0], xAxisPoint[1]+  7];\n        const c3 = [xAxisPoint[0], xAxisPoint[1]];\n        ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n    },\n});\nconst CubeRight = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        const xAxisPoint = shape.xAxisPoint;\n        const c1 = [shape.y, xAxisPoint[1]];\n        const c2 = [xAxisPoint[0], xAxisPoint[1]];\n        const c3 = [xAxisPoint[0], xAxisPoint[1] - 7];\n        const c4 = [shape.y+5, xAxisPoint[1] -7];\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n    },\n});\nconst CubeTop = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        const c1 = [shape.y, shape.xAxisPoint[1]];\n        const c2 = [shape.y+7 , shape.xAxisPoint[1]-7 ];\n        const c4 = [shape.y+7 , shape.xAxisPoint[1] +7];\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c4[0], c4[1]).closePath();\n    },\n});\nconst CubeLeft2 = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        const xAxisPoint = shape.xAxisPoint;\n        const c0 = [shape.y, xAxisPoint[1]-20];\n        const c1 = [shape.y + 7, xAxisPoint[1] - 13];\n        const c2 = [xAxisPoint[0] , xAxisPoint[1] - 13];\n        const c3 = [xAxisPoint[0] , xAxisPoint[1]-20];\n        ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n    },\n});\nconst CubeRight2 = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        const xAxisPoint = shape.xAxisPoint;\n        const c1 = [shape.y, xAxisPoint[1]-20];\n        const c2 = [xAxisPoint[0], xAxisPoint[1]-20];\n        const c3 = [xAxisPoint[0], xAxisPoint[1] - 27];\n        const c4 = [shape.y + 5, xAxisPoint[1] - 27];\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n    },\n});\nconst CubeTop2 = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n    },\n    buildPath: function (ctx, shape) {\n        const c1 = [shape.y , shape.xAxisPoint[1]-20];\n        const c2 = [shape.y + 7, shape.xAxisPoint[1] - 27];\n        const c4 = [shape.y + 7, shape.xAxisPoint[1] -13];\n        ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c4[0], c4[1]).closePath();\n    },\n});\necharts.graphic.registerShape('CubeLeft', CubeLeft);\necharts.graphic.registerShape('CubeRight', CubeRight);\necharts.graphic.registerShape('CubeTop', CubeTop);\necharts.graphic.registerShape('CubeLeft2', CubeLeft2);\necharts.graphic.registerShape('CubeRight2', CubeRight2);\necharts.graphic.registerShape('CubeTop2', CubeTop2);\nlet newData = [\n  ['被征地农民养老保障金', 30, 33],\n        ['城乡低保补助', 45, 25],\n        ['部分农村计生奖扶', 55, 65],\n        ['渔船油价补贴', 60, 77],\n        ['农业支持保护补贴', 65, 45],\n        ['高龄老人', 30, 33],\n        ['部分城镇计生奖扶', 45, 25],\n        ['特困人员补助（补助）', 55, 65],\n        ['困难残疾人生活补贴', 60, 77],\n        ['城乡困难群众过节补助', 65, 45],\n        ['生态林补偿金', 30, 33],\n        ['养老保险高龄人员过节费', 45, 25],\n        ['灵活就业社保补贴', 55, 65],\n     \n];\n\nlet nameArr = newData.map((it) => it[0]);\nlet values = newData.map((it) => it[1]);\nlet values2 = newData.map((it) => it[2]);\nlet seriesOption = [\n    {\n        type: 'custom',\n        name: '金额(亿元)',\n         xAxisIndex: 1,\n        renderItem: (params, api) => {\n            const location = api.coord([api.value(0), api.value(1)]);\n            return {\n                type: 'group',\n                children: [\n                    {\n                        type: 'CubeLeft',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: 'rgba(41, 93, 173, 1)',\n                        },\n                        silent: true,\n                    },\n                    {\n                        type: 'CubeRight',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: 'rgba(123, 175, 255, 1)',\n                        },\n                        silent: true,\n                    },\n                    {\n                        type: 'CubeTop',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: 'rgba(123, 175, 255, 1)',\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(255, 255, 255, 1)',\n                                },\n                            ]),\n                        },\n                        silent: true,\n                    },\n                ],\n            };\n        },\n        tooltip: {\n            show: true,\n        },\n        data: values,\n    },\n    {\n        type: 'custom',\n        name: '人数(万人)',\n        renderItem: (params, api) => {\n            const location = api.coord([api.value(0), api.value(1)]);\n            return {\n                type: 'group',\n                \n                children: [\n                    {\n                        type: 'CubeLeft2',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: '#F4AE3D',\n                        },\n                        silent: true,\n                    },\n                    {\n                        type: 'CubeRight2',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: '#C48C30',\n                        },\n                        silent: true,\n                    },\n                    {\n                        type: 'CubeTop2',\n                        shape: {\n                            api,\n                            xValue: api.value(1),\n                            yValue: api.value(0),\n                            x: location[1],\n                            y: location[0],\n                            xAxisPoint: api.coord([0,api.value(1)]),\n                        },\n                        style: {\n                            fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: '#FFC261',\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(255, 255, 255, 1)',\n                                },\n                            ]),\n                        },\n                        silent: true,\n                    },\n                ],\n            };\n        },\n        tooltip: {\n            show: true,\n        },\n        \n       \n        data: values2,\n    },\n    {\n        type: 'bar',\n         name: '人数(万人)',\n        \n        label: {\n            normal: {\n                show: true,\n                position: 'right',\n                fontSize: 20,\n                color: '#BA7400',\n                offset: [5, -8],\n            },\n        },\n        // stack: true,\n        itemStyle: {\n            color: 'transparent',\n        },\n        tooltip: {},\n        data: values2,\n    },\n     {\n        type: 'bar',\n         name: '金额(亿元)',\n           xAxisIndex: 1,\n        label: {\n            normal: {\n                show: true,\n                position: 'right',\n                fontSize: 20,\n                color: 'rgba(41, 93, 173, 1)',\n                offset: [5, -10],\n            },\n        },\n        // stack: true,\n        itemStyle: {\n            color: '#295DAD',\n            opacity:1\n        },\n        tooltip: {},\n        data: values,\n    },\n];\n\noption = {\n    grid: {\n        left: 300,\n        right: 60,\n        bottom: 50,\n        top: 90,\n    },\n    color:['#295DAD','#BA7400'],\n    legend: {\n        itemWidth: 13,\n        itemHeight: 13,\n        \n        data: [\n          \n            { name: '人数(万人)', icon: 'roundRect'},\n              { name: '金额(亿元)', icon: 'roundRect'},\n        ],\n    },\n    xAxis:[\n         {\n        name: '万人',\n        nameGap: 8,\n        nameTextStyle: {\n            color: '#666666',\n            fontSize: 16,\n            padding: [75, 30, 15, 0],\n        },\n        \n        type: 'value',\n        axisLine: {\n            lineStyle: {\n                color: '#777777',\n            },\n        },\n        axisLabel: {\n            fontSize: 16,\n            color: '#666666',\n            fontWeight: 600,\n            margin: 18,\n            interval: 0,\n            formatter: function (params) {\n                let res = '';\n                if (params.length > 5) {\n                    res = params.substring(0, 5) + '\\n' + params.substring(5);\n                } else {\n                    res = params;\n                }\n                return res;\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine:{\n            show:false\n        },\n        data: this.value,\n    },\n    {\n        name: '亿元',\n        nameGap: 8,\n        nameTextStyle: {\n            color: '#666666',\n            fontSize: 16,\n            padding: [75, 30, 15, 0],\n        },\n        type: 'value',\n        axisLine: {\n            lineStyle: {\n                color: '#777777',\n            },\n        },\n       \n        axisLabel: {\n            fontSize: 16,\n            color: '#666666',\n            fontWeight: 600,\n            margin: 18,\n            interval: 0,\n            formatter: function (params) {\n                let res = '';\n                if (params.length > 5) {\n                    res = params.substring(0, 5) + '\\n' + params.substring(5);\n                } else {\n                    res = params;\n                }\n                return res;\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine:{\n            show:false\n        },\n        data: this.value2,\n    },\n        ],\n   \n\n    yAxis: [\n        {\n            name: '',\n            type: 'category',\n            data:nameArr,\n            nameGap: 8,\n            nameTextStyle: {\n                fontSize: 14,\n                padding: [0, 40, 30, 0],\n                color: '#666666',\n            },\n            minInterval: 1,\n            \n            axisLine: {\n                show: true,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                color: '#666666',\n                fontSize: 16,\n            },\n            splitNumber: 4,\n            splitLine: {\n                lineStyle: {\n                    type: 'dashed',\n                    color: 'rgba(255, 255, 255, 0.15)',\n                },\n            },\n        },\n    ],\n    series: seriesOption,\n};\n","html":"","externalScripts":"","updaterUID":"obd-oj1TdsM_DNBP9syEyw_Nra3U7wgdDDP","theme":"","layout":"","viewCount":0,"userName":"l***啊","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkq8GE3wKX.png?v=1634653166973","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom"],"customTags":[],"updaterUserName":"l***啊"}}