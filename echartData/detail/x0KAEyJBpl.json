{"status":0,"data":{"cid":"x0KAEyJBpl","authorUid":"bd-925573494","authorUserName":"群***乐","title":"内外环+散点图","description":"内外环+散点图，描述核心区和带动区的种植种类","latestVersion":1,"alwaysLatest":1,"createTime":"2021-07-09T03:31:07.000Z","lastUpdateTime":"2021-07-09T03:31:07.000Z","auth":2,"uid":"bd-925573494","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-07-09T03:31:07.000Z","code":"const data1 = [\n    [10, 10, '福鼎大白', '#BF54Fb', 65, 1600],\n    [10, -10, '巴渝特早', '#BF54Fb', 60, 960],\n    [-10, 10, '安吉白茶', '#5b6dc4', 50, 180],\n    [0, -16, '青心乌龙', '#874ad2', 55, 80, 80],\n    [0, 16, '梅', '#e85411', 45, 100],\n    [-10, -10, '其他', '#e456a0', 40, 90],\n];\nconst data2 = [\n    [25, -25, '福鼎大白', '#f1b536', 80, 9000],\n    [-25, -25, '巴渝特早', '#29bc40', 60, 7000],\n    [0, 35, '其他', '#e456a0', 70, 1000],\n];\n// 计算总量\nconst data1AllNum = data1.reduce((pre, cur) => pre + cur[5], 0);\nconst data2AllNum = data2.reduce((pre, cur) => pre + cur[5], 0);\n\n// 生成展示列表\nconst list1 = data1.reduce((pre, cur) => {\n    let percent = ((cur[5] / data1AllNum) * 100).toFixed(2);\n    return pre + `<div>${cur[2]}：${cur[5]} 亩(${percent}%)</div>`;\n}, '</br>');\nconst list2 = data2.reduce((pre, cur) => {\n    let percent = ((cur[5] / data2AllNum) * 100).toFixed(2);\n    return pre + `<div>${cur[2]}：${cur[5]} 亩(${percent}%)</div>`;\n}, '</br>');\n\noption = {\n    backgroundColor: '#020933',\n    xAxis: [\n        {\n            show: false,\n            type: 'value',\n            min: -50,\n            max: 50,\n        },\n    ],\n    yAxis: [\n        {\n            min: -50,\n            max: 50,\n            show: false,\n        },\n    ],\n    tooltip: {},\n    series: [\n        {\n            zlevel: 20,\n            type: 'scatter',\n            symbol: 'circle',\n            symbolSize: 150,\n            label: {\n                normal: {\n                    show: true,\n                    fontSize: 20,\n                    formatter: function (param) {\n                        return param.data[2];\n                    },\n                },\n            },\n            tooltip: {\n                formatter: function (param) {\n                    return param.data[2] + '： 共有' + data1AllNum + '亩' + list1;\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#5aa8ee',\n                },\n            },\n            data: [[0, 0, '核心区', '#278DFB', 10, data1AllNum]],\n        },\n        {\n            zlevel: 20,\n            type: 'scatter',\n            symbol: 'circle',\n            symbolSize: 1,\n            label: {\n                normal: {\n                    show: true,\n                    fontSize: 20,\n                    formatter: function (param) {\n                        return param.data[2];\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#5aa8ee',\n                },\n            },\n            data: [[-30, 0, '带动区', '#278DFB', data2AllNum]],\n        },\n        {\n            zlevel: 20,\n            name: '核心区',\n            type: 'scatter',\n            symbol: 'circle',\n            symbolSize: function (param, a) {\n                return param[4];\n            },\n            itemStyle: {\n                color: function (param) {\n                    return param.data[3];\n                },\n            },\n            tooltip: {\n                formatter: function (param) {\n                    const { seriesName, marker, data } = param;\n                    return (\n                        seriesName +\n                        '</br>' +\n                        marker +\n                        data[2] +\n                        '：' +\n                        data[5] +\n                        ' 亩(' +\n                        ((data[5] / data1AllNum) * 100).toFixed(2) +\n                        '%)'\n                    );\n                },\n            },\n            label: {\n                show: true,\n                textStyle: {\n                    fontSize: 12,\n                },\n                formatter: function (param) {\n                    return param.data[2];\n                },\n            },\n            data: data1,\n        },\n        {\n            name: '带动区',\n            zlevel: 20,\n            type: 'scatter',\n            symbol: 'circle',\n            symbolSize: function (param, a) {\n                return param[4];\n            },\n            itemStyle: {\n                color: function (param) {\n                    return param.data[3];\n                },\n            },\n            tooltip: {\n                formatter: function (param) {\n                    const { seriesName, marker, data } = param;\n                    return (\n                        seriesName +\n                        '</br>' +\n                        marker +\n                        data[2] +\n                        '：' +\n                        data[5] +\n                        ' 亩(' +\n                        ((data[5] / data2AllNum) * 100).toFixed(2) +\n                        '%)'\n                    );\n                },\n            },\n            label: {\n                show: true,\n                textStyle: {\n                    fontSize: 12,\n                },\n                formatter: function (param) {\n                    return param.data[2];\n                },\n            },\n            data: data2,\n        },\n        {\n            type: 'pie',\n            name: '核心区',\n            radius: ['0', '45%'],\n            center: ['50%', '50%'],\n            zlevel: 2,\n            tooltip: {\n                formatter: function (param) {\n                    const { seriesName, marker, data } = param;\n                    return seriesName + '： 共有' + data1AllNum + '亩' + list1;\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: {\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0.05,\n                                color: 'rgba(130,198,255, 0.1)',\n                            },\n                            {\n                                offset: 0.5,\n                                color: 'rgba(130,198,255, 0.2)',\n                            },\n                            {\n                                offset: 0.95,\n                                color: 'rgba(130,198,255, 0.1)',\n                            },\n                        ],\n                    },\n                },\n            },\n            data: [0],\n        },\n        {\n            type: 'pie',\n            name: '带动区',\n            radius: ['0%', '90%'],\n            center: ['50%', '50%'],\n            tooltip: {\n                formatter: function (param) {\n                    const { seriesName, marker, data } = param;\n                    return seriesName + '： 共有' + data2AllNum + '亩' + list2;\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: {\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0.1,\n                                color: 'rgba(130,198,255, 0)',\n                            },\n                            {\n                                offset: 0.5,\n                                color: 'rgba(130,198,255, 0.2)',\n                            },\n                            {\n                                offset: 0.9,\n                                color: 'rgba(130,198,255, 0)',\n                            },\n                        ],\n                    },\n                },\n            },\n            data: [0],\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-925573494","theme":"","layout":"","viewCount":0,"userName":"群***乐","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0KAEyJBpl.png?v=1625801468191","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie","series-scatter","tooltip"],"customTags":[],"updaterUserName":"群***乐"}}