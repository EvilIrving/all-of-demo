{"status":0,"data":{"cid":"xGQA2qjhg","authorUid":"bd-7382906384","authorUserName":"满***6","title":"渐变色仪表盘","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-06T09:16:57.000Z","lastUpdateTime":"2020-03-06T09:16:57.000Z","auth":2,"uid":"bd-7382906384","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-03-06T09:16:57.000Z","code":"var datas = {\r\n    value: 0.82,\r\n    title: \"本单位计划完成率\",\r\n    type: 1,\r\n    radiusType: 1\r\n};\r\n\r\nvar fontColor = \"#000\";\r\nvar seriesName = \"\";\r\nlet noramlSize = 16;\r\nlet state = \"\";\r\nlet center = [\"50%\", \"70%\"];\r\nlet wqradius = 0,\r\n    nqradius = 0,\r\n    kdradius;\r\nif (datas.radiusType == 1) {\r\n    wqradius = \"83%\";\r\n    nqradius = \"76%\";\r\n    kdradius = \"90%\";\r\n} else {\r\n    wqradius = \"99%\";\r\n    nqradius = \"88%\";\r\n    kdradius = \"110%\";\r\n    center = [\"50%\", \"50%\"];\r\n    state =\r\n        \"可用容量\" + datas.totalNum + \"TB\\n可用容量\" + datas.useNum + \"TB\";\r\n}\r\n// console.log(wqradius, nqradius);\r\nlet nqColor = [\r\n    [\r\n        datas.value,\r\n        new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                offset: 0,\r\n                color: \"rgba(211, 243, 242,1)\"\r\n            },\r\n            {\r\n                offset: 1,\r\n                color: \"rgba(39, 195, 191,1) \"\r\n            }\r\n        ])\r\n    ],\r\n    [\r\n        1,\r\n        new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                offset: 0,\r\n                color: \"rgba(255, 255, 255,1)\"\r\n            },\r\n            {\r\n                offset: 1,\r\n                color: \"rgba(211, 243, 242,1) \"\r\n            }\r\n        ])\r\n    ]\r\n];\r\n\r\nlet wqColor = \"rgba(41, 195, 193, 0.9)\";\r\nif (datas.type == 1) {\r\n    // state = \"正常\";\r\n    // if (datas.value > 80) {\r\n    //   state = \"使用过度\";\r\n    // }\r\n} else if (datas.type == 2) {\r\n    // state = \"总内存\" + datas.totalNum + \"TB\\n已使用\" + datas.useNum + \"TB\";\r\n    wqColor = \"rgba(80, 152, 237,0.9)\";\r\n    nqColor = [\r\n        [\r\n            datas.value,\r\n            new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                    offset: 0,\r\n                    color: \"rgba(226, 239, 254,1)\"\r\n                },\r\n                {\r\n                    offset: 1,\r\n                    color: \"rgba(113, 178, 253,1) \"\r\n                }\r\n            ])\r\n        ],\r\n        [\r\n            1,\r\n            new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                    offset: 0,\r\n                    color: \"rgba(255, 255, 255,1)\"\r\n                },\r\n                {\r\n                    offset: 1,\r\n                    color: \"rgba(226, 239, 254,1) \"\r\n                }\r\n            ])\r\n        ]\r\n    ];\r\n} else if (datas.type == 3) {\r\n    // state = \"总存储\" + datas.totalNum + \"PB\\n已使用\" + datas.useNum + \"PB\";\r\n    wqColor = \"rgba(171, 151, 229, 0.9)\";\r\n    nqColor = [\r\n        [\r\n            datas.value,\r\n            new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                    offset: 0,\r\n                    color: \"rgba(238, 234, 249,1)\"\r\n                },\r\n                {\r\n                    offset: 1,\r\n                    color: \"rgba(171, 151, 229,1) \"\r\n                }\r\n            ])\r\n        ],\r\n        [\r\n            1,\r\n            new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\r\n                    offset: 0,\r\n                    color: \"rgba(255, 255, 255,1)\"\r\n                },\r\n                {\r\n                    offset: 1,\r\n                    color: \"rgba(238, 234, 249,1) \"\r\n                }\r\n            ])\r\n        ]\r\n    ];\r\n}\r\n\r\nmyChart.setOption({\r\n    title: {\r\n        show: true,\r\n        x: \"center\",\r\n        bottom: \"8%\",\r\n        text: datas.title,\r\n        textStyle: {\r\n            fontWeight: \"700\",\r\n            fontSize: 20,\r\n            color: fontColor\r\n        }\r\n    },\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    series: [{\r\n            name: \"白色圈刻度\",\r\n            type: \"gauge\",\r\n            radius: kdradius,\r\n            center: center,\r\n            startAngle: 180, //刻度起始\r\n            endAngle: 0, //刻度结束\r\n            z: 7,\r\n            splitNumber: 5,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                color: fontColor,\r\n                fontSize: noramlSize,\r\n                formatter: \"{value}%\"\r\n            }, //刻度节点文字颜色\r\n            pointer: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            detail: {\r\n                show: false\r\n            }\r\n            // data: [\r\n            //   {\r\n            //     value: 0,\r\n            //     name: \"\"\r\n            //   }\r\n            // ]\r\n        },\r\n        {\r\n            name: \"外层圈\", //刻度背景\r\n            type: \"gauge\",\r\n            z: 2,\r\n            radius: wqradius,\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            center: center, //整体的位置设置\r\n            axisLine: {\r\n                // 坐标轴线\r\n                lineStyle: {\r\n                    // 属性lineStyle控制线条样式\r\n                    color: [\r\n                        [1, wqColor]\r\n                    ],\r\n                    width: 13,\r\n                    opacity: 1 //刻度背景宽度\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            // data: [\r\n            //   {\r\n            //     show: false,\r\n            //     value: datas.value\r\n            //   }\r\n            // ], //作用不清楚\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            detail: {\r\n                show: 0\r\n            }\r\n        },\r\n        {\r\n            name: \"指针\",\r\n            type: \"gauge\",\r\n            z: 9,\r\n            radius: \"70%\",\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            center: center, //整体的位置设置\r\n            axisLine: {\r\n                lineStyle: {\r\n                    // 属性lineStyle控制线条样式//指针颜色\r\n                    color: [\r\n                        [1, \"rgb(30, 191, 182)\"]\r\n                    ],\r\n                    width: 0\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            min: 0,\r\n            max: 1,\r\n            pointer: {\r\n                show: true,\r\n                width: 10,\r\n                length: \"60%\"\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: wqColor\r\n                }\r\n            },\r\n            detail: {\r\n                show: true,\r\n                offsetCenter: [0, \"40%\"],\r\n                formatter: [\r\n                    \"{value|\" + (datas.value * 100) + \"} {company|%}\",\r\n                    \"{company|\" + state + \"}\"\r\n                ].join(\"\\n\"),\r\n                rich: {\r\n                    value: {\r\n                        fontSize: 30,\r\n                        lineHeight: 10,\r\n                        color: \"#000\",\r\n                        fontWeight: \"700\"\r\n                    },\r\n                    company: {\r\n                        fontSize: 16,\r\n                        lineHeight: 20,\r\n                        color: \"#000\"\r\n                    }\r\n                }\r\n            },\r\n            data: [datas.value] //指针位置\r\n        },\r\n        {\r\n            name: \"内层盘\",\r\n            type: \"gauge\",\r\n            z: 6,\r\n            radius: nqradius,\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            center: center, //整体的位置设置\r\n            axisLine: {\r\n                lineStyle: {\r\n                    // 属性lineStyle控制线条样式//控制外圈位置\r\n                    color: nqColor,\r\n                    width: 53,\r\n                    opacity: 0.9 //控制外圈位置，颜色，宽度，透明度\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            // data: [\r\n            //   {\r\n            //     show: false,\r\n            //     value:0.8\r\n            //   }\r\n            // ],\r\n            detail: {\r\n                show: 0\r\n            }\r\n        }\r\n    ]\r\n});","html":"","externalScripts":"","updaterUID":"bd-7382906384","theme":"","layout":"","viewCount":873,"userName":"满***6","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGQA2qjhg.png?v=1583486218049","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","title","tooltip"],"customTags":[],"updaterUserName":"满***6"}}