{"status":0,"data":{"cid":"xr1kicBdO4","authorUid":"bd-3882009687","authorUserName":"183*****196","title":"日历","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-09-21T07:57:11.000Z","lastUpdateTime":"2020-09-21T07:57:11.000Z","auth":2,"uid":"bd-3882009687","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-22T07:10:13.000Z","code":"const _legendList =  [ '启动会', '题目一', '题目二', '题目三', '题目四', '答辩准备' ]\nconst _map = {\n    '2020-07-09': [1.5, _legendList[0]],\n    '2020-07-11': [1, _legendList[0]],\n    '2020-07-20': [1, _legendList[1]],\n    '2020-07-23': [1, _legendList[1]],\n    '2020-07-26': [1, _legendList[4]],\n    '2020-07-27': [1.5, _legendList[4]],\n    '2020-07-29': [2, _legendList[4]],\n    '2020-08-16': [2, _legendList[1]],\n    '2020-09-01': [1.5, _legendList[2]],\n    '2020-09-05': [2, _legendList[2]],\n    '2020-09-09': [1, _legendList[3]],\n    '2020-09-12': [1, _legendList[5]],\n    '2020-09-13': [1.5, _legendList[5]],\n}\n\nconst _legend = [{\n    text: _legendList[0],\n    color: '#2cdfff'\n}, {\n    text: _legendList[1],\n    color: '#f4e925'\n}, {\n    text: _legendList[2],\n    color: '#aa4fff'\n}, {\n    text: _legendList[3],\n    color: '#00ffea'\n}, {\n    text: _legendList[4],\n    color: '#719df4'\n}, {\n    text: _legendList[5],\n    color: '#ff680e'\n}]\nfunction getVirtulData(year) {\n    year = year || '2020';\n    var date = +echarts.number.parseDate(year + '-07-01');\n    var end = +echarts.number.parseDate((+year) + '-10-01');\n    var dayTime = 3600 * 24 * 1000;\n    var data = [];\n    for (var time = date; time < end; time += dayTime) {\n        const _date = echarts.format.formatTime('yyyy-MM-dd', time)\n        data.push([\n            echarts.format.formatTime('yyyy-MM-dd', time),\n            (_map[_date]) ? (_map[_date][0] * 600) : 0,\n            (_map[_date]) ? (_map[_date][1]) : '',\n        ]);\n    }\n    return data;\n}\n\nvar data = getVirtulData(2020).sort(function (a, b) {\n    return b[1] - a[1];\n}).slice(0, 13);\nconsole.log(data)\nconst cellSize = 50\n\nfunction getSeries () {\n    const _series = []\n    _legend.forEach(item => {\n        _series.push({\n            name: item.text,\n            type: 'effectScatter',\n            coordinateSystem: 'calendar',\n            label: {\n                normal: {\n                    show: true,\n                    formatter: function (params) {\n                        return echarts.format.formatTime('dd', params.value[0]);\n                    },\n                    offset: [-10, -15],\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 14\n                    }\n                }\n            },\n            data: data,\n            symbolSize: function (val) {\n                if (val[2] !== item.text) return\n                return val[1] / 50;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            itemStyle: {\n                color: item.color,\n                shadowBlur: 10,\n                shadowColor: '#333'\n            },\n            zlevel: 1\n        })\n    })\n    return _series\n}\noption = {\n    backgroundColor: '#404a59',\n    title: {\n        top: 30,\n        text: '',\n        subtext: '',\n        left: 'center',\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    tooltip: {\n        trigger: 'item'\n    },\n    legend: {\n        top: '0',\n        left: '100',\n        data: _legendList,\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    calendar: [\n        {\n        top: 100,\n          orient: 'vertical',\n    cellSize: 50,\n        left: 'center',\n        range: ['2020-07-01', '2020-09-30'],\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#000',\n                width: 4,\n                type: 'solid'\n            }\n        },\n        yearLabel: {\n            margin: 400\n        },\n        dayLabel: {\n            firstDay: 1,\n            nameMap: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n            color: '#fff'\n        },\n        monthLabel: {\n            nameMap: 'cn',\n            margin: 20,\n            color: '#fff'\n        },\n        itemStyle: {\n            color: '#323c48',\n            borderWidth: 1,\n            borderColor: '#111'\n        }\n    }],\n    series: getSeries()\n};\n\n","html":"","externalScripts":"","updaterUID":"bd-3882009687","theme":"","layout":"","viewCount":552,"userName":"183*****196","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1kicBdO4.png?v=1600758613759","isCustomThumbnail":0,"builtinTags":["calendar","category-work","legend","series-effectScatter","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"183*****196"}}