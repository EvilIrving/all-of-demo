{"status":0,"data":{"cid":"xBkB9R4mDx","authorUid":"bd-3643364795","authorUserName":"坏人没坏报","title":"曲线","description":"显示心率曲线","latestVersion":10,"alwaysLatest":1,"createTime":"2017-01-23T08:27:57.000Z","lastUpdateTime":"2017-01-23T08:27:57.000Z","auth":2,"uid":"bd-3643364795","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"3.4.0","versionCreateTime":"2017-02-10T05:22:55.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1485156189964-SJUwyE7De.json\";\n\nfunction format(date, fmt) {\n    var o = {\n        \"M+\": date.getMonth() + 1, //月份 \n        \"d+\": date.getDate(), //日 \n        \"h+\": date.getHours(), //小时 \n        \"m+\": date.getMinutes(), //分 \n        \"s+\": date.getSeconds(), //秒 \n        \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度 \n        \"S\": date.getMilliseconds() //毫秒 \n    };\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n    for (var k in o)\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n    return fmt;\n}\n$.get(uploadedDataURL, function(data) {\n    data = JSON.parse(data);\n    myChart.setOption(option = {\n        xAxis: {\n            type: 'time',\n            name: '时间',\n            interval: 10 * 60 * 1000,\n            axisLine: {\n                lineStyle: {\n                    color: '#ccc'\n                }\n            },\n            nameTextStyle: {\n                color: '#333'\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#333'\n                },\n                formatter: function(value) {\n                    return format(new Date(value), 'hh:mm')\n                }\n            },\n            axisTick: {\n                show: false\n            }\n        },\n        yAxis: {\n            name: '心率',\n            max: 200,\n            min: 50,\n            axisLine: {\n                lineStyle: {\n                    color: '#ccc'\n                }\n            },\n            nameTextStyle: {\n                color: '#333'\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#333'\n                }\n            },\n            interval: 25,\n            splitLine: {\n                lineStyle: {\n                    type: 'dashed',\n                    color: '#e2e6a'\n\n                }\n            },\n            splitArea: {\n                show: true,\n                areaStyle: {\n                    color: ['#fbfbfb', '#fbfbfb']\n                }\n            }\n        },\n        visualMap: {\n            show: false,\n            pieces: [{\n                gt: 0,\n                lte: 50,\n                color: '#096'\n            }, {\n                gt: 50,\n                lte: 126,\n                color: '#32b6cf'\n            }, {\n                gt: 126,\n                lte: 140,\n                color: '#4b7cde'\n            }, {\n                gt: 140,\n                lte: 153,\n                color: '#118b43'\n            }, {\n                gt: 153,\n                lte: 166,\n                color: '#98cf44'\n            }, {\n                gt: 166,\n                lte: 180,\n                color: '#fea621'\n            }, {\n                gt: 180,\n                lte: 205,\n                color: '#f72c2e'\n            }],\n            outOfRange: {\n                color: '#999'\n            }\n        },\n        legend: {\n            show: false\n        },\n        series: [{\n            name: '心率',\n            type: 'line',\n            hoverAnimation: false,\n            lineStyle: {\n                normal: {\n                    width: 1\n                }\n            },\n            itemStyle: {\n                normal: {\n                    opacity: 0\n                }\n            },\n            markPoint: {\n                symbol: 'image://http://res.takefit.cn/static/img/maxp.png',\n                symbolOffset: [0, '-100%'],\n                symbolSize: [40, 30],\n                itemStyle: {\n                    normal: {\n                        color: '#eb426d'\n                    }\n                },\n                data: [{\n                    name: '最高心率',\n                    type: 'max',\n                    valueIndex: 1\n                }]\n\n            },\n            data: data.map(function(item) {\n                return {\n                    name: item.value,\n                    value: [item.time, item.value]\n                }\n            }),\n            areaStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                        offset: 1,\n                        color: '#c5c5e1' // 0% 处的颜色\n                    }, {\n                        offset: 0,\n                        color: '#f9fafb' // 100% 处的颜色\n                    }], false),\n                    opacity: 0.4\n                }\n            }\n        }],\n        tooltip: {\n            trigger: 'axis',\n            formatter: function(p) {\n                return format(new Date(p[0].value[0]), 'hh:mm:ss') + \"<br/><span style='display: block;height: 10px;width: 10px;border-radius: 5px;background-color: \" + p[0].color + \";'></span>心率 : \" + p[0].name\n            }\n        }\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-3643364795","theme":"","layout":"","viewCount":5734,"userName":"坏人没坏报","commentCount":9,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkB9R4mDx.png?v=1485163455829","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markPoint","series-line","tooltip","visualMap"],"customTags":[],"updaterUserName":"坏人没坏报"}}