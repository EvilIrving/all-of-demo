{"status":0,"data":{"cid":"x2_IibeYIx","authorUid":"bd-2536962124","authorUserName":"韩***翎","title":"a动态区间图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-16T08:15:00.000Z","lastUpdateTime":"2020-09-16T08:15:00.000Z","auth":2,"uid":"bd-2536962124","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-16T08:15:00.000Z","code":"var startTime ='20:00:00';\r\nvar endTime='00:00:00';\r\nvar dataArr = [41, 50, 50, 51, 47, 51, 50, 51, 52, 51, 51, 51, 48,\r\n    42, 44, 48, 50, 47, 41, 50, 51, 52, 51, 49\r\n];\r\nvar xData = ['08:00:00', '09:00:00', '10:00:00', '11:00:00', '12:00:00', '13:00:00', '14:00:00', '15:00:00', '16:00:00', '17:00:00', '18:00:00', '19:00:00', '20:00:00',\r\n    '21:00:00', '22:00:00', '23:00:00', '00:00:00', '01:00:00', '02:00:00', '03:00:00', '04:00:00', '05:00:00', '06:00:00', '07:00:00'\r\n];\r\nvar nowYdata = [];\r\nvar seriesArr = [{\r\n    name: \"a\",\r\n    type: 'line',\r\n    symbolSize: 0,\r\n    // color: \"lightGreen\", //折线图颜色,搭配markArea为面积图\r\n    lineStyle: { //折线的颜色\r\n        color: new echarts.graphic.LinearGradient(\r\n            0, 0, 0, 1, [{\r\n                offset: 0,\r\n                color: '#fff'\r\n            }, {\r\n                offset: 0.5,\r\n                color: 'rgba(43, 255, 123,0.5)'\r\n            }, {\r\n                offset: 1,\r\n                color: 'rgb(43, 255, 123)'\r\n            }]\r\n        )\r\n    },\r\n    smooth: false, //是否平滑处理值0-1,true相当于0.5\r\n    data: dataArr,\r\n    markArea: {\r\n        animation: true,\r\n        itemStyle: { //全局的\r\n            normal: {\r\n                color: 'rgba(187, 97, 85,0.2)'\r\n            }\r\n        },\r\n        data: [\r\n            [{\r\n                xAxis: startTime || \"\",\r\n\r\n            }, {\r\n                xAxis: endTime || \"\",\r\n            }]\r\n        ]\r\n    }\r\n},];\r\nfunction getNowYData(startTime, endTime, xData) {\r\n            var start = xData.indexOf(startTime);\r\n            var end = xData.indexOf(endTime);\r\n            var number = end - start + 1;\r\n            var nowyData = [];\r\n            for (var i = 0; i < xData.length; i++) {\r\n                if (i < start || i > end) {\r\n                    nowyData.push(null)\r\n                } else {\r\n                    var randomNum = getRandomNumberByRange(0, 10);\r\n                    nowyData.push(40 + randomNum);\r\n                }\r\n            }\r\n            return nowyData;\r\n        };\r\n\r\n        function getRandomNumberByRange(start, end) {\r\n            return Math.floor(Math.random() * (end - start) + start)\r\n}\r\n\r\nif (startTime && endTime) {\r\n    // 根据选择的时间计算dataZoom显示的起始位置\r\n    var start = (xData.indexOf(startTime) / xData.length) * 100 - 5;\r\n    var end = (xData.indexOf(endTime) / xData.length) * 100 + 10;\r\n    //点击之后动态添加有一条曲线\r\n    nowYdata = getNowYData(startTime, endTime, xData); //改曲线的纵坐标\r\n    var nowSeries = {\r\n        name: \"b\",\r\n        type: 'line',\r\n        symbolSize: 0,\r\n        color: \"red\", //折线图颜色,搭配markArea为面积图\r\n        lineStyle: { //折线的颜色\r\n            color: new echarts.graphic.LinearGradient(\r\n                0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: '#fff'\r\n                }, {\r\n                    offset: 0.5,\r\n                    color: 'rgba(254, 13, 13,0.8)'\r\n                }, {\r\n                    offset: 1,\r\n                    color: 'red'\r\n                }]\r\n            )\r\n        },\r\n        smooth: false, //是否平滑处理值0-1,true相当于0.5\r\n        data: nowYdata,\r\n    };\r\n    seriesArr.push(nowSeries);\r\n};\r\n  option = {\r\n     backgroundColor:'#000',\r\n    title: {\r\n        text: \"\",\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        textStyle: {\r\n            fontSize: 20\r\n        },\r\n        formatter: function(params) {\r\n            var str = params[0].axisValue + \"<br/>\";\r\n            for (var i = 0; i < params.length; i++) {\r\n                if (params[i].value) {\r\n                    str += '<span>' + params[i].seriesName + \"</span><br/><span style=font-size:25px;color:#28fa91;>\" + params[i].value + \"Hz </span><br/>\";\r\n                }\r\n\r\n            };\r\n            return str;\r\n        }\r\n    },\r\n    grid: {\r\n        left: \"5%\",\r\n        right: \"3%\",\r\n        top: \"10%\",\r\n        bottom: \"10%\"\r\n    },\r\n    color: [\"rgb(43, 255, 123)\", 'red'], //影响图例的颜色\r\n    legend: {\r\n        show: true,\r\n        icon: \"line\",\r\n        itemWidth: 20,\r\n        itemHeight: 5,\r\n        textStyle: {\r\n            fontSize: 20,\r\n            color: \"#fff\"\r\n        },\r\n        data: [\"a\", \"b\"],\r\n    },\r\n    xAxis: [{\r\n        name: '',\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        axisLine: { //设置X轴的颜色\r\n            lineStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        data: xData\r\n    }],\r\n    yAxis: [{\r\n        name: 'Hz',\r\n        type: 'value',\r\n        axisLine: { //设置y轴的颜色\r\n            lineStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitArea: {\r\n            show: true,\r\n            areaStyle: {\r\n                color: [\"rgba(250,250,250,0.0)\", \"rgba(250,250,250,0.05)\"]\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        min: 39.0,\r\n        max: 52.0\r\n    }],\r\n    dataZoom: [{\r\n        type: 'slider', //图表下方的伸缩条\r\n        show: true, //是否显示\r\n        realtime: true, //拖动时，是否实时更新系列的视图\r\n        filterMode: 'filter',\r\n        start: start || 0,\r\n        end: end || 100,\r\n\r\n    }],\r\n    series: seriesArr\r\n};","html":"","externalScripts":"","updaterUID":"bd-2536962124","theme":"","layout":"","viewCount":202,"userName":"韩***翎","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2_IibeYIx.png?v=1600244100893","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","markArea","series-line","title","tooltip"],"customTags":[],"updaterUserName":"韩***翎"}}