{"status":0,"data":{"cid":"xJ6kM6ZGb","authorUid":"bd-1785988351","authorUserName":"百度用户#0971362260","title":"自定义画图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2019-11-11T12:26:39.000Z","lastUpdateTime":"2019-11-11T12:26:39.000Z","auth":2,"uid":"bd-1785988351","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-11T12:27:11.000Z","code":"option = {\r\n    backgroundColor: \"#fff\",\r\n    dataset: {\r\n        source: [\r\n            [\"value\", \"签约\"],\r\n            [\"非流动资产\", 100],\r\n            [\"所有者权益\", 200],\r\n            [\"流动资产\", 10],\r\n            [\"非流动负债\", 500],\r\n            [\"流动负债\", 100]\r\n        ]\r\n    },\r\n    series: {\r\n        \"type\": \"custom\",\r\n        \"coordinateSystem\": \"none\",\r\n        \"seriesLayoutBy\": \"row\",\r\n        \"label\": {\r\n            \"show\": true,\r\n            \"formatter\": function(arg) {\r\n                return arg.value[0]\r\n            }\r\n        },\r\n        \"renderItem\": function(params, api) {\r\n            console.log('aaa');\r\n\r\n            var style = api.style();\r\n            var cw = api.getWidth(),\r\n                ch = api.getHeight(),\r\n                rw = cw / 2,\r\n                rh = ch,\r\n                av = api.value(1),\r\n                avText = \"非流动资产\\n￥\" + api.value(1),\r\n                bv = api.value(2),\r\n                bvText = \"所有者权益\\n￥\" + api.value(2),\r\n                av2 = api.value(3),\r\n                av2Text = \"流动资产\\n￥\" + api.value(3),\r\n                bv2 = api.value(4),\r\n                bv2Text = \"非流动负债\\n￥\" + api.value(4),\r\n                bv3 = api.value(5),\r\n                bv3Text = \"流动负债\\n￥\" + api.value(5),\r\n                arh = rh * av / (av + av2), //1\r\n                arh2 = rh * av2 / (av + av2), //3\r\n                brh = rh * bv / (bv + bv2 + bv3), //2\r\n                brh2 = rh * bv2 / (bv + bv2 + bv3), //4\r\n                brh3 = rh * bv3 / (bv + bv2 + bv3); //5\r\n            // unit = 1,\r\n            //  ul = '(亿元)',\r\n            //   cul = '亿元';\r\n            //   var text = style.text[1] + api.value(1);\r\n            return {\r\n                type: 'group',\r\n                position: [0, ch],\r\n                children: [{\r\n                    type: 'group',\r\n                    position: [0, 0],\r\n                    children: [{ //蓝色\r\n                            type: 'rect',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: -arh,\r\n                            },\r\n                            style: {\r\n                                fill: 'rgb(151,213,168)'\r\n                            },\r\n                            styleEmphasis: {\r\n                                fill: 'rgb(151,213,168)'\r\n                            },\r\n                        },\r\n                        { //绿色\r\n                            type: 'rect',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: -arh2,\r\n                            },\r\n                            style: {\r\n                                fill: 'rgb(186,226,179)'\r\n                            },\r\n                            styleEmphasis: {\r\n                                fill: 'green'\r\n                            },\r\n                            position: [0, -arh]\r\n                        },\r\n                        { //浅蓝色\r\n                            type: 'rect',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: -brh,\r\n                            },\r\n                            style: {\r\n                                fill: 'rgb(123,189,221)'\r\n                            },\r\n                            styleEmphasis: {\r\n                                fill: 'rgb(123,189,221)'\r\n                            },\r\n                            position: [rw, 0]\r\n                        },\r\n                        { //红色\r\n                            type: 'rect',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: -brh2,\r\n                            },\r\n                            style: {\r\n                                fill: 'rgb(201,37,33)'\r\n                            },\r\n                            styleEmphasis: {\r\n                                fill: 'rgb(201,37,33)'\r\n                            },\r\n                            position: [rw, -brh]\r\n                        },\r\n                        { //紫色\r\n                            type: 'rect',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: -brh3,\r\n                            },\r\n                            style: {\r\n                                fill: 'rgb(243,187,186) '\r\n                            },\r\n                            styleEmphasis: {\r\n                                fill: 'rgb(243,187,186) '\r\n                            },\r\n                            position: [rw, -brh - brh2]\r\n                        },\r\n                    ]\r\n\r\n                }, {\r\n                    type: 'group',\r\n                    position: [0, 0],\r\n                    children: [{ //蓝\r\n                            type: 'text',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: arh,\r\n                            },\r\n                            style: {\r\n                                fontSize: 12,\r\n                                textAlign: 'center',\r\n                                textFill: '#424658',\r\n                                textVerticalAlign: 'middle',\r\n                                text: avText,\r\n                            },\r\n                            position: [rw / 2, -arh / 2]\r\n                        },\r\n                        { //绿\r\n                            type: 'text',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: arh2,\r\n                            },\r\n                            style: {\r\n                                fontSize: 12,\r\n                                textAlign: 'center',\r\n                                textFill: '#424658',\r\n                                textVerticalAlign: 'middle',\r\n                                text: av2Text,\r\n                            },\r\n                            position: [rw / 2, -arh + (-arh2 / 2)]\r\n                        },\r\n                        { //浅蓝\r\n                            type: 'text',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: brh,\r\n                            },\r\n                            style: {\r\n                                fontSize: 12,\r\n                                textAlign: 'center',\r\n                                textFill: '#424658',\r\n                                textVerticalAlign: 'middle',\r\n                                text: bvText,\r\n                            },\r\n                            position: [rw * 3 / 2, -brh / 2]\r\n                        },\r\n                        { //红\r\n                            type: 'text',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: brh2,\r\n                            },\r\n                            style: {\r\n                                fontSize: 12,\r\n                                textAlign: 'center',\r\n                                textFill: '#424658',\r\n                                textVerticalAlign: 'middle',\r\n                                text: bv2Text,\r\n                            },\r\n                            position: [rw * 3 / 2, -brh + (-brh2 / 2)]\r\n                        },\r\n                        { //紫\r\n                            type: 'text',\r\n                            shape: {\r\n                                width: rw,\r\n                                height: brh3,\r\n                            },\r\n                            style: {\r\n                                fontSize: 12,\r\n                                textAlign: 'center',\r\n                                textFill: '#424658',\r\n                                textVerticalAlign: 'middle',\r\n                                text: bv3Text,\r\n                            },\r\n                            position: [rw * 3 / 2, -brh - brh2 + (-brh3 / 2)]\r\n                        },\r\n\r\n                    ]\r\n                }]\r\n\r\n            }\r\n        }\r\n    }\r\n}","html":"","externalScripts":"","updaterUID":"bd-1785988351","theme":"","layout":"","viewCount":18,"userName":"百度用户#0971362260","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJ6kM6ZGb.png?v=1573475231269","isCustomThumbnail":0,"builtinTags":["category-work","dataset","series-custom"],"customTags":[],"updaterUserName":"百度用户#0971362260"}}