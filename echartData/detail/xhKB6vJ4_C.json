{"status":0,"data":{"cid":"xhKB6vJ4_C","authorUid":"bd-3645309627","authorUserName":"1***_","title":"北京地图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-27T03:02:24.000Z","lastUpdateTime":"2021-08-27T03:02:24.000Z","auth":2,"uid":"bd-3645309627","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-27T03:02:24.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1630027425393-SxVmyjR11.json';\n\n/**\n此版本通过设置geoindex && seriesIndex: [1] 属性来实现geo和map共存，来达到hover散点和区域显示tooltip的效果\n\n默认情况下，map series 会自己生成内部专用的 geo 组件。但是也可以用这个 geoIndex 指定一个 geo 组件。这样的话，map 和 其他 series（例如散点图）就可以共享一个 geo 组件了。并且，geo 组件的颜色也可以被这个 map series 控制，从而用 visualMap 来更改。\n当设定了 geoIndex 后，series-map.map 属性，以及 series-map.itemStyle 等样式配置不再起作用，而是采用 geo 中的相应属性。\n\nhttp://echarts.baidu.com/option.html#series-map.geoIndex\n\n并且加了pin气泡图标以示数值大小\n*/\nvar points = [\n    {\n        value: [116.4, 39.9],\n        itemStyle: {\n            color: '#f58414',\n        },\n    },\n    {\n        value: [115.9, 39.96],\n        itemStyle: {\n            color: '#e7ab0b',\n        },\n    },\n    {\n        value: [115.98, 39.69],\n        itemStyle: {\n            color: '#1DE9B6',\n        },\n    } /*{\n    value: [113.6200,34.7500],\n    itemStyle: {\n        color: '#f58414'\n    }\n},{\n    value: [109.4800, 36.6000],\n    itemStyle: {\n        color: '#f58414'\n    }\n},{\n    value: [107.1300,34.3700],\n    itemStyle: {\n        color: '#f58414'\n    }\n},{\n    value: [113.2300,23.1600],\n    itemStyle: {\n        color: '#f58414'\n    }\n},{\n    value: [117.4219, 39.4189],\n    itemStyle: {\n        color: '#f58414'\n    }\n},{\n    value: [108.3700, 22.8200],\n    itemStyle: {\n        color: '#f58f0e'\n    }\n},{\n    value: [109.1162, 34.2004],\n    itemStyle: {\n        color: '#f5a305'\n    }\n},{\n    value: [103.5901, 36.3043],\n    itemStyle: {\n        color: '#e7ab0b'\n    }\n},{\n    value: [106.3586, 38.1775],\n    itemStyle: {\n        color: '#dfae10'\n    }\n},{\n    value: [103.9526, 30.7617],\n    itemStyle: {\n        color: '#c1bb1f'\n    }\n}*/,\n];\n// var uploadedDataURL = \"/asset/get/s/data-1482909892121-BJ3auk-Se.json\";\nmyChart.showLoading();\nlet index = -1;\n\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('beijing', geoJson);\n    myChart.hideLoading();\n    option = {\n        backgroundColor: '#091c3d',\n\n        geo: {\n            show: false,\n            map: 'beijing',\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            roam: true,\n            itemStyle: {\n                show:true,\n                normal: {\n                    areaColor: 'transparent',\n                    borderColor: '#3fdaff',\n                    borderWidth: 2,\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 30,\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                },\n            },\n        },\n        series: [\n            {\n                type: 'map',\n                roam: false,\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize:15,\n                            fontWeight:500,\n                        },\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: 'rgb(183,185,14)',\n                        },\n                    },\n                },\n\n                itemStyle: {\n                    normal: {\n                        areaColor: '#003669',\n                        borderColor: '#3fdaff',\n                        borderWidth: 2,\n                        shadowColor: 'rgba(63, 218, 255,0.6)',\n                        shadowBlur: 35,\n                    },\n                    emphasis: {\n                        areaColor: '#2B91B7',\n                    },\n                },\n                zoom: 1.1,\n                map: 'beijing', //使用\n            },\n            {\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                showEffectOn: 'render',\n                zlevel: 1,\n                rippleEffect: {\n                    period: 15,\n                    scale: 4,\n                    brushType: 'fill',\n                },\n                hoverAnimation: true,\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        offset: [15, 0],\n                        color: '#1DE9B6',\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#1DE9B6',\n                        shadowBlur: 20,\n                        shadowColor: '#333',\n                    },\n                },\n                symbolSize: 12,\n                data: points,\n            }, //地图线的动画效果\n        ],\n    };\n    myChart.setOption(option, true);\n});\n","html":"","externalScripts":"","updaterUID":"bd-3645309627","theme":"","layout":"","viewCount":0,"userName":"1***_","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhKB6vJ4_C.png?v=1630033345084","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map"],"customTags":[],"updaterUserName":"1***_"}}