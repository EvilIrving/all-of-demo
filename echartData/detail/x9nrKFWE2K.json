{"status":0,"data":{"cid":"x9nrKFWE2K","authorUid":"obd-o-beVPGIoLEcXBNGwQ-Jxlwp0Pkn4Ao","authorUserName":"追***S","title":"散点图内阴影渲染","description":"散点图内阴影渲染","latestVersion":2,"alwaysLatest":1,"createTime":"2021-03-19T00:44:55.000Z","lastUpdateTime":"2021-03-19T00:44:55.000Z","auth":2,"uid":"obd-o-beVPGIoLEcXBNGwQ-Jxlwp0Pkn4Ao","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-02T02:28:42.000Z","code":" var reslult = [{\r\n         name: \"电力热力\",\r\n         value: 130,\r\n         color: \"#20F397\",\r\n         position: [0, 60],\r\n         fontSize: \"12\",\r\n         number: \"2\",\r\n     },\r\n     {\r\n         name: \"水利环境\",\r\n         value: 150,\r\n         color: \"#FEF009\",\r\n         position: [20, 30],\r\n         fontSize: \"14\",\r\n         number: \"4\",\r\n     },\r\n     {\r\n         name: \"批发零售\",\r\n         value: 130,\r\n         color: \"#02DDDF\",\r\n         position: [20, 70],\r\n         number: \"2\",\r\n         fontSize: \"12\",\r\n     },\r\n     {\r\n         name: \"制造业\",\r\n         value: 170,\r\n         color: \"#FF0000\",\r\n         position: [45, 50],\r\n         number: \"4\",\r\n         fontSize: \"18\",\r\n     },\r\n     {\r\n         name: \"房地产\",\r\n         value: 140,\r\n         color: \"#00FFFF\",\r\n         position: [46, 90],\r\n         fontSize: \"13\",\r\n         number: \"3\",\r\n     },\r\n     {\r\n         name: \"交通运输\",\r\n         value: 70,\r\n         color: \"#FF7E00\",\r\n         position: [65, 75],\r\n         fontSize: \"18\",\r\n         number: \"2\",\r\n     },\r\n     {\r\n         name: \"居民服务\",\r\n         value: 140,\r\n         color: \"#00FFFF\",\r\n         position: [80, 33],\r\n         number: \"4\",\r\n         fontSize: \"11\",\r\n     },\r\n     {\r\n         name: \"教育\",\r\n         value: 130,\r\n         color: \"#601986\",\r\n         position: [90, 53],\r\n         fontSize: \"11\",\r\n         number: \"2\",\r\n     },\r\n ];\r\n var data = [];\r\n // 渲染数据，并写入chart\r\n reslult.map((item) => {\r\n     data.push({\r\n         name: item.name,\r\n         value: item.position,\r\n         symbolSize: item.value,\r\n         label: {\r\n             normal: {\r\n                 formatter: function(param) {\r\n                     var newParamsName = \"\"; //返回文字格式\r\n                     var paramsNameNumber = param.name.length; //获取显示文字长度\r\n                     var number = parseInt(item.number); //超过多少字换行\r\n                     var rowNumber = Math.ceil(paramsNameNumber / number); //最多能显示几行\r\n                     if (paramsNameNumber > number) {\r\n                         //如果长度大于每行最多显示的字数\r\n                         for (var p = 0; p < rowNumber; p++) {\r\n                             //循环次数就是行数\r\n                             var tempStr = \"\"; //每次截取的字符\r\n                             var start = p * number; //截取的起点\r\n                             var end = start + number; //截取的终点\r\n                             if (p == rowNumber - 1) {\r\n                                 //最后一行就不换行了\r\n                                 tempStr = param.name.substring(start);\r\n                             } else {\r\n                                 tempStr = param.name.substring(start, end) + \"\\n\";\r\n                             }\r\n                             newParamsName += tempStr; //拼接字符串\r\n                         }\r\n                     } else {\r\n                         newParamsName = param.name; //如果小于每行最多显示的字数就返回原来的字符串\r\n                     }\r\n                     return newParamsName;\r\n                 },\r\n                 show: true,\r\n                 textStyle: {\r\n                     fontSize: item.fontSize,\r\n                     fontFamily: \"Microsoft YaHei\",\r\n                     color: \"#FFFFFF\",\r\n                     fontWeight: \"bold\",\r\n                     opacity: 1,\r\n                 },\r\n             },\r\n         },\r\n         itemStyle: {\r\n             normal: {\r\n                 color: new echarts.graphic.RadialGradient(0.5, 0.5, 1, [{\r\n                         offset: 0.2,\r\n                         color: \"rgba(27, 54, 72, 0.3)\",\r\n                     },\r\n                     {\r\n                         offset: 1,\r\n                         color: item.color,\r\n                     },\r\n                 ]),\r\n                 opacity: 1,\r\n                 borderWidth: 1,\r\n                 borderColor: item.color,\r\n             },\r\n         },\r\n     });\r\n });\r\n option = {\r\n     backgroundColor:'rgba(36, 130, 160, 1)',\r\n     grid: {\r\n         show: false,\r\n         top: 10,\r\n         bottom: 10,\r\n     },\r\n     xAxis: [{\r\n         gridIndex: 0,\r\n         type: \"value\",\r\n         show: false,\r\n         min: 0,\r\n         max: 100,\r\n         nameLocation: \"middle\",\r\n         nameGap: 5,\r\n     }, ],\r\n     yAxis: [{\r\n         gridIndex: 0,\r\n         min: 0,\r\n         show: false,\r\n         max: 100,\r\n         nameLocation: \"middle\",\r\n         nameGap: 30,\r\n     }, ],\r\n\r\n     series: [{\r\n         type: \"scatter\",\r\n         symbol: \"circle\",\r\n         symbolSize: 120,\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 formatter: \"{b}\",\r\n                 color: \"#fff\",\r\n                 textStyle: {\r\n                     fontSize: \"20\",\r\n                 },\r\n             },\r\n         },\r\n         animationDurationUpdate: 500,\r\n         animationEasingUpdate: 500,\r\n         animationDelay: function(idx) {\r\n             // 越往后的数据延迟越大\r\n             return idx * 100;\r\n         },\r\n         data: data,\r\n     }, ],\r\n }","html":"","externalScripts":"","updaterUID":"obd-o-beVPGIoLEcXBNGwQ-Jxlwp0Pkn4Ao","theme":"","layout":"","viewCount":138,"userName":"追***S","commentCount":0,"starCount":13,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9nrKFWE2K.png?v=1617330522768","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter"],"customTags":[],"updaterUserName":"追***S"}}