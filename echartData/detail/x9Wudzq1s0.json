{"status":0,"data":{"cid":"x9Wudzq1s0","authorUid":"obd-oPpKQP0lkGZA7qQsL3gtNTMILnUj794","authorUserName":"135******89","title":"水平柱状图分段","description":"水平柱状图分段","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-03T03:12:16.000Z","lastUpdateTime":"2021-09-03T03:12:16.000Z","auth":2,"uid":"obd-oPpKQP0lkGZA7qQsL3gtNTMILnUj794","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-03T03:12:16.000Z","code":"var spNum = 5,\n    _max = 1600;\nvar legendData = ['雨天', '阴天', '晴天'];\nvar y_data = ['下海', '入地', '上天'];\nvar _datamax = [100, 100, 100, 100, 100, 100],\n    _data1 = [300, 300, 1000],\n    _data2 = [200, 200, 300],\n    _data3 = [1000, 1000, 300];\nvar fomatter_fn = function (v) {\n    console.log(v);\n    return `${v.value}`;\n    // return `${v.seriesName}${v.value}`\n};\nvar _label = {\n    normal: {\n        show: true,\n        position: 'inside',\n        formatter: fomatter_fn,\n        textStyle: {\n            color: '#333',\n            fontSize: 16,\n        },\n    },\n};\noption = {\n    // backgroundColor: '#091034',\n    title: [\n        {\n            subtext: '1600(m)',\n            right: '10%',\n            top: '20%',\n            textAlign: 'left',\n            subtextStyle: {\n                color: '#333',\n                fontSize: 14,\n            },\n        },\n        {\n            subtext: '1500(m)',\n            right: '10%',\n            top: '50%',\n            textAlign: 'left',\n            subtextStyle: {\n                color: '#333',\n                fontSize: 14,\n            },\n        },\n        {\n            subtext: '1500(m)',\n            right: '10%',\n            top: '80%',\n            textAlign: 'left',\n            subtextStyle: {\n                color: '#333',\n                fontSize: 14,\n            },\n        },\n    ],\n    legend: {\n        left: '23%',\n        data: legendData,\n        textStyle: {\n            color: '#333',\n        },\n    },\n    grid: {\n        containLabel: true,\n        left: 0,\n        right: 150,\n        bottom: 30,\n    },\n    tooltip: {\n        show: true,\n        backgroundColor: '#fff',\n        borderColor: '#ddd',\n        borderWidth: 1,\n        textStyle: {\n            color: '#3c3c3c',\n            fontSize: 16,\n        },\n        formatter: function (p) {\n            console.log(p);\n            var _arr = p.seriesName.split('/'),\n                idx = p.seriesIndex; //1，2，3\n            return '名称：' + p.seriesName + '<br>' + '长度：' + p.value;\n            // return '名称：' + p.seriesName + '<br>' + '长度：' + p.value + '<br>' + '占比：' + (p.value / _max * 100).toFixed(0) + '%';\n        },\n        extraCssText: 'box-shadow: 0 0 5px rgba(0, 0, 0, 0.1)',\n    },\n    xAxis: {\n        splitNumber: spNum,\n        interval: _max / spNum,\n        max: _max,\n        axisLabel: {\n            show: false,\n            formatter: function (v) {\n                var _v = ((v / _max) * 100).toFixed(0);\n                return _v == '0' ? _v : _v + '%';\n            },\n        },\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n        },\n    },\n    yAxis: [\n        {\n            data: y_data,\n            axisLabel: {\n                fontSize: 16,\n                color: '#333',\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n        },\n        {\n            show: false,\n            data: y_data,\n            axisLine: {\n                show: false,\n            },\n        },\n    ],\n    series: [\n        {\n            type: 'bar',\n            name: '雨天',\n            stack: '2',\n            label: _label,\n            legendHoverLink: false,\n            barWidth: 25,\n            itemStyle: {\n                normal: {\n                    color: 'rgb(100, 224, 234)',\n                },\n                emphasis: {\n                    color: 'rgb(100, 244, 244)',\n                },\n            },\n            data: _data1,\n        },\n        {\n            type: 'bar',\n            name: '阴天',\n            stack: '2',\n            legendHoverLink: false,\n            barWidth: 25,\n            label: _label,\n            itemStyle: {\n                normal: {\n                    color: 'rgb(144, 144, 144)',\n                },\n                emphasis: {\n                    color: 'rgb(144, 164, 154)',\n                },\n            },\n            data: _data2,\n        },\n        {\n            type: 'bar',\n            stack: '2',\n            name: '晴天',\n            legendHoverLink: false,\n            barWidth: 25,\n            label: _label,\n            itemStyle: {\n                normal: {\n                    color: 'rgb(254,221,89)',\n                },\n                emphasis: {\n                    color: 'rgb(254,241,99)',\n                },\n            },\n            data: _data3,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oPpKQP0lkGZA7qQsL3gtNTMILnUj794","theme":"","layout":"","viewCount":0,"userName":"135******89","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9Wudzq1s0.png?v=1630638736505","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"135******89"}}