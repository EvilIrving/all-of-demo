{"status":0,"data":{"cid":"xkVFhnTkTd","authorUid":"obd-oEw_mam498iVLh0aDxNVleoWFGDX94y","authorUserName":"心***c","title":"山东地图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-11-16T07:37:16.000Z","lastUpdateTime":"2020-11-16T07:37:16.000Z","auth":2,"uid":"obd-oEw_mam498iVLh0aDxNVleoWFGDX94y","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-31T09:13:29.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1605510661041-oDutJVlSC.json\";\n\t\tvar nameMap = '山东省';\n\t\twindow.dataList = [  { name: '济南市', value: 396 },\n        { name: '青岛市', value: 66 },\n        { name: '烟台市', value: 222 },\n        { name: '潍坊市', value: 688 },\n        { name: '菏泽市', value: 75 },\n        { name: '日照市', value: 121 },\n        { name: '威海市', value: 91 },\n        { name: '枣庄市', value: 479 },\n        { name: '临沂市', value: 34 },\n        { name: '滨州市', value: 631 },\n        { name: '东营市', value: 1203 },\n        { name: '淄博市', value: 988 },\n        { name: '泰安市', value: 693 },\n        { name: '聊城市', value: 934 },\n        { name: '济宁市', value: 748 },\n        { name: '德州市', value: 1267 }\n\t\t];\n\t\tvar geoCoordMap = {};\n\t\tvar convertData = function(data) {\n\t\t    console.log('data', data)\n\t\t    var res = [];\n\t\t    for (var i = 0; i < data.length; i++) {\n\t\t        var geoCoord = geoCoordMap[data[i].name];\n\t\t        if (geoCoord) {\n\t\t            res.push({\n\t\t                name: data[i].name,\n\t\t                value: geoCoord.concat(data[i].value),\n\t\t            });\n\t\t        }\n\t\t    }\n\t\t    console.log('res', res)\n\t\t    return res;\n\t\t};\n\n\n\t\t$.get(uploadedDataURL, function(gdMap) {\n\t\t    debugger\n\t\t    echarts.registerMap(nameMap, gdMap);\n\t\t    /*获取地图数据*/\n\t\t    myChart.showLoading();\n\t\t    var mapFeatures = echarts.getMap(nameMap).geoJson.features;\n\t\t    myChart.hideLoading();\n\t\t    mapFeatures.forEach(function(v) {\n\t\t        // 地区名称\n\t\t        var name = v.properties.name;\n\t\t        // 地区经纬度\n\t\t        geoCoordMap[name] = v.properties.center;\n\n\t\t    });\n\t\t    console.log(geoCoordMap)\n\t\t    //GDP\n\t\t  var optionMap = {\n\t\t        title: {\n          text: '地图',\n          top: '2%',\n          textStyle: {\n            color: '#000',\n            fontSize: 16\n          }\n        },\n        visualMap: [{\n          min: 0,\n          max:  1000,\n          show: false,\n          //   text: ['High', 'Low'],\n          realtime: false,\n          calculable: false,\n          seriesIndex: [0],\n          inRange: {\n            color: ['rgb(202,249,130)', 'rgb(129,211,248)', 'rgb(255,255,128)', 'rgb(128,255,255)', 'rgb(0,255,255)', 'rgb(128,128,255)', 'rgb(236,128,141)', 'rgb(194,128,255)', 'rgb(245,154,35)', 'rgb(112,182,3)', 'rgb(0,182,128)', 'rgb(99,0,191)']\n          }\n        },\n        {\n          min: 0,\n          max: 1000,\n          seriesIndex: 1,\n          show: true,\n          splitNumber: 4,\n          right: '2%',\n          inRange: {\n            color: ['#FF6464', '#FFA85A', '#FFEC6F', '#8BBCFE'].reverse()\n          },\n          formatter: function (value) {\n            return ''\n          }\n        }],\n        geo: {\n          map: nameMap,\n          show: false,\n          roam: true,\n          label: {\n            normal: {\n              show: false\n            },\n            emphasis: {\n              show: false\n            }\n          }\n        },\n        series: [\n          { // 地图块的相关信息\n            type: 'map',\n            map: nameMap,\n            label: {\n              normal: {\n                show: true,\n                textStyle: {\n                  fontSize: 12,\n                  fontWeight: 400,\n                  color: 'rgb(0,0,0) '\n                }\n              }\n            },\n            data: window.dataList\n          },\n          {\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin',\n            symbolSize: [40, 40],\n            label: {\n              normal: {\n                show: true,\n                textStyle: {\n                  color: '#000',\n                  fontSize: 10,\n                  fontWeight: 600\n                },\n                formatter (value) {\n                  return value.data.value[2]\n                }\n              }\n            },\n            hoverAnimation: true,\n            itemStyle: {\n              normal: {\n                color: 'pink' // 标志颜色\n              }\n            },\n            zlevel: 6,\n            data: convertData(window.dataList)\n          }\n        ]\n\n\t\t    };\n\t\t    myChart.setOption(optionMap, true);\n\t\t});","html":"","externalScripts":"","updaterUID":"obd-oEw_mam498iVLh0aDxNVleoWFGDX94y","theme":"","layout":"","viewCount":6921,"userName":"心***c","commentCount":0,"starCount":16,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkVFhnTkTd.png?v=1609406009315","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","title","visualMap"],"customTags":[],"updaterUserName":"心***c"}}