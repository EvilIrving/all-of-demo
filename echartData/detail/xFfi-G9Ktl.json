{"status":0,"data":{"cid":"xFfi-G9Ktl","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"160","description":"饼图","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-13T10:27:28.000Z","lastUpdateTime":"2020-04-13T10:27:28.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-13T10:27:28.000Z","code":"\nlet dataPie2 = [{\n        name: '空闲',\n        value: 60\n    },\n    {\n        name: '占用',\n        value: 40\n    },\n   \n];\nlet dataColor2 = [{\n        os1: '#36d7e7',\n        os2: '#216994'\n    },\n    {\n        os1: '#ff277d',\n        os2: '#ff277d'\n    },\n   \n];\nlet legendData = [],\n    seriesData = [],\n    radiusValue = 60,total = 0;\n    \n dataPie2.forEach(function(val, idx, arr) {\n     total += val.value;\n })\nfor (var i = 0; i < dataPie2.length; i++) {\n    legendData.push(dataPie2[i].name);\n    seriesData.push({\n        type: 'pie',\n        clockWise: false, //饼图的扇区是否是顺时针排布\n        radius: [radiusValue - 8 * i + '%', radiusValue - 8 * i + 1 + '%'],\n        center: ['40%', '50%'],\n        label: {\n            normal: {\n                show: false //隐藏引导线标识\n            }\n        },\n        hoverAnimation: false, //关闭 hover 在扇区上的放大动画效果\n        startAngle: 150*i, //起始角度\n        data: [ { //透明伞形\n                value: total - dataPie2[i].value,\n                tooltip: {\n                    show: false\n                },\n                itemStyle: { //设置透明伞形\n                    normal: {\n                        color: '#041e36',//伞形颜色\n                         borderWidth: 10,\n                         borderColor:'#041e36',\n                        label: {\n                            show: false\n                        },\n                        \n                    },\n\n                }\n            },\n            {\n                value: dataPie2[i].value,\n                name: dataPie2[i].name,\n                \n                itemStyle: {\n                    normal: {\n                        borderWidth: 10,\n                        borderColor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: dataColor2[i].os1,\n                        }, {\n                            offset: 1,\n                            color: dataColor2[i].os2,\n                        }]),\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: dataColor2[i].os1\n                        }, {\n                            offset: 1,\n                            color: dataColor2[i].os2\n                        }])\n                    }\n                }\n            },\n           \n        ]\n    });\n\n\n}\noption = {\n    backgroundColor: '#021228',\n   title: [{\n        text: '160',\n        subtext: '总车位',\n        textAlign: 'center',\n        textStyle: {\n            color: '#ffffff',\n            fontSize: 12,\n            lineHeight: 12\n        },\n        subtextStyle: {\n            color: '#00b5f3',\n            fontSize: 16,\n            fontWeight:800\n        },\n         x: '33%',\n        y: 'center',\n    }],\n    tooltip: {\n        trigger: 'item',\n        show: true,\n        formatter: \"{b} : <br/>{d}%\",\n        backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n        padding: [8, 10], //内边距\n        extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n    },\n    legend: {\n         data: ['空闲', '占用'],\n         icon: 'vertical',\n         right: '5%',\n         top: 'center',\n         orient: 'vertical',\n         itemGap: 20,\n         itemWidth: 15,\n         itemHeight: 8,\n         formatter: function(name) {\n\n\n             let target,percent;\n             for (let i = 0; i < dataPie2.length; i++) {\n                 if (dataPie2[i].name === name) {\n                     target = dataPie2[i].value;\n                     percent = ((target/total)*100).toFixed(2);\n                 }\n             }\n             let arr =  [ ' {blue|' + name + '}',' {white|' + target + '}', percent+'% ', ];\n             return arr.join(\"\\n\")\n\n         },\n         textStyle: {\n\n             lineHeight: 20,\n             color: '#a5dbff',\n             align: 'right',\n             rich: {\n                 white: {\n                     color: '#e9e9e9',\n                     align: 'right',\n\n                 },\n                 blue: {\n                     color: '#a5dbff',\n                      align: 'right',\n\n                 },\n             }\n\n         },\n     },\n    series: seriesData\n};","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":4230,"userName":"绿***绿","commentCount":0,"starCount":30,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFfi-G9Ktl.png?v=1586773648627","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}