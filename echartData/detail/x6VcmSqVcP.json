{"status":0,"data":{"cid":"x6VcmSqVcP","authorUid":"bd-2469886102","authorUserName":"芊***8","title":"测试","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-01T03:18:35.000Z","lastUpdateTime":"2021-07-01T03:18:35.000Z","auth":1,"uid":"bd-2469886102","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-01T03:18:35.000Z","code":"\n\nvar uploadedDataURL = \"/asset/get/s/data-1625108618375-WECpFmw4t.json\";\n// var uploadedDataURL = '/asset/get/s/data-1608555250848-dtMgEcnGa.json';\n// var uploadedDataURL = \"/asset/get/s/data-1615796884226-kh0LCNa4u.json\";\nvar nameMap = '华东';\n\nwindow.dataList = [\n  { name: '上海市', value: 396 },\n  { name: '安徽省', value: 66 },\n  { name: '江苏省', value: 222 },\n  { name: '浙江省', value: 688 },\n  { name: '福建省', value: 75 }\n];\nvar geoCoordMap = {};\nvar convertData = function (data) {\n  console.log('data', data);\n  var res = [];\n  for (var i = 0; i < data.length; i++) {\n    var geoCoord = geoCoordMap[data[i].name];\n    if (geoCoord) {\n      res.push({\n        name: data[i].name,\n        value: geoCoord.concat(data[i].value),\n      });\n    }\n  }\n  console.log('res', res);\n  return res;\n};\n\n$.get(uploadedDataURL, function (gdMap) {\n  console.log(gdMap)\n  // return;\n  echarts.registerMap(nameMap, gdMap);\n  /*获取地图数据*/\n  myChart.showLoading();\n  var mapFeatures = echarts.getMap(nameMap).geoJson.features;\n  myChart.hideLoading();\n  mapFeatures.forEach(function (v) {\n    // 地区名称\n    var name = v.properties.name;\n    // 地区经纬度\n    geoCoordMap[name] = v.properties.center;\n  });\n  // console.log(geoCoordMap);\n  //GDP\n  var optionMap = {\n    title: {\n      text: '江苏省地图',\n      top: '2%',\n      textStyle: {\n        color: '#000',\n        fontSize: 16,\n      },\n    },\n    visualMap: [\n      {\n        min: 0,\n        max: 1000,\n        show: false,\n        //   text: ['High', 'Low'],\n        realtime: false,\n        calculable: false,\n        seriesIndex: [0],\n        inRange: {\n          color: [\n            'rgb(202,249,130)',\n            'rgb(129,211,248)',\n            'rgb(255,255,128)',\n            'rgb(128,255,255)',\n            'rgb(0,255,255)',\n            'rgb(128,128,255)',\n            'rgb(236,128,141)',\n            'rgb(194,128,255)',\n            'rgb(245,154,35)',\n            'rgb(112,182,3)',\n            'rgb(0,182,128)',\n            'rgb(99,0,191)',\n          ],\n        },\n      },\n      {\n        min: 0,\n        max: 1000,\n        seriesIndex: 1,\n        show: true,\n        splitNumber: 4,\n        right: '2%',\n        inRange: {\n          color: ['#FF6464', '#FFA85A', '#FFEC6F', '#8BBCFE'].reverse(),\n        },\n        formatter: function (value) {\n          return '';\n        },\n      },\n    ],\n    geo: {\n      map: nameMap,\n      show: false,\n      roam: true,\n      label: {\n        normal: {\n          show: false,\n        },\n        emphasis: {\n          show: false,\n        },\n      },\n    },\n    series: [\n      {\n        // 地图块的相关信息\n        type: 'map',\n        map: nameMap,\n        label: {\n          normal: {\n            show: true,\n            textStyle: {\n              fontSize: 12,\n              fontWeight: 400,\n              color: 'rgb(0,0,0) ',\n            },\n          },\n        },\n        data: window.dataList,\n      },\n      {\n        type: 'scatter',\n        coordinateSystem: 'geo',\n        symbol: 'pin',\n        symbolSize: [40, 40],\n        label: {\n          normal: {\n            show: true,\n            textStyle: {\n              color: '#000',\n              fontSize: 10,\n              fontWeight: 600,\n            },\n            formatter(value) {\n              return value.data.value[2];\n            },\n          },\n        },\n        hoverAnimation: true,\n        itemStyle: {\n          normal: {\n            color: 'pink', // 标志颜色\n          },\n        },\n        zlevel: 6,\n        data: convertData(window.dataList),\n      },\n    ],\n  };\n  myChart.setOption(optionMap, true);\n});","html":"","externalScripts":"","updaterUID":"bd-2469886102","theme":"","layout":"","viewCount":0,"userName":"芊***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x6VcmSqVcP.png?v=1625109515367","isCustomThumbnail":0,"builtinTags":["category-work","title"],"customTags":[],"updaterUserName":"芊***8"}}