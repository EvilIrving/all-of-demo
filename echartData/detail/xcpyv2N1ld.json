{"status":0,"data":{"cid":"xcpyv2N1ld","authorUid":"bd-3182588218","authorUserName":"飞***燕","title":"3D地球+中国地图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2019-08-09T06:39:19.000Z","lastUpdateTime":"2019-08-09T06:39:19.000Z","auth":2,"uid":"bd-3182588218","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-25T06:16:28.000Z","code":"let canvas = document.createElement('canvas');\nlet mapChart = echarts.init(canvas, null, {\n    width: 4096,\n    height: 2048\n});\nlet pOp = {\n    geo: {\n        map: 'china',\n        label: {\n            fontSize: 12\n        },\n        itemStyle: {\n            areaColor: 'transparent',\n            borderColor: '#00FDFF'\n        },\n        emphasis: {\n            areaColor: 'transparent'\n        },\n        regions: [\n\t       \t{\n              name: \"南海诸岛\",\n              value: 0,\n              itemStyle: {\n                normal: {\n                  opacity: 0,\n                  label: {\n                    show: false\n                  }\n                }\n              }\n            }\n        ],\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        boundingCoords: [\n            [-180, 90],\n            [180, -90]\n        ]\n    },\n    data: [\n        ],\n    series: [\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: [\n                {\"name\":\"北京\",\"value\":[127.9688, 45.368]},\n            ],\n            symbolSize: 20,\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke',\n                color: '#44FCF7',\n                period: 8,\n                scale: 3\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    padding: [0, 0, 0, 8],\n                    show: true,\n                    fontSize: 14\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#44FCF7',\n                    shadowBlur: 10,\n                }\n            },\n            zlevel: 1\n        },\n        {\n            type: 'lines',\n            zlevel: 8,\n            effect: {\n                show: true,\n                period: 3, //箭头指向速度，值越小速度越快\n                trailLength: 0.4, //特效尾迹长度[0,1]值越大，尾迹越长重\n                symbol: 'arrow', //箭头图标\n                symbolSize: 8, //图标大小\n            },\n            lineStyle: {\n                normal: {\n                    color: \"#44FCF7\",\n                    width: 1, //线条宽度\n                    opacity: 0.8, //尾迹线条透明度\n                    curveness: 0.3 //尾迹线条曲直度\n                },\n            },\n            data: [\n                {\n                coords: [\n                    [127.9688, 45.368],\n                    [121.4543, 31.007]\n                ]\n\n            }]\n        }\n    ]\n}\nmapChart.setOption(pOp);\noption = {\n    backgroundColor: '#333',\n    visualMap: [{\n        show: false,\n        type: 'continuous',\n        seriesIndex: 0,\n        text: ['scatter3D'],\n        textStyle: {\n            color: '#fff'\n        },\n        calculable: true,\n        max: 3000,\n        inRange: {\n            color: ['#87aa66', '#eba438', '#d94d4c'],\n            symbolSize: [8, 30]\n        }\n    }\n    ],\n    globe: {\n        baseTexture: \"/asset/get/s/data-1565167424629-_VRUzTZn2.jpg\",\n        heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',\n        displacementScale: 0.04,\n        shading: 'lambert',\n        environment: '/asset/get/s/data-1491837999815-H1_44Qtal.jpg',\n        light: { // 光照阴影\n            main: {\n                color: '#fff', // 光照颜色\n                intensity: 1.2, // 光照强度\n                shadow: false, // 是否显示阴影\n                alpha: 40,\n                beta: -30\n            },\n            ambient: {\n                intensity: 0.5\n            }\n        },\n        viewControl: {\n            projection: 'perspective',\n            alpha: 90,\n            beta: 0,\n            center: [0, 50, 0], // 视角\n            targetCoord: [110.46, 10.92], \n            autoRotate: false,\n            autoRotateAfterStill: 10,\n            distance: 50 // 视距\n        },\n        postEffectL: {\n            enable: true,\n            depthOfFieldL: {\n                enable: true,\n                focalDistance: 1000,\n                fstop: 100\n            }\n        },\n        layers: [{\n            type: 'blend',\n            texture: mapChart\n        }]\n    },\n    series: [{\n        type: 'scatter3D',\n        coordinateSystem: 'globe',\n        label: {\n            show: false\n        },\n        emphasis: {\n            label: {\n                show: false\n            }\n        },\n        data: []\n    },{\n        name: 'lines3D',\n        type: 'lines3D',\n        coordinateSystem: 'globe',\n        effect: {\n            show: true,\n            period: 2,\n            trailWidth: 1,\n            trailLength: 0.5,\n            trailOpacity: 1,\n            trailColor: '#0087f4'\n        },\n        blendMode: 'lighter',\n        lineStyle: {\n            width: 1,\n            color: '#0087f4',\n            opacity: 0\n        },\n        data: [],\n        silent: false,\n        \n    }]\n}\n\nmyChart.setOption(option);\n\nfor (let i = 0; i < 50; i++) {\n    option.series[1].data = option.series[1].data.concat(getRandomData())\n}\n\nfunction getRandomData() {\n    return {\n        coords: [\n            [Math.random() * 135.20, Math.random() * 53.33],\n            [121.51585, 31.23045]\n        ],\n        value: (Math.random() * 30).toFixed(2)\n    }\n}","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-3182588218","theme":"","layout":"","viewCount":10847,"userName":"飞***燕","commentCount":17,"starCount":59,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcpyv2N1ld.png?v=1565332762852","isCustomThumbnail":1,"builtinTags":["category-work","globe","series-lines3D","series-scatter3D","visualMap"],"customTags":[],"updaterUserName":"飞***燕"}}