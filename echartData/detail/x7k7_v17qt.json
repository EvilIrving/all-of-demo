{"status":0,"data":{"cid":"x7k7_v17qt","authorUid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","authorUserName":"林***影","title":"3个圆环图","description":"3个圆环图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-07T03:02:55.000Z","lastUpdateTime":"2021-07-07T03:02:55.000Z","auth":2,"uid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-07T03:02:55.000Z","code":"const payload = {\n    id: 'right-top',\n    title: '职称',\n    color: ['0, 191, 255', '24, 242, 115', '255, 207, 64'],\n    data: {\n        正级: { data1: '11', data2: '4', data3: 7, data4: '36.36' },\n        副级: { data1: '128', data2: '104', data3: 24, data4: '81.25' },\n        中级: { data1: '246', data2: '219', data3: 27, data4: '89.02' },\n    },\n};\n\nconst list = []\nconst title = []\nObject.keys(payload.data).forEach(item => {\n    title.push(item)\n    list.push({\n        data1: payload.data[item].data1,\n        data2: payload.data[item].data2,\n        data3: payload.data[item].data3,\n        data4: payload.data[item].data4\n    })\n})\n\nlet titleBottom = ['42%', '42%', '42%']\nlet center = [\n    ['17%', '28%'],\n    ['50%', '28%'],\n    ['83%', '28%']\n]\nlet radius = [\n    ['38%', '40%'],\n    ['38%', '40%'],\n    ['38%', '40%']\n]\nlet radius2 = [\n    ['33%', '38%'],\n    ['33%', '38%'],\n    ['33%', '38%']\n]\n\noption = {\n    title: [\n        {\n            text: title[0],\n            left: '16%',\n            bottom: titleBottom[0],\n            textAlign: 'center',\n            textStyle: {\n                fontWeight: 'normal',\n                fontSize: '14',\n                color: '#AAAFC8',\n                textAlign: 'center'\n            }\n        },\n        {\n            text: title[1],\n            left: '49%',\n            bottom: titleBottom[1],\n            textAlign: 'center',\n            textStyle: {\n                color: '#AAAFC8',\n                fontWeight: 'normal',\n                fontSize: '14',\n                textAlign: 'center'\n            }\n        },\n        {\n            text: title[2],\n            left: '82%',\n            bottom: titleBottom[2],\n            textAlign: 'center',\n            textStyle: {\n                color: '#AAAFC8',\n                fontWeight: 'normal',\n                fontSize: '14',\n                textAlign: 'center'\n            }\n        }\n    ],\n    series: []\n}\n\nconst getPie1 = (index, data1, data2, color) => {\n    return {\n        type: 'pie',\n        center: center[index],\n        radius: radius[index],\n        markLine: {\n            show: false\n        },\n        itemStyle: {\n            label: {\n                show: false\n            }\n        },\n        emphasis: {\n            scale: 1\n        },\n        data: [\n            {\n                value: data1,\n                itemStyle: {\n                    color: {\n                        type: 'linear',\n                        x: 0,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(' + color + ', 1)' // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(' + color + ', 1)' // 100% 处的颜色\n                            }\n                        ],\n                        global: false // 缺省为 false\n                    }\n                },\n                labelLine: {\n                    show: false\n                },\n                emphasis: {\n                    labelLine: {\n                        show: false\n                    }\n                }\n            },\n            {\n                value: data2,\n                itemStyle: {\n                    color: '#2B3F43'\n                },\n                labelLine: {\n                    show: false\n                },\n                emphasis: {\n                    labelLine: {\n                        show: false\n                    }\n                }\n            }\n        ]\n    }\n}\n\n// eslint-disable-next-line\nconst getPie2 = (index, data1, data2, data3, color) => {\n    return {\n        type: 'pie',\n        center: center[index],\n        radius: radius2[index],\n        itemStyle: {\n            label: {\n                show: false\n            },\n            labelLine: {\n                show: false\n            }\n        },\n        emphasis: {\n            scale: 1\n        },\n        data: [\n            {\n                value: data1,\n                label: {\n                    formatter: '{number|' + data3 + '}{percent|%}\\n{text|通过率}',\n                    color: '#31F3FF',\n                    fontWeight: 'bold',\n                    position: 'center',\n                    show: true,\n                    rich: {\n                        number: {\n                            color: 'rgba(' + color + ', 1)',\n                            fontSize: 20,\n                            verticalAlign: 'bottom'\n                        },\n                        percent: {\n                            color: 'rgba(187, 230, 251, 1)',\n                            fontSize: 14,\n                            verticalAlign: 'bottom'\n                        },\n                        text: {\n                            color: 'rgba(183, 213, 242, 1)',\n                            fontSize: 14,\n                            lineHeight: 20,\n                            verticalAlign: 'bottom'\n                        }\n                    }\n                },\n                itemStyle: {\n                    color: {\n                        type: 'radial',\n                        x: 1,\n                        y: 1,\n                        r: 1,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(' + color + ', 0.16)' // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(' + color + ', 0.16)' // 100% 处的颜色\n                            }\n                        ],\n                        global: false // 缺省为 false\n                    }\n                },\n                labelLine: {\n                    show: false\n                }\n            },\n            {\n                value: data2,\n                itemStyle: {\n                    color: '#141D2C'\n                },\n                labelLine: {\n                    show: false\n                }\n            }\n        ]\n    }\n}\n\nlist.forEach((item, index) => {\n    option.series.push(getPie1(index, item.data2, item.data3, payload.color[index]))\n    option.series.push(getPie2(index, item.data2, item.data3, item.data4, payload.color[index]))\n})","html":"","externalScripts":"","updaterUID":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","theme":"","layout":"","viewCount":0,"userName":"林***影","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7k7_v17qt.png?v=1625626975946","isCustomThumbnail":0,"builtinTags":["category-work","markLine","series-pie","title"],"customTags":[],"updaterUserName":"林***影"}}