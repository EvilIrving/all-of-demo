{"status":0,"data":{"cid":"xlmsIkDFQT","authorUid":"bd-599414847","authorUserName":"A***M","title":"全国","description":"全国地图","latestVersion":2,"alwaysLatest":1,"createTime":"2019-05-23T09:52:45.000Z","lastUpdateTime":"2019-05-23T09:52:45.000Z","auth":2,"uid":"bd-599414847","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-23T10:18:44.000Z","code":"let title = '全国'\r\n\r\nlet partData = [{\r\n    part: '华东一',\r\n    value: '423',\r\n    tag: 3,\r\n    city: ['黑龙江', '浙江'],\r\n    color: 'red',\r\n}, {\r\n    part: '华北二',\r\n    value: '115',\r\n    tag: 2,\r\n    city: ['上海', '江苏'],\r\n    color: '#ec8686',\r\n}, {\r\n    part: '华北三',\r\n    value: '215',\r\n    tag: 1,\r\n    city: ['北京', '重庆'],\r\n    color: 'yellow',\r\n}]\r\n\r\n\r\n////////////////////////////////////////////////////////////////////\r\n\r\nlet isRangeColor = ['#fff']\r\nlet max = partData.length\r\n//数据纯属虚构\r\nvar data = [\r\n    {\r\n        name: '北京',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '上海',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '重庆',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '河北',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '河南',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '云南',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '辽宁',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '黑龙江',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '湖南',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '安徽',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '山东',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '新疆',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '江苏',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '浙江',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '江西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '湖北',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '广西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '甘肃',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '山西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '内蒙古',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '陕西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '吉林',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '福建',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '贵州',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '广东',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '青海',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '西藏',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '四川',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '宁夏',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '海南',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '台湾',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '香港',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '澳门',\r\n        value: 0\r\n    }\r\n];\r\nlet yData = [];\r\nlet barData = [];\r\n\r\npartData.forEach(item => {\r\n    barData.push(item);\r\n   yData.push(item.part + ' ' + item.value + ' ');\r\n   isRangeColor[item.tag] = item.color\r\n   item.city.forEach((city)=>{\r\n       data.find(dataItem => {\r\n           if (dataItem.name == city ) {\r\n               dataItem.value = item.tag\r\n           }\r\n       })\r\n   })\r\n})\r\n\r\nvar option = {\r\n    backgroundColor:'#fff',\r\n    title: [{\r\n        show: true,\r\n        text: title,\r\n        textStyle: {\r\n            color: '#2D3E53',\r\n            fontSize: 18\r\n        },\r\n        top: 10\r\n    }],\r\n    tooltip: {\r\n        show: true,\r\n        formatter: function(params) {\r\n            return params.name + '：' + params.data['value']\r\n        },\r\n    },\r\n    visualMap: {\r\n        type: 'continuous',\r\n        orient: 'horizontal',\r\n        itemWidth: 10,\r\n        itemHeight: 0,\r\n        // text: ['高', '低'],\r\n        showLabel: true,\r\n        seriesIndex: [0],\r\n        min: 0,\r\n        max: max,\r\n        inRange: {\r\n            color: isRangeColor\r\n        },\r\n        textStyle: {\r\n            color: '#7B93A7'\r\n        },\r\n        bottom: 30,\r\n        left: 'left',\r\n    },\r\n    grid: {\r\n        right: 10,\r\n        top: 200,\r\n        bottom: 200,\r\n        width: '20%'\r\n    },\r\n    xAxis: {\r\n        show: false\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        inverse: true,\r\n        nameGap: 16,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#ddd'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#ddd'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            margin: 85,\r\n            textStyle: {\r\n                color: '#455A74',\r\n                align: 'left',\r\n                fontSize: 14\r\n            }\r\n        },\r\n        data: yData\r\n    },\r\n    geo: {\r\n        roam: true,\r\n        map: 'china',\r\n        left: 'left',\r\n        right: '300',\r\n        layoutSize: '80%',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            },\r\n        },\r\n        itemStyle: {\r\n            emphasis: {\r\n                areaColor: 'transparent'\r\n            },\r\n              normal: {\r\n                borderColor: '#ccc',\r\n            },\r\n        }\r\n    },\r\n    series: [{\r\n        name: 'mapSer',\r\n        type: 'map',\r\n        roam: false,\r\n        geoIndex: 0,\r\n        label: {\r\n            show: false,\r\n        },\r\n        data: data\r\n    }, {\r\n        name: 'barSer',\r\n        type: 'bar',\r\n        roam: false,\r\n        visualMap: false,\r\n        zlevel: 2,\r\n        center: ['83%', '20%'],\r\n        barMaxWidth: 8,\r\n        barGap: .4,\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    return params.data.color\r\n                },\r\n                barBorderRadius: 15\r\n            }\r\n        },\r\n        data: barData\r\n    }]\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-599414847","theme":"","layout":"","viewCount":290,"userName":"A***M","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlmsIkDFQT.png?v=1558606724455","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"A***M"}}