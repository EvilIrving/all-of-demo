{"status":0,"data":{"cid":"xkMj7svO9k","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"4-玫瑰图-正/教授","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-05-13T01:04:10.000Z","lastUpdateTime":"2021-05-13T01:04:10.000Z","auth":1,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-13T08:44:02.000Z","code":"var porfessor_data = [\n    {\n        value: 796,\n        name: '一级正教授',\n        type: '正教授',\n    },\n    {\n        value: 1475,\n        name: '二级正教授',\n        type: '正教授',\n    },\n    {\n        value: 301,\n        name: '三级正教授',\n        type: '正教授',\n    },\n    {\n        value: 347,\n        name: '四级正教授',\n        type: '正教授',\n    },\n    {\n        value: 1234,\n        name: '一级副教授',\n        type: '副教授',\n    },\n    {\n        value: 213,\n        name: '二级副教授',\n        type: '副教授',\n    },\n    {\n        value: 213,\n        name: '三级副教授',\n        type: '副教授',\n    },\n];\nvar data = [\n    {\n        value: 60,\n        name: '正教授',\n    },\n    {\n        value: 40,\n        name: '副教授',\n    },\n];\nvar porfessor_total = 0; // 教授总数\nporfessor_data.forEach((item) => (porfessor_total += item.value));\nvar colorList = ['#1a9dff', '#ffa93b'];\nvar colorList1 = ['#1a9dff', '#1a9dff', '#1a9dff', '#1a9dff', '#ffa93b', '#ffa93b', '#ffa93b'];\n\noption = {\n    backgroundColor: '#fff',\n    color: ['#7A8FFF', '#50E696', '#28D278', '#FFD341', '#FFD29D', '#B797FF'],\n    // title: {\n    //     itemGap: 10,\n    //     text: '学生总数',\n    //     subtext: porfessor_total,\n    //     left: '30%',\n    //     top: '44%',\n    //     textAlign: 'center',\n    //     textStyle: {\n    //         fontWeight: '400',\n    //         fontSize: 18,\n    //         color: '#999'\n    //     },\n    //     subtextStyle: {\n    //         fontFamily: 'Arial',\n    //         fontWeight: '400',\n    //         fontSize: 40,\n    //         color: '#111',\n    //     }\n    // },\n    // tooltip: {\n    //     trigger: 'item',\n    //     formatter: '{a} <br/>{b} : {c} 人',\n    //     backgroundColor: \"rgba(0,0,0,0.6)\",\n    //     borderColor: \"rgba(0,0,0,0.6)\",\n    //     padding: 15,\n    //     textStyle: {\n    //         color: \"#fff\",\n    //         fontSize: 14,\n    //         fontWeight: \"300\",\n    //     },\n    // },\n    legend: {\n        itemGap: 40,\n        icon: 'circle',\n        type: 'scroll',\n        orient: 'vertical',\n        right: 50,\n        top: 'center',\n        textStyle: {\n            // color: '#77899c',\n            rich: {\n                // a（系列名称），b（数据项名称），c（数值）, d（百分比）\n                a: {\n                    color: '#333',\n                    width: 70,\n                },\n                b: {\n                    color: '#333',\n                    width: 40,\n                    align: 'right',\n                },\n                c: {\n                    color: '#333',\n                    width: 60,\n                    align: 'right',\n                },\n            },\n        },\n        formatter: function (name) {\n            let target;\n            for (let i = 0; i < porfessor_data.length; i++) {\n                if (porfessor_data[i].name == name) {\n                    target = porfessor_data[i].value;\n                }\n            }\n            return `{a|${name}}{c|${target} 人} {b|${((target / porfessor_total) * 100).toFixed(2) + '%'}}`;\n        },\n    },\n    series: [\n        {\n            name: '整体分类',\n            type: 'pie',\n            radius: ['15%', '30%'],\n            label: {\n                show: false,\n                // position: 'center',\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: '#fff',\n                    borderWidth: 2,\n                    color: function (params) {\n                        return colorList[params.dataIndex];\n                    },\n                },\n            },\n            selectedMode: 'single',\n            data: data,\n        },\n        {\n            name: '细节分类',\n            type: 'pie',\n            radius: ['40%', '55%'],\n            roseType: 'radius',\n            label: {\n            show: false,\n            position: 'center'\n        },\n            itemStyle: {\n                normal: {\n                    // color: function (params) {\n                    //     console.log(params);\n                    //     for (i = 0; i < porfessor_data.length; i++) {\n                    //         if (porfessor_data[i].index === 0) {\n                    //             return colorList[0];\n                    //         } else {\n                    //             return colorList[1];\n                    //         }\n                    //     }\n                    // },\n                    color: function (params) {\n                        return colorList1[params.dataIndex];\n                    },\n                    // color: function (params) {\n                    //     if (params.type == '正教授') {\n                    //         return colorList[0];\n                    //     }else {\n                    //         return colorList[1];\n                    //     }\n                    // },\n                },\n            },\n            // label: {\n            //     show: false,\n            //     normal: {\n            //         position: 'center',\n            //         formatter: function (params) {\n            //             // if (params.value !== 0) return params.data.type + '   ' + params.value + '人' +  '   ' +params.percent + '% ;\n            //             if (params.value !== 0)\n            //                 return params.data.type + ':' + params.value + '人' + params.percent + '%';\n            //             else return '';\n            //         },\n            //         show: true,\n            //     },\n            // },\n            data: porfessor_data,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkMj7svO9k.png?v=1620895442992","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"花***n"}}