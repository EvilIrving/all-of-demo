{"status":0,"data":{"cid":"xYPjM_33O","authorUid":"bd-3342206826","authorUserName":"小***琪","title":"饼形图legend左右分布","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-02-16T12:55:05.000Z","lastUpdateTime":"2020-02-16T12:55:05.000Z","auth":2,"uid":"bd-3342206826","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-16T13:12:07.000Z","code":"let imgSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAllBMVEUAAAAY258A1JYY258X2p4l2Zkd3qMY258Y3KAY258Y258X3J8V2p0Y2Z8Y26AW3Z0Y258Y2p4X258Y258X258Y258Y258Y3J8Y3J8Y258T2Z0Y258Y3J8Z26AY26AY258Y258X258X3J8Y3KAX3J8X3J8a36UY3J8Y26AX258X258Y258Y258Y258Y26AX3J8Y3J8Y258TXRF7AAAAMXRSTlMA3QSHmQYR62bM1iwiH0oWdxuv9OW1kTs0qA372SfSx1XvbU9BoQm8lVqMf1/3wplypN/JAQAAA+pJREFUaN7t2dl6ojAYBuAPFNxFcANRUXGry7S5/5ub+UNtaIk1iXAwT/ueeNDAR1ZCih/L3yWnGarltBljAaoVMlJxVfqM9JD3G/Ib8jND7E10nt0JGa6vd0L8SfQCda+MsbYnjbdpbbEh0Wkwxt6gasbI3IeOxYgusqBqH+unUAZdA2V1RqjFVFFbkQ2UOQHTqwvVg7xCgzOW1aXTnIxbljVvBbVLT1aPCWCU8jGSt7sGy7OOnY96GGWIFqshMx2zovH0vWwk2sqgLmdwYYvJjbNWsyNRD+2UI8i+FrPM+jBprlYvm3oyZJnhxuYpB8owSjnzG/SW7wnHMDfzt9H1vTK819wBnhFmo3N02UPI7rtmZOnjWVPeMNeabL30dll+F8/pNvhtQsj1eWXaLp7hzekmiXd/qvMCfxw84UC3OHx3C8+iIieY2/COdRUadGveWNTiDf/R8IupW2wYOrJ/Hr9Ra1SsCTP+leaa4k7fMux7esJYZQ6k7J8VTNgj1U8Re05j0Gyuq4+aDdXZNW0tC0pmMR8hBhLGWF2j7KtJl1zp6TRq3YKCXjS3blygq7Pp7dP7iyamddM+zmRPvmSCDWyzXzUdKuzRrxBJywlrACtaUpTnLV21AHpMiG1ZOYEG1UVn0+nQVSHtogXpEx6LIW3lUcJDKExoynuvdjN4b66R1ndAF3BqN+ep8oDR6hMP2jo65xvTwlDUaIEp1Fx4RxoYabyKJqZnRwGfUGqWfN9s4I1mpQMVXZO9hLgyhYoBzT0bJlq0bYOCPXXfDkaaqo2wEQNRm0MPuHzcCl5DVNms69kAj0RUrP/U0Wk8VWnVAMamfMlefF8mpkWuB3M1vvD73y1xa7GXNWQfHuzre/xj74inuNlHzv7bj6TAhqlOKB41gNQ+oT8m/BFSzySjYbnZ7/2BHIkvxsWw7RlkUDN8fP/GHRSlYljsl3Tao50hTlb68Z1Fv02Dlw9wOxBnSloZYkE60c0c+Qv6IiYkpRhkTHLbhGJ7rcQC74z1U5Yig6MJ15cubQkgUrQWfFdkiNCm9MUe4XPKSH2eN0QGx4++pJuAE3Ipeiv+6kojS9iJzJzDbf6I87tGCHV+ukDOq/RDKvl6RBv2XZibFLpU9FRpzrKDDZdWgrTkf2gcNs28Nz7OfZTGtphcgBJtYybT6KFM/QYrandQrtkmSFp5f3YvNv5P6ameV5uifDX21QvKZg8LIa3/MwSnQsgF5Vsd63mnLaqwd/McVGCRsE/iwEXpWuyrHcrmsII5StcuhEQoXWixzxIfFfC7eR6qMR0IC1Rky27oS7QqqXVbtkJUxw7T1WqVLvBT/QXZze13haQUPgAAAABJRU5ErkJggg==';\r\n// 数据初始化\r\nlet fontColor = '#18DB9F',\r\n    echartData = [{\r\n            name: \"1分\",\r\n            value: 100\r\n        },\r\n        {\r\n            name: \"2分\",\r\n            value: 200\r\n        },\r\n        {\r\n            name: \"3分\",\r\n            value: 200\r\n        },\r\n        {\r\n            name: \"4分\",\r\n            value: 100\r\n        },\r\n        {\r\n            name: \"5分\",\r\n            value: 100\r\n        }\r\n    ];\r\n// 数据整理\r\nlet total = echartData.reduce((a, b) => {\r\n    return a + b.value\r\n}, 0);\r\nlet legendOption = {\r\n    top: \"center\",\r\n    orient: 'vertical',\r\n    icon: \"circle\",\r\n    itemWidth: 12,\r\n    itemGap: 13,\r\n    textStyle: {\r\n        fontSize: 14,\r\n        rich: {\r\n            name: {\r\n                color: \"#333333\",\r\n                padding: [10, 5, 30, 5],\r\n                // align: 'right'\r\n                // width: 60\r\n            },\r\n            percent: {\r\n                color: fontColor,\r\n                fontSize: 18,\r\n                padding: [0, 5, 0, 5],\r\n                // align: 'right'\r\n            }\r\n        }\r\n    },\r\n    formatter: function(name) {\r\n        let res = echartData.filter(v => v.name === name);\r\n        let percent = ((res[0].value * 100) / total).toFixed(2);\r\n        return (\r\n            \"{name| \" + name + \"}\\n{percent|\" + percent + \"%}\"\r\n        );\r\n    }\r\n};\r\n\r\n// option\r\noption = {\r\n    backgroundColor: '#FFFFFF',\r\n    color: ['#06FDBC', '#F6FE05', '#07B0FE', '#FDB408', '#00DB1C', '#0188FE'],\r\n    tooltip: {\r\n        trigger: \"item\",\r\n        formatter: \"{b}: {c} ({d}%)\"\r\n    },\r\n    graphic: {\r\n        elements: [{\r\n            type: \"image\",\r\n            z: 3,\r\n            style: {\r\n                image: imgSrc,\r\n                width: 90,\r\n                height: 90\r\n            },\r\n            left: 'center',\r\n            top: \"36%\",\r\n            position: [100, 100]\r\n        }]\r\n    },\r\n    title: {\r\n        text: '评分总人数',\r\n        top: '58%',\r\n        textAlign: \"center\",\r\n        left: \"50%\",\r\n        textStyle: {\r\n            color: fontColor,\r\n            fontSize: 20,\r\n            fontWeight: '400'\r\n        }\r\n    },\r\n    legend: [{\r\n        left: 60,\r\n        data: [ '5分', '4分', '3分'],\r\n        align: 'right',\r\n\r\n        ...legendOption\r\n    }, {\r\n        right: 60,\r\n        data: ['1分', '2分'],\r\n        align: 'left',\r\n        ...legendOption\r\n    }],\r\n    toolbox: {\r\n        show: false\r\n    },\r\n    series: [{\r\n        name: \"\",\r\n        type: \"pie\",\r\n        radius: [0, 150],\r\n        center: [\"50%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(24,219,159,0.1)'\r\n            },\r\n        },\r\n        hoverAnimation: false,\r\n        data: [100]\r\n    }, {\r\n        name: \"\",\r\n        type: \"pie\",\r\n        radius: [120, 135],\r\n        center: [\"50%\", \"50%\"],\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                shadowBlur: 10,\r\n                shadowColor: 'rgba(24,219,159,0.6)',\r\n            }\r\n        },\r\n        hoverAnimation: false,\r\n        hoverOffset: 5,\r\n        data: echartData\r\n    }, {\r\n        name: \"\",\r\n        type: \"pie\",\r\n        radius: [0, 105],\r\n        center: [\"50%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: new echarts.graphic.RadialGradient(.5, .5, .7, [{\r\n                        offset: 0.5,\r\n                        color: '#ffffff'\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: '#18DB9F'\r\n                    }\r\n                ], false)\r\n            },\r\n        },\r\n        hoverAnimation: false,\r\n        data: [100]\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-3342206826","theme":"","layout":"","viewCount":16249,"userName":"小***琪","commentCount":1,"starCount":42,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYPjM_33O.png?v=1581858727619","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"小***琪"}}