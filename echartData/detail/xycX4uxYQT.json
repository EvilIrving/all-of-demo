{"status":0,"data":{"cid":"xycX4uxYQT","authorUid":"bd-729462903","authorUserName":"C***c","title":"湖北","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2019-08-28T06:58:53.000Z","lastUpdateTime":"2019-08-28T06:58:53.000Z","auth":2,"uid":"bd-729462903","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-28T08:59:27.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1566907218833-Vho7hEh86.json\";\n\n// var uploadedDataURL = \"/asset/get/s/data-1566974946377-hLWBwxrJr.json\";\n\n// var uploadedDataURL = \"/asset/get/s/data-1566905910694-qhj2VnxNp.json\";\n\n\n        \nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('jiangxi', geoJson);\n    myChart.hideLoading();\n    var geoCoordMap = {\n        '武汉市':[114.298572,30.584355],\n        '黄石市':[115.077048,30.220074],\n        '十堰市':[110.787916,32.646907],\n        '宜昌市':[111.290843,30.702636],\n        '襄阳市':[112.144146,32.042426],\n        '鄂州市':[114.890593,30.396536],\n        '荆门市':[112.204251,31.03542],\n        '孝感市':[113.926655,30.926423],\n        '荆州市':[112.23813,30.326857],\n        '黄冈市':[114.879365,30.447711],\n        '咸宁市':[114.328963,29.832798],\n        '随州市':[113.37377,31.717497],\n        '恩施土家族苗族自治州':[109.48699,30.283114],\n        '仙桃市':[113.453974,30.364953],\n        '潜江市':[112.896866,30.421215],\n        '天门市':[113.165862,30.653061],\n        '神农架林区':[110.671525,31.744449],\n        '地理中心':[112.50515810863031, 30.902817368970947],\n        '经济中心':[113.31570343884808, 30.861278328394413],\n    }\n    var data = [\n        {\"name\":\"武汉市\",\"value\":0.3772},\n        {\"name\":\"黄石市\",\"value\":0.0403},\n        {\"name\":\"十堰市\",\"value\":0.0444},\n        {\"name\":\"宜昌市\",\"value\":0.1032},\n        {\"name\":\"襄阳市\",\"value\":0.1095},\n        {\"name\":\"鄂州市\",\"value\":0.0255},\n        {\"name\":\"荆门市\",\"value\":0.0469},\n        {\"name\":\"孝感市\",\"value\":0.0486},\n        {\"name\":\"荆州市\",\"value\":0.0529},\n        {\"name\":\"黄冈市\",\"value\":0.0517},\n        {\"name\":\"咸宁市\",\"value\":0.0346},\n        {\"name\":\"随州市\",\"value\":0.0257},\n        {\"name\":\"恩施土家族苗族自治州\",\"value\":0.0221},\n        {\"name\":\"仙桃市\",\"value\":0},\n        {\"name\":\"潜江市\",\"value\":0},\n        {\"name\":\"天门市\",\"value\":0},\n        {\"name\":\"神农架林区\",\"value\":0},\n        ];\n    \n    var icon_data = [\n        {\"name\":\"武汉市\",\"value\":20},\n        {\"name\":\"黄石市\",\"value\":20},\n        {\"name\":\"十堰市\",\"value\":20},\n        {\"name\":\"宜昌市\",\"value\":20},\n        {\"name\":\"襄阳市\",\"value\":20},\n        {\"name\":\"鄂州市\",\"value\":20},\n        {\"name\":\"荆门市\",\"value\":20},\n        {\"name\":\"孝感市\",\"value\":20},\n        {\"name\":\"荆州市\",\"value\":20},\n        // {\"name\":\"黄冈市\",\"value\":20},\n        {\"name\":\"咸宁市\",\"value\":20},\n        {\"name\":\"随州市\",\"value\":20},\n        {\"name\":\"恩施土家族苗族自治州\",\"value\":20},\n        {\"name\":\"仙桃市\",\"value\":20},\n        {\"name\":\"潜江市\",\"value\":20},\n        {\"name\":\"天门市\",\"value\":20},\n        {\"name\":\"神农架林区\",\"value\":20},\n        ]\n    var icon_data_2 = [\n        {\"name\":\"黄冈市\",\"value\":20},\n        ]\n        \n    var special_data = [\n    {\"name\":\"地理中心\",\"value\":20},\n    {\"name\":\"经济中心\",\"value\":20},\n    ]\n    \n    var max = 480, min = 9; // todo \n    var maxSize4Pin = 100, minSize4Pin = 20;\n\n  var convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\n\n\n    option = {\n        backgroundColor: '#FFFFFF',\n        title: {\n            text: '湖北省',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#ccc'\n            }\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n              if(typeof(params.value)[2] == \"undefined\"){\n              \treturn params.name + ' : ' + params.value;\n              }else{\n              \treturn params.name + ' : ' + params.value[2];\n              }\n            }\n        },\n        geo: {\n            map: 'jiangxi',\n            label: {\n                emphasis: {\n                    show: false\n                }\n            },\n            roam: false,\n            itemStyle: {\n                normal: {\n                    areaColor: '#CCCCCC',\n                    borderColor: '#FFFFFF'\n                },\n                emphasis: {\n                    areaColor: '#00CC33'\n                }\n            }\n        },\n        visualMap: {\n            show: true,\n            min: 0,\n            max: 0.4,\n            left: 'center',\n            top: '85%',\n            precision: 2,\n            orient:'horizontal',\n            // text: ['高', '低'], // 文本，默认为数值文本\n            calculable: true,\n            seriesIndex: [0],\n            inRange: {\n                color: ['RGB(204,204,204)', 'RGB(163,163,163)'] // 浅蓝\n            }\n        },\n        series : [\n        {\n            type: 'map',\n            map: 'jiangxi',\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#3B5077',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7'\n                }\n            },\n            animation: false,\n            data: data\n        },\n        {\n            name: 'cities',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(icon_data.sort(function (a, b) {\n                return b.value - a.value;\n            }).slice(0, 50)),\n            symbolSize: function (val) {\n                return val[2] / 5;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: ['150%', '150%'],\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#003399',\n                }\n            },\n            zlevel: 1\n        },\n        {\n            name: 'cities',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(icon_data_2.sort(function (a, b) {\n                return b.value - a.value;\n            }).slice(0, 50)),\n            symbolSize: function (val) {\n                return val[2] / 5;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: ['150%', '-150%'],\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#003399',\n                }\n            },\n            zlevel: 1\n        },\n        {\n            name: 'cities',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(special_data.sort(function (a, b) {\n                return b.value - a.value;\n            }).slice(0, 50)),\n            symbolSize: function (val) {\n                return val[2] / 5;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: ['250%', '150%'],\n                    fontWeight:'bold',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#CC6666',\n                }\n            },\n            zlevel: 1\n        },\n         \n    ]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-729462903","theme":"","layout":"","viewCount":400,"userName":"C***c","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xycX4uxYQT.png?v=1566982767414","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"C***c"}}