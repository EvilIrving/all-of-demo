{"status":0,"data":{"cid":"xpQoaCGyqN","authorUid":"obd-oA0g7GucI5w3ubLsC-NgUnpPeBMx47l","authorUserName":"老***侃","title":"区域数字分布 - 郑州市","description":"自己使用","latestVersion":2,"alwaysLatest":0,"createTime":"2021-05-08T06:22:13.000Z","lastUpdateTime":"2021-05-08T06:22:13.000Z","auth":2,"uid":"obd-oA0g7GucI5w3ubLsC-NgUnpPeBMx47l","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-08T06:22:34.000Z","code":"var zhengzhou = '/asset/get/s/data-1620445221286-11-rx7NZ8.json';\n\n//引入市区json文件\n\nmyChart.showLoading();\n$.getJSON(zhengzhou, function (geoJson) {\n    echarts.registerMap('china', geoJson);\n    myChart.hideLoading();\n    //地理位置信息\n    var geoCoordMap = {\n        中原区: [113.546928, 34.780838],\n        二七区: [113.594642, 34.678253],\n        管城区: [113.75524,34.696862],\n        金水区: [113.743791, 34.810784],\n        上街区: [113.284108, 34.788622],\n        惠济区: [113.621348, 34.891176],\n        中牟县: [114.004302, 34.713431],\n        巩义市: [113.033328, 34.697267],\n        荥阳市: [113.358941, 34.796495],\n        新密市: [113.433255, 34.508082],\n        新郑市: [113.729471, 34.453334],\n        登封市: [113.035049, 34.412311],\n    };\n    //数据信息\n    var data = [\n        { name: '中原区', value: 2000 },\n        { name: '二七区', value: 1000 },\n        { name: '管城区', value: 1000},\n        { name: '金水区', value: 1000 },\n        { name: '上街区', value: 1000 },\n        { name: '惠济区', value: 1000 },\n        { name: '中牟县', value: 1000 },\n        { name: '巩义市', value: 1000 },\n        { name: '荥阳市', value: 1000 },\n        { name: '新密市', value: 1000 },\n        { name: '新郑市', value: 1000 },\n        { name: '登封市', value: 1000 },\n    ];\n    var max = 480,\n        min = 9; // todo\n    var maxSize4Pin = 100,\n        minSize4Pin = 20;\n\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                });\n            }\n        }\n        return res;\n    };\n\n    option = {\n        backgroundColor: {\n            type: 'linear',\n            x: 0,\n            y: 0,\n            x2: 1,\n            y2: 1,\n            colorStops: [\n                {\n                    offset: 0,\n                    color: '#0f378f', // 0% 处的颜色\n                },\n                {\n                    offset: 1,\n                    color: '#00091a', // 100% 处的颜色\n                },\n            ],\n            globalCoord: false,\n        },\n        title: {\n            top: 20,\n            text: '延时课堂区域分布 - 郑州市',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#fff',\n            },\n        },\n\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n                if (typeof params.value[2] == 'undefined') {\n                    return params.name + ' : ' + params.value;\n                } else {\n                    return params.name + ' : ' + params.value[2];\n                }\n            },\n        },\n        /*   legend: {\n            orient: 'vertical',\n            y: 'bottom',\n            x: 'right',\n             data:['pm2.5'],\n            textStyle: {\n                color: '#fff'\n            }\n        },*/\n        legend: {\n            orient: 'vertical',\n            y: 'bottom',\n            x: 'right',\n            data: ['pm2.5'],\n            textStyle: {\n                color: '#fff',\n            },\n        },\n        visualMap: {\n            show: false,\n            min: 0,\n            max: 500,\n            left: 'left',\n            top: 'bottom',\n            text: ['高', '低'], // 文本，默认为数值文本\n            calculable: true,\n            seriesIndex: [1],\n            inRange: {},\n        },\n        geo: {\n            map: 'china',\n            show: true,\n            roam: true,\n            center: [113.594642, 34.678253],\n            zoom: 20, //当前视角缩放比例\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: '#3a7fd5',\n                    borderColor: '#0a53e9', //线\n                    shadowColor: '#092f8f', //外发光\n                    shadowBlur: 20,\n                },\n                emphasis: {\n                    areaColor: '#0a2dae', //悬浮区背景\n                },\n            },\n        },\n        series: [\n            {\n                symbolSize: 5,\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        show: true,\n                    },\n                    emphasis: {\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#fff',\n                    },\n                },\n                name: 'light',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                data: convertData(data),\n            },\n            {\n                type: 'map',\n                map: 'china',\n                geoIndex: 0,\n                aspectScale: 0.75, //长宽比\n                showLegendSymbol: false, // 存在legend时显示\n                label: {\n                    normal: {\n                        show: false,\n                    },\n                    emphasis: {\n                        show: false,\n                        textStyle: {\n                            color: '#fff',\n                        },\n                    },\n                },\n                roam: true,\n                itemStyle: {\n                    normal: {\n                        areaColor: '#031525',\n                        borderColor: '#FFFFFF',\n                    },\n                    emphasis: {\n                        areaColor: '#2B91B7',\n                    },\n                },\n                animation: false,\n                data: data,\n            },\n            {\n                name: 'Top 5',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                symbol: 'pin',\n                symbolSize: [50, 50],\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: 'transparent',\n                            fontSize: 9,\n                        },\n                        formatter(value) {\n                            return value.data.value[2];\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: 'transparent', //标志颜色改为透明\n                    },\n                },\n                data: convertData(data),\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                zlevel: 1,\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"obd-oA0g7GucI5w3ubLsC-NgUnpPeBMx47l","theme":"","layout":"","viewCount":0,"userName":"老***侃","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpQoaCGyqN.png?v=1620454954272","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"老***侃"}}