{"status":0,"data":{"cid":"xzpJWdcQCX","authorUid":"obd-ojM2tX4jX-zPwdqCrLMrj9MjslDI8Em","authorUserName":"勤***语","title":"圆环图自定义legend、设置默认选中","description":"用户自定义legend样式，，并且设置默认选中项","latestVersion":2,"alwaysLatest":1,"createTime":"2021-02-08T06:54:44.000Z","lastUpdateTime":"2021-02-08T06:54:44.000Z","auth":2,"uid":"obd-ojM2tX4jX-zPwdqCrLMrj9MjslDI8Em","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-08T06:55:33.000Z","code":"var color = [\r\n    '#0CD2E6',\r\n    '#3751E6',\r\n    '#FFC722',\r\n    '#886EFF',\r\n    '#008DEC',\r\n    '#114C90',\r\n    '#00BFA5',\r\n];\r\n\r\nvar title = '自定义legend、默认选中';\r\nvar legend = [\r\n    'A需求类型',\r\n    'B需求类型',\r\n    'C需求类型',\r\n    'D需求类型',\r\n    'E需求类型',\r\n    '其他'\r\n];\r\n\r\nvar seriesData = [\r\n    { \"name\": \"A需求类型\", \"value\": 30 },\r\n    { \"name\": \"B需求类型\", \"value\": 10 },\r\n    { \"name\": \"C需求类型\", \"value\": 15 },\r\n    { \"name\": \"D需求类型\", \"value\": 23 },\r\n    { \"name\": \"E需求类型\", \"value\": 10 },\r\n    { \"name\": \"其他\", \"value\": 12 }\r\n]\r\n\r\nvar option = {\r\n    backgroundColor:'#050e31',\r\n    color: color,\r\n    title: {\r\n        top: 20,\r\n        text: title,\r\n        textStyle: {\r\n            fontSize: 20,\r\n            color: '#DDEEFF',\r\n        },\r\n    },\r\n    grid: {\r\n        top: '15%',\r\n        left: 0,\r\n        right: '1%',\r\n        bottom: 5,\r\n        containLabel: true,\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        top: 'center',\r\n        right: 50,\r\n        textStyle: {\r\n            align: 'left',\r\n            verticalAlign: 'middle',\r\n            rich: {\r\n                name: {\r\n                    color: 'rgba(255,255,255,0.5)',\r\n                    fontSize: 10,\r\n                },\r\n                value: {\r\n                    color: 'rgba(255,255,255,0.5)',\r\n                    fontSize: 10,\r\n                },\r\n                rate: {\r\n                    color: 'rgba(255,255,255,0.9)',\r\n                    fontSize: 10,\r\n                },\r\n            },\r\n        },\r\n        data: legend,\r\n        formatter: (name) => {\r\n            if (seriesData.length) {\r\n                const item = seriesData.filter((item) => item.name === name)[0];\r\n                return `{name|${name}：}{value| ${item.value}} {rate| ${item.value}%}`;\r\n            }\r\n        },\r\n    },\r\n    series: [{\r\n        name: '需求类型占比',\r\n        type: 'pie',\r\n        center: ['50%', '50%'],\r\n        radius: ['45%', '65%'],\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'center',\r\n                formatter: '{value|{c}}\\n{label|{b}}',\r\n                rich: {\r\n                    value: {\r\n                        padding: 5,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 32,\r\n                    },\r\n                    label: {\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 16,\r\n                    },\r\n                },\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: '12',\r\n                },\r\n            },\r\n        },\r\n        labelLine: {\r\n            show: false,\r\n            length: 0,\r\n            length2: 0,\r\n        },\r\n        data: seriesData,\r\n    }],\r\n};\r\n\r\nmyChart.setOption(option);\r\n\r\ngetDefaultSelected(myChart)\r\n\r\nfunction getDefaultSelected(myChart) {\r\n    let index = 0;\r\n    myChart.dispatchAction({\r\n      type: 'highlight',\r\n      seriesIndex: 0,\r\n      dataIndex: 0,\r\n    });\r\n    myChart.on('mouseover', (e) => {\r\n      if (e.dataIndex !== index) {\r\n        myChart.dispatchAction({\r\n          type: 'downplay',\r\n          seriesIndex: 0,\r\n          dataIndex: index,\r\n        });\r\n      }\r\n    });\r\n    myChart.on('mouseout', (e) => {\r\n      index = e.dataIndex;\r\n      myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex,\r\n      });\r\n    });\r\n}\r\n\r\n","html":"","externalScripts":"","updaterUID":"obd-ojM2tX4jX-zPwdqCrLMrj9MjslDI8Em","theme":"","layout":"","viewCount":103,"userName":"勤***语","commentCount":0,"starCount":47,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzpJWdcQCX.png?v=1612767333242","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":["自定义","默认选中"],"updaterUserName":"勤***语"}}