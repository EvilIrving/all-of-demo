{"status":0,"data":{"cid":"xV1eNJLBpS","authorUid":"bd-1703269945","authorUserName":"r***e","title":"温度计","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-14T05:11:23.000Z","lastUpdateTime":"2020-10-14T05:11:23.000Z","auth":2,"uid":"bd-1703269945","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-14T05:11:23.000Z","code":"var TP_value = 200;\nvar kd = [];\nvar Gradient = [];\nvar leftColor = '';\nvar showValue = '';\nvar boxPosition = [100, 0];\nvar TP_txt = ''\nvar max_temp = 250;\n// 刻度使用柱状图模拟，短设置1，长的设置3；构造一个数据\nfor(var i = 0, len = max_temp; i <= len; i++) {\nif(i < 10 || i > max_temp) {\n    kd.push('')\n} else {\n    if((i - 50) % 50 === 0) {\n        kd.push('-3');\n    } else if((i - 10) % 10 === 0) {\n        kd.push('-1');\n    } else {\n        kd.push('');\n    }\n}\n\n}\n//中间线的渐变色和文本内容\nif(TP_value > 200) {\nTP_txt = '温度偏高';\nGradient.push({\n    offset: 0,\n    color: '#93FE94'\n}, {\n    offset: 0.5,\n    color: '#E4D225'\n}, {\n    offset: 1,\n    color: '#E01F28'\n})\n} else if(TP_value > 160) {\nTP_txt = '温度正常';\nGradient.push({\n    offset: 0,\n    color: '#93FE94'\n}, {\n    offset: 1,\n    color: '#E4D225'\n})\n} else {\nTP_txt = '温度偏低';\nGradient.push({\n    offset: 1,\n    color: '#93FE94'\n})\n}\nif(TP_value > max_temp) {\nshowValue = max_temp\n} else {\nif(TP_value < -60) {\n    showValue = -60\n} else {\n    showValue = TP_value\n}\n}\nif(TP_value < -10) {\nboxPosition = [65, -120];\n}\nleftColor = Gradient[Gradient.length - 1].color;\n// 因为柱状初始化为0，温度存在负值，所以加上负值60和空出距离10\noption = {\nbackgroundColor: '#0C2F6F',\n\ntitle:{\n    text:[\n        '{a|' + TP_value + '}{b|°C}',\n        '{c|' + TP_txt + '}'\n    ].join('\\n'),\n\n    x: 'center',\n    y: \"50%\",\n    textStyle: {\n        color: \"#aaa\",\n        fontWeight: 200,\n        fontSize: 14,\n        rich: {\n        a: {\n            align: 'center',\n            lineHeight: 50,\n            fontSize: 40,\n            fontFamily: 'digifacewide',\n            color: leftColor\n        },\n        b: {\n            fontFamily: '微软雅黑',\n            fontSize: 15,\n            lineHeight: 50,\n            color: leftColor\n        },\n        c: {\n            lineHeight: 50,\n            fontSize: 25,\n            align: 'center',\n            color: '#fff'\n        }\n    },\n    },\n},\ngrid:{\n    left: \"25%\"\n},\nyAxis: [{\n    show: false,\n    data: [],\n    min: 0,\n    max: max_temp,\n    axisLine: {\n        show: false\n    }\n}, {\n    show: false,\n    min: 0,\n    max: 50,\n}, {\n    type: 'category',\n    data: ['', '', '', '', '', '', '', '', '', '', '°C'],\n    position: 'left',\n    offset: -80,\n    axisLabel: {\n        fontSize: 10,\n        color: 'white'\n    },\n    axisLine: {\n        show: false\n    },\n    axisTick: {\n        show: false\n    },\n}],\nxAxis: [{\n    show: false,\n    min: -10,\n    max: 80,\n    data: []\n}, {\n    show: false,\n    min: -10,\n    max: 80,\n    data: []\n}, {\n    show: false,\n    min: -10,\n    max: 80,\n    data: []\n}, {\n    show: false,\n    min: -5,\n    max: 80,\n\n}],\nseries: [{\n    name: '条',\n    type: 'bar',\n    // 对应上面XAxis的第一个对)象配置\n    xAxisIndex: 0,\n    data: [{\n        value: (showValue ),\n        label: {\n            normal: {\n                show: false,\n            }\n        }\n    }],\n\n    barWidth: 6,\n    itemStyle: {\n        normal: {\n            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, Gradient)\n        }\n    },\n    z: 2\n}, {\n    name: '白框',\n    type: 'bar',\n    xAxisIndex: 1,\n    barGap: '-100%',\n    data: [max_temp],\n    barWidth: 12,\n    itemStyle: {\n        normal: {\n            color: '#0C2E6D',\n            barBorderRadius: 20,\n        }\n    },\n    z: 1\n}, {\n    name: '外框',\n    type: 'bar',\n    xAxisIndex: 2,\n    barGap: '-100%',\n    data: [max_temp],\n    barWidth: 18,\n    itemStyle: {\n        normal: {\n            color: '#4577BA',\n            barBorderRadius: 50,\n        }\n    },\n    z: 0\n}, {\n    name: '圆',\n    type: 'scatter',\n    hoverAnimation: false,\n    data: [0],\n    xAxisIndex: 0,\n    symbolSize: 22,\n    itemStyle: {\n        normal: {\n            color: '#93FE94',\n            opacity: 1,\n        }\n    },\n    z: 2\n}, {\n    name: '白圆',\n    type: 'scatter',\n    hoverAnimation: false,\n    data: [0],\n    xAxisIndex: 1,\n    symbolSize: 28,\n    itemStyle: {\n        normal: {\n            color: '#0C2E6D',\n            opacity: 1,\n        }\n    },\n    z: 1\n}, {\n    name: '外圆',\n    type: 'scatter',\n    hoverAnimation: false,\n    data: [0],\n    xAxisIndex: 2,\n    symbolSize: 35,\n    itemStyle: {\n        normal: {\n            color: '#4577BA',\n            opacity: 1,\n        }\n    },\n    z: 0\n}, {\n    name: '刻度',\n    type: 'bar',\n    yAxisIndex: 0,\n    xAxisIndex: 3,\n    label: {\n        normal: {\n            show: true,\n            position: 'left',\n            distance: 10,\n            color: 'white',\n            fontSize: 14,\n            formatter: function(params) {\n                if(params.dataIndex > max_temp || params.dataIndex < 10) {\n                    return '';\n                } else {\n                    if((params.dataIndex - 50) % 50 === 0) {\n                        return params.dataIndex ;\n                    } else {\n                        return '';\n                    }\n                }\n            }\n        }\n    },\n    barGap: '-100%',\n    data: kd,\n    barWidth: 1,\n    itemStyle: {\n        normal: {\n            color: 'white',\n            barBorderRadius: 20,\n        }\n    },\n    z: 0\n}]\n};","html":"","externalScripts":"","updaterUID":"bd-1703269945","theme":"","layout":"","viewCount":301,"userName":"r***e","commentCount":0,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xV1eNJLBpS.png?v=1602652283707","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter","title"],"customTags":[],"updaterUserName":"r***e"}}