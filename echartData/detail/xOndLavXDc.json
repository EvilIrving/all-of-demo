{"status":0,"data":{"cid":"xOndLavXDc","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"体温单正常","description":"丿","latestVersion":3,"alwaysLatest":1,"createTime":"2020-09-29T07:49:51.000Z","lastUpdateTime":"2020-09-29T07:49:51.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-29T08:47:48.000Z","code":"\r\nlet data = [{\r\n        name: '体温单正常',\r\n        value: 120,\r\n        color: ['rgba(47,204,255,1)', 'rgba(47,204,255,0.5)', 'rgba(47,204,255,0.01)', 'rgba(0,0,0,0)']\r\n    },\r\n    {\r\n        name: '体温单异常',\r\n        value: 31,\r\n        color: ['rgba(253,42,52,1)', 'rgba(253,42,52,0.5)', 'rgba(253,42,52,0.01)', 'rgba(0,0,0,0)']\r\n    },\r\n];\r\n\r\n\r\nlet titleArr = [],\r\n    legendArr = [],\r\n    seriesArr = [],\r\n    total = 0;\r\n\r\nfor (let i = 0; i < data.length; i++) {\r\n    total += data[i].value\r\n}\r\n\r\nfor (let i = 0; i < data.length; i++) {\r\n\r\n    titleArr.push({\r\n        text: data[i].name,\r\n        subtext: data[i].value,\r\n        left: (i) * 40 + 53 + '%',\r\n        top: '46%',\r\n        textAlign: 'right',\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 12,\r\n            color: '#f7fcff',\r\n\r\n        },\r\n        subtextStyle: {\r\n\r\n            fontSize: 16,\r\n            color: ['#f7fcff'],\r\n            fontWeight: 800\r\n        },\r\n    });\r\n\r\n    seriesArr.push({\r\n        name: data[i].name,\r\n        type: 'pie',\r\n        clockWise: true,\r\n        startAngle:90,\r\n        center: [(i) * 40 + 30 + '%', '50%'],\r\n        radius: ['28%', '30%'],\r\n\r\n        itemStyle: {\r\n            normal: {\r\n\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n            }\r\n        },\r\n        hoverAnimation: false,\r\n\r\n        data: [{\r\n            value: data[i].value,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 1,\r\n                        y:0,\r\n                        x2:1,\r\n                        y2:1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: data[i].color[0] // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.5,\r\n                            color: data[i].color[1] // 100% 处的颜色\r\n                        }, {\r\n                            offset: 0.8,\r\n                            color: data[i].color[2] // 100% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: data[i].color[3] // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n\r\n\r\n                    shadowColor: data[i].color[0],\r\n                    shadowBlur: 0,\r\n\r\n\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: function(params) {\r\n                    \r\n                       console.log(params.seriesName)\r\n                       let percent = ((params.value/total)*100).toFixed(0);\r\n                        return percent+'%';\r\n                    },\r\n                    position: 'center',\r\n                    show: true,\r\n                    textStyle: {\r\n                        fontSize: 18,\r\n                        fontWeight: 'bold',\r\n                        color: '#eefafb'\r\n                    }\r\n                }\r\n            },\r\n        }, {\r\n            value: total - data[i].value,\r\n            name: 'invisible',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(0,0,0,0)'\r\n                },\r\n                emphasis: {\r\n                    color: 'rgba(0,0,0,0)'\r\n                }\r\n            }\r\n        }]\r\n    })\r\n\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor: '#000f1e',\r\n    title: titleArr,\r\n    legend: legendArr,\r\n    series: seriesArr\r\n}","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":99,"userName":"绿***绿","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOndLavXDc.png?v=1601369268606","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title"],"customTags":[],"updaterUserName":"绿***绿"}}