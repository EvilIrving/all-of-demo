{"status":0,"data":{"cid":"xwxOsHT-F5","authorUid":"obd-oCSnBDKvui1lyo_DOD_AKo7GPn8Cl3k","authorUserName":"风***乾","title":"世界各国经济与累计确诊人数、累计死亡人数关系","description":"包含1月底开始至4月底的who新冠疫情数据，以及2019年各国GDP和2020年各国人口总数","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-14T12:57:37.000Z","lastUpdateTime":"2020-05-14T12:57:37.000Z","auth":2,"uid":"obd-oCSnBDKvui1lyo_DOD_AKo7GPn8Cl3k","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-14T13:16:35.000Z","code":"\nvar countries = ['澳大利亚', '加拿大', '中国', '德国', '丹麦', '西班牙', '芬兰', '法国', '英国', '希腊',  '以色列', '意大利', '日本', '韩国',  '墨西哥', '荷兰', '波兰', '俄罗斯', '新加坡', '美国', '泰国', '瑞典', '印度'];\n\nvar years = ['1.31', '2.29', '3.31', '4.30'];\n\nvar data = [\n    [\n        [0, 9, 101835],\n        [0, 4, 119695],\n        [213, 9720, 927243],\n        [0, 7, 265232],\n        [0, 0, 23816],\n        [0, 1, 96318],\n        [0, 1, 18411],\n        [0, 6, 186885],\n        [0, 2, 177767],\n        [0, 0, 14963],\n        [0, 0, 24350],\n        [0, 2, 137096],\n        [0, 17, 338865],\n        [0, 11, 108583],\n        [0, 0, 86019],\n        [0, 0, 60021],\n        [0, 0, 39113],\n        [0, 0, 103240],\n        [0, 16, 21380],\n        [0, 7, 1368689],\n        [0, 19, 32432],\n        [0, 1, 40539],\n        [0, 1, 190498]\n    ],\n    [\n        [0, 10, 101835],\n        [0, 14, 119695],\n        [2838, 79389, 927243],\n        [0, 57, 265232],\n        [0, 3, 23816],\n        [0, 45, 96318],\n        [0, 2, 18411],\n        [2, 100, 186885],\n        [0, 23, 177767],\n        [0, 3, 14963],\n        [0, 7, 24350],\n        [29, 1128, 137096],\n        [5, 239, 338865],\n        [17, 3150, 108583],\n        [0, 2, 86019],\n        [0, 6, 60021],\n        [0, 0, 39113],\n        [0, 2, 103240],\n        [0, 102, 21380],\n        [0, 62, 1368689],\n        [0, 42, 32432],\n        [0, 13, 40539],\n        [0, 3, 190498]\n    ],\n    [\n        [19, 4557, 101835],\n        [66, 6317, 119695],\n        [3314, 82545, 927243],\n        [583, 61913, 265232],\n        [77, 2577, 23816],\n        [7340, 85195, 96318],\n        [13, 1313, 18411],\n        [3017, 43977, 186885],\n        [1408, 22145, 177767],\n        [43, 1212, 14963],\n        [17, 4831, 24350],\n        [11591, 101739, 137096],\n        [56, 1953, 338865],\n        [162, 9786, 108583],\n        [20, 993, 86019],\n        [864, 11750, 60021],\n        [31, 2055, 39113],\n        [9, 1837, 103240],\n        [3, 879, 21380],\n        [2398, 140640, 1368689],\n        [10, 1651, 32432],\n        [146, 4028, 40539],\n        [32, 1251,190498]\n    ],\n    [\n        [90, 6756, 101835],\n        [2904, 50363, 119695],\n        [4643, 84373, 927243],\n        [6288, 159119, 265232],\n        [443, 9008, 23816],\n        [24257, 212917, 96318],\n        [206, 4906, 18411],\n        [24054, 127066, 186885],\n        [26097, 165225, 177767],\n        [139, 2576, 14963],\n        [212, 15782, 24350],\n        [27682, 203591, 137096],\n        [415, 14088, 338865],\n        [247, 10765, 108583],\n        [1569, 16752, 86019],\n        [4711, 38802, 60021],\n        [624, 12640, 39113],\n        [1073, 106498, 103240],\n        [14, 15641, 21380],\n        [52428, 1003974, 1368689],\n        [54, 2954, 32432],\n        [2462, 20302, 40539],\n        [1074, 33050, 190498]\n    ]\n];\n\nvar coords = [\n    [150.53, -33.55, 0, '澳大利亚',24772247],\n    [-106.346771, 56.130366, 0, '加拿大', 36953765],\n    [104.195397, 35.86166, 0, '中国', 1400050000],\n    [10.451526, 51.165691, 0, '德国', 82293457],\n    [9.501785, 56.26392, 0, '丹麦', 5754356],\n    [-3.74922, 40.463667, 0, '西班牙', 46397452],\n    [25.748151, 61.92411, 0, '芬兰', 5542517],\n    [2.213749, 46.227638, 0, '法国', 65233271],\n    [-3.435973, 55.378051, 0, '英国', 66573504],\n    [21.824312, 39.074208, 0, '希腊', 11142161],\n    [34.851612, 31.046051, 0, '以色列', 8452841],\n    [12.56738, 41.87194, 0, '意大利', 60482200],\n    [138.252924, 36.204824, 0, '日本', 127185332],\n    [127.766922, 35.907757,  0, '韩国', 51269185],\n    [-102.552784, 23.634501, 0, '墨西哥', 130759074],\n    [5.291266, 52.132633, 0, '荷兰', 17084459],\n    [19.145136, 51.919438, 0, '波兰', 38104832],\n    [105.318756, 61.52401, 0, '俄罗斯', 143964709],\n    [103.819836, 1.352083, 0, '新加坡', 5791901],\n    [18.643501, 60.128161, 0, '瑞典', 9982709],\n    [100.66471, 13.82031, 0, '泰国', 69183173],\n    [-95.712891, 37.09024, 0, '美国', 326766748],\n    [72.59242,18.532938, 0, '印度', 1354051854]\n];\n\nfunction getMax(dim) {\n    var max = 0;\n    data.forEach(function (dataByYear) {\n        dataByYear.forEach(function (item) {\n            if (item[dim] > max) {\n                max = item[dim];\n            }\n        });\n    });\n    var exp = Math.round(Math.log(max) / Math.log(10));\n    var exp10 = Math.pow(10, exp);\n    max = Math.ceil(max / exp10 * 10) / 10 * exp10;\n\n    return max;\n}\n\n\nvar itemStyle = {\n    normal: {\n        opacity: 0.8,\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n    }\n};\n\n// Schema:\nvar schema = [{\n    name: 'Income',\n    index: 0,\n    text: '人均收入',\n    unit: '美元'\n}, {\n    name: 'LifeExpectancy',\n    index: 1,\n    text: '人均寿命',\n    unit: '%'\n}, {\n    name: 'Population',\n    index: 2,\n    text: '总人口',\n    unit: ''\n}, {\n    name: 'Country',\n    index: 3,\n    text: '国家',\n    unit: ''\n}];\n\noption = {\n    baseOption: {\n        timeline: {\n            axisType: 'category',\n            orient: 'vertical',\n            autoPlay: true,\n            inverse: true,\n            playInterval: 3000,\n            left: null,\n            right: 10,\n            top: 20,\n            bottom: 20,\n            width: 55,\n            height: null,\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            symbol: 'none',\n            lineStyle: {\n                color: '#555'\n            },\n            checkpointStyle: {\n                color: '#bbb',\n                borderColor: '#777',\n                borderWidth: 2\n            },\n            controlStyle: {\n                showNextBtn: false,\n                showPrevBtn: false,\n                normal: {\n                    color: '#666',\n                    borderColor: '#666'\n                },\n                emphasis: {\n                    color: '#aaa',\n                    borderColor: '#aaa'\n                }\n            },\n            data: years\n        },\n        backgroundColor: '#333',\n        title: {\n            text: '',\n            textAlign: 'center',\n            right: 80,\n            bottom: 60,\n            textStyle: {\n                fontSize: 70,\n                color: 'rgba(255, 255, 255, 0.9)'\n            }\n        },\n        tooltip: {\n            padding: 5,\n            backgroundColor: '#222',\n            borderColor: '#777',\n            borderWidth: 1\n        },\n        xAxis: {\n            // type: 'log',\n            type: 'value',\n            name: '累计死亡数',\n            nameGap: 25,\n            min: 0,\n            max: getMax(0),\n            nameLocation: 'middle',\n            nameTextStyle: {\n                fontSize: 14\n            },\n            splitLine: {\n                show: false\n            },\n            axisTick: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#ddd'\n                }\n            }\n        },\n        yAxis: {\n            type: 'value',\n            name: '累计确诊数',\n            nameGap: 25,\n            min: 0,\n            max: getMax(1),\n            nameTextStyle: {\n                color: '#ccc',\n                fontSize: 14\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            axisTick: {\n                lineStyle: {\n                    color: '#ddd'\n                }\n            },\n            splitLine: {\n                show: false\n            },\n            axisLabel: {\n                formatter: '{value} ',\n                textStyle: {\n                    color: '#ddd'\n                }\n            }\n        },\n        grid: {\n            top: '40%',\n            left: 200,\n            right: 130\n        },\n        geo: {\n            top: 20,\n            left: 170,\n            right: 120,\n            height: '38%',\n            name: 'World Population (2010)',\n            type: 'map',\n            map: 'world',\n            roam: false,\n            label: {\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: '#aaa',\n                    areaColor: '#555'\n                },\n                emphasis: {\n                    areaColor: '#555'\n                }\n            }\n        },\n        toolbox: {\n            top: 20,\n            left: 10,\n            itemSize: 15,\n            iconStyle: {\n                normal: {\n                    borderColor: '#eee'\n                },\n                emphasis: {\n                    borderColor: '#fffb60'\n                }\n            }\n        },\n        brush: {\n            toolbox: ['polygon', 'keep', 'clear'],\n            brushLink: 'all',\n            outOfBrush: {\n                opacity: .1,\n                color: '#aaa'\n            }\n        },\n        visualMap: [{\n            type: 'piecewise',\n            dimension: 3,\n            categories: countries,\n            left: 10,\n            top: 80,\n            calculable: true,\n            precision: 0.1,\n            textGap: 10,\n            itemGap: 3,\n          \titemHeight: 10,\n            textStyle: {\n                color: '#ccc'\n            },\n            inRange: {\n                color: ['#bcd3bb', '#e88f70', '#ff0000', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a', '#376956', '#c3bed4', '#495a80', '#9966cc', '#bdb76a', '#eee8ab', '#a35015', '#04dd98', '#d9b3e6', '#b6c3fc','#315dbc','#c5c975','#476a54','#66e638','#a59619','#822ee2','#49450d','#eeebd4','#2b98dc','#b95c25', '#8f1ec2', '#d50390', '#36a15d', '#edc1a5','#bcd33b']\n            },\n            outOfRange: {\n                color: '#555'\n            }\n        }, {\n            show: false,\n            type: 'continuous',\n            dimension: 2,\n            min: 0,\n            max: 5,\n            inRange: {\n                \n            }\n        }],\n        series: [{\n            type: 'scatter',\n            id: 'gridScatter',\n            itemStyle: itemStyle,\n            data: [],\n            tooltip: {\n                formatter: function(obj) {\n                    var value = obj.value;\n                    return '<div style=\"border-bottom: 1px solid #555;padding-bottom: 5px; margin-bottom: 5px;\">' + value[3] + '</div>'\n                        + '累计死亡数：' + value[0] + '<br>'\n                        + '累计确诊数：' + value[1] + ' <br>'\n                        + '2019年GDP：' + value[2] + ' 亿元 <br>';\n                }\n            }\n        }, {\n            type: 'scatter',\n            id: 'geoScatter',\n            coordinateSystem: 'geo',\n            itemStyle: {\n                normal: {\n                    opacity: 1,\n                    shadowBlur: 5,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\n                },\n            },\n            data: coords,\n              symbolSize: 15,\n            tooltip: {\n                formatter: function(obj) {\n                    var value = obj.value;\n                    return '<div style=\"border-bottom: 1px solid #555;padding-bottom: 5px; margin-bottom: 5px;\">' + value[3] + '</div>'\n                        + '人口总数：' + value[4] + ' 人 <br>';\n                }\n            }\n        }],\n        animationDurationUpdate: 1000,\n        animationEasingUpdate: 'quinticInOut'\n    },\n    options: []\n};\n\nfor (var n = 0; n < years.length; n++) {\n    option.options.push({\n        title: {\n            text: years[n]\n        },\n        series: {\n            id: 'gridScatter',\n            type: 'scatter',\n            itemStyle: itemStyle,\n            data: data[n].map(function (item, index) {\n                return item.concat([countries[index]]);\n            }),\n           symbolSize: function (data) {  \n                return data[2]*0.00006;  \n            },\n\n        }\n    });\n}\n","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"obd-oCSnBDKvui1lyo_DOD_AKo7GPn8Cl3k","theme":"","layout":"","viewCount":1612,"userName":"风***乾","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwxOsHT-F5.png?v=1589462195936","isCustomThumbnail":0,"builtinTags":["brush","category-work","geo","grid","series-scatter","timeline","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"风***乾"}}