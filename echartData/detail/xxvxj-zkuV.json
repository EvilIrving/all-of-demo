{"status":0,"data":{"cid":"xxvxj-zkuV","authorUid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","authorUserName":"c***J","title":"曲线加圆柱","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-04-12T04:00:53.000Z","lastUpdateTime":"2021-04-12T04:00:53.000Z","auth":2,"uid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-12T05:49:48.000Z","code":"var getname = ['2016','2017','2018','2019','2020'];\r\nvar getvalue = ['70','55','50','53','72'];\r\nvar getvalue1 = ['40','75','60','68','80'];\r\nvar dataName=['数量','金额']\r\n//计算最大值 \r\nvar maxnum = Math.max.apply(null, getvalue);\r\nvar maxnum1 = Math.max.apply(null, getvalue1);\r\nvar maxlen = Math.pow(10, String(Math.ceil(maxnum)).length - 2);\r\nvar maxlen1 = Math.pow(10, String(Math.ceil(maxnum1)).length - 2);\r\nif (maxnum >= 5) {\r\n  var max = Math.ceil(maxnum / (10 * maxlen)) * maxlen * 10;\r\n} else {\r\n  var max = 5;\r\n}\r\nif (maxnum1 >= 5) {\r\n  var max1 = Math.ceil(maxnum1 / (10 * maxlen1)) * maxlen1 * 10;\r\n} else {\r\n  var max1 = 5;\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor:'#072685',\r\n    grid: {\r\n        top: '21%',\r\n        right: '8%',\r\n        left: '8%',\r\n        bottom: '16%'\r\n    },\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    axisPointer: {\r\n      type: 'none'\r\n    },\r\n    formatter: '{b0}年<br/>{a0}: {c0}个<br/>{a1}: {c1}万元',\r\n  },\r\nlegend: {\r\n          data: dataName,\r\n          left: \"2%\",\r\n          top:'2%',\r\n          icon: \"roundRect\",\r\n          itemWidth: 15, // 设置宽度\r\n          itemHeight: 15, // 设置高度\r\n          textStyle: {\r\n              color: \"#666666\",\r\n              fontSize: 13,\r\n              padding: [2, 0, 0, 0]\r\n          },\r\n      },\r\n  xAxis: [{\r\n    data: getname,\r\n    axisLabel: {\r\n      margin: 10,\r\n      color: '#82AFC6',\r\n      textStyle: {\r\n        fontSize: 12\r\n      },\r\n    },\r\n    axisLine: {\r\n      lineStyle: {\r\n        color: '#102E74',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n  }],\r\n  yAxis: [{\r\n    type: 'value',\r\n    min: 0,\r\n    max: max, // 计算最大值\r\n    interval: max / 5, // 平均分为5份\r\n    splitNumber: 5,\r\n    name: '数量（个）',\r\n    nameTextStyle: {\r\n      color: '#82AFC6',\r\n      fontSize: 12,\r\n      padding: [0, 0, -8, 100]\r\n    },\r\n    axisLabel: {\r\n      formatter: function(value) {\r\n        num = value\r\n        if (num && num != 'undefined' && num != 'null') {\r\n          let numS = num;\r\n          numS = numS.toString();\r\n          numS = numS.replace(/,/gi, '');\r\n          return numS;\r\n        } else {\r\n          return num;\r\n        }\r\n      },\r\n      color: '#82AFC6',\r\n      textStyle: {\r\n        fontSize: 12\r\n      },\r\n    },\r\n    axisLine: {\r\n        show:false,\r\n      lineStyle: {\r\n        color: '#3E5B7D',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        color: '#102E74',\r\n      }\r\n    }\r\n  }, {\r\n    type: 'value',\r\n    min: 0,\r\n    max: max1, // 计算最大值\r\n    interval: max1 / 5, // 平均分为5份\r\n    splitNumber: 5,\r\n    name: '金额（万元）',\r\n    nameTextStyle: {\r\n      color: '#82AFC6',\r\n      fontSize: 12,\r\n      padding: [0, 0, -8, -100]\r\n    },\r\n    axisLabel: {\r\n      formatter: function(value) {\r\n        num = value\r\n        if (num && num != 'undefined' && num != 'null') {\r\n          let numS = num;\r\n          numS = numS.toString();\r\n          numS = numS.replace(/,/gi, '');\r\n          return numS;\r\n        } else {\r\n          return num;\r\n        }\r\n      },\r\n      color: '#82AFC6',\r\n      textStyle: {\r\n        fontSize: 12\r\n      },\r\n    },\r\n    axisLine: {\r\n        show:false,\r\n      lineStyle: {\r\n        color: '#3E5B7D',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        color: '#102E74',\r\n      }\r\n    }\r\n  }],\r\n  series: [{\r\n    name: \"数量\",\r\n    type: 'bar',\r\n    data: getvalue,\r\n    barWidth: '15px',\r\n    itemStyle: {\r\n      normal: {\r\n        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\r\n          offset: 0,\r\n          color: '#1D82FF'\r\n        }, {\r\n          offset: 1,\r\n          color: '#00FFF6'\r\n        }], false),\r\n        barBorderRadius: [4, 4, 0, 0],\r\n      }\r\n    },\r\n  }, {\r\n\t\t\tname: '金额',\r\n            type: 'line',\r\n            data: getvalue1,\r\n            smooth: true,\r\n            symbol: 'none',\r\n            itemStyle: {\r\n                normal: {\r\n                    lineStyle: {\r\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(255, 227, 168, 0)'\r\n                        }, {\r\n                            offset: 0.5,\r\n                            color: 'rgba(255, 227, 168, 1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(255, 227, 168, 0)'\r\n                        }, ]),\r\n                        shadowColor: 'rgba(255, 120, 0,1)',\r\n                        shadowBlur: 8\r\n                    },\r\n                    areaStyle: {\r\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(197, 106, 255, 0.6)'\r\n                        }, {\r\n                            offset: 0.6,\r\n                            color: 'rgba(255, 120, 0, 0)'\r\n                        }]),\r\n                    }\r\n                }\r\n            }\r\n        }]\r\n\r\n};\r\n/*\r\nmyChart.on('click', function (params) {\r\n\t_zn('EANA$2$2$1$551f81b238254ced92d98b825ba63f95$2f4ee0540d7d4defb6ec4cf9368ac940','drillpath=;@DW=<#=@DW#>;@XZ=<#=@XZ#>;@SYFX=<#=@SYFX#>;@NF='+params.name+';');\r\n});*/\r\n\r\n// return option; ","html":"","externalScripts":"","updaterUID":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","theme":"","layout":"","viewCount":81,"userName":"c***J","commentCount":0,"starCount":20,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxvxj-zkuV.png?v=1618206588930","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"c***J"}}