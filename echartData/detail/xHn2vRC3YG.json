{"status":0,"data":{"cid":"xHn2vRC3YG","authorUid":"bd-460850157","authorUserName":"S***七","title":"状图双y轴数据 均为正数","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2019-06-18T03:23:34.000Z","lastUpdateTime":"2019-06-18T03:23:34.000Z","auth":2,"uid":"bd-460850157","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-16T08:14:00.000Z","code":"// typeName='number'\r\ntypeName=''\r\nvar xAxisData=[\"一组12\",\"caoxt12\",\"cl\",\"je\",\"备用\",\"cl\",\"销售部\",\"湖北\",\"陕西\",\"江苏\",\"四川\",\"上海\",\"北京\",\"湖南\",\"广东\",\"辽宁\",\"甘青宁\",\"山东\",\"河北\",\"福建\",\"内蒙古\",\"广西\",\"云事业部\",\"销售一部深圳办\",\"销售一部能源组\",\"销售一部南京办\",\"销售一部华南区\",\"销售一部杭州办\",\"销售一部广州办\",\"销售一部成都办\",\"销售一部\",\"销售三部长沙办\",\"销售三部渠道2组\",\"销售三部渠道1组\",\"销售三部济南办\",\"销售三部\",\"销售二部郑州办\",\"销售二部银行组\",\"销售二部石家庄办\",\"销售二部大客户4组\",\"销售二部大客户2组\",\"销售二部大客户1组\",\"销售二部北京办\",\"销售二部保险组\",\"销售二部\",\"市场部\",\"人力\",\"技术\",\"财务\",\"资源专家组\",\"耿兵1\",\"张会君1\",\"www\",\"曹一\",\"gcm\",\"hdl测试权限1\",\"abcdef\",\"testaa\",\"a\",\"顾庆隆\",\"耿兵\",\"lz\",\"lzz\",\"dd\",\"zz\",\"haha\",\"aa\"]\r\n\r\nvar seriesData=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\r\n\r\nvar seriesData2=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\r\n\r\noption = {\r\n\t    color:['#1785ef','#2cb7ff'],\r\n\t\t\tbackgroundColor:'#ffffff',\r\n\t\t\tlegend:{\r\n\t\t\t\tdata:['项目合同额','项目成交量'],\r\n\t\t\t\tright:10,\r\n\t\t\t\ttop:10\r\n\t\t\t},\r\n\t\t\tgrid:{\r\n\t\t\t\tleft:120,\r\n\t\t\t\tbottom:80\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n              }\r\n            },\r\n\t    xAxis: [{\r\n\t\t\t\ttype: 'category',\r\n\t\t\t\tdata: xAxisData,\r\n\t\t\t\toffset :20,\r\n\t\t\t\tnameTextStyle: {\r\n\t\t\t\t\tcolor: '#8f8f9b',\r\n\t\t\t\t\tfontSize:14\r\n\t\t\t\t},\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow:false\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t},\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\ttype: 'solid',\r\n\t\t\t\t\t\tcolor:'#dee0ea'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\trotate: 0,\r\n\t\t\t\t\tfontSize:14,\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#8f8f9b'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformatter: function (val) {\r\n\t\t\t\t\t\tvar txt='';\r\n\t\t\t\t\t\tif(val.length>3){\r\n\t\t\t\t\t\t\tfor(var i=0;i<val.length;i=i+2){\r\n\t\t\t\t\t\t\t\ttxt+=val.substr(i,2)+'\\n';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn txt;\r\n\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn val.split(\"\").join(\"\\n\");/*换行*/\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},{\r\n\t\t\t\tposition: 'bottom',\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow:false\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow:false\r\n\t\t\t\t},\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\ttype: 'solid',\r\n\t\t\t\t\t\tcolor:'#dee0ea'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t},\r\n\t\t\t\tdata: ['-', '-']\r\n\t\t\t}],\r\n\t    yAxis: [{\r\n\t\t\t\ttype: 'value',\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow:false\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t},\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\ttype: 'solid',\r\n\t\t\t\t\t\tcolor:'#dee0ea'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\trotate: 0,\r\n\t\t\t\t\tfontSize:14,\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#8f8f9b'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformatter:function(e){\r\n\t\t\t\t\t\treturn Math.abs(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t},{\r\n\t\t\t\tposition: 'left',\r\n\t\t\t\toffset: 80,\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t},\r\n\t\t\t\taxisTick: {\r\n\t\t\t\t\tshow:false\r\n\t\t\t\t},\r\n\t\t\t\taxisLabel: {\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tinside: true,\r\n\t\t\t\t\tinterval: '0',\r\n\t\t\t\t\tfontSize:14,\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#8f8f9b'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformatter: function (val) {\r\n\t\t\t\t\t\tvar val1=val.substr(0,5).split(\"\").join(\"\\n\");\r\n\t\t\t\t\t\tvar val2=val.substr(5);\r\n\t\t\t\t\t\tconsole.log(val)\r\n\t\t\t\t\t\treturn val1+'\\n '+val2;/*换行*/\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tinverse: true,\r\n\t\t\t\tdata:['项目合同额（万）','项目成交量（个）']\r\n\t\t\t}],\r\n\t    series: [{\r\n\t        name:'项目成交额',\r\n\t        data: seriesData,\r\n\t        type: 'bar',\r\n\t        stack: '总量',\r\n\t        barMaxWidth: '20px',\r\n\t        itemStyle:{\r\n\t            normal:{\r\n\t                barBorderRadius: [6, 6, 0, 0],\r\n\t            }\r\n\t        },\r\n\t       label: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t    show: true,\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tposition: 'top'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t    },{\r\n\t        name:'项目成交量',\r\n\t        data: seriesData2,\r\n\t        type: 'bar',\r\n\t        stack: '总量',\r\n\t        barMaxWidth: '20px',\r\n\t        itemStyle:{\r\n\t            normal:{\r\n\t                barBorderRadius: [0, 0,6, 6],\r\n\t            }\r\n\t        },\r\n\t       label: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t    show: true,\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\tformatter: function(params) {\r\n                        return params.data * -1;\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t    }]\r\n\t    \r\n\t    \r\n}\r\n\r\n\r\n\r\n\r\n   myChart.on('legendselectchanged', function(obj) {\r\n        console.log(obj.selected)\r\n        var index=0;\r\n        for(var i in obj.selected){\r\n            if(obj.selected[i]){\r\n               index++; \r\n            }else{\r\n                index--;\r\n            }\r\n        }\r\n        if(index==2){\r\n            console.log('都');\r\n            option.yAxis[1].axisLabel.show=true\r\n        }else{\r\n           option.yAxis[1].axisLabel.show=false\r\n        }\r\n        myChart.setOption(option)\r\n\r\n    })\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-460850157","theme":"","layout":"","viewCount":53,"userName":"S***七","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHn2vRC3YG.png?v=1563264841077","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"S***七"}}