{"status":0,"data":{"cid":"xZFr7m32oC","authorUid":"bd-420474456","authorUserName":"彼***儡","title":"地图轨迹","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-04-09T09:51:58.000Z","lastUpdateTime":"2020-04-09T09:51:58.000Z","auth":2,"uid":"bd-420474456","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-09T09:53:27.000Z","code":"var chinaGeoCoordMap = {\r\n    '黑龙江': [127.9688, 45.368],\r\n    '上海': [121.4648, 31.2891],\r\n\t'东莞': [113.8953, 22.901],\r\n\t'东营': [118.7073, 37.5513],\r\n\t'中山': [113.4229, 22.478],\r\n\t'临汾': [111.4783, 36.1615],\r\n\t'临沂': [118.3118, 35.2936],\r\n\t'丹东': [124.541, 40.4242],\r\n\t'丽水': [119.5642, 28.1854],\r\n\t'乌鲁木齐': [87.9236, 43.5883],\r\n\t'佛山': [112.8955, 23.1097],\r\n\t'保定': [115.0488, 39.0948],\r\n\t'兰州': [103.5901, 36.3043],\r\n\t'包头': [110.3467, 41.4899],\r\n\t'北京': [116.4551, 40.2539],\r\n\t'北海': [109.314, 21.6211],\r\n\t'南京': [118.8062, 31.9208],\r\n\t'南宁': [108.479, 23.1152],\r\n\t'南昌': [116.0046, 28.6633],\r\n\t'南通': [121.1023, 32.1625],\r\n\t'厦门': [118.1689, 24.6478],\r\n\t'台州': [121.1353, 28.6688],\r\n\t'合肥': [117.29, 32.0581],\r\n\t'呼和浩特': [111.4124, 40.4901],\r\n\t'咸阳': [108.4131, 34.8706],\r\n\t'哈尔滨': [127.9688, 45.368],\r\n\t'唐山': [118.4766, 39.6826],\r\n\t'嘉兴': [120.9155, 30.6354],\r\n\t'大同': [113.7854, 39.8035],\r\n\t'大连': [122.2229, 39.4409],\r\n\t'天津': [117.4219, 39.4189],\r\n\t'太原': [112.3352, 37.9413],\r\n\t'威海': [121.9482, 37.1393],\r\n\t'宁波': [121.5967, 29.6466],\r\n\t'宝鸡': [107.1826, 34.3433],\r\n\t'宿迁': [118.5535, 33.7775],\r\n\t'常州': [119.4543, 31.5582],\r\n\t'广州': [113.5107, 23.2196],\r\n\t'廊坊': [116.521, 39.0509],\r\n\t'延安': [109.1052, 36.4252],\r\n\t'张家口': [115.1477, 40.8527],\r\n\t'徐州': [117.5208, 34.3268],\r\n\t'德州': [116.6858, 37.2107],\r\n\t'惠州': [114.6204, 23.1647],\r\n\t'成都': [103.9526, 30.7617],\r\n\t'扬州': [119.4653, 32.8162],\r\n\t'承德': [117.5757, 41.4075],\r\n\t'拉萨': [91.1865, 30.1465],\r\n\t'无锡': [120.3442, 31.5527],\r\n\t'日照': [119.2786, 35.5023],\r\n\t'昆明': [102.9199, 25.4663],\r\n\t'杭州': [119.5313, 29.8773],\r\n\t'枣庄': [117.323, 34.8926],\r\n\t'柳州': [109.3799, 24.9774],\r\n\t'株洲': [113.5327, 27.0319],\r\n\t'武汉': [114.3896, 30.6628],\r\n\t'汕头': [117.1692, 23.3405],\r\n\t'江门': [112.6318, 22.1484],\r\n\t'沈阳': [123.1238, 42.1216],\r\n\t'沧州': [116.8286, 38.2104],\r\n\t'河源': [114.917, 23.9722],\r\n\t'泉州': [118.3228, 25.1147],\r\n\t'泰安': [117.0264, 36.0516],\r\n\t'泰州': [120.0586, 32.5525],\r\n\t'济南': [117.1582, 36.8701],\r\n\t'济宁': [116.8286, 35.3375],\r\n\t'海口': [110.3893, 19.8516],\r\n\t'淄博': [118.0371, 36.6064],\r\n\t'淮安': [118.927, 33.4039],\r\n\t'深圳': [114.5435, 22.5439],\r\n\t'清远': [112.9175, 24.3292],\r\n\t'温州': [120.498, 27.8119],\r\n\t'渭南': [109.7864, 35.0299],\r\n\t'湖州': [119.8608, 30.7782],\r\n\t'湘潭': [112.5439, 27.7075],\r\n\t'滨州': [117.8174, 37.4963],\r\n\t'潍坊': [119.0918, 36.524],\r\n\t'烟台': [120.7397, 37.5128],\r\n\t'玉溪': [101.9312, 23.8898],\r\n\t'珠海': [113.7305, 22.1155],\r\n\t'盐城': [120.2234, 33.5577],\r\n\t'盘锦': [121.9482, 41.0449],\r\n\t'石家庄': [114.4995, 38.1006],\r\n\t'福州': [119.4543, 25.9222],\r\n\t'秦皇岛': [119.2126, 40.0232],\r\n\t'绍兴': [120.564, 29.7565],\r\n\t'聊城': [115.9167, 36.4032],\r\n\t'肇庆': [112.1265, 23.5822],\r\n\t'舟山': [122.2559, 30.2234],\r\n\t'苏州': [120.6519, 31.3989],\r\n\t'莱芜': [117.6526, 36.2714],\r\n\t'菏泽': [115.6201, 35.2057],\r\n\t'营口': [122.4316, 40.4297],\r\n\t'葫芦岛': [120.1575, 40.578],\r\n\t'衡水': [115.8838, 37.7161],\r\n\t'衢州': [118.6853, 28.8666],\r\n\t'西宁': [101.4038, 36.8207],\r\n\t'西安': [109.1162, 34.2004],\r\n\t'贵阳': [106.6992, 26.7682],\r\n\t'连云港': [119.1248, 34.552],\r\n\t'邢台': [114.8071, 37.2821],\r\n\t'邯郸': [114.4775, 36.535],\r\n\t'郑州': [113.4668, 34.6234],\r\n\t'鄂尔多斯': [108.9734, 39.2487],\r\n\t'重庆': [107.7539, 30.1904],\r\n\t'金华': [120.0037, 29.1028],\r\n\t'铜川': [109.0393, 35.1947],\r\n\t'银川': [106.3586, 38.1775],\r\n\t'镇江': [119.4763, 31.9702],\r\n\t'长春': [125.8154, 44.2584],\r\n\t'长沙': [113.0823, 28.2568],\r\n\t'长治': [112.8625, 36.4746],\r\n\t'阳泉': [113.4778, 38.0951],\r\n\t'青岛': [120.4651, 36.3373],\r\n\t'韶关': [113.7964, 24.7028]\r\n};\r\nvar chinaDatas = [\r\n    [{\r\n        name: '西安',\r\n        value: 0.88\r\n    }],\r\n   [{\r\n        name: '北京',\r\n        value: 0.5\r\n    }],\r\n    [{\r\n        name: '上海',\r\n        value: 0.7\r\n    }],\r\n    [{\r\n        name: '广州',\r\n        value: 0.6\r\n    }],\r\n    [{\r\n        name: '西宁',\r\n        value: 0.5\r\n    }],\r\n    [{\r\n        name: '银川',\r\n        value: 0.4\r\n    }],\r\n    [{\r\n        name: '长沙',\r\n        value: 0.1\r\n    }],\r\n    [{\r\n        name: '南京',\r\n        value: 0.9\r\n    }],\r\n    [{\r\n        name: '扬州',\r\n        value: 0.2\r\n    }],\r\n    [{\r\n        name: '沈阳',\r\n        value: 0.3\r\n    }],\r\n    [{\r\n        name: '成都',\r\n        value: 0.6\r\n    }],\r\n    [{\r\n        name: '济南',\r\n        value: 0.1\r\n    }]\r\n];\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = chinaGeoCoordMap[dataItem[0].name];\r\n        var toCoord = [113.4668, 34.6234];\r\n        if (fromCoord && toCoord) {\r\n            res.push([{\r\n                coord: fromCoord,\r\n                value: dataItem[0].value\r\n            }, {\r\n                coord: toCoord,\r\n            }]);\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar series = [];\r\n[\r\n    ['郑州', chinaDatas]\r\n].forEach(function(item, i) {\r\n    series.push({\r\n            type: 'lines',\r\n            zlevel: 2,\r\n            effect: {\r\n                show: true,\r\n                period: 4, //箭头指向速度，值越小速度越快\r\n                trailLength: 0.05, //特效尾迹长度[0,1]值越大，尾迹越长重\r\n                color: '#ffffff',\r\n                symbol: 'arrow', //箭头图标\r\n                symbolSize: 6, //图标大小\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 1, //尾迹线条宽度\r\n                    opacity: 1, //尾迹线条透明度\r\n                    curveness: .3 //尾迹线条曲直度\r\n                }\r\n            },\r\n            data: convertData(item[1])\r\n        }, {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            rippleEffect: { //涟漪特效\r\n                period: 3, //动画时间，值越小速度越快\r\n                brushType: 'stroke', //波纹绘制方式 stroke, fill\r\n                scale: 3 //波纹圆环最大限制，值越大波纹越大\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right', //显示位置\r\n                    offset: [5, 0], //偏移设置\r\n                    formatter: function(params) { //圆环显示文字\r\n                        return params.data.name;\r\n                    },\r\n                    fontSize: 13,\r\n                    color:\"#f0f0f0\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            symbol: 'circle',\r\n            symbolSize: function(val) {\r\n                return 8; //圆环大小\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    show: false,\r\n                    color: '#f00'\r\n                }\r\n            },\r\n            data: item[1].map(function(dataItem) {\r\n                return {\r\n                    name: dataItem[0].name,\r\n                    value: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\r\n                };\r\n            }),\r\n        },\r\n        //被攻击点\r\n        {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            rippleEffect: { //涟漪特效\r\n                period: 4, //动画时间，值越小速度越快\r\n                brushType: 'stroke', //波纹绘制方式 stroke, fill\r\n                scale: 4 //波纹圆环最大限制，值越大波纹越大\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right', //显示位置\r\n                    offset: [5, 0], //偏移设置\r\n                    formatter: function(params) { //圆环显示文字\r\n                        return params.data.name;\r\n                    },\r\n                    fontSize: 16,\r\n                    color:\"#ffffff\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            symbol: 'circle',\r\n            symbolSize: function(val) {\r\n                return 15; //圆环大小\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    show: false,\r\n                    color: '#f00'\r\n                }\r\n            },\r\n            data: [{\r\n                name: item[0],\r\n                value: chinaGeoCoordMap[item[0]].concat([10]),\r\n            }],\r\n        }\r\n    );\r\n});\r\n\r\noption = {\r\n    backgroundColor:\"#0e2469\",\r\n    tooltip: {\r\n        trigger: 'item',\r\n        borderColor: '#FFFFCC',\r\n        showDelay: 0,\r\n        hideDelay: 0,\r\n        enterable: true,\r\n        transitionDuration: 0,\r\n        extraCssText: 'z-index:100',\r\n        formatter: function(params, ticket, callback) {\r\n            //根据业务自己拓展要显示的内容\r\n            var res = \"\";\r\n            var name = params.name;\r\n            var value = params.value[params.seriesIndex + 1];\r\n            res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\r\n            return res;\r\n        }\r\n    },\r\n    visualMap: { //图例值控制\r\n        min: 0,\r\n        max: 1,\r\n        calculable: true,\r\n        show: true,\r\n        color: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\r\n        textStyle: {\r\n            color: '#fff'\r\n        }\r\n    },\r\n    geo: {\r\n        map: 'china',\r\n        zoom: 1.2,\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        roam: true, //是否允许缩放\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(10, 37, 105, 0.5)', //地图背景色\r\n                borderColor: '#4bf5ff', //省市边界线00fcff 516a89\r\n                borderWidth: 2\r\n            },\r\n            emphasis: {\r\n                color: 'rgba(37, 43, 61, .5)' //悬浮背景\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"https://gallery.echartsjs.com/dep/echarts/map/js/china.js","updaterUID":"bd-420474456","theme":"","layout":"","viewCount":10484,"userName":"彼***儡","commentCount":2,"starCount":22,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZFr7m32oC.png?v=1586426007248","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","tooltip","visualMap"],"customTags":[],"updaterUserName":"彼***儡"}}