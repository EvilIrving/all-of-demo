{"status":0,"data":{"cid":"xbpJdO8e-","authorUid":"bd-3172106163","authorUserName":"m***3","title":"阶梯和折线混合","description":"两种线,两个echart区域的合集","latestVersion":3,"alwaysLatest":1,"createTime":"2019-12-12T12:03:11.000Z","lastUpdateTime":"2019-12-12T12:03:11.000Z","auth":2,"uid":"bd-3172106163","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-13T02:18:35.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1576201390556-VjqFUwdV.json\";\n//定义x轴和所有数据\nvar xData = [];\nvar data = {};\n//获取json数据\n$.getJSON(uploadedDataURL, function(result) {\n    data = result[0];\n    //设置\n    var showFlag = true;\n    for (var n = 0; n < data.dataBlue.length; n++) {\n        xData.push(data.dataBlue[n].time);\n    }\n    var colors = ['#0306f0', '#2e95f3', '#fd5150'];\n    myChart.setOption(option = {\n        color: colors,\n        legend: {\n            //图例\n            textStyle: {\n                color: '#777'\n            },\n            itemGap: 10,\n            x: 'center',\n            y: 'top',\n            data: data.lendName\n        },\n        animation: true,\n        tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n                type: 'cross'\n            }\n        },\n        toolbox: {\n            left: 'center',\n            itemSize: 10,\n            top: 55\n        },\n        grid: [{\n                top: 35,\n                left: 45,\n                height: 240,\n                right: 60\n            },\n            {\n                top: 275,\n                left: 45,\n                right: 60,\n                height: 400\n            }\n        ],\n        axisPointer: {\n            link: {\n                xAxisIndex: 'all'\n            }\n        },\n        dataZoom: [\n            //横向滚动条\n            {\n                type: 'inside',\n                throttle: 50,\n                show: true,\n                start: 30,\n                end: 70,\n                xAxisIndex: [0, 1]\n            },\n            {\n                type: 'slider',\n                start: 30,\n                end: 70,\n                xAxisIndex: [0, 1]\n            }\n        ],\n        xAxis: [{\n                type: 'category',\n                data: xData,\n                axisPointer: {\n                    snap: true,\n                    lineStyle: {\n                        color: '#004E52',\n                        opacity: 0.5,\n                        width: 2\n                    }\n                },\n                axisLabel: {\n                    //轴线文字\n                    show: false,\n                    textStyle: {\n                        fontSize: '10',\n                        color: '#999'\n                    }\n                },\n                axisLine: {\n                    //轴线颜色\n                    lineStyle: {\n                        color: '#ccc'\n                    },\n                    onZero: true\n                }\n            },\n            {\n                gridIndex: 1,\n                data: xData,\n                type: 'category',\n                boundaryGap: false,\n                axisPointer: {\n                    snap: true,\n                    lineStyle: {\n                        color: '#004E52',\n                        opacity: 0.5,\n                        width: 2\n                    }\n                },\n                axisLabel: {\n                    //轴线文字\n                    show: true,\n                    textStyle: {\n                        fontSize: '10',\n                        color: '#999'\n                    }\n                },\n                axisLine: {\n                    //轴线颜色\n                    lineStyle: {\n                        color: '#999'\n                    },\n                    onZero: true\n                }\n                //position: 'top'\n            }\n        ],\n        yAxis: [{\n                name: data.lendName[0] + '℃',\n                nameLocation: 'middle',\n                nameTextStyle: {\n                    padding: [0, 0, 10, 0] // 四个数字分别为上右下左与原位置距离\n                },\n                //inverse: true,\n                gridIndex: 1,\n                max: function(value) {\n                    return Math.ceil(value.max / 10) * 10;\n                },\n                position: 'left',\n                type: 'value',\n                axisLine: {\n                    lineStyle: {\n                        color: colors[0]\n                    }\n                },\n                axisLabel: {\n                    formatter: '{value}'\n                }\n            },\n            {\n                name: data.lendName[1] + '℃',\n                nameLocation: 'middle',\n                nameTextStyle: {\n                    padding: [10, 0, 0, 0] // 四个数字分别为上右下左与原位置距离\n                },\n                //inverse: true,\n                gridIndex: 1,\n                max: function(value) {\n                    return Math.ceil(value.max / 10) * 10;\n                },\n                position: 'right',\n                type: 'value',\n                // inverse: true,\n\n                axisLine: {\n                    lineStyle: {\n                        color: colors[1]\n                    }\n                },\n                axisLabel: {\n                    formatter: '{value}'\n                }\n            },\n            {\n                show: showFlag,\n                type: 'value',\n                max: 6,\n                name: data.lendName[2],\n                axisLine: {\n                    lineStyle: {\n                        color: colors[2]\n                    }\n                },\n                axisLabel: {\n                    formatter: function(value) {\n                        var tests = [];\n                        if (value === 0) {} else if (value === 1) {\n                            tests.push('故障');\n                        } else if (value === 2) {\n                            tests.push('严重');\n                        } else if (value === 3) {\n                            tests.push('警告');\n                        } else if (value === 4) {\n                            tests.push('初级');\n                        } else if (value === 5) {\n                            tests.push('预警');\n                        } else if (value === 6) {\n                            tests.push('正常');\n                        }\n                        return tests;\n                    }\n                }\n            }\n        ],\n        series: [{\n                name: data.lendName[0],\n                type: 'line',\n                showSymbol: false,\n                hoverAnimation: false,\n                zlevel: 1,\n                xAxisIndex: 1,\n                data: data.dataBlue\n            },\n            {\n                name: data.lendName[1],\n                type: 'line',\n                showSymbol: false,\n                hoverAnimation: false,\n                zlevel: 1,\n                xAxisIndex: 1,\n                yAxisIndex: 1,\n                data: data.dataLight\n            },\n            {\n                name: data.lendName[2],\n                type: 'line',\n                step: 'start',\n                yAxisIndex: 2,\n                data: data.dataRed\n            }\n        ]\n    });\n\n});","html":"","externalScripts":"","updaterUID":"bd-3172106163","theme":"","layout":"","viewCount":128,"userName":"m***3","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xbpJdO8e-.png?v=1576203515729","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","toolbox","tooltip"],"customTags":["stepline"],"updaterUserName":"m***3"}}