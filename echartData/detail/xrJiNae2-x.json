{"status":0,"data":{"cid":"xrJiNae2-x","authorUid":"bd-1696688313","authorUserName":"水***6","title":"福建地图 定位","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2016-11-18T04:01:55.000Z","lastUpdateTime":"2016-11-18T04:01:55.000Z","auth":2,"uid":"bd-1696688313","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"3.3.0","versionCreateTime":"2016-11-18T09:09:33.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1478782908884-B1H6yezWe.json\";\n\n\n$.get(uploadedDataURL, function(as) {\n    echarts.registerMap('ch', as);\n    var data = [{\n        name: '福州',\n        value: 0\n    }, {\n        name: '宁德',\n        value: 50\n    }, {\n        name: '三明',\n        value: 50\n    }, {\n        name: '厦门',\n        value: 30\n    }, {\n        name: '龙岩',\n        value: 30\n    }, {\n        name: '泉州',\n        value: 35\n    }, {\n        name: '漳州',\n        value: 30\n    }, {\n        name: '莆田',\n        value: 55\n    }];\n    var geoCoordMap = {\n        '南平': [118, 27.3],\n        '宁德': [119.5, 27.2],\n        '三明': [117.85, 26.2],\n        '福州': [119.48, 26.1],\n        '厦门': [118.04, 24.7],\n        '龙岩': [117.00, 25.3],\n        '泉州': [118.14, 25.2],\n        '漳州': [117.50, 24.3],\n        '莆田': [119.00, 25.3]\n    }; \n    var dt = [{\n        name: '南平市',\n        value: 33\n    }, {\n        name: '宁德市',\n        value: 2123\n    }, {\n        name: '三明市',\n        value: 5383\n    }, {\n        name: '福州市',\n        value: 0\n    }, {\n        name: '莆田市',\n        value: 15283\n    }, {\n        name: '泉州市',\n        value: 33\n    }, {\n        name: '龙岩市',\n        value: 15000\n    }, {\n        name: '漳州市',\n        value: 15283\n    }, {\n        name: '厦门市',\n        value: 3003\n    }];\n    var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value)\n                });\n            }\n        }\n        return res;\n    };\n    var color = ['#a6c84c'];\n    var series = [];\n    [\n        ['福州', data]\n    ].forEach(function(item, i) {\n        series.push({\n            name: '定位',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data.sort(function(a, b) {\n                return b.value - a.value;\n            }).slice(0, 6)),\n            symbolSize: function(val) {\n                return val[2] / 2;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true, \n            itemStyle: {\n                normal: {\n                    color: '#0ce928', \n                    shadowBlur: 20,\n                    shadowColor: '#0ce928', \n                }\n            },\n            zlevel: 1\n        }, \n        {\n            type: 'map',\n            map: 'ch',\n            zlevel: 0, \n            itemStyle: {\n                normal: {\n                    borderColor: 'transparent',\n                    color: '#555'\n                }\n            },\n            data: dt\n        }, {\n            name: '点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin',\n            symbolSize: function(val) {\n                return val[2] / 1;\n            },\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: '#000',\n\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#fff', //标志颜色\n                    borderColor: \"#fff\",\n                    borderWidth: 2,\n                },\n                emphasis: {\n                    borderColor: '#fff',\n                    borderWidth: 2\n                }\n            },\n            zlevel: 6,\n            data: convertData(item[1])\n        });\n    });\n\n    option = {\n        visualMap: { //视觉映射组件\n            type: 'piecewise', //分段型。\n            splitNumber: 6,\n            inverse: true,\n            pieces: [{\n                min: 1,\n                max: 1000,\n                color: '#799a1f'\n            }, {\n                min: 1000,\n                max: 3000,\n                color: '#149c9c'\n            }, {\n                min: 3000,\n                max: 8000,\n                color: '#ff84ff'\n            }, {\n                min: 8000,\n                max: 15000,\n                color: '#997cbe'\n            }, {\n                min: 15000,\n                color: '#6eb5ed'\n            }, {\n                value: 0,\n                label: '正在入库',\n                color: '#0ce928'\n            }],\n            left: 'left',\n            top: 'bottom',\n            textStyle: {\n                color: '#000'\n            }\n        },\n        geo: {\n            map: 'ch',\n            itemStyle: {\n                normal: {\n                    areaColor: '#ddd',\n                    borderColor: 'transparent'\n                },\n                emphasis: {\n                    areaColor: '#ccc'\n                }\n            },\n        },\n        series: series\n    };\n\n    myChart.setOption(option);\n\n});","html":"","externalScripts":"","updaterUID":"bd-1696688313","theme":"","layout":"","viewCount":8085,"userName":"水***6","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJiNae2-x.png?v=1479460173635","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","visualMap"],"customTags":[],"updaterUserName":"水***6"}}