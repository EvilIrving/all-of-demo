{"status":0,"data":{"cid":"xxztojsaDR","authorUid":"bd-181101713","authorUserName":"j***6","title":"南京江北新区街道下钻数据（更新中）","description":"使用百度地图插件，在地图上显示街道中的数据。\n百度地图的数据在脚本中，请自行下载。","latestVersion":6,"alwaysLatest":1,"createTime":"2018-11-05T09:34:45.000Z","lastUpdateTime":"2021-07-23T08:55:41.000Z","auth":1,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.9.0","versionCreateTime":"2021-07-23T08:55:41.000Z","code":"// ！！！！！！！！百度地图的插件在脚本中！！！！！！！！\n\nvar geoCoordMap = {\n    长芦街道: [118.791113, 32.247213],\n    葛塘街道: [118.755419, 32.248077],\n    大厂街道: [118.751156, 32.222373],\n    盘城街道: [118.722429, 32.215786],\n    沿江街道: [118.725344, 32.172766],\n    泰山街道: [118.724802, 32.142327],\n    顶山街道: [118.691899, 32.116769],\n    江浦街道: [118.644439, 32.066636],\n};\nvar data = [\n    {\n        name: '长芦街道',\n        value: 3,\n    },\n    {\n        name: '葛塘街道',\n        value: 6,\n    },\n    {\n        name: '大厂街道',\n        value: 20,\n    },\n    {\n        name: '盘城街道',\n        value: 3,\n    },\n    {\n        name: '沿江街道',\n        value: 12,\n    },\n    {\n        name: '泰山街道',\n        value: 19,\n    },\n    {\n        name: '顶山街道',\n        value: 7,\n    },\n    {\n        name: '江浦街道',\n        value: 2,\n    },\n];\nvar max = 1000,\n    min = 0; // todo\nvar maxSize4Pin = 100,\n    minSize4Pin = 0;\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\n\noption = {\n    animation: false,\n    bmap: {\n        center: [118.761656, 32.142491],\n        zoom: 12,\n        roam: true,\n        zlevel: 1,\n    },\n    tooltip: {\n        trigger: 'axis',\n    },\n    series: [\n        {\n            name: 'Top 5',\n            type: 'effectScatter',\n            coordinateSystem: 'bmap',\n            data: convertData(data),\n            symbolSize: 30,\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke',\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true,\n                    areaColor: '#065279',\n                    fontFamily: 'TRENDS',\n                    fontSize: 16,\n                    padding: [0, 0, 0, 4],\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#d55150',\n                    shadowBlur: 10,\n                    shadowColor: '#d55150',\n                },\n            },\n            zlevel: 2,\n        },\n    ],\n};\nmyChart.setOption(option);\n\nvar counts = option.series[0].data.length; //获取所有闪动圆环数量\nvar dataIndex = 0;\n//让圆环的提示框自动触发轮播显示\nfunction autoHoverTip() {\n    for (var i = 0; i < counts; i++) {\n        (function (i) {\n            ts = setTimeout(function () {\n                myChart.dispatchAction({\n                    type: 'showTip',\n                    seriesIndex: 1,\n                    dataIndex: i,\n                });\n            }, 5000 * i);\n        })(i);\n    }\n}\n\nsetTimeout(function () {\n    autoHoverTip();\n    tv = setInterval(autoHoverTip, counts * 1000);\n}, 500);\n","html":"","externalScripts":"https://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":426,"userName":"j***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxztojsaDR.png?v=1541410487005","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":["bmap","geo","map","南京","地图"],"updaterUserName":"j***6"}}