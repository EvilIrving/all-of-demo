{"status":0,"data":{"cid":"x57-9Zf4hE","authorUid":"bd-1309162528","authorUserName":"小***7","title":"饼图1","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-04-14T05:42:59.000Z","lastUpdateTime":"2021-04-14T05:42:59.000Z","auth":2,"uid":"bd-1309162528","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-14T05:42:59.000Z","code":"let color = ['#A468F3', '#2FB3FF', '#FFD42B'];\nlet chartData = [{\n        name: \"行政复议诉讼\",\n        value: 34,\n    },\n    {\n        name: \"诉转案\",\n        value: 286,\n    },\n    {\n        name: \"投诉举报\",\n        value: 26115,\n    },\n];\nlet arrName = [];\nlet arrValue = [];\nlet sum = 0;\nlet pieSeries = [],\n    lineYAxis = [];\n\n// 数据处理\nchartData.forEach((v, i) => {\n    arrName.push(v.name);\n    arrValue.push(v.value);\n    sum = sum + v.value;\n})\n\n// 图表option整理\nchartData.forEach((v, i) => {\n    if (i === 2) {\n        console.log('v',sum)\n        pieSeries.push({\n            type: 'pie',\n            clockWise: false,\n            hoverAnimation: false,\n            radius: [90 - i * 22 + '%', 77 - i * 22 + '%'],\n            center: [\"50%\", \"55%\"],\n            label: {\n                show: false\n            },\n            data: [{\n                value: v.value-25160,\n                name: v.name\n            }, {\n                value: sum - v.value,\n                name: '',\n                itemStyle: {\n                    color: \"rgba(0,0,0,0)\"\n                }\n            }]\n        });\n    } else {\n        pieSeries.push({\n            type: 'pie',\n            clockWise: false,\n            hoverAnimation: false,\n            radius: [90 - i * 22 + '%', 77 - i * 22 + '%'],\n            center: [\"50%\", \"55%\"],\n            label: {\n                show: false\n            },\n            data: [{\n                value: v.value,\n                name: v.name\n            }, {\n                value: sum - v.value,\n                name: '',\n                itemStyle: {\n                    color: \"rgba(0,0,0,0)\"\n                }\n            }]\n        });\n    }\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [90 - i * 22 + '%', 77 - i * 22 + '%'],\n        center: [\"50%\", \"55%\"],\n        label: {\n            show: false\n        },\n        data: [{\n            value: 7.5,\n            itemStyle: {\n                color: \"#013159\" //圆环颜色\n            }\n        }, {\n            value: 2.5,\n            name: '',\n            itemStyle: {\n                color: \"rgba(0,0,0,0)\"\n            }\n        }]\n    });\n    v.percent = (v.value / sum * 100).toFixed(1) + \"%\";\n    lineYAxis.push({\n        value: i,\n        textStyle: {\n            rich: {\n                circle: {\n                    color: color[i],\n                    padding: [0, 0]\n                }\n            }\n        }\n    });\n})\n\noption = {\n    backgroundColor: 'black',\n    title: {\n        text: 26115,\n        textStyle: {\n            color: '#5EC8FF',\n            fontSize: 16,\n            align: 'center',\n        },\n        top: '50%',\n        left: '40%'\n    },\n    color: color,\n    grid: {\n        top: '8%',\n        bottom: '60%',\n        left: \"50%\",\n    },\n    yAxis: [{\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            formatter: function(params) {\n                let item = chartData[params];\n                return '{name|' + item.name + '}'\n            },\n            interval: 0,\n            inside: true,\n            textStyle: {\n                rich: {\n                    name: {\n                        color: '#DDDDDD',\n                        fontSize: 12,\n                    },\n                }\n            },\n            show: true\n        },\n        data: lineYAxis\n    }],\n    xAxis: [{\n        show: false\n    }],\n    series: pieSeries\n};","html":"","externalScripts":"","updaterUID":"bd-1309162528","theme":"","layout":"","viewCount":25,"userName":"小***7","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x57-9Zf4hE.png?v=1618378979235","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie","title"],"customTags":[],"updaterUserName":"小***7"}}