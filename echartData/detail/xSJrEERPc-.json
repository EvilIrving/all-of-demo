{"status":0,"data":{"cid":"xSJrEERPc-","authorUid":"bd-3743044666","authorUserName":"许仙521983","title":"地图上显示的数量分布图","description":"数据纯属虚构啦啦啦","latestVersion":1,"alwaysLatest":1,"createTime":"2017-09-14T10:04:28.000Z","lastUpdateTime":"2017-09-14T10:04:28.000Z","auth":2,"uid":"bd-3743044666","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.7.1","versionCreateTime":"2017-09-14T10:04:28.000Z","code":"const uploadedDataURL = \"/asset/get/s/data-1505365622074-r1Ad0tw9-.json\";\r\n\r\n$.getJSON(uploadedDataURL, function(all) {\r\n\r\n    const max = (all.Data[(all.Data.length * 75 / 100).toFixed(0)].value[2] / 100).toFixed(0) * 100;\r\n    /**\r\n     * 分类数据 \r\n     */\r\n    option = {\r\n        backgroundColor: '#0F082E',\r\n        title: {\r\n            text: all.Name,\r\n            subtext: '数据纯属虚构',\r\n            x: 'center',\r\n            textStyle: {\r\n                color: '#FFFFFF'\r\n            }\r\n        },\r\n        tooltip: {\r\n            trigger: 'item',\r\n            padding: [5,10],\r\n            backgroundColor: 'rgba(50,103,213, 0.3)',\r\n            extraCssText: 'box-shadow: 0 0 5px rgba(0,0,0,0.9)',\r\n            formatter: (data) => `${data.seriesName}<br>${data.name} : ${data.value[2]}`\r\n        },\r\n        legend: {\r\n            orient: 'vertical',\r\n            top: 'bottom',\r\n            left: 'right',\r\n            data: ['数量分布图'],\r\n            textStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        visualMap: {\r\n            // show:false,\r\n            min: 0,\r\n            max: max * 10,\r\n            // splitNumber: 5,\r\n            color: ['#d94e5d', '#eac736', '#50a3ba'],\r\n            textStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        geo: [{\r\n            map: 'china',\r\n            // roam: true,\r\n            z: 1,\r\n            label: {\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 2,\r\n                    shadowBlur: 50,\r\n                    shadowColor: 'rgba(50,103,213, 0.3)',\r\n                    areaColor: '#0E0930',\r\n                    borderColor: '#3369D9'\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    areaColor: '#3369D9',\r\n                    opacity: 0.2\r\n                }\r\n            }\r\n        }, {\r\n            map: 'china',\r\n            z: 1,\r\n            label: {\r\n                emphasis: {\r\n                    show: false,\r\n                    // color: '#efefef'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 0.2,\r\n                    shadowBlur: 60,\r\n                    shadowColor: 'rgba(0, 0, 0, 0.3)',\r\n                    areaColor: '#0E0930',\r\n                    borderColor: '#3369D9'\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    areaColor: '#3369D9',\r\n                    opacity: 0.2\r\n                }\r\n            }\r\n        }],\r\n        series: [{\r\n            name: all.Name,\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: all.Data,\r\n            large: false,\r\n            symbolSize: function(value) {\r\n                var size = (value[2] * 5 / max).toFixed(0);\r\n                size = size > 8 ? 8 : size;\r\n                size = size < 2 ? 2 : size;\r\n                return size;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    shadowBlur: 15,\r\n                    color: '#efefef',\r\n                    shadowColor: '#258CF9'\r\n                }\r\n            }\r\n        }]\r\n    };\r\n\r\n    myChart.setOption(option);\r\n\r\n    /**\r\n     * 前 10 轮播\r\n     */\r\n    let index = all.Data.length;\r\n    const st = setInterval(() => {\r\n        if (index <= all.Data.length - 10) index = all.Data.length;\r\n        myChart.dispatchAction({\r\n            type: 'showTip',\r\n            seriesIndex: 0,\r\n            dataIndex: index--\r\n        })\r\n    }, 3000)\r\n})","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-3743044666","theme":"","layout":"","viewCount":2736,"userName":"许仙521983","commentCount":4,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJrEERPc-.png?v=1505383469029","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"许仙521983"}}