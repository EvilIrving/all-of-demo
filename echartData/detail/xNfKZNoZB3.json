{"status":0,"data":{"cid":"xNfKZNoZB3","authorUid":"obd-oE7g_85M3XppVRxCvYPJKsoCPCpyP4L","authorUserName":"凌***e","title":"堆叠图","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2020-06-13T12:50:10.000Z","lastUpdateTime":"2020-06-13T12:50:10.000Z","auth":2,"uid":"obd-oE7g_85M3XppVRxCvYPJKsoCPCpyP4L","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-18T08:42:20.000Z","code":"let dataLevel = {\r\n    data:[{\r\n        name: '极高风险区',\r\n        data: [3.58, 1.12, 1.30, 3.24, 0.05, 0.23, 1.95, 2.28, 0.08, 3.68, 3.26, 2.56, 2.47, 5.3]\r\n    },\r\n    {\r\n        name: '较高风险区',\r\n        data: [15.2, 2.96, 0.21, 14.91, 0.22, 0.68, 3.82, 7.85, 0.05, 1.52, 1.42,1.81,1.34,2.45]\r\n    },\r\n    {\r\n        name: '中风险区',\r\n        data: [37.5, 3.21, 0.6, 33.89, 0.55, 1.96, 6.22, 13.21, 0.01, 27.29, 32.28,79.41,48.54,93.74]\r\n    },\r\n    {\r\n        name: '低风险区',\r\n        data: [47.42, 40.62, 103.35, 760.27,140.05,142.35, 172.97, 232.42, 66.69, 502, 769.66,758.77,652.12,1438.75]\r\n    }\r\n],\r\ndataY:['苍南县', '洞头区', '经开区', '乐清市', '龙港市', '龙湾区','鹿城区', '瓯海区', '瓯江口',\r\n'平阳县', '瑞安市', '泰顺县', '文成县', '永嘉县']\r\n}\r\n\r\nconst dataArray = []\r\nconst datald = [] \r\ndataLevel.data.map(item => {\r\n    datald.push(item.name)\r\n    const dataObj = {\r\n        name: item.name,\r\n        type: 'bar',\r\n        barWidth: '12',\r\n        stack: '总量',\r\n        itemStyle: {\r\n            color: item.name === '极高风险区' ? '#FF0000' : \r\n            item.name === '较高风险区' ? '#FFA500' :\r\n            item.name === '中风险区'?'#FFFF00':'#5EA6FE'\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'insideRight'\r\n            }\r\n        },\r\n        data: item.data\r\n    }\r\n    dataArray.push(dataObj)\r\n})\r\n    dataArray.push({\r\n        name: '总计',\r\n        type: 'bar',\r\n        barWidth: '12',\r\n        barGap: '-90%',\r\n        data: [103.7, 47.91, 105.46, 812.31, 140.87, 145.22, 184.96, 255.76, 66.83, 534.49, 806.62, 842.55, 704.47, 1540.24],\r\n        label: {\r\n            normal: {\r\n                color: '#fff',\r\n                show: true,\r\n                position: 'right'\r\n            }\r\n        },\r\n        itemStyle: {\r\n            color: 'rgba(0,0,0,0)'\r\n        }\r\n    })\r\noption = {\r\n    backgroundColor: 'black',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        formatter:function(val){\r\n            let name = ''\r\n            let seriesName =''\r\n            val.map(item=>{\r\n                name = item.name\r\n                seriesName += item.seriesName+'：'+item.value+'处</br>'\r\n            })\r\n            return name+'</br>'+seriesName\r\n        }\r\n    },\r\n    legend: {\r\n        data: datald,\r\n        textStyle: {\r\n            color: 'white',\r\n            fontSize: 14\r\n        }\r\n    },\r\n    grid: {\r\n        top: '2%',\r\n        left: '3%',\r\n        right: '5%',\r\n        bottom: '2%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'value',\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'white'\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: true\r\n        }\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        data: dataLevel.dataY,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'white'\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    },\r\n    series: dataArray\r\n}","html":"","externalScripts":"","updaterUID":"obd-oE7g_85M3XppVRxCvYPJKsoCPCpyP4L","theme":"","layout":"","viewCount":272,"userName":"凌***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xNfKZNoZB3.png?v=1592469740340","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"凌***e"}}