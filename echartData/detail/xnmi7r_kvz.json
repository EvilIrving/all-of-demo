{"status":0,"data":{"cid":"xnmi7r_kvz","authorUid":"obd-ojpmgDvF5Qz4DIK9TqdoMmTtmkktuDp","authorUserName":"郑***代","title":"直角扇形","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-19T09:17:39.000Z","lastUpdateTime":"2021-11-19T09:34:16.000Z","auth":1,"uid":"obd-ojpmgDvF5Qz4DIK9TqdoMmTtmkktuDp","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-19T09:34:16.000Z","code":"let roseData = [\n    { value: 40, name: '烟火' },\n    { value: 33, name: '水雾' },\n    { value: 28, name: '雨天' },\n    { value: 22, name: '晴天' },\n    { value: 20, name: '阴天' },\n];\nconst nameVal =['烟火','水雾','雨天','晴天','阴天']\nconst colors = ['#D05613', '#D06E3C', '#D08C59', '#D09F80', '#D0A835']\n      for (let index = 0; index < roseData.length; index++) {\n        roseData[index].itemStyle = {\n          color: colors[index]\n        }\n      }\n\n      const originDataLen = roseData.length\n      const spanAngle = 90 // 需要显示的角度\n      const repeatedMultiple = 360 / spanAngle\n      // 这里根据要显示的角度 计算了需要插入的数据量\n      const addDataLen = parseInt((repeatedMultiple - 1) * originDataLen)\n      for (let index = 0; index < addDataLen; index++) {\n        roseData.push({\n          name: null,\n          // 这里给数据置零，即在视觉上不显示\n          value: 0,\n          // 这里保证了异常情况下(数据都为0时)作为占位的数据在视觉上仍为不可见状态。\n          itemStyle: {\n            color: 'rgba(0,0,0,0)'\n          },\n          tooltip: {\n            show: false,\n            formatter: null\n          }\n        })\n      }\n\noption = {\n        tooltip: {\n          trigger: 'item',\n          axisPointer: {\n            type: 'shadow',\n            textStyle: {\n              color: 'rgba(255, 255, 255, 0.65)'\n            }\n          }\n        },\n        legend: {\n          data: nameVal,\n          selectedMode: false, //图例禁止点击\n          orient: 'vertical',\n          x: '75%',\n          y: '45%',\n          itemWidth: 18,\n          itemHeight: 10,\n          textStyle: {\n            color: '#B3B5B7',\n            fontStyle: 'normal',\n            fontWeight: 'normal',\n            fontFamily: 'sans-serif',\n            fontSize: 12\n          }\n        },\n        series: [\n          {\n            name: '报警占比分析',\n            type: 'pie',\n            roseType: 'area',\n            radius: '120%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            label: {\n              show: false\n            },\n            data: roseData\n          },\n          {\n            type: 'gauge',\n            radius: '150%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n                length: '100%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            title: {\n              show: false\n            },\n            detail: {\n              fontSize: 0,\n              offsetCenter: [0, '0%'],\n              valueAnimation: true,\n              formatter: function() {\n                return ''\n              },\n              color: 'auto'\n            },\n            data: []\n          },\n          {\n            type: 'gauge',\n            radius: '130%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n              length: '100%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            data: []\n          },\n          {\n            type: 'gauge',\n            radius: '110%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n              length: '80%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            title: {\n              show: false,\n              offsetCenter: [0, '-20%'],\n              fontSize: 30\n            },\n            detail: {\n              fontSize: 0,\n              offsetCenter: [0, '0%'],\n              valueAnimation: true,\n              formatter: function() {\n                return ''\n              },\n              color: 'auto'\n            },\n            data: []\n          },\n          {\n            type: 'gauge',\n            radius: '90%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n              length: '80%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            detail: {\n              fontSize: 0,\n              offsetCenter: [0, '0%'],\n              valueAnimation: true,\n              formatter: function() {\n                return ''\n              },\n              color: 'auto'\n            },\n            data: []\n          },\n          {\n            type: 'gauge',\n            radius: '70%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n              length: '80%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            detail: {\n              show: false,\n              fontSize: 0,\n              offsetCenter: [0, '0%'],\n              valueAnimation: true,\n              formatter: function() {\n                return ''\n              },\n              color: 'auto'\n            },\n            data: []\n          },\n          {\n            type: 'gauge',\n            radius: '50%',\n            center: ['54%', '90%'],\n            startAngle: 180,\n            endAngle: 90,\n            min: 0,\n            max: 1,\n            splitNumber: 5,\n            axisLine: {\n              lineStyle: {\n                width: 1,\n                color: [[1, '#343A40']]\n              }\n            },\n            axisTick: {\n              show: false\n            },\n            splitLine: {\n              length: '80%',\n              lineStyle: {\n                color: '#343A40',\n                width: 1\n              }\n            },\n            axisLabel: {\n              show: false\n            },\n            detail: {\n              fontSize: 0,\n              offsetCenter: [0, '0%'],\n              valueAnimation: true,\n              formatter: function() {\n                return ''\n              },\n              color: 'auto'\n            },\n            data: []\n          }\n        ]\n      }","html":"","externalScripts":"","updaterUID":"obd-ojpmgDvF5Qz4DIK9TqdoMmTtmkktuDp","theme":"","layout":"","viewCount":0,"userName":"郑***代","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnmi7r_kvz.png?v=1637314456783","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-gauge","series-pie","tooltip"],"customTags":[],"updaterUserName":"郑***代"}}