{"status":0,"data":{"cid":"x52IjJCCaB","authorUid":"obd-oAh1d4dSOzjbxu2xIcMWcHFKWa3zn7M","authorUserName":"南***冀","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-11T06:01:15.000Z","lastUpdateTime":"2021-09-11T06:01:15.000Z","auth":2,"uid":"obd-oAh1d4dSOzjbxu2xIcMWcHFKWa3zn7M","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-11T06:01:15.000Z","code":"// 绘制左侧面\r\n        const wid = 30;\r\n        const w1 = Math.sin(Math.PI/6) * wid; //4\r\n        const w2 = Math.sin(Math.PI/3) * wid; // 6.8\r\n        const snapHeight = wid / 2;\r\n        const CubeLeft = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                // 会canvas的应该都能看得懂，shape是从custom传入的\r\n                const xAxisPoint = shape.xAxisPoint\r\n                const c0 = [shape.x, shape.y ]\r\n                const c1 = [shape.x - w2, shape.y ]\r\n                const c2 = [shape.x - w2, xAxisPoint[1]]\r\n                const c3 = [shape.x, xAxisPoint[1]]\r\n                ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath()\r\n            }\r\n        })\r\n        // 绘制右侧面\r\n        const CubeRight = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                const xAxisPoint = shape.xAxisPoint\r\n                const c1 = [shape.x, shape.y]\r\n                const c2 = [shape.x, xAxisPoint[1] ]\r\n                const c3 = [shape.x + w1, xAxisPoint[1] - w2 + snapHeight]\r\n                const c4 = [shape.x + w1, shape.y - w2 + snapHeight]\r\n                ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n            }\r\n        })\r\n        // 绘制顶面\r\n        const CubeTop = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                //\r\n                const c1 = [shape.x, shape.y ]\r\n                const c2 = [shape.x + w1, shape.y - w2 + snapHeight ] //右点\r\n                const c3 = [shape.x - w2 + w1, shape.y - w2 + snapHeight ]\r\n                const c4 = [shape.x - w2, shape.y  ]\r\n                ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n            }\r\n        })\r\n        // 注册三个面图形\r\n        echarts.graphic.registerShape('CubeLeft', CubeLeft)\r\n        echarts.graphic.registerShape('CubeRight', CubeRight)\r\n        echarts.graphic.registerShape('CubeTop', CubeTop)\r\n\r\n       var option = {\r\n            backgroundColor:'#01224d',\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                formatter: function(params){\r\n                    let item ='';\r\n                    item += params[0].name\r\n                    $(params).each(function (idx,itm) {\r\n                        item += ':'+itm.value\r\n                    });\r\n                    return item;\r\n                }\r\n            },\r\n            // grid: {\r\n            //     left: '5%',\r\n            //     right: '5%',\r\n            //     top: '15%',\r\n            //     bottom: '10%',\r\n            //     containLabel: true\r\n            // },\r\n            grid: {\r\n                top: \"25%\",\r\n                left: \"6%\",\r\n                bottom: \"10%\",\r\n                right: \"5%\",\r\n                containLabel: true\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: ['xxx','xxx','xxx','xxx','xxx','xx','xxx','xxx','xxx'],\r\n                axisLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#3e6f8e',\r\n                        width:1\r\n                    }\r\n                },\r\n                axisTick: {\r\n                    show: false,\r\n                    length: 9,\r\n                    alignWithLabel: true,\r\n                    lineStyle: {\r\n                        color: '#AAA'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    fontSize:20,\r\n                    margin:30,\r\n                    color: 'white'\r\n                },\r\n                splitLine:{\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#ffffff',\r\n                        opacity:0.2,\r\n                        width:1\r\n                    }\r\n                },\r\n            },\r\n            yAxis: {\r\n                name:'单位：万千瓦',\r\n                type: 'value',\r\n                nameTextStyle:{\r\n                    color:'white',\r\n                    fontSize:20\r\n                },\r\n                axisLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#3e6f8e',\r\n                        width:1\r\n                    }\r\n                },\r\n                axiosTick:{\r\n                  show:false\r\n                },\r\n                axisLabel: {\r\n                    color: 'white',\r\n                    fontSize:20,\r\n                    margin:30,\r\n                },\r\n                splitLine:{\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#ffffff',\r\n                        opacity:0.2,\r\n                        width:1\r\n                    }\r\n                },\r\n                nameTextStyle: {\r\n                    color: \"white\",\r\n                    fontSize: 20\r\n                },\r\n                nameGap: 40\r\n            },\r\n            series: [\r\n                {\r\n                      type: 'bar',\r\n                      label: {\r\n                        normal: {\r\n                          show: true,\r\n                          position: 'top',\r\n                          fontSize: 16,\r\n                          color: '#fff',\r\n                          offset: [0, -10],\r\n                        },\r\n                      },\r\n                      tooltip: {\r\n                        show:false\r\n                      },\r\n                      itemStyle: {\r\n                        color: 'transparent',\r\n                      },\r\n                      data:[225,275,365,436,377,270,325,291,291],\r\n                    },\r\n                {\r\n                    type: 'custom',\r\n                    renderItem: (params, api) => {\r\n                        const location = api.coord([api.value(0), api.value(1)]);\r\n                        location[0] = location[0] + wid*0;\r\n                        const xlocation = api.coord([api.value(0), 0]);\r\n                        xlocation[0] = xlocation[0] + wid*0;\r\n                        return {\r\n                            type: 'group',\r\n                            children: [{\r\n                                type: 'CubeLeft',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(0),\r\n                                    yValue: api.value(1),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: xlocation\r\n                                },\r\n                                style: {\r\n                                    fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                                        offset: 0,\r\n                                        color: '#059de6'\r\n                                    },\r\n                                        {\r\n                                            offset: 1,\r\n                                            color: '#059de6'\r\n                                        }\r\n                                    ])\r\n                                }\r\n                            }, {\r\n                                type: 'CubeRight',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(0),\r\n                                    yValue: api.value(1),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: xlocation\r\n                                },\r\n                                style: {\r\n                                    fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                                        offset: 0,\r\n                                        color: '#254193'\r\n                                    },\r\n                                        {\r\n                                            offset: 1,\r\n                                            color: '#254193'\r\n                                        }\r\n                                    ])\r\n                                }\r\n                            }, {\r\n                                type: 'CubeTop',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(0),\r\n                                    yValue: api.value(1),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: xlocation\r\n                                },\r\n                                style: {\r\n                                    fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                                        offset: 0,\r\n                                        color: '#17e0fe'\r\n                                    },\r\n                                        {\r\n                                            offset: 1,\r\n                                            color: '#17e0fe'\r\n                                        }\r\n                                    ])\r\n                                }\r\n                            }]\r\n                        }\r\n                    },\r\n                    color:'blue',\r\n                    data: [225,275,365,436,377,270,325,291,291]\r\n                }]\r\n        }","html":"","externalScripts":"","updaterUID":"obd-oAh1d4dSOzjbxu2xIcMWcHFKWa3zn7M","theme":"dark","layout":"","viewCount":0,"userName":"南***冀","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x52IjJCCaB.png?v=1631340075969","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-custom","tooltip"],"customTags":[],"updaterUserName":"南***冀"}}