{"status":0,"data":{"cid":"x8uAJvNYtY","authorUid":"obd-oDVacrrTHNUcUgC65H1tIVQwHw1h410","authorUserName":"l***l","title":"自定义legend","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-22T07:35:25.000Z","lastUpdateTime":"2020-04-22T07:35:25.000Z","auth":2,"uid":"obd-oDVacrrTHNUcUgC65H1tIVQwHw1h410","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-22T07:35:25.000Z","code":"const data = [{\n        name: '数据1',\n        value: 36,\n        rate: 12\n    },\n    {\n        name: '数据2',\n        value: 20,\n        rate: 20\n    },\n    {\n        name: '数据3',\n        value: 16,\n        rate: -40\n    },\n    {\n        name: '数据4',\n        value: 10,\n        rate: -15\n    },\n    {\n        name: '数据5',\n        value: 9,\n        rate: 12\n    },\n    {\n        name: '数据6',\n        value: 9,\n        rate: -6\n    }\n]\noption = {\n    title: {\n        text: '{header1| 名称与占比}' +\n            '{header2| 数量}' +\n            '{header3| 比例}',\n        textAlign: 'left',\n        left: '49%',\n        top: '30%',\n        textStyle: {\n            color: '#ccc',\n            rich: {\n                header1: {\n                    width: 130,\n                    fontSize: 15\n                },\n                header2: {\n                    width: 85,\n                    fontSize: 15\n                },\n                header3: {\n                    fontSize: 15\n                }\n            }\n        }\n    },\n    legend: {\n        // selectedMode: false, // 取消图例上的点击事件\n        type: 'plain',\n        icon: 'circle',\n        orient: 'vertical',\n        left: '50%',\n        top: '35%',\n        align: 'left',\n        itemGap: 15,\n        itemWidth: 10, // 设置宽度\n        itemHeight: 10, // 设置高度\n        symbolKeepAspect: false,\n        textStyle: {\n            color: '#000',\n            rich: {\n                name: {\n                    verticalAlign: 'right',\n                    align: 'left',\n                    width: 35,\n                    fontSize: 12\n                },\n                value: {\n                    align: 'left',\n                    width: 60,\n                    fontSize: 12\n                },\n                count: {\n                    align: 'left',\n                    width: 80,\n                    fontSize: 12\n                },\n                upRate: {\n                    align: 'left',\n                    fontSize: 12,\n                    color: '#00cf90'\n                },\n                downRate: {\n                    align: 'left',\n                    fontSize: 12,\n                    color: '#ff5722'\n                }\n            }\n        },\n        data: data.map(item => item.name),\n        formatter: function(name) {\n            let className = 'upRate'\n            let rateIcon = '▲'\n            if (data && data.length) {\n                for (var i = 0; i < data.length; i++) {\n                    if (name === data[i].name) {\n                        if (data[i].rate < 0) {\n                            className = 'downRate'\n                            rateIcon = '▼'\n                        }\n                        return (\n                            '{name| ' +\n                            name +\n                            '}  | ' +\n                            '{value| ' +\n                            data[i].value +\n                            '%}' +\n                            '{count| ' +\n                            Number(4544).toLocaleString() +\n                            '} ' +\n                            '{' + className + '| ' + rateIcon +\n                            Math.abs(data[i].rate) +\n                            '%}'\n                        )\n                    }\n                }\n            }\n        }\n    },\n    series: [{\n        name: '数量',\n        type: 'pie',\n        radius: ['40%', '55%'],\n        center: ['25%', '50%'],\n        data: data,\n        label: {\n            normal: {\n                show: false,\n                position: 'center',\n                formatter: '{text|{c}}\\n{b}',\n                rich: {\n                    text: {\n                        align: 'center',\n                        verticalAlign: 'middle',\n                        padding: 8,\n                        fontSize: 30\n                    },\n                    value: {\n                        align: 'center',\n                        verticalAlign: 'middle',\n                        fontSize: 20\n                    }\n                }\n            },\n            emphasis: {\n                show: true,\n                textStyle: {\n                    fontSize: '12'\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: true\n            }\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"obd-oDVacrrTHNUcUgC65H1tIVQwHw1h410","theme":"","layout":"","viewCount":9583,"userName":"l***l","commentCount":0,"starCount":33,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8uAJvNYtY.png?v=1587540925935","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"l***l"}}