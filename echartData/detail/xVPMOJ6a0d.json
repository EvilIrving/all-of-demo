{"status":0,"data":{"cid":"xVPMOJ6a0d","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"大数据量面积图","description":"数据量大","latestVersion":5,"alwaysLatest":1,"createTime":"2020-10-14T10:07:02.000Z","lastUpdateTime":"2020-10-14T10:07:02.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-19T08:48:20.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1602667300728-ALVbYCu0E.json\";\n\n\n$.ajax({\n    type: \"get\",\n    url: uploadedDataURL,\n    dataType: \"json\",\n    success: function(res) {\n        setData(res.result)\n\n\n    },\n    error: function(err) {\n        console.log(\"获取数据失败!\")\n    }\n});\n\n\n/*$.getJSON(uploadedDataURL, function(geoJson) {\n    setData(geoJson.result);\n    \n\nconsole.log(geoJson)\n})*/\n\n\nlet Hours = [],\n    inFlow = [],\n    innerFlow = [],\n    outFlow = []\n\nfunction setData(data) {\n    for (let i = 0; i < data.length; i++) {\n        data[i].Hours = timeConvert(data[i].recordTime);\n        Hours.push(data[i].Hours)\n        inFlow.push(data[i].inFlow)\n        innerFlow.push(data[i].innerFlow)\n        outFlow.push(data[i].outFlow)\n    }\n\n    setOption()\n    console.log(inFlow)\n\n}\n\nfunction timeConvert(timestamp) { //YYYY-MM-DD hh:mm:ss   timestamp:时间戳\n    timestamp = timestamp + '';\n    timestamp = timestamp.length == 10 ? timestamp * 1000 : timestamp;\n    let date = new Date(timestamp);\n    let y = date.getFullYear();\n    let m = date.getMonth() + 1;\n    m = m < 10 ? ('0' + m) : m;\n    let d = date.getDate();\n    d = d < 10 ? ('0' + d) : d;\n    let h = date.getHours();\n    h = h < 10 ? ('0' + h) : h;\n    let minute = date.getMinutes();\n    let second = date.getSeconds();\n    minute = minute < 10 ? ('0' + minute) : minute;\n    second = second < 10 ? ('0' + second) : second;\n    return d + '日 ' + h + ':' + minute + ':' + second;\n    // return y + '-' + m + '-' + d +' '+ h +':'+ minute +':' + second;\n\n}\n\nfunction setOption() {\n    option = {\n        backgroundColor: '#021228',\n        title: {\n            text: '流量 （Mbps/Mpps）',\n            textStyle: {\n                fontSize: 12,\n                fontWeight: 'normal',\n                color: '#99c8e7' //标题颜色\n            },\n            left: '0%',\n        },\n        tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n                type: 'cross',\n                label: {\n                    backgroundColor: '#6a7985',\n                },\n            }\n        },\n\n\n        grid: {\n            left: '5px',\n            top: '25px',\n            right: '20px',\n            bottom: '30px',\n            containLabel: true\n        },\n        xAxis: {\n            type: 'category',\n            boundaryGap: false,\n            axisLine: {\n                lineStyle: {\n                    color: '#033e59',\n                    width: 0.5, //这里是为了突出显示加上的\n                }\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#99c8e7',\n                    fontSize: 12,\n                },\n                formatter: function(value) {\n                    let ret = \"\";\n                    let temp1 = value.substring(0, 3) + \"\\n\";\n                    let temp2 = value.substring(3, 12);\n                    ret = temp1 + temp2; //凭借最终的字符串\n\n                    return ret;\n\n                },\n            },\n            data: Hours\n        },\n        yAxis: {\n            type: 'value',\n            boundaryGap: [0, '100%'],\n            axisLine: {\n                onZero: false,\n                lineStyle: {\n                    color: '#033e59',\n                    width: 1, //这里是为了突出显示加上的\n                }\n            },\n            axisLabel: {\n\n                show: true,\n                textStyle: {\n                    color: '#99c8e7' //字体颜色\n                }\n            },\n            splitLine: { //保留网格线\n                show: true,\n                lineStyle: { //y轴网格线设置\n                    color: '#105b8a',\n                    width: 1,\n                    type: 'solid'\n                }\n            },\n        },\n        dataZoom: [{\n            type:'slider',\n            start: 0,\n            end: 10,\n            height: 20,\n            backgroundColor:'rgba(2,96,171,0.5)',\n            dataBackground:{\n                lineStyle:{\n                    color:'#fff9c1',\n                    width:1\n                }\n            },\n            fillerColor:'rgba(53,204,251,0.2)',\n            borderColor: 'rgba(53,204,251,0.9)',\n            //handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\n            handleSize: '80%',\n            handleStyle: {\n                color: '#a0f1fb',\n                shadowBlur: 3,\n                shadowColor: 'rgba(0, 0, 0, 0.6)',\n                shadowOffsetX: 2,\n                shadowOffsetY: 2\n            },\n            textStyle:{\n                color:\"#fff\"\n            },\n            bottom:5\n        }],\n        series: [\n\n            {\n                name: '流入流量',\n                type: 'line',\n                smooth: true,\n                symbol: \"none\", //去掉折线点\n\n                itemStyle: {\n                    color: '#1cccff',\n                    emphasis: {\n                        color: '#1cccff',\n\n\n                    }\n                },\n\n                lineStyle: { // 系列级个性化折线样式\n                    width: 1,\n                    type: 'solid',\n                    color: \"#1cccff\"\n                },\n                areaStyle: {\n                    normal: { //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: 'rgba(28,204,255,0.5)' // 0% 处的颜色\n                        }, {\n                            offset: 0.5,\n                            color: 'rgba(28,204,255,0.3)' // 100% 处的颜色\n                        }, {\n                            offset: 1,\n                            color: 'transparent' // 100% 处的颜色\n                        }]), //背景渐变色\n\n                    },\n\n                },\n                data: inFlow,\n            },\n            {\n                name: '流出流量',\n                type: 'line',\n                smooth: true,\n                symbol: \"none\", //去掉折线点\n\n                itemStyle: {\n                    color: '#9c27b0',\n                    emphasis: {\n                        color: '#9c27b0',\n\n\n                    }\n                },\n\n                lineStyle: { // 系列级个性化折线样式\n                    width: 1,\n                    type: 'solid',\n                    color: \"#9c27b0\"\n                },\n                areaStyle: {\n                    normal: { //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: 'rgba(156,39,176,0.5)' // 0% 处的颜色\n                        }, {\n                            offset: 0.5,\n                            color: 'rgba(156,39,176,0.3)' // 100% 处的颜色\n                        }, {\n                            offset: 1,\n                            color: 'transparent' // 100% 处的颜色\n                        }]), //背景渐变色\n\n                    },\n\n                },\n                data: outFlow,\n            },\n            {\n                name: '内部流量',\n                type: 'line',\n                smooth: true,\n                symbol: \"none\", //去掉折线点\n\n                itemStyle: {\n                    color: '#0027ff',\n                    emphasis: {\n                        color: '#0027ff',\n\n\n                    }\n                },\n                lineStyle: { // 系列级个性化折线样式\n                    width: 1,\n                    type: 'solid',\n                    color: \"#0027ff\"\n                },\n                areaStyle: {\n                    normal: { //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: 'rgba(0,39,255,0.5)' // 0% 处的颜色\n                        }, {\n                            offset: 0.5,\n                            color: 'rgba(0,39,255,0.3)' // 100% 处的颜色\n                        }, {\n                            offset: 1,\n                            color: 'transparent' // 100% 处的颜色\n                        }]), //背景渐变色\n\n                    },\n\n                },\n                data: innerFlow,\n            },\n        ]\n    };\n    myChart.setOption(option);\n}","html":"","externalScripts":"https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.js","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":298,"userName":"绿***绿","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVPMOJ6a0d.png?v=1603097300217","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}