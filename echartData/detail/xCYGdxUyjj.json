{"status":0,"data":{"cid":"xCYGdxUyjj","authorUid":"bd-1896067372","authorUserName":"a***6","title":"分段","description":"","latestVersion":16,"alwaysLatest":1,"createTime":"2019-06-04T01:48:48.000Z","lastUpdateTime":"2019-06-04T01:48:48.000Z","auth":2,"uid":"bd-1896067372","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":16,"parentVersion":15,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-06T09:05:04.000Z","code":"var xAxisData = ['09-01', '09-02', '09-03', '09-04', '09-05', '09-06', '09-07', '09-08', '09-09', '09-10'];\nvar seriesData = [0.5, 0.2, 0.1, 0.4, 0.5, 1, 0.5, 0.2, 0.1, 0.4, 0.5, 1];\nvar seriesData1 = [1, 0.5, 0.2, 0.1, 0.4, 0.5, 1, 0.5, 0.2, 0.1, 0.4, 0.5];\nvar preditDate = '09-05';\nvar beforeEnsure = '09-04';\nvar afterEnsure = '09-07';\n\n//总长度\nvar num = xAxisData.length - 1;\nvar index = 0;\nvar actualPercent = '';\nvar preditPercent = '';\n\nvar firstNum = 0;\nvar firstIndex = 0;\nvar secondNum = 0;\nxAxisData.forEach(function(item, i) {\n    if (item == preditDate) {\n        index = i;\n        //实测比例\n        actualPercent = i / num * 90;\n        preditPercent = (num - i) / num * 90;\n    }\n\n    if (item == beforeEnsure) {\n        firstIndex = i;\n        firstNum = i / num * 90;\n    }\n\n\n    if (item == afterEnsure) {\n        secondNum = (i - firstIndex) / num * 90;\n    }\n})\n\n\n//预测比例\n\n//xAxis\n\n\n\noption = {\n    backgroundColor : '#00479F',\n    legend: {\n        data: ['温度', '气压']\n    },\n    color: ['#259e72', '#178fcd'],\n    tooltip: {\n        trigger: 'axis'\n    },\n    xAxis: [{\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#fff'\n                }\n            },\n            axisTick: { //刻度值线\n                show: false\n            },\n            splitLine: { //网格线\n                show: false\n            },\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.3)'\n                }\n            },\n            boundaryGap: false,\n            data: xAxisData\n        },\n        {\n            \"gridIndex\": 1,\n            \"type\": \"category\",\n            \"position\": \"bottom\",\n            \"name\": \"保障前\",\n            \"nameLocation\": \"center\",\n            \"nameTextStyle\": {\n                //\"fontWeight\": \"bold\",\n                color: 'white'\n            },\n            \"nameGap\": -5,\n            \"offset\": 40,\n            \"data\": [\"\"],\n            \"axisTick\": {\n                \"length\": 40,\n                \"inside\": true,\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.9)'\n                },\n                \"show\": true\n            },\n            \"axisLabel\": {\n                \"inside\": false,\n                \"show\": true\n            },\n            \"axisLine\": {\n                \"show\": false,\n                \"onZero\": false\n            }\n        },\n        {\n            \"gridIndex\": 2,\n            \"type\": \"category\",\n            \"position\": \"bottom\",\n            \"name\": \"保障中\",\n            \"nameLocation\": \"center\",\n            \"nameTextStyle\": {\n                //\"fontWeight\": \"bold\"\n                color: 'white'\n            },\n            \"nameGap\": -5,\n            \"offset\": 40,\n            \"data\": [\"\"],\n            \"axisTick\": {\n                \"length\": 40,\n                \"inside\": true,\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.9)'\n                },\n                \"show\": true\n            },\n            \"axisLabel\": {\n                \"inside\": false,\n                \"show\": true\n            },\n            \"axisLine\": {\n                \"show\": false,\n                \"onZero\": false\n            }\n        },\n        {\n            \"gridIndex\": 3,\n            \"type\": \"category\",\n            \"position\": \"bottom\",\n            \"name\": \"保障后\",\n            \"nameLocation\": \"center\",\n            \"nameTextStyle\": {\n                //\"fontWeight\": \"bold\"\n                color: 'white'\n            },\n            \"nameGap\": -5,\n            \"offset\": 40,\n            \"data\": [\"\"],\n            \"axisTick\": {\n                \"length\": 40,\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.9)'\n                },\n                \"inside\": true,\n                \"show\": true\n            },\n            \"axisLabel\": {\n                \"inside\": false,\n                \"show\": true\n            },\n            \"axisLine\": {\n                \"show\": false,\n                \"onZero\": false\n            }\n        },\n        {\n            \"gridIndex\": 4,\n            \"type\": \"category\",\n            \"position\": \"top\",\n            \"name\": \"实测\",\n            \"nameLocation\": \"center\",\n            \"nameTextStyle\": {\n                //\"fontWeight\": \"bold\"\n                color: 'white'\n            },\n            \"nameGap\": -5,\n            \"offset\": 10,\n            \"data\": [\"\"],\n            \"axisTick\": {\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.9)'\n                },\n                \"length\": 10,\n                \"inside\": true,\n                \"show\": true\n            },\n            \"axisLabel\": {\n                \"inside\": false,\n                \"show\": true\n            },\n            \"axisLine\": {\n                \"show\": false,\n                \"onZero\": false\n            }\n        },\n        {\n            \"gridIndex\": 5,\n            \"type\": \"category\",\n            \"position\": \"top\",\n            \"name\": \"预测\",\n            \"nameLocation\": \"center\",\n            \"nameTextStyle\": {\n                //\"fontWeight\": \"bold\"\n                color: 'white'\n            },\n            \"nameGap\": -5,\n            \"offset\": 10,\n            \"data\": [\"\"],\n            \"axisTick\": {\n                \"length\": 10,\n                \"inside\": true,\n                \"show\": true,\n                lineStyle: {\n                    color: 'rgba(200,200,200,0.9)'\n                }\n            },\n            \"axisLabel\": {\n                \"inside\": false,\n                \"show\": true\n            },\n            \"axisLine\": {\n                \"show\": false,\n                \"onZero\": false\n            }\n        },\n    ],\n    \"grid\": [{\n            \"left\": \"5%\",\n            \"right\": \"5%\",\n\n            \"show\": false\n        }, //\n        {\n            \"show\": true,\n            tooltip: {\n                trigger: 'item',\n                axisPointer: {\n                    type: 'none'\n                }\n            },\n            \"borderWidth\": 0,\n            \"shadowColor\": \"rgba(0, 0, 0, 0.3)\",\n            \"shadowBlur\": 1,\n            axisLabel: {\n                padding: [10, 0]\n            },\n            \"width\": firstNum + \"%\",\n            \"left\": \"5%\"\n        },\n        {\n            \"show\": true,\n            \"borderWidth\": 0,\n            \"shadowColor\": \"rgba(0, 0, 0, 0.3)\",\n            \"shadowBlur\": 1,\n            tooltip: {\n                trigger: 'item',\n                axisPointer: {\n                    type: 'none'\n                }\n            },\n            axisLabel: {\n                padding: [10, 0]\n            },\n            \"width\": secondNum + \"%\",\n            \"left\": (firstNum + 5) + \"%\"\n        }, {\n            \"show\": true,\n            \"borderWidth\": 0,\n            \"shadowColor\": \"rgba(0, 0, 0, 0.3)\",\n            \"shadowBlur\": 1,\n            tooltip: {\n                trigger: 'item',\n                axisPointer: {\n                    type: 'none'\n                }\n            },\n            axisLabel: {\n                padding: [10, 0]\n            },\n            \"width\": (90 - (secondNum + firstNum + 5)) + \"%\",\n            \"left\": (secondNum + firstNum + 5) + \"%\"\n        }, {\n            \"show\": true,\n            \"borderWidth\": 0,\n            \"shadowColor\": \"rgba(0, 0, 0, 0.3)\",\n            \"shadowBlur\": 1,\n            tooltip: {\n                trigger: 'item',\n                axisPointer: {\n                    type: 'none'\n                }\n            },\n            axisLabel: {\n                padding: [10, 0]\n            },\n            \"width\": actualPercent + \"%\",\n            \"left\": \"5%\"\n        }, {\n            \"show\": true,\n            \"borderWidth\": 0,\n            tooltip: {\n                trigger: 'item',\n                axisPointer: {\n                    type: 'none'\n                }\n            },\n            \"shadowColor\": \"rgba(0, 0, 0, 0.3)\",\n            \"shadowBlur\": 1,\n            axisLabel: {\n                padding: [10, 0]\n            },\n            \"width\": preditPercent + \"%\",\n            \"left\": (actualPercent + 5) + \"%\"\n        }\n    ],\n    yAxis: [{\n        name: '',\n        axisLabel: {\n            color: '#ccc'\n        },\n        axisTick: { //刻度值线\n            show: false\n        },\n        splitLine: { //网格线\n            show: false\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgba(200,200,200,0.3)'\n            }\n        }\n    }, {\n        \"gridIndex\": 1,\n        \"type\": \"value\",\n        \"interval\": 20,\n        \"max\": 100,\n        \"min\": 0,\n        \"axisTick\": {\n            \"show\": false\n        },\n        splitLine: { //网格线\n            show: false\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true\n        },\n        \"axisLabel\": {\n            \"show\": false\n        }\n    }, {\n        \"gridIndex\": 2,\n        \"type\": \"value\",\n        \"interval\": 20,\n        \"max\": 100,\n        \"min\": 0,\n        \"axisTick\": {\n            \"show\": false\n        },\n        splitLine: { //网格线\n            show: false\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true\n        },\n        \"axisLabel\": {\n            \"show\": false\n        }\n    }, {\n        \"gridIndex\": 3,\n        \"type\": \"value\",\n        \"interval\": 20,\n        \"max\": 100,\n        \"min\": 0,\n        splitLine: { //网格线\n            show: false\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true\n        },\n        \"axisLabel\": {\n            \"show\": false\n        }\n    }, {\n        \"gridIndex\": 4,\n        \"type\": \"value\",\n        \"interval\": 20,\n        \"max\": 100,\n        \"min\": 0,\n        splitLine: { //网格线\n            show: false\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true\n        },\n        \"axisLabel\": {\n            \"show\": false\n        }\n    }, {\n        \"gridIndex\": 5,\n        \"type\": \"value\",\n        \"interval\": 20,\n        \"max\": 100,\n        \"min\": 0,\n        \"axisTick\": {\n            \"show\": false\n        },\n        splitLine: { //网格线\n            show: false\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true\n        },\n        \"axisLabel\": {\n            \"show\": false\n        }\n    }],\n    \"visualMap\": [{\n        \"show\": false,\n        \"dimension\": 0,\n        \"seriesIndex\": 0,\n        \"pieces\": [{\n            \"lte\": index,\n            \"color\": \"#259e72\"\n        }, {\n            \"gt\": index,\n            \"lte\": seriesData.length + 1,\n            \"color\": \"#51d9a7\"\n        }]\n    }, {\n        \"show\": false,\n        \"dimension\": 0,\n        \"seriesIndex\": 1,\n        \"pieces\": [{\n            \"lte\": index,\n            \"color\": \"#178fcd\"\n        }, {\n            \"gt\": index,\n            \"lte\": seriesData1.length + 1,\n            \"color\": \"#55bef5\"\n        }]\n    }],\n    series: [{\n        name: '温度',\n        type: 'line',\n        smooth: true,\n        \"xAxisIndex\": \"0\",\n        data: seriesData,\n        markLine: {\n            label: {\n                color: '#666',\n                position: 'middle',\n                textStyle: {\n                    padding: -50\n                }\n            },\n            lineStyle: {\n                color: '#666'\n            }\n        }\n    }, {\n        name: '气压',\n        type: 'line',\n        smooth: true,\n        \"xAxisIndex\": \"0\",\n        data: seriesData1,\n        markLine: {\n            label: {\n                color: '#666',\n                position: 'middle',\n                textStyle: {\n                    padding: -50\n                }\n            },\n            lineStyle: {\n                color: '#666'\n            }\n        }\n    }, {\n        name: '平行于y轴的趋势线',\n        type: 'line',\n        color: ['black'],\n        markLine: {\n            data: [\n                [{\n                    symbol: \"line\",\n                    coord: [preditDate, 0]\n                }, {\n                    symbol: \"line\",\n                    coord: [preditDate, 1]\n                }]\n            ]\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1896067372","theme":"","layout":"","viewCount":228,"userName":"a***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCYGdxUyjj.png?v=1559811904405","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-line","tooltip","visualMap"],"customTags":[],"updaterUserName":"a***6"}}