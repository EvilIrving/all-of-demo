{"status":0,"data":{"cid":"xvSXkCGvEq","authorUid":"bd-181101713","authorUserName":"j***6","title":"轮播折线固定tooltip","description":"轮播折线数据，固定tooltip，Y轴携带箭头指示，固定图例位置","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-29T01:26:10.000Z","lastUpdateTime":"2019-05-29T01:26:10.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-29T01:26:10.000Z","code":"var data = {\r\n    upload: 100,\r\n    reference: 91,\r\n    dates: ['05-27', '05-28', '05-29', '05-30', '05-31'],\r\n    uploadNumber: [12, 32, 44, 354, 63, 23, 90],\r\n    referenceNumber: [282, 221, 288, 219, 128, 198, 98]\r\n};\r\nvar intervalSecs=3000;\r\noption = {\r\n    color: ['#1891FF', '#FDA96D', '#86A942'],\r\n    title: {\r\n        subtext: '累计上传' + (!data.upload ? 0 : data.upload) + '  累计下载' + (!data.reference ? 0 : data.reference),\r\n        subtextStyle: {\r\n            color: '#8098C5',\r\n            fontSize: 12\r\n        },\r\n        padding: [18, 0, 0, 56]\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'line' // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        position: ['73%', 8]\r\n    },\r\n    legend: {\r\n        bottom: 8,\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 12,\r\n            lineHeight: 20,\r\n        },\r\n        itemWidth: 30,\r\n\r\n    },\r\n    grid: {\r\n        top: '12%',\r\n        left: '4%',\r\n        right: '4%',\r\n        bottom: '16%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#8098C5'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        data: !data.dates ? [] : data.dates\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#8098C5'\r\n            },\r\n            symbol: ['none', 'arrow'], //箭头\r\n            symbolSize: [4, 4],\r\n        }\r\n    },\r\n    series: [{\r\n        data: !data.uploadNumber ? [] : data.uploadNumber,\r\n        type: 'line',\r\n        name: '资源上传',\r\n        symbol: 'circle',\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#1891FF'\r\n            }\r\n        }\r\n    }, {\r\n        data: !data.referenceNumber ? [] : data.referenceNumber,\r\n        type: 'line',\r\n        name: '资源下载',\r\n        symbol: 'circle',\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#FDA96D'\r\n            }\r\n        }\r\n    }, ]\r\n};\r\n\r\n\r\n/*轮播展示数据*/\r\nvar count = 0;\r\nvar timeTicket = null;\r\nvar dataLength = option.xAxis.data.length;\r\ntimeTicket && clearInterval(timeTicket);\r\ntimeTicket = setInterval(function() {\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0,\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: (count) % dataLength\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'showTip',\r\n        seriesIndex: 0,\r\n        dataIndex: (count) % dataLength\r\n    });\r\n    count++;\r\n}, intervalSecs);\r\n\r\nmyChart.on('mouseover', function(params) {\r\n    clearInterval(timeTicket);\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: params.dataIndex\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'showTip',\r\n        seriesIndex: 0,\r\n        dataIndex: params.dataIndex,\r\n    });\r\n});\r\nmyChart.on('mouseout', function(params) {\r\n    timeTicket && clearInterval(timeTicket);\r\n    timeTicket = setInterval(function() {\r\n        myChart.dispatchAction({\r\n            type: 'downplay',\r\n            seriesIndex: 0,\r\n        });\r\n        myChart.dispatchAction({\r\n            type: 'highlight',\r\n            seriesIndex: 0,\r\n            dataIndex: (count) % dataLength\r\n        });\r\n        myChart.dispatchAction({\r\n            type: 'showTip',\r\n            seriesIndex: 0,\r\n            dataIndex: (count) % dataLength\r\n        });\r\n        count++;\r\n    }, intervalSecs);\r\n});","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":121,"userName":"j***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvSXkCGvEq.png?v=1559093170561","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"j***6"}}