{"status":0,"data":{"cid":"xr1jyEQMTl","authorUid":"bd-1661529759","authorUserName":"l***o","title":"广州地图标点","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2017-04-05T07:59:31.000Z","lastUpdateTime":"2017-04-06T03:05:31.000Z","auth":2,"uid":"bd-1661529759","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.5.1","versionCreateTime":"2017-04-05T08:19:00.000Z","code":"var guanzhouURL = \"/asset/get/s/data-1491362911797-SkuvE1zpe.json\";\n\n\n$.get(guanzhouURL, function(as) {\n    echarts.registerMap('ch', as);\n\n    var geoCoordMap = {\n        '荔湾区': [113.243038, 23.124943],\n        '天河区': [113.335367, 23.13559],\n        '越秀区': [113.280714, 23.125624],\n        '白云区': [113.262831, 23.162281],\n        '黄埔区': [113.450761, 23.103239],\n        '海珠区': [113.262008, 23.103131],\n        '增城区': [113.829579, 23.290497],\n        '从化区': [113.587386, 23.545283],\n        '花都区': [113.211184, 23.39205],\n        '番禺区': [113.364619, 22.938582],\n        '南沙区': [113.53738, 22.794531]\n\n    };\n    var pointData = []\n    var dt = [{\n        name: '荔湾区',\n        value: 0\n    }, {\n        name: '天河区',\n        value: 120\n    }, {\n        name: '越秀区',\n        value: 1200\n    }, {\n        name: '白云区',\n        value: 2200\n    }, {\n        name: '黄埔区',\n        value: 3200\n    }, {\n        name: '海珠区',\n        value: 5000\n    }, {\n        name: '增城区',\n        value: 4200\n    }, {\n        name: '从化区',\n        value: 6100\n    }, {\n        name: '花都区',\n        value: 7100\n    }, {\n        name: '番禺区',\n        value: 8100\n    }, {\n        name: '南沙区',\n        value: 9100\n    }];\n    var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                    coord: [114.31, 30.52]\n                });\n            }\n        }\n        return res;\n    };\n    var color = ['#a6c84c'];\n    var series = [];\n    [\n        ['广州', data]\n    ].forEach(function(item, i) {\n        series.push({\n                name: '定位',\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke'\n                },\n                hoverAnimation: true,\n                itemStyle: {\n                    normal: {\n                        color: '#0ce928',\n                        shadowBlur: 10,\n                        shadowColor: '#0ce928',\n                    }\n                },\n                zlevel: 1\n            },\n\n            {\n                type: 'map',\n                map: 'ch',\n                zlevel: 0,\n                label: {\n                    normal: {\n                        show: true\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        borderColor: 'transparent',\n                        color: '#555'\n                    }\n                },\n                width: '30%',\n                roam: true,\n                selectedMode: 'single',\n                data: dt,\n                markPoint: {\n                    symbol: 'pin',\n                    symbolSize: 30,\n                    label: {\n                        normal: {\n                            show: true,\n                            formatter: function(d) {\n                                return d.name\n                            }\n                        }\n                    },\n                    data: [\n                        /*从化区*/\n                         {\n                            name: '24',\n                            coord: [113.562891, 23.402281]\n                        }, {\n                            name: '25',\n                            coord: [113.562891, 23.472281]\n                        }, {\n                            name: '42',\n                            coord: [113.662891, 23.592281]\n                        }, {\n                            name: '43',\n                            coord: [113.452891, 23.502281]\n                        }, {\n                            name: '44',\n                            coord: [113.502891, 23.452281]\n                        }, {\n                            name: '45',\n                            coord: [113.562891, 23.592281]\n                        },\n                        \n                        /*花都区*/\n                         {\n                            name: '26',\n                            coord: [113.352891, 23.472281]\n                        }, {\n                            name: '31',\n                            coord: [113.202891, 23.402281]\n                        },\n                        {\n                            name: '41',\n                            coord: [113.102891, 23.402281]\n                        }, {\n                            name: '46',\n                            coord: [113.202891, 23.452281]\n                        },\n                       /* 白云区*/\n                        \n                        {\n                            name: '1',\n                            coord: [113.263966, 23.162091]\n                        },{\n                            name: '3',\n                            coord: [113.329866, 23.203551]\n                        }, {\n                            name: '4',\n                            coord: [113.29011, 23.17073]\n                        }, {\n                            name: '8',\n                            coord: [113.362891, 23.252281]\n                        }, {\n                            name: '9',\n                            coord: [113.282891, 23.262281]\n                        }, {\n                            name: '32',\n                            coord: [113.226459, 23.260305]\n                        }, {\n                            name: '33',\n                            coord: [113.316499, 23.291095]\n                        }, {\n                            name: '34',\n                            coord: [113.396499, 23.331095]\n                        }, {\n                            name: '35',\n                            coord: [113.395079, 23.278764]\n                        },\n                       /* 黄埔区*/\n                        {\n                            name: '5',\n                            coord: [113.562891, 23.182281]\n                        }, {\n                            name: '6',\n                            coord: [113.462891, 23.232281]\n                        }, {\n                            name: '23',\n                            coord: [113.562891, 23.282281]\n                        }, {\n                            name: '36',\n                            coord: [113.432891, 23.202281]\n                        }, {\n                            name: '38',\n                            coord: [113.462891, 23.092281]\n                        }, {\n                            name: '39',\n                            coord: [113.482891, 23.122281]\n                        },\n                        /*增城区*/\n                        {\n                            name: '10',\n                            coord: [113.802891, 23.282281]\n                        }, {\n                            name: '11',\n                            coord: [113.792891, 23.182281]\n                        }, {\n                            name: '40',\n                            coord: [113.582891, 23.122281]\n                        },\n                       /* 荔湾区*/\n                        {\n                            name: '13',\n                            coord: [113.202891, 23.072281]\n                        }, {\n                            name: '14',\n                            coord: [113.242891, 23.072281]\n                        }, {\n                            name: '15',\n                            coord: [113.222891, 23.102281]\n                        }, {\n                            name: '20',\n                            coord: [113.222891, 23.122281]\n                        },\n                        //越秀区\n                         {\n                            name: '16',\n                            coord: [113.282891, 23.122281]\n                        }, {\n                            name: '17',\n                            coord: [113.302891, 23.132281]\n                        }, {\n                            name: '18',\n                            coord: [113.252891, 23.132281]\n                        }, {\n                            name: '19',\n                            coord: [113.272891, 23.122281]\n                        },\n                        //天河区\n                        {\n                            name: '2',\n                            coord: [113.365079, 23.138764]\n                        },  {\n                            name: '7',\n                            coord: [113.362891, 23.192281]\n                        }, {\n                            name: '21',\n                            coord: [113.352891, 23.122281]\n                        },\n                        //海珠区\n                        {\n                            name: '12',\n                            coord: [113.282891, 23.082281]\n                        },  {\n                            name: '22',\n                            coord: [113.302891, 23.062281]\n                        }, \n                        //番禺区\n                        {\n                            name: '27',\n                            coord: [113.332891, 23.002281]\n                        }, {\n                            name: '28',\n                            coord: [113.382891, 22.952281]\n                        },  {\n                            name: '37',\n                            coord: [113.492891, 23.002281]\n                        }, {\n                            name: '47',\n                            coord: [113.402891, 22.982281]\n                        }, {\n                            name: '48',\n                            coord: [113.442891, 23.052281]\n                        },\n                        \n                        //南沙区\n                        {\n                            name: '29',\n                            coord: [113.442891, 22.802281]\n                        }, {\n                            name: '30',\n                            coord: [113.662891, 22.702281]\n                        }, {\n                            name: '49',\n                            coord: [113.462891, 22.882281]\n                        }, {\n                            name: '50',\n                            coord: [113.402891, 22.872281]\n                        },\n                    ]\n                }\n            }\n            /*, {\n                        name: '点',\n                        type: 'scatter',\n                        coordinateSystem: 'geo',\n                        symbol: 'pin',\n                        symbolSize: function(val) {\n                            return val[2] / 1;\n                        },\n                        label: {\n                            normal: {\n                                show: true,\n                                textStyle: {\n                                    color: '#000',\n\n                                }\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#fff', //标志颜色\n                                borderColor: \"#fff\",\n                                borderWidth: 2,\n                            },\n                            emphasis: {\n                                borderColor: '#fff',\n                                borderWidth: 2\n                            }\n                        },\n                        zlevel: 6,\n                        data: convertData(item[1])\n                    }*/\n        );\n    });\n\n    option = {\n        visualMap: { //视觉映射组件\n            type: 'piecewise', //分段型。\n            splitNumber: 6,\n            inverse: true,\n            show: false,\n            pieces: [{\n                min: 1,\n                max: 1000,\n                color: '#799a1f'\n            }, {\n                min: 1000,\n                max: 2000,\n                color: '#149c9c'\n            }, {\n                min: 2000,\n                max: 3000,\n                color: '#ff84ff'\n            }, {\n                min: 3000,\n                max: 4000,\n                color: '#997cbe'\n            }, {\n                min: 4000,\n                max: 5000,\n                color: '#9eb102'\n            }, {\n                min: 5000,\n                max: 6000,\n                color: '#b18302'\n            }, {\n                min: 6000,\n                max: 7000,\n                color: '#6eb5ed'\n            }, {\n                min: 7000,\n                max: 8000,\n                color: '#F9BD5E'\n            }, {\n                min: 8000,\n                max: 9000,\n                color: '#F5A115'\n            }, {\n                min: 9000,\n                max: 10000,\n                color: '#ED7756'\n            }, {\n                value: 0,\n                label: '正在入库',\n                color: '#0ce928'\n            }],\n            left: 'left',\n            top: 'bottom',\n            textStyle: {\n                color: '#000'\n            }\n        },\n\n        series: series\n    };\n\n    myChart.setOption(option);\n\n});","html":"","externalScripts":"","updaterUID":"bd-1661529759","theme":"dark","layout":"","viewCount":5011,"userName":"l***o","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1jyEQMTl.png?v=1491380341136","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"l***o"}}