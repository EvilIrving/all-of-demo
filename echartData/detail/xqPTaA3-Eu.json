{"status":0,"data":{"cid":"xqPTaA3-Eu","authorUid":"obd-oFhwebmADo-1v_UnuM2-0nP08e8Nb5M","authorUserName":"J***e","title":"map 多个grid","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-14T09:23:08.000Z","lastUpdateTime":"2020-12-14T09:23:08.000Z","auth":2,"uid":"obd-oFhwebmADo-1v_UnuM2-0nP08e8Nb5M","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-14T09:23:08.000Z","code":"// 小部分部分下一级市区因为没有上传地图，所以无法下钻。大部分可以正常跳转\n\nvar zhumadian = \"/asset/get/s/data-1562118579950-xXLfaPrXL.json\";\nvar zhoukou = \"/asset/get/s/data-1562118572274-v9xfaTwy5.json\";\nvar zhengzhou = \"/asset/get/s/data-1562118560176-EShp-n1M3.json\";\nvar xuchang = \"/asset/get/s/data-1562118551860-kjVYXRXie.json\";\nvar xinyang = \"/asset/get/s/data-1562118541540-1oHhC50T2.json\";\nvar xinxiang = \"/asset/get/s/data-1562118523296-25lVhSW-v.json\";\nvar shangqiu = \"/asset/get/s/data-1562118518920-oiGJ003Uo.json\";\nvar sanmenxia = \"/asset/get/s/data-1562118509577-7n9hCY3ms.json\";\nvar pingdingshan = \"/asset/get/s/data-1562118493063-2EXbyXPks.json\";\nvar nanyang = \"/asset/get/s/data-1562118482129-BF0-vIlyJ.json\";\nvar luoyang = \"/asset/get/s/data-1562118461353-wCQVj7-4u.json\";\nvar kaifeng = \"/asset/get/s/data-1562118436936-dm62fgITa.json\";\nvar jiaozuo = \"/asset/get/s/data-1562118423443-dsMnIHN5q.json\";\nvar henan = \"/asset/get/s/data-1562117497263-O6MV8S2ot.json\";\nvar anyang = \"/asset/get/s/data-1562117441591-aML_BHbjY.json\";\n\nvar nameMap = '河南省';\nvar mapData = [{\n    name: '焦作市',\n    value: '598'\n}, {\n    name: '开封市',\n    value: '2223'\n}, {\n    name: '郑州市',\n    value: '637'\n}, {\n    name: '周口市',\n    value: '885'\n}, {\n    name: '许昌市',\n    value: '768'\n}, {\n    name: '南阳市',\n    value: '1233'\n}, {\n    name: '信阳市',\n    value: '1633'\n}, {\n    name: '新乡市',\n    value: '1768'\n}, {\n    name: '洛阳市',\n    value: '1233'\n}, {\n    name: '河南省',\n    value: '3633'\n}];\n\nvar seriesdata = [ //右边状图\n\n    // 左边地图\n    {\n        type: 'map',\n        map: nameMap,\n        aspectScale: 0.75,\n\n        top: 10,\n        width: '60%',\n        height: '90%',\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#667aed',\n                borderColor: '#fff',\n                borderWidth: 1.5,\n                label: {\n                    show: true,\n                    color: '#fff',\n                },\n\n                emphasis: {\n                    label: {\n                        show: true\n                    }\n                }\n            }\n        },\n    }, {\n        name: '',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n\n        barWidth: '30%',\n        itemStyle: {\n            normal: {\n                color: \"aqua\",\n                label: {\n                    show: true, //开启显示\n                    position: \"right\", // 在上方显示\n                    textStyle: {\n                        // 数值样式\n                        color: \"#00eeff\",\n                        fontSize: 14\n                    }\n                }\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"right\",\n                textStyle: {\n                    color: \"#c23531\"\n                }\n            }\n        },\n        data: mapData\n    },\n    {\n        name: '',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n\n        barWidth: '30%',\n        itemStyle: {\n            normal: {\n                color: \"aqua\",\n                label: {\n                    show: true, //开启显示\n                    position: \"right\", // 在上方显示\n                    textStyle: {\n                        // 数值样式\n                        color: \"#00eeff\",\n                        fontSize: 14\n                    }\n                }\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"right\",\n                textStyle: {\n                    color: \"#c23531\"\n                }\n            }\n        },\n        data: mapData\n    },\n\n\n];\nvar ynameMap = [];\nfor (var i = 0; i < 10; i++) {\n    ynameMap.push(seriesdata[1].data[i].name);\n}\n\nvar optionMap = {\n\n    backgroundColor: \"#98988E\",\n    grid: [{\n        gridIndex: 0,\n        right: \"2%\",\n        top: \"10%\",\n        bottom: \"10%\",\n        width: \"25%\"\n    }, {\n        gridIndex: 1,\n        left: \"5%\",\n        top: \"10%\",\n        bottom: \"10%\",\n        width: \"25%\"\n    }],\n    tooltip: {\n        trigger: 'item',\n        formatter: function(data) {\n            if (!isNaN(data.value)) {\n                return data.name + \"：\" + data.value;\n            }\n        },\n    },\n    xAxis: [{\n            gridIndex: 0,\n            type: \"value\",\n            scale: true,\n            position: \"top\",\n            min: 0,\n            show: false,\n            axisTick: {\n                show: false //刻度线\n            },\n            splitLine: {\n                show: false //分割线\n            },\n            axisLabel: {\n                show: false //文字\n            },\n            axisLine: {\n                lineStyle: {\n                    type: \"solid\",\n                    color: \"#00eeff\" //线的颜色\n                }\n            }\n        },\n        {\n            gridIndex: 1,\n            type: \"value\",\n            scale: true,\n            position: \"top\",\n            min: 0,\n            show: false,\n            axisTick: {\n                show: false //刻度线\n            },\n            splitLine: {\n                show: false //分割线\n            },\n            axisLabel: {\n                show: false //文字\n            },\n            axisLine: {\n                lineStyle: {\n                    type: \"solid\",\n                    color: \"#00eeff\" //线的颜色\n                }\n            }\n        }\n    ],\n    yAxis: [{\n            gridIndex: 0,\n            show: true,\n            type: \"category\",\n            axisLabel: {\n                rotate: -20, // 角度\n                color: \"#00eeff\",\n                interval: 0 // 让字体完全显示\n            },\n            axisTick: {\n                inside: true, //刻度朝向\n                alignWithLabel: true, //刻度对齐\n                lineStyle: \"#00eeff\"\n            },\n\n            axisLine: {\n                lineStyle: {\n                    color: \"#00eeff\" //线的颜色\n                }\n            },\n            inverse: true,\n            data: ynameMap || []\n        },\n        {\n            gridIndex: 1,\n            show: true,\n            type: \"category\",\n            axisLabel: {\n                rotate: -20, // 角度\n                color: \"#00eeff\",\n                interval: 0 // 让字体完全显示\n            },\n            axisTick: {\n                inside: true, //刻度朝向\n                alignWithLabel: true, //刻度对齐\n                lineStyle: \"#00eeff\"\n            },\n\n            axisLine: {\n                lineStyle: {\n                    color: \"#00eeff\" //线的颜色\n                }\n            },\n            inverse: true,\n            data: ynameMap || []\n        }\n    ],\n    series: seriesdata\n};\n\n$.get(henan, function(gdMap) {\n    echarts.registerMap(nameMap, gdMap);\n    myChart.setOption(optionMap, true);\n});\n\nconst clickCity = param => {\n    switch (param.name) {\n        case '河南省':\n            city = henan;\n            break;\n        case '洛阳市':\n            city = luoyang;\n            break;\n        case '新乡市':\n            city = xinxiang;\n            break;\n        case '信阳市':\n            city = xinyang;\n            break;\n        case '南阳市':\n            city = nanyang;\n            break;\n        case '许昌市':\n            city = xuchang;\n            break;\n        case '周口市':\n            city = zhoukou;\n            break;\n        case '郑州市':\n            city = zhengzhou;\n            break;\n        case '开封市':\n            city = kaifeng;\n            break;\n        case '焦作市':\n            city = jiaozuo;\n            break;\n        case '平顶山市':\n            city = pingdingshan;\n            break;\n        case '驻马店市':\n            city = zhumadian;\n            break;\n        case '三门峡市':\n            city = sanmenxia;\n            break;\n        case '商丘市':\n            city = shangqiu;\n            break;\n        case '安阳市':\n            city = anyang;\n            break;\n    }\n\n    $.get(city, function(gdMap) {\n        echarts.registerMap(nameMap, gdMap);\n        myChart.setOption(optionMap, true);\n    });\n};\n\nmyChart.on(\"click\", clickCity);","html":"","externalScripts":"","updaterUID":"obd-oFhwebmADo-1v_UnuM2-0nP08e8Nb5M","theme":"","layout":"","viewCount":50,"userName":"J***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqPTaA3-Eu.png?v=1607937788584","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","tooltip"],"customTags":[],"updaterUserName":"J***e"}}