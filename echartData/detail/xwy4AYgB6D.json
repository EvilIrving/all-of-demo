{"status":0,"data":{"cid":"xwy4AYgB6D","authorUid":"bd-372621293","authorUserName":"一***恼","title":"直方图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-09-02T02:24:09.000Z","lastUpdateTime":"2021-09-02T03:13:44.000Z","auth":2,"uid":"bd-372621293","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-02T03:13:44.000Z","code":"// var data = [[10, 16, 3, 'A'], [16, 18, 15, 'B'], [18, 26, 12, 'C'], [26, 32, 22, 'D'], [32, 56, 7, 'E'], [56, 62, 17, 'F']];\nvar data =  [\n            // 列1：维度x，  列2：维度y, 其它维度。。。\n            [12, 44, 55, 60], // 这是第一个 dataItem\n            [53, 31, 21, 56], // 这是第二个 dataItem\n            [71, 33, 10, 20], // 这是第三个 dataItem\n        ]\n\nvar colorList = ['#4f81bd', '#c0504d', '#9bbb59', '#604a7b', '#948a54', '#e46c0b'];\n\ndata = data.map(function (item, index) {  \n\n    return {\n        value: item,\n        itemStyle: {\n            color: colorList[index]\n        }\n    };\n});\n\nfunction renderItem(params, api) {\n    // api.value()  默认返回第一列的维度值12，53，71；接收参数0，1，2..。返回某列的维度值\n    var yValue = api.value(2);\n    /*\n        @param {Array.<number>} data 数据值。\n        @return {Array.<number>} 画布上的点的坐标，至少包含：[x, y]\n    \n    */\n    var start = api.coord([api.value(0), yValue]);\n    var size = api.size([api.value(1) - api.value(0), yValue]);\n    var style = api.style();\n    console.log(api.value(3))\n    return {\n        type: 'rect',\n        shape: \n        echarts.graphic.clipRectByRect({\n                    // 矩形的位置和大小。\n                    x: start[0],\n                    y: start[1],\n                    width: size[0],\n                    height: size[1]\n                }, {\n                    // 当前坐标系的包围盒。\n                    x: params.coordSys.x,\n                    y: params.coordSys.y,\n                    width: params.coordSys.width,\n                    height: params.coordSys.height\n                }),\n        // {\n        //     x: start[0],\n        //     y: start[1],\n        //     width: size[0],\n        //     height: size[1]\n        // },\n        style: style\n    };\n}\n\noption = {\n    title: {\n        text: 'Profit',\n        left: 'center'\n    },\n    tooltip: {\n    },\n    xAxis: {\n        scale: true\n    },\n    yAxis: {\n    },\n    series: [{\n        type: 'custom',\n        renderItem: renderItem,\n        label: {\n            show: true,\n            position: 'top'\n        },\n        dimensions: ['from', 'to', 'profit'],\n        encode: {\n            x: [0, 1],\n            y: 2,\n            tooltip: [0, 1, 2],\n            itemName: 3\n        },\n        data: data\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-372621293","theme":"","layout":"","viewCount":0,"userName":"一***恼","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwy4AYgB6D.png?v=1630552424146","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom","title","tooltip"],"customTags":[],"updaterUserName":"一***恼"}}