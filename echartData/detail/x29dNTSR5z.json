{"status":0,"data":{"cid":"x29dNTSR5z","authorUid":"obd-ojok0alWTQPs_TXsuxZyvC6hqlv3kE5","authorUserName":"h***鸦","title":"散点图-Satter","description":"散点图基本演示","latestVersion":1,"alwaysLatest":1,"createTime":"2021-02-02T08:50:07.000Z","lastUpdateTime":"2021-02-02T08:50:07.000Z","auth":2,"uid":"obd-ojok0alWTQPs_TXsuxZyvC6hqlv3kE5","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-02T08:50:07.000Z","code":"let sourceData = [{\r\n        prop_name: \"IP联名\",\r\n        prop_value: \"无\",\r\n        num: \"2760270\",\r\n        itemCount: \"288913\",\r\n        prop: \"IP联名 / 无\",\r\n    },\r\n    {\r\n        prop_name: \"长度\",\r\n        prop_value: \"常规\",\r\n        num: \"2193954\",\r\n        itemCount: \"225673\",\r\n        prop: \"长度 / 常规\",\r\n    },\r\n    {\r\n        prop_name: \"风格\",\r\n        prop_value: \"其它或未提及\",\r\n        num: \"2096845\",\r\n        itemCount: \"206479\",\r\n        prop: \"风格 / 其它或未提及\",\r\n    },\r\n    {\r\n        prop_name: \"松紧度\",\r\n        prop_value: \"常规\",\r\n        num: \"1835864\",\r\n        itemCount: \"179823\",\r\n        prop: \"松紧度 / 常规\",\r\n    },\r\n    {\r\n        prop_name: \"图案\",\r\n        prop_value: \"纯色\",\r\n        num: \"1381297\",\r\n        itemCount: \"148048\",\r\n        prop: \"图案 / 纯色\",\r\n    },\r\n    {\r\n        prop_name: \"袖型\",\r\n        prop_value: \"常规\",\r\n        num: \"1313665\",\r\n        itemCount: \"145270\",\r\n        prop: \"袖型 / 常规\",\r\n    },\r\n    {\r\n        prop_name: \"袖长\",\r\n        prop_value: \"长袖\",\r\n        num: \"1228169\",\r\n        itemCount: \"149488\",\r\n        prop: \"袖长 / 长袖\",\r\n    },\r\n    {\r\n        prop_name: \"主要颜色\",\r\n        prop_value: \"白\",\r\n        num: \"959038\",\r\n        itemCount: \"80275\",\r\n        prop: \"主要颜色 / 白\",\r\n    },\r\n    {\r\n        prop_name: \"领型\",\r\n        prop_value: \"其它\",\r\n        num: \"905912\",\r\n        itemCount: \"71932\",\r\n        prop: \"领型 / 其它\",\r\n    },\r\n];\r\n\r\nlet seriesData = sourceData.map(function(item, index, array) {\r\n    return {\r\n        name: item[\"prop\"],\r\n        //实际点的参数\r\n        value: [item[\"num\"], item[\"itemCount\"]],\r\n    };\r\n});\r\n\r\nlet computeServicesAvgLine = function() {\r\n    let sum = 0;\r\n    sourceData.forEach(function(item) {\r\n        sum += parseInt(item[\"itemCount\"]);\r\n    });\r\n    return sum / sourceData.length;\r\n};\r\n\r\nlet computeSalesAvgLine = function() {\r\n    let sum = 0;\r\n    sourceData.forEach(function(item) {\r\n        sum += parseInt(item[\"num\"]);\r\n    });\r\n    return sum / sourceData.length;\r\n};\r\nlet avg = {\r\n    servicesAvgLine: computeServicesAvgLine(),\r\n    salesAvgLine: computeSalesAvgLine(),\r\n};\r\n\r\nlet seriesLabel = {\r\n    normal: {\r\n        show: true,\r\n        position: \"inside\",\r\n        offset: [0, -50],\r\n        padding: [0, 7],\r\n        fontSize: 12,\r\n        color: \"#000\",\r\n        textAlign: \"left\",\r\n        textBorderColor: \"#333\",\r\n        textBorderWidth: 0,\r\n        backgroundColor: \"#fff\",\r\n        borderColor: \"#fff\",\r\n        borderWidth: 1,\r\n        borderRadius: 4,\r\n        formatter: function(obj) {\r\n            if (obj.componentType == \"series\") {\r\n                return [\r\n                    obj.name,\r\n                    \"销量 \" + obj.data.value[0],\r\n                    \"销量上新\" + obj.data.value[1],\r\n                ].join(\"\\n\");\r\n            }\r\n        },\r\n    },\r\n};\r\n\r\noption = {\r\n    title: {\r\n        text: \"女装属性销量驱动表现\",\r\n        x: \"center\",\r\n        y: \"top\",\r\n    },\r\n    tooltip: {\r\n        trigger: \"item\",\r\n        axisPointer: {\r\n            show: true,\r\n            type: \"cross\",\r\n            lineStyle: {\r\n                type: \"dashed\",\r\n                width: 1,\r\n            },\r\n        },\r\n        formatter: function(obj) {\r\n            if (obj.componentType == \"series\") {\r\n                return `<div style=\"border-bottom: 1px solid rgba(255,255,255,.3);font-size: 18px;padding-bottom: 7px;margin-bottom: 7px\">${obj.name}</div>\r\n            <span>销量</span>:${obj.data.value[0]}<br/>\r\n            <span>销量上新</span>:${obj.data.value[1]}`;\r\n            }\r\n        },\r\n    },\r\n    label: {\r\n        fontSize: 8,\r\n        show: true,\r\n        formatter: function(params) {\r\n            return params.name;\r\n        },\r\n        emphasis: {\r\n            show: true,\r\n            position: \"bottom\",\r\n        },\r\n    },\r\n    xAxis: {\r\n        name: \"销量\",\r\n        type: \"value\",\r\n        scale: true,\r\n        axisLabel: {\r\n            formatter: \"{value}\",\r\n            fontSize: 8,\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: \"#3259B8\",\r\n            },\r\n        },\r\n    },\r\n    yAxis: {\r\n        name: \"上新数量\",\r\n        type: \"value\",\r\n        scale: true,\r\n        axisLabel: {\r\n            formatter: \"{value}\",\r\n            fontSize: 8,\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: \"#3259B8\",\r\n            },\r\n        },\r\n    },\r\n    series: [{\r\n        type: \"scatter\",\r\n        data: seriesData,\r\n        label: seriesLabel,\r\n        symbolSize: function(data, index) {\r\n            return Math.sqrt(data[0]) / 4e1;\r\n        },\r\n        itemStyle: {\r\n            color: function(params) {\r\n                let colorarrays = [\r\n                    \"#2F9323\",\r\n                    \"#D9B63A\",\r\n                    \"#2E2AA4\",\r\n                    \"#9F2E61\",\r\n                    \"#4D670C\",\r\n                    \"#BF675F\",\r\n                    \"#1F814A\",\r\n                    \"#357F88\",\r\n                    \"#673509\",\r\n                    \"#310937\",\r\n                    \"#1B9637\",\r\n                    \"#F7393C\",\r\n                ];\r\n                return colorarrays[params.dataIndex];\r\n            },\r\n        },\r\n        markLine: {\r\n            label: {\r\n                normal: {\r\n                    formatter: function(params) {\r\n                        if (params.dataIndex === 0) {\r\n                            return params.value;\r\n                        } else if (params.dataIndex === 1) {\r\n                            return params.value;\r\n                        }\r\n                        return params.value;\r\n                    },\r\n                },\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: \"#626c91\",\r\n                    type: \"bashed\",\r\n                    width: 1,\r\n                },\r\n                emphasis: {\r\n                    color: \"#d9def7\",\r\n                },\r\n            },\r\n            data: [{\r\n                    xAxis: avg.salesAvgLine,\r\n                    name: \"营业额平均线\",\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: \"#b84a58\",\r\n                        },\r\n                    },\r\n                },\r\n                {\r\n                    yAxis: avg.servicesAvgLine,\r\n                    name: \"服务能力平均线\",\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: \"#b84a58\",\r\n                        },\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        markArea: {\r\n            silent: true,\r\n            data: [\r\n                [{\r\n                        name: \"弱势区\",\r\n                        itemStyle: {\r\n                            color: \"white\",\r\n                        },\r\n                        label: {\r\n                            show: true,\r\n                            position: \"insideBottomRight\",\r\n                            fontStyle: \"normal\",\r\n                            color: \"#797979\",\r\n                            fontSize: 10,\r\n                            // fontWeight: \"blod\",\r\n                        },\r\n                        coord: [avg.salesAvgLine, avg.servicesAvgLine],\r\n                    },\r\n                    {\r\n                        coord: [Number.MAX_VALUE, 0],\r\n                    },\r\n                ],\r\n                [{\r\n                        name: \"乏力区\",\r\n                        itemStyle: {\r\n                            color: \"white\",\r\n                        },\r\n                        label: {\r\n                            show: true,\r\n                            position: \"insideBottomLeft\",\r\n                            fontStyle: \"normal\",\r\n                            color: \"#797979\",\r\n                            fontSize: 10,\r\n                            // fontWeight: \"blod\",\r\n                        },\r\n                        coord: [0, 0],\r\n                    },\r\n                    {\r\n                        coord: [avg.salesAvgLine, avg.servicesAvgLine],\r\n                    },\r\n                ],\r\n                [{\r\n                        name: \"强势区\",\r\n                        itemStyle: {\r\n                            color: \"white\",\r\n                        },\r\n                        label: {\r\n                            show: true,\r\n                            position: \"insideTopRight\",\r\n                            fontStyle: \"normal\",\r\n                            color: \"#797979\",\r\n                            fontSize: 10,\r\n                            // fontWeight: \"blod\",\r\n                        },\r\n                        coord: [avg.salesAvgLine, avg.servicesAvgLine],\r\n                    },\r\n                    {\r\n                        coord: [Number.MAX_VALUE, Number.MAX_VALUE],\r\n                    },\r\n                ],\r\n                [{\r\n                        name: \"潜力区\",\r\n                        itemStyle: {\r\n                            color: \"white\",\r\n                        },\r\n                        label: {\r\n                            show: true,\r\n                            position: \"insideTopLeft\",\r\n                            fontStyle: \"normal\",\r\n                            color: \"#797979\",\r\n                            fontSize: 10,\r\n                            // fontWeight: \"blod\",\r\n                        },\r\n                        coord: [0, Number.MAX_VALUE],\r\n                    },\r\n                    {\r\n                        coord: [avg.salesAvgLine, avg.servicesAvgLine],\r\n                    },\r\n                ],\r\n            ],\r\n        },\r\n    }, ],\r\n};","html":"","externalScripts":"","updaterUID":"obd-ojok0alWTQPs_TXsuxZyvC6hqlv3kE5","theme":"","layout":"","viewCount":92,"userName":"h***鸦","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x29dNTSR5z.png?v=1612255807393","isCustomThumbnail":0,"builtinTags":["category-work","grid","markArea","markLine","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"h***鸦"}}