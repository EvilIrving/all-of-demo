{"status":0,"data":{"cid":"xVNl_-jjok","authorUid":"obd-ojWRW-AwT50Y1p3OBOYxv52lhbv_3En","authorUserName":"双***瀚","title":"中国一月份各省份疫情人口数字","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-12-28T09:36:47.000Z","lastUpdateTime":"2020-12-28T09:36:47.000Z","auth":2,"uid":"obd-ojWRW-AwT50Y1p3OBOYxv52lhbv_3En","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T10:10:58.000Z","code":"var name_title = \"中国一月份各省份疫情人口数字\"\nvar nameColor = \" rgb(55, 75, 113)\"\nvar name_fontFamily = '等线'\nvar subname_fontSize = 20\nvar name_fontSize = 30\nvar mapName = 'china'\nvar data = [\n    {\n          name: \"北京\",\n          value: 212,\n        },\n        {\n          name: \"天津\",\n          value: 60,\n        },\n        {\n          name: \"上海\",\n          value: 208,\n        },\n        {\n          name: \"重庆\",\n          value: 337,\n        },\n        {\n          name: \"河北\",\n          value: 126,\n        },\n        {\n          name: \"河南\",\n          value: 675,\n        },\n        {\n          name: \"云南\",\n          value: 117,\n        },\n        {\n          name: \"辽宁\",\n          value: 74,\n        },\n        {\n          name: \"黑龙江\",\n          value: 155,\n        },\n        {\n          name: \"湖南\",\n          value: 593,\n        },\n        {\n          name: \"安徽\",\n          value: 480,\n        },\n        {\n          name: \"山东\",\n          value: 270,\n        },\n        {\n          name: \"新疆\",\n          value: 29,\n        },\n        {\n          name: \"江苏\",\n          value: 308,\n        },\n        {\n          name: \"浙江\",\n          value: 829,\n        },\n        {\n          name: \"江西\",\n          value: 476,\n        },\n        {\n          name: \"湖北\",\n          value: 13522,\n        },\n        {\n          name: \"广西\",\n          value: 139,\n        },\n        {\n          name: \"甘肃\",\n          value: 55,\n        },\n        {\n          name: \"山西\",\n          value: 74,\n        },\n        {\n          name: \"内蒙古\",\n          value: 34,\n        },\n        {\n          name: \"陕西\",\n          value: 142,\n        },\n        {\n          name: \"吉林\",\n          value: 42,\n        },\n        {\n          name: \"福建\",\n          value: 179,\n        },\n        {\n          name: \"贵州\",\n          value: 56,\n        },\n        {\n          name: \"广东\",\n          value: 797,\n        },\n        {\n          name: \"青海\",\n          value: 15,\n        },\n        {\n          name: \"西藏\",\n          value: 1,\n        },\n        {\n          name: \"四川\",\n          value: 282,\n        },\n        {\n          name: \"宁夏\",\n          value: 34,\n        },\n        {\n          name: \"海南\",\n          value: 79,\n        },\n        {\n          name: \"台湾\",\n          value: 10,\n        },\n        {\n          name: \"香港\",\n          value: 15,\n        },\n        {\n          name: \"澳门\",\n          value: 9,\n        },\n    ];\n    \nvar geoCoordMap = {};\nvar toolTipData = [ \n    {name:\"北京\",value:[{name:\"确诊数\",value:212}]},\n        {name:\"天津\",value:[{name:\"确诊数\",value:60}]},\n        {name:\"河北\",value:[{name:\"确诊数\",value:126}]},\n        {name:\"山西\",value:[{name:\"确诊数\",value:74}]},\n        {name:\"内蒙古\",value:[{name:\"确诊数\",value:34}]},\n        {name:\"辽宁\",value:[{name:\"确诊数\",value:74}]},\n        {name:\"吉林\",value:[{name:\"确诊数\",value:42}]},\n        {name:\"黑龙江\",value:[{name:\"确诊数\",value:155}]},\n        {name:\"上海\",value:[{name:\"确诊数\",value:208}]},\n        {name:\"江苏\",value:[{name:\"确诊数\",value:308}]},\n        {name:\"浙江\",value:[{name:\"确诊数\",value:829}]},\n        {name:\"安徽\",value:[{name:\"确诊数\",value:480}]},\n        {name:\"福建\",value:[{name:\"确诊数\",value:179}]},\n        {name:\"江西\",value:[{name:\"确诊数\",value:476}]},\n        {name:\"山东\",value:[{name:\"确诊数\",value:270}]},\n        {name:\"河南\",value:[{name:\"确诊数\",value:675}]},\n        {name:\"湖北\",value:[{name:\"确诊数\",value:13522}]},\n        {name:\"湖南\",value:[{name:\"确诊数\",value:593}]},\n        {name:\"重庆\",value:[{name:\"确诊数\",value:337}]},\n        {name:\"四川\",value:[{name:\"确诊数\",value:282}]},\n        {name:\"贵州\",value:[{name:\"确诊数\",value:56}]},\n        {name:\"云南\",value:[{name:\"确诊数\",value:117}]},\n        {name:\"西藏\",value:[{name:\"确诊数\",value:1}]},\n        {name:\"陕西\",value:[{name:\"确诊数\",value:142}]},\n        {name:\"甘肃\",value:[{name:\"确诊数\",value:55}]},\n        {name:\"青海\",value:[{name:\"确诊数\",value:15}]},\n        {name:\"宁夏\",value:[{name:\"确诊数\",value:34}]},\n        {name:\"新疆\",value:[{name:\"确诊数\",value:29}]},\n        {name:\"广东\",value:[{name:\"确诊数\",value:797}]},\n        {name:\"广西\",value:[{name:\"确诊数\",value:139}]},\n        {name:\"海南\",value:[{name:\"确诊数\",value:79}]},\n        {name:\"香港\",value:[{name:\"确诊数\",value:15}]},\n        {name:\"澳门\",value:[{name:\"确诊数\",value:9}]},\n        {name:\"台湾\",value:[{name:\"确诊数\",value:10}]}\n];\n\nmyChart.showLoading();\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\nmyChart.hideLoading();\nmapFeatures.forEach(function(v) {\n    // 地区名称\n    var name = v.properties.name;\n    // 地区经纬度\n    geoCoordMap[name] = v.properties.cp;\n});\n\n\nconsole.log(data)\nconsole.log(toolTipData)\nvar max = 480,\n    min = 9; // todo \nvar maxSize4Pin = 300,\n    minSize4Pin = 20;\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\noption = {\n    title: {\n        text: name_title,\n        \n        x: 'center',\n        textStyle: {\n            color: nameColor,\n            fontFamily: name_fontFamily,\n            fontSize: name_fontSize\n        },\n        subtextStyle:{\n            fontSize:subname_fontSize,\n            fontFamily:name_fontFamily\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function(params) {\n            if (typeof(params.value)[2] == \"undefined\") {\n                var toolTiphtml = ''\n                for(var i = 0;i<toolTipData.length;i++){\n                    if(params.name==toolTipData[i].name){\n                        toolTiphtml += toolTipData[i].name+':<br>'\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\n                        }\n                    }\n                }\n                console.log(toolTiphtml)\n                // console.log(convertData(data))\n                return toolTiphtml;\n            } else {\n                var toolTiphtml = ''\n                for(var i = 0;i<toolTipData.length;i++){\n                    if(params.name==toolTipData[i].name){\n                        toolTiphtml += toolTipData[i].name+':<br>'\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\n                        }\n                    }\n                }\n                console.log(toolTiphtml)\n                // console.log(convertData(data))\n                return toolTiphtml;\n            }\n        }\n    },\n    // legend: {\n    //     orient: 'vertical',\n    //     y: 'bottom',\n    //     x: 'right',\n    //     data: ['credit_pm2.5'],\n    //     textStyle: {\n    //         color: '#fff'\n    //     }\n    // },\n    visualMap: {\n        show: true,\n        min: 0,\n        max: 500,\n        left: 'left',\n        top: 'bottom',\n        text: ['高', '低'], // 文本，默认为数值文本\n        calculable: true,\n        seriesIndex: [1],\n        inRange: {\n            // color: ['#3B5077', '#031525'] // 蓝黑\n            // color: ['#ffc0cb', '#800080'] // 红紫\n            // color: ['#3C3B3F', '#605C3C'] // 黑绿\n            // color: ['#0f0c29', '#302b63', '#24243e'] // 黑紫黑\n            // color: ['#23074d', '#cc5333'] // 紫红\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#1488CC', '#2B32B2'] // 浅蓝\n            color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n\n        }\n    },\n    /*工具按钮组*/\n    // toolbox: {\n    //     show: true,\n    //     orient: 'vertical',\n    //     left: 'right',\n    //     top: 'center',\n    //     feature: {\n    //         dataView: {\n    //             readOnly: false\n    //         },\n    //         restore: {},\n    //         saveAsImage: {}\n    //     }\n    // },\n    geo: {\n        show: true,\n        map: mapName,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false,\n            }\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#031525',\n                borderColor: '#3B5077',\n            },\n            emphasis: {\n                areaColor: '#2B91B7',\n            }\n        }\n    },\n    series: [{\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function(val) {\n                return val[1] / 3;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#05C3F9'\n                }\n            }\n        },\n        {\n            type: 'map',\n            map: mapName,\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    \n                    show: true\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#3B5077',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7'\n                }\n            },\n            animation: false,\n            data: data\n        },\n        {\n            name: '点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin', //气泡\n            symbolSize: function(val) {\n                var a = 1;\n                var b = 1;\n                b = 1;\n                return a * val[1] + b;\n            },\n            label: {\n                normal: {\n                    show: true,formatter: function (params) {return params.value[2];}\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F62157', //标志颜色\n                }\n            },\n            zlevel: 6,\n            data: convertData(data),\n        },\n        {\n            name: 'Top 5',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data.sort(function(a, b) {\n                return b.value - a.value;\n            }).slice(0, 5)), \n            symbolSize: function(val) {\n                return val[1] / 2;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: 'yellow',\n                    shadowBlur: 10,\n                    shadowColor: 'yellow'\n                }\n            },\n            zlevel:1\n        },\n\n    ]\n};\nmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-ojWRW-AwT50Y1p3OBOYxv52lhbv_3En","theme":"","layout":"","viewCount":272,"userName":"双***瀚","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVNl_-jjok.png?v=1609150258811","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"双***瀚"}}