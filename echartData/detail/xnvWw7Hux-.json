{"status":0,"data":{"cid":"xnvWw7Hux-","authorUid":"obd-o-UCp2Fm3JNwnwsVqPVwM_R9m33lsA6","authorUserName":"籍***静","title":"可点击的树","description":" 对外公开","latestVersion":5,"alwaysLatest":0,"createTime":"2021-10-13T01:42:19.000Z","lastUpdateTime":"2021-10-13T07:06:36.000Z","auth":1,"uid":"obd-o-UCp2Fm3JNwnwsVqPVwM_R9m33lsA6","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-13T07:06:36.000Z","code":"myChart.showLoading();\nvar data2 = [\n    {\n        name: '治安管理工作',\n        children: [\n            {\n                name: '娱乐场所治安管理',\n                children: [\n                    {\n                        name: '娱乐场所治安管理工作',\n                    },\n                ],\n            },\n            {\n                name: '安保工作',\n                children: [\n                    {\n                        name: '输油气管道安保工作',\n                    },\n                    {\n                        name: '校园安保工作',\n                    },\n                    {\n                        name: '节假日、重大活动、大型群众性活动安保和敏感期社会面管控工作',\n                    },\n                ],\n            },\n            {\n                name: '精神病人管控工作',\n                children: [\n                    {\n                        name: '精神病人肇事肇祸案事件',\n                    },\n                ],\n            },\n            {\n                name: '物流寄递业',\n                children: [\n                    {\n                        name: '物流寄递业治安管理工作',\n                    },\n                ],\n            },\n            {\n                name: '推进基层基础工作创新',\n                children: [\n                    {\n                        name: '加强派出所建设',\n                    },\n                ],\n            },\n            {\n                name: '地网建设工作',\n                children: [\n                    {\n                        name: '加强二',\n                        children: [\n                            {\n                                name: '加强',\n                                children: [\n                                    {\n                                        name: '加强派出所建设',\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n            {\n                name: '无人机管理',\n                children: [\n                    {\n                        name: '加强无人机管理',\n                    },\n                ],\n            },\n            {\n                name: '加强社会面巡逻防控',\n                children: [\n                    {\n                        name: '武装联勤巡逻',\n                    },\n                ],\n            },\n        ],\n    },\n];\n\nmyChart.hideLoading();\n\nmyChart.setOption(\n    (option = {\n        tooltip: {\n            backgroundColor: '#fff',\n            trigger: 'item',\n            // triggerOn: 'none',\n            textStyle: {\n                color: '#333',\n            },\n            enterable:true,\n            borderWidth: '1',\n            formatter: function (params) {\n                console.log(params);\n                let menu = `<ul>\n                    <li><a href=\"javascript:alert()\">11111111</a></li>\n                </ul>`;\n                return menu;\n            },\n        },\n        series: [\n            {\n                roam:true,\n                itemStyle: {\n                    color: 'rgba(0, 149, 255, 1)',\n                },\n                type: 'tree',\n                name: '治安管理工作',\n                data: data2,\n                top: 5,\n                right: '10%',\n                left: '10%',\n                symbolSize: 8,\n                bottom: 5,\n                // symbol:'roundRect',\n                initialTreeDepth: 10,\n                label: {\n                    position: 'left',\n                    verticalAlign: 'middle',\n                    align: 'left',\n                    backgroundColor: '#fafafa',\n                    // color: '#333',\n                    padding: [2,2,2,10],\n                    borderRadius: 50,\n                    width: 80,\n                    height: 30,\n                    distance:96,\n                    lineOverflow: 'truncate',\n                    overflow: 'truncate',\n                    formatter: ['{b}'].join('\\n'),\n                        // rich: {\n                        //     box: {\n                        //         fontSize: 12,\n                        //         width: 80,\n                        //         height: 30,\n\n                        //         color: '#222',\n                        //         padding: [0, 6],\n                        //         align: 'middle',\n                        //     },\n                        // },\n                },\n                // leaves: {\n                //     label: {\n                //         normal: {\n                //             position: 'right',\n                //             verticalAlign: 'middle',\n                //             align: 'left',\n                //             backgroundColor: '#c44eff',\n                //             formatter: ['{box|{b}}'].join('\\n'),\n                //             rich: {\n                //                 box: {\n                //                     height: 18,\n                //                     // color: '#fff',\n                //                     padding: [0, 5],\n                //                     align: 'center',\n                //                 },\n                //             },\n                //         },\n                //     },\n                // },\n                expandAndCollapse: false,\n                animationDuration: 550,\n                animationDurationUpdate: 750,\n            },\n        ],\n    })\n);\nmyChart.on('click', function (params) {\n    console.log(params)\n    if (params.event.target.type == 'path') {\n        //此处点击圈\n        myChart.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            dataIndex: params.dataIndex,\n        });\n    } else {\n        //此处点击label\n        myChart.dispatchAction({\n            type: 'showTip',\n            dataIndex: params.dataIndex,\n            seriesIndex: params.seriesIndex,\n        });\n    }\n});\nmyChart.getZr().on('click', function (event) {\n    myChart.dispatchAction({\n        type: 'hideTip',\n    });\n});\n","html":"","externalScripts":"","updaterUID":"obd-o-UCp2Fm3JNwnwsVqPVwM_R9m33lsA6","theme":"","layout":"","viewCount":0,"userName":"籍***静","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnvWw7Hux-.png?v=1634108796239","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"籍***静"}}