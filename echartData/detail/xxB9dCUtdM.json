{"status":0,"data":{"cid":"xxB9dCUtdM","authorUid":"bd-844036409","authorUserName":"157*****844","title":"地图功能练习","description":"","latestVersion":10,"alwaysLatest":1,"createTime":"2020-12-16T09:39:09.000Z","lastUpdateTime":"2021-09-06T01:06:43.000Z","auth":1,"uid":"bd-844036409","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-06T01:06:43.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1608087672952-T5R7GEXzy.json';\n\nmyChart.showLoading();\n\n// 散点图数据\ndata = [\n    {\n        name: '北京',\n        value: [116.24, 39.55, 100],\n    },\n    {\n        name: '深圳',\n        value: [114.271522, 22.753644],\n    },\n\n    {\n        name: '重庆',\n        value: [106.54, 29.59],\n    },\n    {\n        name: '浙江',\n        value: [120.19, 30.26],\n    },\n];\n// 小框数据\nlet LableData = [\n    {\n        name: '北京',\n        coords: [\n            [116.24, 39.55, 0],\n            [118.24, 41.55, 50]\n        ], // 线条位置[开始位置，结束位置]\n        value: [10.21, 1.2],\n    },\n    {\n        name: '深圳',\n        coords: [\n            [114.271522, 22.753644],\n            [116, 18.55, 100],\n        ], // 线条位置[开始位置，结束位置]\n        value: [10.21, 1.2],\n    },\n    {\n        name: '重庆',\n        coords: [\n            [106.54, 29.59],\n            [97, 17],\n        ], // 线条位置[开始位置，结束位置]\n        value: [10.21, 1.2],\n    },\n    {\n        name: '浙江',\n        coords: [\n            [120.19, 30.26],\n            [128.24, 35.55, 100],\n        ], // 线条位置[开始位置，结束位置]\n        value: [10.21, 1.2],\n    },\n];\nlet flowLineColor = '#4699b1'; //流动线条颜色\n\nlet activeAreaName = '';\nmyChart.on('mouseover', ({ name }) => {\n    if (activeAreaName !== name) {\n        activeAreaName = name;\n        handleChangeOption();\n    }\n});\nmyChart.on('globalout', () => {\n    activeAreaName = '';\n    handleChangeOption();\n});\n\nfunction handleChangeOption() {\n    option = {\n        backgroundColor: '#fff',\n        geo: [\n            {\n                map: 'china',\n                aspectScale: 0.85,\n                roam: false,\n                layoutCenter: ['50%', '50%'], //地图位置\n                layoutSize: '100%',\n                zlevel: 2,\n                silent: true,\n                itemStyle: {\n                    areaColor: {\n                        type: 'radial',\n                        x: 650,\n                        y: 520,\n                        r: 300,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#eee', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#eee', // 100% 处的颜色\n                            },\n                        ],\n                        global: true, // 缺省为 false\n                    },\n                    borderColor: '#d4d4d4',\n                    borderWidth: 2,\n                },\n            }\n        ],\n        series: [\n            // 散点 effectScatter\n            {\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                zlevel: 2,\n                symbolSize: 10,\n                rippleEffect: {\n                    //坐标点动画\n                    period: 0,\n                    scale: 10,\n                    brushType: 'fill',\n                },\n                label: {\n                    show: false,\n                },\n\n                data: data,\n                itemStyle: {\n                    //坐标点颜色\n                    normal: {\n                        show: true,\n                        color: flowLineColor,\n                        shadowBlur: 1,\n                        shadowColor: '#fff',\n                    },\n                    emphasis: {\n                        areaColor: '#4699b1',\n                    },\n                },\n            },\n            {\n                type: 'lines',\n                zlevel: 3,\n                symbol: 'circle',\n                symbolSize: [5, 5],\n                color: '#4699b1',\n                opacity: 1,\n                label: {\n                    show: true,\n                    padding: [0, 10],\n                    color: '#000',\n                    borderWidth: 2,\n                    borderRadius: 6,\n                    formatter(params) {\n                        let arr = [params.name ];\n                        return arr.join('\\n');\n                    },\n                    textStyle: {\n                        align: 'left',\n                        lineHeight: 20,\n                    },\n                },\n                lineStyle: {\n                    type: 'solid',\n                    color: '#4699b1',\n                    width: 1,\n                    opacity: 1,\n                },\n                data: LableData,\n            },\n        ],\n    };\n    myChart.setOption(option, true);\n}\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('china', geoJson);\n    echarts.registerMap('china2', geoJson);\n    handleChangeOption();\n    myChart.hideLoading();\n});\n","html":"","externalScripts":"","updaterUID":"obd-oMizjY1mU-CbpswVFgpQbzisxb-UV2k","theme":"","layout":"","viewCount":1424,"userName":"157*****844","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxB9dCUtdM.png?v=1630890403461","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map"],"customTags":[],"updaterUserName":"鱼***丶"}}