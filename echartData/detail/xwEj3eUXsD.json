{"status":0,"data":{"cid":"xwEj3eUXsD","authorUid":"obd-ojhmcZ6ihEeb0PLMzAC4bccFUN0WfDQ","authorUserName":"伯***o","title":"双向柱状图排名对比","description":"双向柱状图排名对比","latestVersion":10,"alwaysLatest":1,"createTime":"2020-07-26T11:35:40.000Z","lastUpdateTime":"2020-07-26T11:35:40.000Z","auth":1,"uid":"obd-ojhmcZ6ihEeb0PLMzAC4bccFUN0WfDQ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-18T03:05:50.000Z","code":"/**\r\n * 双向柱状图\r\n * 排名\r\n * 对比\r\n * \r\n * 参考一下作品，感谢相关作者\r\n * https://gallery.echartsjs.com/editor.html?c=xL00juR_Rr\r\n */\r\n\r\nlet data = {\r\n    etc: {\r\n        name: 'PC端',\r\n        data: [{\r\n            value: '22',\r\n            label: `PC端`\r\n        }, {\r\n            value: 23,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 4,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 56,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 32,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 5,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 9,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 48,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 48,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 48,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 19,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 23,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 43,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 34,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 53,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 12,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 34,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 34,\r\n            label: 'PC端'\r\n        }, {\r\n            value: 34,\r\n            label: 'PC端'\r\n        }]\r\n    },\r\n    notEtc: {\r\n        name: 'app',\r\n        data: [{\r\n            value: 5,\r\n            label: 'app'\r\n        }, {\r\n            value: 19,\r\n            label: 'app'\r\n        }, {\r\n            value: 23,\r\n            label: 'app'\r\n        }, {\r\n            value: 43,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 53,\r\n            label: 'app'\r\n        }, {\r\n            value: 12,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 19,\r\n            label: 'app'\r\n        }, {\r\n            value: 23,\r\n            label: 'app'\r\n        }, {\r\n            value: 43,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 53,\r\n            label: 'app'\r\n        }, {\r\n            value: 12,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }, {\r\n            value: 34,\r\n            label: 'app站'\r\n        }, {\r\n            value: 34,\r\n            label: 'app'\r\n        }]\r\n    },\r\n};\r\n\r\nlet legendData = [data.etc.name, data.notEtc.name];\r\nlet yAxisDataN = data.etc.data.map(e => e.label);\r\nlet yAxisDataV = data.notEtc.data.map(e => e.label);\r\nlet yAxisLabelN = data.etc.data.map(e => e.value).sort((a, b) => a - b);\r\nlet yAxisLabelV = data.notEtc.data.map(e => e.value).sort((a, b) => a - b);\r\nlet rankData = data.etc.data.map((item, index) => index)\r\n\r\nlet top = 60;\r\nlet bottom = 10;\r\nvar labelSetting = {\r\n    label: \"16\",\r\n    yLabel: \"16\"\r\n}\r\nvar option = {\r\n    title:{\r\n        text:\"\",\r\n        x:'center',\r\n        textStyle:{\r\n            color:\"#fff\",\r\n            fontSize:22\r\n        }\r\n    },\r\n    backgroundColor: \"#00000000\",\r\n    tooltip: {\r\n        show: true,\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n    legend: {\r\n        left: 'center',\r\n        top: 30,\r\n        itemWidth: 0, //图例标记的图形宽度\r\n        itemHeight: 0, //图例标记的图形高度\r\n        y: 'center',\r\n        borderRadius: 0,\r\n        inactiveColor: '#FFF',\r\n        formatter: (name) => {\r\n            if (name == data.etc.name) {\r\n\r\n                return '{a|' + name + '}'\r\n            } else {\r\n                return '{b|' + name + '}'\r\n            }\r\n        },\r\n        textStyle: {\r\n            rich: {\r\n                a: {\r\n                    padding: [8, 15, 8, 15],\r\n                    align: 'center',\r\n                    backgroundColor: \"#298bf6\",\r\n                    color: '#fff',\r\n\r\n                },\r\n                b: {\r\n                    padding: [8, 15, 8, 15],\r\n                    align: 'center',\r\n                    backgroundColor: \"#f9c807\",\r\n                    color: '#fff',\r\n                }\r\n            }\r\n        },\r\n        data: legendData\r\n    },\r\n    grid: [{\r\n        right: '60%',\r\n        containLabel: false,\r\n        bottom,\r\n        top,\r\n    }, {\r\n        left: '50%',\r\n        width: 0,\r\n        top: top,\r\n        bottom: bottom\r\n    }, {\r\n        left: '60%',\r\n        containLabel: false,\r\n        bottom,\r\n        top\r\n    }],\r\n    xAxis: [{\r\n        type: 'value',\r\n        inverse: true,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n    }, {\r\n        gridIndex: 1,\r\n        show: false\r\n    }, {\r\n        gridIndex: 2,\r\n        type: 'value',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n    }],\r\n    yAxis: [{\r\n            position: 'right',\r\n            axisLabel: {\r\n                color: '#fff',\r\n                fontSize: labelSetting.yLabel\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            type: 'category',\r\n            inverse: false,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data: yAxisDataN\r\n        },\r\n        {\r\n            gridIndex: 1,\r\n            position: 'center',\r\n            type: 'category',\r\n            inverse: true,\r\n            axisLabel: {\r\n                show: true,\r\n                margin: 0,\r\n                color: \"#fff\",\r\n                fontSize: labelSetting.yLabel\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            data: []\r\n        },\r\n        {\r\n            gridIndex: 2,\r\n            position: 'left',\r\n            axisLabel: {\r\n                color: `#fff`,\r\n                fontSize: labelSetting.yLabel\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            type: 'category',\r\n            inverse: false,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data: yAxisDataV\r\n        }\r\n    ],\r\n    series: [{\r\n            name: legendData[0],\r\n            type: 'bar',\r\n            barWidth: '50%',\r\n            label: {\r\n                show: true,\r\n                fontFamily: 'Rubik-Medium',\r\n                fontSize: labelSetting.label,\r\n                distance: 10,\r\n                color: '#fff',\r\n                position: 'left',\r\n                formatter: function(params) {\r\n                    return params.value + '%'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                color: '#298bf6',\r\n            },\r\n            data: yAxisLabelN\r\n        },\r\n        {\r\n            type: 'bar',\r\n            barWidth: '50%',\r\n            label: {\r\n                show: true,\r\n                fontFamily: 'Rubik-Medium',\r\n                fontSize: labelSetting.label,\r\n                distance: 10,\r\n                color: '#fff',\r\n                position: 'right',\r\n                formatter: function(params) {\r\n                    return params.value + '%'\r\n                }\r\n            },\r\n            xAxisIndex: 2,\r\n            yAxisIndex: 2,\r\n            name: legendData[1],\r\n            itemStyle: {\r\n                color: '#f9c807',\r\n            },\r\n            data: yAxisLabelV\r\n        },\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o2cadfIem6LqCOL2nEtG90_0NUkyq6s","theme":"","layout":"","viewCount":4540,"userName":"伯***o","commentCount":0,"starCount":17,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwEj3eUXsD.png?v=1597719950207","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":["对比","排名","断面"],"updaterUserName":"百度用户#972737979"}}