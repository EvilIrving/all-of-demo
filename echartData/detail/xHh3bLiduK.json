{"status":0,"data":{"cid":"xHh3bLiduK","authorUid":"bd-1896067372","authorUserName":"a***6","title":"仪表盘","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2018-10-10T02:44:43.000Z","lastUpdateTime":"2018-10-10T02:44:43.000Z","auth":2,"uid":"bd-1896067372","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-13T03:43:04.000Z","code":"var colorDetail = '';\n\nfunction detectionData(air) {\n    var color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n    [{\n        offset: 0,\n        color: '#79E73C'\n    }, {\n        offset:1,\n        color: '#79E73C'\n    }]);\n    var level = '优'\n    if (air > 50 && air <= 100) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#FFD800'\n        }, {\n            offset:1,\n            color: '#FFD800'\n        }]);\n        level = '良'\n    } else if (air > 100 && air <= 150) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#FF9000'\n        }, {\n            offset:1,\n            color: '#FF9000'\n        }]);\n        level = '轻度污染'\n    } else if (air > 150 && air <= 200) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#FF2A00'\n        }, {\n            offset:1,\n            color: '#FF2A00'\n        }]);\n         level = '中度污染'\n    } else if (air > 200 && air <= 300) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#EB007F'\n        }, {\n            offset:1,\n            color: '#EB007F'\n        }]);\n        level = '重度污染'\n    } else if (air > 300) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#C7021D'\n        }, {\n            offset:1,\n            color: '#C7021D'\n        }]);\n        level = '严重污染'\n    }\n    return {\n        color: color,\n        level: level\n    };\n}\noption = {\n    backgroundColor: '#143E69',\n    series: [\n        {\n            name: '业务',\n            type: 'gauge',\n            radius: '100%',\n            animationDuration: 6000,\n            animationThreshold: 8000,\n            animationDelay: 10,\n            startAngle: 245,\n            endAngle: -65,\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: [[0, '#eee'], [1, '#4675BD']],\n                }\n            },\n            splitLine: {show: false},\n            axisTick: {show: false},\n            axisLabel: {show: false},\n            splitLabel: {show: false},\n            pointer: {show: false},\n            itemStyle: {\n                borderWidth: 30,\n                color: '#000',\n            },\n            title: {\n                offsetCenter: [0, '-20%'],\n                color: '#FFFFFF',\n                fontSize: 50,\n                fontWeight: 700\n            },\n            detail: {\n                formatter:function(e){\n                    var {color, level} = detectionData(e);\n                    return level;\n                },\n                color: '#fff',\n                offsetCenter: [0, '30%'],\n                backgroundColor : 'orange',\n                borderRadius : 8,\n                padding: 10,\n                lineHeight: 40\n            },\n            data: [{value: '0', name: 'AQI'}]\n        }\n    ],\n};\nupdate(Math.random() * 500 | 0)\nsetInterval(function() {\n    update(Math.random() * 500 | 0)\n}, 1000);\nfunction update(value) {\n    var {color, level} = detectionData(value);\n    option.series[0].data[0].value = value;\n    option.series[0].data[0].name = `AQI\\n\\n${value}`;\n    //这里颜色跟着改变\n    option.series[0].detail.backgroundColor = color.colorStops[1].color;\n    option.series[0].axisLine.lineStyle.color[0][0] = value / 500;\n    option.series[0].axisLine.lineStyle.color[0][1] = color;\n    myChart.setOption(option, true);\n}\n\n","html":"","externalScripts":"","updaterUID":"bd-1896067372","theme":"","layout":"","viewCount":1518,"userName":"a***6","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHh3bLiduK.png?v=1539402184389","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge"],"customTags":[],"updaterUserName":"a***6"}}