{"status":0,"data":{"cid":"xNBGcIy5R_","authorUid":"bd-1101197343","authorUserName":"名***取","title":"横向排列","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2019-05-22T09:38:04.000Z","lastUpdateTime":"2019-05-22T09:38:04.000Z","auth":2,"uid":"bd-1101197343","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-30T09:06:01.000Z","code":"// 左右两侧的数据个数要一样(positive 和 negative), 如果不一样会排列不整齐, 数量少的用空字符串代替 \nvar positive = ['校园班级文明', '洁净班级', '好人好事', '担任学校学生会干部', '年段竞赛', '校级竞赛', ''];\nvar negative = ['未经允许使用手机', '迟到', '缺席', '未穿校服', '化妆', '迟交作业', '缺交作业'];\nvar good = [50, 28, 80, 65, 68, 60, 35];\nvar bad = [-50, -28, -40, -45, -38, -58];\n\nfunction xAxisFn(i) {\n    return {\n        type: 'value',\n        gridIndex: i || 0,\n        // min: 0,\n        // max: 100,\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        }\n    }\n}\n\n// 控制文字显示的和对齐方法之一\nfunction yAxisFn(idx, data, bool) {\n    // 这种对齐方法，自适应方面无适应, 需要另外写, 因此最好用第二种方法 typesetting()\n    function isWho() {\n        var obj = {\n            show: true,\n            color: '#fff',\n            fontSize: 14,\n        };\n        if (bool) {\n            // 右对齐\n            obj.align = 'right';\n            obj.padding = [0, -380, 0, 0];\n            obj.verticalAlign = 'bottom';\n            obj.lineHeight = 58;\n        } else {\n            // 左对齐\n            obj['align'] = 'left';\n            obj['padding'] = [0, 0, 0, 25];\n            obj['verticalAlign'] = 'bottom';\n            obj['lineHeight'] = 58;\n        }\n        return obj\n    }\n    return {\n        type: 'category',\n        gridIndex: idx || 0,\n        inverse: true,\n        data: data || '',\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: isWho()\n    }\n}\noption = {\n    backgroundColor: '#0e4b86',\n    color: ['#00b807', '#ff6600'],\n    title: {\n        text: '行为看板',\n        top: 15,\n        left: 20,\n        padding: [7, 21],\n        backgroundColor: '#3256a9',\n        borderColor: '#3c62c0',\n        borderWidth: 1,\n        textStyle: {\n            color: '#fff',\n            fontSize: 14\n        }\n    },\n    legend: {\n        orient: 'horizontal', // 'vertical'\n        top: 15,\n        right: '5%',\n        data: ['正向', '违纪'],\n        itemWidth: 20,\n        itemHeight: 20,\n        itemGap: 25, // 例间距\n        textStyle: {\n            fontSize: 14,\n            color: '#fff'\n        }\n    },\n    tooltip: {\n        show: true,\n        trigger: 'axis',\n        axisPointer: {\n            type: \"none\" // shadow\n        },\n        textStyle: {\n            fontSize: 20\n        },\n        formatter: function(a) {\n            var v = a[0];\n            if (!v.name) return\n            return v.name + '<br/>' + v.marker + v.seriesName + '：' + Math.abs(v.value);\n        }\n    },\n    // 滚动条\n    dataZoom: [{\n            type: 'slider',\n            show: true,\n            yAxisIndex: [0, 1],\n            // top: '25%',\n            right: '5%',\n            // bottom: '15%',\n            width: 25,\n            start: 0,\n            end: 80,\n            handleSize: '0', // 滑动条的 左右2个滑动小块的大小\n            handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\n            textStyle: {\n                color: \"#fff\"\n            },\n            fillerColor: '#3C62C0', // 拖动条的颜色\n            borderColor: \"none\",\n            backgroundColor: 'rgba(60, 98, 192, 0.302)',\n            showDetail: false // 即拖拽时候是否显示详细数值信息 默认true\n        },\n        {\n            type: 'inside',\n            yAxisIndex: [0, 1],\n            start: 1,\n            end: 80,\n            zoomLock: true // 取消鼠标滚轮的放大放小功能, 只能拖动\n        }\n    ],\n    xAxis: [xAxisFn(0), xAxisFn(1)],\n    yAxis: [yAxisFn(0, positive, 1), yAxisFn(1, negative, 0)],\n    grid: [{\n            width: '40%',\n            left: '8%',\n            height: '80%',\n            gridIndex: 0,\n        },\n        {\n            width: '40%',\n            left: '50%',\n            height: '80%',\n            gridIndex: 1,\n        }\n    ],\n    series: [\n        seriesFn('正向', 0, bad, [30, 0, 0, 30], 1),\n        seriesFn('违纪', 1, good, [0, 30, 30, 0], 0)\n    ]\n};\n\n/**\n * \n * @param name    name\n * @param idx     xAxisIndex / yAxisIndex\n * @param data    data 数据\n * @param radius  barBorderRadius\n * @param bool    布尔值 1 / 0, 控制文字顶部左 / 右对齐显示\n */\nfunction seriesFn(name, idx, data, radius, bool) {\n    return {\n        name: name || '',\n        type: 'bar',\n        barGap: '30%',\n        barWidth: '20',\n        xAxisIndex: idx || 0,\n        yAxisIndex: idx || 0,\n        itemStyle: {\n            normal: {\n                barBorderRadius: radius,\n                borderWidth: 0\n            }\n        },\n        label: typesetting(bool),\n        data: data || '',\n        // zlevel: 5\n    }\n}\n\n// 定义文字排版方式之方法二\nfunction typesetting(bool) {\n    var obj = {\n        show: true,\n        color: 'red',\n        fontSize: 15,\n        formatter: '{b}',\n    };\n    if (bool) {\n        // 右边\n        obj.align = 'right';\n        obj.padding = [0, 10, 100, 0];\n        obj.position = 'right';\n        // obj.formatter = function(v) {}\n    } else {\n        // 左边\n        obj['align'] = 'left';\n        obj['padding'] = [0, 0, 100, 10];\n        obj['position'] = 'left';\n        // obj['formatter'] = function(v) {}\n    }\n    return obj\n}","html":"","externalScripts":"","updaterUID":"bd-1101197343","theme":"","layout":"","viewCount":3394,"userName":"名***取","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xNBGcIy5R_.png?v=1559207161771","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"名***取"}}