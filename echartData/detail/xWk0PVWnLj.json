{"status":0,"data":{"cid":"xWk0PVWnLj","authorUid":"bd-3244135873","authorUserName":"金***1","title":"蓄电池总电压采集值对比","description":"根据阈值动态改变柱子颜色","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-07T07:10:07.000Z","lastUpdateTime":"2021-09-07T07:10:07.000Z","auth":2,"uid":"bd-3244135873","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-07T07:10:07.000Z","code":"let barColor = {\n   green: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n        offset: 0,\n        color: '#2AFF4C'\n    }, {\n        offset: 1,\n        color: '#28B441'\n    }], false),\n    red: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n        offset: 0,\n        color: '#ff2d1d'\n    }, {\n        offset: 1,\n        color: '#c9281b'\n    }], false),\n    yellow: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n        offset: 0,\n        color: '#FEFF5B'\n    }, {\n        offset: 1,\n        color: '#D8D95D'\n    }], false)\n};\n\n/**\n * 获取随机数\n */\nfunction random(min, max) {\n    return (Math.random() * (max - min) + min).toFixed(2);\n}\n\n// 加载数据\nlet lineX = [], values = [];\nfor (let i = 1; i < 16; i++) {\n    lineX.push(\"电池\"+i);\n    values.push(parseFloat(random(38,66)));\n}\nlet lineY = [\n    {\n        name: \"总电压\",\n        type: 'bar',\n        barMaxWidth: 25,\n        itemStyle: {\n            barBorderRadius: [5, 5, 0, 0], // 圆角（左上、右上、右下、左下）\n            color: function (params) {\n                if (params.value < 48) {\n                    return barColor.red;\n                } else if (params.value > 56.5) {\n                    return barColor.yellow;\n                } else {\n                    return barColor.green;\n                }\n            },\n        },\n        data: values,\n    },\n];\nlet charts = {\n    lineX: lineX,\n    lineY: lineY\n}\n\noption = {\n    backgroundColor: '#081832',\n    title:{\n        text: '蓄电池总电压采集值对比',\n        subtext : \"根据阈值动态改变柱子颜色\",\n        textStyle: {\n            color: '#fff'\n        },\n        subtextStyle : {\n\t\t\tcolor : '#ddd',\n\t\t\tfontSize : 13\n\t\t},\n        x : 'center'\n    },\n    tooltip: {\n        trigger: 'axis',\n        textStyle: {\n            color: '#ffffff',\n        },\n        backgroundColor: 'rgba(50,50,50,0.6)',\n        transitionDuration: 0,\n        axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n        },\n        confine: true,\n    },\n    grid: {\n        top: '10%',\n        left: '20',\n        right: '20',\n        bottom: '15',\n        containLabel: true,\n    },\n    xAxis: {\n        type: 'category',\n        data: charts.lineX,\n        axisLabel: {\n            textStyle: {\n                color: '#3dbaff',\n            },\n            interval: 0,\n            rotate: 40,\n        },\n    },\n    yAxis: {\n        type: 'value',\n        name:'V',\n        axisLabel: {\n            formatter: '{value}',\n            textStyle: {\n                color: '#3dbaff',\n            },\n        },\n        splitLine: {\n            lineStyle: {\n                color: 'rgb(23,255,243,0.3)',\n            },\n        },\n        axisLine: {\n            lineStyle: {\n                color: 'rgb(0,253,255,0.6)',\n            },\n        },\n        scale: true,\n        min: function (value) {\n            return value.min - 2 > 0 ? parseInt(value.min - 2) : value.min < 0 ? value.min : 0;\n        },\n    },\n    series: charts.lineY,\n};\n","html":"","externalScripts":"","updaterUID":"bd-3244135873","theme":"","layout":"","viewCount":0,"userName":"金***1","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWk0PVWnLj.png?v=1630998607488","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"金***1"}}