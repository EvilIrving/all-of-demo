{"status":0,"data":{"cid":"xSSmWGofET","authorUid":"obd-ojgmOxBqeNJ8lUjNLecnPil8WYjxjD7","authorUserName":"l***a","title":"2013~2019年中国各个地区普通高中毕业生情况","description":"数据来源，国家统计年鉴（单位：人）","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-28T09:06:07.000Z","lastUpdateTime":"2020-12-28T09:06:07.000Z","auth":2,"uid":"obd-ojgmOxBqeNJ8lUjNLecnPil8WYjxjD7","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T09:06:07.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\r\n\r\n//geoCoordMap把所有可能出现的城市加到数组里面\r\nvar geoCoordMap = {\r\n     '北京': [116.46, 39.92],\r\n    \"天津\": [117.2, 39.13],\r\n    \"河北\": [114.48,38.03],\r\n    \"山西\": [112.53,37.87],\r\n    \"内蒙古\": [111.65,40.82],\r\n     \r\n    \"辽宁\": [123.38,41.8],\r\n    \"吉林\": [125.35,43.88],\r\n    \"黑龙江\": [126.63,45.75],\r\n    \r\n    '上海': [121.48, 31.22],\r\n    \"江苏\": [118.78,32.04],\r\n    \"浙江\": [120.19,30.26],\r\n    \"安徽\": [117.27,31.86],\r\n    \"福建\": [119.3,26.08],\r\n    \"江西\": [115.89,28.68],\r\n    \"山东\": [117,36.65],\r\n    \r\n    \"河南\": [113.65,34.76],\r\n    \"湖北\": [114.31,30.52],\r\n    \"湖南\": [113,28.21],\r\n    \"广东\": [113.23,23.16],\r\n    \"广西\": [108.33,22.84],\r\n    \"海南\": [110.35,20.02],\r\n    \r\n    \"重庆\": [106.54, 29.59],\r\n    \"四川\": [104.06,30.67],\r\n    \"贵州\": [106.71,26.57],\r\n    \"云南\": [102.73,25.04],\r\n    \"西藏\": [91.11,29.97],\r\n    \r\n    \"陕西\": [108.95,34.27],\r\n    \"甘肃\": [103.73,36.03],\r\n    \"青海\": [101.74,36.56],\r\n    \"宁夏\": [106.27,38.47],\r\n    \"新疆\": [87.68,43.77],\r\n\r\n};\r\n\r\n//2013年数据\r\nvar d1 = {\r\n    '北京': 58072,\r\n    \"天津\": 61167,\r\n    \"河北\": 404522,\r\n    \"山西\": 286103,\r\n    \"内蒙古\": 161587,\r\n\r\n    \"辽宁\": 231626,\r\n    \"吉林\": 157117,\r\n    \"黑龙江\": 206088,\r\n    \r\n    '上海': 52675,\r\n    \"江苏\": 425924,\r\n    \"浙江\": 296105,\r\n    \"安徽\": 416723,\r\n    \"福建\": 231800,\r\n    \"江西\": 240907,\r\n    \"山东\": 509383,\r\n    \r\n    \"河南\": 631289,\r\n    \"湖北\": 391211,\r\n    \"湖南\": 316720,\r\n    \"广东\": 723659,\r\n    \"广西\": 241922,\r\n    \"海南\": 53651,\r\n    \r\n    \"重庆\": 214128,\r\n    \"四川\": 485487,\r\n    \"贵州\": 210409,\r\n    \"云南\": 209987,\r\n    \"西藏\": 14734,\r\n    \r\n    \"陕西\": 317569,\r\n    \"甘肃\": 216530,\r\n    \"青海\": 33081,\r\n    \"宁夏\": 49770,\r\n    \"新疆\": 139843,\r\n};\r\n\r\n//2014年数据\r\nvar d2 = {\r\n  '北京': 57773,\r\n    \"天津\": 61100,\r\n    \"河北\": 361988,\r\n    \"山西\": 273507,\r\n    \"内蒙古\": 162138,\r\n\r\n    \"辽宁\": 231520,\r\n    \"吉林\": 155501,\r\n    \"黑龙江\": 198990,\r\n    \r\n    '上海': 50971,\r\n    \"江苏\": 396668,\r\n    \"浙江\": 296640,\r\n    \"安徽\": 429396,\r\n    \"福建\": 227273,\r\n    \"江西\": 277005,\r\n    \"山东\": 543232,\r\n    \r\n    \"河南\": 602825,\r\n    \"湖北\": 349485,\r\n    \"湖南\": 320363,\r\n    \"广东\": 728690,\r\n    \"广西\": 253288,\r\n    \"海南\": 58466,\r\n    \r\n    \"重庆\": 221234,\r\n    \"四川\": 504932,\r\n    \"贵州\": 238495,\r\n    \"云南\": 221640,\r\n    \"西藏\": 16182,\r\n    \r\n    \"陕西\": 304394,\r\n    \"甘肃\": 223828,\r\n    \"青海\": 32367,\r\n    \"宁夏\": 54966,\r\n    \"新疆\": 141332,\r\n};\r\n//2015年数据\r\nvar d3 = {\r\n    '北京': 57738,\r\n    \"天津\": 58350,\r\n    \"河北\": 352416,\r\n    \"山西\": 283568,\r\n    \"内蒙古\": 165936,\r\n\r\n    \"辽宁\": 223546,\r\n    \"吉林\": 139932,\r\n    \"黑龙江\": 193938,\r\n    \r\n    '上海': 51227,\r\n    \"江苏\": 368844,\r\n    \"浙江\": 270956,\r\n    \"安徽\": 433003,\r\n    \"福建\": 208113,\r\n    \"江西\": 287377,\r\n    \"山东\": 568865,\r\n    \r\n    \"河南\": 610455,\r\n    \"湖北\": 316918,\r\n    \"湖南\": 334954,\r\n    \"广东\": 726690,\r\n    \"广西\": 257331,\r\n    \"海南\": 60551,\r\n    \r\n    \"重庆\": 223647,\r\n    \"四川\": 497843,\r\n    \"贵州\": 280735,\r\n    \"云南\": 240680,\r\n    \"西藏\": 18109,\r\n    \r\n    \"陕西\": 290052,\r\n    \"甘肃\": 224408,\r\n    \"青海\": 35882,\r\n    \"宁夏\": 55417,\r\n    \"新疆\": 139054,\r\n};\r\n//2016年数据\r\nvar d4 = {\r\n     '北京': 52841,\r\n    \"天津\": 56059,\r\n    \"河北\": 368170,\r\n    \"山西\": 284423,\r\n    \"内蒙古\": 160737,\r\n\r\n    \"辽宁\": 216098,\r\n    \"吉林\": 138986,\r\n    \"黑龙江\": 190714,\r\n    \r\n    '上海': 51889,\r\n    \"江苏\": 338683,\r\n    \"浙江\": 259893,\r\n    \"安徽\": 388305,\r\n    \"福建\": 196997,\r\n    \"江西\": 302009,\r\n    \"山东\": 579148,\r\n    \r\n    \"河南\": 633076,\r\n    \"湖北\": 305669,\r\n    \"湖南\": 341973,\r\n    \"广东\": 703300,\r\n    \"广西\": 268465,\r\n    \"海南\": 58826,\r\n    \r\n    \"重庆\": 219224,\r\n    \"四川\": 496623,\r\n    \"贵州\": 307414,\r\n    \"云南\": 248914,\r\n    \"西藏\": 19964,\r\n    \r\n    \"陕西\": 277569,\r\n    \"甘肃\": 219083,\r\n    \"青海\": 38041,\r\n    \"宁夏\": 56075,\r\n    \"新疆\": 144332,\r\n};\r\n//2017年数据\r\nvar d5 = {\r\n     '北京': 49685,\r\n    \"天津\": 55239,\r\n    \"河北\": 376969,\r\n    \"山西\": 260270,\r\n    \"内蒙古\": 153262,\r\n\r\n    \"辽宁\": 202502,\r\n    \"吉林\": 130110,\r\n    \"黑龙江\": 181619,\r\n    \r\n    '上海': 51344,\r\n    \"江苏\": 317594,\r\n    \"浙江\": 246221,\r\n    \"安徽\": 376695,\r\n    \"福建\": 196523,\r\n    \"江西\": 301912,\r\n    \"山东\": 553774,\r\n    \r\n    \"河南\": 631394,\r\n    \"湖北\": 289536,\r\n    \"湖南\": 344076,\r\n    \"广东\": 676686,\r\n    \"广西\": 281761,\r\n    \"海南\": 56105,\r\n    \r\n    \"重庆\": 210874,\r\n    \"四川\": 490317,\r\n    \"贵州\": 323440,\r\n    \"云南\": 252177,\r\n    \"西藏\": 18339,\r\n    \r\n    \"陕西\": 266982,\r\n    \"甘肃\": 208113,\r\n    \"青海\": 38284,\r\n    \"宁夏\": 53632,\r\n    \"新疆\": 161857,\r\n   \r\n};\r\n//2018年数据\r\nvar d6 = {\r\n   '北京': 51065,\r\n    \"天津\": 53731,\r\n    \"河北\": 401065,\r\n    \"山西\": 247611,\r\n    \"内蒙古\": 146323,\r\n     \r\n    \"辽宁\": 206402,\r\n    \"吉林\": 133057,\r\n    \"黑龙江\": 180948,\r\n    \r\n    '上海': 51942,\r\n    \"江苏\": 312440,\r\n    \"浙江\": 253335,\r\n    \"安徽\": 369152,\r\n    \"福建\": 206080,\r\n    \"江西\": 304483,\r\n    \"山东\": 550112,\r\n    \r\n    \"河南\": 660798,\r\n    \"湖北\": 275641,\r\n    \"湖南\": 364539,\r\n    \"广东\": 646488,\r\n    \"广西\": 295808,\r\n    \"海南\": 57018,\r\n    \r\n    \"重庆\": 204087,\r\n    \"四川\": 479939,\r\n    \"贵州\": 330559,\r\n    \"云南\": 257036,\r\n    \"西藏\": 19133,\r\n    \r\n    \"陕西\": 263301,\r\n    \"甘肃\": 201083,\r\n    \"青海\": 39125,\r\n    \"宁夏\": 52262,\r\n    \"新疆\": 177880,\r\n};\r\n//2019年数据\r\nvar d7 = {\r\n     '北京': 50390,\r\n    \"天津\": 54368,\r\n    \"河北\": 427550,\r\n    \"山西\": 244365,\r\n    \"内蒙古\": 144760,\r\n     \r\n    \"辽宁\": 206749,\r\n    \"吉林\": 137352,\r\n    \"黑龙江\": 185865,\r\n    \r\n    '上海': 51624,\r\n    \"江苏\": 313885,\r\n    \"浙江\": 254026,\r\n    \"安徽\": 363296,\r\n    \"福建\": 210157,\r\n    \"江西\": 326947,\r\n    \"山东\": 551604,\r\n    \r\n    \"河南\": 679853,\r\n    \"湖北\": 274071,\r\n    \"湖南\": 379575,\r\n    \"广东\": 628523,\r\n    \"广西\": 326975,\r\n    \"海南\": 57354,\r\n    \r\n    \"重庆\": 206590,\r\n    \"四川\": 470039,\r\n    \"贵州\": 333356,\r\n    \"云南\": 272366,\r\n    \"西藏\": 19159,\r\n    \r\n    \"陕西\": 252235,\r\n    \"甘肃\": 193621,\r\n    \"青海\": 41582,\r\n    \"宁夏\": 47318,\r\n    \"新疆\": 186939,\r\n};\r\n\r\nvar colors = [\r\n    [\"#8378EA\",\"#F49F42\",\"#9FE6B8\",\"#BDA29A\",\"#E690D1\",\"#FFDB5C\",\"#73B9BC\"],\r\n    [\"#1DE9B6\", \"#F46E36\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#546570\", \"#C4CCD3\"],\r\n    [\"#37A2DA\", \"#67E0E3\", \"#32C5E9\", \"#9FE6B8\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#E690D1\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\"],\r\n    [\"#DD6B66\", \"#759AA0\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\"],\r\n];\r\nvar colorIndex = 0;\r\n$(function() {\r\n    var year = [\"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\",\"2019\"];\r\n    var mapData = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n\r\n    /*柱子Y名称*/\r\n    var categoryData = [];\r\n    var barData = [];\r\n\r\n    for (var key in geoCoordMap) {\r\n        mapData[0].push({\r\n            \"year\": '2013',\r\n            \"name\": key,\r\n            \"value\": d1[key],\r\n        });\r\n        mapData[1].push({\r\n            \"year\": '2014',\r\n            \"name\": key,\r\n            \"value\": d2[key],\r\n        });\r\n        mapData[2].push({\r\n            \"year\": '2015',\r\n            \"name\": key,\r\n            \"value\": d3[key],\r\n        });\r\n        mapData[3].push({\r\n            \"year\": '2016',\r\n            \"name\": key,\r\n            \"value\": d4[key],\r\n        });\r\n        mapData[4].push({\r\n            \"year\": '2017',\r\n            \"name\": key,\r\n            \"value\": d5[key],\r\n        });\r\n        mapData[5].push({\r\n            \"year\": '2018',\r\n            \"name\": key,\r\n            \"value\": d6[key],\r\n        });\r\n          mapData[6].push({\r\n            \"year\": '2019',\r\n            \"name\": key,\r\n            \"value\": d7[key],\r\n        });\r\n    }\r\n\r\n    for (var i = 0; i < mapData.length; i++) {\r\n        mapData[i].sort(function sortNumber(a, b) {\r\n            return a.value - b.value\r\n        });\r\n        barData.push([]);\r\n        categoryData.push([]);\r\n        for (var j = 0; j < mapData[i].length; j++) {\r\n            barData[i].push(mapData[i][j].value);\r\n            categoryData[i].push(mapData[i][j].name);\r\n        }\r\n    }\r\n\r\n    $.getJSON(uploadedDataURL, function(geoJson) {\r\n\r\n        echarts.registerMap('china', geoJson);\r\n        var convertData = function(data) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({\r\n                        name: data[i].name,\r\n                        value: geoCoord.concat(data[i].value)\r\n                    });\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n        \r\n        optionXyMap01 = {\r\n            timeline: {\r\n                data: year,\r\n                axisType: 'category',\r\n                autoPlay: true,\r\n                playInterval: 3000,\r\n                left: '10%',\r\n                right: '10%',\r\n                bottom: '3%',\r\n                width: '80%',\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                symbolSize: 10,\r\n                lineStyle: {\r\n                    color: '#555'\r\n                },\r\n                checkpointStyle: {\r\n                    borderColor: '#777',\r\n                    borderWidth: 2\r\n                },\r\n                controlStyle: {\r\n                    showNextBtn: true,\r\n                    showPrevBtn: true,\r\n                    normal: {\r\n                        color: '#666',\r\n                        borderColor: '#666'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa',\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n\r\n            },\r\n            baseOption: {\r\n                animation: true,\r\n                animationDuration: 1000,\r\n                animationEasing: 'cubicInOut',\r\n                animationDurationUpdate: 1000,\r\n                animationEasingUpdate: 'cubicInOut',\r\n                grid: {\r\n                    right: '1%',\r\n                    top: '15%',\r\n                    bottom: '10%',\r\n                    width: '30%'\r\n                },\r\n                tooltip: {\r\n                    trigger: 'axis', // hover触发器\r\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n                        shadowStyle: {\r\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\r\n                        }\r\n                    }\r\n                },\r\n                geo: {\r\n                    show: true,\r\n                    map: 'china',\r\n                    roam: true,\r\n                    zoom: 1,\r\n                    center: [113.83531246, 34.0267395887],\r\n                    label: {\r\n                        emphasis: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'rgba(147, 235, 248, 1)',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'radial',\r\n                                x: 0.5,\r\n                                y: 0.5,\r\n                                r: 0.8,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\r\n                                }],\r\n                                globalCoord: false // 缺省为 false\r\n                            },\r\n                            shadowColor: 'rgba(128, 217, 248, 1)',\r\n                            // shadowColor: 'rgba(255, 255, 255, 1)',\r\n                            shadowOffsetX: -2,\r\n                            shadowOffsetY: 2,\r\n                            shadowBlur: 10\r\n                        },\r\n                        emphasis: {\r\n                            areaColor: '#389BB7',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n            options: []\r\n\r\n        };\r\n\r\n        for (var n = 0; n < year.length; n++) {\r\n            optionXyMap01.options.push({\r\n                backgroundColor: '#013954',\r\n                title:\r\n                    [{\r\n                            text: '2013~2019年中国各个地区普通高中毕业生情况',\r\n                            subtext:'数据来源，国家统计年鉴（单位：人）',\r\n                            left: 'center',\r\n                            top: '5%',\r\n                            textStyle: {\r\n                                color: '#fff',\r\n                                fontSize: 18\r\n                            }\r\n                        },\r\n                        {\r\n                            id: 'statistic',\r\n                            text: year[n] + \"数据统计情况\",\r\n                            left: '75%',\r\n                            top: '7%',\r\n                            textStyle: {\r\n                                color: '#fff',\r\n                                fontSize: 15\r\n                            }\r\n                        }\r\n                    ],\r\n                xAxis: {\r\n                    type: 'value',\r\n                    scale: true,\r\n                    position: 'top',\r\n                    min: 0,\r\n                    boundaryGap: false,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        margin: 2,\r\n                        textStyle: {\r\n                            color: '#aaa'\r\n                        }\r\n                    },\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    //  name: 'TOP 20',\r\n                    nameGap: 16,\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show: false,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    data: categoryData[n]\r\n                },\r\n\r\n                series: [\r\n                    //地图\r\n                    {\r\n                        type: 'map',\r\n                        map: 'china',\r\n                        geoIndex: 0,\r\n                        aspectScale: 0.75, //长宽比\r\n                        showLegendSymbol: false, // 存在legend时显示\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            },\r\n                            emphasis: {\r\n                                show: false,\r\n                                textStyle: {\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        },\r\n                        roam: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#031525',\r\n                                borderColor: '#FFFFFF',\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2B91B7'\r\n                            }\r\n                        },\r\n                        animation: false,\r\n                        data: mapData\r\n                    },\r\n                    //地图中闪烁的点\r\n                    {\r\n                        //  name: 'Top 5',\r\n                        type: 'effectScatter',\r\n                        coordinateSystem: 'geo',\r\n                        data: convertData(mapData[n].sort(function(a, b) {\r\n                            return b.value - a.value;\r\n                        }).slice(0, 40)),\r\n                        symbolSize: function(val) {\r\n                            return val[2] / 40000;\r\n                        },\r\n                        showEffectOn: 'render',\r\n                        rippleEffect: {\r\n                            brushType: 'stroke'\r\n                        },\r\n                        hoverAnimation: true,\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{b}',\r\n                                position: 'right',\r\n                                show: true\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n],\r\n                                shadowBlur: 10,\r\n                                shadowColor: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        zlevel: 1\r\n                    },\r\n                    //柱状图\r\n                    {\r\n                        zlevel: 1.5,\r\n                        type: 'bar',\r\n                        barMaxWidth:8,\r\n                        symbol: 'none',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        data: barData[n]\r\n                    }\r\n                ]\r\n            })\r\n        }\r\n        myChart.setOption(optionXyMap01);\r\n    });\r\n});\r\n\r\n","html":"","externalScripts":"","updaterUID":"obd-ojgmOxBqeNJ8lUjNLecnPil8WYjxjD7","theme":"","layout":"","viewCount":334,"userName":"l***a","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSSmWGofET.png?v=1609146368286","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-map","timeline","title","tooltip"],"customTags":[],"updaterUserName":"l***a"}}