{"status":0,"data":{"cid":"xypFCIX5v","authorUid":"bd-1191663638","authorUserName":"s***1","title":"岑溪 多纬度","description":"岑溪 多纬度","latestVersion":3,"alwaysLatest":1,"createTime":"2019-12-13T02:02:45.000Z","lastUpdateTime":"2021-09-30T09:39:16.000Z","auth":2,"uid":"bd-1191663638","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-30T09:39:16.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1576122710336-HEDsN9Oj.json\";myChart.showLoading();\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('guangxi', geoJson);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n       '岑溪': [111.003154,22.925685],\r\n       '藤县': [110.989913,23.350225],\r\n       '合浦': [109.214017,21.66593],\r\n       '田阳': [106.920265,23.740418],\r\n       '兴业': [109.883847,22.743869],\r\n       '平桂': [111.502419,24.448841],\r\n       '覃塘': [109.464024,23.127934]\r\n    }\r\n    var data1 = [{\r\n            name: '藤县',\r\n            value: 100\r\n        }, {\r\n            name: '合浦',\r\n            value: 80\r\n        }, {\r\n            name: '田阳',\r\n            value: 90\r\n        }, {\r\n            name: '平桂',\r\n            value: 70\r\n        } , {\r\n            name: '覃塘',\r\n            value: 50\r\n        }\r\n    ];\r\n\tvar data2 = [{\r\n            name: '岑溪',\r\n            value: 120\r\n        },\r\n    ];\r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n\r\n    option = {  \r\n        backgroundColor:'#222',\r\n\t  tooltip: {\r\n\t\t \r\n               formatter : function(e){\r\n                   if (typeof(e.value)[2] == \"undefined\") {\r\n                       return e.name;\r\n                   }else{\r\n                       return e.name + ':' + e.value[2] + '家';\r\n                   }\r\n               }\r\n           },\r\n        legend: {\r\n            \r\n           // orient: 'vertical', 竖排 \r\n            top: '0',\r\n            right: 'center',\r\n            data: ['图例1','图例2'],\r\n            textStyle: {\r\n                color: '#fff',\r\n\t\t\t\tfontSize:16,\r\n            },\r\n\t\t\t//selectedMode : 'single'//单选模式\r\n        },\r\n\r\n        geo: {\r\n            map: 'guangxi',\r\n\t\t\tzoom: 1.1,//放大\r\n            type: 'map',\r\n            roam: true, //是否开启鼠标缩放和平移漫游\r\n\t\t\tlabel: {//区域名样式 \r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n\t\t\t\t\t\tfontSize:10,\r\n                        color: 'rgba(255,255,255,.1)'\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    textStyle: {\r\n                        color: 'rgba(255,255,255,1)'\r\n                    }\r\n                }\r\n            },\r\n\t\t\t\r\n\t\t\t itemStyle: {\r\n            normal: {\r\n                areaColor: 'rgba(0,97,225,.3)',\r\n                borderColor: 'rgba(255,255,255,.6)'\r\n            },\r\n            emphasis: {\r\n                areaColor: 'rgba(0,97,225,.5)',\r\n            }\r\n        }\r\n           \r\n        },\r\n        series: [\r\n\t\t\t{\r\n            name: '图例1',\r\n             type: 'effectScatter',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n\t\t\t\t  data: data1,\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data1),\r\n            symbolSize: function(val) {\r\n                return val[2] / 5;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    color: '#fff',\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#3bafff',\r\n                }\r\n            },\r\n            zlevel: 1\r\n        },\r\n\t\t\t{\r\n            name: '图例2',\r\n            type: 'effectScatter',\r\n\t\t\t\t rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n\t\t\tdata: data2,\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data2),\r\n            symbolSize: function(val) {\r\n                return val[2] / 5;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'bottom',\r\n                    color: '#fff',\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#00d488',\r\n                }\r\n            },\r\n           // zlevel: 1\r\n        },]\r\n    };\r\n    myChart.setOption(option);\r\n\r\n\t window.addEventListener(\"resize\",function(){\r\n            myChart.resize();\r\n\t\t\r\n        });\r\n});","html":"","externalScripts":"","updaterUID":"bd-1191663638","theme":"","layout":"","viewCount":55,"userName":"s***1","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xypFCIX5v.png?v=1632994756995","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","tooltip"],"customTags":[],"updaterUserName":"s***1"}}