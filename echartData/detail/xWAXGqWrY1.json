{"status":0,"data":{"cid":"xWAXGqWrY1","authorUid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","authorUserName":"阳***2","title":"人民币配款量趋势图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-20T01:41:32.000Z","lastUpdateTime":"2020-05-20T01:41:32.000Z","auth":2,"uid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-20T01:41:32.000Z","code":"var oldData = [{\n        \"ALLOCATION_DATE\": \"2020-05-01\",\n        \"COFFERS_NO\": \"第一金库\",\n        \"sumAmt\": 243.35\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-02\",\n        \"COFFERS_NO\": \"第一金库\",\n        \"sumAmt\": 40\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-03\",\n        \"COFFERS_NO\": \"第一金库\",\n        \"sumAmt\": 300\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-01\",\n        \"COFFERS_NO\": \"第二金库\",\n        \"sumAmt\": 100\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-02\",\n        \"COFFERS_NO\": \"第二金库\",\n        \"sumAmt\": 341.4514\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-03\",\n        \"COFFERS_NO\": \"第二金库\",\n        \"sumAmt\": 45.78\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-01\",\n        \"COFFERS_NO\": \"第三金库\",\n        \"sumAmt\": 89.6\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-02\",\n        \"COFFERS_NO\": \"第三金库\",\n        \"sumAmt\": 25.645\n    },\n    {\n        \"ALLOCATION_DATE\": \"2020-05-03\",\n        \"COFFERS_NO\": \"第三金库\",\n        \"sumAmt\": 7.685\n    },\n];\n\n\nvar dataset = {\n    source: [\n        ['product']\n    ]\n};\n\nlet coffersArr = [],\n    dateArr = [];\noldData.forEach((item) => {\n    if (dateArr.indexOf(item.ALLOCATION_DATE) < 0) {\n        dateArr.push(item.ALLOCATION_DATE);\n    }\n    if (coffersArr.indexOf(item.COFFERS_NO) < 0) {\n        coffersArr.push(item.COFFERS_NO);\n    }\n});\n\nfor (var i = 0; i < dateArr.length + 1; i++) {\n    if (i === 0) {\n        for (var j = 0; j < coffersArr.length; j++) {\n            dataset.source[i][j + 1] = coffersArr[j];\n        }\n    } else {\n        dataset.source[i] = [];\n        dataset.source[i][0] = dateArr[i - 1]\n    }\n}\n\nfor (var i = 1; i < dataset.source.length; i++) {\n    for (var j = 1; j < dataset.source[0].length; j++) {\n        for (var k = 0; k < oldData.length; k++) {\n            //console.log(i+'-'+j+'-'+k);\n            if (dataset.source[i][0] == oldData[k].ALLOCATION_DATE &&\n                dataset.source[0][j] == oldData[k].COFFERS_NO) {\n                dataset.source[i][j] = oldData[k].sumAmt;\n            }\n        }\n    }\n}\nconsole.log(dataset);\n/*\nvar dataset={\n    source: [\n        ['product', '第一金库', '第二金库', '第三金库'],\n        ['2020-05-01', 41.1, 30.4, 65.1],\n        ['2020-05-02', 86.5, 92.1, 85.7],\n        ['2020-05-03', 24.1, 67.2, 79.5]\n    ]\n};\nconsole.log(dataset);\n*/\n\nvar fontColor = '#30eee9';\n\noption = {\n    title: {\n        text: '人民币配款量趋势图',\n        top: '5%',\n        left: 'center',\n        textStyle: {\n            color: '#FFF',\n            align: 'center',\n        }\n    },\n    dataset: dataset,\n    backgroundColor: '#11183c',\n    grid: {\n        left: '9%',\n        right: '10%',\n        top: '20%',\n        bottom: '15%',\n        containLabel: true\n    },\n    tooltip: {\n        show: true,\n        trigger: 'item'\n    },\n    legend: {\n        show: true,\n        x: 'center',\n        top: '12%',\n        y: '35',\n        icon: 'stack',\n        itemWidth: 10,\n        itemHeight: 10,\n        textStyle: {\n            color: '#1bb4f6'\n        }\n    },\n    xAxis: [{\n        type: 'category',\n        boundaryGap: false,\n        axisLabel: {\n            color: fontColor\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: '#397cbc'\n            }\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: '#195384'\n            }\n        }\n\n    }],\n    yAxis: [{\n        type: 'value',\n        name: '配款量（万元）',\n        axisLabel: {\n            formatter: '{value}',\n            textStyle: {\n                color: '#2ad1d2'\n            }\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#27b4c2'\n            }\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#11366e'\n            }\n        }\n    }],\n    series: [{\n            name: '第一金库',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#0092f6',\n                    lineStyle: {\n                        color: \"#0092f6\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(0,146,246,0.9)'\n                        }]),\n                    }\n                }\n            },\n            markPoint: {\n                itemStyle: {\n                    normal: {\n                        color: 'red'\n                    }\n                }\n            }\n        },\n        {\n            name: '第二金库',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#00d4c7',\n                    lineStyle: {\n                        color: \"#00d4c7\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(0,212,199,0.9)'\n                        }]),\n                    }\n                }\n            },\n            markPoint: {\n                itemStyle: {\n                    normal: {\n                        color: 'red'\n                    }\n                }\n            }\n        },\n        {\n            name: '第三金库',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#aecb56',\n                    lineStyle: {\n                        color: \"#aecb56\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(114,144,89,0.9)'\n                        }]),\n                    }\n                }\n            },\n            markPoint: {\n                itemStyle: {\n                    normal: {\n                        color: 'red'\n                    }\n                }\n            }\n        }\n\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","theme":"","layout":"","viewCount":46,"userName":"阳***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWAXGqWrY1.png?v=1589938892809","isCustomThumbnail":0,"builtinTags":["category-work","dataset","grid","legend","markPoint","series-line","title","tooltip"],"customTags":[],"updaterUserName":"阳***2"}}