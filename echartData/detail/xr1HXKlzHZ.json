{"status":0,"data":{"cid":"xr1HXKlzHZ","authorUid":"bd-841732013","authorUserName":"亡心6","title":"买房投资与理财投资回报分析","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2017-07-11T07:07:08.000Z","lastUpdateTime":"2017-07-11T07:07:08.000Z","auth":2,"uid":"bd-841732013","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.6.2","versionCreateTime":"2017-07-11T08:53:53.000Z","code":"//app.title = '买房投资与理财投资回报分析';\r\n//等比数列求和\r\nfunction f_dbqh(_q,_n){\r\n    if(!_q){return _n;}\r\n    return (Math.pow(1+_q,_n)-1)/_q;\r\n}\r\n//等额本息\r\nfunction f_debx(_a,_q,_n){//_a:本金  _q:年化 _n:年数\r\n    _q=_q/12;_n=_n*12;\r\n    return (_a*_q*Math.pow(1+_q,_n))/(Math.pow(1+_q,_n)-1);\r\n}\r\n\r\nvar data0=[],\r\n    data1=[],\r\n    data2=[];\r\nfunction runData(){\r\n   //参数调整\r\n    var params={\r\n        fj_dz:0.1,     //房价递增率        参考值：杭州无\r\n        tz_ll:0.13,     //期望年化收益      参考值：余额宝0.04\r\n        fj:200,         //房价(装修在内)    参考值：杭州300，宁波150\r\n        sf:0.3,         //首付              参考值：杭州最低0.3\r\n        dk_ll:0.049,    //贷款利率等额本息  参考值：公积金0.0325，商贷0.049，杭州只能商贷(影响不大)\r\n        dk_nx:30,       //贷款年限          参考值：杭州最高30\r\n        zj_bl:0.04,     //年租金比例        参考值：商品房0.04，酒店公寓0.08\r\n        zj_dz:0,        //租金递增          参考值：可用0.05，由于计算房价递增该项填0\r\n        \r\n        sjall:50,       //总计算年限        参考值：最好比贷款年限高\r\n    }\r\n\r\n    params.nfd=f_debx(params.fj*(1-params.sf),params.dk_ll,params.dk_nx)*12;//每年房贷：每月房贷*12\r\n\r\n\r\n    for(var i=0;i<params.sjall;i++){\r\n        var fj_dn = params.fj * Math.pow(1 + params.fj_dz, i);          //当年房价\r\n        params.zc_fd = params.nfd * (i>30?30:i);                        //共支出房贷,30年后不用还\r\n        params.sy_fz = fj_dn*params.zj_bl*f_dbqh(params.zj_dz,i);       //共收益房租：房价*年租金比例*等比求和\r\n\r\n        var shouyi = params.sy_fz-params.zc_fd-params.fj*params.sf;    //第n年的购房投资收益：共收益房租-共支出房贷-首付\r\n        var tz_fz=params.fj*params.sf*Math.pow(1+params.tz_ll,i);       //用首付做理财投资收益\r\n        var tz_fd=params.nfd*f_dbqh(params.tz_ll,i>30?30:i);            //用房贷做理财投资收益\r\n        if(i>30){ tz_fd=tz_fd*Math.pow(1+params.tz_ll,i-30);}           //30年后房贷不用再还，理财投资不再计算每年房贷投入\r\n\r\n        data0.push(i);\r\n        data1.push(~~(tz_fz+tz_fd));\r\n        data2.push(~~(shouyi+fj_dn));\r\n    }\r\n}\r\nrunData();\r\n\r\n\r\nvar colors = ['#5793f3', '#d14a61', '#675bba'];\r\noption = {\r\n    color: colors,\r\n\r\n    tooltip: {\r\n        trigger: 'none',\r\n        axisPointer: {\r\n            type: 'cross'\r\n        }\r\n    },\r\n    legend: {\r\n        data:['买房投资', '理财投资']\r\n    },\r\n    grid: {\r\n        top: 70,\r\n        bottom: 50\r\n    },\r\n    xAxis: [\r\n        {\r\n            type: 'category',\r\n            axisTick: {\r\n                alignWithLabel: true\r\n            },\r\n            axisLine: {\r\n                onZero: false,\r\n                lineStyle: {\r\n                    color: colors[1]\r\n                }\r\n            },\r\n            axisPointer: {\r\n                label: {\r\n                    formatter: function (params) {\r\n                        return '买房投资，第' + params.value+\"年收益+房价：\"+params.seriesData[0].data+\"万\";\r\n                    }\r\n                }\r\n            },\r\n            data: data0\r\n        },\r\n        {\r\n            type: 'category',\r\n            axisTick: {\r\n                alignWithLabel: true\r\n            },\r\n            axisLine: {\r\n                onZero: false,\r\n                lineStyle: {\r\n                    color: colors[0]\r\n                }\r\n            },\r\n            axisPointer: {\r\n                label: {\r\n                    formatter: function (params) {\r\n                        return '理财投资，第' + params.value+\"年收益+本金：\"+params.seriesData[0].data+\"万\";\r\n                    }\r\n                }\r\n            },\r\n            data:data0\r\n        }\r\n    ],\r\n    yAxis: [\r\n        {\r\n            type: 'value'\r\n        }\r\n    ],\r\n    series: [\r\n        {\r\n            name:'买房投资',\r\n            type:'line',\r\n            xAxisIndex: 1,\r\n            smooth: true,\r\n            data: data1\r\n        },\r\n        {\r\n            name:'理财投资',\r\n            type:'line',\r\n            smooth: true,\r\n            data: data2\r\n        }\r\n    ]\r\n};\r\n","html":"","externalScripts":"","updaterUID":"bd-841732013","theme":"","layout":"","viewCount":105,"userName":"亡心6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1HXKlzHZ.png?v=1499763234079","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"亡心6"}}