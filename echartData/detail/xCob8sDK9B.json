{"status":0,"data":{"cid":"xCob8sDK9B","authorUid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","authorUserName":"z***6","title":" 未定","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-07-19T14:52:22.000Z","lastUpdateTime":"2021-07-19T14:52:22.000Z","auth":1,"uid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-19T14:52:22.000Z","code":"// 绘制左侧面\nconst CubeLeft = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    // 会canvas的应该都能看得懂，shape是从custom传入的\n    const xAxisPoint = shape.xAxisPoint;\n    const c0 = [shape.x, shape.y];\n    const c1 = [shape.x - 18, shape.y - 10];\n    const c2 = [xAxisPoint[0] - 18, xAxisPoint[1] - 9];\n    const c3 = [xAxisPoint[0], xAxisPoint[1]];\n    ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n  },\n});\n// 绘制右侧面\nconst CubeRight = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const xAxisPoint = shape.xAxisPoint;\n    const c1 = [shape.x, shape.y];\n    const c2 = [xAxisPoint[0], xAxisPoint[1]];\n    const c3 = [xAxisPoint[0] + 18, xAxisPoint[1] - 9];\n    const c4 = [shape.x + 18, shape.y - 9];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n// 绘制顶面\nconst CubeTop = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const c1 = [shape.x, shape.y];\n    const c2 = [shape.x + 18, shape.y - 9];\n    const c3 = [shape.x, shape.y - 18];\n    const c4 = [shape.x - 18, shape.y - 10];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n// 注册三个面图形\necharts.graphic.registerShape('CubeLeft', CubeLeft);\necharts.graphic.registerShape('CubeRight', CubeRight);\necharts.graphic.registerShape('CubeTop', CubeTop);\n\noption = {\n  backgroundColor: '#011c3a',\n  legend: {\n    show: true,\n    textStyle: {\n      color: '#fff',\n    },\n    data: [\n      {\n        name: '排放量',\n        icon: 'rect',\n      },\n      {\n        name: '用电量',\n      },\n    ],\n  },\n  tooltip: {\n    show: true,\n  },\n  xAxis: {\n    data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n    axisLine: {\n      lineStyle: {\n        color: '#3d5269',\n      },\n    },\n    axisTick: {\n      show: false,\n    },\n    axisLabel: {\n      color: '#fff',\n      fontSize: 14,\n    },\n  },\n  yAxis: [\n    {\n      type: 'value',\n      name: '单位:次',\n      nameTextStyle: {\n        color: '#fff',\n        fontSize: 16,\n      },\n      axisLine: {\n        show: false,\n        lineStyle: {\n          color: '#3d5269',\n        },\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        color: '#fff',\n        fontSize: 16,\n      },\n      splitLine: {\n        show: true,\n        lineStyle: {\n          color: '#2d3d53',\n        },\n      },\n      max: 6000,\n      interval: 1200,\n      yAxisIndex: 0,\n    },\n    {\n      type: 'value',\n      name: '(千瓦时)',\n      nameTextStyle: {\n        color: '#fff',\n        fontSize: 16,\n      },\n      max: 6000,\n      axisLine: {\n        show: false,\n        lineStyle: {\n          color: '#3d5269',\n        },\n      },\n      axisLabel: {\n        show: true,\n        color: '#fff',\n        fontSize: 16,\n      },\n\n      splitLine: {\n        show: true,\n        lineStyle: {\n          color: '#2d3d53',\n        },\n      },\n      interval: 1200,\n    },\n  ],\n  series: [\n    {\n      name: '排放量',\n      type: 'custom',\n      renderItem: (params, api) => {\n        const location = api.coord([api.value(0), api.value(1)]);\n        var color =\n          api.value(1) > 2000\n            ? 'red'\n            : new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                  offset: 0,\n                  color: '#61e400',\n                },\n                {\n                  offset: 1,\n                  color: '#389500',\n                },\n              ]);\n        var color1 =\n          api.value(1) > 2000\n            ? 'red'\n            : new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                  offset: 0,\n                  color: '#95fb4c',\n                },\n                {\n                  offset: 1,\n                  color: '#95fb4c',\n                },\n              ]);\n        var color2 =\n          api.value(1) > 2000\n            ? 'red'\n            : new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                  offset: 0,\n                  color: '#53c400',\n                },\n                {\n                  offset: 1,\n                  color: '#2e7a00',\n                },\n              ]);\n        return {\n          type: 'group',\n          children: [\n            {\n              type: 'CubeLeft',\n              shape: {\n                api,\n                xValue: api.value(0),\n                yValue: api.value(1),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: color,\n              },\n            },\n            {\n              type: 'CubeRight',\n              shape: {\n                api,\n                xValue: api.value(1),\n                yValue: api.value(0),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: color2,\n              },\n            },\n            {\n              type: 'CubeTop',\n              shape: {\n                api,\n                xValue: api.value(0),\n                yValue: api.value(1),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: color1,\n              },\n            },\n          ],\n        };\n      },\n      data: [254, 3254, 1654, 2454, 4757, 2011, 1211, 3254, 1654, 2454, 4757, 2011],\n    },\n\n    // {\n    //   name: '排放量',\n    //   type: 'bar',\n    //   barWidth: 20,\n    //   zlevel: 2,\n    //   itemStyle: {\n    //     normal: {\n    //       color: new echarts.graphic.LinearGradient(\n    //         0,\n    //         0,\n    //         0,\n    //         1,\n    //         [\n    //           {\n    //             offset: 0,\n    //             color: '#05af79',\n    //           },\n    //           {\n    //             offset: 1,\n    //             color: '#05af792e',\n    //           },\n    //         ],\n    //         false\n    //       ),\n    //     },\n    //   },\n    //   label: {\n    //     normal: {\n    //       show: false,\n    //       fontSize: 18,\n    //       fontWeight: 'bold',\n    //       color: '#ffffff',\n    //       position: 'top',\n    //     },\n    //   },\n    //   data: [254, 3254, 1654, 2454, 4757, 2011, 1211, 3254, 1654, 2454, 4757, 2011],\n    // },\n    {\n      name: '用电量',\n      type: 'line',\n      smooth: true, //是否平滑\n      showAllSymbol: true,\n      symbol: 'circle',\n      yAxisIndex: 1,\n      symbolSize: 6,\n      lineStyle: {\n        normal: {\n          color: 'rgba(0, 96, 255, 1)',\n        },\n      },\n      zlevel: 1,\n      label: {\n        show: false,\n        position: 'top',\n        textStyle: {\n          color: '#6c50f3',\n        },\n      },\n      itemStyle: {\n        color: 'rgba(0, 96, 255, 0.8)',\n        borderColor: '#fff',\n        borderWidth: 2,\n      },\n      areaStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(\n            0,\n            0,\n            0,\n            1,\n            [\n              {\n                offset: 0,\n                color: 'rgba(0, 96, 255, 0.6)',\n              },\n              {\n                offset: 1,\n                color: 'rgba(0, 96, 255, 0)',\n              },\n            ],\n            false\n          ),\n          shadowColor: 'rgba(0, 96, 255, 0.9)',\n          shadowBlur: 10,\n        },\n      },\n      data: [4600, 4790, 4900, 5130, 5600, 5800, 5700, 5600, 5400, 5300, 5200, 5100],\n    },\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","theme":"","layout":"","viewCount":0,"userName":"z***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCob8sDK9B.png?v=1626706342498","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom","series-line","tooltip"],"customTags":[],"updaterUserName":"z***6"}}