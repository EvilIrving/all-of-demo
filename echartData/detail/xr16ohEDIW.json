{"status":0,"data":{"cid":"xr16ohEDIW","authorUid":"bd-2132094589","authorUserName":"鬼***钢","title":"时间轴模仿进度条","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2017-07-27T10:12:53.000Z","lastUpdateTime":"2017-07-27T10:12:53.000Z","auth":2,"uid":"bd-2132094589","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.8.0","versionCreateTime":"2019-08-09T02:56:30.000Z","code":"var visibleCount;\r\n    \r\nfunction getData(percent) {\r\n    var count = 360;\r\n    visibleCount = count*percent;\r\n    var data = [];\r\n    var i;\r\n    for (i = 0; i < visibleCount; i++) {\r\n        data.push([1,i]);\r\n    }\r\n    for (i = visibleCount; i < count; i++) {\r\n        data.push([1,0]);\r\n    }\r\n    return data;\r\n}\r\nvar percent = [0.25, 0.5, 0.75, 1];\r\n\r\nfunction getOptions(values){\r\n    var options = [];\r\n    var option, data;\r\n    for (var i = 0; i < values.length; i++ ){\r\n        data = getData(values[i]);\r\n        option = {\r\n            title: {\r\n                text: Math.ceil(values[i] * 100) +'%',\r\n            },\r\n            series: [{\r\n                type: 'pie',\r\n                radius : ['54%', '55%'],\r\n                center: ['50%', '50%'],\r\n                silent: true,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'RGB(0,0,0,0.1)',\r\n                        shadowBlur: 10,\r\n                        shadowColor: '#1b1e25'\r\n                    }\r\n                },\r\n                labelLine: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n                },\r\n                data: data\r\n            },{\r\n                type: 'pie',\r\n                radius : ['75%', '76%'],\r\n                center: ['50%', '50%'],\r\n                silent: true,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'RGB(0,0,0,0.1)',\r\n                            shadowBlur: 10,\r\n                            shadowColor: '#1b1e25'\r\n                        }\r\n                    },\r\n                labelLine: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n                },\r\n                data: data\r\n            },{\r\n                type: 'pie',\r\n                radius : ['55%', '75%'],\r\n                center: ['50%', '50%'],\r\n                silent: true,\r\n                labelLine: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n                },\r\n                data: data\r\n            }]\r\n        };\r\n\r\n        options.push(option);\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\n\r\nvar option = {\r\n    baseOption: {\r\n        timeline : {\r\n            data : [0, 1, 2, 3],\r\n            label: {\r\n                formatter : function(s) {\r\n                    // console.log(s)\r\n                    var data = ['下发指令', '接收指令', '执行指令', '完成'];\r\n                    return data[s];\r\n                }\r\n            },\r\n            left: 30,\r\n            right: 30,\r\n            bottom: 20,\r\n            symbol: 'circle',\r\n            symbolSize: 15,\r\n            symbolRotate :'30',\r\n            playInterval :'2000',\r\n            loop:true,\r\n            axisType:'category',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#fff',\r\n                    borderColor: '#00cc00'\r\n                },\r\n                emphasis: {\r\n                    color: '#fff'\r\n                }\r\n            },\r\n            lineStyle: {\r\n                color: '#49a9ee',\r\n                width: 5\r\n            },\r\n            checkpointStyle: {\r\n                color: '#00cc00',\r\n                symbolSize: 18,\r\n                borderColor: 'rgba(0, 204, 0, 0.5)',\r\n                animationDuration: '1000'\r\n            },\r\n            controlStyle: {\r\n                show: false\r\n            },\r\n            autoPlay:true,\r\n        },\r\n        color: ['#00cc00'],\r\n        title: {\r\n            // text: Math.ceil(values[i] * 100) +'%',\r\n            textStyle:{\r\n                color:'#333',\r\n                fontSize:50,\r\n                fontWeight:'normal',\r\n                fontFamily:'华文细黑',\r\n            },\r\n            x: 'center',\r\n            y: 'center'\r\n        },\r\n        visualMap: [{\r\n            show: false,\r\n            dimension: 1,\r\n            seriesIndex:2,\r\n            inRange: {\r\n                colorAlpha: [0,1]\r\n            }\r\n        }],\r\n    },\r\n    options: getOptions(percent)\r\n};","html":"","externalScripts":"","updaterUID":"bd-2132094589","theme":"","layout":"","viewCount":1402,"userName":"鬼***钢","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr16ohEDIW.png?v=1501150373469","isCustomThumbnail":1,"builtinTags":["category-work","series-pie","timeline","title","visualMap"],"customTags":[],"updaterUserName":"鬼***钢"}}