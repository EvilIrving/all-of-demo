{"status":0,"data":{"cid":"xub54R_yPO","authorUid":"bd-1627449234","authorUserName":"l***w","title":"气泡图","description":"气泡","latestVersion":7,"alwaysLatest":0,"createTime":"2021-05-24T05:41:05.000Z","lastUpdateTime":"2021-05-24T05:41:05.000Z","auth":2,"uid":"bd-1627449234","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2021-05-24T06:42:52.000Z","code":"var geoCoordMap = {\n    省直: [113.165412, 34.750975],\n    郑州市: [113.665412, 34.757975],\n    开封市: [114.341447, 34.797049],\n    洛阳市: [112.434468, 34.663041],\n    平顶山市: [113.300848978, 33.7453014565],\n    安阳市: [114.351806508, 36.1102667222],\n    鹤壁市: [114.297769838, 35.7554258742],\n    新乡市: [113.912690161, 35.3072575577],\n    焦作市: [113.211835885, 35.234607555],\n    濮阳市: [115.026627441, 35.7532978882],\n    漯河市: [114.0460614, 33.5762786885],\n    三门峡市: [111.181262093, 34.7833199411],\n    南阳市: [112.542841901, 33.0114195691],\n    商丘市: [115.641885688, 34.4385886402],\n    信阳市: [114.085490993, 32.1285823075],\n    周口市: [114.654101942, 33.6237408181],\n    许昌市: [113.83531246, 34.0267395887],\n    驻马店市: [114.049153547, 32.9831581541],\n    济源市: [112.608898,35.074838],\n};\n\nvar data = [\n    {\n        name: '郑州市',\n        value: 526,\n    },\n    {\n        name: '开封市',\n        value: 320,\n    },\n    {\n        name: '洛阳市',\n        value: 205,\n    },\n    {\n        name: '平顶山市',\n        value: 150,\n    },\n    {\n        name: '商丘市',\n        value: 120,\n    },\n    {\n        name: '省直',\n        value: 775,\n\n    },\n    {\n        name: '济源市',\n        value: 1,\n\n    },\n];\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n                sizeN:data[i].sizeN\n            });\n        }\n    }\n    return res;\n};\n\nvar convertedData = \n    convertData(\n        data.sort(function (a, b) {\n                return b.value - a.value;\n            })\n    )\n;\ni = 80;\n\nvar option = {\n    backgroundColor: {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#0f378f', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#00091a', // 100% 处的颜色\n            },\n        ],\n        globalCoord: false, // 缺省为 false\n    },\n\n    animationDurationUpdate: 1000,\n\n    // title: {\n    //     padding: 20,\n    //     text: '虚构疫情状况',\n    //     subtext: '国家卫健委测',\n    //     sublink: 'http://www.nhc.gov.cn',\n    //     x: 'left',\n    //     textStyle: {\n    //         color: '#fff',\n    //     },\n    //     subtextStyle: {\n    //         fontStyle: 'italic',\n    //     },\n    // },\n\n    tooltip: {\n        trigger: 'item',\n    },\n\n    grid: {\n        right: '2%',\n        top: '20%',\n        bottom: '15%',\n        width: '15%',\n    },\n\n   \n\n    visualMap: {\n        show: false,\n        pieces: [\n            {\n                min: 600,\n            },\n            {\n                min: 500,\n                max: 600,\n            },\n            {\n                min: 400,\n                max: 500,\n            },\n            {\n                min: 300,\n                max: 400,\n            },\n            {\n                min: 200,\n                max: 300,\n            },\n            {\n                min: 100,\n                max: 200\n            },\n            {\n                min: 50,\n                max: 100,\n            },\n            {\n                max: 50,\n            },\n        ],\n        inRange: {\n            color: ['#50a3ba', '#eac736', 'red'],\n        },\n        textStyle: {\n            color: '#fff',\n        },\n    },\n\n    geo: {\n        roam: true, //缩放平移\n        scaleLimit: {\n            min: 0.5,\n            max: 10,\n        },\n        map: 'henan',\n        label: {\n            normal: {\n                show: false,\n                color: '#00ffff',\n                fontSize: 14,\n            },\n            emphasis: {\n                show: false,\n                textStyle: {\n                    color: '#fff',\n                },\n            },\n        },\n        itemStyle: {\n            //地图区块颜色\n            normal: {\n                areaColor: '#3a7fd5',\n                borderColor: '#0a53e9', //线\n                shadowColor: '#092f8f', //外发光\n                shadowBlur: 20,\n            },\n            emphasis: {\n                areaColor: '#0a2dae', //悬浮区背景\n            },\n        },\n        emphasis: {\n            itemStyle: {\n                areaColor: '#123555',\n                shadowColor: '#000',\n                shadowBlur: 10,\n            },\n            label: {\n                show: false,\n            },\n        },\n\n        // regions: [{      //突出显示\n        //     name: '南阳市',\n        //     itemStyle: {\n        //         areaColor: 'red'\n        //     },\n        //     emphasis: {            //鼠标悬浮背景颜色\n        //         itemStyle: {\n        //             areaColor: 'yellow',\n        //             shadowColor: 'yellow',\n        //             shadowBlur: 10\n        //         },\n        //     }\n        // }],\n    },\n\n    series: [\n        {\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin',\n            // symbolSize: [50,50],\n            data: convertedData,\n            symbolSize: function (params) {\n                i = i - 4\n                return  i\n            },\n            label: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 12,\n                    },\n                    formatter(value) {\n                        return value.data.value[2];\n                    },\n                    // padding: [10,10,10,10]\n            },\n            itemStyle: {\n                normal: {\n                    color: '#ddb926',\n                },\n            },\n            tooltip: {\n                trigger: 'item',\n                formatter: function (params) {\n                    return params.name + ' : ' + params.value[2];\n                },\n            },\n        },\n        {\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin',\n            symbolSize: [2, 2],\n            data: convertedData,\n            // symbolSize: function(params) {\n            //     return (30 + Math.log2(params[2]));\n            // },\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: '#00ffff',\n                        fontSize: 14,\n                    },\n                    formatter(value) {\n                        return value.name;\n                    },\n                    position: 'bottom',\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#ddb926',\n                },\n            },\n        },\n    ],\n};\n\n\n","html":"","externalScripts":"/asset/get/s/data-1591252907761-po2vasjs3.js","updaterUID":"bd-1627449234","theme":"","layout":"","viewCount":0,"userName":"l***w","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xub54R_yPO.png?v=1621838573105","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"l***w"}}