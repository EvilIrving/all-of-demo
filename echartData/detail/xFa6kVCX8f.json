{"status":0,"data":{"cid":"xFa6kVCX8f","authorUid":"obd-ojqMCZCHOBMrd7liUcO4GdAJ37q3yDJ","authorUserName":"l***y","title":"饼图-年轮夹带圆角","description":"夹带圆角","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-20T07:05:38.000Z","lastUpdateTime":"2021-11-20T07:05:53.000Z","auth":2,"uid":"obd-ojqMCZCHOBMrd7liUcO4GdAJ37q3yDJ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-20T07:05:54.000Z","code":"let color = ['#FF8700', '#ffc300', '#00e473', '#009DFF', '#0034ff'];\r\nlet chartData = [\r\n    {\r\n        name: '早1发',\r\n        value: 40083,\r\n        unit: '列',\r\n    },\r\n    {\r\n        name: '正点发',\r\n        value: 33974,\r\n        unit: '列',\r\n    },\r\n    {\r\n        name: '晚2发',\r\n        value: 15400,\r\n        unit: '列',\r\n    },\r\n    {\r\n        name: '早点',\r\n        value: 11021,\r\n        unit: '列',\r\n    },\r\n    {\r\n        name: '晚点',\r\n        value: 30696,\r\n        unit: '列',\r\n    },\r\n];\r\nlet sum = 0;\r\nlet pieSeries = [],\r\n    lineYAxis = [];\r\n\r\n// 数据处理\r\nchartData.forEach((v, i) => {\r\n    sum = sum + v.value;\r\n});\r\n\r\n// 图表option整理\r\nchartData.forEach((v, i) => {\r\n    pieSeries.push({\r\n        name: '沪昆线到达晚点情况',\r\n        type: 'pie',\r\n        clockWise: true,\r\n        hoverAnimation: false,\r\n        radius: [60 - i * 10 + '%', 61.5 - i * 10 + '%'],\r\n        center: ['40%', '50%'],\r\n        label: {\r\n            show: false,\r\n        },\r\n        itemStyle: {\r\n            borderRadius: 20,\r\n        },\r\n        data: [\r\n            {\r\n                value: v.value,\r\n                name: v.name,\r\n                 itemStyle: {\r\n                    normal: {\r\n                        borderWidth: 5,\r\n                        borderColor:color[i]\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                value: sum - v.value,\r\n                name: '',\r\n                itemStyle: {\r\n                    color: 'rgba(0,0,0,0)',\r\n                },\r\n            },\r\n        ],\r\n    });\r\n    pieSeries.push({\r\n        name: '',\r\n        type: 'pie',\r\n        silent: true,\r\n        z: 1,\r\n        clockWise: true, //顺时加载\r\n        hoverAnimation: false, //鼠标移入变大\r\n        radius: [60 - i * 10 + '%', 61.5 - i * 10 + '%'],\r\n        center: ['40%', '50%'],\r\n        label: {\r\n            show: false,\r\n        },\r\n        itemStyle: {\r\n            borderCap: 'round',\r\n            borderJoin: 'round',\r\n        },\r\n        data: [\r\n            {\r\n                value: sum,\r\n                itemStyle: {\r\n                    color: 'rgba(128,239,246,0.6)',\r\n                },\r\n            }\r\n        ],\r\n    });\r\n    v.percent = ((v.value / sum) * 100).toFixed(1) + '%';\r\n    lineYAxis.push({\r\n        value: i,\r\n        textStyle: {\r\n            rich: {\r\n                circle: {\r\n                    color: color[i],\r\n                    padding: [0, 5],\r\n                },\r\n            },\r\n        },\r\n    });\r\n});\r\n\r\noption = {\r\n    color: color,\r\n    grid: {\r\n        top: '17%',\r\n        bottom: '57%',\r\n        left: '40%',\r\n        containLabel: false,\r\n    },\r\n    legend: {\r\n        show: true,\r\n        right: '20%',\r\n        top: 'middle',\r\n        itemWidth: 10,\r\n        itemHeight: 10,\r\n        itemGap:  20,\r\n        textStyle: {\r\n            fontSize:  16,\r\n            color:  '#000',\r\n        },\r\n    },\r\n    series: pieSeries,\r\n};\r\n","html":"","externalScripts":"","updaterUID":"obd-ojqMCZCHOBMrd7liUcO4GdAJ37q3yDJ","theme":"","layout":"","viewCount":0,"userName":"l***y","commentCount":1,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFa6kVCX8f.png?v=1637391954164","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":[],"updaterUserName":"l***y"}}