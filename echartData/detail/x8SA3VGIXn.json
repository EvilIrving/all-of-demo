{"status":0,"data":{"cid":"x8SA3VGIXn","authorUid":"obd-oAD15Tez19emHF-R8Hg9lEk1LgCak7t","authorUserName":"187*****210","title":"立体柱状图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-09-08T07:20:20.000Z","lastUpdateTime":"2020-09-08T07:20:20.000Z","auth":1,"uid":"obd-oAD15Tez19emHF-R8Hg9lEk1LgCak7t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.9.0","versionCreateTime":"2021-04-25T03:16:30.000Z","code":"// 绘制左侧面\r\n            const CubeLeft = echarts.graphic.extendShape({\r\n                shape: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n                buildPath: function(ctx, shape) {\r\n                    // 会canvas的应该都能看得懂，shape是从custom传入的\r\n                    const xAxisPoint = shape.xAxisPoint\r\n                    const c0 = [shape.x, shape.y]\r\n                    const c1 = [shape.x - 18, shape.y - 10]\r\n                    const c2 = [xAxisPoint[0] - 18, xAxisPoint[1] - 9]\r\n                    const c3 = [xAxisPoint[0], xAxisPoint[1]]\r\n                    ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath()\r\n                }\r\n            });\r\n            // 绘制右侧面\r\n            const CubeRight = echarts.graphic.extendShape({\r\n                shape: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n                buildPath: function(ctx, shape) {\r\n                    const xAxisPoint = shape.xAxisPoint\r\n                    const c1 = [shape.x, shape.y]\r\n                    const c2 = [xAxisPoint[0], xAxisPoint[1]]\r\n                    const c3 = [xAxisPoint[0] + 18, xAxisPoint[1] - 9]\r\n                    const c4 = [shape.x + 18, shape.y - 9]\r\n                    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n                }\r\n            });\r\n            // 绘制顶面\r\n            const CubeTop = echarts.graphic.extendShape({\r\n                shape: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n                buildPath: function(ctx, shape) {\r\n                    const c1 = [shape.x, shape.y]\r\n                    const c2 = [shape.x + 18, shape.y - 9]\r\n                    const c3 = [shape.x, shape.y - 18]\r\n                    const c4 = [shape.x - 18, shape.y - 10]\r\n                    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n                }\r\n            });\r\n            // 注册三个面图形\r\n            echarts.graphic.registerShape('CubeLeft', CubeLeft)\r\n            echarts.graphic.registerShape('CubeRight', CubeRight)\r\n            echarts.graphic.registerShape('CubeTop', CubeTop)\r\n\r\n            const MAX = [100,100, 100, 100]\r\n            const VALUE = [19,12, 12, 25 ]\r\n            let category=['天津分公司', '上海分公司', '深圳分公司', '湛江分公司' ];\r\n            var option = {\r\n                backgroundColor:'#001a60',\r\n                tooltip: {\r\n                    trigger: 'axis',\r\n                    axisPointer: {\r\n                        type: 'shadow'\r\n                    },\r\n                    formatter: function(params, ticket, callback) {\r\n                        const item = params[1]\r\n                        return item.name + ' : ' + item.value;\r\n                    }\r\n                },\r\n                grid: {\r\n                    left: '10%',\r\n                    right: '10%',\r\n                    bottom: 60,\r\n                    top: 50,\r\n                },\r\n                xAxis: [{\r\n                    type: 'category',\r\n                    position:'bottom',\r\n                    data: category,\r\n                    axisLine: {\r\n                        lineStyle: {\r\n                            color: '#e0e7ff'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show:false,\r\n                        length: 6,\r\n                    },\r\n                    axisLabel: {\r\n                        //show:false,\r\n                        color:'#fff',\r\n                        fontSize: 12,\r\n                        rotate:'0'\r\n                    },\r\n                }],\r\n                yAxis: {\r\n                    type: 'value',\r\n                    name:\"得分率\",\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#e0e7ff'\r\n                        }\r\n                    },\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: true,\r\n                        fontSize: 12\r\n                    },\r\n                    boundaryGap: ['0%', '0%']\r\n                },\r\n                series: [{\r\n                    type: 'custom',\r\n                    renderItem: function(params, api) {\r\n                        const location = api.coord([api.value(0), api.value(1)])\r\n                        return {\r\n                            type: 'group',\r\n                            children: [{\r\n                                type: 'CubeLeft',\r\n                                shape: {\r\n                                    api,\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill:'rgba(159,255,91,0.4)'\r\n                                }\r\n                            }, {\r\n                                type: 'CubeRight',\r\n                                shape: {\r\n                                    api,\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill:  'rgba(159,255,91,0.5)'\r\n                                }\r\n                            }, {\r\n                                type: 'CubeTop',\r\n                                shape: {\r\n                                    api,\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill: 'rgba(186,255,137,0.6)'\r\n                                }\r\n                            }]\r\n                        }\r\n                    },\r\n                    data: MAX\r\n                }, {\r\n                    type: 'custom',\r\n                    renderItem: (params, api) => {\r\n                        const location = api.coord([api.value(0), api.value(1)])\r\n                        var color = api.value(1) > 2000 ? 'red' : new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#61e400'\r\n                        },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#389500'\r\n                            }\r\n                        ])\r\n                        var color1  = api.value(1) > 2000 ? 'red' : new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#95fb4c'\r\n                        },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#95fb4c'\r\n                            }\r\n                        ])\r\n                        var color2  = api.value(1) > 2000 ? 'red' : new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#53c400'\r\n                        },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#2e7a00'\r\n                            }\r\n                        ])\r\n                        return {\r\n                            type: 'group',\r\n                            children: [{\r\n                                type: 'CubeLeft',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(0),\r\n                                    yValue: api.value(1),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill: color\r\n                                }\r\n                            }, {\r\n                                type: 'CubeRight',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(1),\r\n                                    yValue: api.value(0),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill: color2\r\n                                }\r\n                            }, {\r\n                                type: 'CubeTop',\r\n                                shape: {\r\n                                    api,\r\n                                    xValue: api.value(0),\r\n                                    yValue: api.value(1),\r\n                                    x: location[0],\r\n                                    y: location[1],\r\n                                    xAxisPoint: api.coord([api.value(0), 0])\r\n                                },\r\n                                style: {\r\n                                    fill: color1\r\n                                }\r\n                            }]\r\n                        }\r\n                    },\r\n                    data: VALUE\r\n                }, {\r\n                    type: 'bar',\r\n                    label: {\r\n                        normal: {\r\n                            show: false,\r\n                            position: 'top',\r\n                            fontSize: 12,\r\n                            color: '#',\r\n                            offset: [2, -15]\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: 'transparent'\r\n                    },\r\n                    tooltip: {\r\n\r\n                    },\r\n                    data: MAX\r\n                }]\r\n            }","html":"","externalScripts":"","updaterUID":"obd-ojCkNXchMZnGICIMD7ecH8hdnDusoEA","theme":"","layout":"","viewCount":816,"userName":"187*****210","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8SA3VGIXn.png?v=1619320590129","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-custom","tooltip"],"customTags":[],"updaterUserName":"173******90"}}