{"status":0,"data":{"cid":"xGpwIHFQnw","authorUid":"bd-1497446243","authorUserName":"唯***生","title":"半圆嵌套图表","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-08-16T09:22:00.000Z","lastUpdateTime":"2021-08-16T09:23:03.000Z","auth":2,"uid":"bd-1497446243","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-16T09:23:03.000Z","code":" let title= \"半圆嵌套最大值\"\r\n let newData = [{name:\"c1\",value:10},{name:\"c2\",value:8},{name:\"c3\",value:2},{name:\"c4\",value:2},{name:\"c5\",value:2}];\r\n    const maxData = newData.sort((a, b) => b.value - a.value);\r\n    let max = maxData.length > 0 ? maxData[0].value : 0;\r\n    let ageData = [];\r\n    newData.forEach((v) => {\r\n        let item = v;\r\n        if (item.value === max) {\r\n          \r\n        }\r\n        ageData.push(item);\r\n    })\r\n    \r\n    var ages = [],\r\n        len = ageData.length,\r\n        colors = [\"#3686C8\", \"#3691D9\", \"#449FE4\", \"#3D9CE1\", \"#3EA7F5\", \"#48ADFA\", \"#56B3FB\", \"#67BEFC\", \"#85C4F2\", \"#A9D8FC\", \"#ADD8FC\", \"#AFDBFC\", \"#BFE5FF\", \"#CEEAFC\"],\r\n        seriesData = [];\r\n    // max = 120;\r\n    seriesData = ageData.map((v, i) => {\r\n        return {\r\n            name: v.name,\r\n            value: v.value,\r\n            itemStyle: {\r\n                normal:{\r\n                    color: v.value === max ? '#F5A60F' : colors[i],\r\n                    opacity: v.value === max ? 1 : (1 - i * 0.05)\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    // 添加一些占位值\r\n    ages = seriesData.map(function(e) {\r\n    return {\r\n    name: e.name,\r\n    value: 100\r\n    }\r\n    });\r\n    ages.push({\r\n        name: '',\r\n        value: 100 * len\r\n   \r\n    });\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        seriesData.push({\r\n            value: 0\r\n        });\r\n    }\r\n\r\n  option = {\r\n        title: {\r\n            text: title,\r\n            left: 'center',\r\n            bottom: 'bottom',\r\n            textStyle:{\r\n                fontSize: 14,\r\n                color: '#7B7C80'\r\n            }\r\n        },\r\n    tooltip: {\r\n        formatter: '{b}: {c}'\r\n    },\r\n    grid: {\r\n        top: '75%',\r\n        left: '25%',\r\n        right: '25%',\r\n        height: 2,\r\n    },\r\n    xAxis: [{\r\n        type: 'value',\r\n        min: -max,\r\n        max: max,\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: \"#035de4\",\r\n                width: 1\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        showMinLabel: false,\r\n        showMaxLabel: false,\r\n        axisLabel: {\r\n            show: true,\r\n            textStyle: {\r\n                color: '#99999B',\r\n                fontSize: 12\r\n            },\r\n            formatter: function(value, index) {\r\n                return Math.abs(value);\r\n            }\r\n        }\r\n    }],\r\n    yAxis: [{\r\n       show:false,\r\n    }],\r\n    series: [\r\n    //南丁格尔图 \r\n    {\r\n        type: 'pie',\r\n        startAngle: 180,\r\n        radius: ['10%', '100%'],\r\n        center: ['50%', '75%'],\r\n        roseType: 'area',\r\n        // color: colorArr,\r\n        hoverAnimation:false,\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: seriesData,\r\n         itemStyle: {\r\n                        normal: {\r\n                            color: 'transparent',\r\n                            borderWidth: 0,\r\n                            shadowBlur: 0,\r\n                            borderColor: 'transparent',\r\n                            shadowColor: 'transparent',\r\n                        },\r\n                    },\r\n    },\r\n    // 年龄分布圆环 \r\n    {\r\n        type: 'pie',\r\n        startAngle: 180,\r\n        endAngle: 0,\r\n        hoverAnimation: false,\r\n        radius: ['130%', '130%'],\r\n        center: ['50%', '75%'],\r\n        label: {\r\n            normal: {\r\n                position: 'inner',\r\n                textStyle: {\r\n                    color: '#99999B',\r\n                    fontSize: 12\r\n                }\r\n            },\r\n        },\r\n        data: ages,\r\n    \r\n    },\r\n    // 最外层圆弧\r\n    {\r\n        type: 'gauge',\r\n        radius: \"120%\",\r\n        center: ['50%', '75%'],\r\n        startAngle: 180,\r\n        endAngle: 0,\r\n        splitNumber: len,\r\n        axisLine: {\r\n            show: true,\r\n            lineStyle: {\r\n            type:'dotted',\r\n                width: 1,\r\n                color: [\r\n                    [1, '#ccc']\r\n                ]\r\n            },\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            length: \"100%\",\r\n            lineStyle: {\r\n                type:'dotted',\r\n                color: \"#99999B\",\r\n                width: 0.2\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        detail: {\r\n            show: false\r\n        },\r\n        pointer: {\r\n            show: false\r\n        },\r\n    \r\n    }\r\n    ]\r\n    };","html":"","externalScripts":"","updaterUID":"bd-1497446243","theme":"","layout":"","viewCount":0,"userName":"唯***生","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGpwIHFQnw.png?v=1629105783351","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-gauge","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"唯***生"}}