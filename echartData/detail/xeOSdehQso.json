{"status":0,"data":{"cid":"xeOSdehQso","authorUid":"obd-oCAn0py4agO8uEBCdnu3WSH2cOEzW3P","authorUserName":"寒***枫","title":"华南理工大学校区地址","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2020-05-09T03:58:48.000Z","lastUpdateTime":"2020-05-09T03:58:48.000Z","auth":2,"uid":"obd-oCAn0py4agO8uEBCdnu3WSH2cOEzW3P","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-11T01:18:51.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1588985022602-m8t4b13Gs.json\";\r\n\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('guangzhou', geoJson);\r\n});\r\n//把校区地址罗列出来\r\nvar geoCoordMap = {\r\n    \"五山校区\": [113.351557, 23.161069],\r\n    \"国际校区\": [113.414809, 23.015209],\r\n    \"大学城校区\": [113.411968, 23.054905]\r\n};\r\n\r\nvar data = [{\r\n        name: \"五山校区\",\r\n        value: 100\r\n    },\r\n    {\r\n        name: \"国际校区\",\r\n        value: 100\r\n    },\r\n    {\r\n        name: \"大学城校区\",\r\n        value: 100\r\n    }\r\n];\r\n\r\nvar colors = [\"#1DE9B6\", \"#F46E36\", \"#04B9FF\"];\r\nvar linesData = [\r\n    [{\r\n        coord: [113.351557, 23.161069],\r\n        value: 0.07\r\n    }, {\r\n        coord: [113.414809, 23.015209]\r\n    }],\r\n    [{\r\n        coord: [113.414809, 23.015209],\r\n        value: 0.04\r\n    }, {\r\n        coord: [113.351557, 23.161069]\r\n    }],\r\n    [{\r\n        coord: [113.411968, 23.054905],\r\n        value: 0.04\r\n    }, {\r\n        coord: [113.351557, 23.161069]\r\n    }]\r\n];\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n\r\n    return res;\r\n};\r\n\r\noption = {\r\n    backgroundColor: '#013954',\r\n    geo: {\r\n        map: 'guangzhou',\r\n        zoom: 1, //当前视角的缩放比例\r\n        roam: true, //是否开启平游或缩放\r\n        center: [113.351557, 23.161069],\r\n        itemStyle: {\r\n            areaColor: '#043967', //地图色\r\n            borderColor: '#1FB2F2', //地图线条色\r\n            borderWidth: 1.5,\r\n            borderType: 'solid'\r\n        },\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: 'rgba(147, 235, 248, 1)',\r\n                borderWidth: 1,\r\n                areaColor: {\r\n                    type: 'radial',\r\n                    x: 0.5,\r\n                    y: 0.5,\r\n                    r: 0.8,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\r\n                    }],\r\n                    globalCoord: false // 缺省为 false\r\n                },\r\n                shadowColor: 'rgba(128, 217, 248, 1)',\r\n                // shadowColor: 'rgba(255, 255, 255, 1)',\r\n                shadowOffsetX: -2,\r\n                shadowOffsetY: 2,\r\n                shadowBlur: 10\r\n            },\r\n            emphasis: {\r\n                areaColor: '#389BB7',\r\n                borderWidth: 0\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    series: [\r\n        //地图中闪烁的点\r\n        {\r\n            //  name: 'Top 5',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function(val) {\r\n                return val[2] / 10;\r\n            },\r\n\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke',\r\n                scale: 5\r\n\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                formatter: '{b}',\r\n                position: 'right',\r\n                show: true,\r\n                distance: 30,\r\n                fontSize: 14,\r\n                fontWeight: 'bold'\r\n            },\r\n            itemStyle: {\r\n                color: function(params) {\r\n                    return colors[params.dataIndex]\r\n                },\r\n                shadowBlur: 100,\r\n                shadowColor: '#333'\r\n            },\r\n            zlevel: 1,\r\n            geoIndex: 0\r\n\r\n        },\r\n\r\n        {\r\n            type: 'lines',\r\n            zlevel: 2,\r\n            effect: {\r\n                show: true,\r\n                period: 4, //箭头指向速度，值越小速度越快\r\n                trailLength: 0.4, //特效尾迹长度[0,1]值越大，尾迹越长重\r\n                symbol: 'arrow', //箭头图标\r\n                symbolSize: 7, //图标大小\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: function(params) {\r\n                        return colors[params.dataIndex]\r\n                    },\r\n                    width: 0.5, //尾迹线条宽度\r\n                    opacity: 0.5, //尾迹线条透明度\r\n                    curveness: 1 //尾迹线条曲直度\r\n                }\r\n            },\r\n            data: linesData\r\n        }\r\n\r\n    ]\r\n};\r\nmyChart.setOption(option);","html":"","externalScripts":"","updaterUID":"obd-oCAn0py4agO8uEBCdnu3WSH2cOEzW3P","theme":"","layout":"","viewCount":322,"userName":"寒***枫","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeOSdehQso.png?v=1589159931257","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines"],"customTags":[],"updaterUserName":"寒***枫"}}