{"status":0,"data":{"cid":"xBQY6K1TCw","authorUid":"obd-oj8PCavbbVdlM3SdSwl9prUqGo-XPD5","authorUserName":"f***e","title":"Legend点击事件联动并实现换行","description":"Legend点击事件联动并实现换行，使用events监听 派发action \nBy:cxd","latestVersion":4,"alwaysLatest":1,"createTime":"2020-07-20T09:22:46.000Z","lastUpdateTime":"2020-07-22T13:21:19.000Z","auth":2,"uid":"obd-oj8PCavbbVdlM3SdSwl9prUqGo-XPD5","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-22T13:19:43.000Z","code":"var suffix_bar = '_bar';\nvar suffix_line = '_line';\nvar dataSource = [\n    ['x','first_bar','first_line','second_bar','second_line','third_bar','third_line'],\n    ['Mon',150,180,200,100,30,230],\n    ['Tue',250,80,120,140,50,170],\n    ['Wed',100,60,210,200,70,180],\n    ['Thu',120,70,310,400,50,190],\n    ['Fri',110,50,40,70,80,240],\n    ['Sat',130,160,80,20,120,130],\n    ['Sun',200,140,130,70,200,440],\n    \n];\nvar selected = {\n    'first_bar':true,\n    'first_line':true,\n    'second_bar':true,\n    'second_line':true,\n    'third_bar':false,\n    'third_line':false\n};\n//监听legend改变事件\nmyChart.on('legendselectchanged', function (params) {\n    var another = '';\n    var name = params.name;\n    if(name.slice(-suffix_bar.length)==suffix_bar){\n        another = name.slice(0,name.length-suffix_bar.length);\n        another += suffix_line;\n    }else if(name.slice(-suffix_line.length)==suffix_line){\n        another = name.slice(0,name.length-suffix_line.length);\n        another += suffix_bar;\n    }\n    //派发联动legend改变action\n    if(selected[another]){\n        selected[name]=false;\n        selected[another]=false;\n        myChart.dispatchAction({\n            type: 'legendUnSelect',\n            // 图例名称\n            name: another\n        })\n    }else{\n        selected[name]=true;\n        selected[another]=true;\n        myChart.dispatchAction({\n            type: 'legendSelect',\n            // 图例名称\n            name: another\n        })\n    }\n});\noption = {\n    title: {\n        text: 'Legend点击事件联动并实现换行'\n    },\n    legend:{\n        selected:selected,\n        //换行\n        orient:'vertical',\n        height:'40px',\n        padding:[0,0,20,0],\n    },\n    xAxis: {\n        type: 'category',\n    },\n    dataset:{\n        source:dataSource\n    },\n    yAxis: {\n        type: 'value',\n    },\n    series: [\n        {   \n            name:'first_bar',\n            type: 'bar',\n            color:'#5bc0ee'\n        },\n        {   \n            name:'first_line',\n            type: 'line',\n            color:'#5bc0ee'\n        },\n        {   \n            name:'second_bar',\n            type: 'bar',\n            color:'#f5a074'\n        },\n        {   \n            name:'second_line',\n            type: 'line',\n            color:'#f5a074'\n        },\n        {   \n            name:'third_bar',\n            type: 'bar',\n            color:'#b981f2'\n        },\n        {   \n            name:'third_line',\n            type: 'line',\n            color:'#b981f2'\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-oj8PCavbbVdlM3SdSwl9prUqGo-XPD5","theme":"default","layout":"","viewCount":129,"userName":"f***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBQY6K1TCw.png?v=1595238188908","isCustomThumbnail":1,"builtinTags":["category-work","dataset","grid","legend","series-bar","series-line","title"],"customTags":[],"updaterUserName":"f***e"}}