{"status":0,"data":{"cid":"xjNL2jGDyj","authorUid":"obd-oMh8dOJBM1AU_feLTKJcUeQxYXqhc2a","authorUserName":"孤***夕","title":"排名-柱状图","description":"排名-柱状图","latestVersion":1,"alwaysLatest":1,"createTime":"2021-03-17T14:05:06.000Z","lastUpdateTime":"2021-03-17T14:05:06.000Z","auth":2,"uid":"obd-oMh8dOJBM1AU_feLTKJcUeQxYXqhc2a","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-17T14:05:06.000Z","code":"\nvar index = 0;\nvar colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\nvar attackSourcesName = [\"中心村村委会\", \"中沟村村委会\", \"众众新家园居委会\", \"众安居委会\", \"光明村村委会\", \"光辉村村委会\", \"兴银花园居委会\", \"北桥居委会\", \"北桥村村委会\", \"向阳村村委会\", \"君临花园居委会\", \"君莲新城第一居委会\", \"君莲新城第三居委会\", \"君莲新城第二居委会\", \"君莲新城第五居委会\", \"君莲新城第四居委会\", \"复地北桥城居委会\", \"好世凤凰城居委会\", \"安乐村村委会\", \"招商雍华苑居委会\", \"文博水景居委会\", \"日月华城居委会\", \"星河湾居委会\", \"樱缘花园居委会\", \"灯塔村村委会\", \"秀龙居委会\", \"繁盛苑居委会\", \"翔泰苑居委会\", \"莘闵荣顺苑居委会\", \"都市富苑居委会\", \"金榜新苑居委会\", \"金都新村第三居委会\", \"银春花园居委会\", \"银桥花园居委会\", \"银都苑第一居委会\", \"银都苑第三居委会\", \"集体村村委会\", \"颛桥村村委会\", \"颛溪新村第五居委会\", \"颛溪新村第八居委会\", \"骏苑居委会\"];\n\nfunction contains(arr, dst) {\n    var i = arr.length;\n    while (i -= 1) {\n        if (arr[i] == dst) {\n            return i;\n        }\n    }\n    return false;\n}\noption = {\n    color:['#5CCED4','#4181E4'],\n    dataZoom:[{\n        type: 'slider',\n        yAxisIndex: 0,\n        zoomLock: true,\n        width: 10,\n        handleSize: 0,\n        showDetail: false,\n        start: 0,\n        end: 16, // 百分比，此处是计算后传过来\n        handleSize: '100%',\n        handleStyle: {\n            color: \"#d3dee5\",\n        },\n        borderColor: \"#90979c\"\n    }, {\n        type: 'inside',\n        id: 'insideY',\n        yAxisIndex: 0,\n        start: 0,\n        end: 50,\n        zoomOnMouseWheel: false,\n        moveOnMouseMove: true,\n        moveOnMouseWheel: true\n    }],\n    grid:{x: '25%', y: '2%', width: '70%', height: '90%'},\n    xAxis: {\n        show: true,\n        type: 'value',\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            textStyle: {\n                fontSize: '12px',\n                color: '#fff'\n            }\n        },\n    },\n    yAxis: {\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisPointer: {\n            label: {\n                show: true,\n                margin: 30\n            }\n        },\n        data: attackSourcesName,\n        axisLabel: {\n            interval: 0,\n            textStyle: {\n                fontSize: '.12rem',\n                color: '#fff'\n            },\n            margin: 100,\n            fontSize: 14,\n            align: 'left',\n            color: '#333',\n            rich: {\n                a1: {\n                    color: '#fff',\n                    backgroundColor: colorList[0],\n                    width: 15,\n                    height: 15,\n                    align: 'center',\n                    borderRadius: 2\n                },\n                a2: {\n                    color: '#fff',\n                    backgroundColor: colorList[1],\n                    width: 15,\n                    height: 15,\n                    align: 'center',\n                    borderRadius: 2\n                },\n                a3: {\n                    color: '#fff',\n                    backgroundColor: colorList[2],\n                    width: 15,\n                    height: 15,\n                    align: 'center',\n                    borderRadius: 2\n                },\n                b: {\n                    color: '#fff',\n                    backgroundColor: colorList[3],\n                    width: 15,\n                    height: 15,\n                    align: 'center',\n                    borderRadius: 2\n                }\n            },\n            formatter: function(params) {\n                let index1 = params.indexOf('#');\n                let num = params.slice(index + 1);\n                let newParams = params.slice(0, index1);\n                var newParamsName = \"\";// 最终拼接成的字符串\n                var paramsNameNumber = newParams.length;// 实际标签的个数\n                if(paramsNameNumber<=5){\n                  newParamsName = newParams;\n                }else{\n                  newParamsName = newParams.substring(0,4)  + \"...\";\n                }\n\n                index = contains(attackSourcesName, params) + 1;\n                params = newParamsName;\n                if (index - 1 < 3) {\n                    return [\n                        '{a' + index + '|' + index + '}' + '  ' + params\n                    ].join('\\n')\n                } else {\n                    return [\n                        '{b|' + index + '}' + '  ' + params\n                    ].join('\\n')\n                }\n            }\n        }\n    },\n    series: [\n        {\n            name: '户籍',\n            type: 'bar',\n            stack: '总量',\n            label: {\n                show: true\n            },\n            barWidth: 10,\n            data: [1, 1, 3, 1, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0]\n        },\n        {\n            name: '居住',\n            type: 'bar',\n            stack: '总量',\n            label: {\n                show: true,\n                position: 'left'\n            },\n            barWidth: 10,\n            data: [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 5, 0, 1, 0, 0, 0]\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-oMh8dOJBM1AU_feLTKJcUeQxYXqhc2a","theme":"","layout":"","viewCount":63,"userName":"孤***夕","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xjNL2jGDyj.png?v=1615989907134","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-bar"],"customTags":[],"updaterUserName":"孤***夕"}}