{"status":0,"data":{"cid":"xrkfsZneG","authorUid":"bd-2215764494","authorUserName":"p***g","title":"Life Expectancy Graph","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2016-05-11T13:20:25.000Z","lastUpdateTime":"2016-05-17T10:53:58.000Z","auth":2,"uid":"bd-2215764494","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"3.1.9","versionCreateTime":"2016-05-17T08:32:41.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1461573404128-HJ4Qv8og.json\";\n\noption = {\n    grid: {\n        left: 10,\n        bottom: 20,\n        containLabel: true,\n        top: 80\n    },\n    xAxis: {\n        type: 'value',\n        name: 'Expectancy',\n        nameLocation: 'middle'\n    },\n    yAxis: {\n        type: 'value',\n        scale: true,\n        name: 'Life',\n        nameLocation: 'middle',\n        nameGap: 20\n    },\n    toolbox: {\n        feature: {\n            dataZoom: {}\n        }  \n    },\n    dataZoom: {\n        type: 'inside'  \n    },\n    series: []\n};\n\n$.getJSON(uploadedDataURL, function (data) {\n    var series = data.series;\n    \n    option.visualMap = {\n        show: false,\n        min: 0,\n        max: 100,\n        dimension: 1,\n        inRange: {\n            colorLightness: [0.2, 0.9]\n        }\n    };\n    \n    option.legend = {\n        data: data.counties,\n        selectedMode: 'single',\n        right: 100\n    };\n    \n    data.counties.forEach(function (country) {\n        var data = series.map(function (yearData) {\n            var item = yearData.filter(function (item) {\n                return item[3] === country;\n            })[0];\n            return {\n                label: {\n                    normal: {\n                        show: item[4] % 10 === 0 && item[4] >  1950,\n                        position: 'top'\n                    },\n                    emphasis: {\n                        show: true\n                    }\n                },\n                name: item[4],\n                value: item\n            };\n        });\n        var links = data.map(function (item, idx) {\n            return {\n                source: idx,\n                target: idx + 1\n            };\n        });\n        links.pop();\n        \n        option.series.push({\n            name: country,\n            type: 'graph',\n            coordinateSystem: 'cartesian2d',\n            data: data,\n            links: links,\n            edgeSymbol: ['none', 'arrow'],\n            edgeSymbolSize: 5,\n            legendHoverLink: false,\n            lineStyle: {\n                normal: {\n                    color: '#333'\n                }  \n            },\n            itemStyle: {\n                normal: {\n                    borderWidth: 1,\n                    borderColor: '#333'\n                }  \n            },\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#333'  \n                    },\n                    position: 'right'\n                }  \n            },\n            symbolSize: 10,\n            animationDelay: function (idx) {\n                return idx * 100\n            }\n        });\n    });\n    \n    \n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-2215764494","theme":"default","layout":"","viewCount":1215,"userName":"p***g","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkfsZneG.png?v=1463482438732","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-graph","toolbox","visualMap"],"customTags":[],"updaterUserName":"p***g"}}