{"status":0,"data":{"cid":"xHk7rVIP7W","authorUid":"bd-1665114027","authorUserName":"smilingacan","title":"实时数据变化","description":"","latestVersion":17,"alwaysLatest":1,"createTime":"2017-06-21T02:04:42.000Z","lastUpdateTime":"2017-06-21T02:04:42.000Z","auth":2,"uid":"bd-1665114027","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":17,"parentVersion":16,"echartsVersion":"3.6.2","versionCreateTime":"2017-06-21T02:32:51.000Z","code":"function GetRandomNum(Min, Max) {\r\n    var Range = Max - Min;\r\n    var Rand = Math.random();\r\n    return (Min + Math.round(Rand * Range));\r\n}\r\nvar gauge_value = 0;\r\n\r\nsetInterval(function() {\r\n    gauge_value = GetRandomNum(-200, 200);\r\n    console.log(gauge_value);\r\n\r\n    option = {\r\n        title: {\r\n            //show:false,\r\n            x: \"center\",\r\n            bottom: 200,\r\n            //text:'AAA',\r\n            subtext: '高程'\r\n        },\r\n        tooltip: {\r\n            show: true,\r\n            // formatter: \"{a} <br/>{b} {c}\",\r\n            backgroundColor: '#F7F9FB',\r\n            borderColor: '#92DAFF',\r\n            borderWidth: '1px',\r\n            textStyle: {\r\n                color: 'black'\r\n            },\r\n            formatter: function(param) {\r\n                return '<em style=\"color:' + param.color + ';\">' + param.value + '</em> 分'\r\n            }\r\n    \r\n        },\r\n        series: [{\r\n            name: '高程',\r\n            type: 'gauge',\r\n            // startAngle: 180,\r\n            // endAngle: 0,\r\n            min: -200,\r\n            max: 200,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 40,\r\n                    shadowBlur: 0,\r\n                    color: [\r\n                        [0.15, '#E43F3D'],\r\n                        [0.35, '#E98E2C'],\r\n                        [0.65, '#7CBB55'],\r\n                        [0.85, '#E98E2C'],\r\n                        [1, '#E43F3D']\r\n                    ]\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: true,\r\n                splitNumber: 1\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                length: 40,\r\n                lineStyle: {\r\n                    //color:'black'\r\n                },\r\n            },\r\n            axisLabel: {\r\n                formatter: function(e) {\r\n                    switch (e + \"\") {\r\n                        case \"-170\":\r\n                            return \"报警\";\r\n                            //return \"\";\r\n                        case \"-140\":\r\n                            return \"-140\";\r\n    \r\n                        case \"-100\":\r\n                            return \"预警\";\r\n                            //return \"\";\r\n                        case \"-60\":\r\n                            return \"-60\";\r\n    \r\n                        case \"-30\":\r\n                            return \"-30\";\r\n                            //return \"\";\r\n                        case \"0\":\r\n                            return \"0\";\r\n    \r\n                        case \"30\":\r\n                            return \"30\";\r\n                            //return \"\";\r\n                        case \"60\":\r\n                            return \"60\";\r\n    \r\n                        case \"-100\":\r\n                            return \"预警\";\r\n    \r\n                        case \"140\":\r\n                            return \"140\";\r\n                            \r\n                        case \"170\":\r\n                            return \"报警\";\r\n                            \r\n                        default:\r\n                            return e;\r\n                    }\r\n                },\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                    fontWeight: \"\"\r\n                }\r\n            },\r\n            pointer: {\r\n                show: true,\r\n            },\r\n            detail: {\r\n                //show:false,\r\n                formatter: function(param) {\r\n                    var level = '';\r\n                    if (param < -140) {\r\n                        level = '报警'\r\n                    } else if (param < -60) {\r\n                        level = '预警'\r\n                    } else if (param < 60) {\r\n                        level = '正常'\r\n                    } else if (param <= 140) {\r\n                        level = '预警'\r\n                    } else {\r\n                        level = '报警';\r\n                    }\r\n                    return level;\r\n                },\r\n                offsetCenter: [0, 140],\r\n                textStyle: {\r\n                    fontSize: 40\r\n                }\r\n            },\r\n            data: [{\r\n                name: \"\",\r\n                value: Math.floor(gauge_value)\r\n            }]\r\n        }]\r\n    };\r\n\r\n    myChart.setOption(option);\r\n\r\n}, 1000);","html":"","externalScripts":"","updaterUID":"bd-1665114027","theme":"","layout":"","viewCount":469,"userName":"smilingacan","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHk7rVIP7W.png?v=1498012371935","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","title","tooltip"],"customTags":[],"updaterUserName":"smilingacan"}}