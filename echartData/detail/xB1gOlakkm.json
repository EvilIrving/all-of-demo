{"status":0,"data":{"cid":"xB1gOlakkm","authorUid":"bd-3603224070","authorUserName":"水瓶逗不了你笑","title":"demo","description":"","latestVersion":8,"alwaysLatest":1,"createTime":"2018-05-21T03:43:36.000Z","lastUpdateTime":"2018-05-21T03:43:36.000Z","auth":1,"uid":"bd-3603224070","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-15T08:34:46.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1526873220753-BJTF331Jm.json\";\r\nmyChart.showLoading();\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('xiangxi', geoJson);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n        '古丈': [109.91, 28.62],\r\n        '泸溪': [109.99, 28.10],\r\n        '凤凰': [109.43, 27.92],\r\n        '花垣': [109.46, 28.59],\r\n        '保靖': [109.64, 28.7],\r\n        '吉首': [109.71, 28.3],\r\n        '永顺': [109.84, 29],\r\n        '龙山': [109.42, 29.34]\r\n    }\r\n    var data = [\r\n        {name: '古丈', value: 199},\r\n        {name: '泸溪', value: 39},\r\n        {name: '凤凰', value: 152},\r\n        {name: '花垣', value: 299},\r\n        {name: '保靖', value: 89},\r\n        {name: '吉首', value: 52},\r\n        {name: '永顺', value: 9},\r\n        {name: '龙山', value: 352}\r\n    ];\r\n    var max = 480, min = 9; // todo \r\n    var maxSize4Pin = 100, minSize4Pin = 20;\r\n\r\n  var convertData = function (data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\n    option = {\r\n        backgroundColor:'#fff',\r\n        geo: {\r\n            show: true,\r\n            map: 'xiangxi',\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    //区域背景颜色\r\n                    areaColor: '#031525',\r\n                    //区域边框颜色\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    //鼠标放置区域背景颜色\r\n                    areaColor: '#2B91B7',\r\n                }\r\n            }\r\n        },\r\n        series : [\r\n      {\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function (val) {\r\n                return val[2] / 10;\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#05C3F9'\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: '点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin',\r\n            symbolSize: function (val) {\r\n                var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n                var b = minSize4Pin - a*min;\r\n                b = maxSize4Pin - a*max;\r\n                return a*val[2]+b;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff',//气泡内数值颜色\r\n                        fontSize: 9,\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#F62157', //气泡颜色\r\n                }\r\n            },\r\n            zlevel: 6,\r\n            data: convertData(data),\r\n        }\r\n         \r\n    ]\r\n    };\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-4144840122","theme":"","layout":"","viewCount":3864,"userName":"水瓶逗不了你笑","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1gOlakkm.png?v=1557909286651","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter"],"customTags":[],"updaterUserName":"lzh200618111"}}