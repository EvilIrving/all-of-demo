{"status":0,"data":{"cid":"xPc3r7d1-6","authorUid":"bd-365218436","authorUserName":"G***G","title":"双立体柱状图","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2021-02-20T02:21:25.000Z","lastUpdateTime":"2021-09-15T01:21:32.000Z","auth":2,"uid":"bd-365218436","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-15T01:21:32.000Z","code":"/**\n *\n * 作者: GhostCat\n * 博客: https://gcat.cc\n * 描述: 双立体折线辉光图\n *\n */\n\nlet manNumber = [32, 58, 64, 64, 64, 25];\nlet womanNumber = [32, 58, 64, 64, 64, 25];\nlet sumNumber = [64, 58 * 2, 64 * 2, 64 * 2, 64 * 2, 25 * 2];\nlet xData = ['20以下', '21-30', '31-40', '41-50', '51-60', '60以上'];\n\nlet dom = 800;\nlet barWidth = dom / 20;\nlet manColors = [];\nlet womanColors = [];\nfor (let i = 0; i < 10; i++) {\n    manColors.push({\n        type: 'linear',\n        x: 0,\n        x2: 1,\n        y: 0,\n        y2: 0,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#73fcff', // 最左边\n            },\n            {\n                offset: 0.5,\n                color: '#86eef1', // 左边的右边 颜色\n            },\n            {\n                offset: 0.5,\n                color: '#5ad6d9', // 右边的左边 颜色\n            },\n            {\n                offset: 1,\n                color: '#3dc8ca',\n            },\n        ],\n    });\n    womanColors.push({\n        type: 'linear',\n        x: 0,\n        x2: 1,\n        y: 0,\n        y2: 0,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#ffd680', // 最左边\n            },\n            {\n                offset: 0.5,\n                color: '#ffd882', // 左边的右边 颜色\n            },\n            {\n                offset: 0.5,\n                color: '#f2c258', // 右边的左边 颜色\n            },\n            {\n                offset: 1,\n                color: '#f1bf52',\n            },\n        ],\n    });\n}\noption = {\n    backgroundColor: '#010d3a',\n    //提示框\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (p) {\n            console.log(p, p[0].marker);\n            let div = `\n                ${p[0].name}\n                <br/>\n                ${p[0].seriesName}:${p[0].value}\n                <br/>\n                ${p[3].seriesName}:${p[3].value}\n                <br/>\n                ${p[6].seriesName}:${p[6].value}\n            `;\n            return div;\n        },\n        axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n        },\n    },\n    // legend: {\n    // legend 不好做 放弃\n    //     itemGap: 20,\n    //     top: 20,\n    //     left: '10%',\n    //     // itemWidth: 14,\n    //     itemHeight: 14,\n    //     data: [\n    //         {\n    //             name: '男',\n    //             icon: 'roundRect',\n    //         },\n    //         {\n    //             name: '女',\n    //             icon: 'roundRect',\n    //         },\n    //         {\n    //             name: '总人数',\n    //             // icon: 'triangle',\n    //         }\n    //     ],\n    //     textStyle: {\n    //         color: \"#fff\",\n    //     }\n    // },\n    /**区域位置*/\n    grid: {\n        left: '10%',\n        right: '10%',\n        top: '10%',\n        bottom: '10%',\n    },\n    //X轴\n    xAxis: {\n        data: xData,\n        type: 'category',\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: 'rgba(255,255,255,1)',\n                shadowColor: 'rgba(255,255,255,1)',\n                shadowOffsetX: '20',\n            },\n            symbol: ['none', 'arrow'],\n            symbolOffset: [0, 25],\n        },\n        splitLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            margin: 30,\n            fontSize: 15,\n        },\n    },\n    yAxis: {\n        show: true,\n        splitNumber: 4,\n        axisLine: {\n            show: false,\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                type: 'dashed',\n                color: '#075858',\n            },\n        },\n        axisLabel: {\n            color: '#FFFFFF',\n            margin: 30,\n            fontSize: 15,\n        },\n    },\n    series: [\n        {\n            name: '男',\n            type: 'bar',\n            barWidth: barWidth,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return manColors[params.dataIndex % 7];\n                    },\n                },\n            },\n            data: manNumber,\n        },\n        {\n            z: 2,\n            type: 'pictorialBar',\n            data: manNumber,\n            symbol: 'diamond',\n            symbolOffset: ['-63%', '50%'],\n            symbolSize: [barWidth, barWidth * 0.5],\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return manColors[params.dataIndex % 7];\n                    },\n                },\n            },\n        },\n        {\n            z: 3,\n            type: 'pictorialBar',\n            symbolPosition: 'end',\n            data: manNumber,\n            symbol: 'diamond',\n            symbolOffset: ['-63%', '-50%'],\n            symbolSize: [barWidth, barWidth * 0.5],\n            itemStyle: {\n                normal: {\n                    borderWidth: 0,\n                    color: function (params) {\n                        return manColors[params.dataIndex % 7].colorStops[0].color;\n                    },\n                },\n            },\n        },\n        // ---------------------分割线---------------------\n        {\n            name: '女',\n            type: 'bar',\n            barWidth: barWidth,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return womanColors[params.dataIndex % 7];\n                    },\n                },\n            },\n            data: womanNumber,\n        },\n        {\n            z: 2,\n            type: 'pictorialBar',\n            data: womanNumber,\n            symbol: 'diamond',\n            symbolOffset: ['63%', '50%'],\n            symbolSize: [barWidth, barWidth * 0.5],\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return womanColors[params.dataIndex % 7];\n                    },\n                },\n            },\n        },\n        {\n            z: 3,\n            type: 'pictorialBar',\n            symbolPosition: 'end',\n            data: womanNumber,\n            symbol: 'diamond',\n            symbolOffset: ['63%', '-50%'],\n            symbolSize: [barWidth, barWidth * 0.5],\n            itemStyle: {\n                normal: {\n                    borderWidth: 0,\n                    color: function (params) {\n                        return womanColors[params.dataIndex % 7].colorStops[0].color;\n                    },\n                },\n            },\n        },\n\n        // 总人数\n        {\n            name: '总人数',\n            type: 'line',\n            showAllSymbol: true,\n            symbol: 'circle',\n            symbolSize: 10,\n            itemStyle: {\n                color: '#fff',\n                shadowColor: '#5ce0e2',\n                shadowBlur: 20,\n                borderColor: '#5ce0e2',\n                borderWidth: 5,\n            },\n            lineStyle: {\n                width: 4,\n                color: '#5ce0e2',\n                shadowColor: '#5ce0e2',\n                shadowBlur: 20,\n            },\n            data: sumNumber,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-365218436","theme":"","layout":"","viewCount":149,"userName":"G***G","commentCount":0,"starCount":48,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPc3r7d1-6.png?v=1631668892397","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"G***G"}}