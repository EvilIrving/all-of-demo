{"status":0,"data":{"cid":"xTbaLsamEp","authorUid":"obd-ojMkZGEqVjS64-BuneeMmDhNFy71-Ea","authorUserName":"辰***g","title":"图表联动","description":"点击图表markArea获取另一个图表数据","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-12T09:08:54.000Z","lastUpdateTime":"2021-11-12T09:30:24.000Z","auth":2,"uid":"obd-ojMkZGEqVjS64-BuneeMmDhNFy71-Ea","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-12T09:30:24.000Z","code":"// 预警时间数据\nvar warnTimes = [\n    {\n        endTime: '2021-09-21',\n        reportYear: 2021,\n        startTime: '2021-09-19',\n        times: 4,\n        warnTimes: '2021-4',\n    },\n    {\n        endTime: 2021 - 09 - 19,\n        reportYear: 2021,\n        startTime: '2021-09-17',\n        times: 3,\n        warnTimes: '2021-3',\n    },\n    {\n        endTime: '2021-09-16',\n        reportYear: 2021,\n        startTime: '2021-09-15',\n        times: 2,\n        warnTimes: '2021-2',\n    },\n    {\n        endTime: '2021-09-11',\n        reportYear: 2021,\n        startTime: '2021-09-09',\n        times: 1,\n        warnTimes: '2021-1',\n    },\n];\nvar xAxisData = [\n    '2021-09-01',\n    '2021-09-02',\n    '2021-09-03',\n    '2021-09-04',\n    '2021-09-05',\n    '2021-09-06',\n    '2021-09-07',\n    '2021-09-08',\n    '2021-09-09',\n    '2021-09-10',\n    '2021-09-11',\n    '2021-09-12',\n    '2021-09-13',\n    '2021-09-14',\n    '2021-09-15',\n    '2021-09-16',\n    '2021-09-17',\n    '2021-09-18',\n    '2021-09-19',\n    '2021-09-20',\n    '2021-09-21',\n    '2021-09-22',\n    '2021-09-23',\n    '2021-09-24',\n    '2021-09-25',\n    '2021-09-26',\n    '2021-09-27',\n    '2021-09-28',\n    '2021-09-29',\n    '2021-09-30',\n];\n\nvar markAreaData = disposeMarkArea(warnTimes);\nvar values = [\n    '20',\n    '9',\n    '23',\n    '24',\n    '210',\n    '21',\n    '907',\n    '8',\n    '99',\n    '109',\n    '911',\n    '212',\n    '913',\n    '20',\n    '15',\n    '21',\n    '20',\n    '219',\n    '19',\n    '20',\n    '34',\n    '45',\n    '50',\n    '51',\n    '23',\n    '26',\n    '100',\n    '101',\n    '102',\n    '103',\n];\n// 处理markArea数据\n// 并手动添加第一块区域默认点击高亮效果\nfunction disposeMarkArea(warnData) {\n    // 因为预警次数列表数据是最新时间排在前面 这里倒置一下顺序\n    const data = warnData.slice().reverse();\n    const _arr = [];\n    if (data.length == 0) return [];\n    for (const i in data) {\n        const item = [\n            {\n                xAxis: data[i].startTime,\n                name: data[i].warnTimes.replace(/-/, '年') + '次',\n                times: data[i].warnTimes,\n            },\n            { xAxis: data[i].endTime },\n        ];\n        _arr.push(item);\n    }\n    _arr[0][0].itemStyle = { color: '#f584f5' };\n    return _arr;\n}\noption = {\n    tooltip: {\n        trigger: 'axis',\n    },\n    //添加标题\n    title: {\n        bottom: 0,\n        left: 'center',\n        textStyle: {\n            fontSize: 14,\n            fontWeight: 'normal',\n            color: '#303133',\n        },\n    },\n    legend: {},\n    xAxis: [\n        {\n            data: xAxisData,\n            type: 'category',\n            axisTick: {\n                //是否显示坐标刻度\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#DCDFE6',\n                },\n            },\n            axisLabel: {\n                color: '#303133',\n                fontSize: '12',\n            },\n        },\n    ],\n    yAxis: [\n        {\n            name: '排放量',\n            nameTextStyle: {\n                color: '#909399',\n                align: 'right',\n                fontSize: 12,\n            },\n            minInterval: 1,\n            min: 0,\n            type: 'value',\n            axisLabel: {\n                color: '#606266',\n                fontSize: '12',\n                lineHeight: '12',\n            },\n            splitLine: {\n                show: false, //不显示网格分割线\n            },\n            axisLine: {\n                show: false, //不显示y轴线\n            },\n            axisTick: {\n                //是否显示坐标刻度\n                show: false,\n            },\n            splitArea: {\n                show: true,\n                areaStyle: {\n                    color: ['#F2F6FC', 'transparent'],\n                },\n            },\n        },\n    ],\n    grid: { top: '15%', bottom: '20%', left: '5%', right: '5%' },\n    series: [\n        {\n            type: 'line',\n            data: values,\n            itemStyle: { color: '#409eff' },\n            yAxisIndex: 0,\n            name: '排放量',\n            markArea: {\n                data: markAreaData,\n                itemStyle: { color: '#f0b1f0' },\n                label: { color: '#f0b1f0' },\n            },\n        },\n    ],\n};\n// 图表鼠标悬浮事件\nlet index = 0 \n// 处理高亮选择\nfunction disposeHourProcess() {\n    console.log('myChart',myChart)\n\n}\n","html":"","externalScripts":"","updaterUID":"obd-ojMkZGEqVjS64-BuneeMmDhNFy71-Ea","theme":"","layout":"","viewCount":0,"userName":"辰***g","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTbaLsamEp.png?v=1636709424299","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markArea","series-line","title","tooltip"],"customTags":[],"updaterUserName":"辰***g"}}