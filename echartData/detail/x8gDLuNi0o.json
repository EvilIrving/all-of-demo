{"status":0,"data":{"cid":"x8gDLuNi0o","authorUid":"bd-1445621058","authorUserName":"晓***5","title":"全国行政区划3D地图","description":"测试","latestVersion":17,"alwaysLatest":1,"createTime":"2019-03-19T13:51:48.000Z","lastUpdateTime":"2019-07-10T02:42:04.000Z","auth":2,"uid":"bd-1445621058","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":17,"parentVersion":16,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-23T02:06:44.000Z","code":"var nodes = [{\n        x: '0',\n        y: '850',\n        nodeName: '特殊成分管理',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n    }, {\n        x: '150',\n        y: '850',\n        nodeName: '成分确认总\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n    }, {\n        x: '300',\n        y: '850',\n        nodeName: '外送电量调整\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n    }, \n    {\n        x: '150',\n        y: '450',\n        nodeName: '横向数据抽取\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n    },\n    {\n        x: '150',\n        y: '250',\n        nodeName: '上报数据总\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },{\n        x: '300',\n        y: '450',\n        nodeName: '电厂上网电量计算\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n    },\n    {\n        x: '300',\n        y: '250',\n        nodeName: '电厂上网电量校验\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '400',\n        y: '650',\n        nodeName: '数据准备\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '500',\n        y: '650',\n        nodeName: '电厂成分清分总\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '600',\n        y: '650',\n        nodeName: '超发电量确认\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '700',\n        y: '650',\n        nodeName: '日前实时共享备用\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '800',\n        y: '650',\n        nodeName: '电厂结算\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '900',\n        y: '650',\n        nodeName: '电厂结算结果校核\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '1000',\n        y: '850',\n        nodeName: '电厂报表发布\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    {\n        x: '1000',\n        y: '450',\n        nodeName: '电厂报表确认\\n完成率',\n        img: 'data-1547633192258-2EYYUDdcd.png',\n        //alarm: '发生警告!'\n    },\n    \n]\nvar charts = {\n    nodes: [],\n    linesData: [{\n        remark: '特殊成分管理-->成分确认',\n        coords: [\n            [0, 850],\n            [150, 850]\n\n        ]\n    },{\n        remark: '成分确认-->外送电量调整',\n        coords: [\n            [150, 850],\n            [300, 850]\n\n        ]\n    },{\n        remark: '外送电量调整-->数据准备完成率',\n        coords: [\n            [300, 850],\n            [350, 850],\n            [350, 650],\n            [400, 650]\n\n        ]\n    },{\n        remark: '横向数据抽取完成率-->-->上网电量',\n        coords: [\n            [150, 450],\n            [150, 350],\n            [300, 350]\n\n        ]\n    },{\n        remark: '上报数据完成率-->-->上网电量',\n        coords: [\n            [150, 250],\n            [150, 350],\n            [300, 350]\n\n        ]\n    },{\n        remark: '上网电量-->数据准备完成率',\n        coords: [\n            [300, 450],\n            [300, 350]\n\n        ]\n    },{\n        remark: '上网电量-->数据准备完成率',\n        coords: [\n            [300, 250],\n            [300, 350],\n            [350, 350],\n            [350, 650],\n            [400, 650]\n\n        ]\n    },{\n        remark: '数据准备-->成分清分',\n        coords: [\n            [400, 650],\n            [500, 650]\n\n        ]\n    },{\n        remark: '成分清分-->超发电量',\n        coords: [\n            [500, 650],\n            [600, 650]\n\n        ]\n    },{\n        remark: '超发电量-->实时共享',\n        coords: [\n            [600, 650],\n            [700, 650]\n        ]\n    },{\n        remark: '实时共享-->电厂结算',\n        coords: [\n            [700, 650],\n            [800, 650]\n\n        ],\n        lineStyle: {\n            normal: {\n                color: '#DC143C'\n            }\n        },\n        effect: {\n            color: '#DC143C'\n        }\n    },{\n        remark: '电厂结算-->结果校核',\n        coords: [\n            [800, 650],\n            [900, 650]\n\n        ]\n    },{\n        remark: '结果校核-->报表发布',\n        coords: [\n            [900, 650],\n            [1000, 650],\n            [1000, 850]\n\n        ]\n    },{\n        remark: '报表发布-->报表确认',\n        coords: [\n            [1000, 850],\n            [1000, 450]\n\n        ]\n    },/*{\n        remark: '左边数起第3个负载均衡-->票据服务器2',\n        coords: [\n            [630, 723],\n            [670, 580]\n\n        ]\n    },{\n        remark: '左边数起第4个负载均衡-->电子制票及存储中心1',\n        coords: [\n            [850, 723],\n            [800, 580]\n\n        ]\n    },{\n        remark: '左边数起第4个负载均衡-->电子制票及存储中心2',\n        coords: [\n            [850, 723],\n            [900, 580]\n\n        ]\n    },{\n        remark: '查验网站-->Inceptor1',\n        coords: [\n            [100, 450],\n            [100, 300],\n            [160, 300]\n\n        ]\n    },{\n        remark: '电子票制作及存储中心-->Inceptor2',\n        coords: [\n            [350, 450],\n            [350, 300],\n            [280, 300]\n\n        ]\n    },{\n        remark: '票据服务器-->票据Oracle数据库服务器',\n        coords: [\n            [620, 450],\n            [620, 300],\n            [690, 300]\n\n        ]\n    },{\n        remark: '电子制票及储存中心-->票据Oracle数据库服务器',\n        coords: [\n            [850, 450],\n            [850, 300],\n            [810, 300]\n\n        ]\n    }*/]\n}\nfor (var j = 0; j < nodes.length; j++) {\n    var x = parseInt(nodes[j].x)\n    var y = parseInt(nodes[j].y)\n    var node = {\n        nodeName: nodes[j].nodeName,\n        value: [x, y],\n        symbolSize: 50,\n        alarm: nodes[j].alarm,\n        symbol: 'image:///asset/get/s/' + nodes[j].img,\n        itemStyle: {\n            normal: {\n                color: '#12b5d0',\n            }\n        }\n    }\n    charts.nodes.push(node)\n}\n\noption = {\n    backgroundColor: \"#fff\",\n    xAxis: {\n        min: 0,\n        max: 1000,\n        show: false,\n        type: 'value'\n    },\n    yAxis: {\n        min: 0,\n        max: 1000,\n        show: false,\n        type: 'value'\n    },\n    series: [{\n        type: 'graph',\n        coordinateSystem: 'cartesian2d',\n        label: {\n            normal: {\n                show: true,\n                position: 'bottom',\n                color: '#0ca361'\n            }\n        },\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    formatter: function(item) {\n                        return item.data.nodeName\n                    }\n                }\n            }\n        },\n        data: charts.nodes,\n    }, {\n        type: 'lines',\n        polyline: true,\n        coordinateSystem: 'cartesian2d',\n        lineStyle: {\n            normal: {\n                width: 2,\n                color: '#0ca361',\n                curveness: 0.3\n            }\n        },\n        effect: {\n            show: true,\n            trailLength: 0.1,\n            symbol: 'arrow',\n            color: '#0ca361',\n            symbolSize: 8\n        },\n        data: charts.linesData\n    }]\n};\n//用于告警的动态效果\nsetInterval(() => {\n    var dataI = []\n    for (var n = 0; n < nodes.length; n++) {\n        var alarm = nodes[n].alarm\n        if (alarm) {\n            option.series[0].data[n].symbolSize = 60\n            option.series[0].data[n].label = {\n                normal: {\n                    color: '#DC143C'\n                }\n            }\n            option.series[0].itemStyle.normal.label.formatter = function(item) {\n                if (item.data.alarm) {\n                    return item.data.nodeName + '\\n[ ' + item.data.alarm + ' ]'\n                } else {\n                    return item.data.nodeName\n                }\n            }\n            dataI.push(n)\n        }\n    }\n    myChart.setOption(option)\n    setTimeout(() => {\n        for (var m = 0; m < dataI.length; m++) {\n            option.series[0].data[dataI[m]].symbolSize = 50\n            option.series[0].data[dataI[m]].label = {\n                normal: {\n                    color: '#0ca361'\n                }\n            }\n            option.series[0].itemStyle.normal.label.formatter = function(item) {\n                return item.data.nodeName\n            }\n        }\n        myChart.setOption(option)\n    }, 500)\n}, 1000)","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/latest/extension/bmap.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-1445621058","theme":"infographic","layout":"","viewCount":327,"userName":"晓***5","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8gDLuNi0o.png?v=1598148404820","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"晓***5"}}