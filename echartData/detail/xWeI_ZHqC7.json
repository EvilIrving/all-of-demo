{"status":0,"data":{"cid":"xWeI_ZHqC7","authorUid":"obd-oCXtyz0xOcP6EqG0lH2aL9xyfMkRj3G","authorUserName":"玉***s","title":"地图+散点图","description":"散点图icon大小随值变化","latestVersion":2,"alwaysLatest":1,"createTime":"2020-12-31T01:56:39.000Z","lastUpdateTime":"2021-11-03T08:56:03.000Z","auth":1,"uid":"obd-oCXtyz0xOcP6EqG0lH2aL9xyfMkRj3G","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-03T08:56:04.000Z","code":"var mapData = [{\r\n        name: '北京',\r\n        value: 53\r\n    },\r\n    {\r\n        name: '天津',\r\n        value: 38\r\n    },\r\n    {\r\n        name: '上海',\r\n        value: 46\r\n    },\r\n    {\r\n        name: '重庆',\r\n        value: 36\r\n    },\r\n    {\r\n        name: '河北',\r\n        value: 34\r\n    },\r\n    {\r\n        name: '河南',\r\n        value: 32\r\n    },\r\n    {\r\n        name: '云南',\r\n        value: 16\r\n    },\r\n    {\r\n        name: '辽宁',\r\n        value: 43\r\n    },\r\n    {\r\n        name: '黑龙江',\r\n        value: 41\r\n    },\r\n    {\r\n        name: '湖南',\r\n        value: 24\r\n    },\r\n    {\r\n        name: '安徽',\r\n        value: 33\r\n    },\r\n    {\r\n        name: '山东',\r\n        value: 30\r\n    },\r\n    {\r\n        name: '新疆',\r\n        value: 10\r\n    },\r\n    {\r\n        name: '江苏',\r\n        value: 39\r\n    },\r\n    {\r\n        name: '浙江',\r\n        value: 35\r\n    },\r\n    {\r\n        name: '江西',\r\n        value: 20\r\n    },\r\n    {\r\n        name: '湖北',\r\n        value: 21\r\n    },\r\n    {\r\n        name: '广西',\r\n        value: 30\r\n    },\r\n    {\r\n        name: '甘肃',\r\n        value: 12\r\n    },\r\n    {\r\n        name: '山西',\r\n        value: 32\r\n    },\r\n    {\r\n        name: '内蒙古',\r\n        value: 35\r\n    },\r\n    {\r\n        name: '陕西',\r\n        value: 25\r\n    },\r\n    {\r\n        name: '吉林',\r\n        value: 45\r\n    },\r\n    {\r\n        name: '福建',\r\n        value: 28\r\n    },\r\n    {\r\n        name: '贵州',\r\n        value: 18\r\n    },\r\n    {\r\n        name: '广东',\r\n        value: 37\r\n    },\r\n    {\r\n        name: '青海',\r\n        value: 6\r\n    },\r\n    {\r\n        name: '西藏',\r\n        value: 4\r\n    },\r\n    {\r\n        name: '四川',\r\n        value: 33\r\n    },\r\n    {\r\n        name: '宁夏',\r\n        value: 8\r\n    },\r\n    {\r\n        name: '海南',\r\n        value: 19\r\n    },\r\n];\r\nvar mapYData = [];\r\nvar valueList = [];\r\nvar min = 0;\r\nvar max = 0;\r\nfor (var i = 0; i < mapData.length; i++) {\r\n    mapYData.push(mapData[i].name);\r\n    valueList.push(mapData[i].value);\r\n}\r\nvalueList = valueList.sort(function(a, b) {\r\n    return a - b;\r\n});\r\nmin = valueList[0];\r\nmax = valueList[valueList.length - 1];\r\nvar geoCoordMap = []\r\nvar mapFeatures = echarts.getMap(\"china\").geoJson.features;\r\nmapFeatures.forEach(function(v) {\r\n    var name = v.properties.name;\r\n    geoCoordMap[name] = v.properties.cp;\r\n})\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            })\r\n        }\r\n    }\r\n    return res;\r\n}\r\noption = {\r\n    color:['green','#F8B44F'],\r\n    legend: {\r\n        show: true,\r\n        bottom: '6%',\r\n        left: '14%',\r\n        orient: 'vertical',\r\n        padding: 20,\r\n        backgroundColor: 'rgba(236,246,255,0.30)',\r\n        borderWidth: 1,\r\n        borderColor: '#e9f3fb',\r\n        itemGap: 0,\r\n        itemWidth: 20,\r\n        itemHeight: 20,\r\n        symbolKeepAspect: false,\r\n        inactiveColor: '#999999',\r\n        textStyle: {\r\n            fontSize: 16,\r\n        },\r\n        data: [{\r\n            name: '高新区',\r\n            icon: 'pin'\r\n        }, {\r\n            name: '赛区',\r\n            icon: 'pin'\r\n        }],\r\n    },\r\n    visualMap: {\r\n        type: 'continuous',\r\n        text: ['高', '低'],\r\n        showLabel: true,\r\n        seriesIndex: [0],\r\n        min: min,\r\n        max: max,\r\n        inRange: {\r\n            color: ['#93D1FF', '#005CC1']\r\n        },\r\n        textStyle: {\r\n            color: '#333',\r\n            fontSize: 12\r\n        },\r\n        bottom: '0',\r\n        left: '2%'\r\n    },\r\n    geo: {\r\n        roam: true,\r\n        map: 'china',\r\n        left: 'left',\r\n        right: '20%',\r\n        aspectScale: 0.75,\r\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n        layoutSize: '125%',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                color: '#FFFFFF',\r\n                fontSize: 14\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#999999',\r\n                borderWidth: 0.5,\r\n                borderColor: '#FFFFFF'\r\n            }\r\n        },\r\n        regions: [{\r\n            name: '南海诸岛',\r\n            value: 0,\r\n            label: {\r\n                normal: {\r\n                    color: '#333333'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#999999',\r\n                    borderWidth: 0.1,\r\n                    borderColor: '#999999'\r\n                }\r\n            }\r\n        }],\r\n    },\r\n    series: [{\r\n        type: 'map',\r\n        name: 'map',\r\n        aspectScale: 0.75,\r\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n        layoutSize: '125%',\r\n        roam: true,\r\n        geoIndex: 0,\r\n        label: {\r\n            show: false,\r\n        },\r\n        showLegendSymbol:false,\r\n        data: mapData\r\n    }, {\r\n        name: '高新区',\r\n        type: 'scatter',\r\n        coordinateSystem: 'geo',\r\n        data: convertData(mapData),\r\n        symbol: 'pin',\r\n        symbolSize: function(val) {\r\n            return val[2];\r\n        },\r\n        symbolOffset: [-10, -10],\r\n        label: {\r\n            show:true,\r\n            position: 'inside',\r\n            color:'#333',\r\n            formatter: function(params) {\r\n                return params.value[2];\r\n            },\r\n        }\r\n    }, {\r\n        name: '赛区',\r\n        type: 'scatter',\r\n        coordinateSystem: 'geo',\r\n        data: convertData(mapData),\r\n        symbol: 'pin',\r\n        symbolSize: function(val) {\r\n            return val[2];\r\n        },\r\n        symbolOffset: [10,10],\r\n        label: {\r\n            show:true,\r\n            position: 'inside',\r\n            color:'#333',\r\n            formatter: function(params) {\r\n                return params.value[2];\r\n            },\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-oAYgtdKfRZklaGraxKCYYmBRCVzyS71","theme":"","layout":"","viewCount":494,"userName":"玉***s","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWeI_ZHqC7.png?v=1635929764201","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","series-scatter","visualMap"],"customTags":[],"updaterUserName":"一***孩"}}