{"status":0,"data":{"cid":"x3GE0vkezr","authorUid":"obd-oj2mEWAJaTzuqlE-PsLV6PIDPZ2OXDb","authorUserName":"6***6","title":"perfectperson","description":"时间管理","latestVersion":5,"alwaysLatest":1,"createTime":"2020-06-09T05:50:31.000Z","lastUpdateTime":"2020-06-09T05:50:31.000Z","auth":2,"uid":"obd-oj2mEWAJaTzuqlE-PsLV6PIDPZ2OXDb","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-10T01:36:49.000Z","code":"option = {\r\n    backgroundColor: \"#ffffff\",\r\n    title: {\r\n        text: '时间管理',\r\n        subtext: '自律使我快乐！',\r\n        left: 'center'\r\n    },\r\n    series: [{\r\n        name: 'test',\r\n        type: 'gauge',\r\n        radius: '100%',\r\n        center: ['50%', '50%'],\r\n        min: 0,\r\n        max: 120,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 24,\r\n        animation: 0,\r\n        pointer: {\r\n            show: true,\r\n            length: '95%',\r\n            width: 4,\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#000000',\r\n                shadowColor: 'rgba(0, 0, 0, 0.8)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 4,\r\n                shadowOffsetY: 4\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式\r\n            lineStyle: {\r\n                color: [\r\n                    [1, '#000000']\r\n                ],\r\n                width: 5\r\n            }\r\n\r\n        },\r\n        splitLine: { //分割线样式长刻度\r\n            length: 12,\r\n            lineStyle: {\r\n                color: 'auto',\r\n                width: 5\r\n            }\r\n        },\r\n        axisTick: { //仪表盘刻度小标记样式\r\n            show: 1,\r\n            splitNumber: 5,\r\n            length: 10,\r\n            lineStyle: {\r\n                color: ['#000']\r\n            }\r\n        },\r\n        axisLabel: { //刻度盘标签\r\n            show: 1,\r\n            distance: 1, //标签与刻度线的距离,\r\n            textStyle: {\r\n                fontWeight: 'bold',\r\n                fontSize: 12\r\n            },\r\n            formatter: function(t) {\r\n                switch (t + '') {\r\n                    case '0':\r\n                        return '';\r\n                    case '5':\r\n                        return '1';\r\n                    case '10':\r\n                        return '2';\r\n                    case '15':\r\n                        return '3';\r\n                    case '20':\r\n                        return '4';\r\n                    case '25':\r\n                        return '5';\r\n                    case '30':\r\n                        return '6';\r\n                    case '35':\r\n                        return '7';\r\n                    case '40':\r\n                        return '8';\r\n                    case '45':\r\n                        return '9';\r\n                    case '50':\r\n                        return '10';\r\n                    case '55':\r\n                        return '11';\r\n                    case '60':\r\n                        return '12';\r\n                    case '65':\r\n                        return '13';\r\n                    case '70':\r\n                        return '14';\r\n                    case '75':\r\n                        return '15';\r\n                    case '80':\r\n                        return '16';\r\n                    case '85':\r\n                        return '17';\r\n                    case '90':\r\n                        return '18';\r\n                    case '95':\r\n                        return '19';\r\n                    case '100':\r\n                        return '20';\r\n                    case '105':\r\n                        return '21';\r\n                    case '110':\r\n                        return '22';\r\n                    case '115':\r\n                        return '23';\r\n                    case '120':\r\n                        return '24';\r\n\r\n                }\r\n            }\r\n        },\r\n        title: {\r\n            show: 0\r\n        },\r\n        detail: {\r\n            show: 0,\r\n            formatter: '{value}',\r\n            offsetCenter: [0, '60%'],\r\n        },\r\n        data: [{}]\r\n    }, {\r\n        type: 'pie',\r\n        hoverAnimation: false,\r\n        startAngle: getPlanData().startAngle,\r\n        center: ['50%', '50%'],\r\n        radius: ['0', '85%'],\r\n        label: {\r\n            show: true,\r\n            formatter: '{b} ',\r\n            position: 'inside'\r\n        },\r\n\r\n        data: getPlanData().planData\r\n    }]\r\n};\r\n\r\n\r\nfunction getPlanData() {\r\n    var startSleep = 23; //开始睡觉时间\r\n    var startAngle = (360 - 23 * 15) + 90; //每小时15度。计算角度顺时针，但是pie开始角度是按照逆时针运算\r\n    var planData = [{\r\n            value: 7,\r\n            name: \"睡觉\",\r\n            sort: 1\r\n        },\r\n        {\r\n            value: 1,\r\n            name: '早餐上班',\r\n            sort: 2\r\n        }, {\r\n            value: 0.5,\r\n            name: '早会',\r\n            sort: 3\r\n        }, {\r\n            value: 2.5,\r\n            name: '新技术',\r\n            sort: 4,\r\n            label: {\r\n                rotate: -75\r\n            }\r\n        }, {\r\n            value: 3,\r\n            name: 'coding',\r\n            sort: 5,\r\n            label: {\r\n                rotate: 0\r\n            }\r\n        }, {\r\n            value: 1.5,\r\n            name: '午休',\r\n            sort: 6\r\n        },\r\n        {\r\n            value: 3,\r\n            name: 'work',\r\n            sort: 7\r\n        }, {\r\n            value: 0.5,\r\n            name: '休息',\r\n            sort: 8\r\n        }, {\r\n            value: 1,\r\n            name: '工作总结',\r\n            sort: 9\r\n        }, {\r\n            value: 1.5,\r\n            name: '晚餐',\r\n            sort: 10\r\n        }, {\r\n            value: 1,\r\n            name: '运动',\r\n            sort: 11\r\n        }, {\r\n            value: 1,\r\n            name: '带娃、学习',\r\n            sort: 12\r\n        }, {\r\n            value: 0.5,\r\n            name: '洗澡刷牙，准备睡觉',\r\n            sort: 13\r\n        }\r\n    ];\r\n    var lastData;\r\n    //先排序，再计算角度\r\n    /**/\r\n    for (var i = 0; i < planData.length; i++) {\r\n        var curData = planData[i];\r\n        var rotate = 0;\r\n        if (curData.sort == 1) {\r\n            rotate = startAngle - curData.value * 15;\r\n        } else {\r\n            rotate = -curData.value * 15;\r\n        }\r\n        if (lastData) rotate += lastData.rotate\r\n        \r\n        if(rotate < -90)continue;\r\n        curData.label = {\r\n            \"rotate\": rotate\r\n        };\r\n        \r\n        lastData = curData;\r\n    }\r\n    \r\n    return {\r\n        planData: planData,\r\n        startAngle: startAngle\r\n    };\r\n}","html":"","externalScripts":"","updaterUID":"obd-oj2mEWAJaTzuqlE-PsLV6PIDPZ2OXDb","theme":"","layout":"","viewCount":85,"userName":"6***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x3GE0vkezr.png?v=1591753010021","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"6***6"}}