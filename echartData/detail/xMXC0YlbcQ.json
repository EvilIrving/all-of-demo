{"status":0,"data":{"cid":"xMXC0YlbcQ","authorUid":"obd-ojGzlc1WQUJsK4QHNR1rN9WDZ_ZotEL","authorUserName":"盖***_","title":"地图","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2020-12-07T06:08:49.000Z","lastUpdateTime":"2020-12-07T06:08:49.000Z","auth":2,"uid":"obd-ojGzlc1WQUJsK4QHNR1rN9WDZ_ZotEL","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-08T03:33:31.000Z","code":"var geoCoordMap = {\r\n    \"北京\": [116.46, 39.92],\r\n    \"四川\": [104.06, 30.67],\r\n    \"浙江\": [120.19, 30.26],\r\n    \"山东\": [117, 36.65],\r\n    \"福建\": [119.3, 26.08],\r\n    \"上海\": [121.48, 31.22],\r\n    \"重庆\": [106.54, 29.59],\r\n    \"江西\": [115.89, 28.68],\r\n    \"广东\": [113.23, 23.16],\r\n    \"山西\": [112.53, 37.87],\r\n    \"黑龙江\": [126.63, 45.75],\r\n    \"陕西\": [108.95, 34.27],\r\n    \"辽宁\": [123.38, 41.8],\r\n    \"海南\": [110.35, 20.02],\r\n    \"湖南\": [113, 28.21],\r\n    \"宁夏\": [106.27, 38.47],\r\n    \"河北\": [114.48, 38.03],\r\n    \"云南\": [102.73, 25.04],\r\n    \"湖北\": [114.31, 30.52],\r\n    \"内蒙古\": [111.65, 40.82],\r\n    \"天津\": [117.2, 39.13],\r\n    \"贵州\": [106.71, 26.57],\r\n    \"甘肃\": [103.73, 36.03],\r\n    \"江苏\": [118.78, 32.04],\r\n    \"吉林\": [125.35, 43.88],\r\n    \"河南\": [113.65, 34.76],\r\n    \"青海\": [101.74, 36.56],\r\n    \"安徽\": [117.27, 31.86],\r\n    \"广西\": [108.33, 22.84],\r\n    \"西藏\": [91.11, 29.97],\r\n    \"新疆\": [87.68, 43.77]\r\n};\r\n\r\n\r\n//数据部分\r\nvar data = [\r\n    {name:\"北京\",value:88},\r\n    {name:\"四川\",value:88},\r\n    {name:\"浙江\",value:87},\r\n    {name:\"山东\",value:87},\r\n    {name:\"福建\",value:87},\r\n    {name:\"上海\",value:87},\r\n    {name:\"重庆\",value:87},\r\n    {name:\"云南\",value:87},\r\n    {name:\"江西\",value:86},\r\n    {name:\"广东\",value:85},\r\n    {name:\"山西\",value:84},\r\n    {name:\"黑龙江\",value:83},\r\n    {name:\"陕西\",value:83},\r\n    {name:\"辽宁\",value:82},\r\n    {name:\"海南\",value:82},\r\n    {name:\"湖南\",value:82},\r\n    {name:\"宁夏\",value:82},\r\n    {name:\"河北\",value:82},\r\n    {name:\"湖北\",value:81},\r\n    {name:\"内蒙古\",value:81},\r\n    {name:\"天津\",value:80},\r\n    {name:\"贵州\",value:80},\r\n    {name:\"甘肃\",value:80},\r\n    {name:\"江苏\",value:80},\r\n    {name:\"吉林\",value:80},\r\n    {name:\"河南\",value:79},\r\n    {name:\"青海\",value:79},\r\n    {name:\"广西\",value:78},\r\n    {name:\"安徽\",value:77},\r\n    {name:\"新疆\",value:76},\r\n    {name:\"西藏\",value:76}\r\n];\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\n\r\nmyChart.setOption(option = {\r\n        backgroundColor:'#0B2744',\r\n        tooltip: {\r\n            trigger: 'item',\r\n            // position: 'unset',\r\n            backgroundColor: 'rgba(0,0,0,0)',\r\n            formatter: function(params) {\r\n                var tip = '';\r\n                if (params.componentSubType === 'effectScatter') {\r\n                    tip = `<div style=\"background:#000259;height:28px;line-height:28px;padding: 0 9px;fontSize:18px\">\r\n                            ${params.name}:${params.value[2]}人\r\n                        </div>`;\r\n                    return tip;\r\n                } else {\r\n                    if(params.componentSubType === 'map'){if(params.value){\r\n                    tip = `<div style=\"display:flex;background:none;position:relative;top:-50px;left:-20px\">\r\n                            <div style=\"height:44px;width:1px;background:#00FFF6\">1</div>\r\n                            <div style=\"background:#000259;height:28px;line-height:28px;padding: 0 9px;fontSize:18px\">\r\n                            ${params.name}:${params.value}人</div>\r\n                        </div>`\r\n                    }}\r\n                }\r\n                return tip;\r\n            }\r\n        },\r\n        geo: \r\n            {\r\n                type: 'map',\r\n                map: 'china',\r\n                zlevel: -5,\r\n                layoutCenter: ['50%', '50%'],\r\n               // layoutSize: '90%',\r\n                roam: false,\r\n                silent: true,\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderColor: '#ffffff',\r\n                        borderWidth: 3,\r\n                        shadowColor: '#ffffff',\r\n                        // shadowColor:'red',\r\n                        shadowColor: '#00F6FF',\r\n                        // shadowColor:'red',\r\n                        shadowBlur: 15,\r\n                    }\r\n                }\r\n            },\r\n    series: [\r\n        {\r\n            type: 'map',\r\n            map: 'china',\r\n            zlevel: 5,\r\n            geoIndex: 1,\r\n            data: data,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: true, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            roam: false,\r\n            itemStyle: {\r\n                \r\n                normal: {\r\n                    borderColor: 'rgba(111, 253, 255, 1)',\r\n                    borderWidth: 0.5,\r\n                    // areaColor: 'rgba(29,85,139,.6)'\r\n                    areaColor: {\r\n                            type: 'linear-gradient',\r\n                            x: 0,\r\n                            y: 600,\r\n                            x2: 0,\r\n                            y2: 0,\r\n                            colorStops: [{\r\n                                offset: 0,\r\n                                color: 'RGBA(37,108,190,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1,\r\n                                color: 'RGBA(15,169,195,1)' // 50% 处的颜色\r\n                            }],\r\n                            global: true // 缺省为 false\r\n                        },\r\n                },\r\n                emphasis: {\r\n                    areaColor: {\r\n                            type: 'linear-gradient',\r\n                            x: 0,\r\n                            y: 600,\r\n                            x2: 0,\r\n                            y2: 0,\r\n                            colorStops: [{\r\n                                offset: 0,\r\n                                color: 'RGBA(37,108,190,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1,\r\n                                color: 'RGBA(15,169,195,1)' // 50% 处的颜色\r\n                            }],\r\n                            global: true // 缺省为 false\r\n                        },\r\n                }\r\n            },\r\n        },\r\n       /* {\r\n            name: '生源密集度',\r\n            type: 'scatter',\r\n            roam: false,\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: function (val) {\r\n                return val[2]/8;\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'bottom',\r\n                    textStyle:{\r\n                        fontSize:10,\r\n                        fontWeight:'bolder',\r\n                        color:'#666666'\r\n                    },\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: true,\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#3397F0',\r\n                    shadowColor: '#3397F0',\r\n                    shadowBlur: 20\r\n                }\r\n            }\r\n        }*/        {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            geoIndex: 0,\r\n            symbol: 'circle',\r\n            symbolSize: 6,\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke',\r\n                scale: 10\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                show: false,\r\n                formatter: name => {\r\n                    return name.data[2];\r\n                },\r\n                position: 'right',\r\n                color: '#fff',\r\n                fontSize: 14,\r\n                distance: 10\r\n            },\r\n            itemStyle: {\r\n                color: 'rgba(0, 255, 246, 1)',\r\n            },\r\n            zlevel: 12,\r\n            data: convertData(data)\r\n        }, {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            geoIndex: 0,\r\n            silent: true,\r\n            symbol: 'circle',\r\n            symbolSize: 4,\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke',\r\n                scale: 6\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                formatter: '',\r\n                position: 'right',\r\n                color: '#fff',\r\n                fontSize: 14,\r\n                distance: 10,\r\n                show: !0,\r\n            },\r\n            itemStyle: {\r\n                color: 'rgba(255, 255, 255, 0.8)',\r\n            },\r\n            zlevel: 6,\r\n            data: convertData(data)\r\n        }\r\n    ]\r\n});","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-ojGzlc1WQUJsK4QHNR1rN9WDZ_ZotEL","theme":"","layout":"","viewCount":566,"userName":"盖***_","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xMXC0YlbcQ.png?v=1607398411931","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","tooltip"],"customTags":[],"updaterUserName":"盖***_"}}