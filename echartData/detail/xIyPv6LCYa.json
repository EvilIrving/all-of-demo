{"status":0,"data":{"cid":"xIyPv6LCYa","authorUid":"obd-oFxx_XLyLR82NSf-7epMqmHbAt7En5t","authorUserName":"哈***7","title":"中国各省市博物馆建馆时间量","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-14T07:19:45.000Z","lastUpdateTime":"2020-05-14T07:19:45.000Z","auth":2,"uid":"obd-oFxx_XLyLR82NSf-7epMqmHbAt7En5t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-14T07:19:45.000Z","code":"var days = [\"1863-1949\", \"1949-1959\", \"1959-1969\", \"1969-1979\", \"1979-1989\", \"1989-1999\", \"1999-2009\", \"2009-2019\"];\n\nvar province = ['北京', '天津', '河北','山西', '内蒙古', '辽宁', '吉林', '黑龙江', '上海','江苏', '浙江', '安徽', '福建', '江西', '山东','河南', '湖北', '湖南', '广东', '广西','海南', '重庆', '四川', '贵州','云南', '西藏', '陕西', '甘肃', '青海', '宁夏', '新疆','台湾','澳门','香港'];\nvar news = [\"十年间各省市博物馆增长数据\",  \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\", \"十年间各省市博物馆增长数据\"]\nvar data = [\n    [3, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 7, 1, 0, 0, 0, 0, 3, 0, 4, 1, 0, 0, 0, 4, 3, 0],\n    [8, 2, 9, 4, 3, 0, 6, 6, 1, 10, 14, 10, 7, 7, 4, 5, 9, 10, 4, 12, 3, 0, 3, 4, 2, 1, 0, 10, 6, 2, 2, 1, 1, 1],\n    [3, 0, 3, 6, 0, 4, 6, 0, 0, 3, 3, 4, 2, 9, 3, 2, 4, 7, 4, 1, 0, 1, 4, 0, 0, 0, 5, 0, 0, 0, 1, 3, 0, 1],\n    [5, 0, 5, 7, 2, 5, 3, 3, 2, 3, 8, 5, 3, 14, 7, 10, 14, 7, 5, 8, 1, 1, 2, 0, 3, 0, 9, 9, 1, 2, 4, 4, 0, 4],\n    [34, 7, 19, 46, 8, 16, 7, 13, 11, 47, 27, 25, 36, 48, 42, 45, 45, 33, 68, 32, 10, 4, 33, 10, 14, 0, 44, 33, 6, 4, 5, 14, 2, 6],\n    [40, 7, 21, 11, 9, 17, 4, 24, 19, 44, 48, 18, 21, 12, 50, 19, 11, 24, 28, 10, 4, 12, 26, 16, 18, 1, 28, 29, 5, 2, 10, 14, 10, 7],\n    [46, 28, 27, 28, 51, 27, 34, 62, 53, 78, 121, 53, 27, 14, 67, 72, 32, 26, 61, 22, 2, 26, 71, 32, 31, 0, 64, 47, 9, 15, 32, 17, 11, 10],\n    [22, 16, 48, 46, 92, 24, 38, 88, 34, 98, 163, 128, 33, 45, 364, 170, 96, 46, 92, 24, 14, 46, 92, 32, 31, 0, 64, 47, 9, 15, 32, 17, 11, 10]\n];\n\noption = {\n    baseOption: {\n\n        timeline: {\n            axisType: 'category',\n            // realtime: false,\n            // loop: false,\n            autoPlay: true,\n            playInterval: 2000,\n            symbolSize: 12,\n            left: '5%',\n            right: '5%',\n            bottom: '0%',\n            width: '90%',\n            // controlStyle: {\n            //     position: 'left'\n            // },\n            data: days,\n            tooltip: {\n                formatter: days\n            },\n        },\n    \n        tooltip: {\n            show: true,\n            formatter: function(params) {\n                return params.name + '：' + params.data['value']\n            },\n        },\n        visualMap: {\n            type: 'piecewise',\n            pieces: [\n                {\n                    min: 251,\n                    max: 500,\n                    color: '#BD430A'\n                },\n                {\n                    min: 101,\n                    max: 250,\n                    color: '#E08150'\n                },\n                {\n                    min: 11,\n                    max: 100,\n                    color: '#E9B090'\n                },\n                {\n                    min: 1,\n                    max: 10,\n                    color: '#F2DDD2'\n                },\n                {\n                    value: 0,\n                    color: 'white'\n                }\n            ],\n            orient: 'vertical',\n            itemWidth: 25,\n            itemHeight: 15,\n            showLabel: true,\n            seriesIndex: [0],\n\n            textStyle: {\n                color: '#7B93A7'\n            },\n            bottom: '10%',\n            left: \"5%\",\n        },\n        grid: {\n            right: '5%',\n            top: '20%',\n            bottom: '10%',\n            width: '20%'\n        },\n        xAxis: {\n            min: 0,\n            max: 4000,\n            show: false\n        },\n        yAxis: [{\n            inverse: true,\n            offset: '2',\n            'type': 'category',\n            data: '',\n            nameTextStyle: {\n                color: '#fff'\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                //rotate:45,\n                textStyle: {\n                    fontSize: 14,\n                    color: '#000000',\n                },\n                interval: 0\n            },\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    color: '#333'\n                },\n            },\n            splitLine: {\n                show: false,\n                lineStyle: {\n                    color: '#333'\n                }\n            },\n        }],\n        geo: {\n            map: 'china',\n            right: '35%',\n            left: '20%',\n            label: {\n                emphasis: {\n                    show: false,\n                }\n            },\n            itemStyle: {\n                emphasis: {\n                    areaColor: '#8792b3'\n                }\n            }\n        },\n        series: [{\n                name: 'mapSer',\n                type: 'map',\n                map: 'china',\n                roam: false,\n                geoIndex: 0,\n                label: {\n                    show: false,\n                },\n            },\n            {\n                'name': '',\n                'type': 'bar',\n                zlevel: 2,\n                barWidth: '40%',\n                label: {\n                    normal: {\n                        show: true,\n                        fontSize: 14,\n                        position: 'right',\n                        formatter: '{c}'\n                    }\n                },\n            }\n        ],\n\n    },\n    animationDurationUpdate: 3000,\n    animationEasingUpdate: 'quinticInOut',\n    options: []\n};\nfor (var n = 0; n < days.length; n++) {\n\n    var res = [];\n    for (j = 0; j < data[n].length; j++) {\n        res.push({\n            name: province[j],\n            value: data[n][j]\n        });\n    }\n    res.sort(function(a, b) {\n        return b.value - a.value;\n    }).slice(0, 6);\n\n    res.sort(function(a, b) {\n        return a.value - b.value;\n    });\n    var res1 = [];\n    var res2 = [];\n    for (t = 0; t < 10; t++) {\n        res1[t] = res[res.length - 1 - t].name;\n        res2[t] = res[res.length - 1 - t].value;\n    }\n    console.log(res1);\n    console.log(\"----------------\");\n    console.log(province);\n    option.options.push({\n        title: [{\n                 text: days[n] + \"年  \" + news[n],\n                textStyle: {\n                    color: '#2D3E53',\n                    fontSize: 28\n                },\n                left: 20,\n                top: 20,\n            },\n            {\n                show: true,\n                text: '十年内博物馆数量增长前十的省市',\n                textStyle: {\n                    color: '#2D3E53',\n                    fontSize: 18\n                },\n                right: '10%',\n                top: '15%'\n            }\n        ],\n        yAxis: {\n            data: res1,\n        },\n        series: [{\n            type: 'map',\n            data: res\n        }, {\n            type: 'bar',\n            data: res2,\n            itemStyle: {\n                normal: {\n                    color: function(params) {\n                        // build a color map as your need.\n                        var colorList = [{\n                                colorStops: [{\n                                    offset: 0,\n                                    color: '#BD430A' // 0% 处的颜色\n                                }, {\n                                    offset: 1,\n                                    color: '#BD430A' // 100% 处的颜色\n                                }]\n                            },\n                            {\n                                colorStops: [{\n                                    offset: 0,\n                                    color: '#BD430A' // 0% 处的颜色\n                                }, {\n                                    offset: 1,\n                                    color: '#BD430A' // 100% 处的颜色\n                                }]\n                            }\n                        ];\n                        if (params.dataIndex < 3) {\n                            return colorList[0]\n                        } else {\n                            return colorList[1]\n                        }\n                    },\n                }\n            },\n        }]\n    });\n}","html":"","externalScripts":"https://gallery.echartsjs.com/dep/echarts/map/js/china.js","updaterUID":"obd-oFxx_XLyLR82NSf-7epMqmHbAt7En5t","theme":"","layout":"","viewCount":906,"userName":"哈***7","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIyPv6LCYa.png?v=1589440785325","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"哈***7"}}