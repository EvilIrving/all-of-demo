{"status":0,"data":{"cid":"xryiiRbnOM","authorUid":"bd-1679792466","authorUserName":"沉沦在回忆中","title":"企业存活情况","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2018-03-06T12:50:42.000Z","lastUpdateTime":"2018-03-06T12:50:42.000Z","auth":2,"uid":"bd-1679792466","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-07T12:44:02.000Z","code":"var sourceData = [{\n    name: '崇左市',\n    sales: 7.1,\n    services: 17.31\n}, {\n    name: '来宾市',\n    sales:5.91 ,\n    services:  19.65\n}, {\n    name: '河池市',\n    sales: 4.84,\n    services:  15.34\n}, {\n    name: '贺州市',\n    sales: 6.81,\n    services:11.2  \n}, {\n    name: '百色市',\n    sales: 8.8,\n    services: 11.91\n}, {\n    name: '玉林市',\n    sales: 9.12,\n    services: 14.2\n}, {\n    name: '贵港市',\n    sales: 4.68,\n    services: 12.02\n}, {\n    name: '钦州市',\n    sales: 12.8,\n    services: 14.51\n}, {\n    name: '防城港市 ',\n    sales: 5.64,\n    services: 10.41\n}, {\n    name: '北海市',\n    sales: 12.8,\n    services: 16.14\n}, {\n    name: '梧州市',\n    sales: 11.42,\n    services: 14.41\n}, {\n    name: '桂林市',\n    sales: 12.65,\n    services: 10.12\n}, {\n    name: '柳州市',\n    sales: 9.64,\n    services: 12.85\n}, {\n    name: '南宁市',\n    sales: 7.34,\n    services: 10.1\n}]\n\nvar seriesData = sourceData.map(function(item, index, array) {\n    return {\n        name: item['name'],\n        value: [item['sales'], item['services']]\n    }\n})\n\nvar computeServicesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['services']\n    })\n    return sum / sourceData.length\n}\n\nvar computeSalesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['sales']\n    })\n    return sum / sourceData.length\n}\nvar avg = {\n    servicesAvgLine: computeServicesAvgLine(),\n    salesAvgLine: computeSalesAvgLine()\n}\n\noption = {\n    title: {\n        text: '企业许可情况新版与注销分析'\n    },\n    backgroundColor:'#fff',\n    grid:{\n        bottom:'40%',\n        left:'6%',\n        right:'50%'\n    },\n    tooltip: {\n        trigger: 'item',\n        axisPointer: {\n            show: true,\n            type: 'cross',\n            lineStyle: {\n                type: 'dashed',\n                width: 1\n            },\n        },\n        formatter: function(obj) {\n            if (obj.componentType == \"series\") {\n                return '<div style=\"border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px\">' +\n                    obj.name +\n                    '</div>' +\n                    '<span>' +\n                    '新办率' +\n                    '</span>' +\n                    ' : ' + obj.data.value[1] + '%' +\n                    '<br/>' +\n                    '<span>' +\n                    '注销率' +\n                    '</span>' +\n                    ' : ' + obj.data.value[0] + '%'\n            }\n        }\n    },\n    label: {\n        normal: {\n            show: true,\n            position: 'bottom',\n            formatter: function(params) {\n                return params.name\n            }\n        },\n        emphasis: {\n            show: true,\n            position: 'bottom',\n        }\n    },\n    yAxis: {\n        name: '新办率',\n        min:8,\n        type: 'value',\n        scale: true,\n        axisLabel: {\n            formatter: '{value} %'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#000'\n            }\n        }\n    },\n    xAxis: {\n        name: '注销率',\n        type: 'value',\n        scale: true,\n        min:4,\n        axisLabel: {\n            formatter: '{value} %'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#000'\n            }\n        }\n    },\n   \n    series: [{\n        type: 'scatter',\n        data: seriesData,\n        symbolSize: 10,\n        color:'#2ca3fd',\n        label: {\n            normal: {\n                show: true,\n                formatter: function (sourceData) {\n                    return sourceData.name;\n                },\n                position: 'top'\n            }\n        },\n        markLine: {\n            label: {\n                normal: {\n                    \n                }\n            },\n            lineStyle: {\n                normal: {\n                    color: \"#CD3333\",\n                    type: 'solid',\n                    width: 1,\n                },\n                emphasis: {\n                    color: \"#d9def7\"\n                }\n            },\n            data: [{\n                xAxis: avg.salesAvgLine,\n                name: '新办率平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }, {\n                yAxis: avg.servicesAvgLine,\n                name: '注销率平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }]\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1679792466","theme":"","layout":"","viewCount":177,"userName":"沉沦在回忆中","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryiiRbnOM.png?v=1520426642604","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"沉沦在回忆中"}}