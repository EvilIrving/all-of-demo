{"status":0,"data":{"cid":"x0ht6uiJpi","authorUid":"obd-otCkFurVYcfazHQTExH9eTGvnA0Vh8X","authorUserName":"风***下","title":"排名-无时间轴","description":"排名-无时间轴","latestVersion":2,"alwaysLatest":0,"createTime":"2021-12-07T07:31:50.000Z","lastUpdateTime":"2021-12-07T07:50:13.000Z","auth":2,"uid":"obd-otCkFurVYcfazHQTExH9eTGvnA0Vh8X","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-07T07:50:13.000Z","code":"var index =0;\r\nvar baccolor = ['#8A64B8', '#7575D3', '#5F85DD', '#6FABE8', '#7ED3F4', '#8CD8C0',\r\n                                 '#9CDF8D', '#BFED6B', '#EAFE4F', '#FFFD47']\r\n//  var years = ['2016', '2017', '2018'];\r\n// var years = ['9月', '10月', '11月'];\r\n//  var years = ['2021年','12月', '11月', '10月'];\r\n var years = ['12月'];\r\n//  var jdData = [\r\n//      ['香港同胞', '澳门同胞', '台湾同胞', '日  本', '韩  国', '蒙  古', '印度尼西亚', '马来西亚', '菲律宾', '新加坡', '泰  国', '印  度', '越  南', '缅  甸', '朝  鲜', '巴基斯坦', '其  它'],\r\n//      ['香港同胞', '澳门同胞', '台湾同胞', '日  本', '韩  国', '蒙  古', '印度尼西亚', '马来西亚', '菲律宾', '新加坡', '泰  国', '印  度', '越  南', '缅  甸', '朝  鲜', '巴基斯坦', '其  它'],\r\n//      ['香港同胞', '澳门同胞', '台湾同胞', '日  本', '韩  国', '蒙  古', '印度尼西亚', '马来西亚', '菲律宾', '新加坡', '泰  国', '印  度', '越  南', '缅  甸', '朝  鲜', '巴基斯坦', '其  它']\r\n//  ]\r\n//  var data = [\r\n//      [13.2, 1.11, 13.6, 9284, 64138, 2237, 4779, 48877, 2371, 36224, 12956, 2499, 4778, 594, 717, 534, 16487],\r\n//      [15.26, 1.31, 16.68, 10331, 91580, 1909, 40469, 67490, 1765, 36982, 15371, 3643, 2871, 762, 962, 757, 34414],\r\n//      [14.23, 1.31, 21.13, 10873, 94964, 2966, 129748, 59827, 8519, 38344, 18495, 3531, 1369, 544, 2005, 975, 33855, ],\r\n//  ];\r\n\r\n var jdData = [\r\n     ['南昌工厂', '宜昌工厂', '赣州工厂',  '重庆工厂','乐山工厂','贵州工厂','湛江工厂'],\r\n     ['南昌工厂', '宜昌工厂', '赣州工厂',  '重庆工厂','乐山工厂','贵州工厂','湛江工厂'],\r\n     ['南昌工厂', '宜昌工厂', '赣州工厂',  '重庆工厂','乐山工厂','贵州工厂','湛江工厂'],\r\n     ['南昌工厂', '宜昌工厂', '赣州工厂',  '重庆工厂','乐山工厂','贵州工厂','湛江工厂']\r\n ]\r\n var data = [\r\n     [10.2, 12.11, 13.6, 11,16,8,12],\r\n     [13.2, 1.11, 13.6, 12,10,1,10],\r\n     [15.26, 10.31, 16.68, 10,11,7,10],\r\n     [10.23, 1.31, 21.13, 18,10,5,10],\r\n ];\r\n\r\n option = {\r\n\r\n     baseOption: {\r\n         backgroundColor: '#091837', //背景颜色\r\n         timeline: {\r\n             data: years,\r\n             axisType: 'category',\r\n             autoPlay: true,\r\n             show: false,\r\n             playInterval: 5000, //播放速度\r\n\r\n             left: '10%',\r\n             right: '20%',\r\n             bottom: '0%',\r\n             width: '75%', //控制时间轴长度\r\n             //  height: null,\r\n             label: {\r\n                 normal: {\r\n                     textStyle: {\r\n\r\n                         color: '#316BF2', //时间轴底部字体颜色\r\n                     }\r\n                 },\r\n                 emphasis: {\r\n                     textStyle: {\r\n                         color: '#DFC42F'\r\n                     }\r\n                 }\r\n             },\r\n             symbolSize: 5,\r\n             lineStyle: {\r\n                 color: '#red'\r\n             },\r\n             checkpointStyle: {\r\n                 borderColor: '#red',\r\n                 borderWidth: 2\r\n             },\r\n             controlStyle: {\r\n                 showNextBtn: true,\r\n                 showPrevBtn: true,\r\n                 normal: {\r\n                     color: '#143964', //时间轴颜色\r\n                     borderColor: '#143964'\r\n                 },\r\n                 emphasis: {\r\n                     color: 'red',\r\n                     borderColor: 'red'\r\n                 }\r\n             },\r\n\r\n         },\r\n         title: {\r\n             text: '',\r\n             right: '15%',\r\n             bottom: '8%',\r\n             textStyle: {\r\n                 fontSize: 20,\r\n                 color: '#EFEFEF' //时间轴标题字体颜色\r\n             }\r\n         },\r\n         tooltip: {\r\n             'trigger': 'axis'\r\n         },\r\n         calculable: true,\r\n         grid: {\r\n             left: '20%',\r\n             right: '20%',\r\n             bottom: '6%',\r\n             top: '2%',\r\n             containLabel: true\r\n         },\r\n         label: {\r\n             normal: {\r\n                 textStyle: {\r\n                     color: '#DFC42F'\r\n                 }\r\n             }\r\n         },\r\n         yAxis: [{\r\n             type: 'category',\r\n             inverse: true, //控制是正序还是倒序排列\r\n             nameGap: 10,\r\n             offset: '100', //Y轴标题与图表间隔\r\n            //  'type': 'category',\r\n             interval: 50,\r\n             //inverse: ture,//图表倒叙或者正序排版\r\n             data: '',\r\n             nameTextStyle: {\r\n                 color: 'red'\r\n             },\r\n\r\n\r\n             axisLabel: {\r\n                 //rotate:45,\r\n                 show: true,\r\n                 textStyle: {\r\n                 fontSize: 20,\r\n\r\n                 color: function(params, Index) { // 标签国家字体颜色\r\n                     //color:function(d){return \"#\"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//随机生成颜色\r\n                     var colorarrays =  ['#8A64B8', '#7575D3', '#5F85DD', '#6FABE8', '#7ED3F4', '#8CD8C0',\r\n                             '#9CDF8D', '#BFED6B', '#EAFE4F', '#FFFD47', '#FFEA55', '#FFCF63',\r\n                             '#FFA069', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'\r\n                         ];\r\n                     //console.log(\"111\", Index, colorarrays[Index],params); //打印序列\r\n                     return colorarrays[jdData[0].indexOf(params)];\r\n                 },\r\n\r\n                 }, //rotate:45,\r\n                //  interval: 50,\r\n\r\n                formatter: function(params) {\r\n                    if (index == 7) {\r\n                        index = 0;\r\n                    }\r\n                    index++;\r\n                    if (index - 1 < 3) {\r\n                        return [\r\n                            '{a' + index + '|' + index + '}' /*+ '  ' + params*/\r\n                        ].join('\\n')\r\n                    } else {\r\n                        return [\r\n                            '{b|' + index + '}'/*+ '  ' + params*/\r\n                        ].join('\\n')\r\n                    }\r\n                },\r\n                 rich: {\r\n                    a1: {\r\n                        color: '#fff',\r\n                        backgroundColor: baccolor[0],\r\n                        width: 30,\r\n                        height: 30,\r\n                        align: 'center',\r\n                        borderRadius: 5\r\n                    },\r\n                    a2: {\r\n                        color: '#fff',\r\n                        backgroundColor: baccolor[1],\r\n                        width: 30,\r\n                        height: 30,\r\n                        align: 'center',\r\n                        borderRadius: 5\r\n                    },\r\n                    a3: {\r\n                        color: '#fff',\r\n                        backgroundColor: baccolor[2],\r\n                        width: 30,\r\n                        height: 30,\r\n                        align: 'center',\r\n                        borderRadius: 5\r\n                    },\r\n                    b: {\r\n                        color: '#fff',\r\n                        backgroundColor: baccolor[3],\r\n                        width: 30,\r\n                        height: 30,\r\n                        align: 'center',\r\n                        borderRadius: 5\r\n                    }\r\n                },                \r\n             },\r\n             axisLine: {\r\n                 lineStyle: {\r\n                     color: '#153C64' //Y轴颜色\r\n                 },\r\n             },\r\n             splitLine: {\r\n                 show: false,\r\n                 lineStyle: {\r\n                     color: 'balck'\r\n                 }\r\n             },\r\n         }\r\n         ],\r\n         xAxis: [{\r\n             'type': 'value',\r\n             'name': '',\r\n             splitNumber: 9, //轴线个数\r\n             nameTextStyle: {\r\n                 color: 'balck'\r\n             },\r\n             axisLine: {\r\n                 lineStyle: {\r\n                     color: '#ffa597' //X轴颜色\r\n                 }\r\n             },\r\n             axisLabel: {\r\n                 formatter: '{value} '\r\n             },\r\n             splitLine: {\r\n                 show: true,\r\n                 lineStyle: {\r\n                     color: '#143964' //控制竖线颜色\r\n                 }\r\n             },\r\n         }],\r\n         series: [{\r\n                 'name': '',\r\n                 'type': 'bar',\r\n                 markLine: {\r\n                     label: {\r\n                         normal: {\r\n                             show: false\r\n                         }\r\n                     },\r\n                     lineStyle: {\r\n                         normal: {\r\n                             color: 'red',\r\n                             width: 1\r\n                         }\r\n                     },\r\n                 },\r\n                 label: {\r\n                     normal: {\r\n                         show: true,\r\n                         position: 'right', //数值显示在右侧\r\n                         formatter: '{c}'+ '‰',\r\n                         fontSize:18\r\n                     }\r\n                 },\r\n                 itemStyle: {\r\n                     normal: {\r\n                         color: function(params) {\r\n                             // build a color map as your need.\r\n                             //color:function(d){return \"#\"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//随机生成颜色         \r\n                             var colorList =  ['#8A64B8', '#7575D3', '#5F85DD', '#6FABE8', '#7ED3F4', '#8CD8C0',\r\n                                 '#9CDF8D', '#BFED6B', '#EAFE4F', '#FFFD47', '#FFEA55', '#FFCF63',\r\n                                 '#FFA069', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'\r\n                             ];\r\n                             // return colorList[params.dataIndex]\r\n\r\n                             console.log(\"111\", params.name); //打印序列\r\n                             return colorList[jdData[0].indexOf(params.name)];\r\n                         },\r\n\r\n                     }\r\n                 },\r\n             },\r\n\r\n             {\r\n                 'name': '',\r\n                 'type': 'bar',\r\n                 markLine: {\r\n                     label: {\r\n                         normal: {\r\n                             show: true\r\n                         }\r\n                     },\r\n                     lineStyle: {\r\n                         \r\n                         normal: {\r\n                             color: 'red',\r\n                             width: 3\r\n                         }\r\n                     },\r\n                 },\r\n                 barWidth: '50%',\r\n                 barGap: '-50%',\r\n                 label: {\r\n                     normal: {\r\n                         show: true,\r\n                         fontSize: 20,  //标签国家字体大小\r\n                         position: 'left', //数值显示在右侧\r\n                         formatter: function(p) {\r\n                             return p.name;\r\n                            //  return '';\r\n                         }\r\n                     }\r\n                 },\r\n                 itemStyle: {\r\n                     normal: {\r\n                         color: function(params) {\r\n                             // build a color map as your need.\r\n                             //color:function(d){return \"#\"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//随机生成颜色         \r\n                            //渐变颜色luohh\r\n                             var colorList = ['#8A64B8', '#7575D3', '#5F85DD', '#6FABE8', '#7ED3F4', '#8CD8C0',\r\n                                 '#9CDF8D', '#BFED6B', '#EAFE4F', '#FFFD47', '#FFEA55', '#FFCF63',\r\n                                 '#FFA069', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'\r\n                             ];\r\n                             // return colorList[params.dataIndex]\r\n\r\n                             // console.log(\"111\", params.name); //打印序列\r\n                             return colorList[jdData[0].indexOf(params.name)];\r\n                         },\r\n\r\n                     }\r\n                 },\r\n             }\r\n         ],\r\n\r\n         animationEasingUpdate: 'quinticInOut',\r\n         animationDurationUpdate: 1500, //动画效果\r\n     },\r\n\r\n     options: []\r\n };\r\n for (var n = 0; n < years.length; n++) {\r\n\r\n     var res = [];\r\n     //alert(jdData.length);\r\n     for (j = 0; j < data[n].length; j++) {\r\n         res.push({\r\n             name: jdData[n][j],\r\n             value: data[n][j]\r\n         });\r\n\r\n     }\r\n\r\n     res.sort(function(a, b) {\r\n         return b.value - a.value;\r\n     }).slice(0, 6);\r\n\r\n     res.sort(function(a, b) {\r\n         return a.value - b.value;\r\n     });\r\n\r\n\r\n     var res1 = [];\r\n     var res2 = [];\r\n     //console.log(res);\r\n     for (t = 0; t < res.length; t++) {\r\n         res1[t] = res[t].name;\r\n         res2[t] = res[t].value;\r\n     }\r\n     option.options.push({\r\n         title: {\r\n             text: years[n] \r\n         },\r\n         yAxis: {\r\n             data: res1,\r\n         },\r\n         series: [{\r\n             data: res2\r\n         }, {\r\n             data: res2\r\n         }]\r\n     });\r\n }","html":"","externalScripts":"","updaterUID":"obd-otCkFurVYcfazHQTExH9eTGvnA0Vh8X","theme":"","layout":"","viewCount":0,"userName":"风***下","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0ht6uiJpi.png?v=1638863413404","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-bar","timeline","title","tooltip"],"customTags":[],"updaterUserName":"风***下"}}