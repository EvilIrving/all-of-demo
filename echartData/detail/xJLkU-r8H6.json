{"status":0,"data":{"cid":"xJLkU-r8H6","authorUid":"obd-o2TuNbt0mFxEq6d-KhgwkwlslublPBs","authorUserName":"187******02","title":"各机种出勤状况","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2022-01-19T08:20:57.000Z","lastUpdateTime":"2022-01-19T08:20:57.000Z","auth":2,"uid":"obd-o2TuNbt0mFxEq6d-KhgwkwlslublPBs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-19T08:20:57.000Z","code":"var data = {\r\n  title: [ 'J43-TC', 'X139-TC', 'X1739-DH', 'X1727-DH'],\r\n  currentNum: [22,446,796,461],\r\n  dueNum: [21,439,761,437],\r\n  actualNum: [19,420,724,413],\r\n  attRate: [95.2,95.2,95.1,95.8],\r\n  targetRate: [95.1,95.1,95.1,95.1],\r\n};\r\nfunction getTableLine(num) {\r\n   var list = [];\r\n   var bottom = 150;\r\n   var height = 30;\r\n   for (var i = 0; i < num; i++) {\r\n       list.push({\r\n           type: 'line',\r\n           bottom: bottom - i * height,\r\n           left:15,\r\n           style: {\r\n               fill: '#333',\r\n               stroke:'#d5d5d5',\r\n           },\r\n           shape: {\r\n               x1: 0,\r\n               y1: 0,\r\n               x2: 1087,\r\n               y2: 0\r\n           }\r\n \r\n       });\r\n   }\r\n   return list;\r\n}\r\nvar lineList = getTableLine(5);\r\n \r\n \r\noption = {\r\n   title: [\r\n       {\r\n           text:'各机种出勤状况',\r\n          left:'1%',\r\n           top:'1%',\r\n           textStyle:{\r\n               fontSize: 16,\r\n               color:'#9d9d9d',\r\n                 fontWeight: 'bold',\r\n           },\r\n       },\r\n        {\r\n           text:'(不含共用):',\r\n        left:'12%',\r\n           top:'1%',\r\n           textStyle:{\r\n               fontSize: 16,\r\n               color:'#9d9d9d',\r\n                fontWeight: 'lighter',\r\n           },\r\n       },\r\n       {\r\n       text: '  \\n单位\\n现有人数\\n应到人数\\n实到人数\\n出勤率',\r\n       bottom:25,\r\n       left: 32,\r\n       textStyle: {\r\n           lineHeight: 30,\r\n           fontSize: 14,\r\n          fontWeight: 'normal',\r\n           formatter: function(value) {\r\n               return '{table|' + value + '}';\r\n           },\r\n           rich: {\r\n               table: {\r\n                   align: 'center'\r\n               }\r\n           }\r\n       }\r\n   }],\r\n   legend: {\r\n       data: ['实际', '目标'],\r\n       orient : 'horizontal',\r\n       itemHeight : 13,\r\n        x: 'right',\r\n        padding:[25,20,25,20],\r\n        textStyle:{\r\n            fontSize:14,\r\n            fontFamily:'',\r\n        }\r\n   },\r\n   grid: {\r\n       bottom: 190,\r\n       left: 120,\r\n       right: 20,\r\n       top:'12%',\r\n   },\r\n   xAxis: [{\r\n       type: 'category',\r\n      boundaryGap: true,\r\n       data: data.title,\r\n       axisLine:{\r\n           lineStyle:{\r\n               color:'#d5d5d5', // 更改坐标轴颜色\r\n           }\r\n       },\r\n      axisTick: {\r\n          length:160, // 竖线的长度\r\n      },\r\n       axisLabel: {\r\n           interval:0,\r\n            textStyle:{\r\n               color:'#333',\r\n           },\r\n           formatter: function(value, index) {\r\n               var indexNum = 0;\r\n              for(var i = 0; i < data.title.length; i++){\r\n                  if(value == data.title[i]){\r\n                      indexNum = i;\r\n                  }\r\n              }\r\n              return '{table|' + value +\r\n                  '}\\n{table|' + data.currentNum[indexNum] +\r\n                  '}\\n{table|' + data.dueNum[indexNum] +\r\n                  '}\\n{table|' + data.actualNum[indexNum] +\r\n                  '}\\n{table|' + data.attRate[indexNum] + '%}';\r\n           },\r\n           rich: {\r\n               table: {\r\n                   lineHeight: 30,\r\n                   align: 'center',\r\n                   fontSize: 14, // table里文字字体大小\r\n               }\r\n           }\r\n       }\r\n   }],\r\n   yAxis: [\r\n  {\r\n      type: 'value',\r\n       scale : true,\r\n      maxInterval: 5, // 自动计算的坐标轴最小间隔大小。\r\n    //   splitNumber : 5,\r\n     silent: false, // 坐标轴是否是静态无法交互\r\n     max: 100,\r\n     min:70,\r\n     axisLine: {\r\n        show: true ,\r\n      lineStyle: { // 刻度线的样式设置。\r\n        color: '#d5d5d5', // 刻度线的颜色\r\n        width: 1 ,\r\n        type: 'solid' , \r\n      } , \r\n     },\r\n     axisTick: {\r\n          show: true ,\r\n           inside: true , // 坐标轴刻度是否朝内，默认朝外。\r\n            lineStyle: { // 刻度线的样式设置。\r\n        color: '#d5d5d5', // 刻度线的颜色\r\n        width: 1 ,\r\n        type: 'solid' , \r\n      } , \r\n     },\r\n      splitLine: {\r\n          show: false\r\n      },\r\n      axisLabel: {\r\n          formatter: '{value} %',\r\n          color: '#191919',\r\n          fontWeight: 'bold' ,\r\n          fontSize: 14 ,\r\n      }\r\n      \r\n  },\r\n   ],\r\n   series: [\r\n    {\r\n       name: '实际',\r\n       type: 'bar',\r\n       barWidth:36,\r\n       itemStyle:{\r\n               normal:{\r\n                color:'#b477f9'\r\n                },\r\n       },\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n             formatter: '{c} %',\r\n             textStyle: {  //数值样式\r\n\t\t\t\t\tcolor: '#b477f9',\r\n\t\t\t\t\t\tfontSize: 14,\r\n  \t}\r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.attRate\r\n   }, \r\n    {\r\n       name: '目标',\r\n       type: 'line',\r\n       symbol:'none',\r\n       itemStyle:{\r\n               normal:{\r\n                color:'#fdad3c'\r\n                },\r\n       },\r\n       label: {\r\n          show: false,\r\n          position: 'top',\r\n          formatter: '{c} %'\r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.targetRate\r\n   }],\r\n   graphic: lineList\r\n};\r\n\r\n","html":"","externalScripts":"","updaterUID":"obd-o2TuNbt0mFxEq6d-KhgwkwlslublPBs","theme":"","layout":"","viewCount":0,"userName":"187******02","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJLkU-r8H6.png?v=1642580457516","isCustomThumbnail":0,"builtinTags":["category-work","graphic","grid","legend","series-bar","series-line","title"],"customTags":[],"updaterUserName":"187******02"}}