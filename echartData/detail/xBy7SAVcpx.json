{"status":0,"data":{"cid":"xBy7SAVcpx","authorUid":"bd-1192091434","authorUserName":"s***2","title":"Profile","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-04-11T11:30:02.000Z","lastUpdateTime":"2017-04-11T11:30:02.000Z","auth":2,"uid":"bd-1192091434","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.5.1","versionCreateTime":"2017-04-11T11:30:02.000Z","code":"var count = 70;\nvar intervalCount = 67;\nvar baseTop = 70;\nvar gridHeight = 60;\n\nvar data = {\n    cpu: [],\n    memory: [],\n    frame: [],\n    main: [],\n    fake: [],\n    xMin: 0,\n    xMax: count * 1000\n};\n\nfor (var i = 0; i < count; i++) {\n    var now = i * 1000;\n    data.cpu.push([now, Math.floor(Math.random() * 1000)]);\n    data.memory.push([now, Math.floor(Math.random() * 1000)]);\n    data.frame.push([now, Math.floor(Math.random() * 1000)]);\n    data.fake.push([now, 1]);\n}\n\nvar ends = [];\nfor (var i = 0; i < intervalCount; i++) {\n    ends.push(Math.floor(Math.random() * count * 1000));\n}\nends.sort(function (a, b) { \n    return a - b;\n});\n\nfor (var i = 1; i < ends.length; i++) {\n    !(i % 2) && data.main.push([{\n        xAxis: ends[i - 1]\n    }, {\n        xAxis: ends[i]\n    }]);\n}\n\n\n\nfunction makeXAxis(gridIndex, opt) {\n    return echarts.util.merge({\n        type: 'time',\n        gridIndex: gridIndex,\n        axisLine: {onZero: false, lineStyle: {color: '#ddd'}},\n        axisTick: {show: false},\n        axisLabel: {show: false},\n        splitLine: {show: false, lineStyle: {color: '#ddd'}},\n        min: data.xMin,\n        max: data.xMax,\n        axisPointer: {\n            lineStyle: {color: 'transparent'}\n        }\n    }, opt || {}, true);\n}\n\nfunction makeYAxis(gridIndex, opt) {\n    return echarts.util.merge({\n        type: 'value',\n        gridIndex: gridIndex,\n        nameLocation: 'middle',\n        nameTextStyle: {\n            color: '#333'\n        },\n        boundaryGap: ['30%', '30%'],\n        axisTick: {show: false},\n        axisLine: {lineStyle: {color: '#ccc'}},\n        axisLabel: {show: false},\n        splitLine: {show: false}\n    }, opt || {}, true);\n}\n\nfunction makeGrid(top, opt) {\n    return echarts.util.merge({\n        top: top,\n        height: gridHeight\n    }, opt || {}, true);\n}\n\noption = {\n    tooltip: {\n        trigger: 'axis',\n        backgroundColor: '#fff',\n        borderColor: 'rgba(0, 0, 200, 0.2)',\n        borderWidth: 1,\n        borderRadius: 0,\n        padding: 10,\n        formatter: function (params) {\n            if (params.length) {\n                params.unshift({seriesName: 'time', value: [null, Math.floor(params[0].value[0]) + ' ms'], color: '#5193f2'})\n                return echarts.util.map(['time', 'cpu', 'memory', 'frame'], function (seriesName) {\n                    for (var i = 0; i < params.length; i++) {\n                        var param = params[i];\n                        var style = 'color: ' + param.color;\n                        if (param.seriesName === seriesName) {\n                            return '<span style=\"' + style + '\">' \n                                + param.seriesName \n                                + 'ï¼š</span><span style=\"' \n                                + style + '\">' + param.value[1] + '</span>';\n                        }\n                    }\n                }).join('<br>');\n            }\n        }\n    },\n    title: {\n        text: 'Profile',\n        left: 'center'\n    },\n    axisPointer: {\n        link: [{xAxisIndex: 'all'}],\n        snap: true\n    },\n    grid: [\n        makeGrid(baseTop),\n        makeGrid(baseTop + gridHeight),\n        makeGrid(baseTop + gridHeight * 2),\n        makeGrid(baseTop + gridHeight * 3 + 5, {\n            height: gridHeight - 10\n        }),\n        makeGrid(baseTop, {\n            show: true,\n            height: gridHeight * 4,\n            borderColor: '#ccc',\n            borderWidth: 1,\n            z: 10\n        })\n    ],\n    xAxis: [\n        makeXAxis(0),\n        makeXAxis(1),\n        makeXAxis(2),\n        makeXAxis(3, {\n            axisLine: {show: false}\n        }),\n        makeXAxis(4, {\n            position: 'top',\n            axisLine: {show: false, onZero: false},\n            splitLine: {show: true},\n            axisLabel: {show: true, textStyle: {color: '#555'}},\n            axisPointer: {\n                show: true, \n                lineStyle: {\n                    color: '#478cf1',\n                    width: 1.5\n                }\n            }\n        })\n    ],\n    yAxis: [\n        makeYAxis(0, {\n            name: 'cpu'\n        }),\n        makeYAxis(1, {\n            name: 'memory'\n        }),\n        makeYAxis(2, {\n            name: 'frame'\n        }),\n        makeYAxis(3, {\n            name: 'cpu'\n        }),\n        makeYAxis(4)\n    ],\n    dataZoom: [{\n        type: 'slider',\n        top: baseTop + gridHeight * 4 + 20,\n        xAxisIndex: [0, 1, 2, 3, 4]\n    }, {\n        type: 'inside',\n        xAxisIndex: [0, 1, 2, 3, 4]\n    }],\n    series: [{\n        name: 'cpu',\n        type: 'line',\n        symbol: 'circle',\n        symbolSize: 2,\n        itemStyle: {\n            normal: {\n                color: '#5193f2'\n            }\n        },\n        data: data.cpu\n    }, {\n        name: 'memory',\n        type: 'line',\n        symbol: 'circle',\n        symbolSize: 2,\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                color: '#75b228'\n            }\n        },\n        data: data.memory\n    }, {\n        name: 'frame',\n        type: 'line',\n        symbol: 'circle',\n        symbolSize: 2,\n        xAxisIndex: 2,\n        yAxisIndex: 2,\n        itemStyle: {\n            normal: {\n                color: '#e29304'\n            }\n        },\n        data: data.frame\n    }, {\n        name: 'main',\n        type: 'line',\n        symbol: 'circle',\n        symbolSize: 2,\n        xAxisIndex: 3,\n        yAxisIndex: 3,\n        markArea: {\n            itemStyle: {\n                normal: {\n                    color: '#529bff'\n                }  \n            },\n            data: data.main\n        }\n    }, {\n        name: 'main',\n        type: 'line',\n        symbol: 'none',\n        symbolSize: 2,\n        itemStyle: {\n            normal: {color: 'transparent'}\n        },\n        xAxisIndex: 4,\n        yAxisIndex: 4,\n        data: data.fake\n    }]\n};\n","html":"","externalScripts":"","updaterUID":"bd-1192091434","theme":"","layout":"","viewCount":19590,"userName":"s***2","commentCount":10,"starCount":57,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBy7SAVcpx.png?v=1491910202825","isCustomThumbnail":0,"builtinTags":["axisPointer","category-work","dataZoom","grid","markArea","series-line","title","tooltip"],"customTags":[],"updaterUserName":"s***2"}}