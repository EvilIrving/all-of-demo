{"status":0,"data":{"cid":"xSkBpC1Pw","authorUid":"bd-3611983648","authorUserName":"h***大","title":"仪表盘","description":"可以通过调用函数的方式，对数据进行分层显示","latestVersion":1,"alwaysLatest":1,"createTime":"2020-01-22T09:35:03.000Z","lastUpdateTime":"2020-01-22T09:35:03.000Z","auth":2,"uid":"bd-3611983648","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-22T09:35:03.000Z","code":"var db_options = {      //用于改变dashboard_option里的参数\r\n    \"data\": [{\r\n        \"value\": null,\r\n        \"name\": \"\"\r\n    }],\r\n    \"color\": [],\r\n    \"title\": {\r\n        show: true,\r\n        offsetCenter: [0, '100%'],\r\n        color: '',\r\n        fontSize: 18,\r\n        backgroundColor: \"\",\r\n        borderRadius: 5,\r\n        padding: 10\r\n    }\r\n};\r\n\r\nvar dashboard_option = {       //echarts的设置\r\n    series: [{\r\n            name: \"\",\r\n            type: \"gauge\",\r\n            center: [\"50%\", \"45%\"],\r\n            radius: \"70%\",\r\n            min: 0,\r\n            max: 100,\r\n            data: db_options.data,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: { // 属性lineStyle控制线条样式\r\n                    color: db_options.color,\r\n                    shadowColor: \"#ccc\",\r\n                    shadowBlur: 10,\r\n                    width: 15\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: { //指针样式\r\n                length: '60%',\r\n                color: \"#4A90E2\"\r\n            },\r\n            title: db_options.title,\r\n        },\r\n\r\n    ]\r\n};\r\n\r\nfunction init_dashboard(value) {        //此函数根据value的范围大小，为仪表盘参数设置不同的颜色、数字\r\n    db_options.data[0].value = value;\r\n    db_options.color.splice(0, db_options.color.length);\r\n    if (0 < value && value < 30) {        //0~29、30~59、60~100为三个范围，样式、文字不同\r\n        db_options.data[0].name = \"低危\";\r\n        db_options.color.push([value / 100, '#55d2f8']);\r\n        db_options.title.color = '#55d2f8';\r\n        db_options.title.backgroundColor = \"rgba(85, 210, 248, 0.4)\";\r\n    } else if (30 <= value && value < 60) {\r\n        db_options.data[0].name = \"中危\";\r\n        db_options.color.push([value / 100, '#ffca36']);\r\n        db_options.title.color = '#ffca36';\r\n        db_options.title.backgroundColor = \"rgba(255, 202, 54, 0.4)\";\r\n    } else if (60 <= value && value <= 100) {\r\n        db_options.data[0].name = \"高危\";\r\n        db_options.color.push([value / 100, '#ff624b']);\r\n        db_options.title.color = '#ff624b';\r\n        db_options.title.backgroundColor = \"rgba(255, 98, 75, 0.4)\";\r\n\r\n    } else {}\r\n    db_options.color.push([1, '#5a5a5a']);\r\n}\r\n\r\nfunction db_init(value) {     //改变option的入口，需要传入一个值\r\n    var option_dashboard=[];\r\n    init_dashboard(value);\r\n    option_dashboard = dashboard_option;\r\n    return option_dashboard;\r\n}\r\n\r\noption = db_init(70);     //调用db_init()函数，设置option","html":"","externalScripts":"","updaterUID":"bd-3611983648","theme":"dark","layout":"","viewCount":1586,"userName":"h***大","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSkBpC1Pw.png?v=1579685703843","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge"],"customTags":["dashboard","仪表盘","分层"],"updaterUserName":"h***大"}}