{"status":0,"data":{"cid":"xH1pHOHnM","authorUid":"bd-2215764494","authorUserName":"p***g","title":"气泡图点击特效","description":"https://dribbble.com/shots/1834417-Bubbles","latestVersion":8,"alwaysLatest":1,"createTime":"2016-05-20T08:18:12.000Z","lastUpdateTime":"2016-11-01T05:52:21.000Z","auth":2,"uid":"bd-2215764494","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"3.1.9","versionCreateTime":"2016-05-20T13:25:11.000Z","code":"var data = [];\nvar data2 = [];\n\n\nfor (var i = 0; i < 10; i++) {\n    data.push(\n        [\n            Math.round(Math.random() * 100),\n            Math.round(Math.random() * 100),\n            Math.round(Math.random() * 40)\n        ]\n    );\n    data2.push(\n        [\n            Math.round(Math.random() * 100),\n            Math.round(Math.random() * 100),\n            Math.round(Math.random() * 100)\n        ]\n    );\n}\n\nvar axisCommon = {\n    axisLabel: {\n        textStyle: {\n            color: '#8290a5'\n        }  \n    },\n    axisTick: {\n        lineStyle: {\n            color: '#8290a5'\n        }  \n    },\n    axisLine: {\n        lineStyle: {\n            color: '#414d5d'\n        }  \n    },\n    splitLine: {\n        lineStyle: {\n            color: '#414d5d',\n            type: 'solid'\n        }\n    }\n};\n\noption = {\n    color: ['#2988b8', '#6a71ba'],\n    backgroundColor: '#3c4656',\n    xAxis: axisCommon,\n    yAxis: axisCommon,\n    visualMap: {\n        show: false,\n        max: 100,\n        inRange: {\n            symbolSize: [10, 40]\n        }\n    },\n    series: [\n        {\n            type: 'scatter',\n            data: data\n        },\n        {\n            type: 'scatter',\n            data: data2\n        }\n    ],\n    animationDelay: function (idx) {\n        return idx * 50;\n    },\n    animationEasing: 'elasticOut'\n};\n\nmyChart.clear();\nsetTimeout(function () {\n    \n    // $(myChart.getDom()).css('background', 'radial-gradient(circle at 50% 0, #475b7a 0%, #3c4656 100%)');\n    \n    var zr = myChart.getZr();\n    myChart.off('click');\n    myChart.on('click', function (param) {\n        var seriesModel = myChart.getModel().getSeriesByIndex(param.seriesIndex);\n        var data = seriesModel.getData();\n        var coordSys = seriesModel.coordinateSystem;\n        var color = data.getItemVisual(param.dataIndex, 'color');\n        var symbolSize = data.getItemVisual(param.dataIndex, 'symbolSize');\n        var pt1 = coordSys.dataToPoint(param.value);\n        var pt2 = coordSys.dataToPoint([param.value[0], 0]);\n        var line = new echarts.graphic.Line({\n            shape: {\n                x1: pt1[0],\n                y1: pt1[1],\n                x2: pt1[0],\n                y2: pt1[1]\n            },\n            style: {\n                stroke: color,\n                opacity: 0.6\n            },\n            z: 100\n        });\n        \n        line.animate('shape')\n            .when(300, {\n                y1: pt1[1]\n            })\n            .when(500, {\n                y1: pt1[1] * 0.7 + 0.3 * pt2[1],\n                y2: pt2[1]\n            })\n            .when(1000, {\n                y1: pt1[1],\n                y2: pt1[1]\n            })\n            .done(function () {\n                zr.remove(line);\n            })\n            .start(function (t) {\n                var y = Math.sin(t * Math.PI) * 0.5;\n                if (t >= 0.5) {\n                    y = 1 - y;\n                }\n                return y;\n            });\n            \n        var circle = new echarts.graphic.Circle({\n            shape: {\n                cx: pt2[0],\n                cy: pt2[1],\n                r: 0\n            },\n            style: {\n                fill: color\n            },\n            z: 100\n        });\n        var circle2 = new echarts.graphic.Circle({\n            shape: {\n                cx: pt1[0],\n                cy: pt1[1],\n                r: symbolSize\n            },\n            style: {\n                fill: color,\n                opacity: 0.4\n            }\n        });\n        circle2.animateTo({\n            shape: {\n                r: symbolSize * 1.5\n            },\n            style: {\n                opacity: 0\n            }\n        }, 400, function () {\n            zr.remove(circle2);\n        })\n        \n        circle.animate('shape')\n            .when(250, {\n                r: 6\n            })\n            .when(500, {\n                r: 0\n            })\n            .delay(500)\n            .done(function () {\n                zr.remove(circle);\n            })\n            .start(function (t) {\n                var y = Math.sin(t * Math.PI) * 0.5;\n                if (t >= 0.5) {\n                    y = 1 - y;\n                }\n                return y;\n            });\n            \n        \n        zr.add(circle);\n        zr.add(circle2);\n        zr.add(line);\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-2215764494","theme":"default","layout":"","viewCount":2710,"userName":"p***g","commentCount":0,"starCount":13,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1pHOHnM.png?v=1463750711675","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter","visualMap"],"customTags":["dribbble"],"updaterUserName":"p***g"}}