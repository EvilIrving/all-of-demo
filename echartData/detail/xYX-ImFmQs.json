{"status":0,"data":{"cid":"xYX-ImFmQs","authorUid":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","authorUserName":"咔***尅","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-01T15:10:14.000Z","lastUpdateTime":"2021-12-01T15:10:14.000Z","auth":2,"uid":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-01T15:10:14.000Z","code":"const hexToRgba = (hex, opacity) => {\n    let rgbaColor = \"\";\n    let reg = /^#[\\da-f]{6}$/i;\n    if (reg.test(hex)) {\n        rgbaColor = `rgba(${parseInt(\"0x\" + hex.slice(1, 3))},${parseInt(\n      \"0x\" + hex.slice(3, 5)\n    )},${parseInt(\"0x\" + hex.slice(5, 7))},${opacity})`;\n    }\n    return rgbaColor;\n};\n\n// 数据整理\nlet xData = ['模型NAME1', '模型NAME2', '模型NAME3', '模型NAME4' ];\n  let yData = [4757, 3254, 2454, 2011, 1654 ];\nlet max = Math.max(...yData);\nlet labelColor = ['#FD5360', '#FF962B', '#FFAA00']\nlet emptyData = yData.map((v, i) => {\n    let color = i > 2 ? '#2C6CD1' : labelColor[i];\n    let item = {\n        value: max,\n        label: {\n            formatter: '{a|' + v + '}',\n            position: 'right',\n            distance: 20,\n            rich: {\n                a: {\n                    color: color,\n                    borderColor: color,\n                    borderWidth: 1,\n                    borderType: 'dashed',\n                    padding: [0, 0, 2, 0],\n                    width: 60,\n                    height: 18,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: hexToRgba(color, 0.05)\n                }\n            }\n\n        }\n    }\n    return item\n})\nlet xDataFormat = xData.map((v, i) => {\n    let color = i > 2 ? '#2C6CD1' : labelColor[i];\n    let item = {\n        value: v,\n        textStyle: {\n            rich: {\n                a: {\n                    color: color,\n                    width: 20,\n                    height: 20,\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    backgroundColor: '#fff',\n                    borderRadius: 10,\n                    borderColor: hexToRgba(color, 0.2),\n                    borderWidth: 1,\n                    shadowColor: hexToRgba(color, 0.1),\n                    shadowBlur: 5\n                },\n                b: {\n                    padding: [0, 5]\n                },\n                value: {\n                    color: '#2C6CD1'\n                }\n            }\n        }\n    }\n    return item\n})\nxData.reverse();\nxDataFormat.reverse();\nyData.reverse();\nemptyData.reverse();\n\n\noption = {\n    backgroundColor: '#fff',\n    grid: {\n        top: \"5%\",\n        left: \"1%\",\n        right: \"15%\",\n        bottom: \"3%\",\n        containLabel: true\n    },\n    xAxis: [{\n        type: \"value\",\n        splitLine: {\n            show: true,\n            lineStyle: {\n            width: 0, \n                color: '#C7DEFF'\n            }\n        },\n        max: function(value) {\n            return value.max\n        },\n        axisLine: {\n            lineStyle: {\n            width: 2,\n                color: '#C7DEFF'\n            }\n        },\n        axisLabel: {\n            color: '#2C6CD1'\n        },\n        axisTick: {\n            show: false\n        },\n    }],\n    yAxis: [{\n        type: \"category\",\n        name: \"\",\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n            width: 2, \n                color: '#C7DEFF'\n            }\n        },\n        axisLabel: {\n            formatter: function(value) {\n                // return '{a|' + value.substr(value.length - 1) + '}{b|}{value|' + value + '}'\n            return ' {b|}{value|' + value + '}'\n            }\n        },\n        data: xDataFormat\n    }, {\n        type: \"category\",\n        name: \"\",\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        data: xData\n    }],\n    series: [{\n            type: 'bar',\n            barWidth: 40,\n            yAxisIndex: 1,\n            itemStyle: {\n                normal: {\n                    // barBorderRadius: [0, 6, 6, 0],\n                    color: 'rgba(225,225,225,0.4)'\n                },\n                emphasis: {\n                    // barBorderRadius: [0, 6, 6, 0],\n                    color: 'rgba(225,225,225,0.4)'\n                }\n            },\n            label: {\n                show: true,\n                position: 'right',\n                formatter: function(a) {\n                    console.log(a)\n                }\n            },\n            data: emptyData\n        },\n        {\n            type: 'bar',\n            barWidth: 40,\n            zlevel: 1,\n            itemStyle: {\n                normal: {\n                    // barBorderRadius: [0, 6, 6, 0],\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{\n                        offset: 0,\n                        color: '#3B6ECA'\n                    }, {\n                        offset: 1,\n                        color: '#C2E0FC'\n                    }], false)\n                }\n            },\n            data: yData\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-ojhmrVr7HMv34xoKX5wbXcbj4nEThDB","theme":"","layout":"","viewCount":0,"userName":"咔***尅","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYX-ImFmQs.png?v=1638371414416","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"咔***尅"}}