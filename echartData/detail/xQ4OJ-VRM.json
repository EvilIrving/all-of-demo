{"status":0,"data":{"cid":"xQ4OJ-VRM","authorUid":"bd-2990579821","authorUserName":"155*****175","title":"调查问卷的地区分布","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-27T11:06:19.000Z","lastUpdateTime":"2020-02-27T11:06:19.000Z","auth":2,"uid":"bd-2990579821","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-27T11:06:19.000Z","code":"let uploadedDataURL = \"/asset/get/s/data-1564648280635-lBUMhhbt2.json\";\n\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('lol', geoJson); // 自定义地图\n    let geoCoordMap = {\n       '遵义市': [106.937265,27.996626],\n       '六盘水市': [104.846743,26.184643],\n       '黔东南苗族侗族自治州': [108.977488,26.583352],\n       '铜仁市': [108.591555,27.818346],\n       '黔西南布依族苗族自治州': [105.597971,25.28812],\n       '贵阳市': [106.713478,26.878343],\n       '黔南布依族苗族自治州': [107.27156,25.758219],\n       '毕节市': [105.28501,27.01693],\n       '安顺市':[105.932188,26.045544],\n       };\n    let data = [{\n            name: '遵义市',\n            value: 274\n        },\n        {\n            name: '六盘水市',\n            value: 165\n        },\n        {\n            name: '黔东南苗族侗族自治州',\n            value: 199\n        },\n        {\n            name: '铜仁市',\n            value: 124\n        },\n        {\n            name: '黔西南布依族苗族自治州',\n            value: 119\n        },\n        {\n            name: '贵阳市',\n            value: 268\n        },\n        {\n            name: '黔南布依族苗族自治州',\n            value: 138\n        },\n        {\n            name: '毕节市',\n            value: 225\n        },\n        {\n            name: '安顺市',\n            value: 174\n        },\n    ];\n\n    let handleData = function(data) {\n        let list = [];\n        for (let i = 0; i < data.length; i++) {\n            let geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                list.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value)\n                });\n            }\n        }\n        return list;\n    };\n\n\n    let option = {\n        baseOption: {\n            timeline: {\n                show: false,\n            },\n            tooltip: {\n                trigger: 'item',\n                formatter: '{b}: {c}份'\n            },\n        },\n        options: [{\n            backgroundColor: \"white\",\n            title: {\n                text: '调查问卷的地区分布',\n                subtext: '',\n                sublink: 'http://42.123.101.206:81/tjnj/2018/zk/indexch.htm',\n                left: 'center',\n                top: \"10\",\n                textStyle: {\n                    color: 'black',\n                    fontSize: 24,\n                }\n            },\n            visualMap: {\n                min: 100,\n                max: 275,\n                left: '20',\n                bottom: '50',\n                text: ['275', '0'],\n                calculable: false,\n                inRange: {\n                    color: ['#edfbfb', '#b7d6f3', '#40a9ed', '#3598c1', '#215096', ]\n                },\n                textStyle: {\n                    color: 'black',\n                    fontSize: 15\n                },\n                itemWidth: 20,\n                itemHeight: 150,\n            },\n            geo: {\n                show: true,\n                map: 'lol',\n                itemStyle: {\n                    normal: {\n                        areaColor: 'transparent',\n                        borderColor: 'transparent',\n                        shadowColor: 'transparent',\n                        shadowBlur: 30\n                    },\n                    emphasis: {\n                        areaColor: 'black',\n                    }\n                }\n            },\n            \"series\": [{\n                    name: 'light',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    data: handleData(data),\n                    symbolSize: 1,\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            fontSize: 10,\n                            show: true\n                        },\n                        emphasis: {\n                            show: true\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: 'transparent',\n                            areaColor: 'transparent',\n                            borderColor: 'transparent',\n                            label: {\n                                show: true,\n                                textStyle: {\n                                    color: \"black\",\n                                    fontSize: 16\n                                }\n                            }\n                        },\n                    }\n                },\n                {\n                    center: \"center\",\n                    \"data\": data,\n                    \"label\": {\n                        \"emphasis\": {\n                            \"show\": false\n                        },\n                        \"normal\": {\n                            \"show\": false\n                        }\n                    },\n                    \"mapType\": \"lol\",\n                    \"roam\": false,\n                    \"type\": \"map\"\n                }\n            ]\n        }]\n    }\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-2990579821","theme":"","layout":"","viewCount":132,"userName":"155*****175","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQ4OJ-VRM.png?v=1582801579141","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"155*****175"}}