{"status":0,"data":{"cid":"xmvoke_u_s","authorUid":"obd-oEygmCKK5pwKjPUpPQVQ-_IZS7xYT4K","authorUserName":"D***咿","title":"昆明市微博签到热点区域","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-07-10T04:42:27.000Z","lastUpdateTime":"2020-07-10T04:42:27.000Z","auth":1,"uid":"obd-oEygmCKK5pwKjPUpPQVQ-_IZS7xYT4K","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-18T15:10:00.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1592564187268-VhgDQWxGM.json\";\r\n\r\nmyChart.showLoading();\r\nlet index = -1;\r\nvar timer = setInterval(function() {\r\n    // 隐藏提示框\r\n    myChart.dispatchAction({\r\n        type: 'hideTip',\r\n        seriesIndex: 0,\r\n        dataIndex: index\r\n    });\r\n    // 显示提示框\r\n    myChart.dispatchAction({\r\n        type: 'showTip',\r\n        seriesIndex: 0,\r\n        dataIndex: index + 1\r\n    });\r\n    // 取消高亮指定的数据图形\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0,\r\n        dataIndex: index\r\n    });\r\n    // 高亮指定的数据图形\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: index + 1\r\n    });\r\n    index++;\r\n    if (index > 13) {\r\n        index = -1;\r\n    }\r\n}, 2000);\r\n\r\n\r\nmyChart.on('mousemove', function(e) {\r\n    clearInterval(timer);\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex\r\n    });\r\n    myChart.dispatchAction({\r\n        type: 'showTip',\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex\r\n    });\r\n}); //---------------------------------------------鼠标移入静止播放\r\nmyChart.on('mouseout', function(e) {\r\n    clearInterval(timer);\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex\r\n    }); //鼠标移出后先把上次的高亮取消\r\n    timer = setInterval(function() {\r\n        // 隐藏提示框\r\n        myChart.dispatchAction({\r\n            type: 'hideTip',\r\n            seriesIndex: 0,\r\n            dataIndex: index\r\n        });\r\n        // 显示提示框\r\n        myChart.dispatchAction({\r\n            type: 'showTip',\r\n            seriesIndex: 0,\r\n            dataIndex: index + 1\r\n        });\r\n        // 取消高亮指定的数据图形\r\n        myChart.dispatchAction({\r\n            type: 'downplay',\r\n            seriesIndex: 0,\r\n            dataIndex: index\r\n        });\r\n        // 高亮指定的数据图形\r\n        myChart.dispatchAction({\r\n            type: 'highlight',\r\n            seriesIndex: 0,\r\n            dataIndex: index + 1\r\n        });\r\n        index++;\r\n        if (index > 13) {\r\n            index = -1;\r\n        }\r\n    }, 2000);\r\n});\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n\r\n    echarts.registerMap('kunming', geoJson);\r\n    myChart.hideLoading();\r\n    var mapDate = [{\r\n            name: '安宁市',\r\n            value: [102.267345, 24.553843, 400]\r\n        },\r\n        {\r\n            name: '富民县',\r\n            value: [102.397345, 25.213843, 358]\r\n        },\r\n        {\r\n            name: '晋宁县',\r\n            value: [102.362967558594, 24.428843, 266]\r\n        },\r\n        {\r\n            name: '石林彝族自治县',\r\n            value: [103.517345, 24.523843, 4700]\r\n        },\r\n        {\r\n            name: '宜良县',\r\n            value: [103.177345, 24.523843, 367]\r\n        },\r\n        {\r\n            name: '呈贡区',\r\n            value: [102.987345, 24.983843, 2890]\r\n        },\r\n        {\r\n            name: '东川区',\r\n            value: [103.082345, 25.911059796875, 326]\r\n        },\r\n        {\r\n            name: '禄劝彝族苗族自治县',\r\n            value: [102.457345, 25.423843, 346]\r\n        },\r\n        {\r\n            name: '寻甸回族彝族自治县',\r\n            value: [103.267345, 25.343843, 367]\r\n        },\r\n        {\r\n            name: '官渡区',\r\n            value: [102.69041061401367, 24.954779310754688, 2999]\r\n        },\r\n        {\r\n            name: '盘龙区',\r\n            value: [102.71534442901611, 25.036463114777977, 3459]\r\n        },\r\n        {\r\n            name: '西山区',\r\n            value: [102.70734339952469, 24.883847593224083, 4678]\r\n        },\r\n        {\r\n            name: '五华区',\r\n            value: [102.7215403318405, 25.259248915484154, 5279]\r\n        },\r\n        {\r\n            name: '嵩明县',\r\n            value: [103.06037575006485, 25.13741270059397, 534]\r\n        }\r\n    ];\r\n\r\n\r\n    option = {\r\n        backgroundColor: '#020933',\r\n        title: {\r\n            top: 20,\r\n            text: '昆明市微博签到热点区域',\r\n            subtext: '',\r\n            x: 'center',\r\n            textStyle: {\r\n                color: '#ccc'\r\n            }\r\n        },\r\n\r\n        // tooltip: {\r\n        //     trigger: 'item',\r\n        //     formatter: function(params) {\r\n        //         console.log(params)\r\n        //             return params.name + ' : ' + params.value[2];\r\n        //     }\r\n        // },\r\n        visualMap: {\r\n            min: 0,\r\n            max: 1000000,\r\n            right: 100,\r\n            seriesIndex: 1,\r\n            type: 'piecewise',\r\n            bottom: 100,\r\n            textStyle: {\r\n                color: '#FFFF'\r\n            },\r\n            splitList: [{\r\n                    gt: 5000,\r\n                    color: '#F5222D',\r\n                    label: '签到人数大于5千人'\r\n                }, //大于5万人\r\n                {\r\n                    gte: 3000,\r\n                    lte: 5000,\r\n                    color: '#FA541C ',\r\n                    label: '签到人数3-5千人'\r\n                }, //3-5万人\r\n                {\r\n                    gte: 1000,\r\n                    lte: 3000,\r\n                    color: '#FA8C16',\r\n                    label: '签到人数1-3千人'\r\n                }, //1-3万人\r\n                {\r\n                    lte: 1000,\r\n                    color: '#fbe1d6',\r\n                    label: '签到人数小于1千人'\r\n                }\r\n            ]\r\n        },\r\n\r\n        geo: {\r\n            map: 'kunming',\r\n            aspectScale: 0.75, //长宽比\r\n            zoom: 1.1,\r\n            roam: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#013C62',\r\n                    shadowColor: '#182f68',\r\n                    shadowOffsetX: 0,\r\n                    shadowOffsetY: 25\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2AB8FF',\r\n                    borderWidth: 0,\r\n                    color: 'green',\r\n                    label: {\r\n                        show: false\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n                type: 'map',\r\n                roam: true,\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderColor: '#2ab8ff',\r\n                        borderWidth: 1.5,\r\n                        areaColor: '#12235c'\r\n                    },\r\n                    emphasis: {\r\n                        areaColor: '#2AB8FF',\r\n                        borderWidth: 0,\r\n                        color: 'green'\r\n                    }\r\n                },\r\n                zoom: 1.1,\r\n                roam: false,\r\n                map: 'kunming' //使用\r\n                // data: this.difficultData //热力图数据   不同区域 不同的底色\r\n            },\r\n            {\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    period: 15,\r\n                    scale: 4,\r\n                    brushType: 'fill'\r\n                },\r\n                hoverAnimation: true,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#ffff',\r\n                        shadowBlur: 10,\r\n                        shadowColor: '#333'\r\n                    }\r\n                },\r\n                data: mapDate\r\n            }\r\n\r\n        ]\r\n    };\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-121647950","theme":"","layout":"","viewCount":907,"userName":"D***咿","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmvoke_u_s.png?v=1610982600838","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","title","visualMap"],"customTags":[],"updaterUserName":"一***钞"}}