{"status":0,"data":{"cid":"xnORwt0jz_","authorUid":"bd-2466829054","authorUserName":"7***7","title":"显示误差值","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-03-25T02:15:18.000Z","lastUpdateTime":"2019-03-25T02:15:18.000Z","auth":2,"uid":"bd-2466829054","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-25T02:18:27.000Z","code":"// 指定图表的配置项和数据\t\nvar categoryData = []; //X轴数据\nvar errorData = []; //错误的数据\nvar barData = []; // 柱状图数据\nvar dataCount = 50; //数据数量\nfor(var i = 0; i < dataCount; i++) {\n\tvar val = Math.random() * 1000; //random() 方法可返回介于 0 ~ 1 之间的一个随机数。\n\tcategoryData.push(i);\n\terrorData.push([\n\t\ti,\n\t\techarts.number.round(Math.max(0, val - Math.random() * 100)), //max() 方法可返回两个指定的数中带有较大的值的那个数。\n\t\techarts.number.round(val + Math.random() * 80)\n\t]);\n\tbarData.push(echarts.number.round(val, 2));\n}\n\n//console.log(echarts.number.round);\n//console.log(errorData);\n//console.log(barData);\n\n/*\n\tparams：包含了当前数据信息和坐标系的信息。\n\tapi：是一些开发者可调用的方法集合。\n\tapi.value(...)，意思是取出 dataItem 中的数值。例如 api.value(0) 表示取出当前 dataItem 中第一个维度的数值。\n\tapi.coord(...)，意思是进行坐标转换计算。例如 var point = api.coord([api.value(0), api.value(1)]) 表示 dataItem 中的数值转换成坐标系上的点。\n\tapi.size(...) 函数，表示得到坐标系上一段数值范围对应的长度。\n\tshape 属性描述了这个矩形的像素位置和大小。\n*/\n\nfunction renderItem(params, api) {\n\tvar xValue = api.value(0); //api.value(0) 表示取出当前 dataItem 中第一个维度的数值。\n\tvar highPoint = api.coord([xValue, api.value(1)]); //高点\n\tvar lowPoint = api.coord([xValue, api.value(2)]); //低点\n\tvar halfWidth = api.size([1, 0])[0] * 0.1; //半宽度\n\tvar style = api.style({\n\t\tstroke: api.visual('color'),\n\t\tfill: null\n\t});\t\t\t\t\t\n\n\treturn {\n\t\ttype: 'group',\n\t\tchildren: [\n\t\t\t{\n\t\t\t\ttype: 'line',\n\t\t\t\tshape: {\n\t\t\t\t\tx1: highPoint[0] - halfWidth,\n\t\t\t\t\ty1: highPoint[1],\n\t\t\t\t\tx2: highPoint[0] + halfWidth,\n\t\t\t\t\ty2: highPoint[1]\n\t\t\t\t},\n\t\t\t\tstyle: style\n\t\t\t}, \n\t\t\t{\n\t\t\t\ttype: 'line',\n\t\t\t\tshape: {\n\t\t\t\t\tx1: highPoint[0],\n\t\t\t\t\ty1: highPoint[1],\n\t\t\t\t\tx2: lowPoint[0],\n\t\t\t\t\ty2: lowPoint[1]\n\t\t\t\t},\n\t\t\t\tstyle: style\n\t\t\t}, \n\t\t\t{\n\t\t\t\ttype: 'line',\n\t\t\t\tshape: {\n\t\t\t\t\tx1: lowPoint[0] - halfWidth,\n\t\t\t\t\ty1: lowPoint[1],\n\t\t\t\t\tx2: lowPoint[0] + halfWidth,\n\t\t\t\t\ty2: lowPoint[1]\n\t\t\t\t},\n\t\t\t\tstyle: style\n\t\t\t}\n\t\t]\n\t};\n}\n\noption = {\n\ttooltip: {\n\t\ttrigger: 'axis',\n\t\taxisPointer: {\n\t\t\ttype: 'shadow'\n\t\t}\n\t},\t\t\t\t\t\n\ttitle: [\n\t\t{\n\t\t\ttext: '项目：钾',\n\t\t\tleft: '40%',\n\t\t\ttop: 20,\n\t\t\ttextStyle: {\n\t\t\t\tcolor: 'green',\n\t\t\t\t//fontSize: '14',\n\t\t\t},\n\t\t}, \n\t\t{\n\t\t\ttext: '批号：201711',\n\t\t\tleft: '51%',\n\t\t\ttop: 20,\n\t\t\ttextStyle: {\n\t\t\t\tcolor: 'green',\n\t\t\t\t//fontSize: '14',\n\t\t\t},\n\t\t}, \n\t\t{\n\t\t\ttext: '仪器',\n\t\t\t//borderColor: '#999',\n\t\t\t//borderWidth: 1,\n\t\t\ttextStyle: {\n\t\t\t\tfontSize: 14\n\t\t\t},\n\t\t\tleft: 'center',\n\t\t\ttop: '94%'\n\t\t},\n\t],\n//\t\t\t\t\tlegend: {\n//\t\t\t\t\t\tdata: ['bar', 'error']\n//\t\t\t\t\t},\n\t/*dataZoom: [\n\t\t{\n\t\t\ttype: 'slider',\n\t\t\tstart: 50,\n\t\t\tend: 70\n\t\t},\n\t\t{\n\t\t\ttype: 'inside',\n\t\t\tstart: 50,\n\t\t\tend: 70\n\t\t}\n\t],*/\n\txAxis: {\n\t\tdata: categoryData,\t\t\t\t\t\t\n\t},\n\tyAxis: {},\n\tseries: [\n\t\t{\n\t\t\ttype: 'scatter',\n\t\t\tname: 'scatter',\n\t\t\tdata: barData,\n\t\t\titemStyle: {\n\t\t\t\tnormal: {\n\t\t\t\t\tcolor: '#77bef7'\n\t\t\t\t}\n\t\t\t}\n\t\t}, \n\t\t{\n\t\t\ttype: 'custom',\n\t\t\tname: 'error',\n\t\t\titemStyle: {\n\t\t\t\tnormal: {\n\t\t\t\t\tborderWidth: 1.5\n\t\t\t\t}\n\t\t\t},\n\t\t\trenderItem: renderItem,\n\t\t\tencode: { //可以定义 data 的哪个维度被编码成什么\n\t\t\t\tx: 0,// data 中『维度0』对应到 X 轴\n\t\t\t\ty: [1, 2] // data 中『维度1』和『维度2』对应到 Y轴\n\t\t\t},\n\t\t\tdata: errorData,\n\t\t\tz: 100\n\t\t}\n\t]\n};","html":"","externalScripts":"","updaterUID":"bd-2466829054","theme":"","layout":"","viewCount":93,"userName":"7***7","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnORwt0jz_.png?v=1553480307380","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"7***7"}}