{"status":0,"data":{"cid":"xKWwuxtjtr","authorUid":"bd-181101713","authorUserName":"j***6","title":"24小时各时段登录情况统计时钟","description":"模仿百度统计","latestVersion":4,"alwaysLatest":1,"createTime":"2020-04-17T00:53:41.000Z","lastUpdateTime":"2020-04-17T00:53:41.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-17T07:16:39.000Z","code":"\r\n/*\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n带背景样式请查看：http://js.jirengu.com/zuqic/10/\r\n\r\n*/\r\n\r\n// 绿色时钟Series Data\r\nvar greenPieData = [{\r\n    value: 30,\r\n    name: '00:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '01:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '02:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '03:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '04:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '05:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.2)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '06:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.2)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '07:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.2)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '08:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '09:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '10:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '11:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '12:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '13:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '14:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '15:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '16:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '17:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '18:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '19:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.3)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '20:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.2)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '21:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '22:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}, {\r\n    value: 30,\r\n    name: '23:00~00:59',\r\n    itemStyle: {\r\n        emphasis: {\r\n            color: 'rgba(23, 240, 204,0.1)',\r\n        }\r\n    }\r\n}];\r\n\r\n// 蓝色海螺 Series Data\r\nvar bluePieData = [{\r\n        value: 3.5,\r\n        name: '00:00~00:59'\r\n    },\r\n    {\r\n        value: 2.33,\r\n        name: '01:00~00:59'\r\n    },\r\n    {\r\n        value: 1.57,\r\n        name: '02:00~00:59'\r\n    },\r\n    {\r\n        value: 1.12,\r\n        name: '03:00~00:59'\r\n    },\r\n    {\r\n        value: 0.91,\r\n        name: '04:00~00:59'\r\n    },\r\n    {\r\n        value: 1.01,\r\n        name: '05:00~00:59'\r\n    },\r\n    {\r\n        value: 1.69,\r\n        name: '06:00~00:59'\r\n    },\r\n    {\r\n        value: 2.91,\r\n        name: '07:00~00:59'\r\n    },\r\n    {\r\n        value: 4.6,\r\n        name: '08:00~00:59'\r\n    },\r\n    {\r\n        value: 5.47,\r\n        name: '09:00~00:59'\r\n    },\r\n    {\r\n        value: 5.77,\r\n        name: '10:00~00:59'\r\n    },\r\n    {\r\n        value: 5.49,\r\n        name: '11:00~00:59'\r\n    },\r\n    {\r\n        value: 5.15,\r\n        name: '12:00~00:59'\r\n    },\r\n    {\r\n        value: 5.62,\r\n        name: '13:00~00:59'\r\n    },\r\n    {\r\n        value: 5.82,\r\n        name: '14:00~00:59'\r\n    },\r\n    {\r\n        value: 5.86,\r\n        name: '15:00~00:59'\r\n    },\r\n    {\r\n        value: 5.67,\r\n        name: '16:00~00:59'\r\n    },\r\n    {\r\n        value: 5.12,\r\n        name: '17:00~00:59'\r\n    },\r\n    {\r\n        value: 4.63,\r\n        name: '18:00~00:59'\r\n    },\r\n    {\r\n        value: 5.04,\r\n        name: '19:00~00:59'\r\n    },\r\n    {\r\n        value: 5.56,\r\n        name: '20:00~00:59'\r\n    },\r\n    {\r\n        value: 5.63,\r\n        name: '21:00~00:59'\r\n    },\r\n    {\r\n        value: 5.18,\r\n        name: '22:00~00:59'\r\n    },\r\n    {\r\n        value: 4.36,\r\n        name: '23:00~00:59'\r\n    }\r\n];\r\n\r\n// 角度对应的时间\r\nvar deg_clock = {\r\n    0: 0,\r\n    30: 2,\r\n    60: 4,\r\n    90: 6,\r\n    120: 8,\r\n    150: 10,\r\n    180: 12,\r\n    210: 14,\r\n    240: 16,\r\n    270: 18,\r\n    300: 20,\r\n    330: 22,\r\n    360: 24\r\n};\r\n\r\n// 区域带透明度的背景色\r\nvar splitAreaColor = ['rgba(24, 237, 201,0.1)',\r\n    'rgba(24, 237, 201,0.1)',\r\n    'rgba(24, 237, 201,0.2)',\r\n    'rgba(24, 237, 201,0.2)',\r\n    'rgba(24, 237, 201,0.3)',\r\n    'rgba(24, 237, 201,0.3)',\r\n    'rgba(24, 237, 201,0.3)',\r\n    'rgba(24, 237, 201,0.3)',\r\n    'rgba(24, 237, 201,0.2)',\r\n    'rgba(24, 237, 201,0.2)',\r\n\r\n];\r\n\r\n// 根据时钟区域下标找到对应图片\r\nfunction formatterClockPic(i) {\r\n    if (i == -1 || i === 0 || i == 23) {\r\n        return '{imgOwi|}';\r\n    }\r\n    if (i == 1 || i == 2 || i == 3 || i == 4 || i == 5 || i == 19 || i == 21 || i == 22) {\r\n        return '{imgMoon|}';\r\n    }\r\n    if (i == 6) {\r\n        return '{imgOffice|}';\r\n    }\r\n    if (i == 7 || i == 8 || i == 9 || i == 10 || i == 11 || i == 13 || i == 14 || i == 15 || i == 17) {\r\n        return '{imgSun|}';\r\n    }\r\n    if (i == 12 || i == 18) {\r\n        return '{imgMeal|}';\r\n    }\r\n    if (i == 16) {\r\n        return '{imgCoffee|}';\r\n    }\r\n    if (i == 20) {\r\n        return '{imgPc|}';\r\n    }\r\n};\r\n\r\nfunction tooltipFormatterClockPie(i) {\r\n    if (i == -1 || i === 0 || i == 23) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n    if (i == 1 || i == 2 || i == 3 || i == 4 || i == 5 || i == 19 || i == 21 || i == 22) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n    if (i == 6) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n    if (i == 7 || i == 8 || i == 9 || i == 10 || i == 11 || i == 13 || i == 14 || i == 15 || i == 17) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-day.5342b895fe23eafdb202b563ee5efbab.svg\">';\r\n    }\r\n    if (i == 12 || i == 18) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n    if (i == 16) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n    if (i == 20) {\r\n        return '<img src=\"https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg\">';\r\n    }\r\n};\r\n\r\n// 时钟图片\r\nvar clockPic = {\r\n    imgOwi: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16,\r\n\r\n    },\r\n    imgMoon: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16\r\n    },\r\n    imgOffice: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16\r\n    },\r\n    imgSun: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-day.5342b895fe23eafdb202b563ee5efbab.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        rotate: 0,\r\n        fontSize: 16\r\n    },\r\n    imgMeal: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16\r\n    },\r\n    imgCoffee: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16\r\n    },\r\n    imgPc: {\r\n        backgroundColor: {\r\n            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'\r\n        },\r\n        width: 16,\r\n        height: 16,\r\n        fontSize: 16\r\n    }\r\n};\r\n/*-------------------------------------------------------------------------------------*/\r\n// 设置背景色\r\ndocument.getElementsByTagName('body')[0].style.backgroundColor = \"rgba(13, 17, 29)\";\r\n\r\nvar eleChart = document.getElementById('chart-panel');\r\nvar chart = echarts.init(eleChart);\r\n\r\nvar option = {\r\n    polar: {\r\n        radius: [63, 150],\r\n        center: ['50%', '50%']\r\n    },\r\n    // 极坐标\r\n    angleAxis: {\r\n        min: 0,\r\n        max: 360,\r\n        startAngle: 91,\r\n        //         interval: 28,\r\n        clockwise: true, //顺时针\r\n        zlevel: 1,\r\n        // 圆线\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        // 圆线上的刻度\r\n        axisTick: {\r\n            show: false,\r\n\r\n            lineStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        // 圆线上的刻度标签\r\n        axisLabel: {\r\n            color: '#fff',\r\n            interval: '2',\r\n            fontWeight: 'bold',\r\n            formatter: function(deg) {\r\n                return deg_clock[deg];\r\n            },\r\n        },\r\n        // 圆中直区域分割线\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: ['rgba(26, 28, 38)']\r\n            }\r\n        },\r\n        // 圆中被分割的区域\r\n        splitArea: {\r\n            show: false,\r\n            areaStyle: {\r\n                color: splitAreaColor\r\n            }\r\n        }\r\n\r\n    },\r\n    // 刻度\r\n    axisTick: {\r\n        show: false,\r\n        lineStyle: {\r\n            color: '#fff'\r\n        }\r\n    },\r\n    // 刻度标签\r\n    axisLabel: {\r\n        show: false\r\n    },\r\n    radiusAxis: {\r\n        show: false,\r\n    },\r\n    tooltip: {\r\n        trigger: 'item'\r\n    },\r\n\r\n    series: [\r\n        {\r\n            name: 'green',\r\n            type: 'pie',\r\n            radius: [63, 155],\r\n            center: ['49.5%', '50%'],\r\n            roseType: 'radius',\r\n            zlevel: 2,\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            label: {\r\n                show: true,\r\n                formatter: '',\r\n                position: 'outside',\r\n            },\r\n            emphasis: {\r\n                label: {\r\n                    show: true,\r\n                    formatter: function(params) {\r\n                        return formatterClockPic(params.dataIndex - 1);\r\n                    },\r\n                    rich: clockPic,\r\n                    color: '#fff'\r\n                },\r\n            },\r\n            labelLine: {\r\n                show: false,\r\n                length: 40,\r\n                length2: 0\r\n            },\r\n            hoverAnimation: false, //hover时是否有放大效果\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(23, 240, 204,0)'\r\n                },\r\n                emphasis: {\r\n                    color: 'rgba(23, 240, 204)',\r\n                }\r\n            },\r\n            data: greenPieData\r\n        },\r\n        {\r\n            name: 'blue',\r\n            type: 'pie',\r\n            radius: [63, 130],\r\n            center: ['50%', '50%'],\r\n            roseType: 'area', //是否展示成南丁格尔图，通过半径区分数据大小。可选择两种模式：radius/area\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            label: {\r\n                show: true,\r\n                position: 'center',\r\n                color: 'rgba(13, 17, 29,0)'\r\n            },\r\n            emphasis: {\r\n                label: {\r\n                    show: true,\r\n                    fontSize: '30',\r\n                    fontWeight: 'bold',\r\n                    formatter: ['{a|{d}%}', '{b|{b}}'].join('\\n'),\r\n                    rich: {\r\n                        a: {\r\n                            color: '#fff',\r\n                            fontSize: 32,\r\n                            lineHeight: 46,\r\n                            verticalAlign: 'bottom'\r\n                        },\r\n                        b: {\r\n                            color: '#a7a9c7',\r\n                            fontSize: 12,\r\n                            lineHeight: 24\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            zlevel: 3,\r\n            hoverAnimation: false, //hover时是否有放大效果\r\n            clockwise: true, //饼图的扇区是否是顺时针排布\r\n            startAngle: 90, //起始角度\r\n            minAngle: 40, //最小的扇区角度（0 ~ 360），用于防止某个值过小导致扇区太小影响交互\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(57, 111, 255)'\r\n                },\r\n                emphasis: {\r\n                    color: 'rgba(23, 240, 204)'\r\n                }\r\n            },\r\n            data: bluePieData\r\n        },\r\n\r\n    ]\r\n};\r\n\r\nchart.setOption(option);\r\n\r\n/*-------------------------------------------------------------------------------------*/\r\n\r\nvar arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\r\n\r\n\r\n// 默认高亮\r\n    chart.dispatchAction({\r\n        type: 'highlight',\r\n        // 可选，系列 index，可以是一个数组指定多个系列\r\n        seriesIndex: [0, 1],\r\n        // 可选，数据的 index\r\n        dataIndex: 0,\r\n    });\r\n\r\nchart.on('mouseover', {\r\n    seriesIndex: 0\r\n}, function(e) {\r\n    // 取消高亮\r\n    chart.dispatchAction({\r\n        type: 'downplay',\r\n        // 可选，系列 index，可以是一个数组指定多个系列\r\n        seriesIndex: [0, 1],\r\n        // 可选，数据的 index\r\n        dataIndex: arr,\r\n    });\r\n    // 设置高亮\r\n    chart.dispatchAction({\r\n        type: 'highlight',\r\n        // 可选，系列 index，可以是一个数组指定多个系列\r\n        seriesIndex: [0, 1],\r\n        // 可选，数据的 index\r\n        dataIndex: e.dataIndex,\r\n    });\r\n    // 隐藏24小时图标\r\n    chart.dispatchAction({\r\n        type: 'hideTip',\r\n        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n        seriesIndex: [1],\r\n        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n        dataIndex: arr,\r\n    });\r\n    // 显示24小时图标\r\n    chart.dispatchAction({\r\n        type: 'showTip',\r\n        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n        seriesIndex: [1],\r\n        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n        dataIndex: e.dataIndex,\r\n        // 本次显示 tooltip 的位置。只在本次 action 中生效。\r\n        // 缺省则使用 option 中定义的 tooltip 位置。\r\n        position: [100, 200],\r\n    });\r\n});\r\n\r\nchart.on('mouseover', {\r\n    seriesIndex: 1\r\n}, function(e) {\r\n    // 取消高亮\r\n    chart.dispatchAction({\r\n        type: 'downplay',\r\n        // 可选，系列 index，可以是一个数组指定多个系列\r\n        seriesIndex: [0, 1],\r\n        // 可选，数据的 index\r\n        dataIndex: arr,\r\n    });\r\n    // 设置高亮\r\n    chart.dispatchAction({\r\n        type: 'highlight',\r\n        // 可选，系列 index，可以是一个数组指定多个系列\r\n        seriesIndex: [0, 1],\r\n        // 可选，数据的 index\r\n        dataIndex: e.dataIndex,\r\n    });\r\n    // 隐藏24小时图标\r\n    chart.dispatchAction({\r\n        type: 'hideTip',\r\n        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n        seriesIndex: [1],\r\n        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n        dataIndex: arr,\r\n    });\r\n    // 显示24小时图标\r\n    chart.dispatchAction({\r\n        type: 'showTip',\r\n        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n        seriesIndex: [1],\r\n        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n        dataIndex: e.dataIndex,\r\n        // 本次显示 tooltip 的位置。只在本次 action 中生效。\r\n        // 缺省则使用 option 中定义的 tooltip 位置。\r\n        position: [100, 200],\r\n    });\r\n\r\n});","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":5679,"userName":"j***6","commentCount":1,"starCount":43,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKWwuxtjtr.png?v=1587084822563","isCustomThumbnail":1,"builtinTags":["category-work","polar","series-pie","tooltip"],"customTags":[],"updaterUserName":"j***6"}}