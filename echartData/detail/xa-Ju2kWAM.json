{"status":0,"data":{"cid":"xa-Ju2kWAM","authorUid":"obd-ojY2SoNvjWizfqUywqIqYSYrmEhJ9EZ","authorUserName":"溢***诗","title":"custom-圆环缩放动画","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2021-03-30T03:08:26.000Z","lastUpdateTime":"2021-03-30T03:08:26.000Z","auth":2,"uid":"obd-ojY2SoNvjWizfqUywqIqYSYrmEhJ9EZ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-30T04:07:38.000Z","code":"let radius = 0.7;\r\nlet isBig = true\r\nvar timerId;\r\noption = {\r\n    backgroundColor: \"#061740\",\r\n    series: [{\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            // params 包含了当前数据信息和坐标系的信息   api 是一些开发者可调用的方法集合\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    name: '圆',\r\n                    // circle有动画\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: api.getWidth() / 2,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * radius,\r\n                    },\r\n                    // path 无动画********为啥子？？？？？？？\r\n                    // type: 'path',\r\n                    // shape: {\r\n                    //     pathData: 'M229.76512 794.23488c155.61728 155.61728 408.84224 155.61728 564.45952 0s155.61728-408.84224 0-564.45952-408.84224-155.61728-564.45952 0S74.14784 638.60736 229.76512 794.23488zM260.73088 260.72064c138.55744-138.55744 364.00128-138.55744 502.55872 0 138.53696 138.5472 138.53696 364.00128 0 502.55872-138.55744 138.5472-364.02176 138.5472-502.55872 0C122.17344 624.72192 122.17344 399.26784 260.73088 260.72064z',\r\n                    //     layout: 'center',\r\n                    //     x: api.getWidth() * ((1 - radius) / 2),\r\n                    //     y: api.getHeight() * ((1 - radius) / 2),\r\n                    //     width: api.getWidth() * radius,\r\n                    //     height: api.getHeight() * radius,\r\n                    // },\r\n\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",\r\n                        fill: \"transparent\", // 弧形内部填充色\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n\r\n    ]\r\n};\r\n\r\nfunction draw() {\r\n    if (isBig) {\r\n        if (radius > 0.9) {\r\n            isBig = false\r\n        }\r\n        radius = radius + 0.05\r\n    } else {\r\n        if (radius < 0.5) {\r\n            isBig = true\r\n        }\r\n        radius = radius - 0.05\r\n    }\r\n    myChart.setOption(option, true)\r\n    //window.requestAnimationFrame(draw);\r\n}\r\nif (timerId) {\r\n    clearInterval(timerId);\r\n}\r\ntimerId = setInterval(function() {\r\n    //用setInterval做动画感觉有问题\r\n    draw()\r\n}, 100);","html":"","externalScripts":"","updaterUID":"obd-ojY2SoNvjWizfqUywqIqYSYrmEhJ9EZ","theme":"","layout":"","viewCount":48,"userName":"溢***诗","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xa-Ju2kWAM.png?v=1617077258305","isCustomThumbnail":0,"builtinTags":["category-work","series-custom"],"customTags":[],"updaterUserName":"溢***诗"}}