{"status":0,"data":{"cid":"xH98axn1Wr","authorUid":"bd-1443254588","authorUserName":"d***5","title":"高血压知识图谱","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2019-09-09T09:16:41.000Z","lastUpdateTime":"2019-09-09T09:16:41.000Z","auth":2,"uid":"bd-1443254588","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-09-09T09:23:20.000Z","code":"var size = 60;\r\nvar size1 = 30;\r\nvar yy = 200;\r\nvar yy1 = 250;\r\n\r\nvar listdata = [];\r\nvar links = [];\r\n\r\nvar med = \"药品\";\r\nvar ope = \"生活习惯\";\r\nvar che = \"检查\";\r\n\r\n//著需要设定一下四个参数\r\n//设定疾病名称\r\nvar diease = \"高血压\";\r\n//设定传入的药品数组\r\nvar meds = [\"硝苯地平\", \"卡托普利\", \"利美尼定\", \"氢氯噻嗪\"];\r\n//设定传入的操作数组\r\nvar opes = [\"摄盐\", \"抽烟\",\"饮酒\", \"运动\",\"心理调整\"];\r\n//设定传入的检查数组\r\nvar ches = [\"血压测量\", \"心率测量\", \"体重测量\",\"心电图\", \"血液检查\"];\r\n\r\nfunction setData(arr, n) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        listdata.push({\r\n            x: i * 50,\r\n            y: size + i * 10,\r\n            \"name\": arr[i],\r\n            \"symbolSize\": size,\r\n            \"category\": n,\r\n            \"draggable\": \"true\"\r\n        })\r\n    }\r\n}\r\n\r\nfunction setLinkData(arr, title) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        links.push({\r\n            \"source\": arr[i],\r\n            \"target\": title,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: 'source',\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nvar legendes = [\"药物\", \"生活习惯\", \"检查\", \"疾病\"];\r\nvar texts = [];\r\nfor (var i = 0; i < legendes.length; i++) {\r\n    texts.push({\r\n        \"name\": legendes[i],\r\n    })\r\n}\r\n\r\nvar cat1 = [\"药物\"];\r\nfor (var i = 0; i < meds.length; i++) {\r\n    cat1.push(meds[i]);\r\n}\r\nvar cat2 = [\"生活习惯\"];\r\nfor (var i = 0; i < opes.length; i++) {\r\n    cat2.push(opes[i]);\r\n}\r\nvar cat3 = [\"检查\"];\r\nfor (var i = 0; i < ches.length; i++) {\r\n    cat3.push(ches[i]);\r\n}\r\nvar cat4 = [];\r\ncat4.push(diease);\r\n\r\nsetData(cat1, 0);\r\nsetData(cat2, 1);\r\nsetData(cat3, 2);\r\nsetData(cat4, 3);\r\n\r\nsetLinkData(cat1, cat1[0]);\r\nsetLinkData(cat2, cat2[0]);\r\nsetLinkData(cat3, cat3[0]);\r\nsetLinkData(legendes, cat4[0]);\r\n\r\noption = {\r\n    title: {\r\n        text: \"高血压知识图谱\",\r\n        top: \"top\",\r\n        left: \"left\",\r\n        textStyle: {\r\n            color: '#000000'\r\n        }\r\n    },\r\n    tooltip: {\r\n        formatter: '{b}'\r\n    },\r\n    toolbox: {\r\n        show: true,\r\n        feature: {\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    backgroundColor: '#ffffff',\r\n    legend: {\r\n        data: legendes,\r\n        textStyle: {\r\n            color: '#000'\r\n        },\r\n        icon: 'circle',\r\n        type: 'scroll',\r\n        orient: 'vertical',\r\n        left: 10,\r\n        top: 20,\r\n        bottom: 20,\r\n        itemWidth: 10,\r\n        itemHeight: 10\r\n    },\r\n    animationDuration: 1000,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    series: [{\r\n        name: '知识图谱',\r\n        type: 'graph',\r\n        layout: 'force',\r\n        force: {\r\n            repulsion: 60,\r\n            gravity: 0.1,\r\n            edgeLength: 20,\r\n            layoutAnimation: true,\r\n        },\r\n        data: listdata,\r\n        links: links,\r\n        categories: texts,\r\n        roam: false,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'inside',\r\n                formatter: '{b}',\r\n                fontSize: 12,\r\n                fontStyle: '600',\r\n            }\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: 0.9,\r\n                width: 1.5,\r\n                curveness: 0\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-1443254588","theme":"","layout":"","viewCount":717,"userName":"d***5","commentCount":1,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH98axn1Wr.png?v=1568021000176","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"d***5"}}