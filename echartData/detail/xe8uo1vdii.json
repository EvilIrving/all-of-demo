{"status":0,"data":{"cid":"xe8uo1vdii","authorUid":"obd-otekrZuSZt8ceA74B914GnWbEZyav85","authorUserName":"派***u","title":"车辆状态统计","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-12-23T09:13:41.000Z","lastUpdateTime":"2021-12-23T09:13:41.000Z","auth":2,"uid":"obd-otekrZuSZt8ceA74B914GnWbEZyav85","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-23T09:13:41.000Z","code":"const category = [\n    {\n        name: '打电话',\n        value: 1000,\n    },\n    {\n        name: '急减速',\n        value: 2000,\n    },\n    {\n        name: '油量异常',\n        value: 3000,\n    },\n    {\n        name: '疲劳驾驶',\n        value: 7000,\n    },\n    {\n        name: '超速',\n        value: 9000,\n    },\n]; // 类别\nconst total = 10000; // 数据总数\nconst a = ['20%', '40%', '60%', '80%', '100%'];\nvar datas = [];\ncategory.forEach((value) => {\n    datas.push(value.value);\n});\noption = {\n    backgroundColor: 'rgb(7, 14, 34)',\n    grid: {\n        left: '13%',\n        top: '8%', // 设置条形图的边距\n        right: '14%',\n        bottom: '10%',\n    },\n    xAxis: {\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgba(255,255,255,0.2)',\n                type: 'dashed',\n            },\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: true,\n            color: '#ABBFE3',\n        },\n        axisTick: {\n            show: false,\n        },\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: false,\n            data: category,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n        },\n    ],\n    series: [\n        {\n            // 内\n            type: 'bar',\n            barWidth: 10,\n\n            legendHoverLink: false,\n            silent: true,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        var color;\n                        if (params.dataIndex == 3) {\n                            color = {\n                                type: 'linear',\n                                x: 0,\n                                y: 0,\n                                x2: 1,\n                                y2: 0,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n\n                                        color: '#2961D8', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: '#7BB2FF', // 100% 处的颜色\n                                    },\n                                ],\n                            };\n                        } else if (params.dataIndex == 2) {\n                            color = {\n                                type: 'linear',\n                                x: 0,\n                                y: 0,\n                                x2: 1,\n                                y2: 0,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: '#2961D8', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: '#7BB2FF', // 100% 处的颜色\n                                    },\n                                ],\n                            };\n                        } else if (params.dataIndex == 4) {\n                            color = {\n                                type: 'linear',\n                                x: 0,\n                                y: 0,\n                                x2: 1,\n                                y2: 0,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: '#D85E29', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n\n                                        color: '#FFD07B', // 100% 处的颜色\n                                    },\n                                ],\n                            };\n                        } else if (params.dataIndex == 1) {\n                            color = {\n                                type: 'linear',\n                                x: 0,\n                                y: 0,\n                                x2: 1,\n                                y2: 0,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: '#2961D8', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n\n                                        color: '#7BB2FF', // 100% 处的颜色\n                                    },\n                                ],\n                            };\n                        } else {\n                            color = {\n                                type: 'linear',\n                                x: 0,\n                                y: 0,\n                                x2: 1,\n                                y2: 0,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: '#3CB254', // 0% 处的颜色\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: '#A7EFAE', // 100% 处的颜色\n                                    },\n                                ],\n                            };\n                        }\n                        return color;\n                    },\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'left',\n                    formatter: '{b}',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 14,\n                    },\n                },\n            },\n            data: category,\n            z: 2,\n            animationEasing: 'elasticOut',\n        },\n        {\n            // 分隔\n            type: 'pictorialBar',\n            itemStyle: {\n                normal: {\n                    color: '#061348',\n                },\n            },\n            symbolRepeat: 'fixed',\n            symbolMargin: 6,\n            symbol: 'rect',\n            symbolClip: true,\n            symbolSize: [1, 21],\n            symbolPosition: 'start',\n            symbolOffset: [1, -1],\n            symbolBoundingData: this.total,\n            data: category,\n            z: 2,\n            animationEasing: 'elasticOut',\n        },\n        {\n            // 外边框\n            type: 'pictorialBar',\n            symbol: 'rect',\n            symbolBoundingData: total,\n            itemStyle: {\n                normal: {\n                    color: 'none',\n                },\n            },\n            label: {\n                normal: {\n                    formatter: (params) => {\n                        var text;\n                        if (params.dataIndex == 1) {\n                            text = '{a| ' + params.data + '}{f|  |  ' + (params.data / total) * 100 + '%}';\n                        } else if (params.dataIndex == 2) {\n                            text = '{b| ' + params.data + '}{f|  |  ' + (params.data / total) * 100 + '%}';\n                        } else if (params.dataIndex == 3) {\n                            text = '{c| ' + params.data + '}{f|  |  ' + (params.data / total) * 100 + '%}';\n                        } else {\n                            text = '{d| ' + params.data + '}{f|  |  ' + (params.data / total) * 100 + '%}';\n                        }\n                        return text;\n                    },\n                    rich: {\n                        a: {\n                            color: '#D5E9FF',\n                        },\n                        b: {\n                            color: '#D5E9FF',\n                        },\n                        c: {\n                            color: '#D5E9FF',\n                        },\n                        d: {\n                            color: '#D5E9FF',\n                        },\n                        f: {\n                            color: '##D5E9FF',\n                        },\n                    },\n                    position: 'right',\n                    distance: 1, // 向右偏移位置\n                    show: true,\n                },\n            },\n            data: datas,\n            z: 0,\n            animationEasing: 'elasticOut',\n        },\n        {\n            name: '外框',\n            type: 'bar',\n            barGap: '-120%', // 设置外框粗细\n            data: [\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n                total,\n            ],\n            barWidth: 14,\n            itemStyle: {\n                normal: {\n                    color: '#23365D', // 填充色\n                    barBorderColor: '#1C4B8E', // 边框色\n                    barBorderWidth: 1, // 边框宽度\n                    // barBorderRadius: 0, //圆角半径\n                    label: {\n                        // 标签显示位置\n                        show: false,\n                        position: 'top', // insideTop 或者横向的 insideLeft\n                    },\n                },\n            },\n            z: 0,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-otekrZuSZt8ceA74B914GnWbEZyav85","theme":"","layout":"","viewCount":0,"userName":"派***u","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xe8uo1vdii.png?v=1640250821814","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"派***u"}}