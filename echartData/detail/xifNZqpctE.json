{"status":0,"data":{"cid":"xifNZqpctE","authorUid":"obd-oFgxeOImDyGaYaUVj8Ze-CeWci-ka5J","authorUserName":"二***桐","title":"水平柱形图-渐变色","description":"数据来自网络","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-22T10:05:01.000Z","lastUpdateTime":"2020-06-22T10:05:01.000Z","auth":2,"uid":"obd-oFgxeOImDyGaYaUVj8Ze-CeWci-ka5J","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-22T10:05:01.000Z","code":"var datalabel =  [100, 2, 3, 12, 13, 68]\nvar  data=[18203, 23489, 29034, 104970, 131744, 630230]\nvar color = ['#FC619D', '#FF904D', '#48BFE3'];\nvar max = 100;\n\nfunction rgbaToHex(color) {\n\t        var values = color\n\t          .replace(/rgba?\\(/, '')\n\t          .replace(/\\)/, '')\n\t          .replace(/[\\s+]/g, '')\n\t          .split(',');\n\t        var a = parseFloat(values[3] || 1),\n\t          r = Math.floor(a * parseInt(values[0]) + (1 - a) * 255),\n\t          g = Math.floor(a * parseInt(values[1]) + (1 - a) * 255),\n\t          b = Math.floor(a * parseInt(values[2]) + (1 - a) * 255);\n\n\t        return \"#\" +\n\t          (\"0\" + r.toString(16)).slice(-2) +\n\t          (\"0\" + g.toString(16)).slice(-2) +\n\t          (\"0\" + b.toString(16)).slice(-2);\n\t    }\n\nfunction getColorByNumber(n) {\n\t    \tlet halfMax = max / 2  //最大数值的二分之一\n\t        //var 百分之一 = (单色值范围) / halfMax;  单颜色的变化范围只在50%之内\n\t        var one = 255 / halfMax; \n\t        var r = 0;\n\t        var g = 0;\n\t        var b = 0;\n\n\t        if (n < halfMax) {\n\t          // 比例小于halfMax的时候红色是越来越多的,直到红色为255时(红+绿)变为黄色.\n\t          r = one * n;  \n\t          g = 255;\n\t        }\n\n\t        if (n >= halfMax) {\n\t          // 比例大于halfMax的时候绿色是越来越少的,直到0 变为纯红\n\t          g = (255 - ((n - halfMax) * one)) < 0 ? 0 : (255 - ((n - halfMax) * one))\n\t          r = 255;\n\n\t        }\n\t        r = parseInt(r);// 取整\n\t        g = parseInt(g);// 取整\n\t        b = parseInt(b);// 取整\n\n\t        return rgbaToHex(\"rgb(\" + r + \",\" + g + \",\" + b + \")\");\n\t    }\n\t    \n\nvar colorList1 = []\nfor(var i=0;i<=datalabel.length;i++){\n    colorList1.push(getColorByNumber(datalabel[i]))\n}\n\noption = {\n    title: {\n        text: '世界人口总量',\n        subtext: '数据来自网络'\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    legend: {\n        data: ['2011年', '2012年']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'value',\n        boundaryGap: [0, 0.01]\n    },\n    yAxis: {\n        type: 'category',\n        data: ['巴西', '印尼', '美国', '印度', '中国', '世界人口(万)'],\n        axisLabel: {\n            interval: 0,\n            color: '#666',\n            align: 'right',\n            margin: 10,\n            fontSize: 13,\n            formatter: function (value, index) {\n                return '人口数：' + data[index]+ '个    正确率：' + datalabel[index]\n            },\n        \n    }\n    },\n    series: [\n        {\n            name: '2011年',\n            type: 'bar',\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 5,\n                    color: function(params) {\n                        // build a color map as your need.\n                        var colorList = [\n                          '#C1232B','#B5C334','#FCCE10','#E87C25','#27727B',\n                           '#FE8463','#9BCA63','#FAD860','#F3A43B','#60C0DD',\n                           '#D7504B','#C6E579','#F4E001','#F0805A','#26C0C0'\n                        ];\n                        return colorList1[params.dataIndex]\n                    },\n                //     color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                //         offset: 0,\n                //         color: 'rgb(57,89,255,1)'\n                //     }, {\n                //         offset: 1,\n                //         color: 'rgb(46,200,207,1)'\n                //     }]),\n                 },\n            },\n            data: [18203, 23489, 29034, 104970, 131744, 630230]\n        },\n       \n    ]\n};\n","html":"","externalScripts":"","updaterUID":"obd-oFgxeOImDyGaYaUVj8Ze-CeWci-ka5J","theme":"","layout":"","viewCount":87,"userName":"二***桐","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xifNZqpctE.png?v=1592820301863","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"二***桐"}}