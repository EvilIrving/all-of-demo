{"status":0,"data":{"cid":"xvxNRYUoT-","authorUid":"obd-o04OccG9yCRbA0oM-73q71CaKDzhWFm","authorUserName":"e***9","title":"叠加柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-07-23T08:33:20.000Z","lastUpdateTime":"2020-07-23T08:33:20.000Z","auth":2,"uid":"obd-o04OccG9yCRbA0oM-73q71CaKDzhWFm","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-23T08:33:20.000Z","code":"var spNum = 5,_max=100;\nvar legendData = ['常住人口', '户籍人口', '农村人口','城镇居民'];\nvar y_data = ['成都市', '绵阳市', '自贡市', '攀枝花市', '泸州市', '德阳市'];\nvar _datamax = [100,100,100,100,100,100],\n    _data1 = [10,15,10,13,15,11],\n    _data2 = [19,5,40,33,15,51],\n    _data3 = [21,55,10,13,35,11];\n    _data4 = [21,55,10,13,35,11];\nvar fomatter_fn = function(v) {\n    return (v.value / _max * 100).toFixed(0) \n}\nvar _label = {\n    normal: {\n        show: true,\n        position: 'inside',\n        formatter: fomatter_fn,\n        textStyle: {\n            color: '#fff',\n            fontSize: 16\n        }\n    }\n};\noption = {\n    backgroundColor: '#092E74',\n    grid: {\n        containLabel: true,\n        left: '5%',\n        right: 15,\n        bottom: 30\n    },\n    tooltip: {\n        show: true,\n        backgroundColor: '#fff',\n        borderColor: '#ddd',\n        borderWidth: 1,\n        textStyle: {\n            color: '#3c3c3c',\n            fontSize: 16\n        },\n        formatter: function(p) {\n            console.log(p);\n            var _arr = p.seriesName.split('/'),\n            idx = p.seriesIndex;//1，2，3\n            return '名称：' + p.seriesName + '<br>' + '完成：' + p.value + '<br>' + '占比：' + (p.value / _max * 100).toFixed(0) + '%';\n        },\n        extraCssText: 'box-shadow: 0 0 5px rgba(0, 0, 0, 0.1)'\n    },\n    xAxis: {\n        splitNumber: spNum,\n        interval: _max / spNum,\n        max: _max,\n        axisLabel: {\n            show: false,\n            formatter: function(v) {\n                var _v = (v / _max * 100).toFixed(0);\n                return _v == 0 ? _v : _v + '%';\n            }\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        }\n\n    },\n    yAxis: [{\n        data: y_data,\n        axisLabel: {\n            fontSize: 16,\n            color: '#5C9DED'\n\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: true,\n            length: 100,\n            lineStyle: {\n                color: '#204485',\n                type: 'dashed'\n            }\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#204485',\n                type: 'dashed'\n            }\n        }\n    }, {\n        show: false,\n        data: y_data,\n        axisLine: {\n            show: false\n        }\n    }],\n    series: [{\n        type: 'bar',\n        name: '常住人口',\n        stack: '2',\n        label: _label,\n        legendHoverLink: false,\n        barWidth: 40,\n        itemStyle: {\n            normal: {\n                color: '#7E47FF',\n                borderWidth: 5,\n                borderColor: '#092E74'\n            },\n            emphasis: {\n                color: '#7E47FF'\n            }\n        },\n        data: _data1\n    }, {\n        type: 'bar',\n        name: '户籍人口',\n        stack: '2',\n        legendHoverLink: false,\n        barWidth: 40,\n        label: _label,\n        itemStyle: {\n            normal: {\n                color: '#FD5916',\n                borderWidth: 5,\n                borderColor: '#092E74'\n            },\n            emphasis: {\n                color: '#FD5916'\n            }\n        },\n        data: _data2\n    }, {\n        type: 'bar',\n        stack: '2',\n        name: '农村人口',\n        legendHoverLink: false,\n        barWidth: 40,\n        label: _label,\n        itemStyle: {\n            normal: {\n                color: '#01A4F7',\n                borderWidth: 5,\n                borderColor: '#092E74'\n            },\n            emphasis: {\n                color: '#01A4F7'\n            }\n        },\n        data: _data3\n    }, {\n        type: 'bar',\n        stack: '2',\n        name: '城镇居民',\n        legendHoverLink: false,\n        barWidth: 40,\n        label: _label,\n        itemStyle: {\n            normal: {\n                color: '#2EDDCD',\n                borderWidth: 5,\n                borderColor: '#092E74'\n            },\n            emphasis: {\n                color: '#2EDDCD'\n            }\n        },\n        data: _data4\n    }]\n};","html":"","externalScripts":"","updaterUID":"obd-o04OccG9yCRbA0oM-73q71CaKDzhWFm","theme":"","layout":"","viewCount":2048,"userName":"e***9","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvxNRYUoT-.png?v=1595493200553","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"e***9"}}