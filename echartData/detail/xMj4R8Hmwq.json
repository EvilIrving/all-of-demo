{"status":0,"data":{"cid":"xMj4R8Hmwq","authorUid":"bd-1335944923","authorUserName":"锃***6","title":"3D散点","description":"好看的图就是要分享出来～～","latestVersion":10,"alwaysLatest":1,"createTime":"2019-06-04T04:04:31.000Z","lastUpdateTime":"2019-06-04T04:04:31.000Z","auth":1,"uid":"bd-1335944923","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-22T08:45:04.000Z","code":"/**\r\n * @author liang\r\n * 3D散点图，高度设为0，紧贴球表面，通过大小反映数据量多少\r\n */\r\n\r\n// 使用 echarts 绘制世界地图的实例作为纹理\r\nlet canvas = document.createElement('canvas');\r\nlet mapChart = echarts.init(canvas, null, {\r\n    width: 4096,\r\n    height: 2048\r\n});\r\nlet pOp = {\r\n    // 两种方法绘制地图都可以\r\n    geo: {\r\n        map: 'world',\r\n        label: {\r\n            fontSize: 40\r\n        },\r\n        itemStyle: {\r\n            areaColor: 'grey',\r\n            borderColor: '#00FDFF'\r\n        },\r\n        emphasis: {\r\n            areaColor: 'transparent'\r\n        },\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        boundingCoords: [\r\n            [-180, 90],\r\n            [180, -90]\r\n        ]\r\n    },\r\n    // series: [\r\n    //     {\r\n    //         type: 'map',\r\n    //         map: 'world',\r\n    //         top: 0, left: 0,\r\n    //         right: 0, bottom: 0,\r\n    //         boundingCoords: [[-180, 90], [180, -90]],\r\n    //         itemStyle: {\r\n    //             areaColor: 'transparent',\r\n    //             borderColor: '#00FDFF'\r\n    //         },\r\n    //         label:{\r\n    //             fontSize: 80\r\n    //         },\r\n    //     }    \r\n    // ]\r\n}\r\nconst randomData = () => {\r\n    let longitude = (Math.random() * 360 - 180).toFixed(6)\r\n    let latitude = (Math.random() * 180 - 90).toFixed(6)\r\n    let value = (Math.random() * 3000).toFixed(2)\r\n    return [longitude, latitude, -1, value]\r\n}\r\nlet data = []\r\nfor (let i = 0; i < 500; i++) {\r\n    data.push(randomData())\r\n}\r\nmapChart.setOption(pOp);\r\noption = {\r\n    backgroundColor: '#333',\r\n    tooltip: {\r\n        show: true,\r\n        formatter(d) {\r\n            return '经度：' + d.data[0] + '</br>纬度：' + d.data[1] + '</br>数据量：' + d.data[3]\r\n        }\r\n    },\r\n    visualMap: [{\r\n        // show: false,\r\n        type: 'continuous',\r\n        seriesIndex: 0,\r\n        text: ['scatter3D'],\r\n        textStyle: {\r\n            color: '#fff'\r\n        },\r\n        // dimension: 3,\r\n        calculable: false,\r\n        max: 3000,\r\n        inRange: {\r\n            color: ['#87aa66', '#eba438', '#d94d4c'],\r\n            symbolSize: [8, 30]\r\n        }\r\n    }],\r\n    globe: {\r\n        baseTexture: '/asset/get/s/data-1491837049070-rJZtl7Y6x.jpg',\r\n        heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',\r\n        displacementScale: 0.04,\r\n        shading: 'lambert',\r\n        environment: '/asset/get/s/data-1491837999815-H1_44Qtal.jpg',\r\n        light: { // 光照阴影\r\n            main: {\r\n                color: '#fff', // 光照颜色\r\n                intensity: 1.8, // 光照强度\r\n                shadowQuality: 'high', //阴影亮度\r\n                shadow: true, // 是否显示阴影\r\n                alpha: 40,\r\n                beta: -30\r\n            },\r\n            ambient: {\r\n                intensity: 0.5\r\n            }\r\n        },\r\n        viewControl: {\r\n            alpha: 30,\r\n            beta: 160,\r\n            // targetCoord: [116.46, 39.92],\r\n            autoRotate: true,\r\n            autoRotateAfterStill: 10,\r\n            distance: 150\r\n        },\r\n        layers: [{\r\n            type: 'blend',\r\n            texture: mapChart\r\n        }]\r\n    },\r\n}","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/world.js","updaterUID":"bd-1146443849","theme":"","layout":"","viewCount":6009,"userName":"锃***6","commentCount":5,"starCount":24,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xMj4R8Hmwq.png?v=1559621074360","isCustomThumbnail":1,"builtinTags":["category-work","globe","tooltip","visualMap"],"customTags":[],"updaterUserName":"善***n"}}