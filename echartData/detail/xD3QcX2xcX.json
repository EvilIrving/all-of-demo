{"status":0,"data":{"cid":"xD3QcX2xcX","authorUid":"obd-o2CyGYfPgfPWamqoPHaFZ02rb6MpeBz","authorUserName":"我***奥","title":"花瓣饼图","description":"显示比率大小","latestVersion":2,"alwaysLatest":1,"createTime":"2020-09-18T08:38:00.000Z","lastUpdateTime":"2020-09-18T08:38:00.000Z","auth":2,"uid":"obd-o2CyGYfPgfPWamqoPHaFZ02rb6MpeBz","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-18T08:40:28.000Z","code":"/**特别声明**/\r\n/**灵感来自开源 176******95 on 2 年前 的花瓣**/\r\n/**感谢前面的引路人**/\r\nlet scaleData = [{\r\n            'name': '花瓣1',\r\n            'value': 10\r\n        },\r\n        {\r\n            'name': '花瓣2',\r\n            'value': 10\r\n        },\r\n        {\r\n            'name': '花瓣3',\r\n            'value': 30\r\n        },\r\n        {\r\n            'name': '花瓣4',\r\n            'value': 10\r\n        },\r\n        {\r\n            'name': '花瓣5',\r\n            'value': 10\r\n        },\r\n        ];\r\n        // 随机颜色\r\n        let rich = {\r\n            white: {\r\n                color: '#ddd',\r\n                align: 'center',\r\n                padding: [3, 0]\r\n            }\r\n        };\r\n        let placeHolderStyle = {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                color: 'rgba(0, 0, 0, 0)',\r\n                borderColor: 'rgba(0, 0, 0, 0)',\r\n                borderWidth: 0\r\n            }\r\n        };\r\n\r\n        function bg2() {\r\n            return '#' + Math.floor(Math.random() * 0xffffff).toString(16);\r\n        }\r\n\r\n        function rancolors(len) {\r\n            let color = [];\r\n            for (let i = 0; i <= len; i++) {\r\n                let sjys = bg2();\r\n                color.push(sjys);\r\n                for (let i = 0; i < color.length; i++) {\r\n                    if (color[i] = sjys) {\r\n                        color[i] = bg2();\r\n                    }\r\n                }\r\n            }\r\n            return color;\r\n        }\r\n        let data = [];\r\n        let color = rancolors(7)\r\n        for (let i = 0; i < scaleData.length; i++) {\r\n            data.push({\r\n                value: scaleData[i].value,\r\n                name: scaleData[i].name,\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderWidth: 40,\r\n                        shadowBlur: 20,\r\n                        borderColor: color[i],\r\n                        shadowColor: color[i]\r\n                    }\r\n                }\r\n            }, {\r\n                value: 80,\r\n                name: '',\r\n                itemStyle: placeHolderStyle\r\n            });\r\n        }\r\n        let seriesObj = [{\r\n            name: '',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            radius: [30, 60],\r\n            hoverAnimation: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: false,\r\n                        position: 'outside',\r\n                        color: '#ddd',\r\n                        formatter: function (params) {\r\n                            let percent = 0;\r\n                            let total = 0;\r\n                            for (let i = 0; i < scaleData.length; i++) {\r\n                                total += scaleData[i].value;\r\n                            }\r\n                            percent = (params.value / total * 100).toFixed(0);\r\n                            if (params.name !== '') {\r\n                                return params.name + '\\n{white|' + '占比' + percent + '%}';\r\n                            }\r\n                            return '';\r\n                        },\r\n                        rich: rich\r\n                    },\r\n                    labelLine: {\r\n                        length: 6,\r\n                        length2: 3,\r\n                        show: false,\r\n                        color: '#00ffff'\r\n                    }\r\n                }\r\n            },\r\n            data: data\r\n        }];\r\n        option = {\r\n            grid: {\r\n                left: 0,\r\n            },\r\n            backgroundColor: 'rgba(0,0,0,0)',\r\n            title: {\r\n                text: '77.65%',\r\n                subtext: '优良率',\r\n                x: 'center',\r\n                y: 'center',\r\n                textStyle: {\r\n                    fontSize: 20,\r\n                    color: \"rgba(255, 240, 0, 1)\",\r\n                    fontStyle: \"italic\",\r\n                },\r\n                subtextStyle: {\r\n                    fontSize: 16,\r\n                    color: \"rgba(255, 240, 255, 1)\",\r\n                }\r\n            },\r\n            xAxis: {\r\n                show: false,\r\n            },\r\n            yAxis: {\r\n                show: false,\r\n            },\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            legend: {\r\n                show: false\r\n            },\r\n            toolbox: {\r\n                show: false\r\n            },\r\n            series: seriesObj\r\n        }","html":"","externalScripts":"","updaterUID":"obd-o2CyGYfPgfPWamqoPHaFZ02rb6MpeBz","theme":"","layout":"","viewCount":881,"userName":"我***奥","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xD3QcX2xcX.png?v=1600418428505","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-pie","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"我***奥"}}