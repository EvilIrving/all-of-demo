{"status":0,"data":{"cid":"x77cBNpVDW","authorUid":"obd-oMmz2GRaeKmiRiTxWVtyYRcq_0h8p2E","authorUserName":"f***t","title":"XX数据中心统计图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-08-30T07:03:20.000Z","lastUpdateTime":"2021-09-01T09:31:32.000Z","auth":1,"uid":"obd-oMmz2GRaeKmiRiTxWVtyYRcq_0h8p2E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-01T09:31:32.000Z","code":"// 中国地图 散点分布 点击散点触发 自定义样式的 tooltip\n// 借鉴 https://gallery.echartsjs.com/editor.html?c=xnmZ5X4gCz\n\n// 散点数据\nvar data = [\n    {\n        name: '北京移动数据中心-马连道机房',\n        value: ['116.489356', '39.94083'],\n        date: '2019-10-01',\n        city: '北京市',\n    },\n];\nvar data2 = [\n    { name: '北京', value: 177 },\n    { name: '天津', value: 42 },\n    { name: '河北', value: 102 },\n    { name: '山西', value: 81 },\n    { name: '内蒙古', value: 47 },\n    { name: '辽宁', value: 67 },\n    { name: '吉林', value: 82 },\n    { name: '黑龙江', value: 66 },\n    { name: '上海', value: 24 },\n    { name: '江苏', value: 92 },\n    { name: '浙江', value: 114 },\n    { name: '安徽', value: 109 },\n    { name: '福建', value: 116 },\n    { name: '江西', value: 91 },\n    { name: '山东', value: 119 },\n    { name: '河南', value: 137 },\n    { name: '湖北', value: 116 },\n    { name: '湖南', value: 114 },\n    { name: '重庆', value: 91 },\n    { name: '四川', value: 125 },\n    { name: '贵州', value: 62 },\n    { name: '云南', value: 83 },\n    { name: '西藏', value: 9 },\n    { name: '陕西', value: 80 },\n    { name: '甘肃', value: 56 },\n    { name: '青海', value: 10 },\n    { name: '宁夏', value: 18 },\n    { name: '新疆', value: 67 },\n    { name: '广东', value: 123 },\n    { name: '广西', value: 59 },\n    { name: '海南', value: 14 },\n];\noption = {\n    backgroundColor: '#efefef',\n    tooltip: {\n        show: true,\n        trigger: 'item',\n        triggerOn: 'click',\n        padding: 0,\n        enterable: true,\n        transitionDuration: 1,\n        textStyle: {\n            color: '#000',\n            decoration: 'none',\n        },\n        formatter: function (params) {\n            console.log(params);\n            const { data } = params;\n            const type = data.type;\n            let typeName = '数据中心';\n            const tipHtml = ` <div style=\"width: 280px; background: rgba(22, 80, 158, 0.8); border: 1px solid rgba(7, 166, 255, 0.7);\">\n                                <div style=\"color: #fff; padding: 10px; font-size: 16px; border-bottom: 2px solid #0c8bdd;\">${data.name}</div>\n                                <p style=\"color: #fff;padding: 5px 10px;font-size: 14px;\">建设位置：${data.city}</p>\n                                <p style=\"color: #fff;padding: 5px 10px;font-size: 14px;\">建设时间：${data.date}</p>\n                                <p style=\"color: #fff;padding: 5px 10px;font-size: 14px;\">设施类型：${typeName}</p>\n                              </div>`;\n            return tipHtml;\n        },\n    },\n    visualMap: {\n        show: true,\n        min: 0,\n        max: 200,\n        left: 'left',\n        top: 'bottom',\n        text: ['高', '低'], // 文本，默认为数值文本\n        calculable: true,\n        seriesIndex: [1],\n        inRange: {\n            color: ['#00467F', '#A5CC82'], // 蓝绿\n        },\n    },\n    geo: {\n        show: true,\n        map: 'china',\n        label: {\n            normal: {\n                show: true,\n                color: '#fff',\n            },\n            emphasis: {\n                color: '#000000',\n                fontSize: 14,\n                show: true,\n            },\n        },\n        roam: true,\n        scaleLimit: {\n            min: 1.2,\n            max: 15,\n        },\n        zoom: 1.2,\n        itemStyle: {\n            normal: {\n                borderWidth: 1, // 区域边框宽度\n                borderColor: '#029fd4', // 区域边框颜色\n                areaColor: '#2F639A', // 区域颜色\n            },\n            emphasis: {\n                areaColor: '#2F639A',\n            },\n        },\n    },\n    series: [\n        {\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: data,\n            symbol: 'pin',\n            symbolSize: 30,\n            label: {\n                normal: {\n                    show: false,\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: '#33C481',\n                },\n                emphasis: {\n                    color: '#f00',\n                },\n            },\n        },\n        {\n            type: 'map',\n            map: 'china',\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff',\n                    },\n                },\n            },\n            roam: 'scale',\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#3B5077',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                },\n            },\n            animation: false,\n            data: data2,\n        },\n    ],\n};\nmyChart.on('click', (params) => {\n    if (params.componentType === 'series' && params.componentSubType === 'scatter') {\n        const index = params.dataIndex;\n        // 取消所有散点高亮\n        myChart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0, //第几条series\n        });\n        // 显示指定data 的tooltip\n        // myChart.dispatchAction({\n        //     type: 'showTip',\n        //     seriesIndex: 0, //第几条series\n        //     dataIndex: index, //第几个tooltip\n        // });\n        // 高亮指定的散点\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0, //第几条series\n            dataIndex: index, //第几个tooltip\n        });\n    }\n});\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-oMmz2GRaeKmiRiTxWVtyYRcq_0h8p2E","theme":"","layout":"","viewCount":0,"userName":"f***t","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x77cBNpVDW.png?v=1630488692815","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"f***t"}}