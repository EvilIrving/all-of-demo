{"status":0,"data":{"cid":"xfwslTxqZM","authorUid":"obd-oFbxvYoSWxSLUyDt5qcvCYwk1vh505o","authorUserName":"情***6","title":"markPoint标记","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-04-26T05:50:02.000Z","lastUpdateTime":"2021-04-26T05:50:02.000Z","auth":2,"uid":"obd-oFbxvYoSWxSLUyDt5qcvCYwk1vh505o","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-04-26T05:50:02.000Z","code":"function hexToRgba(hex, opacity) {\n    return (\n        'rgba(' +\n        parseInt('0x' + hex.slice(1, 3)) +\n        ',' +\n        parseInt('0x' + hex.slice(3, 5)) +\n        ',' +\n        parseInt('0x' + hex.slice(5, 7)) +\n        ',' +\n        opacity +\n        ')'\n    );\n}\nbackgroundColor = 'rgba(0,0,0,1)';\nchartdata = [\n    [1, 8, 5, 4],\n    [6, 7, 7, 4],\n    [3, 9, 1, 9],\n];\ncategoryData = [2010, 2020, 2019, 2018];\nnameArr = ['原煤', '天然气', '原油', '原煤', '天然气', '原油'];\nlinecolor = ['#3ffe68', '#ffe484', '#32deff', '#eb370a', '#a8eb0a', '#0aebeb', '#0a59eb'];\nsymbolSize = [50, 30];\nlinewidth = 2;\nchartstyle = {\n    width: '500px',\n    height: '400px',\n};\nvalue = {\n    fontSize: 16,\n    color: '#fff',\n};\ndate = {\n    fontSize: 12,\n    color: '#fff',\n};\nsmooth = true;\nshowSymbol = true;\n\nlet color = linecolor;\nlet serieslist = [];\nchartdata.forEach((item, index) => {\n    let max = Math.max.apply(null, item);\n    serieslist.push({\n        name: nameArr[index],\n        type: 'line',\n        smooth: smooth,\n        showSymbol: showSymbol,\n        symbol: 'circle',\n        symbolSize: 10,\n        itemStyle: {\n            color: (params) => {\n                if (params.dataIndex == item.indexOf(max) && params.data == max) {\n                    return {\n                        type: 'radial',\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#fff',\n                            },\n                            {\n                                offset: 0.6,\n                                color: '#fff',\n                            },\n                            {\n                                offset: 0.6,\n                                color: 'transparent',\n                            },\n                            {\n                                offset: 0.8,\n                                color: 'transparent',\n                            },\n                            {\n                                offset: 0.8,\n                                color: color[index],\n                            },\n                            {\n                                offset: 1,\n                                color: color[index],\n                            },\n                        ],\n                    };\n                } else {\n                    return 'transparent';\n                }\n            },\n        },\n        lineStyle: {\n            color: color[index],\n            width: linewidth,\n        },\n        markPoint: {\n            symbol: 'rect',\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 1,\n                    y2: 0,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: hexToRgba(color[index], 0.1), // 0% 处的颜色\n                        },\n                        {\n                            offset: 1,\n                            color: hexToRgba(color[index], 0.8), // 100% 处的颜色\n                        },\n                    ],\n                    globalCoord: false, // 缺省为 false\n                },\n                borderColor: hexToRgba(color[index], 0.5),\n                borderWidth: 1,\n            },\n            symbolSize: symbolSize, // 容器大小\n            symbolOffset: ['50%', '-50%'],\n            data: [\n                {\n                    name: '最大值',\n                    type: 'max',\n                    valueIndex: 1,\n                },\n            ],\n            label: {\n                position: 'inside',\n                color: '#fff',\n                formatter: (params) => {\n                    return '{value|' + params.value + '}\\n{date|' + categoryData[item.indexOf(params.value)] + '}';\n                },\n                rich: {\n                    value: value,\n                    date: date,\n                },\n            },\n            symbolRotate: (value, params) => {\n                if (params.seriesIndex == 1) {\n                    return 180;\n                }\n            },\n        },\n        data: item,\n    });\n});\noption = {\n    backgroundColor: backgroundColor,\n    tooltip: {\n        show: true,\n        trigger: 'axis',\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        axisPointer: {\n            type: 'line',\n            lineStyle: {\n                type: 'dashed',\n                color: '#fff',\n            },\n        },\n        textStyle: {\n            align: 'left',\n        },\n    },\n    grid: {\n        top: '5%',\n        left: '2%',\n        right: '2%',\n        bottom: '8%',\n        containLabel: true,\n        show: true,\n        borderColor: 'transparent',\n        backgroundColor: 'rgba(25, 163, 209,0.08)',\n    },\n    xAxis: [\n        {\n            type: 'category',\n            data: categoryData,\n            axisTick: {\n                show: false, // 是否显示坐标轴轴线\n            },\n            axisLabel: {\n                color: '#fff',\n            },\n            splitLine: {\n                show: false,\n            },\n            boundaryGap: true,\n            axisLine: {\n                //坐标轴轴线相关设置。\n                show: true,\n                inside: false,\n                lineStyle: {\n                    color: '#0e7675',\n                },\n            },\n        },\n    ],\n\n    yAxis: [\n        {\n            type: 'value',\n            splitNumber: 4,\n            splitLine: { show: false },\n            axisLabel: {\n                //坐标轴刻度标签的相关设置。\n                show: true,\n                formatter: (val) => {\n                    return val;\n                },\n                textStyle: {\n                    color: '#fff',\n                },\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                lineStyle: {\n                    color: 'rgba(25, 163, 209,0.1)',\n                    type: 'solid',\n                },\n            },\n            show: true,\n        },\n    ],\n    dataZoom: [\n        {\n            show: false,\n            xAxisIndex: [0],\n            left: 0,\n            bottom: 30,\n            start: 1,\n            end: 100,\n            handleSize: '100%',\n            handleStyle: {\n                color: '#5B3AAE',\n            },\n            textStyle: {\n                color: 'rgba(204,187,225,0.5)',\n            },\n            fillerColor: 'rgba(67,55,160,0.4)',\n            borderColor: 'rgba(204,187,225,0.5)',\n            filterMode: 'none',\n        },\n        {\n            type: 'inside',\n            show: true,\n            start: 1,\n            end: 100,\n        },\n    ],\n    series: serieslist,\n};\n","html":"","externalScripts":"","updaterUID":"obd-oFbxvYoSWxSLUyDt5qcvCYwk1vh505o","theme":"","layout":"","viewCount":0,"userName":"情***6","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xfwslTxqZM.png?v=1619416202736","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markPoint","series-line","tooltip"],"customTags":[],"updaterUserName":"情***6"}}