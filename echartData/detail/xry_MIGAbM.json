{"status":0,"data":{"cid":"xry_MIGAbM","authorUid":"bd-1745691900","authorUserName":"ruiwchina","title":"Multi Model Comparsion","description":"","latestVersion":11,"alwaysLatest":1,"createTime":"2017-12-13T02:53:04.000Z","lastUpdateTime":"2017-12-13T02:53:04.000Z","auth":2,"uid":"bd-1745691900","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":11,"parentVersion":10,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-14T02:38:43.000Z","code":"cutoffs = ['0.00',\r\n    '0.01',\r\n    '0.02',\r\n    '0.03',\r\n    '0.04',\r\n    '0.05',\r\n    '0.06',\r\n    '0.07',\r\n    '0.08',\r\n    '0.09',\r\n    '0.10',\r\n    '0.11',\r\n    '0.12',\r\n    '0.13',\r\n    '0.14',\r\n    '0.15',\r\n    '0.16',\r\n    '0.17',\r\n    '0.18',\r\n    '0.19',\r\n    '0.20',\r\n    '0.21',\r\n    '0.22',\r\n    '0.23',\r\n    '0.24',\r\n    '0.25',\r\n    '0.26',\r\n    '0.27',\r\n    '0.28',\r\n    '0.29',\r\n    '0.30',\r\n    '0.31',\r\n    '0.32',\r\n    '0.33',\r\n    '0.34',\r\n    '0.35',\r\n    '0.36',\r\n    '0.37',\r\n    '0.38',\r\n    '0.39',\r\n    '0.40',\r\n    '0.41',\r\n    '0.42',\r\n    '0.43',\r\n    '0.44',\r\n    '0.45',\r\n    '0.46',\r\n    '0.47',\r\n    '0.48',\r\n    '0.49',\r\n    '0.50',\r\n    '0.51',\r\n    '0.52',\r\n    '0.53',\r\n    '0.54',\r\n    '0.55',\r\n    '0.56',\r\n    '0.57',\r\n    '0.58',\r\n    '0.59',\r\n    '0.60',\r\n    '0.61',\r\n    '0.62',\r\n    '0.63',\r\n    '0.64',\r\n    '0.65',\r\n    '0.66',\r\n    '0.67',\r\n    '0.68',\r\n    '0.69',\r\n    '0.70',\r\n    '0.71',\r\n    '0.72',\r\n    '0.73',\r\n    '0.74',\r\n    '0.75',\r\n    '0.76',\r\n    '0.77',\r\n    '0.78',\r\n    '0.79',\r\n    '0.80',\r\n    '0.81',\r\n    '0.82',\r\n    '0.83',\r\n    '0.84',\r\n    '0.85',\r\n    '0.86',\r\n    '0.87',\r\n    '0.88',\r\n    '0.89',\r\n    '0.90',\r\n    '0.91',\r\n    '0.92',\r\n    '0.93',\r\n    '0.94',\r\n    '0.95',\r\n    '0.96',\r\n    '0.97',\r\n    '0.98',\r\n    '0.99',\r\n    '1.00'\r\n];\r\n\r\nft = [\r\n    [1.0, 1.0],\r\n    [0.98, 1.0],\r\n    [0.95, 1.0],\r\n    [0.89, 1.0],\r\n    [0.84, 0.99],\r\n    [0.78, 0.99],\r\n    [0.74, 0.98],\r\n    [0.7, 0.96],\r\n    [0.67, 0.95],\r\n    [0.64, 0.94],\r\n    [0.61, 0.93],\r\n    [0.59, 0.92],\r\n    [0.56, 0.92],\r\n    [0.53, 0.91],\r\n    [0.51, 0.91],\r\n    [0.5, 0.9],\r\n    [0.47, 0.89],\r\n    [0.44, 0.88],\r\n    [0.42, 0.87],\r\n    [0.41, 0.86],\r\n    [0.39, 0.86],\r\n    [0.37, 0.85],\r\n    [0.36, 0.83],\r\n    [0.35, 0.82],\r\n    [0.33, 0.8],\r\n    [0.31, 0.78],\r\n    [0.3, 0.78],\r\n    [0.29, 0.76],\r\n    [0.28, 0.75],\r\n    [0.26, 0.73],\r\n    [0.25, 0.73],\r\n    [0.24, 0.7],\r\n    [0.22, 0.69],\r\n    [0.21, 0.67],\r\n    [0.2, 0.66],\r\n    [0.19, 0.65],\r\n    [0.18, 0.65],\r\n    [0.18, 0.64],\r\n    [0.17, 0.63],\r\n    [0.16, 0.6],\r\n    [0.14, 0.58],\r\n    [0.14, 0.58],\r\n    [0.14, 0.57],\r\n    [0.13, 0.55],\r\n    [0.13, 0.55],\r\n    [0.12, 0.54],\r\n    [0.11, 0.52],\r\n    [0.1, 0.5],\r\n    [0.1, 0.49],\r\n    [0.09, 0.48],\r\n    [0.09, 0.47],\r\n    [0.09, 0.46],\r\n    [0.08, 0.45],\r\n    [0.08, 0.44],\r\n    [0.07, 0.42],\r\n    [0.07, 0.39],\r\n    [0.06, 0.38],\r\n    [0.05, 0.37],\r\n    [0.05, 0.34],\r\n    [0.05, 0.32],\r\n    [0.04, 0.31],\r\n    [0.04, 0.31],\r\n    [0.04, 0.31],\r\n    [0.04, 0.28],\r\n    [0.04, 0.27],\r\n    [0.04, 0.23],\r\n    [0.03, 0.22],\r\n    [0.03, 0.2],\r\n    [0.03, 0.19],\r\n    [0.03, 0.18],\r\n    [0.02, 0.16],\r\n    [0.02, 0.14],\r\n    [0.02, 0.13],\r\n    [0.02, 0.12],\r\n    [0.02, 0.1],\r\n    [0.02, 0.08],\r\n    [0.01, 0.07],\r\n    [0.01, 0.05],\r\n    [0.01, 0.05],\r\n    [0.01, 0.04],\r\n    [0.01, 0.04],\r\n    [0.0, 0.02],\r\n    [0.0, 0.01],\r\n    [0.0, 0.01],\r\n    [0.0, 0.01],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0]\r\n];\r\nft_c5 = [\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [1.0, 1.0],\r\n    [0.98, 1.0],\r\n    [0.97, 1.0],\r\n    [0.49, 0.89],\r\n    [0.48, 0.89],\r\n    [0.48, 0.89],\r\n    [0.46, 0.89],\r\n    [0.46, 0.89],\r\n    [0.46, 0.89],\r\n    [0.46, 0.89],\r\n    [0.28, 0.8],\r\n    [0.22, 0.78],\r\n    [0.22, 0.78],\r\n    [0.22, 0.78],\r\n    [0.21, 0.78],\r\n    [0.12, 0.72],\r\n    [0.12, 0.72],\r\n    [0.11, 0.71],\r\n    [0.11, 0.71],\r\n    [0.1, 0.71],\r\n    [0.1, 0.71],\r\n    [0.1, 0.71],\r\n    [0.1, 0.71],\r\n    [0.1, 0.71],\r\n    [0.09, 0.7],\r\n    [0.09, 0.7],\r\n    [0.09, 0.7],\r\n    [0.09, 0.7],\r\n    [0.08, 0.69],\r\n    [0.08, 0.69],\r\n    [0.08, 0.69],\r\n    [0.08, 0.69],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.07, 0.68],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.06, 0.67],\r\n    [0.05, 0.62],\r\n    [0.05, 0.62],\r\n    [0.05, 0.62],\r\n    [0.05, 0.62],\r\n    [0.05, 0.62],\r\n    [0.05, 0.6],\r\n    [0.05, 0.6],\r\n    [0.05, 0.6],\r\n    [0.05, 0.6],\r\n    [0.04, 0.58],\r\n    [0.04, 0.58],\r\n    [0.04, 0.58],\r\n    [0.03, 0.53],\r\n    [0.03, 0.53],\r\n    [0.03, 0.53],\r\n    [0.03, 0.5],\r\n    [0.03, 0.5],\r\n    [0.03, 0.49],\r\n    [0.02, 0.36],\r\n    [0.02, 0.36],\r\n    [0.02, 0.36],\r\n    [0.02, 0.36],\r\n    [0.02, 0.33],\r\n    [0.02, 0.33],\r\n    [0.02, 0.33],\r\n    [0.02, 0.28],\r\n    [0.0, 0.02],\r\n    [0.0, 0.02],\r\n    [0.0, 0.02],\r\n    [0.0, 0.02],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0],\r\n    [0.0, 0.0]\r\n];\r\n// 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];\r\noption = {\r\n    visualMap: {\r\n        type: 'continuous',\r\n        min: 0,\r\n        max: 1,\r\n        precision: 2,\r\n        text: ['1.0', 'cutoff:  0.0'],\r\n        realtime: false,\r\n        calculable: false,\r\n        // color: ['orangered','yellow','lightskyblue'],\r\n        orient: 'horizontal',\r\n        show: true,\r\n        itemHeight: '900%',\r\n        left: '10%',\r\n        hoverLink: true,\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 16,\r\n            color: '#F1F1F3'\r\n        },\r\n        dimension: 2,\r\n        // seriesIndex:1,\r\n        formatter: function(value) {\r\n            console.log('here');\r\n            index = Math.round(value * 100)\r\n            cutoff = Math.round(value * 100) / 100;\r\n            fpr = ft[index][0];\r\n            tpr = ft[index][1];\r\n            ft_new = ft.slice();\r\n            \r\n            fpr_c5 = ft_c5[index][0];\r\n            tpr_c5 = ft_c5[index][1];\r\n            ft_new_c5 = ft_c5.slice();\r\n            var cut = {\r\n                'value': [fpr, tpr],\r\n                'symbolSize': 10\r\n            };\r\n            \r\n             var cut_c5 = {\r\n                'value': [fpr_c5, tpr_c5],\r\n                'symbolSize': 10\r\n            };\r\n            \r\n            ft_new[index] = cut;\r\n            ft_new_c5[index] = cut_c5;\r\n            myChart.setOption({\r\n                title: {\r\n                    subtext: '                  cutoff: ' + cutoff + \"\\n\" +\r\n                        \"                      Log  \" + \"     \" + \"C5\" + \"\\n\" +\r\n                        \"          fpr    \" + \"    \" + ft[index][0] + \"    \" + ft_c5[index][0] +\"\\n\" +\r\n                        \"          tpr    \" + \"    \" + ft[index][1] + \"    \" + ft_c5[index][1],\r\n                    subtextStyle: {\r\n                        fontSize: 16\r\n                    }\r\n                },\r\n                series: [{\r\n                    name: \"Log\",\r\n                    data: ft_new,\r\n                },{\r\n                    name: \"C5\",\r\n                    data: ft_new_c5,\r\n                }]\r\n            });\r\n\r\n\r\n\r\n            // console.log('selectDataRange end');\r\n            return \"Cutoff\" + \":\" + cutoff;\r\n        },\r\n\r\n    },\r\n    backgroundColor: '#394056',\r\n    title: {\r\n        // text: \"Cutoff:\" + cutoff + \"<br/>\" + \"fpr: \" + 0,\r\n        //         textAlign: 'center',\r\n        //         left: '63%',\r\n        //         top: '55%',\r\n        //         textStyle: {\r\n        //             fontSize: 10,\r\n        //             color: 'rgba(255, 255, 255, 0.7)'\r\n        //         }\r\n        text: 'Multi Binary Classification Model ROC Comparsion',\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 16,\r\n            color: '#F1F1F3',\r\n        },\r\n        left: '63%',\r\n        top: '55%'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        // show: true,\r\n        // alwaysShowContent: true,\r\n        // text: 'here',\r\n        triggerOn: 'none',\r\n        // position: ['63%', '55%'],\r\n\r\n        formatter: function(params) {\r\n            index = params[0].dataIndex;\r\n            console.log(\"tooltip %d\", index);\r\n\r\n            return \"Cutoff:   \" + \":\" + datas[index][0] +\r\n                \"<br/>\" + \"fpr  \" + \":\" + ft[index][0] +\r\n                \"<br/>\" + \"tpr\" + \":\" + ft[index][1];\r\n\r\n            // return \"Cutoff   \" + \":\" + datas[index][0] +\r\n            //     \"<br/>\" + \"fpr  \" + \":\" + ft[index][0] +\r\n            //     \"<br/>\" + \"tpr\" + \":\" + ft[index][1] +\r\n            //     \"<br/>\" + \"Recall   \" + \":\" + datas[index][5] +\r\n            //     \"<br/>\" + \"Accuracy \" + \":\" + datas[index][6];\r\n        },\r\n        axisPointer: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n\r\n    },\r\n    legend: {\r\n        icon: 'rect',\r\n        itemWidth: 20,\r\n        itemHeight: 10,\r\n        itemGap: 13,\r\n        data: ['Log', 'C5'],\r\n        right: '4%',\r\n        textStyle: {\r\n            fontSize: 12,\r\n            color: '#F1F1F3'\r\n        },\r\n    },\r\n    grid: {\r\n        // top: 80,\r\n        // bottom: 100,\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '10%',\r\n        // containLabel: true\r\n    },\r\n    xAxis: [{\r\n        type: 'value',\r\n        name: 'FPR',\r\n        nameTextStyle: {\r\n            fontSize: 14,\r\n            color: '#F1F1F3'\r\n        },\r\n        show: true,\r\n        min: 0,\r\n        max: 1,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                 color: '#57617B'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            textStyle: {\r\n                fontSize: 14,\r\n                color: '#F1F1F3'\r\n            }\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        name: 'TPR',\r\n        nameTextStyle: {\r\n            fontSize: 14,\r\n            color: '#F1F1F3'\r\n        },\r\n        min: 0,\r\n        max: 1,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            textStyle: {\r\n                fontSize: 14,\r\n                color: '#F1F1F3'\r\n            }\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        }\r\n    }],\r\n    series: [{\r\n            name: 'Log',\r\n            type: 'line',\r\n            smooth: true,\r\n            symbol: 'circle',\r\n            symbolSize: 0.1,\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 1\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgb(137,189,27)',\r\n                borderColor: 'rgba(137,189,2,0.27)',\r\n                borderWidth: 12\r\n\r\n                }\r\n            },\r\n            data: ft,\r\n            // show:false\r\n        },{\r\n            name: 'C5',\r\n            type: 'line',\r\n            smooth: true,\r\n            symbol: 'circle',\r\n            symbolSize: 0.1,\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 1\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                   color: 'rgb(0,136,212)',\r\n                borderColor: 'rgba(0,136,212,0.2)',\r\n                borderWidth: 12\r\n\r\n                }\r\n            },\r\n            data: ft_c5,\r\n            // show:false\r\n        }\r\n        // {\r\n        //     name: 'cutoff',\r\n        //     type: 'line',\r\n        //     smooth: false,\r\n        //     lineStyle: {\r\n        //         normal: {\r\n        //             width: 1\r\n        //         }\r\n        //     },\r\n        //     itemStyle: {\r\n        //         normal: {\r\n        //             color: 'rgb(137,189,27)',\r\n        //             borderColor: 'rgba(137,189,2,0.27)',\r\n        //             borderWidth: 12\r\n\r\n        //         }\r\n        //     },\r\n        //     data: cutoffs,\r\n        //     // show:false\r\n        // }, \r\n    ],\r\n};\r\n\r\n// myChart.on(\"click\", function(params) {\r\n//     console.log(params);\r\n//     var opt = myChart.getOption();\r\n//     opt.tooltip[0].triggerOn = 'click';\r\n//     myChart.setOption(opt);\r\n// });\r\n\r\nmyChart.on('datarangeselected', function(params) {\r\n    // console.log('datarangeselected');\r\n    console.log(params);\r\n    // console.log(params.selected);\r\n    // console.log('datarangeselected end');\r\n});\r\n\r\n\r\n\r\n// myChart.on(\"mousemove\", function(params) {\r\n//     // $(\"#test .Rmodule\").remove();\r\n//     // console.log('mousemove');\r\n//     // console.log(params.dataIndex);\r\n//     // var dataIndex = params.dataIndex;\r\n//     // var maxpoint = testData[dataIndex][1];\r\n//     // var minpoint = testData[dataIndex][2];\r\n//     // var startPoint = [dataIndex, maxpoint];\r\n//     // var endPoint = [dataIndex, minpoint];\r\n//     var opt = myChart.getOption();\r\n//     // var html = '<div class=\"Rmodule\">tn:' + tn[params.dataIndex] + '<br/>minRadius:' + 1 + '</div>';\r\n//     // $(\"#test\").append(html);\r\n//     // $(\"#test .Rmodule\").css({\r\n//     //     top: params.event.offsetY + 10,\r\n//     //     left: params.event.offsetX + 10\r\n//     // });\r\n// });\r\n\r\n// myChart.on(\"mouseout\", function(params) {\r\n//     var opt = myChart.getOption();\r\n//     myChart.setOption(opt);\r\n//     // $(\"#test .Rmodule\").remove();\r\n// });","html":"","externalScripts":"","updaterUID":"bd-1745691900","theme":"","layout":"","viewCount":126,"userName":"ruiwchina","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xry_MIGAbM.png?v=1513219123583","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"ruiwchina"}}