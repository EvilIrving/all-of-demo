{
    "status": 0,
    "data": {
        "cid": "x_Tit8c-NN",
        "authorUid": "obd-oN7FqF-9Av8qCnY1JOwg9ZEy-T3l_Cf",
        "authorUserName": "Y***n",
        "title": "旋转饼图",
        "description": "",
        "latestVersion": 1,
        "alwaysLatest": 0,
        "createTime": "2021-11-24T09:09:46.000Z",
        "lastUpdateTime": "2021-11-24T09:09:46.000Z",
        "auth": 2,
        "uid": "obd-oN7FqF-9Av8qCnY1JOwg9ZEy-T3l_Cf",
        "publishedVersion": 0,
        "forkFrom": "-",
        "isSpam": 0,
        "version": 1,
        "parentVersion": -1,
        "echartsVersion": "5.2.2",
        "versionCreateTime": "2021-11-24T09:09:46.000Z",
        "code": "var data = [],data2=[];\r\nvar trafficWay = [\r\n    {\r\n    name: '病假',\r\n    value: 20\r\n},{\r\n    name: '事假',\r\n    value: 1\r\n},{\r\n    name: '婚假',\r\n    value: 30\r\n},{\r\n    name: '丧假',\r\n    value: 40\r\n},{\r\n    name: '年休假',\r\n    value: 40\r\n}];\r\nvar color=['#2A8BFD','#BAFF7F','#00FAC1','#00CAFF','#FDE056','#4ED33C','#FF8A26','#FF5252','#9689FF','#CB00FF']\r\nfor (var i = 0; i < trafficWay.length; i++) {\r\n    data.push({\r\n        value: trafficWay[i].value,\r\n        name: trafficWay[i].name,\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 8,\r\n                shadowBlur: 20,\r\n                borderRadius:20,\r\n                borderColor:color[i],\r\n                shadowColor: color[i]\r\n            }\r\n        }\r\n    }, {\r\n        value: 5,\r\n        name: '',\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                color: 'rgba(0, 0, 0, 0)',\r\n                borderColor: 'rgba(0, 0, 0, 0)',\r\n                borderWidth: 0\r\n                \r\n            }\r\n}\r\n    });\r\n    data2.push({\r\n        value: trafficWay[i].value,\r\n        name: trafficWay[i].name,\r\n    },\r\n    {\r\n        value: 5,\r\n        name: '',\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                color: 'rgba(0, 0, 0, 0)',\r\n                borderColor: 'rgba(0, 0, 0, 0)',\r\n                borderWidth: 0,\r\n                opacity:0.2\r\n                \r\n            }\r\n}\r\n    }\r\n    )\r\n}\r\n\r\nlet angle = 0;//角度，用来做简单的动画效果的\r\noption = {\r\n    backgroundColor:\"#061740\",\r\n    color : color,\r\n    legend:{\r\n        right:'10%',\r\n        top:'40%',\r\n        icon:'rect',\r\n        itemWidth:15,\r\n        itemHeight:15,\r\n        textStyle:{\r\n            color:'#ffffff',\r\n        }\r\n    },\r\n    series: [ \r\n        {//外线1\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 3,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6,\r\n                        startAngle: (0+angle) * Math.PI / 180,\r\n                        endAngle: (90+angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: '#4EE9E6',\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, \r\n        {//内线1\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 3,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6,\r\n                        startAngle: (180+angle) * Math.PI / 180,\r\n                        endAngle: (270+angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#4EE9E6\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n        {//外线2\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 3,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65,\r\n                        startAngle: (270+-angle) * Math.PI / 180,\r\n                        endAngle: (40+-angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#4EE9E6\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, \r\n        {//外线2\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 3,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65,\r\n                        startAngle: (90+-angle) * Math.PI / 180,\r\n                        endAngle: (220+-angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#4EE9E6\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n        {//绿点1\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 3;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65;\r\n                let point = getCirlPoint(x0, y0, r, (90+-angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#66FFFF\",//粉\r\n                        fill: \"#66FFFF\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n        {//绿点2\r\n            name: \"ring5\",  //绿点\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 3;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65;\r\n                let point = getCirlPoint(x0, y0, r, (270+-angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#66FFFF\",//粉\r\n                        fill: \"#66FFFF\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, \r\n        {//绿点3\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 3;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6;\r\n                let point = getCirlPoint(x0, y0, r, (90+angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#66FFFF\",//粉\r\n                        fill: \"#66FFFF\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n         {//绿点4\r\n            name: \"ring5\",  //绿点\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 3;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6;\r\n                let point = getCirlPoint(x0, y0, r, (270+angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#66FFFF\",//粉\r\n                        fill: \"#66FFFF\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, \r\n        {\r\n            name: '',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            radius: ['98%', '95%'],\r\n            hoverAnimation: false,\r\n            center:['33.33%','50%'],\r\n            top:\"center\",\r\n            itemStyle: {\r\n                normal:{\r\n                    label: {\r\n                        show:false\r\n                    }\r\n                }\r\n            },\r\n            data:data\r\n        },\r\n        {\r\n          type: 'pie',\r\n          top:\"center\",\r\n          startAngle:90,\r\n          clockwise:false,\r\n          center:['33.33%','50%'],\r\n          legendHoverLink:false,\r\n          hoverAnimation: false,\r\n          radius: ['94%', '55%'],\r\n          itemStyle: {\r\n            opacity:0.15\r\n          },\r\n          label: {\r\n            show: false,\r\n            position: 'center'\r\n          },\r\n          labelLine: {\r\n            show: false\r\n          },\r\n          data:data2\r\n        },\r\n        {\r\n            name: '',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            center:['33.33%','50%'],\r\n            radius: ['39%', '38%'],\r\n            hoverAnimation: false,\r\n            top:\"center\",\r\n            itemStyle: {\r\n                normal:{\r\n                    label: {\r\n                        show:false\r\n                    }\r\n                }\r\n            },\r\n            data:data\r\n        },\r\n    ]\r\n};\r\n\r\n//获取圆上面某点的坐标(x0,y0表示坐标，r半径，angle角度)\r\nfunction getCirlPoint(x0, y0, r, angle) {\r\n    let x1 = x0 + r * Math.cos(angle * Math.PI / 180)\r\n    let y1 = y0 + r * Math.sin(angle * Math.PI / 180)\r\n    return {\r\n        x: x1,\r\n        y: y1\r\n    }\r\n}\r\n\r\nfunction draw(){\r\n    angle = angle+3\r\n    myChart.setOption(option, true)\r\n   //window.requestAnimationFrame(draw);\r\n}\r\n\r\nsetInterval(function() {\r\n    //用setInterval做动画感觉有问题\r\n    draw()\r\n}, 100);\r\n",
        "html": "",
        "externalScripts": "",
        "updaterUID": "obd-oN7FqF-9Av8qCnY1JOwg9ZEy-T3l_Cf",
        "theme": "",
        "layout": "",
        "viewCount": 0,
        "userName": "Y***n",
        "commentCount": 0,
        "starCount": 23,
        "isStared": 0,
        "thumbnailURL": "https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_Tit8c-NN.png?v=1637744986770",
        "isCustomThumbnail": 0,
        "builtinTags": [
            "category-work",
            "legend",
            "series-custom",
            "series-pie"
        ],
        "customTags": [],
        "updaterUserName": "Y***n"
    }
}