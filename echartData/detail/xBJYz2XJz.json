{"status":0,"data":{"cid":"xBJYz2XJz","authorUid":"bd-4013131402","authorUserName":"o***4","title":"带音乐的钢琴键盘","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2016-05-10T09:38:24.000Z","lastUpdateTime":"2016-07-21T04:51:30.000Z","auth":2,"uid":"bd-4013131402","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"3.2.2","versionCreateTime":"2016-07-20T06:07:18.000Z","code":"// 加入声音\nvar xAxisData = [];\nvar data = [];\nfor (var i = 0; i < 50; i++) {\n    xAxisData.push(i);\n    data.push((Math.sin(i / 5) * (i / 5 -10) + i / 6) * 5)\n}\n\noption = {\n    backgroundColor: '#08263a',\n    xAxis: {\n        show: false,\n        data: xAxisData\n    },\n    visualMap: {\n        show: false,\n        min: 0,\n        max: 50,\n        dimension: 0,\n        inRange: {\n            color: ['#4a657a', '#308e92', '#b1cfa5', '#f5d69f', '#f5898b', '#ef5055']\n        }\n    },\n    yAxis: {\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#4a657a'\n            }  \n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#08263f'\n            }\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    series: [{\n        type: 'bar',\n        data: data,\n        itemStyle: {\n            normal: {\n                barBorderRadius: 5,\n                shadowBlur: 10,\n                shadowColor: '#111'\n            }\n        },\n        animationEasing: 'elasticOut',\n        animationEasingUpdate: 'elasticOut',\n        animationDelay: function (idx) {\n            return idx * 20;\n        },\n        animationDelayUpdate: function (idx) {\n            return idx * 20;\n        }\n    }]\n};\n\nvar audioLoaded = false;\nmyChart.on('mouseover', function(e) {\n    var note = Math.round(e.value / 2) + 40; // the MIDI note\n    if (audioLoaded) {\n\t\tvar delay = 0; // play one note every quarter second\n\t\tvar velocity = 127; // how hard the note hits\n\t\t// play the note\n\t\tMIDI.setVolume(0, 127);\n\t\tMIDI.noteOn(0, note, velocity, delay);\n\t\tMIDI.noteOff(0, note, delay + 0.75);\n    }\n});\n\nMIDI.loadPlugin({\n\tsoundfontUrl: \"https://cdn.rawgit.com/mudcube/MIDI.js/master/examples/soundfont/\",\n\tinstrument: \"acoustic_grand_piano\",\n\tonprogress: function(state, progress) {\n\t\tconsole.log(state, progress);\n\t},\n\tonsuccess: function() {\n\t\taudioLoaded = true;\n\t}\n});","html":"","externalScripts":"https://cdn.rawgit.com/mudcube/MIDI.js/master/build/MIDI.min.js,https://cdn.rawgit.com/mudcube/MIDI.js/master/js/midi/plugin.webaudio.js,https://cdn.rawgit.com/mudcube/MIDI.js/master/inc/shim/Base64.js,https://cdn.rawgit.com/mudcube/MIDI.js/master/inc/shim/Base64binary.js","updaterUID":"bd-1593936364","theme":"default","layout":"","viewCount":7543,"userName":"o***4","commentCount":3,"starCount":34,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJYz2XJz.png?v=1468994838514","isCustomThumbnail":0,"builtinTags":["category-work","grid","markArea","series-bar","visualMap"],"customTags":[],"updaterUserName":"刘***宇"}}