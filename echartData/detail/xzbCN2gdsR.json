{"status":0,"data":{"cid":"xzbCN2gdsR","authorUid":"bd-2466829054","authorUserName":"7***7","title":"矩状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-04-07T08:59:47.000Z","lastUpdateTime":"2021-04-07T08:59:47.000Z","auth":2,"uid":"bd-2466829054","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-07T08:59:47.000Z","code":"let struct_colors = [\r\n  '#ed6f6d', '#f3765d', '#f77a57', '#f98866', '#f99579',\r\n  '#ff9f3b', '#f0a732', '#e6a840', '#e9b253', '#ebbb66',\r\n  '#78b7e8', '#59b1f3', '#66bbf5', '#6ec3f2', '#75cae2',\r\n  '#70cccc', '#5dc4c4', '#4dbebd', '#4cc1a7', '#4fca96',\r\n  '#4cc686'\r\n];\r\nconst RICH = {\r\n  name: {\r\n    color: '#fff',\r\n    fontSize: 24\r\n  },\r\n  basic: {\r\n    color: '#fff',\r\n    fontSize: 8,\r\n    lineHeight: 16\r\n  }\r\n};\r\n\r\nfunction showMenu(param) {\r\n  // 可在此处添加右击操作内容\r\n  console.log('showMenu==============', param);\r\n  var event = param.event;\r\n  var pageX = event.offsetX;\r\n  var pageY = event.offsetY;\r\n  console.log('showMenu========', pageX, pageY);\r\n}\r\n\r\nmyChart.setOption(option = {\r\n  tooltip: {\r\n    formatter: function(info) {\r\n      console.log('tool------', info);\r\n      var val = info.data.value;\r\n      var name = info.name;\r\n      return [\r\n        '<h4>' + name + '</>',\r\n        '<div>Value:' + val + '</>',\r\n      ].join('\\n');\r\n    }\r\n  },\r\n  series: [{\r\n    name: '衍生品-销售额',\r\n    type: 'treemap',\r\n    visibleMin: 300,\r\n    leafDepth: 4,\r\n    nodeClick: false,\r\n    upperLabel: {\r\n      normal: {\r\n        show: true,\r\n        height: 60\r\n      }\r\n    },\r\n    itemStyle: {\r\n      normal: {\r\n        borderColor: '#fff'\r\n      }\r\n    },\r\n    label: {\r\n      normal: {\r\n        show: true,\r\n        position: 'insideTopLeft',\r\n        formatter: function(a) {\r\n          console.log('formatter==label=======', a);\r\n          return '{Name|' + a.name + '}' + \"\\n\\n\" + \"{basic|Value: \" + a.data.value + '}';\r\n        },\r\n        textStyle: {\r\n          // color: '',  label的字体颜色\r\n          fontSize: '14',\r\n          fontWeight: 'bold'\r\n        },\r\n        rich: RICH,\r\n\r\n      }\r\n    },\r\n    levels: [{\r\n      itemStyle: {\r\n        normal: {\r\n          borderColor: '#777',\r\n          borderWidth: 0,\r\n          gapWidth: 2\r\n        }\r\n      },\r\n      upperLabel: {\r\n        normal: {\r\n          show: false\r\n        }\r\n      }\r\n    }, {\r\n      itemStyle: {\r\n        normal: {\r\n          borderColor: '#555',\r\n          borderWidth: 5,\r\n          gapWidth: 1\r\n        },\r\n        emphasis: {\r\n          borderColor: '#ddd'\r\n        }\r\n      }\r\n    }, {\r\n      colorSaturation: [0.35, 0.5],\r\n      itemStyle: {\r\n        normal: {\r\n          gapWidth: 2,\r\n          borderWidth: 5,\r\n          borderColorSaturation: 0.6\r\n        }\r\n      }\r\n    }],\r\n    breadcrumb: {\r\n      show: false,\r\n      // \"height\": 22,\r\n      left: \"10%\",\r\n      top: \"93%\",\r\n      emptyItemWidth: 25,\r\n      itemStyle: {\r\n        normal: {\r\n          color: \"#fff\",\r\n          borderColor: \"rgba(255,255,255,0.7)\",\r\n          borderWidth: 1,\r\n          shadowColor: \"rgba(150,150,150,1)\",\r\n          shadowBlur: 3,\r\n          shadowOffsetX: 0,\r\n          shadowOffsetY: 0,\r\n          textStyle: {\r\n            color: \"#000\",\r\n            fontWeight: 'bold'\r\n          }\r\n        },\r\n        emphasis: {\r\n          textStyle: {}\r\n        }\r\n      }\r\n    },\r\n    data: [{\r\n      name: '出行小物',\r\n      value: 120,\r\n      children: [{\r\n        name: 'cxxwA',\r\n        value: 4\r\n      }, {\r\n        name: 'cxxwB',\r\n        value: 16\r\n      }]\r\n    }, {\r\n      name: '服饰周边',\r\n      value: 120,\r\n      //   children: []\r\n    }, {\r\n      name: '模型',\r\n      value: 20,\r\n    }, {\r\n      name: '生活风格',\r\n      value: 40,\r\n    }, {\r\n      name: '食品',\r\n      value: 50,\r\n    }, {\r\n      name: '文具',\r\n      value: 80,\r\n    }, {\r\n      name: '烟草',\r\n      value: 220,\r\n    }, {\r\n      name: '租赁柜台',\r\n      value: 420,\r\n    }]\r\n  }]\r\n});\r\n\r\ndocument.oncontextmenu = function() {\r\n  return false;\r\n};\r\nmyChart.on('contextmenu', showMenu);","html":"","externalScripts":"","updaterUID":"bd-2466829054","theme":"","layout":"","viewCount":48,"userName":"7***7","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzbCN2gdsR.png?v=1617785987877","isCustomThumbnail":0,"builtinTags":["category-work","series-treemap","tooltip"],"customTags":[],"updaterUserName":"7***7"}}