{"status":0,"data":{"cid":"xhTu78_y6q","authorUid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","authorUserName":"林***影","title":"横向柱状图-带指示点","description":"横向柱状图-带指示点","latestVersion":1,"alwaysLatest":1,"createTime":"2021-07-21T03:03:44.000Z","lastUpdateTime":"2021-07-21T03:03:44.000Z","auth":2,"uid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-21T03:03:44.000Z","code":"const payload = {\n    id: '',\n    data: {\n        title: ['生态指数'],\n        unit: ['%'],\n        x: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n        data1: [20, 80, 100, 40, 34, 290, 60, 20, 80, 400, 40, 34],\n    },\n};\n\nconst unit = payload.data.unit || [];\nconst x = payload.data.x || [];\nconst data1 = payload.data.data1 || [];\nconst title = payload.data.title || [];\nconst max = Math.max(...data1)\n\nconst maxData = data1.map((item, index) => {\n    return {\n        value: [max, index],\n        name: x[index],\n    };\n});\n\nconst barData = data1.map((item, index) => {\n    return {\n        value: [item, index],\n        name: x[index],\n    };\n});\n\noption = {\n    grid: {\n        top: 35,\n        left: 15,\n        right: 25,\n        bottom: 10,\n        // 是否包含文本\n        containLabel: true,\n    },\n    legend: {\n        show: false,\n    },\n    tooltip: {\n        show: false,\n    },\n    xAxis: {\n        show: false,\n    },\n    yAxis: [\n        {\n            name: '',\n            type: 'category',\n            inverse: true,\n            axisLabel: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            data: x,\n        },\n        {\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                color: '#333',\n                fontSize: '12',\n                margin: 32,\n            },\n            data: data1,\n        },\n    ],\n    series: [\n        {\n            name: '值',\n            type: 'bar',\n            zlevel: 1,\n            itemStyle: {\n                barBorderRadius: 0,\n                color: '#26a69a',\n            },\n            barWidth: 20,\n            data: barData,\n            label: {\n                position: [0, -16],\n                align: 'left',\n                show: true,\n                formatter: (params) => {\n                    return params.name;\n                },\n            },\n            barMaxWidth: 40,\n            markLine: {\n                label: {\n                    color: '#26a69a',\n                },\n            },\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 20,\n            barGap: '-100%',\n            data: maxData,\n            itemStyle: {\n                normal: {\n                    color: 'rgba(105,131,242,.3)',\n                    barBorderRadius: 30,\n                },\n                borderRadius: [5, 5, 0, 0],\n            },\n            label: {\n                show: false,\n            },\n            barMaxWidth: 40,\n            markLine: {\n                label: {\n                    color: '#26a69a',\n                },\n            },\n        },\n        {\n            name: '内圆',\n            type: 'scatter',\n            hoverAnimation: false,\n            data: barData,\n            yAxisIndex: 0,\n            symbolSize: 22,\n            itemStyle: {\n                normal: {\n                    color: '#26a69a',\n                    opacity: 1,\n                },\n            },\n            zlevel: 2,\n            label: {\n                show: false,\n            },\n        },\n        {\n            name: '外圆',\n            type: 'scatter',\n            hoverAnimation: false,\n            data: barData,\n            yAxisIndex: 0,\n            symbolSize: 28,\n            symbol:\n                'path://M512 960C264.576 960 64 759.424 64 512S264.576 64 512 64s448 200.576 448 448-200.576 448-448 448z m0-268.8a179.2 179.2 0 1 0 0-358.4 179.2 179.2 0 0 0 0 358.4z',\n            itemStyle: {\n                color: 'rgb(255, 255, 255)',\n                opacity: 1,\n                borderColor: 'rgba(44, 111, 226, 0.2)',\n                borderWidth: 2,\n            },\n            zlevel: 3,\n            label: {\n                show: false,\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","theme":"","layout":"","viewCount":0,"userName":"林***影","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhTu78_y6q.png?v=1626836625124","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-bar","series-scatter","tooltip"],"customTags":[],"updaterUserName":"林***影"}}