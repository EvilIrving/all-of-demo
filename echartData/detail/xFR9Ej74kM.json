{"status":0,"data":{"cid":"xFR9Ej74kM","authorUid":"bd-1101197343","authorUserName":"名***取","title":"许嵩之千百度","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-06-06T03:33:18.000Z","lastUpdateTime":"2019-06-06T03:33:18.000Z","auth":2,"uid":"bd-1101197343","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-06T03:33:18.000Z","code":"var classData = [\r\n    {name: '党团活动', value: 100},\r\n    {name: '志愿活动', value: 60},\r\n    {name: '社团活动', value: 80},\r\n    {name: '公益劳动', value: 130},\r\n    {name: '升旗仪式', value: 45},\r\n    {name: '某某活动', value: 190},\r\n    {name: '户外拓展', value: 66},\r\n    {name: '辩论比赛', value: 160}\r\n];\r\nvar colors = ['#E7E906', '#00c800', '#01ffff', '#c451ea', '#ff5252', '#0098ec'];\r\nvar total = 0; // 总计\r\nvar legendData = classData.map(function(item, i) {\r\n    // 增加随机颜色, 防止固定给的颜色不够造成重复\r\n    if (colors.length <= i) colors.push(getRandomColor());\r\n    total += item.value;\r\n    return item.name;\r\n})\r\nvar i = 0;\r\nvar xAxisData = [];\r\nvar seriesData = [];\r\nwhile (i < 4) {\r\n    xAxisData.push(classData[i].name)\r\n    seriesData.push(classData[i])\r\n    i++\r\n}\r\n\r\noption = {\r\n    backgroundColor: '#0e4b86',\r\n    color: colors,\r\n    title: [{\r\n        text: '参加各类活动次数',\r\n        top: '16%',\r\n        right: '15%',\r\n        textStyle: {\r\n            fontSize: 16,\r\n            color: '#fff'\r\n        }\r\n    }, {\r\n        text: '专项活动累计时长',\r\n        top: '47%',\r\n        left: '15%',\r\n        textStyle: {\r\n            fontSize: 14,\r\n            color: '#52FFFF'\r\n        }\r\n    }],\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(e) {\r\n            return e.marker + e.name + '：' + e.value + ' 次';\r\n        }\r\n    },\r\n    legend: [{\r\n        type: 'scroll',\r\n        orient: 'vertical',\r\n        top: '20%',\r\n        right: '18%',\r\n        itemWidth: 14,\r\n        itemHeight: 14,\r\n        height: '25%',\r\n        itemGap: 15,\r\n        textStyle: {\r\n            fontSize: 14,\r\n            color: '#fff'\r\n        },\r\n        pageButtonItemGap: 10, // 按钮和页信息之间的间隔\r\n        pageButtonGap: 10, // 控制块和图例项之间的间隔\r\n        pageIconInactiveColor: 'orange', // 按钮未激活颜色\r\n        pageIconColor: 'red', // 按钮颜色\r\n        pageIconSize: [15, 30], // 翻页按钮的大小 [宽, 高]\r\n        pageTextStyle: {\r\n            color: '#fff',\r\n            fontSize: 16\r\n        },\r\n        data: legendData\r\n    }],\r\n    grid: {\r\n        left: '15%',\r\n        right: '15%',\r\n        bottom: '5%',\r\n        height: '40%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        axisLine: {\r\n            show: false // X轴线不显示\r\n        },\r\n        axisTick: {\r\n            show: false // 是否显示坐标轴刻度\r\n        },\r\n        data: xAxisData,\r\n        axisLabel: {\r\n            show: true,\r\n            interval: 0,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 12\r\n            }\r\n        }\r\n    },\r\n    yAxis: {\r\n        splitNumber: 5, // 控制Y轴数值显示数量\r\n        axisLine: {\r\n            show: false // Y轴线不显示\r\n        },\r\n        axisTick: {\r\n            show: false // 是否显示坐标轴刻度\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: \"orange\", // 分割线背景色\r\n                width: 1 // 分割线宽度\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 12\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '饼图',\r\n        type: 'pie',\r\n        radius: ['21%', '35%'], // 大小缩放\r\n        center: ['40%', '25%'], // 位置调整\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        data: classData,\r\n        zlevel: 5\r\n    }, {\r\n        name: '设置总计的方式',\r\n        type: 'pie',\r\n        radius: ['21%', '35%'], // 大小缩放\r\n        center: ['40%', '25%'], // 位置调整\r\n        data: [{\r\n            name: '总计',\r\n            value: total,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    formatter: '{title|总计}\\n{total|' + total + '}',\r\n                    lineHeight: 20,\r\n                    rich: {\r\n                        title: {\r\n                            color: '#fff',\r\n                            fontSize: 16,\r\n                            fontWeight: 'bold'\r\n                        },\r\n                        total: {\r\n                            color: '#fff',\r\n                            fontSize: 16,\r\n                            fontWeight: 'bold'\r\n                        }\r\n                    },\r\n                    position: \"center\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                opacity: 0\r\n            },\r\n            tooltip: {\r\n                show: false\r\n            }\r\n        }]\r\n    }, {\r\n        name: '',\r\n        type: 'bar', // 柱子的形状\r\n        barWidth: 27, // 柱子的宽度\r\n        itemStyle: { // 柱子圆角\r\n            barBorderRadius: [5, 5, 0, 0],\r\n            // 要用方法设置, 否则颜色只会渲染一个\r\n            color: function(e) {\r\n                return colors[e.dataIndex]\r\n            },\r\n        },\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(e) {\r\n                return e.marker + e.name + '：' + e.value + '小时';\r\n            }\r\n        },\r\n        data: seriesData\r\n    }]\r\n};\r\n\r\n// 随机生成颜色\r\nfunction getRandomColor() {\r\n    return '#' + (function(color) {\r\n        return (color += '0123456789abcdef' [Math.floor(Math.random() * 16)]) &&\r\n            (color.length == 6) ? color : arguments.callee(color);\r\n    })('');\r\n}","html":"","externalScripts":"","updaterUID":"bd-1101197343","theme":"","layout":"","viewCount":2115,"userName":"名***取","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFR9Ej74kM.png?v=1559791999008","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"名***取"}}