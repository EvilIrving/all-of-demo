{"status":0,"data":{"cid":"xecDItEpql","authorUid":"bd-261075462","authorUserName":"谜***头","title":"单容器图表联动 dataset 格式","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-04-24T08:48:02.000Z","lastUpdateTime":"2020-04-24T08:48:02.000Z","auth":2,"uid":"bd-261075462","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-26T01:01:01.000Z","code":"option = {\r\n    axisPointer: {\r\n        link: {\r\n            xAxisIndex: 'all'\r\n        },\r\n        label: {\r\n            backgroundColor: '#777'\r\n        }\r\n    },\r\n    title: [{\r\n        text: '接单量（万平方米）',\r\n        left: 60,\r\n        top: '0%',\r\n        textStyle: {\r\n            color: '#000',\r\n            fontSize: 14,\r\n            fontWeight: 'normal'\r\n        }\r\n    }, {\r\n        subtext: '总GMV（万元）',\r\n        subtextStyle: {\r\n            color: '#000',\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n        },\r\n        left: 60,\r\n        top: '45%',\r\n    }],\r\n    dataset: {\r\n        dimensions: [\r\n            'date', 'saleAmount', 'saleAmountChain', 'GMVChain', 'GMV'\r\n        ],\r\n        source: [{\r\n                date: '3-21',\r\n                saleAmount: 287,\r\n                saleAmountChain: \"5\",\r\n                GMV: 131,\r\n                GMVChain: '-2',\r\n            },\r\n            {\r\n                date: '3-22',\r\n                saleAmount: 187,\r\n                saleAmountChain: \"3\",\r\n                GMV: 136,\r\n                GMVChain: '-15',\r\n            },\r\n            {\r\n                date: '3-23',\r\n                saleAmount: 147,\r\n                saleAmountChain: \"2.5\",\r\n                GMV: 126,\r\n                GMVChain: '-15',\r\n            },\r\n            {\r\n                date: '3-24',\r\n                saleAmount: 87,\r\n                saleAmountChain: \"3\",\r\n                GMV: 226,\r\n                GMVChain: '-11',\r\n            },\r\n            {\r\n                date: '3-25',\r\n                saleAmount: 107,\r\n                saleAmountChain: \"2\",\r\n                GMV: 246,\r\n                GMVChain: '-12',\r\n            },\r\n            {\r\n                date: '3-26',\r\n                saleAmount: 227,\r\n                saleAmountChain: \"2\",\r\n                GMV: 46,\r\n                GMVChain: '-12',\r\n            },\r\n            {\r\n                date: '3-27',\r\n                saleAmount: 127,\r\n                saleAmountChain: \"2\",\r\n                GMV: 16,\r\n                GMVChain: '-12',\r\n            }\r\n        ]\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'line',\r\n            lineStyle: {\r\n                type: 'dashed'\r\n            }\r\n        },\r\n        backgroundColor: 'rgba(245, 245, 245, 0.8)',\r\n        borderWidth: 1,\r\n        borderColor: '#ccc',\r\n        padding: 10,\r\n        textStyle: {\r\n            color: '#000'\r\n        },\r\n        formatter: function(params) {\r\n            console.log(params);\r\n            let text = `<div style=\"width: 240px\">\r\n                            <div style=\"margin-bottom: 10px; font-size: 14px; display: flex; justify-content: space-between\"><p>${params[0].name} 周五</p> <p>日环比</p></div>\r\n                            <div style=\"margin-bottom: 5px; font-size: 14px;display: flex; justify-content: space-between\"><p>${params[0]['marker']} 接单量</p>  <p>${params[0]['value']['saleAmount']} <i></i> ${Math.abs(params[0]['value']['saleAmountChain'])}%</p></div>\r\n                            <div style=\"margin-bottom: 5px; font-size: 14px;display: flex; justify-content: space-between\"><p>${params[1]['marker']} 总GMV</p>  <p>${params[1]['value']['GMV']} <i></i> ${Math.abs(params[0]['value']['GMVChain'])}%</p></div>\r\n                        </div>`;\r\n            return text;\r\n        },\r\n        // position: function(pos, params, el, elRect, size) {\r\n        //     var obj = {\r\n        //         top: 10\r\n        //     };\r\n        //     obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;\r\n        //     return obj;\r\n        // }\r\n    },\r\n    grid: [{\r\n            x: '5%',\r\n            y: '5%',\r\n            height: '35%',\r\n            left: '10%',\r\n            show: false\r\n        },\r\n        {\r\n            x: '5%',\r\n            y1: '5%',\r\n            top: '40%',\r\n            height: '12.5%',\r\n            left: '10%',\r\n            show: false\r\n        },\r\n        {\r\n            x: '5%',\r\n            y2: '5%',\r\n            top: '52.5%',\r\n            height: '40%',\r\n            left: '10%',\r\n            show: false\r\n        },\r\n    ],\r\n    xAxis: [{\r\n            gridIndex: 0, //对应前面grid的索引位置（第一个）\r\n            show: false, //隐藏了x轴\r\n            type: 'category',\r\n\r\n            axisTick: {\r\n                show: false\r\n            },\r\n        },\r\n        {\r\n            show: false,\r\n            gridIndex: 1, //对应前面grid的索引位置（第二个）\r\n            type: 'category',\r\n            axisTick: {\r\n                show: false\r\n            },\r\n        },\r\n        {\r\n            type: 'category',\r\n            gridIndex: 2, //对应前面grid的索引位置（第二个）\r\n            axisTick: {\r\n                show: false\r\n            },\r\n        }\r\n    ],\r\n    //y轴，不管有几个x轴，几个y轴，或者图，只要找到他对应的grid图的序号索引就可以精准匹配\r\n    yAxis: [{\r\n            type: 'value',\r\n            gridIndex: 0,\r\n            nameTextStyle: {\r\n                padding: 40\r\n            },\r\n            offset: 10,\r\n            position: 'left',\r\n            nameLocation: 'middle',\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}',\r\n                textStyle: {\r\n                    fontSize: 12 //y轴坐标轴上的字体大小\r\n                }\r\n            },\r\n        },\r\n        {\r\n            show: false,\r\n            type: 'value',\r\n            gridIndex: 1, //对应前面grid的索引位置（第二个）\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            offset: 10,\r\n            nameTextStyle: {\r\n                padding: 25,\r\n                align: 'center'\r\n            },\r\n            position: 'left',\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}'\r\n            }\r\n        },\r\n        {\r\n            type: 'value',\r\n            gridIndex: 2,\r\n            nameTextStyle: {\r\n                padding: 40\r\n            },\r\n            offset: 10,\r\n            position: 'left',\r\n            nameLocation: 'middle',\r\n            splitLine: {\r\n                show: true\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}',\r\n                textStyle: {\r\n                    fontSize: 12 //y轴坐标轴上的字体大小\r\n                }\r\n            },\r\n        },\r\n\r\n    ],\r\n    series: [{\r\n            name: '接单量',\r\n            type: \"line\",\r\n            xAxisIndex: 0,\r\n            yAxisIndex: 0,\r\n            encode: {\r\n                x: 'date',\r\n                y: 'saleAmount'\r\n            },\r\n            icon: '',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#80F5FF'\r\n                }\r\n            },\r\n        },\r\n        {\r\n            type: 'bar',\r\n            stack: '总量',\r\n            barWidth: 30,\r\n            xAxisIndex: 2,\r\n            yAxisIndex: 2,\r\n            encode: {\r\n                x: 'date',\r\n                y: 'GMV'\r\n            },\r\n            icon: '',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\r\n                        offset: 0,\r\n                        color: '#2A84CF'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#03FECD'\r\n                    }]),\r\n                }\r\n            },\r\n        },\r\n        {\r\n            type: 'bar',\r\n            barWidth: 30,\r\n            xAxisIndex: 1,\r\n            yAxisIndex: 1,\r\n            encode: {\r\n                x: 'date',\r\n                y: 'saleAmount'\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 0,\r\n                        color: 'transparent'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'transparent'\r\n                    }]),\r\n                }\r\n            },\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-261075462","theme":"","layout":"","viewCount":79,"userName":"谜***头","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xecDItEpql.png?v=1587862861692","isCustomThumbnail":0,"builtinTags":["category-work","dataset","grid","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"谜***头"}}