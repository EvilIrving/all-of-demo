{"status":0,"data":{"cid":"xOYyDDKTYS","authorUid":"bd-2941282864","authorUserName":"l***f","title":"多针饼图","description":"多个饼图叠加、改变series[1]的radius值可以得到另一种饼图","latestVersion":3,"alwaysLatest":1,"createTime":"2019-07-05T10:23:36.000Z","lastUpdateTime":"2019-07-05T10:23:36.000Z","auth":2,"uid":"bd-2941282864","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-05T10:30:29.000Z","code":"//数据\nvar data ={\n            \"total\": 2268,\n            \"data\": [\n                {\"name\": \"黄色预警\", \"value\": 234},\n                {\"name\": \"橙色预警\", \"value\": 678},\n                {\"name\": \"红色预警\", \"value\": 456},\n                {\"name\": \"蓝色预警\", \"value\": 900}\n            ]\n        }\nvar labelData = [];\nvar scale=64/data.total;\nvar totalNum = data.total*scale;\nvar step1=data.data[0].value*scale;\nvar step2=step1+data.data[1].value*scale;\nvar step3=step2+data.data[2].value*scale;\n            for (var i = 0; i <= totalNum; i++){\n                switch (true) {\n                    case i < step1:\n                        labelData.push({\n                            'value': 1,\n                            'name': data.data[0],\n                            'itemStyle': {\n                                'normal': {\n                                    'color': \"#FF0000\"\n                                }\n                            }\n                        });\n                        break;\n                    case step1 < i &&i<step2:\n                        labelData[i] = {\n                            'value': 1,\n                            'name': data.data[1],\n                            'itemStyle': {\n                                'normal': {\n                                    'color': \"#FF7900\"\n                                }\n                            }\n                        };\n                        break;\n                    case step2 < i &&i< step3:\n                        labelData[i] = {\n                            'value': 1,\n                            'name': data.data[2],\n                            'itemStyle': {\n                                'normal': {\n                                    'color': \"#F1C000\"\n                                }\n                            }\n                        };\n                        break;\n                    case step3 < i &&i< totalNum:\n                        labelData[i] = {\n                            'value': 1,\n                            'name': data.data[3],\n                            'itemStyle': {\n                                'normal': {\n                                    'color': \"#0068FF\"\n                                }\n                            }\n                        };\n                        break;\n                }\n            }\noption = {\n    backgroundColor: 'rgb(41, 60, 85)',\n    'title': {\n        'text': '',\n        'subtext': '',\n        'left': 'center',\n        'top': '35%',\n        'textBaseline': 'top',\n        'textStyle': {\n            'fontSize': 12,\n            'color': '#fff',\n            'fontFamily': 'Digiface'\n        },\n        'subtextStyle': {\n            'fontSize': 16,\n            'color': '#f3be2c'\n        }\n    },\n    'tooltip': {\n        'show': false,\n        'position': [0, 0],\n        'trigger': 'item',\n        'formatter': '{b}: {c} ({d}%)'\n    },\n    'grid': {\n        'left': 0,\n        'top': 0,\n        'bottom':0,\n        'right': 0\n    },\n    'series':[\n        {\n            type: 'pie',\n            radius: [0, 60],\n            hoverAnimation: false,\n            // minAngle:30,\n            itemStyle:{\n                color:'transparent'\n            },\n            label:{\n                fontSize:24,\n                color:'#00ffff',\n                position:'center',\n                formatter:function(params){\n                    return params.value\n                }\n            },\n            data:[\n                {value: data.total}\n            ]\n        },\n        {\n            'type': 'pie',\n            hoverAnimation:false,\n            \"color\": ['#FF0000', '#FF7900', '#F1C000', '#0068FF'],\n            // 'radius': [55, 80],\n            'radius': [60, 90],\n            'startAngle': 30,\n            'label': {\n                'normal': {\n                    formatter: function (params) {\n                        return '' + params.name+'('+ params.value+')'+ '\\n' + params.percent + '%';\n                    },\n                    'show': true,\n                    'textStyle': {\n                        'fontSize': '14',\n                        'color': '#fff'\n                    }\n                },\n            },\n            'labelLine': {\n                'show': true,\n                'normal': {\n                    'lineStyle': {\n                        'width': 2\n                    },\n                    'smooth': 0.2,\n                    'length': 20,\n                    'length2': 45\n                }\n            },\n            'data':data.data ,\n            z:1\n\n        },\n        {\n            'hoverAnimation': true,\n            // 'avoidLabelOverlap': true,\n            'type': 'pie',\n            'data': labelData,\n            'startAngle': 30,\n            'itemStyle': {\n                'normal': {\n                    'borderWidth': 2,\n                    'borderColor': 'rgb(41, 60, 85)'\n                },\n                \"emphasis\":{\n                    show:false\n                }\n            },\n            'radius': [60, 90],\n            'label': {\n                'normal': {\n                    'show': false,\n                },\n                \"emphasis\":{\n                    show:false\n                }\n            },\n            z:2\n        }\n    ]\n};\n//修改第一个series【1】的radius值 环的大小会产生不同效果的环 如修改成：'radius': [50, 80]","html":"","externalScripts":"","updaterUID":"bd-2941282864","theme":"","layout":"","viewCount":1062,"userName":"l***f","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOYyDDKTYS.png?v=1562322629579","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"l***f"}}