{"status":0,"data":{"cid":"xVHVVgCMZx","authorUid":"obd-o-1SLhH1kkPp8_ImwKzwYvECZweJZAW","authorUserName":"U***羽","title":"折线","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-21T06:37:29.000Z","lastUpdateTime":"2021-07-21T06:37:29.000Z","auth":2,"uid":"obd-o-1SLhH1kkPp8_ImwKzwYvECZweJZAW","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-21T06:37:29.000Z","code":"var sta = 1;\r\nvar title1 = '换电次数';\r\nvar title2 = '行驶里程';\r\nvar linx1=[];\r\nvar linx2=[];\r\nvar ldata1=[];\r\nvar ldata2=[];\r\nvar data1 = [];\r\nvar data2 =  [];\r\nvar color1 = ['rgba(0,244,255,1)','rgba(0,160,221,1)'];\r\nvar color2 = ['rgba(153, 153, 255,1)','rgba(153, 102, 255,1)'];\r\n\r\nvar thrityMonth = [];\r\n    for (var i = 0; i < 7; i++) {\r\n    var date =new Date(new Date().setDate(new Date().getDate() - i));\r\n      var m = date.getMonth()+1;  var d = date.getDate();  \r\n      linx1.push(m+\"-\"+d);\r\n      linx2.push(m+\"-\"+d);\r\n      ldata1.push(Math.round(Math.random()*(60 - 10) + 1));\r\n      ldata2.push(Math.round(Math.random()*(60 - 10) + 1));\r\n      data1.push( Math.round(Math.random()*(100 - 10) + 10));\r\n      data2.push( Math.round(Math.random()*(100 - 10) + 10));\r\n    };\r\n\r\n\r\noption = {\r\n    backgroundColor: 'rgba(0,0,0)',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n    grid: {\r\n          left: '0%',\r\n          right: '10%',\r\n          top: '15%',\r\n          bottom: '5%',\r\n          containLabel: true\r\n      },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: linx1,\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#FFFFFF'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            color: '#e2e9ff',\r\n            textStyle: {\r\n                fontSize: 14\r\n            },\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    }],\r\n    yAxis: [{\r\n       max: 120,\r\n        axisLabel: { formatter: '{value}',color: '#e2e9ff',},\r\n        axisTick: {show: false},\r\n        splitLine: {show: false, lineStyle: {color: 'rgba(255,255,255,0.12)' }\r\n        }\r\n    },{\r\n        max: 140,\r\n        axisLabel: {color: '#e2e9ff',},\r\n        axisTick: {show: false},\r\n        splitLine: { show: false,lineStyle: {color: 'rgba(255,255,255,0.12)' }\r\n        }\r\n    }],\r\n     legend: {\r\n        right:20,\r\n        itemWidth:20,                             \r\n        itemHeight:10,  \r\n        textStyle: {\r\n             color: \"#fff\"\r\n         }\r\n    },\r\n    series: [{\r\n      \tname:title1,\r\n        type: 'bar',\r\n        data: data1,\r\n        barWidth: '10px',\r\n        itemStyle: {\r\n            normal: {\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color:  color1[0], \r\n                }, {\r\n                    offset: 1,\r\n                    color: color1[1], \r\n                }], false),\r\n                shadowBlur: 1,\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                lineHeight: 30,\r\n                formatter: '{c}',\r\n                position: 'top',\r\n                textStyle: {\r\n                    color: color1[0],\r\n                    fontSize: 15\r\n                }\r\n\r\n            }\r\n        }\r\n    },{\r\n            name: '车辆数',\r\n            type: 'line',\r\n            smooth: true, \r\n            showAllSymbol: true,\r\n            symbol: 'circle',\r\n            symbolSize: 3,\r\n            yAxisIndex:1,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: \"#ee2800\",\r\n                    shadowColor: 'rgba(0, 0, 0, .3)',\r\n                    shadowBlur: 0,\r\n                    shadowOffsetY: 5,\r\n                    shadowOffsetX: 5,\r\n                },\r\n            },\r\n            label: {\r\n                show: true,\r\n                position: 'insideTopRight',\r\n                textStyle: {\r\n                    fontSize: 15,\r\n                    color: '#fff',\r\n                }\r\n            },\r\n            itemStyle: {\r\n                color: \"#ee2800\",\r\n                borderColor: \"#ee2800\",\r\n                borderWidth: 5,\r\n                shadowColor: 'rgba(0, 0, 0, .3)',\r\n                shadowBlur: 0,\r\n                shadowOffsetY: 2,\r\n                shadowOffsetX: 2,\r\n            },\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            data: ldata1\r\n        }]\r\n};\r\nconsole.log(option);\r\n/*定时任务*/\r\nsetInterval (   function(){\r\n  if(sta==1){\r\n    /*option.title[1].text=title2;*/\r\n    option.series[0].data=data2;\r\n    option.series[1].data=ldata2;\r\n    option.series[0].itemStyle.normal.color.colorStops[0].color=color2[0];\r\n    option.series[0].label.normal.textStyle.color=color2[0];\r\n    option.series[0].itemStyle.normal.color.colorStops[1].color=color2[1];\r\n    option.xAxis[0].data=linx2;\r\n    sta=0;\r\n  }else{\r\n    /*option.title[1].text=title1;*/\r\n    option.series[0].data=data1;\r\n     option.series[1].data=ldata1;\r\n    option.series[0].itemStyle.normal.color.colorStops[0].color=color1[0];\r\n    option.series[0].label.normal.textStyle.color=color1[0];\r\n    option.series[0].itemStyle.normal.color.colorStops[1].color=color1[1];\r\n   /* option.series[0].label.normal.textStyle.color=color1[1];*/\r\n    option.xAxis[0].data=linx1;\r\n    sta=1;\r\n  }\r\n chart.setOption(option);\r\n} ,10000);\r\n","html":"","externalScripts":"","updaterUID":"obd-o-1SLhH1kkPp8_ImwKzwYvECZweJZAW","theme":"","layout":"","viewCount":0,"userName":"U***羽","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVHVVgCMZx.png?v=1626849449908","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"U***羽"}}