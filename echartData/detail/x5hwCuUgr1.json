{"status":0,"data":{"cid":"x5hwCuUgr1","authorUid":"bd-167860219","authorUserName":"n***1","title":"地铁断面客流可视化","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-10T03:35:08.000Z","lastUpdateTime":"2020-05-15T08:13:55.000Z","auth":2,"uid":"bd-167860219","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-08T15:45:49.000Z","code":"//关于这个图表我做的视频简介：https://www.bilibili.com/video/BV1pD4y127tW\r\n//各位观众老爷们一键三连，下次一定！\r\n\r\nvar uploadedDataURL = \"/asset/get/s/data-1589081496416-ZU707Io91.json\";\r\n\r\n\r\n//myChart是百度地图的部分\r\nmyChart.setOption(option = {\r\n\t\ttitle: {\r\n        text: \"地铁客流时变\",\r\n        left: 10,\r\n        top: 10,\r\n        textStyle: {\r\n            color: 'rgba(255,255,255,1)',\r\n            fontSize: 40\r\n        }\r\n    },\tvisualMap: {\r\n            min: 0,\r\n            max: 15000,\r\n            text: ['High', 'Low'],\r\n            realtime: false,\r\n            calculable: true,\r\n\t\t\tseriesIndex:0,\r\n            inRange: {\r\n                color: ['#9DCC42','#FFFE03','#F7941D','#E9420E','#FF0000']\r\n            }\r\n        },\r\n\t\tanimation: false,\r\n\t\t//bmap组件是百度地图的参数\r\n\t\tbmap: {\r\n\t\t\tcenter: [121.401206, 31.203083],\r\n\t\t\tzoom: 12,\r\n\t\t\troam: true,\r\n\t\t\t//地图个性化设置\r\n\t\t\tmapStyle: {\r\n                styleJson: [\r\n          {\r\n                    \"featureType\": \"land\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#222222\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"building\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#2b2b2b\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"highway\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -42,\r\n                              \"saturation\": -91\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"arterial\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -77,\r\n                              \"saturation\": -94\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"green\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#1b1b1b\"\r\n                    }\r\n          },\r\n         \r\n          {\r\n                    \"featureType\": \"water\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#212121\",\r\n                              \"hue\": \"#000000\",\r\n                              \"lightness\": -40\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"subway\",\r\n                    \"elementType\": \"geometry.stroke\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#181818\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"railway\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -52\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"all\",\r\n                    \"elementType\": \"labels.text.stroke\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#313131\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"all\",\r\n                    \"elementType\": \"labels.text.fill\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#8b8787\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"manmade\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"color\": \"#1b1b1b\"\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"local\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -75,\r\n                              \"saturation\": -91\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"subway\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -65\r\n                    }\r\n          },\r\n          {\r\n                    \"featureType\": \"highway\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": {\r\n                              \"lightness\": -40,\r\n                              \"visibility\": \"off\"\r\n                    }\r\n          }\r\n]\r\n            }\r\n\t\t},\r\n\t\tseries: [\r\n\t\t]\r\n\t});\r\nif (!app.inNode) {\r\n\t// 添加百度地图插件\r\n\tvar bmap = myChart.getModel().getComponent('bmap').getBMap();\r\n\tbmap.addControl(new BMap.MapTypeControl());\r\n}\r\n\r\n\r\n\r\n\t$.getJSON(uploadedDataURL, function (data) {\r\n\t    console.log(data)\r\n\tlinedata = []\r\n\tfor (var i = 0; i < data.length; i += 1) {\r\n\t\tlinedata.push({'coords':data[i][2],'value':data[i][1],'lineStyle':{'width':6*data[i][0]}})\r\n\t}\r\n//读取数据\r\n\r\n\t\r\nmyChart.setOption(option = {\r\n\t\ttitle: {\r\n        text: \"上午8时地铁客流\"},\r\n\t        series: [{\r\n            type: 'lines',\r\n            coordinateSystem: 'bmap',\r\n            polyline: true,\r\n            data: linedata,\r\n            silent: false,\r\n            lineStyle: {\r\n                color: 'rgb(200,200,200)',\r\n                opacity: 1,\r\n                width: 2\r\n            },\r\n            progressiveThreshold: 500,\r\n            progressive: 200\r\n        }]\r\n})\r\n})\r\n","html":"","externalScripts":"https://api.map.baidu.com/getscript?v=2.0&ak=xfhhaTThl11qYVrqLZii6w8qE5ggnhrY&services=&t=20190123111209,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-167860219","theme":"default","layout":"","viewCount":7091,"userName":"n***1","commentCount":11,"starCount":17,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5hwCuUgr1.png?v=1589530437660","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"n***1"}}