{"status":0,"data":{"cid":"xYjaESQUbx","authorUid":"bd-1078437236","authorUserName":"右***变","title":"饼图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-05T07:07:39.000Z","lastUpdateTime":"2021-08-05T07:07:39.000Z","auth":2,"uid":"bd-1078437236","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-05T07:07:39.000Z","code":"var color = ['#4aa1ff', '#5acb75', '#fcd44c', '#4fcccb'];\r\n\r\nvar title = '调用错误数';\r\nvar legend = [\r\n    '3XX',\r\n    '4XX',\r\n    '5XX',\r\n    '其他'\r\n];\r\n\r\nvar seriesData = [\r\n    { \"name\": \"3XX\", \"value\": 30 },\r\n    { \"name\": \"4XX\", \"value\": 10 },\r\n    { \"name\": \"5XX\", \"value\": 15 },\r\n    { \"name\": \"其他\", \"value\": 12 }\r\n]\r\nlet formatNumber = function(num) {\r\n    let reg = /(?=(\\B)(\\d{3})+$)/g;\r\n    return num.toString().replace(reg, ',');\r\n}\r\nlet total = seriesData.reduce((a, b) => {\r\n    return a + b.value * 1\r\n}, 0);\r\nvar option = {\r\n    backgroundColor:'#fff',\r\n    color: color,\r\n    title:{\r\n        text: '{name|' + title + '}\\n{val|' + formatNumber(total) + '}',\r\n        top: 'center',\r\n        left: 'center',\r\n        textStyle: {\r\n            rich: {\r\n                name: {\r\n                    fontSize: 14,\r\n                    fontWeight: 'normal',\r\n                    color: '#666666',\r\n                    padding: [10, 0]\r\n                },\r\n                val: {\r\n                    fontSize: 32,\r\n                    fontWeight: 'bold',\r\n                    color: '#333333',\r\n                }\r\n            }\r\n        }\r\n    },\r\n    grid: {\r\n        top: '15%',\r\n        left: 0,\r\n        right: '1%',\r\n        bottom: 5,\r\n        containLabel: true,\r\n    },\r\n    legend: {\r\n        icon: 'circle',\r\n        itemWidth: 10, \r\n        orient: 'vertical',\r\n        top: 'center',\r\n        right: 50,\r\n        textStyle: {\r\n            align: 'left',\r\n            verticalAlign: 'middle',\r\n            rich: {\r\n                name: {\r\n                    color: 'rgba(0,0,0,0.5)',\r\n                    fontSize: 12,\r\n                },\r\n                value: {\r\n                    color: 'rgba(0,0,0,0.5)',\r\n                    fontSize: 12,\r\n                },\r\n                rate: {\r\n                    color: 'rgba(0,0,0,0.9)',\r\n                    fontSize: 12,\r\n                },\r\n            },\r\n        },\r\n        data: legend,\r\n        formatter: (name) => {\r\n            if (seriesData.length) {\r\n                const item = seriesData.filter((item) => item.name === name)[0];\r\n                return `{name|${name} | }{rate| ${item.value/ 2}%} {value| ${item.value}} `;\r\n            }\r\n        },\r\n    },\r\n    series: [{\r\n        name: '调用错误',\r\n        type: 'pie',\r\n        center: ['50%', '50%'],\r\n        radius: ['45%', '65%'],\r\n        hoverAnimation: false,\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n            },\r\n        },\r\n        labelLine: {\r\n            show: false,\r\n            length: 0,\r\n            length2: 0,\r\n        },\r\n        data: seriesData,\r\n    }],\r\n};\r\nmyChart.setOption(option);\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-1078437236","theme":"","layout":"","viewCount":0,"userName":"右***变","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYjaESQUbx.png?v=1628147259411","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"右***变"}}