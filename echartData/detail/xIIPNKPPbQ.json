{"status":0,"data":{"cid":"xIIPNKPPbQ","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"test","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-02T07:40:27.000Z","lastUpdateTime":"2021-09-02T07:40:27.000Z","auth":2,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-02T07:40:27.000Z","code":"let nameList = [\n    '本科生占全日制在校生总数的比例（%）',\n    '体质测试达标率（%）',\n    '应届本科生就业率（%）',\n    '应届本科生学位授予率（%）',\n    '应届本科生毕业率（%）',\n];\nlet valueList = [612.5, 548.7, 300.2, 300, 400];\nlet colorList = ['#FFC949', '#FB6A66', '#867DFF', '#06CA70', '#008AFF'];\nlet total = 1000; // 数据总数\nconsole.log(nameList, valueList, colorList, total);\nlet emue = ['yellow', 'red', 'purple', 'green', 'blue'];\nvar category = nameList.map((item, index) => {\n    return {\n        value: valueList[index],\n        itemStyle: {\n            color: colorList[index],\n        },\n    };\n});\nvar totalList = [];\nvar totalBorderList = [];\nnameList.map((item, index) => {\n    totalList.push({\n        value: total,\n        itemStyle: {\n            color: colorList[index],\n        },\n    });\n    totalBorderList.push({\n        value: total,\n        itemStyle: {\n            borderColor: colorList[index],\n            color: 'transparent',\n        },\n    });\n});\nvar datas = [];\ncategory.forEach((value) => {\n    datas.push(value.value);\n});\nconsole.log(datas);\noption = {\n    backgroundColor:'#020b3f',\n    xAxis: {\n        max: total,\n        splitLine: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n    },\n    grid: {\n        left: '5%',\n        top: '15%', // 设置条形图的边距\n        right: '15%',\n        bottom: '5%',\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: false,\n            data: nameList,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n        },\n    ],\n    series: [\n        {\n            // 内\n            type: 'bar',\n            barWidth: 16,\n            barGap: '20%',\n            silent: true,\n            label: {\n                normal: {\n                    formatter: (item) => {\n                        console.log(item);\n                        return `{${emue[item['dataIndex']]}|${item['name']}}`;\n                    },\n                    textStyle: {\n                        color: '#008AFF',\n                        fontSize: 14,\n                    },\n                    position: [0, '-25px'],\n                    show: true,\n                    rich: {\n                        green: {\n                            color: '#06CA70',\n                        },\n                        blue: {\n                            color: '#008AFF',\n                        },\n                        purple: {\n                            color: '#867DFF',\n                        },\n                        red: {\n                            color: '#FB6A66',\n                        },\n                        yellow: {\n                            color: '#FFC949',\n                        },\n                    },\n                },\n            },\n            data: category,\n            z: 1,\n            animationEasing: 'elasticOut',\n        },\n\n        {\n            // 分隔\n            type: 'pictorialBar',\n            itemStyle: {\n                normal: {\n                    color: '#020b3f',\n                },\n            },\n            symbolRepeat: 'fixed',\n            symbolMargin: 1,\n            symbol: 'rect',\n            symbolClip: false,\n            symbolSize: [1,17],\n            symbolPosition: 'start',\n            symbolOffset: [3, -2],\n            symbolBoundingData: this.total,\n            data: [total, total, total, total, total],\n            z: 2,\n            animationEasing: 'elasticOut',\n        },\n        {\n            // label\n            type: 'pictorialBar',\n            symbolBoundingData: total,\n            itemStyle: {\n                normal: {\n                    color: 'none',\n                },\n            },\n            label: {\n                normal: {\n                    formatter: (params) => {\n                        console.log(params);\n                        var text;\n                        text = `{${emue[params['dataIndex']]}|${((params['data'] * 100) / total).toFixed(2)}%}`;\n                        return text;\n                    },\n                    rich: {\n                        green: {\n                            color: '#06CA70',\n                        },\n                        blue: {\n                            color: '#008AFF',\n                        },\n                        purple: {\n                            color: '#867DFF',\n                        },\n                        red: {\n                            color: '#FB6A66',\n                        },\n                        yellow: {\n                            color: '#FFC949',\n                        },\n                    },\n                    position: 'right',\n                    offset: [0, -3],\n                    distance: 10, // 向右偏移位置\n                    show: true,\n                },\n            },\n            data: datas,\n            z: 0,\n        },\n\n        {\n            name: '外框',\n            type: 'bar',\n            barGap: '-130%', // 设置外框粗细\n            data: totalBorderList,\n            barWidth: 26,\n            itemStyle: {\n                normal: {\n                    // barBorderRadius: [5, 5, 5, 5],\n                    borderWidth: 1, // 边框宽度\n                },\n            },\n            z: 0,\n        },\n        {\n            type: 'scatter',\n            name: '条形',\n            symbol: 'roundRect',\n            symbolSize: [4, 12],\n            symbolOffset: [3, -3],\n            symbolKeepAspect: true,\n            data: totalList,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","theme":"","layout":"","viewCount":0,"userName":"m***h","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIIPNKPPbQ.png?v=1630568428149","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","series-scatter"],"customTags":[],"updaterUserName":"m***h"}}