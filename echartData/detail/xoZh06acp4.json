{"status":0,"data":{"cid":"xoZh06acp4","authorUid":"bd-1042038476","authorUserName":"一***行","title":"人数占比","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-06T15:31:20.000Z","lastUpdateTime":"2020-04-06T15:31:20.000Z","auth":2,"uid":"bd-1042038476","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-06T15:31:20.000Z","code":"var data = [{value: 335, name: '1'},\n                {value: 310, name: '2'},\n                {value: 234, name: '3'},\n                {value: 135, name: '4'},\n                {value: 1548, name: '5'}]\n                \nvar barData = data.map(item=>{\n   var temp = {\n        name:item.name,\n        data:  item,\n        type: 'bar',\n        //showBackground: true,\n        center: ['25%', '50%']\n    }\n    return temp;\n})    \nbarData.push({name:'占比',\n        data: data,\n        type: 'pie',\n          label:{            //饼图图形上的文本标签\n                            normal:{\n                                show:true,\n                                position:'inner', //标签的位置\n                                textStyle : {\n                                    fontWeight : 300 ,\n                                    fontSize : 16    //文字的字体大小\n                                },\n                                formatter:'{d}%'\n\n                                \n                            }\n                        },\n        //showBackground: true,\n        center: ['80%', '50%'],\n         radius: '45%',\n       \n    })\n console.log(barData)               \noption = {\n    xAxis: {\n        type: 'category',\n       data: ['1', '2', '3', '4', '5'],\n         name:'幸福指数'\n    },\n    yAxis: {\n        type: 'value',\n         name:'人数'\n    },\n     legend: {\n       \n        top: 'top',\n        data: ['1', '2', '3', '4', '5']\n    },\n     tooltip: {\n        trigger: 'item',\n        formatter:function(param){\n           // console.log(param)\n            if(param.seriesType ==='pie'){\n                return `幸福指数${param.dataIndex+1}<br/>占比 ${param.percent}%`\n            }else{\n                return `幸福指数${param.dataIndex+1} <br/>人数:${param.value}`\n            }\n            \n        }\n    },\n    grid: {right: '40%'},\n    series: [{\n         name: '直接访问',\n        type: 'bar',\n        barWidth: '60%',\n        data: [{\n                name: '幸福指数1',\n                value: '70',\n                itemStyle: {\n                    color: '#1F78B4'\n                }\n            },{\n                name: '幸福指数2',\n                value: '50',\n                itemStyle: {\n                    color: '#52452f'\n                }\n            },{\n                name: '幸福指数3',\n                value: '5',\n                itemStyle: {\n                    color: '#f24528'\n                }\n            },]\n    },{\"name\":\"占比\",\"data\":[{\"value\":335,\"name\":\"1\"},{\"value\":310,\"name\":\"2\"},{\"value\":234,\"name\":\"3\"},{\"value\":135,\"name\":\"4\"},{\"value\":1548,\"name\":\"5\"}],\"type\":\"pie\",\"label\":{\"normal\":{\"show\":true,\"position\":\"inner\",\"textStyle\":{\"fontWeight\":300,\"fontSize\":16},\"formatter\":\"{d}%\"}},\"center\":[\"80%\",\"50%\"],\"radius\":\"45%\"}]\n};\n","html":"","externalScripts":"","updaterUID":"bd-1042038476","theme":"","layout":"","viewCount":23,"userName":"一***行","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoZh06acp4.png?v=1586187080345","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"一***行"}}