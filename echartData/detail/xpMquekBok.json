{"status":0,"data":{"cid":"xpMquekBok","authorUid":"obd-oMZ8jrsJzEAP3PQ5uuVFH4xa3tEMJ2m","authorUserName":"j***孩","title":"知识图谱","description":"Default layout","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-16T07:36:05.000Z","lastUpdateTime":"2021-12-16T07:36:05.000Z","auth":2,"uid":"obd-oMZ8jrsJzEAP3PQ5uuVFH4xa3tEMJ2m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-16T07:36:05.000Z","code":"mockGraphData = [\n  {\n    id: 0,\n    name: \"解析法\",\n    category: \"未掌握 需重点关注\",\n    value: 5,\n  },\n  {\n    id: 1,\n    name: \"诱导公式\",\n    value: 21,\n    category: \"未掌握 需重点关注\",\n  },\n  {\n    id: 2,\n    name: \"函数的概念\",\n    category: \"未掌握 需重点关注\",\n    value: 29,\n  },\n  {\n    id: 3,\n    name: \"图像法\",\n    category: \"未掌握 需重点关注\",\n    value: 15,\n  },\n  {\n    id: 4,\n    name: \"三角函数的概念和性质\",\n    category: \"未掌握 需重点关注\",\n    value: 12,\n  },\n  {\n    id: 5,\n    name: \"正弦函数的概念\",\n    category: \"未掌握 需重点关注\",\n    value: 15,\n  },\n  {\n    id: 6,\n    name: \"函数的性质\",\n    category: \"未掌握 需重点关注\",\n    value: 13,\n  },\n  {\n    id: 7,\n    name: \"三角函数的概念\",\n    category: \"部分掌握\",\n    value: 30,\n  },\n  {\n    id: 8,\n    name: \"余弦函数的概念\",\n    category: \"部分掌握\",\n    value: 45,\n  },\n  {\n    id: 9,\n    name: \"函数的性质\",\n    category: \"部分掌握\",\n    value: 55,\n  },\n  {\n    id: 10,\n    name: \"解析法\",\n    category: \"基本掌握\",\n    value: 75,\n  },\n  {\n    id: 11,\n    name: \"同三角函数的基本\",\n    category: \"基本掌握\",\n    value: 93,\n  },\n  {\n    id: 12,\n    name: \"函数的性质\",\n    category: \"基本掌握\",\n    value: 90,\n  },\n  {\n    id: 13,\n    name: \"函数的值域\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 14,\n    name: \"函数的定义域\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 15,\n    name: \"函数的表示\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 16,\n    name: \"三角函数\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 17,\n    name: \"函数的概念与表示\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 18,\n    name: \"函数的概念与性质\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n  {\n    id: 19,\n    name: \"函数\",\n    category: \"熟练掌握\",\n    value: 10,\n  },\n];\nmockLink = [\n  {\n    source: \"11\",\n    target: \"1\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"7\",\n    target: \"8\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"7\",\n    target: \"5\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"7\",\n    target: \"19\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"5\",\n    target: \"8\",\n    type: \"前置关系\",\n  },\n  {\n    source: \"4\",\n    target: \"7\",\n    type: \"前置关系\",\n  },\n  {\n    source: \"4\",\n    target: \"19\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"16\",\n    target: \"4\",\n    type: \"前置关系\",\n  },\n  {\n    source: \"4\",\n    target: \"9\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"3\",\n    target: \"9\",\n    type: \"前置关系\",\n  },\n  {\n    source: \"3\",\n    target: \"6\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"18\",\n    target: \"17\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"17\",\n    target: \"15\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"17\",\n    target: \"10\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"14\",\n    target: \"10\",\n    type: \"前置关系\",\n  },\n  {\n    source: \"13\",\n    target: \"10\",\n    type: \"相关关系\",\n  },\n  {\n    source: \"2\",\n    target: \"13\",\n    type: \"前置关系\",\n  },\n];\nconst rawData = mockGraphData.map((item) => {\n      if (item.category === \"未掌握 需重点关注\") {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#ff575f\",\n            },\n          },\n          // label: {\n          //   textBorderColor: \"#ff575f\",\n          // },\n        };\n      } else if (item.category === \"部分掌握\") {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#ffca56\",\n            },\n          },\n        };\n      } else if (item.category === \"基本掌握\") {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#00ccc1\",\n            },\n          },\n        };\n      } else if (item.category === \"熟练掌握\") {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#4f9ef5\",\n            },\n          },\n        };\n      } else if (item.category === \"前置节点\") {\n        return {\n          ...item,\n          symbolSize: [80, 80],\n          itemStyle: {\n            normal: {\n              color: \"#f4b7be\",\n            },\n          },\n          label: {\n            show: true,\n            position: 'inside',\n            color: \"#000\",\n            textBorderWidth: 1,\n            formatter: \"{a|{b}}\",\n            rich: {\n              a: {\n                color: \"#000\",\n                lineHeight: 30,\n              },\n             \n            },\n          },\n        };\n      } else if (item.category === \"本次未考核\") {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#ffffff\",\n              borderWidth: 2,\n              borderColor: \"#ec808d\",\n            },\n          },\n          label: {\n            show: true,\n            position: 'inside',\n            color: \"#000\",\n            textBorderWidth: 1,\n            formatter: [\"{b|历史掌\\n握程度\\n{c}%}\", \"{a|{b}}\"].join(\"\\n\"),\n            rich: {\n              a: {\n                color: \"#000\",\n                lineHeight: 30,\n              },\n              b: {\n\n                color: \"#000\",\n                align: \"center\",\n                lineHeight: 15,\n              },\n            },\n            offset: [0, 20]\n          },\n        };\n      } else {\n        return {\n          ...item,\n          itemStyle: {\n            normal: {\n              color: \"#4f9ef5\",\n            },\n          },\n        };\n      }\n    });\nconst rawLink = mockLink.map((item) => {\n      if (item.type === \"相关关系\") {\n        return {\n          ...item,\n          tooltip: { formatter: \"相关关系\" },\n        };\n      } else if (item.type === \"前置关系\") {\n        return {\n          ...item,\n          tooltip: { formatter: \"前置关系\" },\n          symbolSize: [10, 10],\n        };\n      } else if (item.type === \"包含关系\") {\n        return {\n          ...item,\n          tooltip: { formatter: \"包含关系\" },\n          lineStyle: { type: \"dashed\" },\n        };\n      } else {\n        return {\n          ...item,\n        };\n      }\n    }); \noption = {\n      title: {\n        text: \"知识图谱\",\n        subtext: \"Default layout\",\n        top: \"bottom\",\n        left: \"right\",\n      },\n      color: [\"#ff575f\", \"#ffca56\", \"#00ccc1\", \"#4f9ef5\"],\n      tooltip: {\n        trigger: \"item\",\n        formatter: \"{b}  {c}%\",\n      },\n      legend: {\n        selectedMode: \"true\",\n        orient: \"vertical\",\n        top: 10,\n        show: true,\n        data: [\n          {\n            name: \"未掌握 需重点关注\",\n          },\n          {\n            name: \"部分掌握\",\n          },\n          {\n            name: \"基本掌握\",\n          },\n          {\n            name: \"熟练掌握\",\n          },\n        ],\n        left: 10,\n        // itemStyle:{color: 'inherit'},\n        // selector: [\n        //   {\n        //     type: \"inverse\",\n        //     title: \"反选\",\n        //   },\n        // ],\n      },\n      \n      animationDuration: 1000,\n      animationEasingUpdate: \"quinticInOut\",\n      series: [\n        {\n          name: \"\",\n          type: \"graph\",\n          layout: \"force\",\n          edgeSymbol: [\"none\", \"arrow\"],\n          edgeSymbolSize: [0, 0],\n          draggable: false,\n          zoom: 1, // 数据多的情况下控制显示区域大小\n          // itemStyle: {\n          //   normal: {\n          //     // borderWidth: 2\n          //   },\n          // },\n          symbolSize: [60, 60],\n          force: {\n            // 布局配置\n            repulsion: 600,\n            edgeLength: 120,\n            layoutAnimation: true,\n            friction:0.6\n          },\n          data: rawData,\n          links: rawLink,\n          categories: [\n            {\n              name: \"未掌握 需重点关注\",\n            },\n            {\n              name: \"部分掌握\",\n            },\n            {\n              name: \"基本掌握\",\n            },\n            {\n              name: \"熟练掌握\",\n            },\n            {\n              name: \"前置节点\",\n            },\n            {\n              name: \"本次未考核\",\n            },\n          ],\n          roam: true, // 是否开启平移缩放\n          // edgeLabel: {\n          //   normal: {\n          //     show: true,\n          //     formatter: function (x: any) {\n          //       return x.data.name;\n          //     },\n          //   },\n          // },\n          label: {\n            normal: {\n              show: true,\n              // position: [\"125%\", \"100%\"],\n              position: \"inside\",\n              color: \"#fff\",\n              textBorderWidth: 1,\n              formatter: [\"{b|{c}%}\", \"{a|{b}}\"].join(\"\\n\"),\n              rich: {\n                a: {\n                  color: \"#000\",\n                  height: 0,\n                  // lineHeight: 10\n                },\n                b: {\n                  color: \"#fff\",\n                  align: \"center\",\n                  lineHeight: 80,\n                },\n              },\n            },\n          },\n          lineStyle: {\n            normal: {\n              color: \"#000\",\n              curveness: 0.3,\n              type: \"solid\",\n            },\n          },\n          emphasis: {\n            focus: \"adjacency\",\n            lineStyle: {\n              width: 5,\n            },\n          },\n        },\n      ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oMZ8jrsJzEAP3PQ5uuVFH4xa3tEMJ2m","theme":"","layout":"","viewCount":0,"userName":"j***孩","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpMquekBok.png?v=1639640165973","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","title","tooltip"],"customTags":[],"updaterUserName":"j***孩"}}