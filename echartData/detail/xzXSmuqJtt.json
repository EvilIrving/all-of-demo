{"status":0,"data":{"cid":"xzXSmuqJtt","authorUid":"bd-4198402328","authorUserName":"a***3","title":"邯郸市地图","description":"有需要的小伙伴可以看一下邯郸地图","latestVersion":1,"alwaysLatest":1,"createTime":"2019-07-06T06:40:12.000Z","lastUpdateTime":"2019-07-06T06:40:12.000Z","auth":2,"uid":"bd-4198402328","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-06T06:40:13.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1562315633579-URoUzZMG-.json\";\n\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('handan', geoJson);\n    myChart.hideLoading();\n    var geoCoordMap = {\n        '丛台区': [114.594703, 36.671082],\n        '邯山区': [114.484989, 36.533196],\n        '复兴区': [114.358242, 36.615484],\n        '永年区': [114.496162, 36.776413],\n        '武安市': [114.194581, 36.696115],\n        '峰峰矿区': [114.209936, 36.420487],\n        '大名县': [115.152586, 36.283316],\n        '魏县': [114.93411, 36.354248],\n        '广平县': [114.950859, 36.483603],\n        '肥乡区': [114.805154, 36.555778],\n        '曲周县': [114.957588, 36.773398],\n        '邱县': [115.168584, 36.81325],\n        '馆陶县': [115.289057, 36.539461],\n        '涉县': [113.673297, 36.563143],\n        '磁县': [114.38208, 36.367673],\n        '成安县': [114.680356, 36.443832],\n        '临漳县': [114.610703, 36.337604],\n        '鸡泽县': [114.878517, 36.914908]\n    }\n    var data = [{\n            name: '丛台区',\n            value: 80\n        },{\n            name: '邯山区',\n            value: 70\n        }, {\n            name: '复兴区',\n            value: 75\n        }, {\n            name: '永年区',\n            value: 80\n        }, {\n            name: '肥乡区',\n            value: 78\n        }, {\n            name: '武安市',\n            value: 77\n        }, {\n            name: '峰峰矿区',\n            value: 79\n        }, {\n            name: '大名县',\n            value: 85\n        }, {\n            name: '魏县',\n            value: 81\n        }, {\n            name: '广平县',\n            value: 83\n        }, {\n            name: '曲周县',\n            value: 100\n        }, {\n            name: '邱县',\n            value: 80\n        }, {\n            name: '馆陶县',\n            value: 50\n        }, {\n            name: '涉县',\n            value: 70\n        }, {\n            name: '磁县',\n            value: 60\n        }, {\n            name: '成安县',\n            value: 75\n        }, {\n            name: '临漳县',\n            value: 85\n        }, {\n            name: '鸡泽县',\n            value: 30\n        }\n    ];\n    \n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value)\n                });\n            }\n        }\n        return res;\n    };\n\n    option = {\n        backgroundColor: '#fff',\n        title: {\n            text: '邯郸市地图',\n            x: 'left',\n            textStyle: {\n                color: '#ccc'\n            }\n        },\n        tooltip: {\n            trigger: 'item',\n            backgroundColor: '#09bdb1',\n            borderColor: '#FFFFCC',\n            showDelay: 0,\n            hideDelay: 0,\n            enterable: true,\n            transitionDuration: 0,\n            extraCssText: 'z-index:100',\n            formatter: function(params, ticket, callback) {\n                //根据业务自己拓展要显示的内容\n                var res = \"\";\n                var name = params.name;\n                var value = params.value;\n                res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n                return res;\n            }\n        },\n        legend: {\n            \n            orient: 'vertical',\n            top: 'top',\n            left: 'right',\n            data: ['credit_pm2.5'],\n            textStyle: {\n                color: '#fff'\n            }\n        },\n        visualMap: { //颜色的设置  dataRange\n            show: false,\n            x: 'left',\n            y: 'center',\n            seriesIndex: [1],\n            min: 0,\n            max: 200,\n            text: ['高', '低'], // 文本，默认为数值文本\n            textStyle: {\n                color: '#fff'\n            },\n            inRange: {\n                color: ['#04387b', '#467bc0']\n            }\n        },\n        geo: {\n            map: 'handan',\n            left: '70',\n            itemStyle: { //地图区域的多边形 图形样式\n                color: '#fff',\n                normal: { //是图形在默认状态下的样式\n                    label: {\n                        show: true, //是否显示标签\n                        textStyle: {\n                            color: '#ff0'\n                        },\n                    },\n\n                    borderWidth: 1,\n                    borderColor: 'rgba(37,124,169)',\n                    shadowColor: '#e8e8e8',\n                    shadowOffsetY: 15,\n                    shadowOffsetX: 8,\n\n                },\n            },\n        },\n        series: [{\n            name: 'credit_pm2.5',\n            type: 'effectScatter',\n            left: '50',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function(val) {\n                return val[2] / 5;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'bottom',\n                    color: '#fff',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: 'yellow',\n                    shadowBlur: 0,\n                    shadowColor: 'yellow'\n                }\n            },\n            zlevel: 1\n        }, {\n            type: 'map',\n            mapType: 'handan',\n            left: '70',\n            // zoom: 1.2,\n            roam: false, //是否开启鼠标缩放和平移漫游\n            itemStyle: { //地图区域的多边形 图形样式\n                // color: ['rgb(11,85,142)', 'rgb(13,106,177)'],\n                normal: { //是图形在默认状态下的样式\n                    label: {\n                        show: true, //是否显示标签\n                        textStyle: {\n                            color: 'transparent'\n                        },\n                    },\n                    borderWidth: 1,\n                    borderColor: '#28729f',\n                    areaColor: '#29b4b7',\n                },\n                emphasis: { //是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时\n                    label: {\n                        show: false,\n                        textStyle: {\n                            color: 'transparent'\n                        },\n                    },\n                    borderColor: '#000',\n                    areaColor: '#000',\n                }\n            },\n            data: data\n        }]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-4198402328","theme":"","layout":"","viewCount":2055,"userName":"a***3","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzXSmuqJtt.png?v=1562395213131","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","title","tooltip","visualMap"],"customTags":["geo","map"],"updaterUserName":"a***3"}}