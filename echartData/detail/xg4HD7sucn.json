{"status":0,"data":{"cid":"xg4HD7sucn","authorUid":"obd-ojazCfL_sSLdvfEqAYLBaeVDVsjenE4","authorUserName":"点***滴","title":"数量统计图","description":"数量统计图","latestVersion":2,"alwaysLatest":1,"createTime":"2020-08-21T02:40:08.000Z","lastUpdateTime":"2020-08-21T02:40:08.000Z","auth":1,"uid":"obd-ojazCfL_sSLdvfEqAYLBaeVDVsjenE4","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-21T02:41:42.000Z","code":"let data = [10, 20, 40, 60, 80];\r\nlet xLabelArr = ['环境监测', '厕所监控', '能耗系统', '门禁系统', '其他'];\r\nlet series = [];\r\ndata.forEach((item) => {\r\n    series.push({\r\n        value: item,\r\n        symbolPosition: 'end'\r\n    });\r\n});\r\n\r\nlet dataBar2 = [10, 20, 40, 60, 80];\r\nlet dataBarShadow2 = [];\r\nlet yMax2 = Math.max.apply(null, dataBar2);\r\nfor (var i = 0; i < dataBar2.length; i++) {\r\n    dataBarShadow2.push(yMax2);\r\n}\r\n\r\noption = {\r\n    backgroundColor: '#09102D',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        formatter: \"{b} :{c}\",\r\n    },\r\n    grid: {\r\n        left: 50,\r\n        right: 50,\r\n        bottom: 50,\r\n        top: 50,\r\n        containLabel: true,\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: xLabelArr,\r\n        axisTick: {\r\n            alignWithLabel: true,\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0, // 解决x轴名称过长问题\r\n            textStyle: {\r\n                color: '#fff'\r\n            },\r\n            formatter: function(data) {\r\n                if (data.length > 3) {\r\n                    return data.slice(0, 2) + '\\n' + data.slice(2);\r\n                }\r\n                return data;\r\n            }\r\n        }\r\n    }],\r\n    yAxis: [{\r\n        show: true,\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: 'rgba(255,255,255,.5)'\r\n            }\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: 'rgba(255,255,255,.5)'\r\n            }\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: 'rgba(255,255,255,.12)'\r\n            }\r\n        }\r\n    }],\r\n    series: [{\r\n            name: '',\r\n            type: 'pictorialBar',\r\n            symbol: 'rect',\r\n            symbolSize: [17, 3],\r\n            symbolOffset: [-6, 0],\r\n            zlevel: 3,\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0, 0, 0, 1,\r\n                        [{\r\n                                offset: 0,\r\n                                color: 'rgba(25,228,221,1)'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: 'rgba(0,165,160,1'\r\n                            }\r\n                        ]\r\n                    )\r\n                }\r\n            },\r\n            data: series\r\n        },\r\n        {\r\n            name: '动环资产',\r\n            type: 'bar',\r\n            zlevel: 2,\r\n            barWidth: '18', //去掉这个则会显示柱状阴影\r\n            label: {\r\n                show: true,\r\n                position: 'top',\r\n                padding: [0, 0, 0, -38],\r\n                textStyle: {\r\n                    color: '#1AF6EE'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0, 0, 0, 1,\r\n                        [{\r\n                                offset: 0,\r\n                                color: 'rgba(30,89,115,1)'\r\n                            },\r\n                            {\r\n                                offset: 0,\r\n                                color: 'transparent'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: 'transparent'\r\n                            }\r\n                        ]\r\n                    )\r\n                },\r\n\r\n            },\r\n            data: dataBar2,\r\n        },\r\n        {\r\n            name: '背景',\r\n            type: 'bar',\r\n            barWidth: 2,\r\n            zlevel: 0,\r\n            barGap: '-160%',\r\n            data: dataBarShadow2,\r\n            itemStyle: {\r\n                color: 'rgba(255,255,255,.23)'\r\n            },\r\n\r\n        },\r\n\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-ojazCfL_sSLdvfEqAYLBaeVDVsjenE4","theme":"","layout":"","viewCount":46,"userName":"点***滴","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xg4HD7sucn.png?v=1597977702490","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"点***滴"}}