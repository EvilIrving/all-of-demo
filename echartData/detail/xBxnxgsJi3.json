{"status":0,"data":{"cid":"xBxnxgsJi3","authorUid":"obd-oDlZAyNk0MR8MOJcaHD4t_P3ohkEK17","authorUserName":"码***记","title":"","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-24T06:44:20.000Z","lastUpdateTime":"2020-09-24T06:44:20.000Z","auth":2,"uid":"obd-oDlZAyNk0MR8MOJcaHD4t_P3ohkEK17","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-24T06:44:20.000Z","code":" function contains(arr, dst) {\r\n                var i = arr.length;\r\n                while (i -= 1) {\r\n                    if (arr[i] == dst) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            var attackSourcesData = [70, 34, 60, 70, 34, 70, 34, 34];\r\n            var attackSourcesName = ['绕过攻击', '网络爬虫', '其他有害程序事件', '远程代码执行', '信息泄露', 'HTTP请求攻击', '其他注入攻击', '后门攻击'];\r\n            var attackSourcesColor = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff', '#1089E7', '#F57474', '#56D0E3', '#1089E7', '#F57474', '#1089E7', '#F57474', '#F57474'];\r\n\r\n            function attackSourcesDataFmt(sData) {\r\n                var sss = [];\r\n                sData.forEach(function(item, i) {\r\n                    itemStyle = {\r\n                        color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i]\r\n                    }\r\n                    sss.push({\r\n                        value: item,\r\n                        // itemStyle: itemStyle\r\n                    });\r\n                });\r\n                console.log(sss)\r\n                return sss;\r\n            }\r\n            option = {\r\n                tooltip: {\r\n                    show: true,\r\n                    backgroundColor: 'rgba(21,52,93,1)',//背景颜色（此时为默认色）\r\n                    textStyle: {\r\n                        fontSize: 16\r\n                    },\r\n                    // trigger: 'axis',\r\n                    // axisPointer: {\r\n                    //    type: 'shadow'\r\n                    // }\r\n                },\r\n                legend: {\r\n                    show: false\r\n                },\r\n                grid: {\r\n                    left: 180,\r\n\r\n                },\r\n                dataZoom: [{\r\n                    type: 'slider',\r\n                    yAxisIndex: [0,1],\r\n                    zoomLock: true,\r\n                    width: 10,\r\n                    handleSize: 0,\r\n                    showDetail: false,\r\n                    start: 0,\r\n                    end: 50,\r\n                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\r\n                    handleSize: '100%',\r\n                    handleStyle: {\r\n                        color: \"#d3dee5\",\r\n                    },\r\n                    borderColor: \"#90979c\"\r\n                }, {\r\n                    type: 'inside',\r\n                    id: 'insideY',\r\n                    yAxisIndex: 0,\r\n                    start: 0,\r\n                    end: 50,\r\n                    zoomOnMouseWheel: false,\r\n                    moveOnMouseMove: true,\r\n                    moveOnMouseWheel: true\r\n                }],\r\n                xAxis: {\r\n                    type: 'value',\r\n\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    }\r\n\r\n                },\r\n                yAxis: [\r\n                    {\r\n                        type: 'category',\r\n                        inverse: true,\r\n                        splitLine: {\r\n                            show: false\r\n                        },\r\n                        axisTick: {\r\n                            show: false\r\n                        },\r\n                        axisLine: {\r\n                            show: false\r\n                        },\r\n                        axisPointer: {\r\n                            label: {\r\n                                show: true,\r\n                                margin: 30\r\n                            }\r\n                        },\r\n                        data: attackSourcesName,\r\n                        axisLabel: {\r\n                            margin: 140,\r\n                            fontSize: 14,\r\n                            align: 'left',\r\n                            color: '#333',\r\n                            rich: {\r\n                                nt1: {\r\n                                    color: '#fff',\r\n                                    backgroundColor: attackSourcesColor[0],\r\n                                    width: 20,\r\n                                    height: 20,\r\n                                    align: 'center',\r\n                                    borderRadius: 100\r\n                                },\r\n                                nt2: {\r\n                                    color: '#fff',\r\n                                    backgroundColor: attackSourcesColor[1],\r\n                                    width: 20,\r\n                                    height: 20,\r\n                                    align: 'center',\r\n                                    borderRadius: 100\r\n                                },\r\n                                nt3: {\r\n                                    color: '#fff',\r\n                                    backgroundColor: attackSourcesColor[2],\r\n                                    width: 20,\r\n                                    height: 20,\r\n                                    align: 'center',\r\n                                    borderRadius: 100\r\n                                },\r\n                                nt: {\r\n                                    color: '#fff',\r\n                                    backgroundColor: attackSourcesColor[3],\r\n                                    width: 20,\r\n                                    height: 20,\r\n                                    align: 'center',\r\n                                    borderRadius: 100\r\n                                },\r\n                                title1: {\r\n\r\n                                    color: '#fff',\r\n                                    width: 90,\r\n                                    align: 'left',\r\n                                    borderRadius: 5,\r\n                                    padding: 5,\r\n                                },\r\n                                title2: {\r\n\r\n                                    color: '#fff',\r\n                                    width: 90,\r\n                                    align: 'left',\r\n                                    borderRadius: 5,\r\n                                    padding: 5,\r\n                                },\r\n                                title3: {\r\n\r\n                                    color: '#fff',\r\n                                    width: 90,\r\n                                    align: 'left',\r\n                                    borderRadius: 5,\r\n                                    padding: 5,\r\n                                },\r\n                                title: {\r\n\r\n                                    color: '#fff',\r\n                                    width: 90,\r\n                                    align: 'left',\r\n                                    borderRadius: 5,\r\n                                    padding: 5,\r\n                                }\r\n                            },\r\n                            formatter: function(value, index) {\r\n                                index = contains(attackSourcesName, value) + 1\r\n                                if (index - 1 < 3) {\r\n                                    return [\r\n                                        '{nt' + index + '|' + index + '}' + '  {title' + index + '|' + value + '}'\r\n                                    ].join('\\n')\r\n                                } else {\r\n                                    return [\r\n                                        '{nt|' + index + '}' + '  {title|' + value + '}'\r\n                                    ].join('\\n')\r\n                                }\r\n                            }\r\n                        },\r\n\r\n                    }, {\r\n                        type: 'category',\r\n                        inverse: true,\r\n                        axisTick: 'none',\r\n                        axisLine: 'none',\r\n                        show: true,\r\n                        axisLabel: {\r\n                            textStyle: {\r\n                                color: '#ffffff',\r\n                                fontSize: '12'\r\n                            },\r\n                            formatter: function(value) {\r\n                                console.log(value,'123')\r\n\r\n                                    return (value).toLocaleString() + '%';\r\n\r\n                            },\r\n                        },\r\n                        data:attackSourcesData\r\n                    }],\r\n                series: [{\r\n                    z: 3,\r\n                    //name: 'value',\r\n                    type: 'bar',\r\n                    barWidth: '10',\r\n                    animationDuration: 1500,\r\n                    data: attackSourcesDataFmt(attackSourcesData),\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: function(params) {\r\n                                return attackSourcesColor[params.dataIndex > 3 ? 3 : params.dataIndex]\r\n                            },\r\n                            barBorderRadius: 5,\r\n                        }\r\n                    },\r\n                    label: {\r\n                        show: false,\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: 14,\r\n                        offset: [10, 0]\r\n                    },\r\n\r\n                } , {\r\n                    name: '背景',\r\n                    type: 'bar',\r\n                    barWidth: 10,\r\n                    barGap: '-100%',\r\n                    z: 1,\r\n                    animationDuration: 1500,\r\n                    data:  [100, 100, 100, 100, 100, 100, 100, 100, 100, 1],\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#15345D',\r\n                            barBorderRadius: 30,\r\n                        }\r\n                    },\r\n\r\n                },\r\n\r\n                ]\r\n            };","html":"","externalScripts":"","updaterUID":"obd-oDlZAyNk0MR8MOJcaHD4t_P3ohkEK17","theme":"","layout":"","viewCount":110,"userName":"码***记","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBxnxgsJi3.png?v=1600929861114","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"码***记"}}