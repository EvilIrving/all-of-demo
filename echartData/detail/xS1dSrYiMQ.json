{"status":0,"data":{"cid":"xS1dSrYiMQ","authorUid":"bd-3990257290","authorUserName":"w***T","title":"仪表","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-07-05T11:47:12.000Z","lastUpdateTime":"2018-07-05T11:47:12.000Z","auth":2,"uid":"bd-3990257290","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-07-05T12:10:55.000Z","code":"var dataAll = [\n    [\"用户活跃度\", 80],\n    [\"用车时间\", 66],\n    [\"油耗\", 230],\n    [\"行车距离\", 450],\n    [\"总里程\", 600],\n];\nvar position = [\n    ['30%', '25%'],\n    ['16.6%', '75%'],\n    ['49.8%', '75%'],\n    ['70%', '25%'],\n    ['83%', '75%']\n];\nvar getStyle = function(value) {\n    if (value <= 30) {\n        return {\n            splitNumber: 3, //刻度数量\n            min: 0,\n            max: 30,\n            startAngle: 225,\n            endAngle: 144,\n            color: [\n                [1, '#FF0000']\n            ]\n        };\n    } else if (value >= 90) {\n        return {\n            splitNumber: 1, //刻度数量\n            min: 90,\n            max: 100,\n            startAngle: -18,\n            endAngle: -45,\n            color: [\n                [1, '#60b044']\n            ]\n        };\n    } else {\n        return {\n            splitNumber: 6, //刻度数量\n            min: 30,\n            max: 90,\n            startAngle: 144,\n            endAngle: -18,\n            color: [\n                [1, '#ffce00']\n            ]\n        };\n    }\n};\nvar makeSeries = function() {\n    var series = [];\n    dataAll.forEach(function(item, index) {\n        let style = getStyle(item[1]);\n        series.push({\n            name: item[index],\n            left: 0,\n            center: position[index],\n            type: 'gauge',\n            splitNumber: 10, //刻度数量\n            min: 0,\n            max: (index+1)*100,\n            radius: '33.3%', //图表尺寸\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    width: 2,\n                    shadowBlur: 0,\n                    color: [\n                        [1, '#24273e']\n                    ]\n                }\n            },\n            axisTick: {\n                show: true,\n                lineStyle: {\n                    color: '#7887ae',\n                    width: 1\n                },\n                length: 8,\n                splitNumber: 5\n            },\n            splitLine: {\n                show: true,\n                length: 12,\n                lineStyle: {\n                    color: '#7887ae',\n                }\n            },\n            axisLabel: {\n                distance: 2,\n                textStyle: {\n                    color: \"#7887ae\",\n                    fontSize: \"14\",\n                },\n                formatter: function(e) {\n                    switch (e + \"\") {\n                        case \"0\":\n                            return \"0%\";\n                        default:\n                            return e;\n                    }\n                }\n\n            },\n            pointer: { //仪表盘指针\n                show: 0\n            },\n            title: {\n                offsetCenter: [0, '90%']\n            },\n            detail: {\n                show: false\n            },\n            data: [{\n                name: item[0],\n                value: item[1]\n            }]\n        });\n        series.push({\n            name: item[0],\n            type: 'gauge',\n            center: position[index],\n            splitNumber: style.splitNumber, //刻度数量\n            min: style.min,\n            max: style.max,\n            startAngle: style.startAngle,\n            endAngle: style.endAngle,\n            radius: '33.3%', //图表尺寸\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    width: 2,\n                    shadowBlur: 0,\n                    color: style.color\n                }\n            },\n            axisTick: {\n                show: true,\n                lineStyle: {\n                    color: 'auto',\n                    width: 1\n                },\n                length: 8,\n                splitNumber: 5\n            },\n            splitLine: {\n                show: true,\n                length: 12,\n                lineStyle: {\n                    color: 'auto',\n                }\n            },\n            axisLabel: {\n                show: false\n            },\n            pointer: { //仪表盘指针\n                show: 1,\n                length: '70%',\n                width: 2\n            },\n            detail: {\n                borderColor: '#ccc',\n                shadowColor: '#ccc', //默认透明\n                shadowBlur: 5,\n                offsetCenter: [0, '30%'], // x, y，单位px\n                textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n                    fontWeight: 'bolder',\n                    color: '#333',\n                    fontSize: 35,\n                },\n                formatter: '{value}'\n            },\n            data: [{\n                name: \"\",\n                value: item[1]\n            }]\n        });\n\n    });\n    return series;\n}\nvar list = makeSeries();\noption = {\n    backgroundColor: '#fff',\n\n    tooltip: {\n        formatter: \"{a} {b} : {c}\"\n    },\n    series: list\n};","html":"","externalScripts":"","updaterUID":"bd-3990257290","theme":"","layout":"","viewCount":928,"userName":"w***T","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS1dSrYiMQ.png?v=1530792655354","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","tooltip"],"customTags":[],"updaterUserName":"w***T"}}