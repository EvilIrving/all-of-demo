{"status":0,"data":{"cid":"xz3RJ015k","authorUid":"bd-1006967428","authorUserName":"w***7","title":"双Y轴横向柱状图带排名","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-10-17T07:27:49.000Z","lastUpdateTime":"2019-10-17T07:27:49.000Z","auth":2,"uid":"bd-1006967428","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-17T07:27:49.000Z","code":"data = [{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n}, {\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n{\n    name: '姓名1',\n    value: (Math.random() * 10).toFixed(0),\n    sum: 10\n},\n];\ngetArrByKey = (data, k) => {\n    let key = k || \"value\";\n    let res = [];\n    if (data) {\n        data.forEach(function (t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n};\nopt = {\n    index: 0\n}\ncolor = ['#FC619D', '#FF904D', '#48BFE3'];\ndata = data.sort((a,b) => {\n    return b.value - a.value\n});\noption = {\n    grid: {\n        top: '2%',\n        bottom: -15,\n        right: 30,\n        left: -30,\n        containLabel: true\n    },\n    xAxis: {\n        show: false\n    },\n    yAxis: [{\n        triggerEvent: true,\n        show: true,\n        inverse: true,\n        data: getArrByKey(data, 'name'),\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            color: '#666',\n            align: 'left',\n            margin: 80,\n            fontSize: 13,\n            formatter: function (value, index) {\n                if (opt.index === 0 && index < 3) {\n                    return '{idx' + index + '|' + (1 + index) + '} {title|' + value + '}'\n                } else if (opt.index !== 0 && (index + opt.index) < 9) {\n                    return '{idx|0' + (1 + index + opt.index) + '} {title|' + value + '}'\n                } else {\n                    return '{idx|' + (1 + index + opt.index) + '} {title|' + value + '}'\n                }\n            },\n            rich: {\n                idx0: {\n                    color: '#FB375E',\n                    backgroundColor: '#FFE8EC',\n                    borderRadius: 100,\n                    padding: [5, 8]\n                },\n                idx1: {\n                    color: '#FF9023',\n                    backgroundColor: '#FFEACF',\n                    borderRadius: 100,\n                    padding: [5, 8]\n                },\n                idx2: {\n                    color: '#01B599',\n                    backgroundColor: '#E1F7F3',\n                    borderRadius: 100,\n                    padding: [5, 8]\n                },\n                idx: {\n                    color: '#333',\n                    borderRadius: 100,\n                    padding: [5, 8]\n                },\n                title: {\n                    width: 165\n                }\n            }\n        },\n    }, {\n        triggerEvent: true,\n        show: true,\n        inverse: true,\n        data: getArrByKey(data, 'name'),\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            color: '#666',\n            align: 'left',\n            margin: 20,\n            fontSize: 13,\n            formatter: function (value, index) {\n                return '错误个数：' + data[index].value + '个    正确率：' + (data[index].value / data[index].sum * 100).toFixed(2) + '%'\n            },\n        }\n    }],\n    series: [{\n        name: '条',\n        type: 'bar',\n        yAxisIndex: 0,\n        data: data,\n        barWidth: 10,\n        itemStyle: {\n            color: (val) => {\n                if (val.dataIndex < 3 && opt.index === 0) {\n                    return color[val.dataIndex];\n                } else {\n                    return '#1990FF'\n                }\n            },\n            barBorderRadius: 30,\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1006967428","theme":"","layout":"","viewCount":12603,"userName":"w***7","commentCount":0,"starCount":101,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xz3RJ015k.png?v=1571297270022","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"w***7"}}