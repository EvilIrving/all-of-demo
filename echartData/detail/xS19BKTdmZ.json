{"status":0,"data":{"cid":"xS19BKTdmZ","authorUid":"bd-2852340314","authorUserName":"c***k","title":"东南亚十八国GDP总量","description":"GDP单位:百万美元","latestVersion":4,"alwaysLatest":1,"createTime":"2017-06-22T04:36:18.000Z","lastUpdateTime":"2017-06-22T04:36:18.000Z","auth":2,"uid":"bd-2852340314","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"3.6.2","versionCreateTime":"2017-06-28T07:14:14.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1498630743837-BygD9pgVW.json\";\r\n\r\n\r\nmyChart.showLoading();\r\n\r\n$.get(uploadedDataURL, function(mapJson) {\r\n    myChart.hideLoading();\r\n\r\n    echarts.registerMap('SoutheastAsia', mapJson);\r\n    let geoCoordMap = {\r\n        '缅甸': [96.328125, 24.046463999666567],\r\n        '泰国': [102.83203125, 16.425547506916725],\r\n        '马来西亚': [101.71142578125, 3.1843944923387464],\r\n        '印度尼西亚': [106.80908203125, -6.162400921526583],\r\n        '菲律宾': [120.58593749999999, 15.60187487673981],\r\n        '新加坡': [103.853759765625, 1.2962761196418218],\r\n        '柬埔寨': [105.1171875, 12.554563528593656],\r\n        '越南': [105.8203125, 21.12549763660628],\r\n        '老挝': [103.20556640625, 19.476950206488414],\r\n        '印度': [77.23388671874999, 28.65203063036226],\r\n        '尼泊尔': [85.2978515625, 27.761329874505233],\r\n        '马尔代夫': [73.212890625, 2.986927393334876],\r\n        '巴勒斯坦': [71.5869140625, 34.05265942137599],\r\n        '孟加拉': [90.3955078125, 23.926013033021192],\r\n        '不丹': [90.791015625, 27.68352808378776],\r\n        '斯里兰卡': [80.5078125, 7.623886853120049],\r\n        '文莱': [114.76318359375, 4.718777551249855],\r\n        '统计': [133.20556640625, 14.476950206488414],\r\n        'GDP-缅甸': [101.328125, 46.476950206488411],\r\n        'GDP-泰国': [121.20556640625, 39.476950206488418],\r\n        'GDP-马来西亚': [80.328125, -14.476950206488414],\r\n        'GDP-印度尼西亚': [129.20556640625, -15.476950206488414],\r\n        'GDP-菲律宾': [138.00488281250000, 17.476950206488414],\r\n        'GDP-新加坡': [99.328125, -21.476950206488414],\r\n        'GDP-柬埔寨': [133.20556640625, 27.476950206488414],\r\n        'GDP-越南': [129.20556640625, 33.941191793456518],\r\n        'GDP-老挝': [115.20556640625, 45.476950206488418],\r\n        'GDP-印度': [55.20556640625, 31.476950206488411],\r\n        'GDP-尼泊尔': [78.20556640625, 40.476950206488418],\r\n        'GDP-马尔代夫': [58.20556640625, -9.476950206488414],\r\n        'GDP-巴勒斯坦': [65.20556640625, 44.476950206488411],\r\n        'GDP-孟加拉': [58.20556640625, 19.476950206488407],\r\n        'GDP-不丹': [91.20556640625, 42.476950206488418],\r\n        'GDP-斯里兰卡': [58.20556640625, 9.476950206488414],\r\n        'GDP-文莱': [135.20556640625, 4.476950206488407],\r\n    };\r\n    let data = [{\r\n        name: '缅甸',\r\n        value: 4822023\r\n    }, {\r\n        name: '泰国',\r\n        value: 6553255\r\n    }, {\r\n        name: '马来西亚',\r\n        value: 2949131\r\n    }, {\r\n        name: '印度尼西亚',\r\n        value: 5187582\r\n    }, {\r\n        name: '菲律宾',\r\n        value: 3590347\r\n    }, {\r\n        name: '新加坡',\r\n        value: 917092\r\n    }, {\r\n        name: '柬埔寨',\r\n        value: 632323\r\n    }, {\r\n        name: '越南',\r\n        value: 19317568\r\n    }, {\r\n        name: '老挝',\r\n        value: 9919945\r\n    }, {\r\n        name: '印度',\r\n        value: 69919945\r\n    }, {\r\n        name: '尼泊尔',\r\n        value: 19919945\r\n    }, {\r\n        name: '马尔代夫',\r\n        value: 6919945\r\n    }, {\r\n        name: '巴勒斯坦',\r\n        value: 29919945\r\n    }, {\r\n        name: '孟加拉',\r\n        value: 9919945\r\n    }, {\r\n        name: '不丹',\r\n        value: 1219945\r\n    }, {\r\n        name: '斯里兰卡',\r\n        value: 1919945\r\n    }, {\r\n        name: '文莱',\r\n        value: 999945\r\n    }];\r\n\r\n    let pathname = [\r\n        'GDP-缅甸',\r\n        'GDP-泰国',\r\n        'GDP-马来西亚',\r\n        'GDP-印度尼西亚',\r\n        'GDP-菲律宾',\r\n        'GDP-新加坡',\r\n        'GDP-柬埔寨',\r\n        'GDP-越南',\r\n        'GDP-老挝',\r\n        'GDP-印度',\r\n        'GDP-尼泊尔',\r\n        'GDP-马尔代夫',\r\n        'GDP-巴勒斯坦',\r\n        'GDP-孟加拉',\r\n        'GDP-不丹',\r\n        'GDP-斯里兰卡',\r\n        'GDP-文莱'\r\n    ];\r\n    // const pathname = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];\r\n\r\n\r\n    function formtVData(geoData, data, srcNam) {\r\n        var tGeoDt = [];\r\n        for (var i = 0, len = data.length; i < len; i++) {\r\n            var tNam = data[i].name\r\n            if (srcNam[i] != tNam) {\r\n                tGeoDt.push({\r\n                    name: tNam,\r\n                    value: geoData[tNam]\r\n                });\r\n            }\r\n\r\n            tGeoDt.push({\r\n                name: srcNam[i],\r\n                value: geoData[srcNam[i]],\r\n                symbolSize: 8,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'red',\r\n                        borderColor: '#000'\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n        return tGeoDt;\r\n    }\r\n\r\n    function formtGCData(geoData, data, srcNam, dest) {\r\n        var tGeoDt = [];\r\n        if (dest) {\r\n            for (let i = 0, len = data.length; i < len; i++) {\r\n                if (srcNam[i] != data[i].name) {\r\n                    tGeoDt.push({\r\n                        coords: [geoData[srcNam[i]], geoData[data[i].name]]\r\n                    });\r\n                }\r\n            }\r\n        } else {\r\n            for (let i = 0, len = data.length; i < len; i++) {\r\n                if (srcNam[i] != data[i].name) {\r\n                    tGeoDt.push({\r\n                        coords: [geoData[data[i].name], geoData[srcNam[i]]]\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return tGeoDt;\r\n    }\r\n\r\n    let option = {\r\n        backgroundColor: '#000',\r\n        title: {\r\n            show: false,\r\n            text: '东南亚各国GDP总量',\r\n            subtext: 'GDP单位:百万美元',\r\n            left: 'center',\r\n            top: 'top',\r\n            textStyle: {\r\n                fontSize: 25,\r\n                color: 'rgba(255,255,255, 0.9)'\r\n            }\r\n        },\r\n        tooltip: {\r\n            trigger: 'item',\r\n            showDelay: 0,\r\n            transitionDuration: 0.2,\r\n            formatter: function(params) {\r\n                var value = (params.value + '').split('.');\r\n                value = value[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,');\r\n                return params.seriesName + '<br/>' + params.name + ': ' + value;\r\n            }\r\n        },\r\n        visualMap: {\r\n            show: false,\r\n            left: 'right',\r\n            min: 500000,\r\n            max: 38000000,\r\n            inRange: {\r\n                color: ['#CCC', '#FEFEFE', '#EFEFEF', '#EEEEEE', '#EDEDED']\r\n            },\r\n            // text: ['High', 'Low'], // 文本，默认为数值文本\r\n            textStyle: {\r\n                fontSize: 16,\r\n                color: '#EFEFEF'\r\n            },\r\n            calculable: true\r\n        },\r\n        geo: {\r\n            map: 'SoutheastAsia',\r\n            label: {\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            // roam: true,\r\n            silent: false,\r\n            center: ['10%', '30%'],\r\n            scaleLimit: {\r\n                min: 0.75,\r\n                max: 2\r\n            },\r\n            aspectScale: 1.3,\r\n            itemStyle: {\r\n                normal: {\r\n                    shadowColor: '#002B45',\r\n                    shadowBlur: 4,\r\n                    shadowOffsetX: -12,\r\n                    areaColor: '#005FB2',\r\n                    borderColor: '#000'\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2a333d'\r\n                }\r\n            },\r\n            \r\n        },\r\n        series: [ \r\n            {\r\n            name: '定位',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: [{name:'云南',value:[106,25]}],\r\n            symbolSize: function(val) {\r\n                return val[2] / 2;\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true, \r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#0ce928', \r\n                    shadowBlur: 20,\r\n                    shadowColor: '#0ce928', \r\n                }\r\n            },\r\n            zlevel: 1\r\n        },\r\n            \r\n            {\r\n\r\n            type: 'lines',\r\n            zlevel: 2,\r\n            effect: {\r\n                show: true,\r\n                period: 6,\r\n                trailLength: 0.1,\r\n                color: 'maroon',\r\n                symbol: 'arrow',\r\n                symbolSize: 8\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#efefef',\r\n                    width: 1,\r\n                    opacity: 0.4,\r\n                    curveness: 0.2\r\n                }\r\n            },\r\n            data: formtGCData(geoCoordMap, data, pathname, false)\r\n        }, {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                period: 4,\r\n                scale: 2.5,\r\n                brushType: 'stroke'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}'\r\n                }\r\n            },\r\n            symbolSize: 5,\r\n            itemStyle: {\r\n                normal: {\r\n                    shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                    shadowBlur: 20,\r\n                    color: '#EFEFEF',\r\n                    fontWeight: 400,\r\n                    borderColor: '#FFF'\r\n                }\r\n            },\r\n            data: formtVData(geoCoordMap, data, pathname)\r\n        }]\r\n    };\r\n\r\n\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-2852340314","theme":"","layout":"","viewCount":5976,"userName":"c***k","commentCount":2,"starCount":19,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS19BKTdmZ.png?v=1498634054716","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"c***k"}}