{"status":0,"data":{"cid":"xTSki-xBRW","authorUid":"bd-2942162721","authorUserName":"向***蓉","title":"自动化用例调用链模拟","description":"自动化用例调用链模拟","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-29T03:58:28.000Z","lastUpdateTime":"2020-04-29T03:58:28.000Z","auth":2,"uid":"bd-2942162721","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-29T03:58:28.000Z","code":"\nvar apis = [\n    { uri: '1', status: 1 },\n    { uri: '2', status: 1 },\n    { uri: '3', status: 1 },\n    { uri: '4', status: 1 },\n    { uri: '5', status: 1 },\n    { uri: '6', status: 1 },\n    { uri: '7', status: 1 },\n    { uri: '8', status: 0 },\n    { uri: '9', status: 1 },\n    { uri: '10', status: 1 },\n    { uri: '11', status: 1 },\n    { uri: '12', status: 1 },\n    { uri: '13', status: 1 },\n    { uri: '14', status: 1 } ,\n    { uri: '15', status: 1 } ,\n    { uri: '16', status: 1 } ,\n    { uri: '17', status: 1 } ,\n    { uri: '18', status: 1 } ,\n    { uri: '19', status: 0 } ,\n    { uri: '20', status: 1 } ,\n    { uri: '21', status: 1 } ,\n    { uri: '22', status: 1 } ,\n    { uri: '23', status: 1 } ,\n    { uri: '24', status: 1 } ,\n    { uri: '25', status: 1 } ,\n    { uri: '26', status: 1 } ,\n    { uri: '27', status: 1 } ,\n    { uri: '28', status: 1 } ,\n    { uri: '29', status: 1 } ,\n    { uri: '30', status: 1 } ,\n    { uri: '31', status: 1 }  \n]\n\nvar xn = 8;\nvar ynj = [200, 400, 600, 800, 1000, 1200, 1400, 1600]\nvar yno = [1600, 1400, 1200, 1000, 800, 600, 400, 200]\nvar data = apis.map((el, ei) => {\n  let rn = Math.floor(ei / xn);\n  return {\n    name: el.uri,\n    draggable: false,\n    value: ((rn + 1) % 2 !== 0) ? \n      [ynj[ei % xn], 100 * (rn + 1)] : // 奇数行\n      [yno[ei % xn], 100 * (rn + 1)], // 偶数行\n    itemStyle: {\n      color: el.status === 1 ? '#90EE90' : '#FFA500'\n    }\n  }\n})\nvar links = apis.map((el, ei) => {\n  if ((ei + 1) < apis.length) {\n    return {\n      source: el.uri,\n      value: '',\n      target: apis[ei + 1].uri\n    }\n  } else {\n    return {}\n  }\n})\noption =  {\n    grid: [\n      {x: 40, y: 20, width: \"95%\", height: '95%'   ,\n      tooltip:{\n          trigger: 'item',\n          formatter: \"{a}\"\n        }, \n      }\n    ],\n    egend: {\n      data:['自动化用例']\n    },\n    tooltip:\n    {\n      trigger: 'axis',\n    },\n    xAxis: [\n      { gridIndex: 0, type:\"value\", show:false },\n      { gridIndex: 0, type:\"value\", show:false }\n    ],\n    yAxis: [\n      { \n        gridIndex: 0,\n        type:\"category\",\n        data:[\"\"],\n        axisTick: {show: false},\n        axisLine: {show: false}\n      },\n      { gridIndex: 0, show: false,  type: 'value', inverse: true, max: 600 }\n    ],\n    axisPointer: {\n      label: {\n        backgroundColor: '#777'\n      }\n    },\n    series: [\n      {\n        name: '自动化用例',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        barWidth: '100%',\n        barGap: 0,\n        data: [2000],\n        itemStyle: {\n          color: '#85C5ED'\n        },\n        label:{\n          show: true,\n          color: '#000000',\n          position: [6, 45],\n          formatter: \"{a}\"\n        },\n        zlevel: 1\n      },\n      {\n        type: 'graph',\n        coordinateSystem: 'cartesian2d', // 使用二维的直角坐标系\n        legendHoverLink: false,\n        hoverAnimation: true,\n        nodeScaleRatio: false,\n        symbol: 'circle', // 节点显示形状\n        symbolSize: 30, // 节点大小\n        edgeSymbol: ['none', 'arrow'], // 线两边的标记\n        symbolOffset: [0, 0],\n        edgeSymbolSize: [0, 8], // 标记大小\n        edgeLabel: {\n          show: false,\n          normal: {\n            show: true,\n            position: 'middle',\n            textStyle: {\n                fontSize: 12\n            },\n            formatter: \"{c}\"\n          }\n        },\n        focusNodeAdjacency: true, // 鼠标移到节点上突出显示节点以及节点的边和邻接节点\n        roam: false, // 关闭鼠标缩放\n        itemStyle: {\n          normal: {\n            label: {\n              show: true,\n              textStyle: {\n                  color: '#333'\n              }\n            },\n            nodeStyle : {\n              brushType : 'both',\n              borderColor : 'rgba(255,215,0,0.4)',\n              borderWidth : 1\n            }\n          }\n        },\n        lineStyle: {\n          normal: {\n            width: 1,\n            shadowColor: 'none',\n            color:'#000000',\n          },\n        },\n        tooltip: {\n            formatter: '{b}'\n        },\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        zlevel: 10,\n        data: data,\n        links: links\n      }\n    ] \n  };","html":"","externalScripts":"","updaterUID":"bd-2942162721","theme":"","layout":"","viewCount":3606,"userName":"向***蓉","commentCount":0,"starCount":26,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTSki-xBRW.png?v=1588132708305","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-graph","tooltip"],"customTags":["流程图","调用链","贪吃蛇"],"updaterUserName":"向***蓉"}}