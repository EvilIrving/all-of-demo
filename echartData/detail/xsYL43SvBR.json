{"status":0,"data":{"cid":"xsYL43SvBR","authorUid":"obd-olLAU1BTSerG8y0U7GNm2DkGxr9dK0e","authorUserName":"曹***灰","title":"饼图 总量+分量","description":"饼图pie","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-27T03:29:13.000Z","lastUpdateTime":"2021-07-27T03:29:13.000Z","auth":1,"uid":"obd-olLAU1BTSerG8y0U7GNm2DkGxr9dK0e","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-27T03:29:13.000Z","code":"var data = [\n    {\n        name: '当年增长',\n        value: 20000,\n        color: ['#FE805A', '#FF4340', '#552B29'],\n    },\n    {\n        name: '公司',\n        value: 10000,\n        color: ['#3CFFD3', '#1E83FF', '#004378'],\n    },\n    {\n        name: '零售',\n        value: 5000,\n        color: ['#FFDB47', '#FAB000', '#6C570F'],\n    },\n    {\n        name: '银行卡',\n        value: 5000,\n        color: ['#BBFDFF', '#8DFBFF', '#004378'],\n    },\n];\n\nvar titleArr = [],\n    seriesArr = [];\ndata.forEach(function (item, index) {\n    titleArr.push({\n        text: item.name == '当年新增' ? item.name + '→' : item.name,\n        left: index * 20 + 20 + '%',\n        top: '65%',\n        textAlign: 'center',\n        textStyle: {\n            fontWeight: 'normal',\n            fontSize: '12',\n            color: item.color[0],\n            textAlign: 'center',\n        },\n    });\n    let value = (item.value + '').replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, '$1,');\n    seriesArr.push({\n        name: item.name,\n        type: 'pie',\n        clockWise: false,\n        radius: [60, 70],\n        itemStyle: {\n            normal: {\n                color: item.color[3],\n                shadowColor: item.color[3],\n                shadowBlur: 0,\n                label: {\n                    show: false,\n                },\n                labelLine: {\n                    show: false,\n                },\n            },\n        },\n        hoverAnimation: false,\n        center: [index * 20 + 20 + '%', '50%'],\n        data: [\n            {\n                // 饼图内部文字相关设置\n                value: item.value,\n                itemStyle: {\n                    normal: {\n                        color: {\n                            type: 'linear',\n                            colorStops: [\n                                {\n                                    offset: 0,\n                                    color: item.color[0], // 0% 处的颜色\n                                },\n                                {\n                                    offset: 1,\n                                    color: item.color[1], // 100% 处的颜色\n                                },\n                            ],\n                            global: false, // 缺省为 false\n                        },\n                        label: {\n                            show: false,\n                        },\n                        labelLine: {\n                            show: false,\n                        },\n                    },\n                },\n                label: {\n                    normal: {\n                        formatter: function (params) {\n                            return '在线统计' + '\\n' + params.value;\n                        },\n                        position: 'center',\n                        show: true,\n                        textStyle: {\n                            fontSize: '12',\n                            fontWeight: 'lighter',\n                            color: \"rgba(210, 216, 221, 1)\",\n                        },\n                    },\n                },\n            },\n            // 剩余内容\n            {\n                value: 100000 - item.value,\n                name: 'invisible',\n                itemStyle: {\n                    normal: {\n                        color: item.color[2],\n                    },\n\n                    emphasis: {\n                        scale: false,\n                        // color: item.color[3],\n                    },\n                },\n            },\n        ],\n    });\n});\n\noption = {\n    backgroundColor: 'rgba(0, 46, 82, 1)',\n    title: titleArr,\n    series: seriesArr,\n    tooltip: {\n        show: true,\n        trigger: 'item',\n        // axisPointer: {\n        //   type: \"none\",\n        // },\n        formatter: function (params) {\n            console.log(params);\n            let value = (params.data.value + '').replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, '$1,');\n            return params.seriesName + ' : ' + value;\n        },\n    },\n};\n","html":"","externalScripts":"","updaterUID":"obd-olLAU1BTSerG8y0U7GNm2DkGxr9dK0e","theme":"","layout":"","viewCount":0,"userName":"曹***灰","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xsYL43SvBR.png?v=1627356554073","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"曹***灰"}}