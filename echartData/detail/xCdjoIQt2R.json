{"status":0,"data":{"cid":"xCdjoIQt2R","authorUid":"obd-oEygZsDTLxuwmnak0OUEpb82X1KBU4e","authorUserName":"谢***4","title":"双Y轴坐标图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-27T06:54:18.000Z","lastUpdateTime":"2021-10-27T06:54:18.000Z","auth":1,"uid":"obd-oEygZsDTLxuwmnak0OUEpb82X1KBU4e","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-27T06:54:18.000Z","code":"let color = ['#1890FF', '#00CA69'];\r\nfunction _getMaxValue(arr) {\r\n  const max = Math.max(...arr);\r\n  // 这样处理是为了不让最大值刚好到坐标轴最顶部\r\n  return Math.ceil(max / 9.5) * 10;\r\n}\r\nfunction _getMinValue(arr) {\r\n  const min = Math.min(...arr);\r\n  // 这样处理是为了不让最大值刚好到坐标轴最底部\r\n  return Math.floor(min / 12) * 10;\r\n}\r\nlet xAxisData = ['一季度', '二季度', '三季度', '四季度'];\r\nlet yAxisData1 = [100, 1308, 3500, 1703];\r\nlet yAxisData2 = [233, 233, 200, 180];\r\nconst min1 = _getMinValue(yAxisData1),\r\n    min2 = _getMinValue(yAxisData2),\r\n    max1 = _getMaxValue(yAxisData1),\r\n    max2 = _getMaxValue(yAxisData2);\r\nconst hexToRgba = (hex, opacity) => {\r\n    let rgbaColor = '';\r\n    let reg = /^#[\\da-f]{6}$/i;\r\n    if (reg.test(hex)) {\r\n        rgbaColor = `rgba(${parseInt('0x' + hex.slice(1, 3))},${parseInt('0x' + hex.slice(3, 5))},${parseInt(\r\n            '0x' + hex.slice(5, 7)\r\n        )},${opacity})`;\r\n    }\r\n    return rgbaColor;\r\n};\r\n\r\noption = {\r\n    backgroundColor: '#fff',\r\n    color: color,\r\n    legend: {\r\n        top: 20,\r\n       right:\"10%\"\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        formatter: function (params) {\r\n            let html = '';\r\n            params.forEach((v) => {\r\n                html += `<div style=\"color: #666;font-size: 14px;line-height: 24px\">\r\n                <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${\r\n                    color[v.componentIndex]\r\n                };\"></span>\r\n                ${v.seriesName}${v.name}  \r\n                <span style=\"color:${color[v.componentIndex]};font-weight:700;font-size: 12px;margin-left:5px\">${\r\n                    v.value\r\n                }</span>\r\n                万元`;\r\n            });\r\n            return html;\r\n        },\r\n        extraCssText: 'background: #fff; border-radius: 0;box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);color: #333;fontSize:10px',\r\n        // axisPointer: {\r\n        //     type: 'shadow',\r\n        //     shadowStyle: {\r\n        //         color: '#ffffff',\r\n        //         shadowColor: 'rgba(225,225,225,1)',\r\n        //         shadowBlur: 5\r\n        //     }\r\n        // }\r\n    },\r\n    grid: {\r\n        top: 100,\r\n        containLabel: true,\r\n    },\r\n    xAxis: [\r\n        {\r\n            type: 'category',\r\n            boundaryGap: true,\r\n            axisLabel: {\r\n                // formatter: '2020-{value}',\r\n                textStyle: {\r\n                    color: '#333',\r\n                },\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: '#000',\r\n                },\r\n            },\r\n            data: xAxisData,\r\n        },\r\n    ],\r\n    yAxis: [\r\n        {\r\n            type: 'value',\r\n            position: 'left',\r\n            min: min1,\r\n            max: max1,\r\n            splitNumber: 5,\r\n            interval: (max1 - min1) / 5,\r\n            name: '惠民人数（人）',\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#666',\r\n                },\r\n            },\r\n            nameTextStyle: {\r\n                color: '#666',\r\n                fontSize: 12,\r\n                lineHeight: 40,\r\n            },\r\n            // 分割线\r\n            splitLine: {\r\n                lineStyle: {\r\n                    color: '#E9E9E9',\r\n                },\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n        },\r\n        {\r\n            type: 'value',\r\n            position: 'right',\r\n            name: '惠民金额（万元）',\r\n            splitNumber: 5,\r\n            interval: (max2 - min2) / 5,\r\n            min: min2,\r\n            max: max2,\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#666',\r\n                },\r\n            },\r\n            nameTextStyle: {\r\n                color: '#666',\r\n                fontSize: 12,\r\n                lineHeight: 40,\r\n            },\r\n            // 分割线\r\n            splitLine: {\r\n                lineStyle: {\r\n                    color: '#E9E9E9',\r\n                },\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n        },\r\n    ],\r\n    series: [\r\n        {\r\n            name: '惠民人数',\r\n            type: 'line',\r\n            smooth: true,\r\n            symbolSize: 8,\r\n            zlevel: 3,\r\n            symbol: 'circle', //数据交叉点样式\r\n            areaStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        [\r\n                            {\r\n                                offset: 0,\r\n                                color: hexToRgba(color[0], 0.5),\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: hexToRgba(color[0], 0.1),\r\n                            },\r\n                        ],\r\n                        false\r\n                    ),\r\n                    shadowColor: hexToRgba(color[0], 0.1),\r\n                    shadowBlur: 3,\r\n                },\r\n            },\r\n            data: yAxisData1,\r\n            yAxisIndex: 0, // 通过这个判断左右\r\n        },\r\n        {\r\n            name: '惠民金额',\r\n            type: 'line',\r\n            smooth: true,\r\n            symbolSize: 8,\r\n            zlevel: 3,\r\n            \r\n            symbol: 'circle', //数据交叉点样式 (实心点)\r\n            areaStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        [\r\n                            {\r\n                                offset: 0,\r\n                                color: hexToRgba(color[1], 0.5),\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: hexToRgba(color[1], 0.1),\r\n                            },\r\n                        ],\r\n                        false\r\n                    ),\r\n                    shadowColor: hexToRgba(color[1], 0.1),\r\n                    shadowBlur: 10,\r\n                },\r\n            },\r\n            data: yAxisData2,\r\n            yAxisIndex: 1, // 通过这个判断左右\r\n        },\r\n    ],\r\n};\r\n","html":"","externalScripts":"","updaterUID":"obd-oEygZsDTLxuwmnak0OUEpb82X1KBU4e","theme":"","layout":"","viewCount":0,"userName":"谢***4","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCdjoIQt2R.png?v=1635317658609","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"谢***4"}}