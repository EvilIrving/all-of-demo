{"status":0,"data":{"cid":"xJjefxuGiy","authorUid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","authorUserName":"阳***2","title":"一周附行式专用钞投放统计","description":"单位：万元","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-20T01:44:18.000Z","lastUpdateTime":"2020-05-20T01:44:18.000Z","auth":2,"uid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-20T01:44:18.000Z","code":"let oldData = [{\n        \"RPT_DATE\": \"05-01\",\n        \"CIRCULATION_NOTE\": 1,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-01\",\n        \"CIRCULATION_NOTE\": 2,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-01\",\n        \"CIRCULATION_NOTE\": 3,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-02\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-02\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-02\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-03\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-03\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-03\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n   \n    {\n        \"RPT_DATE\": \"05-04\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-04\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-04\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    \n    {\n        \"RPT_DATE\": \"05-05\",\n        \"CIRCULATION_NOTE\": 1,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-05\",\n        \"CIRCULATION_NOTE\": 2,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-05\",\n        \"CIRCULATION_NOTE\": 3,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    \n    {\n        \"RPT_DATE\": \"05-06\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-06\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-06\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-07\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-07\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-07\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-08\",\n        \"CIRCULATION_NOTE\": 5,\n        \"OPERATE_DEPARTMENT_NAME\": \"第一金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-08\",\n        \"CIRCULATION_NOTE\": 6,\n        \"OPERATE_DEPARTMENT_NAME\": \"第二金库投放\"\n    },\n    {\n        \"RPT_DATE\": \"05-08\",\n        \"CIRCULATION_NOTE\": 7,\n        \"OPERATE_DEPARTMENT_NAME\": \"第三金库投放\"\n    },\n];\n\n\n\nlet dateArr = [],\n    nameArr = [],\n    dataset;\n\noldData.forEach((item) => {\n    if (dateArr.indexOf(item.RPT_DATE) < 0) {\n        dateArr.push(item.RPT_DATE);\n    }\n    if (nameArr.indexOf(item.OPERATE_DEPARTMENT_NAME) < 0) {\n        nameArr.push(item.OPERATE_DEPARTMENT_NAME);\n    }\n\n});\n\n\ndataset = nameArr.map((OPERATE_DEPARTMENT_NAME) => {\n    return {\n        name: OPERATE_DEPARTMENT_NAME,\n        stack: \"营运\",\n        type: \"bar\",\n        data: []\n    };\n});\n\nfor (var i = 0; i < dataset.length; i++) {\n    for (var j = 0; j < oldData.length; j++) {\n        for (var k = 0; k < dateArr.length; k++) {\n            if (dataset[i].name == oldData[j].OPERATE_DEPARTMENT_NAME &&\n                dateArr[k] == oldData[j].RPT_DATE) {\n                dataset[i].data[k] = oldData[j].CIRCULATION_NOTE;\n            }\n        }\n    }\n}\n\n\n/*\ndateArr = [\"05-01\", \"05-02\", \"05-03\", \"05-04\", \"05-05\", \"05-06\", \"05-07\", \"05-08\"];\nnameArr = [\"第一金库投放\", \"第二金库投放\", \"第三金库投放\"];\ndataset = [ { name: \"第一金库投放\", stack: \"营运\", data: [1, 5, 5, 5, 1, 5, 5, 5] }, \n            { name: \"第二金库投放\", stack: \"营运\", data: [2, 6, 6, 6, 2, 6, 6, 6] }, \n            { name: \"第三金库投放\", stack: \"营运\", data: [3, 7, 7, 7, 3, 7, 7, 7] }];\n*/\n\noption = {\n    title: {\n        text: '一周附行式专用钞投放统计',\n        subtext: '单位：万元',\n        left: 'center',\n        textStyle: {\n            align: 'center',\n        }\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    legend: {\n        data: nameArr,\n        bottom: 0,\n        textStyle: {\n            fontSize: 18\n        }\n    },\n    bottom: '3%',\n    grid: {\n        left: '3%',\n        right: '4%',\n        containLabel: true\n    },\n    xAxis: [{\n        type: 'category',\n        data: dateArr\n    }],\n    yAxis: [{\n        type: 'value'\n    }],\n    series: dataset\n};","html":"","externalScripts":"","updaterUID":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","theme":"","layout":"","viewCount":189,"userName":"阳***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJjefxuGiy.png?v=1589939058961","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"阳***2"}}