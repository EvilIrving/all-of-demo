{"status":0,"data":{"cid":"xhMah-a1km","authorUid":"bd-2867368082","authorUserName":"王***5","title":"深圳市南山区地图结合热力图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-25T08:29:35.000Z","lastUpdateTime":"2020-03-25T08:29:35.000Z","auth":2,"uid":"bd-2867368082","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-25T08:29:35.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1585121033146-muyk7nt9x.json\";\r\n$.get(uploadedDataURL, function(geoJson) {\r\n    // console.log(geoJson)\r\n    echarts.registerMap('nanshan', geoJson);\r\n    let data = [\r\n        ['113.92706199999998', '22.542736', 41334],\r\n        ['113.93299300000001', '22.507888', 7883],\r\n        [\"113.99469899999997\", \"22.523346\", 5598],\r\n        [\"113.99408900000003\", \"22.52308\", 16346],\r\n        [\"113.87163800000008\", \"22.474423\", 11346],\r\n        ['98.277304', '39.786529', 2686],\r\n        ['114.017382', '22.604341', 2468],\r\n        ['113.99033800000007', '22.62961', 11202],\r\n        ['113.99033800000007', '22.72961', 6202],\r\n        ['113.91535099999999', '22.483534', 1036],\r\n        ['113.90857800000003', '22.478785', 11936],\r\n        ['113.92434300000002', '22.529534', 21713],\r\n        ['113.95341200000007', '22.556386', 702],\r\n        ['114.204648', '22.601526', 702]\r\n    ];\r\n    let areaData = [];\r\n    data.map(item => { // 扩大热力图效果\r\n        areaData.push(...new Array(3).fill(item));\r\n    });\r\n    let mapMax = Math.max(...data.map(item => item[2]));\r\n    let mapMin = Math.min(...data.map(item => item[2]));\r\n    myChart.setOption(option = {\r\n    backgroundColor: '#ccc',\r\n    tooltip: {\r\n        show: false,\r\n        trigger: 'item',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n\r\n    visualMap: {\r\n        bottom: 20,\r\n        left: 200,\r\n        show: true,\r\n        color: ['#ff4601', '#fffc00', '#87cffa'],\r\n        min: mapMin,\r\n        max: mapMax,\r\n        calculable: true,\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 12\r\n        }\r\n    },\r\n\r\n    grid: {\r\n        height: '100%',\r\n        width: '100%'\r\n    },\r\n\r\n    geo: {\r\n        map: 'nanshan',\r\n        label: {\r\n            show: true\r\n        },\r\n        top: 'center',\r\n        left: '35%',\r\n        roam: false,\r\n        width: '90%',\r\n        height: '95%',\r\n        zoom: 1.01,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                color: '#fff'\r\n            },\r\n            emphasis: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#76b1ff',\r\n                borderColor: '#eee',\r\n                shadowColor: '#76b1ff',\r\n                shadowBlur: 10,\r\n                borderWidth: 1\r\n            },\r\n            emphasis: {\r\n                // 鼠标移入颜色\r\n                areaColor: '#409EFF',\r\n                borderWidth: 0\r\n            }\r\n        }\r\n    },\r\n\r\n    series: [{\r\n        mapType: 'nanshan',\r\n        top: 'center',\r\n        left: 'center',\r\n        width: '65%',\r\n        height: '95%',\r\n\r\n        name: 'AQI',\r\n        type: 'heatmap',\r\n        coordinateSystem: 'geo',\r\n        blurSize: 40,\r\n        data: areaData,\r\n        // 鼠标移入\r\n        emphasis: {\r\n            show: false,\r\n            itemStyle: {\r\n                areaColor: 'rgb(255,255,0,1)'\r\n            }\r\n        }\r\n    }]\r\n})\r\n})\r\n","html":"","externalScripts":"","updaterUID":"bd-2867368082","theme":"","layout":"","viewCount":4289,"userName":"王***5","commentCount":4,"starCount":16,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhMah-a1km.png?v=1585124976094","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-heatmap","tooltip","visualMap"],"customTags":[],"updaterUserName":"王***5"}}