{"status":0,"data":{"cid":"x8dKcDSMfx","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-06-18T02:46:12.000Z","lastUpdateTime":"2021-06-18T02:46:12.000Z","auth":2,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-06-18T02:47:06.000Z","code":"// var getnhname = <#=GRID27.A1$#>;\nvar getnhname = ['教师','学生'];\n// var getnhvalue = <#=GRID27.B1$#>;\nvar getnhvalue = [60,20];\n// var getflname = <#=GRID26.A1$#>;\nvar getflname = ['水费','电费','宿舍'];\n// var getflvalue =<#=GRID26.B1$#>;\nvar getflvalue = [11,55,66];\n\n// 圆环值\n\nvar data1 = [];\nfor (var i = 0; i < getflname.length; i++) {\n    data1.push({ name: getflname[i], value: getflvalue[i] });\n}\n\n// 环内\nvar data2 = [];\nfor (var i = 0; i < getnhname.length; i++) {\n    data2.push({ name: getnhname[i], value: getnhvalue[i] });\n}\n\n// 圆环颜色\n\nvar color = [\n    {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 0,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#4A92FF', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#75D0FF', // 100% 处的颜色\n            },\n        ],\n    },\n    {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 0,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#7488FF', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#7464F2', // 100% 处的颜色\n            },\n        ],\n    },\n    {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 0,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#54C7C0', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#93FFF3', // 100% 处的颜色\n            },\n        ],\n    },\n    {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 0,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#EAC093', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#FDC48D', // 100% 处的颜色\n            },\n        ],\n    },\n];\n\n// 内环边框\nvar innerColor = ['#AFD4FF', '#F1C191'];\nvar dataConsump = [];\nvar dataType = [];\n\nfor (var i = 0; i < data1.length; i++) {\n    dataConsump.push({\n        value: data1[i].value,\n        name: data1[i].name,\n        itemStyle: {\n            normal: {\n                borderWidth: 6,\n                shadowBlur: 5,\n                color: color[i],\n                borderColor: color[i],\n                shadowColor: color[i],\n            },\n        },\n    });\n}\n\nfor (let i = 0; i < data2.length; i++) {\n    dataType.push({\n        name: data2[i].name,\n        value: data2[i].value,\n        itemStyle: {\n            shadowBlur: 7,\n            borderWidth: 2,\n            color: '#010818',\n            borderColor: innerColor[i],\n            shadowColor: innerColor[i],\n        },\n        // selected: i === 0\n    });\n}\n\nvar seriesOption = [\n    {\n        name: '分类',\n        type: 'pie',\n        radius: [0, 46],\n        center: ['50%', '50%'],\n        label: {\n            position: 'inner',\n            color: '#C1F6FF',\n            formatter: function (params) {\n                return params.percent + '%' + '\\n' + '\\n' + params.name;\n            },\n        },\n        selectedMode: true,\n        selectedOffset: 5,\n        itemStyle: {\n            borderColor: 'black',\n            borderWidth: 2,\n        },\n        data: dataType,\n    },\n\n    {\n        name: '',\n        type: 'pie',\n        radius: [62, 67],\n        center: ['50%', '50%'],\n        hoverAnimation: false,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true,\n                    position: 'outside',\n                    color: '#66799D',\n                    padding: [-2, -4, 0, -4],\n                    fontSize: 13,\n                    formatter: function (params) {\n                        var percent = 0;\n                        var total = 0;\n                        for (var i = 0; i < data1.length; i++) {\n                            total += data1[i].value;\n                        }\n                        percent = ((params.value / total) * 100).toFixed(0);\n                        if (params.name !== '') {\n                            return '{percent|' + percent + '%}\\n{hr|}\\n{name|' + params.name + '}';\n                        } else {\n                            return '';\n                        }\n                    },\n\n                    rich: {\n                        name: {\n                            color: '#656565',\n                            fontSize: 14,\n                            padding: [6, 5, 6, 0],\n                            align: 'left',\n                        },\n\n                        hr: {\n                            borderColor: 'rgba(102, 121, 157, 1)',\n                            width: '100%',\n                            borderWidth: 0.5,\n                            height: 0,\n                        },\n\n                        percent: {\n                            color: 'rgba(193, 246, 255, 1)',\n                            fontSize: 14,\n                            padding: [6, 5, 6, 0],\n                            align: 'center',\n                        },\n                    },\n                },\n                labelLine: {\n                    length: 40,\n                    length2: 0,\n                    show: true,\n                    lineStyle: {\n                        color: 'rgba(102, 121, 157, 1)',\n                    },\n                },\n            },\n        },\n        data: dataConsump,\n    },\n];\n\noption = {\n    //backgroundColor: '#010818',\n    color: color,\n    tooltip: {\n        show: false,\n    },\n    legend: {\n        show: false,\n        icon: 'circle',\n        orient: 'horizontal',\n        // x: 'left',\n        data: getflname,\n        right: 340,\n        bottom: 150,\n        align: 'right',\n        textStyle: {\n            color: '#C1F6FF',\n        },\n        itemGap: 20,\n    },\n    toolbox: {\n        show: false,\n    },\n    series: seriesOption,\n};\n\n// let container3 = document.querySelector('#HHH177');\n\n// let echartObj3 = echarts2.init(container3);\n\n// echartObj3.setOption(option3)\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8dKcDSMfx.png?v=1623984426988","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","toolbox","tooltip"],"customTags":[],"updaterUserName":"花***n"}}