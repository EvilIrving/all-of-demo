{"status":0,"data":{"cid":"xB1e8ZJ76W","authorUid":"bd-2939525108","authorUserName":"x***鱼","title":"多图形点击事件","description":"","latestVersion":12,"alwaysLatest":1,"createTime":"2017-10-17T01:47:51.000Z","lastUpdateTime":"2017-10-17T01:47:51.000Z","auth":2,"uid":"bd-2939525108","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":12,"parentVersion":11,"echartsVersion":"3.7.2","versionCreateTime":"2017-10-26T03:36:25.000Z","code":"var xAxisData = ['3月', '4月', '5月', '6月', '7月', '8月', '9月'];\r\nvar firstLineData = [90, 50, 39, 50, 120, 85, '_'];\r\nvar firstLineDottedData = ['_', '_', '_', '_', '_', 85, 100];\r\nvar sendLineData = [70, 50, 50, 87, 90, 42, '_'];\r\nvar sendLineDottedData = ['_', '_', '_', '_', '_', 42, 65];\r\nvar threeLineData = [220, 182, 191, 234, 290, 78, '_'];\r\nvar threeLineDottedData = ['_', '_', '_', '_', '_', 78, 180];\r\n\r\nvar dataValue = 100;\r\n\r\nvar firstPieData = 42;\r\n\r\nvar sendPieData = 44;\r\n\r\nvar threePieData = 43;\r\n\r\nvar dataxAxis = 30;\r\nvar datayAxis = 67.1;\r\n\r\nvar labelTop = {\r\n    normal: {\r\n        label: {\r\n            show: true,\r\n            fontSize: 14,\r\n            position: 'center',\r\n            formatter: '{b}',\r\n            textStyle: {\r\n                baseline: 'bottom',\r\n                color: '#8cd2ff'\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        }\r\n    }\r\n};\r\n\r\nvar labelTopUpdata = {\r\n    normal: {\r\n        label: {\r\n            show: true,\r\n            fontSize: 14,\r\n            position: 'center',\r\n            formatter: '{b}',\r\n            textStyle: {\r\n                baseline: 'bottom',\r\n                color: '#fff'\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        }\r\n    }\r\n};\r\n\r\nvar labelFromatter = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 24,\r\n            padding: [50, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: {\r\n            type: 'linear',\r\n            x: 1,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1,\r\n            colorStops: [{\r\n                offset: 0,\r\n                color: '#00fff6' // 0% 处的颜色\r\n            }, {\r\n                offset: 1,\r\n                color: '#005aff' // 100% 处的颜色\r\n            }],\r\n            globalCoord: false // 缺省为 false\r\n        }\r\n    }\r\n};\r\nvar labelFromatter1 = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 24,\r\n            padding: [50, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: {\r\n            type: 'linear',\r\n            x: 1,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1,\r\n            colorStops: [{\r\n                offset: 0,\r\n                color: '#ffea00' // 0% 处的颜色\r\n            }, {\r\n                offset: 1,\r\n                color: '#ff00c0' // 100% 处的颜色\r\n            }],\r\n            globalCoord: false // 缺省为 false\r\n        }\r\n    }\r\n};\r\nvar labelFromatter2 = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 24,\r\n            padding: [50, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: {\r\n            type: 'linear',\r\n            x: 1,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1,\r\n            colorStops: [{\r\n                offset: 0,\r\n                color: '#70fc1d' // 0% 处的颜色\r\n            }, {\r\n                offset: 1,\r\n                color: '#5d7f00' // 100% 处的颜色\r\n            }],\r\n            globalCoord: false // 缺省为 false\r\n        },\r\n        shadowColor: '#0c3da3',\r\n        shadowBlur: 10,\r\n        shadowOffsetX: 1,\r\n        shadowOffsetY: 1\r\n    }\r\n};\r\nvar labelBottom = {\r\n    normal: {\r\n        color: 'rgba(12, 61, 163, 1)',\r\n        position: 'none',\r\n        label: {\r\n            show: true,\r\n            position: 'center'\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        }\r\n    }\r\n};\r\n\r\nvar lineitemStyle2 = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 40,\r\n            padding: [90, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: '#66ff00',\r\n        borderColor: 'rgba(102, 255, 0, 0.5)',\r\n        borderWidth: 10\r\n    }\r\n};\r\nvar lineitemStyle1 = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 40,\r\n            padding: [90, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: '#ffea00',\r\n        borderColor: 'rgba(255, 234, 0, 0.5)',\r\n        borderWidth: 10\r\n    }\r\n};\r\nvar lineitemStyle = {\r\n    normal: {\r\n        label: {\r\n            formatter: function(params) {\r\n                return dataValue - params.value;\r\n            },\r\n            fontSize: 40,\r\n            padding: [90, 0, 0, 0],\r\n            color: '#fff',\r\n            textStyle: {\r\n                baseline: 'top'\r\n            }\r\n        },\r\n        color: '#01f2ee',\r\n        borderColor: 'rgba(1, 242, 238, 0.5)',\r\n        borderWidth: 10\r\n    }\r\n};\r\n\r\nvar radius = [30, 60];\r\noption = {\r\n    backgroundColor: '#293042',\r\n    tooltip: {\r\n        show: true,\r\n        trigger: 'item'\r\n    },\r\n    title: {\r\n        text: '',\r\n        subtext: '',\r\n        x: 'center'\r\n    },\r\n    grid: {\r\n        left: '4%',\r\n        right: '0',\r\n        top: '25%',\r\n        bottom: '1%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#6995aa'\r\n            },\r\n            onZero: true\r\n        },\r\n        axisLabel: {\r\n            fontSize: 11,\r\n            color: '#A5CADB'\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                type: 'dotted',\r\n                color: '#1978D9'\r\n            }\r\n        },\r\n        data: xAxisData\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#6995aa'\r\n            },\r\n            onZero: false\r\n        },\r\n        axisLabel: {\r\n            fontSize: 11,\r\n            color: '#A5CADB'\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                type: 'dotted',\r\n                color: '#1978D9'\r\n            }\r\n        },\r\n        scale: true\r\n    },\r\n    series: [{\r\n        name: '第一产业',\r\n        smooth: true,\r\n        type: 'line',\r\n        symbolSize: 5,\r\n        symbol: 'circle',\r\n        itemStyle: lineitemStyle,\r\n        data: firstLineData\r\n    }, {\r\n        name: '第一产业',\r\n        smooth: true,\r\n        type: 'line',\r\n        symbolSize: 5,\r\n        symbol: 'circle',\r\n        itemStyle: lineitemStyle,\r\n        lineStyle: {\r\n            normal: {\r\n                type: 'dotted'\r\n            }\r\n        },\r\n        tooltip: {\r\n            formatter: '{b0},{a0}: {c0}<br />{b2}'\r\n        },\r\n        data: firstLineDottedData\r\n    }, {\r\n        name: '第二产业',\r\n        smooth: true,\r\n        type: 'line',\r\n        symbolSize: 5,\r\n        symbol: 'circle',\r\n        itemStyle: lineitemStyle1,\r\n        data: sendLineData\r\n    }, {\r\n        name: '第二产业',\r\n        smooth: true,\r\n        type: 'line',\r\n        symbolSize: 5,\r\n        symbol: 'circle',\r\n        itemStyle: lineitemStyle1,\r\n        lineStyle: {\r\n            normal: {\r\n                type: 'dotted'\r\n            }\r\n        },\r\n        data: sendLineDottedData\r\n    }, {\r\n        type: 'line',\r\n        name: '第三产业',\r\n        smooth: true,\r\n        symbolSize: 5,\r\n        symbol: 'circle',\r\n        itemStyle: lineitemStyle2,\r\n        data: threeLineData\r\n    }, {\r\n        type: 'line',\r\n        name: '第三产业',\r\n        smooth: true,\r\n        symbol: 'circle',\r\n        symbolSize: 5,\r\n        itemStyle: lineitemStyle2,\r\n        lineStyle: {\r\n            normal: {\r\n                type: 'dotted'\r\n            }\r\n        },\r\n        data: threeLineDottedData\r\n    }, {\r\n        type: 'pie',\r\n        center: ['15%', '10%'],\r\n        startAngle: 180,\r\n        radius: radius,\r\n        clockwise: false,\r\n        itemStyle: labelFromatter,\r\n        data: [{\r\n            name: '第一产业',\r\n            value: dataValue - firstPieData,\r\n            itemStyle: labelBottom\r\n        }, {\r\n            name: '第一产业',\r\n            value: firstPieData,\r\n            itemStyle: labelTop\r\n        }],\r\n        markLine: {\r\n            silent: true,\r\n            symbolSize: 0,\r\n            data: [{\r\n                0: {\r\n                    x: 15-(60/myChart.getWidth())*100+'%',\r\n                    y: '10%',\r\n                    lineStyle: {\r\n                        normal: {\r\n                            color: '#ccc',\r\n                            width: 1,\r\n                            type: 'solid'\r\n                        }\r\n                    }\r\n                },\r\n                1: {\r\n                    x: '15%',\r\n                    y: '10%'\r\n                }\r\n            }]\r\n        }\r\n    }, {\r\n        type: 'pie',\r\n        center: ['45%', '10%'],\r\n        radius: radius,\r\n        startAngle: 180,\r\n        clockwise: false,\r\n        itemStyle: labelFromatter1,\r\n        data: [{\r\n            name: '第二产业',\r\n            value: dataValue - sendPieData,\r\n            itemStyle: labelBottom\r\n        }, {\r\n            name: '第二产业',\r\n            value: sendPieData,\r\n            itemStyle: labelTop\r\n        }],\r\n        markLine: {\r\n            silent: true,\r\n            symbolSize: 0,\r\n            data: [{\r\n                0: {\r\n                    x: 45-(60/myChart.getWidth())*100+'%',\r\n                    y: '10%',\r\n                    lineStyle: {\r\n                        normal: {\r\n                            color: '#ccc',\r\n                            width: 1,\r\n                            type: 'solid'\r\n                        }\r\n                    }\r\n                },\r\n                1: {\r\n                    x: '45%',\r\n                    y: '10%'\r\n                }\r\n            }]\r\n        }\r\n    }, {\r\n        type: 'pie',\r\n        center: ['75%', '10%'],\r\n        radius: radius,\r\n        startAngle: 180,\r\n        clockwise: false,\r\n        itemStyle: labelFromatter2,\r\n        data: [{\r\n            name: '第三产业',\r\n            value: dataValue - threePieData,\r\n            itemStyle: labelBottom\r\n        }, {\r\n            name: '第三产业',\r\n            value: threePieData,\r\n            itemStyle: labelTop\r\n        }],\r\n        markLine: {\r\n            silent: true,\r\n            symbolSize: 0,\r\n            data: [{\r\n                0: {\r\n                    x: 75-(60/myChart.getWidth())*100+'%',\r\n                    y: '10%',\r\n                    lineStyle: {\r\n                        normal: {\r\n                            color: '#ccc',\r\n                            width: 1,\r\n                            type: 'solid'\r\n                        }\r\n                    }\r\n                },\r\n                1: {\r\n                    x: '75%',\r\n                    y: '10%'\r\n                }\r\n            }]\r\n        }\r\n    }]\r\n};\r\n// 使用刚指定的配置项和数据显示图表。\r\nmyChart.setOption(option);\r\nmyChart.on('click', function(params) {\r\n    if (params.seriesType === 'pie') {\r\n        console.log(params);\r\n        // 点击到了 markPoint 上\r\n        if (params.name === '第一产业') {\r\n            myChart.setOption({\r\n                series: [{\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [21, 12, 11, 234, 290, 100, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 100, 200]\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [42, 12, 19, 234, 290, 120, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 120, 9]\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [63, 12, 11, 234, 290, 123, '_']\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 123, 3]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['15%', '10%'],\r\n                    startAngle: 180,\r\n                    radius: radius,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter,\r\n                    data: [{\r\n                        name: '第一产业',\r\n                        value: dataValue - firstPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第一产业',\r\n                        value: firstPieData,\r\n                        itemStyle: labelTopUpdata\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['45%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter1,\r\n                    data: [{\r\n                        name: '第二产业',\r\n                        value: dataValue - sendPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第二产业',\r\n                        value: sendPieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['75%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter2,\r\n                    data: [{\r\n                        name: '第三产业',\r\n                        value: dataValue - threePieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第三产业',\r\n                        value: threePieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }]\r\n            });\r\n        } else if (params.name === '第二产业') {\r\n            myChart.setOption({\r\n                series: [{\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [21, 12, 11, 234, 290, 100, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 100, 30]\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [42, 12, 19, 234, 290, 120, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 120, 991]\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [63, 12, 11, 234, 290, 123, '_']\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 123, 131]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['15%', '10%'],\r\n                    startAngle: 180,\r\n                    radius: radius,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter,\r\n                    data: [{\r\n                        name: '第一产业',\r\n                        value: dataValue - firstPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第一产业',\r\n                        value: firstPieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['45%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter1,\r\n                    data: [{\r\n                        name: '第二产业',\r\n                        value: dataValue - sendPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第二产业',\r\n                        value: sendPieData,\r\n                        itemStyle: labelTopUpdata\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['75%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter2,\r\n                    data: [{\r\n                        name: '第三产业',\r\n                        value: dataValue - threePieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第三产业',\r\n                        value: threePieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }]\r\n            });\r\n        } else {\r\n            myChart.setOption({\r\n                series: [{\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [21, 12, 11, 234, 290, 100, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第一产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 100, 120]\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [42, 12, 19, 234, 290, 120, '_']\r\n                }, {\r\n                    // type: 'line',\r\n                    name: '第二产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 120, 45]\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: [63, 12, 11, 234, 290, 123, '_']\r\n                }, {\r\n                    //type: 'line',\r\n                    name: '第三产业',\r\n                    // 通过饼图表现单个柱子中的数据分布\r\n                    data: ['_', '_', '_', '_', '_', 123, 89]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['15%', '10%'],\r\n                    startAngle: 180,\r\n                    radius: radius,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter,\r\n                    data: [{\r\n                        name: '第一产业',\r\n                        value: dataValue - firstPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第一产业',\r\n                        value: firstPieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['45%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter1,\r\n                    data: [{\r\n                        name: '第二产业',\r\n                        value: dataValue - sendPieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第二产业',\r\n                        value: sendPieData,\r\n                        itemStyle: labelTop\r\n                    }]\r\n                }, {\r\n                    type: 'pie',\r\n                    center: ['75%', '10%'],\r\n                    radius: radius,\r\n                    startAngle: 180,\r\n                    clockwise: false,\r\n                    itemStyle: labelFromatter2,\r\n                    data: [{\r\n                        name: '第三产业',\r\n                        value: dataValue - threePieData,\r\n                        itemStyle: labelBottom\r\n                    }, {\r\n                        name: '第三产业',\r\n                        value: threePieData,\r\n                        itemStyle: labelTopUpdata\r\n                    }]\r\n                }]\r\n            });\r\n        }\r\n    }\r\n});","html":"","externalScripts":"","updaterUID":"bd-2939525108","theme":"","layout":"","viewCount":14568,"userName":"x***鱼","commentCount":0,"starCount":52,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB1e8ZJ76W.png?v=1508988985241","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-line","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"x***鱼"}}