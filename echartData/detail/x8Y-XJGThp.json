{"status":0,"data":{"cid":"x8Y-XJGThp","authorUid":"bd-1606641265","authorUserName":"你***1","title":"分类关系图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-12-19T05:58:40.000Z","lastUpdateTime":"2018-12-19T05:58:40.000Z","auth":2,"uid":"bd-1606641265","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-19T05:58:40.000Z","code":"//创建放三级菜单的dom\r\nvar thirdBox= document.createElement('div');\r\nthirdBox.id= 'thirdBox';\r\nvar body = document.querySelector('body');\r\nbody.appendChild(thirdBox);\r\n\r\n//thirdBox的css\r\nvar boxStyle = document.createElement(\"style\"); \r\nvar str=`\r\n    #thirdBox{\r\n        background:linear-gradient(0deg,rgba(30,39,87,1) 0%,rgba(0,76,172,1) 100%);\r\n        box-shadow:1px 2px 5px 0px rgba(6, 1, 0, 0.35);\r\n        border-radius:2px;\r\n        position: relative;\r\n        padding: 15px 0;\r\n        width: 300px;\r\n        top: -200px;\r\n        left: -200px;\r\n    }\r\n    #thirdBox ul{\r\n        color: #fff;\r\n        font-size:16px;\r\n        font-family:SourceHanSansSC-Light;\r\n        font-weight:300;\r\n    }\r\n    #thirdBox ul span{\r\n        display: inline-block;\r\n        padding: 0 6px;\r\n    }\r\n`\r\nif(boxStyle.styleSheet){         //ie下  \r\n    boxStyle.styleSheet.cssText = str;  \r\n} else {  \r\n    boxStyle.innerHTML = str;\r\n};\r\ndocument.getElementsByTagName(\"head\")[0].appendChild(boxStyle);\r\n\r\noption = {\r\n    backgroundColor:'#1b326a',\r\n        color: ['#916324', '#7B470F'],\r\n        xAxis: {\r\n            show: false,\r\n            type: 'value',\r\n            max: 10,\r\n            min: -10,\r\n        },\r\n        yAxis: {\r\n            show: false,\r\n            type: 'value',\r\n            max: 10,\r\n            min: -10,\r\n        },\r\n        series: [\r\n            {\r\n                name: '访问来源',\r\n                type: 'pie',\r\n                radius: '30%',\r\n                center: ['50%', '50%'],\r\n                data: [\r\n                    {value: 250, name: '增值电信业务', selected: true},\r\n                    {value: 320, name: '基础电信业务'},\r\n                ],\r\n                roseType: 'angle',\r\n                label: {\r\n                    normal: {\r\n                        position: 'inner',\r\n                        formatter: '{d}%\\n{b}',\r\n\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            fontWeight: 'bold',\r\n                            fontSize: 14\r\n                        }\r\n                    }\r\n                },\r\n                labelLine: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n                },\r\n            }, {\r\n                type: 'graph',\r\n                layout: 'force',\r\n                symbolSize: '140',\r\n                focusNodeAdjacency: false,\r\n                coordinateSystem: 'cartesian2d',\r\n                //roam: true,\r\n                draggable: false,\r\n                categories: [{\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: \"#B08B44\",\r\n                        }\r\n                    }\r\n                }],\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        textStyle: {\r\n                            fontSize: 12\r\n                        },\r\n                    }\r\n                },\r\n                force: {\r\n                    repulsion: 1000\r\n                },\r\n                edgeSymbolSize: [4, 50],\r\n                data: [{\r\n                    name: '第一类基础电信业务',\r\n                    value: [-4, 5],\r\n                    category: 0\r\n                }, {\r\n                    name: '第二类基础电信业务',\r\n                    value: [-4, -5],\r\n                    category: 0\r\n                }, {\r\n                    name: '第一类增值电信业务',\r\n                    value: [4, 6],\r\n                    category: 0\r\n                }, {\r\n                    name: '第二类增值电信业务',\r\n                    value: [4, -5],\r\n                    category: 0\r\n                }],\r\n                lineStyle: {\r\n                    normal: {\r\n                        opacity: 0.9,\r\n                        width: 1,\r\n                        curveness: 0\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };\r\n    \r\n    myChart.on('click', function (params) {\r\n        var position= [\r\n            {\r\n                x: '50px',\r\n                y: '50px'\r\n            },{\r\n                x: '50px',\r\n                y: '350px'\r\n            },{\r\n                x: '850px',\r\n                y: '50px'\r\n            },{\r\n                x: '850px',\r\n                y: '350px'\r\n            }     \r\n        ]\r\n        //判断点击的是二级的圆圈\r\n        if(params.seriesIndex === 1){\r\n            var html= '<ul>'+\r\n                '<li>通信业务<span>1</span>(家)</li>'+\r\n                '<li>通信业务<span>2</span>(家)</li>'+\r\n                '<li>通信业务<span>3</span>(家)</li>'+\r\n            '</ul>';\r\n            console.log(params)\r\n            var i= params.dataIndex;\r\n            $('#thirdBox').html(html).css('top',position[i].y);\r\n            $('#thirdBox').html(html).css('left',position[i].x)\r\n        }\r\n            \r\n           \r\n    })","html":"","externalScripts":"","updaterUID":"bd-1606641265","theme":"","layout":"","viewCount":1069,"userName":"你***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8Y-XJGThp.png?v=1545199120493","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-graph","series-pie"],"customTags":[],"updaterUserName":"你***1"}}