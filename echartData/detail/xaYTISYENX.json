{"status":0,"data":{"cid":"xaYTISYENX","authorUid":"bd-1275590612","authorUserName":"n***2","title":"对比图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-18T07:05:13.000Z","lastUpdateTime":"2020-11-18T07:05:13.000Z","auth":1,"uid":"bd-1275590612","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-18T07:05:13.000Z","code":"var name1= '广西医科大学'\r\nvar name2 = '其他大学'\r\nvar data1 = [{\r\n        name: '学院',\r\n        value: 30\r\n    },\r\n    {\r\n        name: '专业',\r\n        value: 100\r\n    },{\r\n        name: '附属医院',\r\n        value: 18\r\n    },{\r\n        name: 'ESI前1%学科',\r\n        value: 50\r\n    },{\r\n        name: '国家重点学科',\r\n        value: 70\r\n    },{\r\n        name: '广西一流学科',\r\n        value: 88\r\n    },\r\n    {\r\n        name: '第四轮评估A/B/C',\r\n        value: 60\r\n    },\r\n    {\r\n        name: '总在校人数',\r\n        value: 4000\r\n    },\r\n    {\r\n        name: '本科生',\r\n        value: 3000\r\n    },\r\n    {\r\n        name: '硕士研究生',\r\n        value: 120\r\n    },\r\n    {\r\n        name: '博士生',\r\n        value: 50\r\n    },\r\n    {\r\n        name: '留学生',\r\n        value: 200\r\n    },\r\n    {\r\n        name: '高职生',\r\n        value: 200\r\n    },\r\n    {\r\n        name: '教工',\r\n        value: 300\r\n    },\r\n    {\r\n        name: '专任教师',\r\n        value: 100\r\n    },\r\n    {\r\n        name: '高层次人才',\r\n        value: 15\r\n    },\r\n    {\r\n        name: '国家实验室含重点',\r\n        value: 30\r\n    },\r\n    {\r\n        name: '国家重大科研项目',\r\n        value: 20\r\n    },\r\n    {\r\n        name: '生师比',\r\n        value: 150\r\n    }\r\n];\r\n\r\nvar data2 = [{\r\n        name: '学院',\r\n        value: 40\r\n    },\r\n    {\r\n        name: '专业',\r\n        value: 120\r\n    },{\r\n        name: '附属医院',\r\n        value: 30\r\n    },{\r\n        name: 'ESI前1%学科',\r\n        value: 35\r\n    },{\r\n        name: '国家重点学科',\r\n        value: 50\r\n    },{\r\n        name: '广西一流学科',\r\n        value: 70\r\n    },\r\n    {\r\n        name: '第四轮评估A/B/C',\r\n        value: 50\r\n    },\r\n    {\r\n        name: '总在校人数',\r\n        value: 4500\r\n    },\r\n    {\r\n        name: '本科生',\r\n        value: 3500\r\n    },\r\n    {\r\n        name: '硕士研究生',\r\n        value: 100\r\n    },\r\n    {\r\n        name: '博士生',\r\n        value: 20\r\n    },\r\n    {\r\n        name: '留学生',\r\n        value: 400\r\n    },\r\n    {\r\n        name: '高职生',\r\n        value: 100\r\n    },\r\n    {\r\n        name: '教工',\r\n        value: 100\r\n    },\r\n    {\r\n        name: '专任教师',\r\n        value: 400\r\n    },\r\n    {\r\n        name: '高层次人才',\r\n        value: 100\r\n    },\r\n    {\r\n        name: '国家实验室含重点',\r\n        value: 50\r\n    },\r\n    {\r\n        name: '国家重大科研项目',\r\n        value: 50\r\n    },\r\n    {\r\n        name: '生师比',\r\n        value: 200\r\n    }\r\n];\r\n\r\n\r\n\r\n\r\nlet data1New = []\r\nlet data2New = []\r\nlet largeColorRight = {\r\n    type: 'linear',\r\n    x: 1,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 0,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: 'rgba(0, 204, 255, 1)'\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(101, 105, 255, 1)'\r\n    }]\r\n}\r\nlet largeColorLeft = {\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 1,\r\n    y2: 0,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: 'rgba(0, 204, 255, 1)'\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(101, 105, 255, 1)'\r\n    }]\r\n}\r\nlet normalColor = {\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 1,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: 'rgba(0, 204, 255, 0.3)'\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(101, 105, 255, 0.3)'\r\n    }]\r\n}\r\n\r\ndata1.map((item, index) => {\r\n    let isLarge = data1[index].value > data2[index].value\r\n    data1New.push({\r\n        name: data1[index].name,\r\n        value: data1[index].value,\r\n        itemStyle: {\r\n            normal: {\r\n                color: isLarge ? largeColorRight : normalColor\r\n            }\r\n        }\r\n    })\r\n    data2New.push({\r\n        name: data2[index].name,\r\n        value: data2[index].value,\r\n        itemStyle: {\r\n            normal: {\r\n                color: isLarge ? normalColor : largeColorLeft\r\n            }\r\n        }\r\n    })\r\n})\r\ngetArrByKey = (data, k) => {\r\n    let key = k || \"value\";\r\n    let res = [];\r\n    if (data) {\r\n        data.forEach(function(t) {\r\n            res.push(t[key]);\r\n        });\r\n    }\r\n    return res;\r\n};\r\noption = {\r\n    backgroundColor:'#051523',\r\n    grid: [{\r\n            show: false,\r\n            left: '2%',\r\n            top: '0%',\r\n            bottom: '8%',\r\n            width: '39%',\r\n\r\n        },\r\n        {\r\n            show: false,\r\n            left: '50%',\r\n            top: '0%',\r\n            bottom: '8%',\r\n            width: '0%',\r\n\r\n        }, {\r\n            show: false,\r\n            right: '2%',\r\n            top: '0%',\r\n            bottom: '8%',\r\n            width: '40%',\r\n        }\r\n    ],\r\n    tooltip: {\r\n        show: true,\r\n        formatter: '{a} </br> {b} : {c}'\r\n    },\r\n    xAxis: [{\r\n            type: 'log',\r\n            inverse: true,\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            position: 'bottom',\r\n            axisLabel: {\r\n                show: false,\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        },\r\n        {\r\n            gridIndex: 1,\r\n            show: false,\r\n        },\r\n        {\r\n            gridIndex: 2,\r\n            show: true,\r\n            type: 'log',\r\n            inverse: false,\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            position: 'bottom',\r\n            axisLabel: {\r\n                show: false,\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        }\r\n    ],\r\n    yAxis: [{\r\n            gridIndex: 0,\r\n            triggerEvent: true,\r\n            show: true,\r\n            inverse: true,\r\n            data: data1,\r\n            axisLine: {\r\n                show: false\r\n            }, \r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            }\r\n        },\r\n        {\r\n            gridIndex: 1,\r\n            type: 'category',\r\n            inverse: true,\r\n            position: 'center',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0,\r\n                align: 'auto',\r\n                verticalAlign: 'middle',\r\n                textStyle: {\r\n                    color: 'rgba(195, 240, 255, 1)',\r\n                    fontSize: 16,\r\n                    align: 'center',\r\n\r\n                },\r\n\r\n            },\r\n            data: getArrByKey(data1, 'name'),\r\n        },\r\n        {\r\n            gridIndex: 2,\r\n            triggerEvent: true,\r\n            show: true,\r\n            inverse: true,\r\n            data: data1,\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false,\r\n            }\r\n        }\r\n    ],\r\n    series: [\r\n        {\r\n            name:name1,\r\n            type: 'bar',\r\n            gridIndex: 0,\r\n            showBackground: false,\r\n            backgroundStyle: {\r\n                barBorderRadius: 4,\r\n            },\r\n            xAxisIndex: 0,\r\n            yAxisIndex: 0,\r\n            data: data1New,\r\n            barWidth: 20,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: 'rgba(59, 126, 170, 1)',\r\n                    barBorderRadius:4\r\n                },\r\n            },\r\n\r\n            label: {\r\n                show: false,\r\n            }\r\n        },\r\n        {\r\n            name:name2,\r\n            type: 'bar',\r\n            xAxisIndex: 2,\r\n            yAxisIndex: 2,\r\n            gridIndex: 2,\r\n            showBackground: false,\r\n            backgroundStyle: {\r\n                barBorderRadius: 4,\r\n            },\r\n            data: data2New,\r\n            barWidth: 20,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: 'rgba(59, 126, 170, 1)',\r\n                    barBorderRadius:4\r\n\r\n                },\r\n            },\r\n            label: {\r\n                show: false\r\n            }\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-1275590612","theme":"","layout":"","viewCount":146,"userName":"n***2","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xaYTISYENX.png?v=1605683113932","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"n***2"}}