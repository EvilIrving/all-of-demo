{"status":0,"data":{"cid":"x_P0FXRl8w","authorUid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","authorUserName":"林***影","title":"象形柱图","description":"象形柱图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-07T02:51:02.000Z","lastUpdateTime":"2021-07-07T02:51:02.000Z","auth":2,"uid":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-07T02:51:02.000Z","code":"const payload = {\n    id: 'left-bottom-1',\n    title: ['学历', '最高学历'],\n    color: [\n        'rgba(43, 139, 248, 0.97)',\n        'rgba(18, 196, 254, 0.97)',\n        'rgba(16, 233, 220, 0.97)',\n        'rgba(17, 220, 151, 0.97)',\n    ],\n    wordNum: 3,\n    data: {\n        data1: ['0', '19', '68', '210'],\n        data2: ['0', '22', '174', '2'],\n        x: ['博士', '硕士', '大学', '大专及其他'],\n        total1: 197,\n        total2: 197,\n        acc1: ['0.00', '9.64', '34.52', '55.84'],\n        acc2: ['0.00', '11.17', '88.32', '0.51'],\n    },\n};\n\nconst data1 = payload.data.data1;\nconst data2 = payload.data.data2;\nconst acc1 = payload.data.acc1;\nconst acc2 = payload.data.acc2;\nconst x = payload.data.x;\n\nconst wordNum = payload.wordNum;\n\nconst formatter = (params, wordNum) => {\n    if (!wordNum) return params;\n    let newParamsName = '';\n    const paramsNameNumber = params.length;\n    const provideNumber = wordNum;\n    const rowNumber = Math.ceil(paramsNameNumber / provideNumber);\n    if (paramsNameNumber > provideNumber) {\n        for (let p = 0; p < rowNumber; p++) {\n            let tempStr = '';\n            const start = p * provideNumber;\n            const end = start + provideNumber;\n            if (p === rowNumber - 1) {\n                tempStr = params.substring(start, paramsNameNumber);\n            } else {\n                tempStr = params.substring(start, end) + '\\n';\n            }\n            newParamsName += tempStr;\n        }\n    } else {\n        newParamsName = params;\n    }\n    return newParamsName;\n};\n\noption = {\n    grid: {\n        left: 15,\n        right: 15,\n        bottom: 2,\n        top: 45,\n        containLabel: true,\n    },\n    tooltip: {\n        trigger: 'axis',\n        backgroundColor: 'rgba(9, 30, 60, 0.6)',\n        extraCssText: 'box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;',\n        borderWidth: 0,\n        confine: false,\n        appendToBody: true,\n        textStyle: {\n            color: '#fff',\n            fontSize: 10,\n        },\n        formatter(data) {\n            var tmp = ['<h5 class=\"echarts-tip-h5\">' + data[0].name + '</h5>'];\n            data.forEach((item, index) => {\n                let html = '';\n                html += '<div class=\"echarts-tip-div\">';\n                html += '<div class=\"left\">' + item.marker + ' ' + item.seriesName + '：</div>';\n                html += '<div class=\"right\">' + item.data + '</div>';\n                html += '</div>';\n                tmp.push(html);\n                if (index === 0) {\n                    let html1 = '';\n                    html1 += '<div class=\"echarts-tip-div\">';\n                    html1 += '<div class=\"left\">' + item.marker + ' 占比：</div>';\n                    html1 += '<div class=\"right\">' + acc1[item.dataIndex] + '%</div>';\n                    html1 += '</div>';\n                    tmp.push(html1);\n                } else {\n                    let html1 = '';\n                    html1 += '<div class=\"echarts-tip-div\">';\n                    html1 += '<div class=\"left\">' + item.marker + ' 占比：</div>';\n                    html1 += '<div class=\"right\">' + acc2[item.dataIndex] + '%</div>';\n                    html1 += '</div>';\n                    tmp.push(html1);\n                }\n            });\n            return tmp.join('');\n        },\n    },\n    legend: {\n        width: window.innerWidth < 1600 ? '100%' : '60%',\n        icon: 'circle',\n        top: 7,\n        itemWidth: 12,\n        itemHeight: 6,\n        textStyle: {\n            color: '#2CD3FD',\n            fontSize: 12,\n        },\n        align: 'left',\n    },\n    xAxis: {\n        data: x,\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            lineStyle: {\n                color: 'rgba(255, 129, 109,.1)',\n                width: 1, //这里是为了突出显示加上的\n            },\n        },\n        axisLabel: {\n            interval: 0,\n            rotate: 0,\n            color: '#96cbfa',\n            fontSize: 12,\n            formatter(params) {\n                return formatter(params, wordNum);\n            },\n        },\n    },\n    yAxis: [\n        {\n            name: '单位：人',\n            nameTextStyle: {\n                align: 'left',\n                color: '#3E719D',\n                fontSize: 11,\n                lineHeight: 11,\n                verticalAlign: 'middle',\n                padding: [0, 0, 10, 0],\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    color: 'rgba(255, 129, 109, 0.1)',\n                    width: 1, //这里是为了突出显示加上的\n                },\n            },\n            axisLabel: {\n                color: '#4176A3',\n            },\n            splitArea: {\n                areaStyle: {\n                    color: 'rgba(255,255,255,.5)',\n                },\n            },\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    color: 'rgba(255, 129, 109, 0.1)',\n                    width: 0.5,\n                    type: 'dashed',\n                },\n            },\n        },\n    ],\n    series: [\n        {\n            name: payload.title[0],\n            type: 'pictorialBar',\n            barGap: '-20%',\n            symbol: 'path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z',\n            label: {\n                show: true,\n                position: 'top',\n                distance: 15,\n                color: '#08DFFE',\n                fontWeight: 'bolder',\n                fontSize: 15,\n            },\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#ff0000',\n                        },\n                        {\n                            offset: 1,\n                            color: '#ff0000',\n                        },\n                    ],\n                    global: false, //  缺省为  false\n                },\n            },\n            emphasis: {\n                itemStyle: {\n                    opacity: 1,\n                },\n            },\n            data: data1,\n        },\n        {\n            name: payload.title[1],\n            type: 'pictorialBar',\n            barGap: '-20%',\n            symbol: 'path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z',\n            label: {\n                show: true,\n                position: 'top',\n                distance: 15,\n                color: '#08DFFE',\n                fontWeight: 'bolder',\n                fontSize: 15,\n            },\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#9A11FF',\n                        },\n                        {\n                            offset: 1,\n                            color: '#9A11FF',\n                        },\n                    ],\n                    global: false, //  缺省为  false\n                },\n            },\n            emphasis: {\n                itemStyle: {\n                    opacity: 1,\n                },\n            },\n            data: data2,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oNlOavm5mIyDmHx5vL644Fy6r7YbdCs","theme":"","layout":"","viewCount":0,"userName":"林***影","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_P0FXRl8w.png?v=1625626262407","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"林***影"}}