{"status":0,"data":{"cid":"xImC8VuaYQ","authorUid":"bd-995589324","authorUserName":"155******35","title":"简约风格横向柱状图","description":"简约风格横向柱状图，前十排名","latestVersion":6,"alwaysLatest":1,"createTime":"2018-10-18T03:42:54.000Z","lastUpdateTime":"2018-10-18T03:42:54.000Z","auth":2,"uid":"bd-995589324","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-22T15:19:59.000Z","code":"var cityList = [\"上海\", \"北京\", \"广州\", \"深圳\", \"天津\", \"南京\",\r\n    \"重庆\", \"成都\", \"武汉\", \"杭州\", \"青岛\", \"苏州\", \"西安\",\r\n    \"沈阳\", \"郑州\", \"宁波\", \"长沙\", \"无锡\", \"大连\", \"济南\",\r\n    \"合肥\", \"厦门\", \"佛山\"\r\n];\r\nvar top10CityList;\r\nvar top10CityData;\r\n\r\nfunction setMockData() {\r\n    cityList.sort(() => Math.random() > 0.5 ? 1 : -1);\r\n    top10CityList = cityList.slice(0,10);\r\n    top10CityData = top10CityList.map((name)=>{\r\n        var val = parseInt(1000+Math.random() *9999);\r\n        return val;\r\n    });\r\n    top10CityData.sort((a,b)=>a<b?-1:1)\r\n}\r\nsetMockData();\r\n\r\nconsole.log(top10CityList,top10CityData);\r\noption = {\r\n    backgroundColor: '#121847',\r\n    title: {\r\n        show: false\r\n    },\r\n    tooltip: {\r\n        show: false,\r\n\r\n    },\r\n    grid: {\r\n        borderWidth: 0,\r\n        top: 30,\r\n        left:5,\r\n        right:75,\r\n        bottom: 0,\r\n        textStyle: {\r\n            color: \"#fff\"\r\n        }\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#363e83',\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n            inside: false,\r\n        },\r\n        data: top10CityList,\r\n    }, {\r\n        type: 'category',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            inside: false,\r\n            textStyle: {\r\n                color: '#fff',\r\n                fontWeight: 'normal',\r\n                fontSize: '14',\r\n                fontFamily: 'PingFangSC-Regular'\r\n            },\r\n            formatter: function(val) {\r\n                return `${val}k`\r\n            },\r\n        },\r\n        splitArea: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        data: top10CityData || [500, 400, 300, 200, 100],\r\n\r\n    }],\r\n    xAxis: {\r\n        type: 'value',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#2f3640',\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#2f3640 ',\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n\r\n        },\r\n    },\r\n    series: [{\r\n            name: '',\r\n            type: 'bar',\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                        offset: 0,\r\n                        color:'#00BBFD' \r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#0085FA'\r\n                    }]),\r\n                    barBorderRadius: 10,\r\n                    borderWidth: 0,\r\n                },\r\n                emphasis: {\r\n                    shadowBlur: 15,\r\n                    shadowColor: 'rgba(105,123, 214, 0.7)'\r\n                }\r\n            },\r\n            zlevel: 2,\r\n            barWidth: '10px',\r\n            data: top10CityData,\r\n            animationDuration: 1500,\r\n            label: {\r\n                normal: {\r\n                    color: '#fff',\r\n                    show: true,\r\n                    // position: 'center',\r\n                    position: [0, '-24px'],\r\n                    textStyle: {\r\n                        fontSize: 14,\r\n                        fontWeight: 'bold',\r\n                        fontFamily: 'PingFangSC'\r\n                    },\r\n                    formatter: function(a, b) {\r\n\r\n                      \r\n                        return a.name;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n\r\n    ],\r\n     animationEasing: 'cubicOut',\r\n    // animationDelayUpdate: function (idx) {\r\n    //     return idx * 1;\r\n    // }\r\n}\r\n\r\nsetInterval(()=>{\r\n    setMockData();\r\n    option.yAxis[0].data = top10CityList;\r\n    option.yAxis[1].data = top10CityData;\r\n    option.series[0].data= top10CityData;\r\n    myChart.setOption(option,{notMerge:true,lazyUpdate:true});\r\n    console.log(top10CityList,top10CityData);\r\n    console.log('set');\r\n},3000)","html":"","externalScripts":"","updaterUID":"bd-995589324","theme":"","layout":"","viewCount":697,"userName":"155******35","commentCount":0,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xImC8VuaYQ.png?v=1540221599243","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"155******35"}}