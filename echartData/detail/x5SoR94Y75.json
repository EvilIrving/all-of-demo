{"status":0,"data":{"cid":"x5SoR94Y75","authorUid":"bd-101698999","authorUserName":"Z***8","title":"bar3D 堆叠拟合渐变色（版本 3 使用 barSize 自定义柱子宽度）","description":"【版本5及以前的，GL组件链接失效了】\nbar3D 似乎不支持 colorStops，纹理贴图也不行\n只好用 stack 堆…… tooltip 还没研究好，trigger='axis' 似乎不管用，可能得重写鼠标事件（待尝试）","latestVersion":7,"alwaysLatest":1,"createTime":"2019-08-08T08:56:57.000Z","lastUpdateTime":"2021-10-25T13:16:18.000Z","auth":2,"uid":"bd-101698999","publishedVersion":2,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-09T06:10:40.000Z","code":"var hours = ['12a', '1a', '2a', '3a', '4a', '5a', '6a',\r\n    '7a', '8a', '9a', '10a', '11a',\r\n    '12p', '1p', '2p', '3p', '4p', '5p',\r\n    '6p', '7p', '8p', '9p', '10p', '11p'\r\n];\r\nvar days = ['Saturday', 'Friday', 'Thursday',\r\n    'Wednesday', 'Tuesday', 'Monday', 'Sunday'\r\n];\r\n\r\nvar data = [\r\n    [0, 0, 5],\r\n    [0, 1, 1],\r\n    [0, 2, 0],\r\n    [0, 3, 0],\r\n    [0, 4, 0],\r\n    [0, 5, 0],\r\n    [0, 6, 0],\r\n    [0, 7, 0],\r\n    [0, 8, 0],\r\n    [0, 9, 0],\r\n    [0, 10, 0],\r\n    [0, 11, 2],\r\n    [0, 12, 4],\r\n    [0, 13, 1],\r\n    [0, 14, 1],\r\n    [0, 15, 3],\r\n    [0, 16, 4],\r\n    [0, 17, 6],\r\n    [0, 18, 4],\r\n    [0, 19, 4],\r\n    [0, 20, 3],\r\n    [0, 21, 3],\r\n    [0, 22, 2],\r\n    [0, 23, 5],\r\n    [1, 0, 7],\r\n    [1, 1, 0],\r\n    [1, 2, 0],\r\n    [1, 3, 0],\r\n    [1, 4, 0],\r\n    [1, 5, 0],\r\n    [1, 6, 0],\r\n    [1, 7, 0],\r\n    [1, 8, 0],\r\n    [1, 9, 0],\r\n    [1, 10, 5],\r\n    [1, 11, 2],\r\n    [1, 12, 2],\r\n    [1, 13, 6],\r\n    [1, 14, 9],\r\n    [1, 15, 11],\r\n    [1, 16, 6],\r\n    [1, 17, 7],\r\n    [1, 18, 8],\r\n    [1, 19, 12],\r\n    [1, 20, 5],\r\n    [1, 21, 5],\r\n    [1, 22, 7],\r\n    [1, 23, 2],\r\n    [2, 0, 1],\r\n    [2, 1, 1],\r\n    [2, 2, 0],\r\n    [2, 3, 0],\r\n    [2, 4, 0],\r\n    [2, 5, 0],\r\n    [2, 6, 0],\r\n    [2, 7, 0],\r\n    [2, 8, 0],\r\n    [2, 9, 0],\r\n    [2, 10, 3],\r\n    [2, 11, 2],\r\n    [2, 12, 1],\r\n    [2, 13, 9],\r\n    [2, 14, 8],\r\n    [2, 15, 10],\r\n    [2, 16, 6],\r\n    [2, 17, 5],\r\n    [2, 18, 5],\r\n    [2, 19, 5],\r\n    [2, 20, 7],\r\n    [2, 21, 4],\r\n    [2, 22, 2],\r\n    [2, 23, 4],\r\n    [3, 0, 7],\r\n    [3, 1, 3],\r\n    [3, 2, 0],\r\n    [3, 3, 0],\r\n    [3, 4, 0],\r\n    [3, 5, 0],\r\n    [3, 6, 0],\r\n    [3, 7, 0],\r\n    [3, 8, 1],\r\n    [3, 9, 0],\r\n    [3, 10, 5],\r\n    [3, 11, 4],\r\n    [3, 12, 7],\r\n    [3, 13, 14],\r\n    [3, 14, 13],\r\n    [3, 15, 12],\r\n    [3, 16, 9],\r\n    [3, 17, 5],\r\n    [3, 18, 5],\r\n    [3, 19, 10],\r\n    [3, 20, 6],\r\n    [3, 21, 4],\r\n    [3, 22, 4],\r\n    [3, 23, 1],\r\n    [4, 0, 1],\r\n    [4, 1, 3],\r\n    [4, 2, 0],\r\n    [4, 3, 0],\r\n    [4, 4, 0],\r\n    [4, 5, 1],\r\n    [4, 6, 0],\r\n    [4, 7, 0],\r\n    [4, 8, 0],\r\n    [4, 9, 2],\r\n    [4, 10, 4],\r\n    [4, 11, 4],\r\n    [4, 12, 2],\r\n    [4, 13, 4],\r\n    [4, 14, 4],\r\n    [4, 15, 14],\r\n    [4, 16, 12],\r\n    [4, 17, 1],\r\n    [4, 18, 8],\r\n    [4, 19, 5],\r\n    [4, 20, 3],\r\n    [4, 21, 7],\r\n    [4, 22, 3],\r\n    [4, 23, 0],\r\n    [5, 0, 2],\r\n    [5, 1, 1],\r\n    [5, 2, 0],\r\n    [5, 3, 3],\r\n    [5, 4, 0],\r\n    [5, 5, 0],\r\n    [5, 6, 0],\r\n    [5, 7, 0],\r\n    [5, 8, 2],\r\n    [5, 9, 0],\r\n    [5, 10, 4],\r\n    [5, 11, 1],\r\n    [5, 12, 5],\r\n    [5, 13, 10],\r\n    [5, 14, 5],\r\n    [5, 15, 7],\r\n    [5, 16, 11],\r\n    [5, 17, 6],\r\n    [5, 18, 0],\r\n    [5, 19, 5],\r\n    [5, 20, 3],\r\n    [5, 21, 4],\r\n    [5, 22, 2],\r\n    [5, 23, 0],\r\n    [6, 0, 1],\r\n    [6, 1, 0],\r\n    [6, 2, 0],\r\n    [6, 3, 0],\r\n    [6, 4, 0],\r\n    [6, 5, 0],\r\n    [6, 6, 0],\r\n    [6, 7, 0],\r\n    [6, 8, 0],\r\n    [6, 9, 0],\r\n    [6, 10, 1],\r\n    [6, 11, 0],\r\n    [6, 12, 2],\r\n    [6, 13, 1],\r\n    [6, 14, 3],\r\n    [6, 15, 4],\r\n    [6, 16, 0],\r\n    [6, 17, 0],\r\n    [6, 18, 0],\r\n    [6, 19, 0],\r\n    [6, 20, 1],\r\n    [6, 21, 2],\r\n    [6, 22, 2],\r\n    [6, 23, 6]\r\n];\r\n\r\n\r\nfunction barSeriesInit(color0, color1, barData, step) {\r\n    ret = [];\r\n    startR = color0.length === 7 ? parseInt(color0.substr(1, 2), 16) : parseInt(color0.substr(1, 1) + color0.substr(1, 1), 16);\r\n    startG = color0.length === 7 ? parseInt(color0.substr(3, 2), 16) : parseInt(color0.substr(2, 1) + color0.substr(2, 1), 16);\r\n    startB = color0.length === 7 ? parseInt(color0.substr(3, 2), 16) : parseInt(color0.substr(2, 1) + color0.substr(2, 1), 16);\r\n    endR = color1.length === 7 ? parseInt(color1.substr(1, 2), 16) : parseInt(color1.substr(1, 1) + color1.substr(1, 1), 16);\r\n    endG = color1.length === 7 ? parseInt(color1.substr(3, 2), 16) : parseInt(color1.substr(2, 1) + color1.substr(2, 1), 16);\r\n    endB = color1.length === 7 ? parseInt(color1.substr(3, 2), 16) : parseInt(color1.substr(2, 1) + color1.substr(2, 1), 16);\r\n    distanceR = endR - startR;\r\n    distanceG = endG - startG;\r\n    distanceB = endB - startB;\r\n\r\n    stepData = barData.map(function(item) {\r\n        return {\r\n            value: [item[1], item[0], item[2] / step],\r\n        };\r\n    });\r\n\r\n    for (var i = 0; i <= step; i++) {\r\n        ret.push({\r\n            type: 'bar3D',\r\n            data: stepData,\r\n            stack: 'stack',\r\n            color: '#' + Math.round(startR + i * distanceR / step).toString(16) + Math.round(startG + i * distanceG / step).toString(16) + Math.round(startB + i * distanceG / step).toString(16),\r\n\r\n            label: {\r\n                textStyle: {\r\n                    fontSize: 16,\r\n                    borderWidth: 1\r\n                }\r\n            },\r\n            silent: true,\r\n            shading: 'lambert',\r\n        });\r\n    }\r\n    return ret;\r\n}\r\n\r\noption = {\r\n    tooltip: {\r\n        trigger: 'axis'\r\n    },\r\n\r\n    xAxis3D: {\r\n        type: 'category',\r\n        data: hours\r\n    },\r\n    yAxis3D: {\r\n        type: 'category',\r\n        data: days\r\n    },\r\n    zAxis3D: {\r\n        type: 'value'\r\n    },\r\n    grid3D: {\r\n        boxWidth: 200,\r\n        boxDepth: 80,\r\n        viewControl: {\r\n            // projection: 'orthographic'\r\n        },\r\n\r\n    },\r\n    series: barSeriesInit('#FFF', '#33FF00', data, 100)\r\n};","html":"","externalScripts":"https://echarts.baidu.com/examples/vendors/echarts-gl/echarts-gl.js,/dep/echarts/map/js/world.js","updaterUID":"bd-101698999","theme":"default","layout":"","viewCount":1777,"userName":"Z***8","commentCount":5,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5SoR94Y75.png?v=1565311044415","isCustomThumbnail":1,"builtinTags":["category-work","grid3D","series-bar3D","tooltip"],"customTags":["颜色渐变"],"updaterUserName":"Z***8"}}