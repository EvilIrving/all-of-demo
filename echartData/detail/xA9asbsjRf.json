{"status":0,"data":{"cid":"xA9asbsjRf","authorUid":"obd-otKTe9sa8GxITy2bsrMA3HvKDqfAr8t","authorUserName":"豌***噢","title":"横向立体柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-08T05:24:10.000Z","lastUpdateTime":"2021-10-08T05:24:10.000Z","auth":1,"uid":"obd-otKTe9sa8GxITy2bsrMA3HvKDqfAr8t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-08T05:24:10.000Z","code":"/*\n    每一根柱子 分成 5部分 '对账中金额','已对账金额','已回款金额','未回款总额','总部分'\n    这部分 需要竖着看 \n    一共 三根 柱子 也就 是有 3列\n    第一列 0 0 2 1 0 代表对已回款金额 1 未回款总额 其他为0\n    第二列 1 2 0 0 0 代表对账中金额 1 已对账金额2 其他为0\n    第三列 0 0 0 0 3 代表 总部分占 全部 其他为0\n*/\nlet data1 = [{ value: 1, bai: '20%' }, 0, 0];\nlet data2 = [{ value: 2, bai: '50%' }, 0, 0];\n// 已经回款\n\nlet data3 = [0, { value: 2, bai: '50%' }, 0];\nlet data4 = [0, { value: 1, bai: '8%' }, 0];\n// 对账进度\n\nlet data5 = [0, 0, { value: 3, bai: '100%' }];\n// 第一个柱子的数据\nvar line = ['1', '2', '3'];\nvar colorList = [\n    { 0: '#b9ae4d', 1: '#f5edab' },\n    { 0: '#45cbd4', 1: '#6ee2ea' },\n    { 0: '#1f77c4', 1: '#5aaaf1' },\n];\nvar colorObj = [\n    { 0: '#E2D880', 1: '#7F7416' },\n    { 0: '#45cbd4', 1: '#0a777e' },\n    { 0: '#459be6', 1: '#18609f' },\n];\nvar opacityColor = ['rgba(185,174,77,0.20)', 'rgba(69,203,212,0.20)', 'rgba(69,203,212,0.0)'];\noption = {\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (param) {\n            let arr = [];\n            for (let i = 4; i < param.length; i++) {\n                if (param[i].value !== 0) {\n                    arr.push({\n                        name: param[i].name === '总应收' ? param[i].name : param[i].seriesName,\n                        data: param[i].data,\n                        color: param[i].color.colorStops,\n                    });\n                }\n            }\n            let baseString = `<div style='border:1px solid rgba(255,255,255,.2);padding:5px;border-radius:3px;'>\n                <div>`;\n            let string = '';\n            arr.forEach((item) => {\n                string += `\n                    <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${item.color[0].color}\"></span>\n                    ${item.name}:\n                    ${item.data.value}万元\n                    <br />\n                    占比： ${item.data.bai}\n                </div>`;\n            });\n            baseString = baseString + string;\n            return baseString;\n        },\n    },\n    grid: {\n        left: '15%',\n        top: '20%',\n        right: '15%',\n        bottom: '10%',\n    },\n    legend: {\n        show: true,\n        selectedMode: false,\n    },\n\n    xAxis: [\n        {\n            type: 'value',\n            // max:4,\n            name: '金额(单位：万元)',\n            nameTextStyle: {\n                color: '#fff',\n                padding: [70, 0, 0, 40], // 四个数字分别为上右下左与原位置距离\n            },\n\n            axisLabel: {\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 14,\n                },\n                margin: 30, //刻度标签与轴线之间的距离。\n            },\n\n            axisLine: {\n                show: true, //不显示x轴\n                lineStyle: {\n                    type: 'solid',\n                    color: '#2b4163',\n                },\n            },\n            axisTick: {\n                show: false, //不显示刻度\n            },\n            boundaryGap: true,\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    type: 'dashed',\n                    color: '#2b4163',\n                    width: 0.7,\n                },\n            },\n        },\n    ],\n    yAxis: {\n        type: 'category',\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: '#fff',\n                type: 'solid',\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                type: 'solid',\n                color: '#2b4163',\n            },\n        },\n        data: ['回款进度', '对账进度', '总应收'],\n        axisLabel: {\n            show: true,\n            margin: 20,\n            textStyle: {\n                color: '#fff',\n                fontSize: 14,\n            },\n        },\n    },\n    series: [\n        //最顶部的椭圆 5 号\n        {\n            type: 'pictorialBar',\n            symbolSize: [20, 60],\n            symbolOffset: [10, 0],\n            symbolPosition: 'end',\n            z: 12,\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(\n                        0,\n                        0,\n                        0,\n                        1,\n                        [\n                            {\n                                offset: 0,\n                                color: 'rgba(255,255,255,0.2)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(255,255,255,0.2)',\n                            },\n                        ],\n                        false\n                    ),\n                },\n            },\n            data: [3, 3, 3],\n        },\n        // 5号 动的 点\n        {\n            type: 'effectScatter',\n            rippleEffect: {\n                period: 1,\n                scale: 5,\n                brushType: 'fill',\n            },\n            z: 20,\n            zlevel: 2,\n            symbolPosition: 'end',\n            // symbol: path,\n            symbolSize: [4, 17],\n            symbolOffset: ['0', 3],\n            itemStyle: {\n                normal: {\n                    shadowColor: 'rgba(255,255,255,0.2)',\n                    shadowBlur: 5,\n                    shadowOffsetY: 3,\n                    shadowOffsetX: 0,\n                    opacity: 0.2,\n                    color: (color) => {\n                        return opacityColor[color.dataIndex];\n                    },\n                },\n            },\n            data: [3, 3, 3],\n        },\n        {\n            //左侧底部椭圆 1号\n            type: 'pictorialBar',\n            symbolSize: [20, 60],\n            symbolOffset: [-10, 0],\n            z: 12,\n            itemStyle: {\n                normal: {\n                    color: (params) => {\n                        return colorList[params.dataIndex]['0'];\n                    },\n                },\n            },\n            data: [3, 3, 3],\n        },\n        //中间椭圆 3 号\n        {\n            type: 'pictorialBar',\n            symbolSize: [20, 60],\n            symbolOffset: [10, 0],\n            z: 12,\n            symbolPosition: 'end',\n            itemStyle: {\n                normal: {\n                    color: (params) => {\n                        return colorList[params.dataIndex]['1'];\n                    },\n                },\n            },\n            data: line,\n        },\n        // 总应收\n        {\n            type: 'bar',\n            stack: '1',\n            barWidth: 60,\n            barGap: '100%',\n            itemStyle: {\n                normal: {\n                    color: (color) => {\n                        return new echarts.graphic.LinearGradient(1, 0, 0, 1, [\n                            {\n                                offset: 0,\n                                color: colorObj[color.dataIndex]['0'],\n                            },\n                            {\n                                offset: 1,\n                                color: colorObj[color.dataIndex]['1'],\n                            },\n                        ]);\n                    },\n                },\n            },\n            data: data5,\n        },\n\n        // 已对账金额\n        {\n            name: '已对账金额',\n            type: 'bar',\n            stack: '1',\n            barWidth: 60,\n            barGap: '100%',\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 1,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        type: 'linear',\n                        global: false,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: '#45cbd4',\n                            },\n                            {\n                                offset: 1,\n                                color: '#0a777e',\n                            },\n                        ],\n                    },\n                },\n            },\n            data: data3,\n        },\n        // 对账中金额\n        {\n            name: '对账中金额',\n            type: 'bar',\n            stack: '1',\n            barWidth: 60,\n            barGap: '100%',\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 1,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        type: 'linear',\n                        global: false,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(69,203,212,0.20)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(69,203,212,0.20)',\n                            },\n                        ],\n                    },\n                },\n            },\n            data: data4,\n        },\n        //已回款金额\n        {\n            name: '已回款金额',\n            type: 'bar',\n            stack: '1',\n            barWidth: 60,\n            barGap: '100%',\n            itemStyle: {\n                color: {\n                    x: 1,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    type: 'linear',\n                    global: false,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: '#E2D880',\n                        },\n                        {\n                            offset: 1,\n                            color: '#7F7416',\n                        },\n                    ],\n                },\n            },\n            data: data1,\n        },\n        // 未回款总额\n        {\n            name: '未回款总额',\n            type: 'bar',\n            stack: '1',\n            barWidth: 60,\n            barGap: '100%',\n            itemStyle: {\n                normal: {\n                    color: {\n                        x: 1,\n                        y: 0,\n                        x2: 0,\n                        y2: 1,\n                        type: 'linear',\n                        global: false,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(185,174,77,0.20)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(185,174,77,0.20)',\n                            },\n                        ],\n                    },\n                },\n            },\n            data: data2,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-otKTe9sa8GxITy2bsrMA3HvKDqfAr8t","theme":"","layout":"","viewCount":0,"userName":"豌***噢","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xA9asbsjRf.png?v=1633670650908","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-effectScatter","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"豌***噢"}}