{"status":0,"data":{"cid":"xRyuZ7UrJG","authorUid":"obd-ol0lDmf9JR8NngODP1mdUIb21LQSy07","authorUserName":"l***1","title":"旭日图test","description":"旭日图测试","latestVersion":3,"alwaysLatest":1,"createTime":"2021-04-19T09:30:38.000Z","lastUpdateTime":"2021-04-19T09:30:38.000Z","auth":2,"uid":"obd-ol0lDmf9JR8NngODP1mdUIb21LQSy07","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-06T05:24:00.000Z","code":"var colors = ['#FFAE57', '#FF7853', '#EA5151', '#CC3F57', '#9A2555'];\nvar bgColor = '#2E2733';\n\nvar itemStyle = {\n    star5: {\n        color: colors[0]\n    },\n    star4: {\n        color: colors[1]\n    },\n    star3: {\n        color: colors[2]\n    },\n    star2: {\n        color: colors[3]\n    }\n};\n\nvar data = [{\n    name: '虚构',\n    itemStyle: {\n        color: colors[1]\n    },\n    children: [{\n        name: '小说',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '疼'\n            }, {\n                name: '慈悲'\n            }, {\n                name: '楼下的房客'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '虚无的十字架'\n            }, {\n                name: '无声告白'\n            }, {\n                name: '童年的终结'\n            }]\n        }, {\n            name: '3☆',\n            children: [{\n                name: '疯癫老人日记'\n            }]\n        }]\n    }, {\n        name: '其他',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '纳博科夫短篇小说全集'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '安魂曲'\n            }, {\n                name: '人生拼图版'\n            }]\n        }, {\n            name: '3☆',\n            children: [{\n                name: '比起爱你，我更需要你'\n            }]\n        }]\n    }]\n}, {\n    name: '非虚构',\n    itemStyle: {\n        color: colors[2]\n    },\n    children: [{\n        name: '设计',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '无界面交互'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '数字绘图的光照与渲染技术'\n            }, {\n                name: '日本建筑解剖书'\n            }]\n        }, {\n            name: '3☆',\n            children: [{\n                name: '奇幻世界艺术\\n&RPG地图绘制讲座'\n            }]\n        }]\n    }, {\n        name: '社科',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '痛点'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '卓有成效的管理者'\n            }, {\n                name: '进化'\n            }, {\n                name: '后物欲时代的来临'\n            }]\n        }, {\n            name: '3☆',\n            children: [{\n                name: '疯癫与文明'\n            }]\n        }]\n    }, {\n        name: '心理',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '我们时代的神经症人格'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '皮格马利翁效应'\n            }, {\n                name: '受伤的人'\n            }]\n        }, {\n            name: '3☆'\n        }, {\n            name: '2☆',\n            children: [{\n                name: '迷恋'\n            }]\n        }]\n    }, {\n        name: '居家',\n        children: [{\n            name: '4☆',\n            children: [{\n                name: '把房子住成家'\n            }, {\n                name: '只过必要生活'\n            }, {\n                name: '北欧简约风格'\n            }]\n        }]\n    }, {\n        name: '绘本',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '设计诗'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: '假如生活糊弄了你'\n            }, {\n                name: '博物学家的神秘动物图鉴'\n            }]\n        }, {\n            name: '3☆',\n            children: [{\n                name: '方向'\n            }]\n        }]\n    }, {\n        name: '哲学',\n        children: [{\n            name: '4☆',\n            children: [{\n                name: '人生的智慧'\n            }]\n        }]\n    }, {\n        name: '技术',\n        children: [{\n            name: '5☆',\n            children: [{\n                name: '代码整洁之道'\n            }]\n        }, {\n            name: '4☆',\n            children: [{\n                name: 'Three.js 开发指南'\n            }]\n        }]\n    }]\n}];\n\nfor (var j = 0; j < data.length; ++j) {\n    var level1 = data[j].children;\n    for (var i = 0; i < level1.length; ++i) {\n        var block = level1[i].children;\n        var bookScore = [];\n        var bookScoreId;\n        for (var star = 0; star < block.length; ++star) {\n            var style = (function (name) {\n                switch (name) {\n                case '5☆':\n                    bookScoreId = 0;\n                    return itemStyle.star5;\n                case '4☆':\n                    bookScoreId = 1;\n                    return itemStyle.star4;\n                case '3☆':\n                    bookScoreId = 2;\n                    return itemStyle.star3;\n                case '2☆':\n                    bookScoreId = 3;\n                    return itemStyle.star2;\n                }\n            })(block[star].name);\n\n            block[star].label = {\n                color: style.color,\n                downplay: {\n                    opacity: 0.5\n                }\n            };\n\n            if (block[star].children) {\n                style = {\n                    opacity: 1,\n                    color: style.color\n                };\n                block[star].children.forEach(function (book) {\n                    book.value = 1;\n                    book.itemStyle = style;\n\n                    book.label = {\n                        color: style.color\n                    };\n\n                    var value = 1;\n                    if (bookScoreId === 0 || bookScoreId === 3) {\n                        value = 5;\n                    }\n\n                    if (bookScore[bookScoreId]) {\n                        bookScore[bookScoreId].value += value;\n                    }\n                    else {\n                        bookScore[bookScoreId] = {\n                            color: colors[bookScoreId],\n                            value: value\n                        };\n                    }\n                });\n            }\n        }\n\n        level1[i].itemStyle = {\n            color: data[j].itemStyle.color\n        };\n    }\n}\n\noption = {\n    backgroundColor: bgColor,\n    color: colors,\n    series: [{\n        type: 'sunburst',\n        center: ['50%', '48%'],\n        data: data,\n        sort: function (a, b) {\n            if (a.depth === 1) {\n                return b.getValue() - a.getValue();\n            }\n            else {\n                return a.dataIndex - b.dataIndex;\n            }\n        },\n        label: {\n            rotate: 'radial',\n            color: bgColor\n        },\n        itemStyle: {\n            borderColor: bgColor,\n            borderWidth: 2\n        },\n        levels: [{}, {\n            r0: 0,\n            r: 40,\n            label: {\n                rotate: 0\n            }\n        }, {\n            r0: 40,\n            r: 105\n        }, {\n            r0: 115,\n            r: 140,\n            itemStyle: {\n                shadowBlur: 2,\n                shadowColor: colors[2],\n                color: 'transparent'\n            },\n            label: {\n                rotate: 'tangential',\n                fontSize: 10,\n                color: colors[0]\n            }\n        }, {\n            r0: 140,\n            r: 145,\n            itemStyle: {\n                shadowBlur: 80,\n                shadowColor: colors[0]\n            },\n            label: {\n                position: 'outside',\n                textShadowBlur: 5,\n                textShadowColor: '#333'\n            },\n            downplay: {\n                label: {\n                    opacity: 0.5\n                }\n            }\n        }]\n    }]\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js","updaterUID":"obd-ol0lDmf9JR8NngODP1mdUIb21LQSy07","theme":"","layout":"","viewCount":15,"userName":"l***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xRyuZ7UrJG.png?v=1620278641037","isCustomThumbnail":0,"builtinTags":["category-work","series-sunburst"],"customTags":[],"updaterUserName":"l***1"}}