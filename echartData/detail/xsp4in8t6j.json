{"status":0,"data":{"cid":"xsp4in8t6j","authorUid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","authorUserName":"浮***少","title":"产品不良数top5","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-28T05:26:14.000Z","lastUpdateTime":"2021-10-28T05:26:14.000Z","auth":2,"uid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-28T05:26:14.000Z","code":"\r\n        function contains(arr, dst) {\r\n            var i = arr.length;\r\n            while (i -= 1) {\r\n                if (arr[i] == dst) {\r\n                    return i;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        var attackSourcesData = [70, 68, 30, 21, 12];\r\n        var attackSourcesName = ['产品A', '产品B', '产品C', '产品D', '产品E'];\r\n        var attackSourcesColor = ['#f36c6c', '#e6cf4e', '#0093ff', '#20d180', '#1089E7'];\r\n\r\n        function attackSourcesDataFmt(sData) {\r\n            var sss = [];\r\n            sData.forEach(function (item, i) {\r\n                itemStyle = {\r\n                    color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i]\r\n                }\r\n                sss.push({\r\n                    value: item,\r\n                    itemStyle: itemStyle\r\n                });\r\n            });\r\n            return sss;\r\n        }\r\n        option = {\r\n            backgroundColor:\"black\",\r\n            title: {\r\n                text: '产品不良数top5',\r\n                textStyle: {\r\n                    align: 'center',\r\n                    color: '#fff',\r\n                    fontSize: 28,\r\n                },\r\n                top: '5%',\r\n                left: 'center',\r\n            },\r\n            tooltip: {\r\n                show: true,\r\n                // backgroundColor: 'rgba(3,169,244, 0.5)',//背景颜色（此时为默认色）\r\n                textStyle: {\r\n                    fontSize: 16\r\n                },\r\n                //trigger: 'axis',\r\n                //axisPointer: {\r\n                //    type: 'shadow'\r\n                //}\r\n            },\r\n            legend: {\r\n                show: false\r\n            },\r\n            grid: {\r\n                left: 250,\r\n                bottom: 20,\r\n                right: 60,\r\n            },\r\n            xAxis: {\r\n                type: 'value',\r\n\r\n                splitLine: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    show: false\r\n                }\r\n\r\n            },\r\n            yAxis: {\r\n                type: 'category',\r\n                inverse: true,\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisPointer: {\r\n                    label: {\r\n                        show: true,\r\n                        margin: 30\r\n                    }\r\n                },\r\n                data: attackSourcesName,\r\n                axisLabel: {\r\n                    margin: 210,\r\n                    fontSize: 14,\r\n                    align: 'left',\r\n                    color: '#333',\r\n                    rich: {\r\n                        nt1: {\r\n                            color: '#fff',\r\n                            backgroundColor: attackSourcesColor[0],\r\n                            width: 30,\r\n                            height: 30,\r\n                            fontSize: 20,\r\n                            align: 'center',\r\n                            borderRadius: 100\r\n                        },\r\n                        nt2: {\r\n                            color: '#fff',\r\n                            backgroundColor: attackSourcesColor[1],\r\n                            width: 30,\r\n                            height: 30,\r\n                            fontSize: 20,\r\n                            align: 'center',\r\n                            borderRadius: 100\r\n                        },\r\n                        nt3: {\r\n                            color: '#fff',\r\n                            backgroundColor: attackSourcesColor[2],\r\n                            width: 30,\r\n                            height: 30,\r\n                            fontSize: 20,\r\n                            align: 'center',\r\n                            borderRadius: 100\r\n                        },\r\n                        nt: {\r\n                            color: '#fff',\r\n                            backgroundColor: attackSourcesColor[3],\r\n                            width: 30,\r\n                            height: 30,\r\n                            fontSize: 20,\r\n                            align: 'center',\r\n                            borderRadius: 100\r\n                        },\r\n                        title1: {\r\n                            backgroundColor: attackSourcesColor[0],\r\n                            color: '#fff',\r\n                            width: 145,\r\n                            fontSize: 20,\r\n                            align: 'left',\r\n                            borderRadius: 5,\r\n                            padding: 5,\r\n                        },\r\n                        title2: {\r\n                            backgroundColor: attackSourcesColor[1],\r\n                            color: '#fff',\r\n                            width: 145,\r\n                            fontSize: 20,\r\n                            align: 'left',\r\n                            borderRadius: 5,\r\n                            padding: 5,\r\n                        },\r\n                        title3: {\r\n                            backgroundColor: attackSourcesColor[2],\r\n                            color: '#fff',\r\n                            width: 145,\r\n                            fontSize: 20,\r\n                            align: 'left',\r\n                            borderRadius: 5,\r\n                            padding: 5,\r\n                        },\r\n                        title: {\r\n                            backgroundColor: attackSourcesColor[3],\r\n                            color: '#fff',\r\n                            width: 145,\r\n                            fontSize: 20,\r\n                            align: 'left',\r\n                            borderRadius: 5,\r\n                            padding: 5,\r\n                        }\r\n                    },\r\n                    formatter: function (value, index) {\r\n                        index = contains(attackSourcesName, value) + 1\r\n                        if (index - 1 < 3) {\r\n                            return [\r\n                                '{nt' + index + '|' + index + '}' + '  {title' + index + '|' + value + '}'\r\n                            ].join('\\n')\r\n                        } else {\r\n                            return [\r\n                                '{nt|' + index + '}' + '  {title|' + value + '}'\r\n                            ].join('\\n')\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            series: [{\r\n                    z: 2,\r\n                    //name: 'value',\r\n                    type: 'bar',\r\n                    barWidth: '25px',\r\n                    animationDuration: 1500,\r\n                    data: attackSourcesDataFmt(attackSourcesData),\r\n                    /**\r\n                     * es写法\r\n                     attackSourcesData.map((item, i) => {\r\n                        itemStyle = {\r\n                            color: i > 3 ? colorList[3] : colorList[i]\r\n                        }\r\n                        return {\r\n                            value: item,\r\n                            itemStyle: itemStyle\r\n                        };\r\n                    }),\r\n                    */\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: function (params) {\r\n                                return attackSourcesColor[params.dataIndex > 3 ? 3 : params.dataIndex]\r\n                            },\r\n                            barBorderRadius: 5,\r\n                        }\r\n                    },\r\n                    label: {\r\n                        show: true,\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: 24,\r\n                        offset: [10, 0]\r\n                    }\r\n                }\r\n\r\n            ]\r\n        };","html":"","externalScripts":"","updaterUID":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","theme":"","layout":"","viewCount":0,"userName":"浮***少","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xsp4in8t6j.png?v=1635398774995","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"浮***少"}}