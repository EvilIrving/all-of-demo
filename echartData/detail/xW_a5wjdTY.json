{"status":0,"data":{"cid":"xW_a5wjdTY","authorUid":"obd-otakK4zPqKuG9zZO5LOzsMmEZbMGW8N","authorUserName":"施***娟","title":"阳泉地图","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-11-24T09:39:40.000Z","lastUpdateTime":"2021-11-25T07:15:44.000Z","auth":2,"uid":"obd-otakK4zPqKuG9zZO5LOzsMmEZbMGW8N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-25T07:15:45.000Z","code":"myChart.showLoading();\n$.get('/asset/get/s/data-1637724266574-j_enXc11O.json', function (mapJson) {\n  myChart.hideLoading();\n  echarts.registerMap('jiangsu', mapJson);\n\n  option = {\n    tooltip: {\n      trigger: 'item',\n      formatter: '{b}',\n    },\n    geo: {\n      map: 'jiangsu',\n      roam: true,\n      zoom: 1,\n      label: {\n        normal: {\n          show: true,\n          textStyle: {\n            color: '#fff',\n          },\n        },\n        emphasis: {\n          textStyle: {\n            color: '#fff',\n          },\n        },\n      },\n      itemStyle: {\n        normal: {\n          borderColor: 'rgba(147, 235, 248, 1)',\n          borderWidth: 1,\n          areaColor: {\n            type: 'radial',\n            x: 0.5,\n            y: 0.5,\n            r: 0.8,\n            colorStops: [\n              {\n                offset: 0,\n                color: 'rgba(147, 235, 248, 0.5)', // 0% 处的颜色\n              },\n              {\n                offset: 1,\n                color: 'rgba(20, 155, 255, 0.9)', // 100% 处的颜色\n              },\n            ],\n            globalCoord: false, // 缺省为 false\n          },\n          shadowColor: 'rgba(128, 217, 248, 1)',\n          shadowOffsetX: -2,\n          shadowOffsetY: 2,\n          shadowBlur: 10,\n        },\n        emphasis: {\n          areaColor: '#389BB7',\n          borderWidth: 0,\n        },\n      },\n    },\n    visualMap: {\n      min: 10,\n      max: 100,\n      left: '3%',\n      bottom: '5%',\n      calculable: true,\n      seriesIndex: [0],\n      inRange: {\n        color: ['#24CFF4', '#2E98CA', '#1E62AC'],\n      },\n      textStyle: {\n        color: '#24CFF4',\n      },\n    },\n    series: [\n      {\n        type: \"map\",\n        mapType: \"jiangsu\", // 自定义扩展图表类型\n        \n        label: {\n              normal:{ //普通状态下的标签文本样式。(省份名称)\n                show: true, //是否在普通状态下显示标签。\n                textStyle: { // 文字设置\n                  color: '#fff'\n                },\n              },\n              emphasis: { // 是否在高亮状态下显示标签。(省份名称)\n                show: true,\n                textStyle: { // 文字设置\n                  color: '#fff'\n                },\n              }\n            },\n            roam: true, // 是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移，可以设置成 'scale' 或者 'move'。设置成 true 为都开启\n            itemStyle: { // 地图板块区域的多边形 图形样式\n                normal: { // 默认板块信息\n                    areaColor: '#0559ff',\n                    borderColor: '#0c4c9b'\n                },\n                emphasis: { // 高亮版板块信息\n                    areaColor: '#2085ff'\n                }\n            },\n      },\n      {\n        name: '江苏',\n        type: 'map',\n        geoIndex: 0,\n        map: 'jiangsu',\n        roam: true,\n        zoom: 1.3,\n        tooltip: {\n          trigger: 'item',\n          formatter: (p) => {\n            let val = p.value;\n            if (p.name == '南海诸岛') return;\n            if (window.isNaN(val)) {\n              val = 0;\n            }\n            let txtCon = \"<div style='text-align:left'>\" + p.name + ':<br />销售额：' + val.toFixed(2) + '万</div>';\n            return txtCon;\n          },\n        },\n        label: {\n          normal: {\n            show: false,\n          },\n          emphasis: {\n            show: false,\n          },\n        },\n        \n      },\n      {\n        name: '地点',\n        type: 'effectScatter', // 特效散点图\n        coordinateSystem: 'geo', // 'cartesian2d'使用二维的直角坐标系。'geo'使用地理坐标系\n        zlevel: 2, // 所有图形的 zlevel 值。\n        rippleEffect: {\n          //涟漪特效相关配置。\n          brushType: 'stroke', //波纹的绘制方式，可选 'stroke' 和 'fill'。\n          period: 4, // 动画的时间。\n          scale: 2.5, // 动画中波纹的最大缩放比例。\n        },\n        label: {\n          normal: {\n            show: false, //是否显示标签。\n            position: 'inside', //标签的位置。// 绝对的像素值[10, 10]\n            offset: [30, 40], //是否对文字进行偏移。默认不偏移。例如：[30, 40] 表示文字在横向上偏移 30，纵向上偏移 40。\n            formatter: '{b}: {c}', //标签内容格式器。模板变量有 {a}、{b}、{c}，分别表示系列名，数据名，数据值。\n          },\n          emphasis: {\n            show: true,\n            position: 'right',\n            formatter: '{b}',\n          },\n        },\n        symbolSize: 2, // 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高，例如 [20, 10] 表示标记宽为20，高为10。\n        showEffectOn: 'render', // 配置何时显示特效。可选：'render' 绘制完成后显示特效。'emphasis' 高亮（hover）的时候显示特效。\n        itemStyle: {\n          // 图形样式，normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。\n          normal: {\n            color: '#46bee9',\n          },\n        },\n        data: [\n          { name: '南京', value: [118.767413, 32.041544], symbolSize: 20, itemStyle: { normal: { color: '#F58158' } } },\n          { name: '无锡', value: [120.301663, 31.574729], symbolSize: 20, itemStyle: { normal: { color: '#F58158' } } },\n          { name: '常州', value: [119.946973, 31.772752], symbolSize: 40, itemStyle: { normal: { color: '#F58158' } } },\n        ],\n      },\n    ],\n  };\n  myChart.setOption(option);\n\n  // //点击空白区域\n  // myChart.getZr().on('click', params => {\n  //     if(!params.target) {\n  //       option.series[0].data = [\n  //           { name: \"盂县\", selected: false },\n  //           { name: \"郊区\", selected: false },\n  //           { name: \"平定县\" , selected: false},\n  //           { name: \"矿区\" , selected: false},\n  //           { name: \"城区\", selected: false }\n  //         ];//将拼接好的数组赋给参数集合\n  //       myChart.setOption(option, true);\n  //     }\n  //   })\n\n  //   myChart.on('click', params=>{\n  //     console.log(params)\n  //   })\n});\n","html":"","externalScripts":"","updaterUID":"obd-otakK4zPqKuG9zZO5LOzsMmEZbMGW8N","theme":"","layout":"","viewCount":0,"userName":"施***娟","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xW_a5wjdTY.png?v=1637824545252","isCustomThumbnail":0,"builtinTags":["category-work","series-map","tooltip"],"customTags":[],"updaterUserName":"施***娟"}}