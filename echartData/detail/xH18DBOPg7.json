{"status":0,"data":{"cid":"xH18DBOPg7","authorUid":"bd-2066513247","authorUserName":"g***8","title":"环图的循环展示数据","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-06-08T03:17:49.000Z","lastUpdateTime":"2018-06-08T03:17:49.000Z","auth":2,"uid":"bd-2066513247","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-06-08T03:17:49.000Z","code":"var colorSelect = [\n    new echarts.graphic.LinearGradient(\n        0, 0, 0, 1,\n        [\n            {offset: 0, color: '#e81a33'},\n            {offset: 1, color: '#ff4057'}\n        ]\n    ),\n    new echarts.graphic.LinearGradient(\n        0, 0, 0, 1,\n        [\n            {offset: 0, color: '#6816ff'},\n            {offset: 1, color: '#5816ff'}\n        ]\n    ),\n    new echarts.graphic.LinearGradient(\n        0, 0, 0, 1,\n        [\n            {offset: 0, color: '#337bff'},\n            {offset: 1, color: '#24bfff'}\n        ]\n    ),\n    new echarts.graphic.LinearGradient(\n        0, 0, 0, 1,\n        [\n            {offset: 0, color: '#ff6c32'},\n            {offset: 1, color: '#ffc12b'}\n        ]\n    ),\n    new echarts.graphic.LinearGradient(\n        0, 0, 0, 1,\n        [\n            {offset: 0, color: '#15daf1'},\n            {offset: 1, color: '#15f1e9'}\n        ]\n    ),\n];\nvar fontSizeSmall = 18;\nvar fontSizeBig = 26;\nvar rich = {\n    name: {\n        color: '#ffffff',\n        fontSize: fontSizeSmall,\n    },\n    value:{\n        color: '#ffffff',\n        fontSize: fontSizeBig,\n        textShadowColor: '#1549cc',\n        textBorderColor: '#1549cc',\n        textBorderWidth: 5,\n        textShadowBlur: 20\n    }\n}\noption = {\n    tooltip: {\n        padding: 0,\n        enterable: true,\n        position:['36%', '40%'],\n        backgroundColor: 'rgba(245, 245, 245, 0)',\n        borderWidth: 0,\n        formatter: function(params){\n            let tipHtml = '';\n            var htmlT = ['<div style=\"width: 120px;height:120px; color: #ffffff;\"><p style=\"margin: 0; margin-top: 20px; text-align: center; text-shadow: 0px 0px 20px #4467bd,0px 0px 20px #4467bd,0px 0px 20px #4467bd; font-size: 80px;\">'+params.percent+'%</p><p style=\"margin: 0;margin-top: 40px;text-align: center;font-size: 40px;\">'+ params.name +'</p></div>', '<div style=\"width: 120px;height:120px; color: #ffffff;\"><p style=\"margin: 0; margin-top: 10px; text-align: center; text-shadow: 0px 0px 20px #4467bd,0px 0px 20px #4467bd,0px 0px 20px #4467bd; font-size: 26px;\">'+params.percent+'%</p><p style=\"margin: 0;margin-top: 26px;text-align: center;font-size: 18px;\">'+ params.name +'</p></div>']\n            tipHtml = htmlT[0]\n            return tipHtml;\n        }\n    },\n    series: [\n        {\n            name:'访问来源',\n            type:'pie',\n            radius: ['60%', '74%'],\n            center: [ '50%', '57%' ],\n            minAngle: 45,\n            avoidLabelOverlap: true,\n            label: {\n                normal:{\n                    show: true,\n                    position: 'outside',\n                    textShadowcColor: '#1549cc',\n                    textShadowBlur: 30,\n                    formatter:function(params){\n                        return '{name|' + params.data.name + '}\\n{value|'+params.data.value + '}';\n                    },\n                    rich: rich\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: true,\n                    lineStyle:{\n                        color:'#ffffff'\n                    }\n                }\n            },\n            data: [\n                    {\n                        value:231, \n                        name:'地产',\n                        itemStyle:{\n                            color: colorSelect[0]\n                        }\n                    },\n                    {\n                        value:12702, \n                        name:'建筑',\n                        itemStyle:{\n                            color: colorSelect[1]\n                        }\n                    },\n                    {\n                        value:19395, \n                        name:'物业',\n                        itemStyle:{\n                            color: colorSelect[2]\n                        }\n                    },\n                    {\n                        value:907, \n                        name:'设计院',\n                        itemStyle:{\n                            color: colorSelect[3]\n                        }\n                    },\n                    {\n                        value:2621, \n                        name:'其他',\n                        itemStyle:{\n                            color: colorSelect[4]\n                        }\n                    }\n                ]\n        }\n    ]\n};\n\n        var count = 0;\n        var timeTicket = null;\n        var dataLength = option.series[0].data.length;\n        timeTicket && clearInterval(timeTicket);\n        timeTicket = setInterval(() => {\n            myChart.dispatchAction({\n                type: 'downplay',\n                seriesIndex: 0,\n            });\n            myChart.dispatchAction({\n                type: 'highlight',\n                seriesIndex: 0,\n                dataIndex: (count) % dataLength\n            });\n            myChart.dispatchAction({\n                type: 'showTip',\n                seriesIndex: 0,\n                dataIndex: (count) % dataLength\n            });\n            count++;\n        }, 2000);\n        myChart.on('mouseover', (params) => {\n            clearInterval(timeTicket);\n            myChart.dispatchAction({\n                type: 'downplay',\n                seriesIndex: 0,\n            });\n            myChart.dispatchAction({\n                type: 'highlight',\n                seriesIndex: 0,\n                dataIndex: params.dataIndex\n            });\n            myChart.dispatchAction({\n                type: 'showTip',\n                seriesIndex: 0,\n                dataIndex: params.dataIndex,\n            });\n        })\n        myChart.on('mouseout', (params) => {\n            timeTicket && clearInterval(this.timeTicket);\n            timeTicket = setInterval(() => {\n                myChart.dispatchAction({\n                    type: 'downplay',\n                    seriesIndex: 0,\n                });\n                myChart.dispatchAction({\n                    type: 'highlight',\n                    seriesIndex: 0,\n                    dataIndex: (count) % dataLength\n                });\n                myChart.dispatchAction({\n                    type: 'showTip',\n                    seriesIndex: 0,\n                    dataIndex: (count) % dataLength\n                });\n                count++;\n            }, 2000)  \n        })","html":"","externalScripts":"","updaterUID":"bd-2066513247","theme":"","layout":"","viewCount":223,"userName":"g***8","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH18DBOPg7.png?v=1528427869706","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"g***8"}}