{"status":0,"data":{"cid":"x4pHHBfSnT","authorUid":"bd-337639173","authorUserName":"会***泉","title":"堆叠柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-11-08T09:49:33.000Z","lastUpdateTime":"2018-11-08T09:49:33.000Z","auth":2,"uid":"bd-337639173","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-08T09:49:33.000Z","code":"// 指定图表的配置项和数据\r\n    var data1 = [20, 30,20, 30,20, 30,20, 30,20, 30];//小百分比\r\nvar data2 = [9, 30,9, 60,70, 20,59, 20,49, 20];//中百分比\r\nvar data4 = [100, 100,100,100, 100,100, 100,100,100, 100];//大百分比\r\nvar data5 = [20,24,20,24,20,24,20,24,20,24];//小完成数\r\nvar data6 = [9,18,9,18,9,18,9,18,9,18];//中完成数\r\nvar data7 = [100,80,100,80,100,80,100,80,100,80];//总数\r\nvar datacity =  ['巩义市', '兰考县', '汝州市', '滑县', '长垣县', '邓州市', '永城市', '固始县', '鹿邑县', '新蔡县'];\r\nvar option = {\r\n  \r\n\r\n   // backgroundColor: '#fff',\r\n    color: ['#00c484', '#98d7d6'],\r\n     tooltip: {\r\n              trigger: 'axis', \r\n              formatter: function(datas) \r\n              {                \r\n\t\t\t\t\t    var res = datas[0].axisValue + '<br/>', val;\r\n\t\t\t\t\t\tvar m=datas[0].dataIndex;\r\n\t\t\t\t\t\t var  zongshu='黑名单和重点关注名单数'+ '：'+data7[m]+'<br/>';\r\n                        val = '完成比例：'+(data1[m]+data2[m]) + '%'+ '<br/>';\r\n\t\t\t\t\t\tvar chengnuo=\"信用承诺：\"+data5[m]+ '<br/>';//小完成数\r\n\t\t\t\t\t\tvar chengnuobili=\"信用承诺占比：\"+data1[m]+ '%'+ '<br/>';//小比例\r\n\t\t\t\t\t\tvar xiufu=\"培训或约谈：\"+data6[m]+ '<br/>';//中\r\n\t\t\t\t\t\tvar xiufubili=\"培训或约谈：占比：\"+data2[m]+ '%'+ '<br/>';//中比例\r\n\t\t\t\t\t\tres+=zongshu+val+chengnuo+chengnuobili+xiufu+xiufubili;                \t\t\t\t\t\t\r\n                   \r\n\t\t\t\r\n                    return res;\r\n               }\r\n          },\r\n    legend: {\r\n      \r\n        top: '8%',\r\n        data: ['信用承诺', '培训或约谈'],\r\n\t\tright: '10%'\r\n    },\r\n    grid: { //图表的位置\r\n        top: '20%',\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '5%',\r\n        containLabel: true\r\n    },\r\n    yAxis: [\r\n        {\r\n           type: 'value',\r\n          \taxisLabel: {\r\n                  show: true,\r\n                  interval: 'auto',\r\n                  formatter: '{value} %'\r\n                },\r\n            show: true\r\n\r\n    }],\r\n    xAxis: [{\r\n        type: 'category',\r\n\t\t  axisLabel:  {\r\n                interval: 0,\r\n                rotate:-50,//x轴数据倾斜的角度-90-90\r\n                show: true,\r\n                splitNumber: 15,\r\n\r\n                textStyle: {\r\n                    //fontFamily: \"微软雅黑\",\r\n                    fontSize: 10,\r\n\t\t\t\t\t  color: function(params) {\r\n\t\t\t\t\t\t  var dataIndex=0;\r\n\t\t\t\t\t\t  for(var j=0;j<datacity.length;j++){\r\n\t\t\t\t\t\t  if(params==datacity[j]){\r\n\t\t\t\t\t\t\t  dataIndex=j;\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar data11=data1[dataIndex];\r\n\t\t\t\t\t\tvar data22=data2[dataIndex];\r\n\t\t\t\t\t\tvar hege=(data11+data22);\r\n\r\n                                    if(hege>=50){\r\n                                        return '#3399fe';\r\n                                    }else {\r\n                                        return '#ffcc00';\r\n                                    }\r\n\r\n                    },\r\n                },\r\n\r\n            },\r\n        data: datacity,\r\n    }],\r\n    series: [\r\n     \r\n        \r\n        {\r\n            name: '信用承诺',\r\n            type: 'bar',\r\n            stack: 'sum',\r\n            barWidth: '20px',\r\n            data: data1\r\n\r\n        },\r\n        {\r\n            name: '培训或约谈',\r\n            type: 'bar',\r\n            barWidth: '20px',\r\n            stack: 'sum',\r\n            data: data2,\r\n\t\t\t markLine : {\r\n                data : [\r\n                    {\r\n                     name: 'Y 轴值为 50 的水平线',\r\n                     yAxis: 50\r\n    },\r\n                ],\r\n\t\t\t\t\r\n\t\t\t\t  itemStyle : { \r\n                    normal: { \r\n                        borderWidth:1, \r\n                        lineStyle: { \r\n                            type: 'dashed', \r\n                            color:'#ffcc00', \r\n                            width:2 \r\n                        },\r\n\t\t\t\t\t\tlabel:{ formatter:'50%'}\r\n\t\t\t\t\t\t\r\n                    } \r\n                   \r\n                }, \r\n            }\r\n\r\n        },\r\n          \r\n\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-337639173","theme":"","layout":"","viewCount":1013,"userName":"会***泉","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4pHHBfSnT.png?v=1541670573689","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-bar","tooltip"],"customTags":[],"updaterUserName":"会***泉"}}