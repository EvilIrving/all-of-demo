{"status":0,"data":{"cid":"xDIX8xUpaH","authorUid":"bd-353054937","authorUserName":"t***g","title":"3D柱状图","description":"基于y轴的伪3D柱状图","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-23T07:51:17.000Z","lastUpdateTime":"2020-06-23T07:51:17.000Z","auth":2,"uid":"bd-353054937","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-23T07:51:17.000Z","code":"var MyCubeRect = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n        width: 48, //柱宽        \n        zWidth: 8, //阴影折角宽        \n        zHeight: 4, //阴影折角高 \n    },\n    buildPath: function (ctx, shape) {\n        const api = shape.api;\n      \n        const yAxisPoint = api.coord([shape.yValue, 0]);\n        const p0 = [shape.y, shape.x];\n        const p1 = [shape.y - 24, shape.x];\n        const p4 = [shape.y + 24, shape.x];\n        const p2 = [shape.y - 24, yAxisPoint[0]];\n        const p3 = [shape.y + 24, yAxisPoint[0]];\n        \n    \n\n        ctx.moveTo(p0[1],p0[0]);\n        ctx.lineTo(p1[1], p1[0]); //1\n        ctx.lineTo(p2[1], p2[0]); //2\n        ctx.lineTo(p3[1], p3[0]); //3\n        ctx.lineTo(p4[1], p4[0]); //4\n        ctx.lineTo(p0[1], p0[0]); //0\n        ctx.closePath();\n    }\n});\nvar MyCubeShadow = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n        width: 48,\n        zWidth: 8,\n        zHeight: 4,\n    },\n    buildPath: function (ctx, shape) {\n        const api = shape.api;\n        const yAxisPoint = api.coord([shape.yValue, 0]);\n        const p0 = [shape.y, shape.x];\n        const p1 = [shape.y - 24, shape.x];\n        const p4 = [shape.y + 24, shape.x];\n     \n        const p6 = [shape.y + 24 - 8, shape.x + 4];\n        const p7 = [shape.y - 24 - 8, shape.x + 4];\n        const p3 = [shape.y - 24, yAxisPoint[0]];\n        const p5 = [shape.y - 24 - 8, yAxisPoint[0] + 4];\n       \n        const p2 = [shape.y - 24, shape.x];\n     \n        const p8 = [shape.y - 24 - 8, shape.x + 4];\n      \n        ctx.moveTo(p2[1], p2[0]); //4\n        ctx.lineTo(p3[1], p3[0]); //3\n        ctx.lineTo(p5[1], p5[0]); //5\n        ctx.lineTo(p8[1], p8[0]); //6\n        ctx.lineTo(p2[1], p2[0]); //4\n    \n      \n        ctx.moveTo(p4[1], p4[0]); //4\n        ctx.lineTo(p6[1], p6[0]); //6\n        ctx.lineTo(p7[1], p7[0]); //7\n        ctx.lineTo(p1[1], p1[0]); //1\n        ctx.lineTo(p4[1], p4[0]); //4\n        ctx.closePath();\n    }\n});\necharts.graphic.registerShape('MyCubeRect', MyCubeRect);\necharts.graphic.registerShape('MyCubeShadow', MyCubeShadow);\noption = {\n    grid: {\n        height: 300\n    },\n    xAxis: {\n        // data: ['one', 'two']\n        type: 'value'\n    },\n    yAxis: {\n    //   type: 'value'\n    \n          data: ['one', 'two','three']\n    },\n    series: [{\n        type: 'custom',\n        renderItem: function (params, api) {\n            let location = api.coord([api.value(0), api.value(1)]);\n            // alert(api.value(0));\n            // console.info(api.value(0));\n            // console.info(api.value(1));\n            //20,60\n            return {\n                type: 'group',\n                children: [{\n                    type: 'MyCubeRect',\n                    shape: {\n                        api,\n                        xValue: api.value(0),\n                        yValue: api.value(1),\n                        x: location[0],\n                        y: location[1]\n                    },\n                    style: {\n                        fill: '#5AD8A6'\n                    }\n                },{\n                    type: 'MyCubeShadow',\n                    shape: {\n                        api,\n                        xValue: api.value(0),\n                        yValue: api.value(1),\n                        x: location[0],\n                        y: location[1]\n                    },\n                    style: {\n                        fill: '#1F986A'\n                    }\n                }]\n            };\n        },\n        data: [100,200,3000]\n    }]\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js","updaterUID":"bd-353054937","theme":"","layout":"","viewCount":108,"userName":"t***g","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDIX8xUpaH.png?v=1592898677177","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom"],"customTags":["3D","Y","柱状图"],"updaterUserName":"t***g"}}