{"status":0,"data":{"cid":"x-sOFNni6N","authorUid":"obd-oMiVSrAZclWDkBSPRsiN5RBSjSFzg2t","authorUserName":"西***雨","title":"进度分析条","description":"用特殊的柱状图描述进度","latestVersion":6,"alwaysLatest":0,"createTime":"2021-07-19T11:11:17.000Z","lastUpdateTime":"2021-07-23T10:01:50.000Z","auth":1,"uid":"obd-oMiVSrAZclWDkBSPRsiN5RBSjSFzg2t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":2,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-23T10:01:50.000Z","code":"data = [\n    {\n        name: '7天之内',\n        value: 10,\n    },\n    {\n        name: '7-28天',\n        value: 20,\n    },\n    {\n        name: '30-59天',\n        value: 64,\n    },\n    {\n        name: '60-89天',\n        value: 44,\n    },\n    {\n        name: '90天以上',\n        value: 44,\n    },\n];\nvar defaultData = [100, 100, 100, 100, 100, 100];\ngetArrByKey = (data, k) => {\n    let key = k || 'value';\n    let res = [];\n    if (data) {\n        data.forEach(function (t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n};\ngetSymbolData = (data) => {\n    let arr = [];\n    for (var i = 0; i < data.length; i++) {\n        arr.push({\n            value: data[i].value,\n            symbolPosition: 'end',\n        });\n    }\n    return arr;\n};\n// console.log(getSymbolData(data));\noption = {\n    backgroundColor: '#000000',\n    grid: {\n        top: '2%',\n        bottom: -15,\n        right: 30,\n        left: 30,\n        containLabel: true,\n    },\n    xAxis: {\n        show: false,\n    },\n    yAxis: [\n        {\n            triggerEvent: false,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n                interval: 0,\n                color: '#fff',\n                align: 'left',\n                margin: 80,\n                fontSize: 13,\n                formatter: function (value, index) {\n                    return '{title|' + value + '}';\n                },\n                rich: {\n                    title: {\n                        width: 165,\n                    },\n                },\n            },\n        },\n        {\n            triggerEvent: false,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n\n            axisLabel: {\n                interval: 0,\n                shadowOffsetX: '-20px',\n                color: ['#fff'],\n                align: 'right',\n                verticalAlign: 'bottom',\n                lineHeight: 40,\n                fontSize: 12,\n                formatter: function (value, index) {\n                    return (\n                        'SKU : ' + data[index].value + '个,' + ' 库存 : ' + '13003' + ' 件(' +  '{percentNumber|1%}'+')'\n                    );\n                },\n                rich: {\n                    percentNumber: {\n                        color: '#ff8e2e',\n                    },\n                },\n            },\n        },\n    ],\n    series: [\n        {\n            name: 'XXX',\n            type: 'pictorialBar',\n            symbol:\n                'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAZlBMVEUAAABe3uVe3+Vf3uVf3+Zf3uVg3+Zg3+Zf3+Vi4OZh4OZg3+Z86/Bh3+Zi4Odj4Odi4OZ86/B76/B86/Bj4ed56+9x5+xn4umB7/N87PB36e+A7/N+7fF/7vJ/7vJ+7fGA7/OB7/PReX+lAAAAIXRSTlMABQkVDREmIhk3MR10LEFFPHh7cUprXE35h2XnqMLAp+mHAG9cAAAB5ElEQVRIx83WjU7CMBQFYIoiKMqU/XUboHv/l/Tce7t2XamDNSacETEmX86tlK2rx4py150o+MstMBLwWRfHKo6JCVxLnvmFGBjFQ58oF1//sUZhGy/ClSTWObgnL4O+bkeN4nY2okfNMbkRt9/vtxz8InoTsWplJSCzFxPmO8+GpSIByX3YQAuGDWtRKhKjCnxDXhF6Z4yxnZ20Wgko7BMRDmxtSGVaI4kdTIgb+zTYoJQlIMlDlmUFgrcDWWC201qSayqlTkiCddWWeV62VU0YlnpRi9VOKaSUsiyq/N0krwq2Ugt7lVpZl5BfHNiytjagMi+XYp0kCR45hMlivVQrE/uU5pXSrCB5bM6d1t2lOZItMqmliT3q5uVxqxzyW/ccfYLNKx7ZTeykMvNyac2yt2Fbc61MHLSC0rwoxbiNdlQ3GBm1NLHQsHUrtEXppR/ljNpW6DbSCoqlFiVoN6YdaFlgsSFVPs1BdT8OaB5QyQzVcaqWDows/zepxR8ObLglTrdtCRVuRNj4Rrxh+//0ke2f8KVL+Kon3GCSbmsJN9OUW3j6g0Ns+LgCij2u0h+Sghc8mlMPBMgdx5DFh59VmOVHrvmDnoNxCz3J7MFWsMuaLyR089xz/xhlfijvwutR8gv3zk6BLUUeCgAAAABJRU5ErkJggg==',\n            symbolSize: [50, 50],\n            symbolOffset: [20, 0],\n            z: 12,\n            itemStyle: {\n                normal: {\n                    color: '#fff',\n                },\n            },\n            data: getSymbolData(data),\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 10,\n            barGap: '-100%',\n            z: 1,\n            data: defaultData,\n            itemStyle: {\n                normal: {\n                    color: '#0b2645',\n                    barBorderRadius: 10,\n                },\n            },\n        },\n        {\n            name: '条',\n            type: 'bar',\n            showBackground: true,\n            // backgroundColor:'#fff',\n            barBorderRadius: 30,\n            yAxisIndex: 0,\n            data: data,\n            barWidth: 10,\n            // align: left,\n            itemStyle: {\n                normal: {\n                    // color: \"rgba(41, 162, 245, 1)\",\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n                        {\n                            offset: 0,\n                            color: 'rgb(0,251,253,0)',\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgb(0,251,253,1)',\n                        },\n                    ]),\n                    barBorderRadius: 10,\n                },\n                // color: '#A71A2B',\n                barBorderRadius: 4,\n            },\n            label: {\n                normal: {\n                    color: '#fff',\n                    show: true,\n                    position: [0, '-20px'],\n                    textStyle: {\n                        fontSize: 16,\n                    },\n                    formatter: function (a, b) {\n                        return a.name;\n                    },\n                },\n            },\n        },\n    ],\n};\n\n","html":"","externalScripts":"","updaterUID":"obd-oMiVSrAZclWDkBSPRsiN5RBSjSFzg2t","theme":"","layout":"","viewCount":0,"userName":"西***雨","commentCount":0,"starCount":13,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-sOFNni6N.png?v=1627034510271","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"西***雨"}}