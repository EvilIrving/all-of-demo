{"status":0,"data":{"cid":"xOm_AVDivN","authorUid":"bd-258458457","authorUserName":"破***火","title":"直方图添加趋势线","description":"ecstat","latestVersion":3,"alwaysLatest":1,"createTime":"2019-07-11T10:11:34.000Z","lastUpdateTime":"2019-07-11T10:11:34.000Z","auth":2,"uid":"bd-258458457","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-15T02:14:25.000Z","code":"//ecStat 是 ECharts 的统计扩展，需要额外添加扩展脚本，参加上方“脚本”\n// 详情请移步 https://github.com/ecomfe/echarts-stat\n// 图中的曲线是通过指数回归拟合出的\n\nvar data2 = [\n    [3, 16.2],\n    [6, 32.3],\n    [9, 19.4],\n    [12, 25.5],\n    [15, 19.3],\n    [18, 25.0],\n    [21, 29.0],\n    [24, 27.0],\n    [27, 29.0],\n    [30, 18.0],\n    [33, 24.0],\n    [36, 12.0],\n    [39, 12.0],\n    [42, 16.0],\n    [45, 12.0],\n    [48, 9.0],\n    [51, 9.0],\n    [54, 2.0],\n    [57, 5.0],\n    [60, 5.0],\n    [63, 3.0],\n    [66, 8.0],\n    [69, 5.0],\n    [72, 2.0],\n    [75, 5.0],\n    [78, 2.0],\n    [81, 1.0],\n    [84, 4.0],\n    [87, 2.0],\n    [90, 3.0],\n    [93, 2.0],\n    [96, 3.0],\n    [99, 5.0],\n    [102, 0.0],\n    [105, 2.0],\n    [108, 3.0],\n    [111, 3.0],\n    [114, 1.0],\n    [117, 0.0],\n    [120, 2.0],\n    [121, 2.0]\n]\n\nvar testData = [\n    16,\n    32,\n    19,\n    25,\n    19,\n    25,\n    29,\n    27,\n    29,\n    18,\n    24,\n    12,\n    12,\n    16,\n    12,\n    9,\n    9,\n    2,\n    5,\n    5,\n    3,\n    8,\n    5,\n    2,\n    5,\n    2,\n    1,\n    4,\n    2,\n    3,\n    2,\n    3,\n    5,\n    0,\n    2,\n    3,\n    3,\n    1,\n    0,\n    2\n]\n\nvar firstData = [\n    3,\n    6,\n    9,\n    12,\n    15,\n    18,\n    21,\n    24,\n    27,\n    30,\n    33,\n    36,\n    39,\n    42,\n    45,\n    48,\n    51,\n    54,\n    57,\n    60,\n    63,\n    66,\n    69,\n    72,\n    75,\n    78,\n    81,\n    84,\n    87,\n    90,\n    93,\n    96,\n    99,\n    102,\n    105,\n    108,\n    111,\n    114,\n    117,\n    120\n]\n\nvar myRegression = ecStat.regression('polynomial', data2, 5);\n\nconsole.log(myRegression)\n\nmyRegression.points.sort((a, b) => {\n    // console.log(a, b)\n    return a[0] - b[0];\n});\n\nmyChart.setOption({\n    title: {\n        text: myRegression.expression,\n        left: 'center',\n        top: 21\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross'\n        }\n    },\n    xAxis: {\n        type: 'category',\n        splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        }\n    },\n    yAxis: {\n        type: 'value',\n        splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        }\n    },\n    dataZoom: [\n        {\n            type: 'slider'\n        },\n        {\n            type: 'inside'\n        }\n    ],\n    series: [{\n        name: 'bar',\n        type: 'bar',\n        label: {\n            emphasis: {\n                show: true\n            }\n        },\n        data: data2\n    }, {\n        name: 'line',\n        type: 'line',\n        showSymbol: false,\n        smooth: true,\n        data: myRegression.points,\n        markPoint: {\n            itemStyle: {\n                normal: {\n                    color: 'transparent'\n                }\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    formatter: myRegression.expression,\n                    textStyle: {\n                        color: '#333',\n                        fontSize: 14\n                    }\n                }\n            },\n            data: [{\n                coord: myRegression.points[myRegression.points.length - 1]\n            }]\n        }\n    }]\n});","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-stat@1.1.1/dist/ecStat.js","updaterUID":"bd-258458457","theme":"","layout":"","viewCount":167,"userName":"破***火","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xOm_AVDivN.png?v=1563156865320","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markPoint","series-bar","series-line","title","tooltip"],"customTags":["bar","Ecstat"],"updaterUserName":"破***火"}}