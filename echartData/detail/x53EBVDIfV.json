{"status":0,"data":{"cid":"x53EBVDIfV","authorUid":"obd-oNTOVHnFaw0LnPsih48HJoXN0h5RwCS","authorUserName":"y***4","title":"兴义市行（其他县级市合作QQ470797533）政区域图","description":"县级市乡镇行政区域图","latestVersion":3,"alwaysLatest":1,"createTime":"2021-01-11T07:54:45.000Z","lastUpdateTime":"2021-01-11T07:54:45.000Z","auth":2,"uid":"obd-oNTOVHnFaw0LnPsih48HJoXN0h5RwCS","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-11T07:58:36.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1610351522364-fhZQMcIdH.geojson\";\r\n\r\nmyChart.showLoading();\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('tianjin', geoJson);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n      \r\n    }\r\n    var data = [\r\n      \r\n    ];\r\n    var max = 480, min = 9; // todo \r\n    var maxSize4Pin = 100, minSize4Pin = 20;\r\n\r\n  var convertData = function (data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value)\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\n    option = {\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function (params) {\r\n              if(typeof(params.value)[2] == \"undefined\"){\r\n              \treturn params.name + ' : ' + params.value;\r\n              }else{\r\n              \treturn params.name + ' : ' + params.value[2];\r\n              }\r\n            }\r\n        },\r\n        title: {\r\n            show: true,\r\n            x: \"center\",\r\n            y: \"top\",\r\n            text: \"贵州省兴义行政区域图（其他县级市合作QQ470797533）\",\r\n           \r\n        },\r\n        legend: {\r\n            orient: 'vertical',\r\n            y: 'bottom',\r\n            x: 'right',\r\n            data: ['credit_pm2.5'],\r\n            textStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n       \r\n        geo: {\r\n        map: 'tianjin',\r\n        aspectScale: 0.75,\r\n        layoutCenter: [\"50%\", \"51.5%\"], //地图位置\r\n        layoutSize: '100%',\r\n        roam: true,\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: 'rgba(147, 235, 248, 1)',\r\n                borderWidth: 0.5,\r\n                color: {\r\n                    type: 'linear-gradient',\r\n                    x: 0,\r\n                    y: 1500,\r\n                    x2: 2500,\r\n                    y2: 0,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#009DA1' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#005B9E' // 50% 处的颜色\r\n                    }],\r\n                    global: true // 缺省为 false\r\n                },\r\n                opacity: 0.5,\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2a333d'\r\n            }\r\n        },\r\n        z: 2\r\n    },\r\n    series: [{\r\n        type: 'map',\r\n        map: 'tianjin',\r\n        tooltip: {\r\n            show: false\r\n        },\r\n        label: {\r\n            show: true,\r\n            color: '#FFFFFF',\r\n            fontSize: 16\r\n        },\r\n        aspectScale: 0.75,\r\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n        layoutSize: '95%',\r\n        roam: true,\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: 'rgba(147, 235, 248, 0.6)',\r\n                borderWidth: 0.8,\r\n                areaColor: {\r\n                    type: 'linear-gradient',\r\n                    x: 0,\r\n                    y: 1200,\r\n                    x2: 1000,\r\n                    y2: 0,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#009DA1' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#005B9E' // 50% 处的颜色\r\n                    }],\r\n                    global: true // 缺省为 false\r\n                },\r\n            },\r\n            emphasis: {\r\n                areaColor: 'rgba(147, 235, 248, 0)'\r\n            }\r\n        },\r\n        zlevel: 1\r\n    }]\r\n         \r\n    \r\n    };\r\n    myChart.setOption(option);\r\n});\r\nmyChart.on('georoam', function(params) {\r\n    var option = myChart.getOption(); //获得option对象\r\n    console.log('option的值：',option);\r\n    if (params.zoom != null && params.zoom != undefined) { //捕捉到缩放时\r\n        option.geo[0].zoom = option.series[0].zoom; //下层geo的缩放等级跟着上层的geo一起改变\r\n        option.geo[0].center = option.series[0].center; //下层的geo的中心位置随着上层geo一起改变\r\n    } else { //捕捉到拖曳时\r\n        option.geo[0].center = option.series[0].center; //下层的geo的中心位置随着上层geo一起改变\r\n    }\r\n    myChart.setOption(option); //设置option\r\n});","html":"","externalScripts":"","updaterUID":"obd-oNTOVHnFaw0LnPsih48HJoXN0h5RwCS","theme":"","layout":"","viewCount":396,"userName":"y***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x53EBVDIfV.png?v=1610351917023","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","title","tooltip"],"customTags":["县级市乡镇行政区域图"],"updaterUserName":"y***4"}}