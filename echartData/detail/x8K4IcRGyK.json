{"status":0,"data":{"cid":"x8K4IcRGyK","authorUid":"bd-2738551477","authorUserName":"沐***儿","title":"饼图指示线加圆点","description":"饼图指示线加圆点","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-24T05:31:48.000Z","lastUpdateTime":"2020-03-24T05:31:48.000Z","auth":2,"uid":"bd-2738551477","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-24T05:31:48.000Z","code":"let data = [{\r    \"name\": \"业务1\",\r    \"value\": 10\r}, {\r    \"name\": \"业务2\",\r    \"value\": 15\r}, {\r    \"name\": \"业务3\",\r    \"value\": 15\r},\r {\r    \"name\": \"业务4\",\r    \"value\": 25\r},\r {\r    \"name\": \"业务5\",\r    \"value\": 10\r},\r{\r    \"name\": \"业务6\",\r    \"value\": 25\r},\r];\rlet color = [ \"#fec101\", \"#b5b8cd \", \"#ff6226\",\"#f60000\",\"#2cc78f\",\"#2ca7f9\"]\r// 这步主要是为了让小圆点的颜色和饼状图的块对应，如果圆点的颜色是统一的，只需要把itemStyle写在series里面\rlet setLabel = (data)=>{\r    let opts = [];\r    for(let i=0;i<data.length;i++){\r        let item = {};\r        item.name = data[i].name;\r        item.value = data[i].value;\r        item.label = {\r            normal:{\r                //控制引导线上文字颜色和位置,此处a是显示文字区域，b做一个小圆圈在引导线尾部显示\r                    show:true,\r                    //a和b来识别不同的文字区域\r                    formatter:[\r                        '{a|{d}%  {b}}',//引导线上面文字\r                        '{b|}' //引导线下面文字\r                    ].join('\\n'), //用\\n来换行\r                    rich:{\r                        a:{\r                            left:20,\r                            padding:[0,-80,-15,-80]\r                         },\r                        b:{\r                            height:5,\r                            width:5,\r                            lineHeight: 5,\r                            marginBottom: 10,\r                            padding:[0,-5],\r                            borderRadius:5,\r                            backgroundColor:color[i], // 圆点颜色和饼图块状颜色一致\r                         }\r                    },\r                \r            }\r        }\r        \r        opts.push(item)\r    }\r    return opts;\r}\roption = {\r    backgroundColor: '#fff',\r    animation: true,\r      series: [\r        {\r         color:color,\r        name: '饼图圆点',\r        type: 'pie',\r        radius: ['35%', '50%'],\r        avoidLabelOverlap: false,\r        labelLine: {\r            normal: {\r                show: true,\r                length: 15, // 第一段线 长度\r                length2: 100, // 第二段线 长度\r                align: 'right'\r            },\r            emphasis: {\r                show: true\r            }\r        },\r        data:setLabel(data)\r      }\r    ]\r}","html":"","externalScripts":"","updaterUID":"bd-2738551477","theme":"","layout":"","viewCount":2123,"userName":"沐***儿","commentCount":1,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8K4IcRGyK.png?v=1585027908277","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":[],"updaterUserName":"沐***儿"}}