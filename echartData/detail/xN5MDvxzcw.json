{"status":0,"data":{"cid":"xN5MDvxzcw","authorUid":"bd-1547248901","authorUserName":"段***8","title":"多折线图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-03-25T09:17:42.000Z","lastUpdateTime":"2019-03-25T09:17:42.000Z","auth":2,"uid":"bd-1547248901","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-25T09:17:42.000Z","code":"let data = {\n    title: ['蒸发量111', '降水量'],\n    dataX: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n    dataY: [\n        [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 11, 22],\n        [12.0, 14.9, 17.0, 23.2, 235.6, 176.7, 15.6, 12.2, 12.6, 50.0, 22, 11],\n    ]\n}\n\n//计算最大值 \nconst calMax = (arr) => {\n    let max = 0;\n    arr.forEach((el) => {\n        if (max < el) {\n            max = el;\n        }\n    })\n    let maxint = Math.ceil(max / 9.5); //不让最高的值超过最上面的刻度\n    let maxval = maxint * 10; //让显示的刻度是整数\n    return maxval;\n}\n\nlet type = 'line' //bar\n\nlet maxArray = []\nlet list = data.dataY.map((item, index) => {\n    maxArray.push(calMax(data.dataY[index]))\n    let mod = {\n        name: data.title[index],\n        type: type,\n        data: data.dataY[index],\n        markPoint: {\n            // data: [\n            //   // { type: 'max', name: '最大值' },\n            //   // { type: 'min', name: '最小值' }\n            // ]\n        },\n        markLine: {\n            // data: [\n            //   // { type: 'average', name: '平均值' }\n            // ]\n        }\n    }\n    return mod\n})\n\noption = {\n    tooltip: {\n        trigger: 'axis'\n    },\n    color: ['#4C84FF', '#9A47FF', '#FF884C', '#13C2C2', '#F04864', '#FACC14', '#2FC25B', '#66B5FF'],\n    legend: {\n        orient: 'horizontal',\n        data: data.title,\n        bottom: 0,\n    },\n    grid: {\n        x: 60,\n        y: 44,\n        x2: 60,\n        y2: 64,\n    },\n    calculable: true,\n    xAxis: [{\n        type: 'category',\n        data: data.dataX,\n        lineStyle: {\n            color: '#145617',\n            width: 1\n        },\n        padding: 50,\n        // 横坐标间隔\n        axisLabel: {\n            interval: 0,\n        }\n    }, ],\n    yAxis: [{\n        type: 'value',\n        // 解决出现小数问题\n        max: calMax(maxArray),\n        interval: calMax(maxArray) / 5,\n        min: 0\n    }],\n    series: list\n};","html":"","externalScripts":"","updaterUID":"bd-1547248901","theme":"vintage","layout":"","viewCount":206,"userName":"段***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xN5MDvxzcw.png?v=1553505462762","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","markPoint","series-line","tooltip"],"customTags":[],"updaterUserName":"段***8"}}