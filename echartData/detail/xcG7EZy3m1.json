{"status":0,"data":{"cid":"xcG7EZy3m1","authorUid":"obd-o0N9XgjzEtK8qv4eJ75aguEaOF08uFv","authorUserName":"我***1","title":"斜切柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-14T05:20:57.000Z","lastUpdateTime":"2021-12-14T05:20:57.000Z","auth":2,"uid":"obd-o0N9XgjzEtK8qv4eJ75aguEaOF08uFv","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-14T05:20:57.000Z","code":"const myShape = {\n    x: 0,\n    y: 0,\n    width: 13, //间距\n};\n// 绘制左侧面\nconst InclinedRoofBar = echarts.graphic.extendShape({\n    shape: myShape,\n    buildPath: function (ctx, shape) {\n        // canvas，shape是从custom传入的\n        const xAxisPoint = shape.xAxisPoint;\n        const c0 = [shape.x, shape.y];\n        const c1 = [shape.x - 17, shape.y - 10];\n        const c2 = [xAxisPoint[0] - 17, xAxisPoint[1]];\n        const c3 = [xAxisPoint[0], xAxisPoint[1]];\n        ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n    },\n});\necharts.graphic.registerShape('InclinedRoofBar', InclinedRoofBar);\noption = {\n    backgroundColor: \"#1e3756\",\n    color: ['#b27e44'],\n    tooltip: {\n        show: true,\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        confine: true,\n        textStyle: {\n            fontSize: 14,\n        },\n        formatter: (params) => {\n            var tar = params[0];\n            this.workType = tar.name;\n            return tar.name + ' : ' + '<br/>' + tar.value;\n        },\n    },\n    legend: {\n        top: 5,\n        itemWidth: 16,\n        itemHeight: 8,\n        left: 'center',\n        padding: 0,\n        textStyle: {\n            color: '#fff',\n            fontSize: 14,\n            padding: [2, 0, 0, 0],\n        },\n        data: ['demo'],\n    },\n    grid: {\n        // top: 40,\n        // bottom: 10,\n        // left: 20,\n        // right: 20,\n        containLabel: true,\n\n        left: 0,\n        bottom: 0,\n        width: '100%',\n        height: '85%',\n    },\n    xAxis: {\n        type: 'category',\n\n        axisLine: {\n            show: true,\n            lineStyle: {\n                width: 1,\n                color: 'rgb(255, 255, 255, 0.5)',\n            },\n        },\n        axisLabel: {\n            show: true,\n            interval: 0,\n            rotate: 30,\n            textStyle: {\n                color: '#fff',\n                fontSize: 12,\n            },\n        },\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: 'rgb(255, 255, 255, 0.3)',\n                type: 'dashed',\n                width: 1,\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        data: [],\n        zlevel: 10,\n    },\n    yAxis: {\n        type: 'value',\n        name: '',\n        min: 0,\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#fff',\n                fontSize: 12,\n            },\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgb(255, 255, 255, 0.3)',\n                type: 'dashed',\n                width: 0.7,\n            },\n        },\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: 'rgb(52, 113, 250)',\n            },\n        },\n        nameTextStyle: {\n            color: '#fff',\n            fontSize: 16,\n        },\n    },\n    series: [\n        {\n            type: 'custom',\n            name: 'demo',\n            itemStyle: {\n                borderColor: '#b27e44',\n                borderWidth: 1,\n                color: '#b27e44',\n                normal: {\n                    borderWidth: 1,\n                },\n            },\n            renderItem: (params, api) => {\n                const location = api.coord([api.value(0), api.value(1)]);\n                const xlocation = api.coord([api.value(0), 0]);\n                return {\n                    type: 'InclinedRoofBar',\n                    shape: {\n                        api,\n                        xValue: api.value(0),\n                        yValue: api.value(1),\n                        x: location[0] + 10,\n                        y: location[1],\n                        xAxisPoint: [xlocation[0] + 10, xlocation[1]],\n                    },\n                    style: {\n                        fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                            {\n                                offset: 0,\n                                color: '#FFA042',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(0,0,0,0)',\n                            },\n                        ]),\n                        stroke: '#b27e44',\n                    },\n                };\n            },\n            data: [],\n        },\n        {\n            type: 'bar',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    fontSize: 14,\n                    offset: [15, 0],\n                },\n            },\n            showBackground: false,\n            barWidth: 14,\n            itemStyle: {\n                color: 'transparent',\n            },\n            tooltip: {\n                show: false,\n            },\n            data: [],\n        },\n    ],\n};\nconst { xAxis, series } = option;\nseriesData = [{\n\t\"workmode\": \"text1\",\n\t\"censusCount\": 29\n}, {\n\t\"workmode\": \"text2\",\n\t\"censusCount\": 80\n}, {\n\t\"workmode\": \"text3\",\n\t\"censusCount\": 34\n}, {\n\t\"workmode\": \"text4\",\n\t\"censusCount\": 27\n}, {\n\t\"workmode\": \"text5\",\n\t\"censusCount\": 55\n}]\nxAxis.data = seriesData.map((item) => item.workmode);\nseries[0].data = seriesData.map((item) => item.censusCount);","html":"","externalScripts":"","updaterUID":"obd-o0N9XgjzEtK8qv4eJ75aguEaOF08uFv","theme":"","layout":"","viewCount":0,"userName":"我***1","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcG7EZy3m1.png?v=1639459257593","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-custom","tooltip"],"customTags":[],"updaterUserName":"我***1"}}