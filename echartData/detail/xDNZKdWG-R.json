{"status":0,"data":{"cid":"xDNZKdWG-R","authorUid":"obd-oP6yJI7kyijvh0Vw37m6H-NpCRGKj9V","authorUserName":"h***年","title":"温度监控","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-08-15T08:08:18.000Z","lastUpdateTime":"2020-08-15T08:08:18.000Z","auth":2,"uid":"obd-oP6yJI7kyijvh0Vw37m6H-NpCRGKj9V","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-15T08:08:18.000Z","code":"var dataValArray = 0.63;\n   var value =25;\n   var max = 50;\n   color = [[\"#49afff\"], [\"#68A54A\"], [\"#f56c6c\"]]\nvar uploadedDataURL = \"/asset/get/s/data-1559120606810-8K55q2kWT.png\";\noption = {\n    tooltip: {\n        formatter: '{a} <br/>{b} : {c}%'\n    },\n    angleAxis: {\n           axisLine: {\n               show: false\n           },\n           axisLabel: {\n               show: false\n           },\n           splitLine: {\n               show: false\n           },\n           axisTick: {\n               show: false\n           },\n           min: 0,\n           max: 6.666,\n           // boundaryGap: ['0', '10'],\n           startAngle: 225\n       },\n       radiusAxis: {\n           type: 'category',\n           axisLine: {\n               show: false\n           },\n           axisTick: {\n               show: false\n           },\n           axisLabel: {\n               show: false\n           },\n           data: ['a', 'b', 'c'],\n           z: 10\n       },\n       polar: {\n           radius: '85%'\n       },\n    series: [{\n               type: 'bar',\n               data: [, , value/10],\n               z: 1,\n               coordinateSystem: 'polar',\n               barMaxWidth: 10,\n               name: '当前温度',\n               roundCap: true,\n              color:  //数组第一个属性是颜色所占line百分比\n                        [],\n\n               barGap: '-100%',\n               //如果想要两个系列的柱子重叠，可以设置 barGap 为 '-100%'。这在用柱子做背景的时候有用。\n           },\n          \n           {//底圈\n               type: 'bar',\n               data: [, , 5],\n               z: 0,\n               silent: true,\n               coordinateSystem: 'polar',\n               barMaxWidth: 45,\n               name: '',\n               roundCap: true,\n               color: 'rgb(255,255,255,0.5)',\n               barGap: '-100%',\n           },\n\n        {\n            name: '温度',\n            type: 'gauge',\n            max: 50,\n            startAngle: 225,\n            endAngle: -45,\n            detail: {\n                formatter: ['{value}℃', '{a|当前温度}'].join('\\n'),\n                fontSize: 120,\n                width: '100%',\n                height: '30%',\n                padding: [-300, 0, 0, 0],\n                rich: {\n                    a: {\n                        color: '#666',\n                        fontSize: 30,\n                        padding: [10, 0, 10, 0],\n                    }\n                }\n            },\n            data: [{\n                value: value\n            }],\n            axisLine: {\n                lineStyle: {\n                    color: [ //数组第一个属性是颜色所占line百分比\n                        [0.4, \"#49afff\"],\n                        [0.6, \"#68A54A\"],\n                        [1, \"#f56c6c\"],\n\n                    ],\n                    width: 22\n                }\n            },\n            splitLine: {\n                length: 15,\n                lineStyle: {\n                    width: 1\n                }\n            },\n            splitNumber: 50,\n            axisLabel: {\n                distance: -20,\n                show: true,\n                formatter: function(value) {\n                    if (value === 0 || value === 50) {\n                        return value + '℃'\n                    }\n                    return ''\n                },\n                //   padding: '8 0 0 0'\n                lineHeight: -60,\n                fontSize: 40\n            },\n            pointer: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n\n        },\n    \n      \n    ]\n};\nfunction init_polarColor(value) {    \n    //此函数根据value的范围大小，为仪表盘参数设置不同的颜色、数字\n    if (0 < value && value < 20) {        \noption.series[0].color[0]=\"#49afff\"\n    } else if (20 <= value && value < 30) {\noption.series[0].color = color[1]\n    } else if (30 <= value && value <= 50) {\noption.series[0].color = color[2]\n\n    } else {}\n  series[0].color = color[0]\n}\n\n\nsetInterval(function() {\n    // let num = (Math.random() * 40).toFixed(2) - 0;\n    let num = value\n    // option.series[0].data[0].value = num;\n    // option.series[1].data[0].value = num;\n    // option.series[1].data[2].value = 67 - num;\n    myChart.setOption(option, true);\n     init_polarColor(value)\n}, 2000);","html":"","externalScripts":"","updaterUID":"obd-oP6yJI7kyijvh0Vw37m6H-NpCRGKj9V","theme":"","layout":"","viewCount":763,"userName":"h***年","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDNZKdWG-R.png?v=1597478898206","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","series-gauge","tooltip"],"customTags":[],"updaterUserName":"h***年"}}