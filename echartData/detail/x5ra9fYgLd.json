{"status":0,"data":{"cid":"x5ra9fYgLd","authorUid":"bd-1464931953","authorUserName":"承***生","title":"动态数据排名","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-27T06:33:10.000Z","lastUpdateTime":"2020-05-27T06:33:10.000Z","auth":2,"uid":"bd-1464931953","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-05-27T06:33:10.000Z","code":"dataList = [\r\n        [1, '广东省', 9000],\r\n        [2, '江苏省', 8000],\r\n        [3, '河南省', 7000],\r\n        [4, '河北省', 6000],\r\n        [5, '吉林省', 5000],\r\n        [6, '云南省', 4000],\r\n        [7, '湖北省', 3000],\r\n        [8, '湖南省', 2000],\r\n        [9, '辽宁省', 1500],\r\n        [10, '黑龙江省', 1000]\r\n    ];\r\n    \r\ncolorList = [\r\n        { 'Color': '#FFCF7B' }, { 'Color': '#00F6FF' }, { 'Color': '#5181E2' },\r\n        { 'Color': '#0F82B7' }, { 'Color': '#0F82B7' }, { 'Color': '#0F82B7' },\r\n        { 'Color': '#0F82B7' }, { 'Color': '#0F82B7' }, { 'Color': '#0F82B7' },\r\n        { 'Color': '#0F82B7' }\r\n    ];\r\n    \r\nbarWidth = 20;\r\nnameFontColor = '#B3CCF8';\r\nnameFontSize = 12;\r\nnamePosition = [0, -15];\r\nvalueFontColor = '#FFFFFF';\r\nvalueFontSize = 12;\r\nindexNum = 0;\r\n\r\nfunction __getColorValue(name, val, index) {\r\n    return {\r\n        name: name,\r\n        color: colorList[index].Color,\r\n        value: val,\r\n        itemStyle: {\r\n            normal: {\r\n                show: true,\r\n                color: {\r\n                    type: \"linear\",\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: colorList[index].Color + '4B'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: colorList[index].Color + 'FF'\r\n                    }],\r\n                    globalCoord: false,\r\n                },\r\n                barBorderRadius: 10\r\n            },\r\n            emphasis: {\r\n                shadowBlur: 15,\r\n                shadowColor: 'rgba(0, 0, 0, 0.1)'\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\n function __SetOption(data) {\r\n    // top 动态计算\r\n    dataLength = data.length;\r\n    computeNumber = (10 - dataLength) * 30;\r\n    borderList = [(800 - computeNumber * 2) - 10, 5 + computeNumber];\r\n    titleTop = 17 + computeNumber;\r\n    titleLineTop = 55 + computeNumber;\r\n    tableBar = [100 + computeNumber, 16 + computeNumber];\r\n\r\n    lists = [];\r\n    values = [];\r\n    data.forEach((item, index) => {\r\n        lists.push(item[1]);\r\n        values.push(__getColorValue(item[1], item[2], index));\r\n    });\r\n\r\n    option = {\r\n        backgroundColor: 'RGB(8,20,67)',\r\n        title: {\r\n            show: true,\r\n            text: \"动态数据排名\",\r\n            top: 17,\r\n            right: 260,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 20,\r\n                fontFamily: \"trends\"\r\n            }\r\n        },\r\n        grid: {\r\n            top: 100,\r\n            left: \"65%\",\r\n            right: \"3%\",\r\n            bottom: 80\r\n        },\r\n        yAxis: [\r\n            {\r\n                type: \"category\",\r\n                inverse: true,\r\n                axisTick: { show: false },\r\n                axisLine: { show: false },\r\n                axisLabel: { show: false, inside: false },\r\n                data: lists\r\n            }\r\n        ],\r\n        xAxis: {\r\n            type: \"value\",\r\n            axisTick: { show: false },\r\n            axisLine: { show: false },\r\n            splitLine: { show: false },\r\n            axisLabel: { show: false },\r\n        },\r\n        graphic: [\r\n            {\r\n                type: \"rect\",\r\n                right: 10,\r\n                shape: { x: 5, y: 5, width: 400, height: 800, r: 1 },\r\n                style: {\r\n                    fill: \"rgba(0,0,0,0)\",\r\n                    stroke: {\r\n                        type: \"linear\",\r\n                        x: 0,\r\n                        y: 1,\r\n                        x2: 1,\r\n                        y2: 1,\r\n                        colorStops: [\r\n                            { offset: 0, color: \"rgba(10,70,120,1)\" },\r\n                            { offset: 0.5, color: \"rgba(10,70,120,1)\" },\r\n                            { offset: 1, color: \"rgba(10,70,120,0)\" },\r\n                        ],\r\n                        globalCoord: false,\r\n                    },\r\n                    lineWidth: 5,\r\n                },\r\n                zlevel: 1,\r\n            },\r\n            {\r\n                type: \"line\",\r\n                right: 10,\r\n                shape: { x1: 5, y1: 55, x2: 405, y2: 55, percent: 1 },\r\n                style: {\r\n                    fill: \"rgba(0,0,0,0)\",\r\n                    stroke: {\r\n                        type: \"linear\",\r\n                        x: 0,\r\n                        y: 1,\r\n                        x2: 1,\r\n                        y2: 1,\r\n                        colorStops: [\r\n                            { offset: 0, color: \"rgba(10,70,120,1)\" },\r\n                            { offset: 0.5, color: \"rgba(10,70,120,1)\" },\r\n                            { offset: 1, color: \"rgba(10,70,120,0)\" },\r\n                        ],\r\n                        globalCoord: false,\r\n                    },\r\n                    lineWidth: 5,\r\n                },\r\n                zlevel: 1,\r\n            },\r\n        ],\r\n        series: [{\r\n            name: '区域充电桩分配数据',\r\n            type: 'bar',\r\n            barWidth: barWidth,\r\n            data: values,\r\n            animationDuration: 1500,\r\n            zlevel: 2,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: nameFontColor,\r\n                    show: true,\r\n                    position: 'inside',\r\n                    position: namePosition,\r\n                    textStyle: {\r\n                        fontSize: nameFontSize\r\n                    },\r\n                    formatter: function (data) {\r\n                        return data.name;\r\n                    },\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: '区域充电桩分配数据',\r\n            type: 'bar',\r\n            barGap: '-100%',\r\n            barWidth: barWidth,\r\n            data: values,\r\n            animationDuration: 1500,\r\n            zlevel: 2,\r\n            label: {\r\n                normal: {\r\n                    color: valueFontColor,\r\n                    show: true,\r\n                    position: 'right',\r\n                    textStyle: {\r\n                        fontSize: valueFontSize\r\n                    },\r\n                    formatter: function (a, b) {\r\n                        return a.value;\r\n                    }\r\n                }\r\n            }\r\n        }],\r\n        animationEasing: \"cubicOut\",\r\n    };\r\n}\r\n\r\n__SetOption(dataList);\r\n\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-1464931953","theme":"","layout":"","viewCount":2465,"userName":"承***生","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5ra9fYgLd.png?v=1590561190253","isCustomThumbnail":0,"builtinTags":["category-work","graphic","grid","series-bar","title"],"customTags":[],"updaterUserName":"承***生"}}