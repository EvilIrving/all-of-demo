{"status":0,"data":{"cid":"xuq8XYNiYZ","authorUid":"obd-oj2M6fTMx1ZdsmlWKb_gMAI9CwtO2Dc","authorUserName":"a***1","title":"全国数据请求量","description":"Show Data","latestVersion":2,"alwaysLatest":0,"createTime":"2021-07-02T17:00:43.000Z","lastUpdateTime":"2021-07-02T17:01:25.000Z","auth":2,"uid":"obd-oj2M6fTMx1ZdsmlWKb_gMAI9CwtO2Dc","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-02T17:01:26.000Z","code":"var data = [\n    { name: '北京', value: 24 },\n    { name: '南昌', value: 3 },\n    { name: '成都', value: 12 },\n    { name: '深圳', value: 10 },\n    { name: '西安', value: 8 },\n    { name: '佛山', value: 1 },\n    { name: '沈阳', value: 4 },\n    { name: '厦门', value: 2 },\n    { name: '石家庄', value: 3 },\n    { name: '无锡', value: 3 },\n    { name: '乌鲁木齐', value: 1 },\n    { name: '宁波', value: 4 },\n    { name: '上海', value: 19 },\n    { name: '呼和浩特', value: 2 },\n    { name: '南京', value: 10 },\n    { name: '南宁', value: 4 },\n    { name: '兰州', value: 1 },\n    { name: '昆明', value: 6 },\n    { name: '合肥', value: 4 },\n    { name: '青岛', value: 6 },\n    { name: '哈尔滨', value: 2 },\n    { name: '济南', value: 3 },\n    { name: '东莞', value: 1 },\n    { name: '大连', value: 7 },\n    { name: '常州', value: 1 },\n    { name: '福州', value: 2 },\n    { name: '苏州', value: 5 },\n    { name: '长春', value: 5 },\n    { name: '长沙', value: 6 },\n    { name: '香港', value: 11 },\n    { name: '太原', value: 1 },\n    { name: '重庆', value: 10 },\n    { name: '杭州', value: 7 },\n    { name: '郑州', value: 7 },\n    { name: '贵阳', value: 1 },\n    { name: '徐州', value: 2 },\n    { name: '广州', value: 16 },\n    { name: '天津', value: 6 },\n    { name: '温州', value: 1 },\n    { name: '武汉', value: 10 },\n];\nvar geoCoordMap = {\n    北京: [116.322056, 39.89491],\n    南昌: [115.857963, 28.683016],\n    成都: [104.06632, 30.572903],\n    深圳: [114.058975, 22.543754],\n    西安: [108.939621, 34.343147],\n    佛山: [113.121511, 23.021318],\n    沈阳: [123.465009, 41.677287],\n    厦门: [118.08923, 24.479406],\n    石家庄: [114.514793, 38.042225],\n    无锡: [120.311889, 31.491064],\n    乌鲁木齐: [87.616842, 43.82539],\n    宁波: [121.6216, 29.859515],\n    上海: [121.473658, 31.230378],\n    呼和浩特: [111.748426, 40.842723],\n    南京: [118.796604, 32.059018],\n    南宁: [108.36637, 22.817746],\n    兰州: [103.834249, 36.06081],\n    昆明: [102.833722, 24.881539],\n    合肥: [117.227308, 31.82057],\n    青岛: [120.374402, 36.168923],\n    哈尔滨: [126.535319, 45.803131],\n    济南: [117.120098, 36.6512],\n    东莞: [113.751766, 23.020854],\n    大连: [121.614699, 38.913918],\n    常州: [119.974029, 31.810916],\n    福州: [119.296389, 26.074268],\n    苏州: [120.585197, 31.299473],\n    长春: [125.323628, 43.817001],\n    长沙: [112.938888, 28.228272],\n    香港: [114.171202, 22.277469],\n    太原: [112.549717, 37.87046],\n    重庆: [106.550464, 29.563761],\n    杭州: [120.209947, 30.245853],\n    郑州: [113.778584, 34.759197],\n    贵阳: [116.369666, 39.973437],\n    徐州: [117.283988, 34.203994],\n    广州: [113.264385, 23.129112],\n    天津: [117.201538, 39.085294],\n    温州: [120.699255, 27.993805],\n    武汉: [114.305215, 30.592935],\n};\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\n\nmyChart.setOption(\n    (option = {\n        backgroundColor: '#1D346F',\n        title: {\n            text: '全国40座城市地铁线路数量分布图',\n            subtext: 'Show Data',\n            left: 'center',\n            top: 'top',\n            textStyle: {\n                color: '#fff',\n            },\n        },\n        tooltip: {\n            //提示框组件。\n            trigger: 'item', //数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。\n            formatter: '{a} <br/> {b}: {c}',\n            textStyle: {\n                fontSize: '24px',\n            },\n        },\n        legend: {\n            show: false,\n            orient: 'horizontal', //图例的排列方向\n            x: 'left', //图例的位置\n            data: [''],\n        },\n        geo: [\n            {\n                show: true,\n                map: 'china',\n                label: {\n                    normal: {\n                        show: false,\n                    },\n                    emphasis: {\n                        show: false,\n                    },\n                },\n                // roam: false,//地图设置不可拖拽，固定的\n                itemStyle: {\n                    normal: {\n                        areaColor: '#031525',\n                        borderWidth: 0,\n                        shadowColor: '#D79D3D',\n                        shadowBlur: 30,\n                        shadowOffsetX: -5,\n                        shadowOffsetY: 10,\n                    },\n                },\n            },\n        ],\n        series: [\n            {\n                type: 'map',\n                map: 'china',\n                geoIndex: 1,\n                aspectScale: 0.75, //长宽比\n                showLegendSymbol: true, // 存在legend时显示\n                label: {\n                    normal: {\n                        show: false,\n                    },\n                    emphasis: {\n                        show: false,\n                        textStyle: {\n                            color: '#fff',\n                        },\n                    },\n                },\n                roam: true,\n                itemStyle: {\n                    normal: {\n                        borderColor: '#3B5077',\n                        areaColor: '#1D346F',\n                        borderColor: '#D79D3D',\n                    },\n                    emphasis: {\n                        areaColor: '#0f2c70',\n                    },\n                },\n                data: [{ name: '北京', value: 21300 }],\n            },\n            {\n                name: '城市',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                data: convertData(data),\n                symbolSize: function (val) {\n                    return val[2] / 1;\n                },\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        show: false,\n                    },\n                    emphasis: {\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#ddb926',\n                    },\n                },\n            },\n            {\n                name: '前5',\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                data: convertData(\n                    data\n                        .sort(function (a, b) {\n                            return b.value - a.value;\n                        })\n                        .slice(0, 6)\n                ),\n                symbolSize: function (val) {\n                    return val[2] / 0.8;\n                },\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#f4e925',\n                        shadowBlur: 10,\n                        shadowColor: '#333',\n                    },\n                },\n                zlevel: 1,\n            },\n        ],\n    })\n);\n","html":"","externalScripts":"https://www.makeapie.com/dep/echarts/map/js/china.js,https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js","updaterUID":"obd-oj2M6fTMx1ZdsmlWKb_gMAI9CwtO2Dc","theme":"","layout":"","viewCount":0,"userName":"a***1","commentCount":0,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xuq8XYNiYZ.png?v=1625245286187","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"a***1"}}