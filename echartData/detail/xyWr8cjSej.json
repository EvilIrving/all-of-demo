{"status":0,"data":{"cid":"xyWr8cjSej","authorUid":"obd-oPs-rDsD3wqbKsCD6JSFzckQvVx7B9r","authorUserName":"此***F","title":"3d地图添加柱状图，省份凸起","description":"各个省份根据数据大小凸出高度","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-29T06:17:39.000Z","lastUpdateTime":"2021-11-29T06:17:39.000Z","auth":2,"uid":"obd-oPs-rDsD3wqbKsCD6JSFzckQvVx7B9r","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2021-11-29T06:17:39.000Z","code":"var dataMaps = [\n    { name: '北京', value: 0 },\n    { name: '天津', value: 0 },\n    { name: '河北', value: 0 },\n    { name: '山西', value: 0 },\n    { name: '内蒙古', value: 0 },\n    { name: '辽宁', value: 0 },\n    { name: '吉林', value: 0 },\n    { name: '黑龙江', value: 0 },\n    { name: '上海', value: 0 },\n    { name: '江苏', value: 0 },\n    { name: '浙江', value: 0 },\n    { name: '安徽', value: 0 },\n    { name: '福建', value: 0 },\n    { name: '江西', value: 0 },\n    { name: '山东', value: 0 },\n    { name: '河南', value: 0 },\n    { name: '湖北', value: 0 },\n    { name: '湖南', value: 0 },\n    { name: '重庆', value: 0 },\n    { name: '四川', value: 0 },\n    { name: '贵州', value: 0 },\n    { name: '云南', value: 0 },\n    { name: '西藏', value: 0 },\n    { name: '陕西', value: 0 },\n    { name: '甘肃', value: 0 },\n    { name: '青海', value: 0 },\n    { name: '宁夏', value: 0 },\n    { name: '新疆', value: 0 },\n    { name: '广东', value: 0 },\n    { name: '广西', value: 0 },\n    { name: '海南', value: 0 },\n    { name: '台湾', value: 0 },\n];\n\ndataMaps.forEach((item) => {\n    let d = (Math.random() * 300).toFixed(0);\n    item.value = d;\n    item.height = d / 100;\n    return item;\n});\nconsole.log(dataMaps);\n\nlet geoCoordMap = {\n    海门: [121.15, 31.89],\n    鄂尔多斯: [109.781327, 39.608266],\n    招远: [120.38, 37.35],\n    舟山: [122.207216, 29.985295],\n    齐齐哈尔: [123.97, 47.33],\n    盐城: [120.13, 33.38],\n    赤峰: [118.87, 42.28],\n    青岛: [120.33, 36.07],\n    乳山: [121.52, 36.89],\n    金昌: [102.188043, 38.520089],\n    泉州: [118.58, 24.93],\n    莱西: [120.53, 36.86],\n    日照: [119.46, 35.42],\n    胶南: [119.97, 35.88],\n    南通: [121.05, 32.08],\n    拉萨: [91.11, 29.97],\n    云浮: [112.02, 22.93],\n    梅州: [116.1, 24.55],\n    文登: [122.05, 37.2],\n    上海: [121.48, 31.22],\n    攀枝花: [101.718637, 26.582347],\n    威海: [122.1, 37.5],\n    承德: [117.93, 40.97],\n    厦门: [118.1, 24.46],\n    汕尾: [115.375279, 22.786211],\n    潮州: [116.63, 23.68],\n    丹东: [124.37, 40.13],\n    太仓: [121.1, 31.45],\n    曲靖: [103.79, 25.51],\n    烟台: [121.39, 37.52],\n    福州: [119.3, 26.08],\n    瓦房店: [121.979603, 39.627114],\n    即墨: [120.45, 36.38],\n    抚顺: [123.97, 41.97],\n    玉溪: [102.52, 24.35],\n    张家口: [114.87, 40.82],\n    阳泉: [113.57, 37.85],\n    莱州: [119.942327, 37.177017],\n    湖州: [120.1, 30.86],\n    汕头: [116.69, 23.39],\n    昆山: [120.95, 31.39],\n    宁波: [121.56, 29.86],\n    湛江: [110.359377, 21.270708],\n    揭阳: [116.35, 23.55],\n    荣成: [122.41, 37.16],\n    连云港: [119.16, 34.59],\n    葫芦岛: [120.836932, 40.711052],\n    常熟: [120.74, 31.64],\n    东莞: [113.75, 23.04],\n    河源: [114.68, 23.73],\n    淮安: [119.15, 33.5],\n    泰州: [119.9, 32.49],\n    南宁: [108.33, 22.84],\n    营口: [122.18, 40.65],\n    惠州: [114.4, 23.09],\n    江阴: [120.26, 31.91],\n    蓬莱: [120.75, 37.8],\n    韶关: [113.62, 24.84],\n    嘉峪关: [98.289152, 39.77313],\n    广州: [113.23, 23.16],\n    延安: [109.47, 36.6],\n    太原: [112.53, 37.87],\n    清远: [113.01, 23.7],\n    中山: [113.38, 22.52],\n    昆明: [102.73, 25.04],\n    寿光: [118.73, 36.86],\n    海南: [118.73, 36.86],\n};\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    console.log(res);\n    return res;\n};\n\noption = {\n    tooltip: {\n        show: true,\n    },\n    visualMap: {\n        show: true,\n        min: 0,\n        max: 200,\n        left: 'left',\n        bottom: '8%',\n        text: ['高', '低'], // 文本，默认为数值文本\n        // calculable: true,\n        // seriesIndex: [1],\n        showLabel: true,\n        pieces: [\n            {\n                gt: 200,\n                label: '> 200 亿千瓦时',\n                color: '#5B5A86',\n            },\n            {\n                gt: 100,\n                lte: 200,\n                label: '100 - 200 亿千瓦时',\n                color: '#B9D6B5',\n            },\n            {\n                gt: 10,\n                lte: 100,\n                label: '10 - 100 亿千瓦时',\n                color: '#CBD0D3',\n            },\n            {\n                gt: 0,\n                lte: 10,\n                label: '≤10 亿千瓦时',\n                color: '#EDEAD3',\n            },\n        ],\n        // inRange: {\n        //   color: ['#EDEAD3', '#5B5A86'] // 蓝绿\n        // }\n    },\n    geo3D: {\n        map: 'china',\n        roam: true,\n        regionHeight: 0,\n        //shading: 'lambert',\n        //  light: { //光照阴影\n        //      main: {\n        //          color: '#fff', //光照颜色\n        //          intensity: 1.2, //光照强度\n        //          //shadowQuality: 'high', //阴影亮度\n        //          shadow: true, //是否显示阴影\n        //          alpha:55,\n        //          beta:10\n\n        //      },\n        //       ambient: {\n        //          intensity: 0.3\n        //      }\n        //  }\n    },\n    series: [\n        //柱状图\n        {\n            name: '发电量',\n            type: 'bar3D',\n            coordinateSystem: 'geo3D',\n            barSize: 0.5, //柱子粗细\n            shading: 'lambert',\n            opacity: 1,\n            bevelSize: 0.2,\n            label: {\n                show: false,\n                formatter: '{b}',\n            },\n            data: [{ name: '黑龙江', value: [125.03, 46.58, 156] }],\n        },\n        {\n            type: 'map3D',\n            map: 'china',\n            itemStyle: {\n                  areaColor: '#374151',// 地图配色\n                // areaColor: 'rgba(10, 133, 171, 0.8)',\n                opacity: 1,\n                borderWidth: 0.4,\n                borderColor: '#00FFF8', // 地图边配色\n            },\n\n            data: dataMaps,\n        },\n    ],\n};\n","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"obd-oPs-rDsD3wqbKsCD6JSFzckQvVx7B9r","theme":"","layout":"","viewCount":0,"userName":"此***F","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyWr8cjSej.png?v=1638166660053","isCustomThumbnail":0,"builtinTags":["category-work","geo3D","series-bar3D","series-map3D","tooltip","visualMap"],"customTags":[],"updaterUserName":"此***F"}}