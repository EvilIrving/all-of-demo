{"status":0,"data":{"cid":"x_m3J1WhRp","authorUid":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","authorUserName":"泡***_","title":"渐变双层饼状图","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-11-24T09:54:40.000Z","lastUpdateTime":"2021-11-29T10:21:27.000Z","auth":2,"uid":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-29T10:21:27.000Z","code":"function deepCopy(obj) {\r\n    if (typeof obj !== 'object') {\r\n        return obj;\r\n    }\r\n    var newobj = {};\r\n    for (var attr in obj) {\r\n        newobj[attr] = obj[attr];\r\n    }\r\n    return newobj;\r\n}\r\nvar xData = [],\r\n    yData = [];\r\nvar data = [{\r\n    \"name\": \"第一种\",\r\n    \"value\": 895457\r\n}, {\r\n    \"name\": \"第二种\",\r\n    \"value\": 1722232\r\n}]\r\ndata.map((a, b) => {\r\n    xData.push(a.name);\r\n    yData.push(a.value);\r\n});\r\nvar startColor = ['#625bce', '#feb44f', '#00bbce', '#ea865a'];\r\nvar endColor = ['#716dd3', '#f48d3c', '#00c4a5', '#ea2e41'];\r\nvar borderStartColor = ['#4a43c6', '#fca02d', '#05fcfb', '#ffa597'];\r\nvar borderEndColor = ['#5651cb', '#ef6f16', '#05ffff', '#ff6584'];\r\nvar RealData = [];\r\nvar borderData = [];\r\nvar total = 0;\r\ndata.map((item, index) => {\r\n    total += Number(item.value)\r\n    var newobj = deepCopy(item);\r\n    var newobj1 = deepCopy(item);\r\n    RealData.push(newobj);\r\n    borderData.push(newobj1);\r\n});\r\nRealData.map((item, index) => {\r\n    item.itemStyle = {\r\n        normal: {\r\n            color: {\r\n                type: 'linear',\r\n                x: 0,\r\n                y: 0,\r\n                x2: 0,\r\n                y2: 1,\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: startColor[index] // 0% 处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: endColor[index] // 100% 处的颜色\r\n                }],\r\n                globalCoord: false // 缺省为 false\r\n            },\r\n        }\r\n    }\r\n});\r\nborderData.map((item, index) => {\r\n    item.itemStyle = {\r\n        normal: {\r\n            color: {\r\n                type: 'linear',\r\n                x: 0,\r\n                y: 0,\r\n                x2: 0,\r\n                y2: 1,\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: borderStartColor[index] // 0% 处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: borderEndColor[index] // 100% 处的颜色\r\n                }],\r\n                globalCoord: false // 缺省为 false\r\n            },\r\n        }\r\n    }\r\n});\r\noption = {\r\n    backgroundColor:\"#FFF\",\r\n    title: {\r\n        text: '',\r\n        textStyle: {\r\n            color: '#f2f2f2',\r\n            fontSize: 28,\r\n            // align: 'center'\r\n        },\r\n        // top: \"5%\",\r\n        left:\"center\"\r\n    },\r\n    legend: {\r\n        show:false,\r\n        top: \"10%\",\r\n        // left: 10,\r\n        textStyle: {\r\n            color: '#f2f2f2',\r\n              fontSize: 20,\r\n    \r\n        },\r\n        icon: 'circle',\r\n        data: data,\r\n    },\r\n     tooltip: {\r\n         \r\n                formatter: \"{a}：<br/>{b}: {c}人\"\r\n            },\r\n    title:[{\r\n\t\ttext:`${total}个`,\r\n\t\ttextStyle: {\r\n\t\t\tfontSize: 24,\r\n\t\t},\r\n\t\tleft:\"center\",\r\n\t\ttop:\"47%\",\r\n\t}],\r\n\tgraphic:{\r\n\t\ttype:\"text\",\r\n\t\tleft:\"center\",\r\n\t\ttop:\"51%\",\r\n\t\tstyle:{\r\n\t\t\ttext:\"项目总数\",\r\n\t\t\ttextAlign:\"center\",\r\n\t\t\tfill:\"#333\",\r\n\t\t\tfontSize:20,\r\n\t\t\tfontWeight:700\r\n\t\t}\r\n\t},\r\n    series: [\r\n        // 主要展示层的\r\n        {\r\n            radius: ['20%', '40%'],\r\n            center: ['50%', '50%'],\r\n            type: 'pie',\r\n\t\t\t//clockWise:false,\r\n            label: {\r\n\t\t\t\t\r\n                normal: {\r\n                    show: true,\r\n\t\t\t\t\tposition:'outside',\r\n\t\t\t\t\tformatter:(params)=>{\r\n\t\t\t\t\t\treturn  `${params.name} : {fz|${params.value}} 个`\r\n\t\t\t\t\t},\r\n\t\t\t\t\trich:{\r\n\t\t\t\t\t\tfz:{\r\n\t\t\t\t\t\t\tfontSize:24\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\toverflow: 'none'\r\n                },\r\n\t\t\t\t\r\n                emphasis: {\r\n                    show: true\r\n                },\r\n\t\t\t\t\r\n            },\r\n            labelLine: {\r\n\t\t\t\t\r\n                normal: {\r\n\t\t\t\t\tlength:50,\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            name: \"民警训练总量\",\r\n            data: RealData,\r\n\t\t\t\r\n\t\t\titemStyle: {\r\n\t\t\t\tshadowBlur: 25,\r\n\t\t\t\tshadowOffsetX: 0,\r\n\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.2)'\r\n\t\t\t}\r\n        },\r\n        // 边框的设置\r\n        {\r\n            radius: ['20%', '30%'],\r\n            center: ['50%', '50%'],\r\n            type: 'pie',\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            labelLine: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n            animation: false,\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            data: borderData\r\n\t\t\t\r\n        },\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","theme":"","layout":"","viewCount":0,"userName":"泡***_","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_m3J1WhRp.png?v=1638181287871","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"泡***_"}}