{"status":0,"data":{"cid":"xAvzIcCTfD","authorUid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","authorUserName":"z***6","title":"横向柱状图","description":"坐标名在上面，数值在后面","latestVersion":1,"alwaysLatest":1,"createTime":"2021-07-13T14:02:25.000Z","lastUpdateTime":"2021-07-13T14:02:25.000Z","auth":2,"uid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-13T14:02:25.000Z","code":"//参考：https://www.makeapie.com/editor.html?c=xqjNqqjc_U\nvar datas = [\n  { ranking: 1, station: '车站1', value: 131744 },\n  { ranking: 2, station: '车站2', value: 104970 },\n  { ranking: 3, station: '车站3', value: 29034 },\n  { ranking: 4, station: '车站4', value: 23489 },\n  { ranking: 5, station: '车站5', value: 18203 },\n];\nvar seriesName = '出站量';\n\nfunction contains(arr, dst) {\n  var i = arr.length;\n  while ((i -= 1)) {\n    if (arr[i] == dst) {\n      return i;\n    }\n  }\n  return false;\n}\nvar attackSourcesColor = [\n  new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n    { offset: 0, color: '#EB3B5A' },\n    { offset: 1, color: '#FE9C5A' },\n  ]),\n  new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n    { offset: 0, color: '#FA8231' },\n    { offset: 1, color: '#FFD14C' },\n  ]),\n  new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n    { offset: 0, color: '#F7B731' },\n    { offset: 1, color: '#FFEE96' },\n  ]),\n  new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n    { offset: 0, color: '#395CFE' },\n    { offset: 1, color: '#2EC7CF' },\n  ]),\n];\nvar attackSourcesColor1 = [\n  '#EB3B5A',\n  '#FA8231',\n  '#F7B731',\n  '#3860FC',\n  '#1089E7',\n  '#F57474',\n  '#56D0E3',\n  '#1089E7',\n  '#F57474',\n  '#1089E7',\n  '#F57474',\n  '#F57474',\n];\nvar rankings = [];\nvar stationData = [];\nvar values = [];\n\ndatas.forEach(function (it, index) {\n  rankings.push(it.ranking);\n  stationData.push(it.station);\n  values.push(it.value);\n});\n\nfunction dataFormat(data) {\n  var arr = [];\n  data.forEach(function (item, i) {\n    let itemStyle = {\n      color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i],\n    };\n    arr.push({\n      value: item,\n      itemStyle: itemStyle,\n    });\n  });\n  return arr;\n}\n\noption = {\n  backgroundColor: '#000',\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow',\n    },\n  },\n  legend: {\n    textStyle: {\n      //图例文字的样式\n      fontSize: 10,\n      color: '#fff',\n    },\n    data: [seriesName],\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true,\n  },\n  xAxis: {\n    type: 'value',\n    splitLine: {\n      show: false,\n    },\n    axisLabel: {\n      show: false,\n    },\n    axisTick: {\n      show: false,\n    },\n    axisLine: {\n      show: false,\n    },\n  },\n  yAxis: [\n    {\n      type: 'category',\n      inverse: true,\n      axisLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      data: stationData,\n      axisLabel: {\n        margin: 30,\n        fontSize: 10,\n        align: 'left',\n        padding: [2, 0, 0, 0],\n        color: '#000',\n        rich: {\n          nt1: {\n            color: '#fff',\n            backgroundColor: attackSourcesColor1[0],\n            width: 13,\n            height: 13,\n            fontSize: 10,\n            align: 'center',\n            borderRadius: 100,\n            lineHeight: '5',\n            padding: [0, 1, 2, 1],\n            // padding:[0,0,2,0],\n          },\n          nt2: {\n            color: '#fff',\n            backgroundColor: attackSourcesColor1[1],\n            width: 13,\n            height: 13,\n            fontSize: 10,\n            align: 'center',\n            borderRadius: 100,\n            padding: [0, 1, 2, 1],\n          },\n          nt3: {\n            color: '#fff',\n            backgroundColor: attackSourcesColor1[2],\n            width: 13,\n            height: 13,\n            fontSize: 10,\n            align: 'center',\n            borderRadius: 100,\n            padding: [0, 1, 2, 1],\n          },\n          nt: {\n            color: '#fff',\n            backgroundColor: attackSourcesColor1[3],\n            width: 13,\n            height: 13,\n            fontSize: 10,\n            align: 'center',\n            lineHeight: 3,\n            borderRadius: 100,\n            padding: [0, 1, 2, 1],\n            lineHeight: 5,\n          },\n        },\n        formatter: function (value, index) {\n          index = contains(stationData, value) + 1;\n          if (index - 1 < 3) {\n            return ['{nt' + index + '|' + index + '}'].join('\\n');\n          } else {\n            return ['{nt|' + index + '}'].join('\\n');\n          }\n        },\n      },\n    },\n\n    {\n      type: 'category',\n      inverse: true,\n      axisTick: 'none',\n      axisLine: 'none',\n      show: true,\n      axisLabel: {\n        textStyle: {\n          color: '#fff',\n          fontSize: '10',\n        },\n      },\n      data: dataFormat(values),\n    },\n\n    {\n      type: 'category',\n      inverse: true,\n      offset: -10,\n      position: 'left',\n      axisTick: 'none',\n      axisLine: 'none',\n      show: true,\n      axisLabel: {\n        interval: 0,\n        color: ['#fff'],\n        align: 'left',\n        verticalAlign: 'bottom',\n        lineHeight: 32,\n        fontSize: 10,\n      },\n      data: dataFormat(stationData),\n    },\n  ],\n  series: [\n    {\n      zlevel: 1,\n      name: seriesName,\n      type: 'bar',\n      barWidth: 15,\n      data: dataFormat(values),\n      align: 'center',\n      itemStyle: {\n        normal: {\n          barBorderRadius: 10,\n        },\n      },\n      label: {\n        show: true,\n        fontSize: 10,\n        color: '#fff',\n        textBorderWidth: 2,\n        padding: [2, 0, 0, 0],\n      },\n    },\n    {\n      name: seriesName,\n      type: 'bar',\n      barWidth: 15,\n      barGap: '-100%',\n      data: [200000, 200000, 200000, 200000, 200000, 200000],\n      itemStyle: {\n        normal: {\n          color: '#05325F',\n          //width:\"100%\",\n          fontSize: 10,\n          barBorderRadius: 30,\n        },\n      },\n    },\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","theme":"","layout":"","viewCount":0,"userName":"z***6","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAvzIcCTfD.png?v=1626184945588","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"z***6"}}