{"status":0,"data":{"cid":"xzNmZ7McRd","authorUid":"bd-1610942177","authorUserName":"i***t","title":"服务器在线状态","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2019-05-27T09:47:40.000Z","lastUpdateTime":"2019-05-28T04:42:23.000Z","auth":2,"uid":"bd-1610942177","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-27T13:20:23.000Z","code":"var chinaGeoCoordMap = {\r\n        '上海': [121.4648, 31.2891],\r\n        '浙江': [119.5313, 29.8773],\r\n        \"江苏\": [118.8062, 31.9208],\r\n        \r\n        '北京': [116.4551, 40.2539],\r\n        \"天津\": [117.4219, 39.4189],\r\n        \"河南\": [113.4668, 34.6234],\r\n        \"甘肃\": [103.5901, 36.3043],\r\n        \r\n        \"贵州\": [106.6992, 26.7682],\r\n        \"广西\": [108.479, 23.1152],\r\n        \"江西\": [116.0046, 28.6633]\r\n        \r\n\t\t\r\n\t};\r\n\t\r\n   \tvar SHData = [\r\n   \t     [{name:'上海'}, {name:'上海'}],\r\n\t    [{name:'上海'}, {name:'浙江',type:\"mt\"}],\r\n\t    [{name:'上海'}, {name:'江苏',type:\"mt\"}]\r\n\t];\r\n\r\n\tvar BJData = [\r\n\t     [{name:'北京'}, {name:'北京'}],\r\n\t    [{name:'北京'}, {name:'天津'}],\r\n\t    [{name:'北京'}, {name:'河南',type:\"mt\"}],\r\n\t    [{name:'北京'}, {name:'甘肃',type:\"mt\"}]\r\n\t];\r\n\r\n\tvar GZData = [\r\n\t     [{name:'贵州',alert:true}, {name:'贵州',alert:true}],\r\n\t    [{name:'贵州',alert:true}, {name:'广西'}],\r\n\t    [{name:'广西'}, {name:'江西',type:\"mt\"}]\r\n\t   \r\n\t];\r\n\t\r\n\r\n\t\r\n\tvar convertData = function (data) {\r\n\t    var res = [];\r\n\t    for (var i = 0; i < data.length; i++) {\r\n\t        var dataItem = data[i];\r\n\t        var fromCoord = chinaGeoCoordMap[dataItem[0].name];\r\n\t        var toCoord = chinaGeoCoordMap[dataItem[1].name];\r\n\t        if (fromCoord && toCoord) {\r\n\t            var obj = {\r\n\t                fromName: dataItem[0].name,\r\n\t                toName: dataItem[1].name,\r\n\t                coords: [fromCoord, toCoord],\r\n\t                //value: dataItem[1].value,\r\n\t            }\r\n\t            console.log(dataItem[1])\r\n\t            if(dataItem[0].alert){\r\n\t                obj.lineStyle = {normal:{color:\"orange\"}}\r\n\t                obj.effect =  {\r\n    \t                color:\"red\",\r\n    \t                symbolSize:0\r\n\t                }\r\n\t            }\r\n\t            \r\n\t            console.log(obj)\r\n\t            \r\n\t            res.push(obj);\r\n\t        }\r\n\t    }\r\n\t    console.log(\"-------\")\r\n\t    return res;\r\n\t   \t\r\n\t};\r\n\t\r\n\tvar mtPath = \"path://M752.151 866.527H579.133v-47.486c173.631-32.436 304.931-184.675 304.931-367.785 0-153.623-92.46-285.338-224.778-342.977-0.023 0.032-0.047 0.062-0.069 0.094-45.734-20.009-96.17-31.258-149.294-31.258s-103.559 11.249-149.292 31.257l-0.069-0.093c-132.32 57.64-224.78 189.355-224.78 342.977 0 183.11 131.3 335.349 304.93 367.785v47.486H267.694c-33.178 0-34.62 34.589-34.62 34.589v69.215h553.699v-69.215c0-19.054-15.533-34.589-34.622-34.589zM634.962 135.969c-32.767 30.62-76.618 49.472-125.039 49.472-48.422 0-92.272-18.851-125.038-49.473 38.734-15.516 80.86-24.269 125.038-24.269s86.304 8.752 125.039 24.27z m-308.89 315.286c0-101.556 82.229-183.82 183.85-183.82 101.554 0 183.851 82.264 183.851 183.82 0 101.585-82.297 183.849-183.851 183.849-101.62 0-183.85-82.264-183.85-183.849z m281.179 0c0-53.781-43.547-97.296-97.328-97.296-18.52 0-35.629 5.436-50.359 14.393 4.596-1.442 9.363-2.381 14.395-2.381 27.274 0 49.348 22.075 49.348 49.351 0 27.245-22.073 49.317-49.348 49.317-27.277 0-49.318-22.073-49.318-49.317 0-5.064 0.972-9.831 2.384-14.428-8.994 14.732-14.428 31.841-14.428 50.361 0 53.81 43.511 97.324 97.325 97.324 53.782 0.001 97.329-43.514 97.329-97.324z\"\r\n\tvar serverPath = \"path://M960 320H64c-35.346 0-64-28.654-64-64V128c0-35.346 28.654-64 64-64h896c35.346 0 64 28.654 64 64v128c0 35.346-28.654 64-64 64z m-96-176c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z m-128 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z m224 496H64c-35.346 0-64-28.654-64-64v-128c0-35.346 28.654-64 64-64h896c35.346 0 64 28.654 64 64v128c0 35.346-28.654 64-64 64z m-96-176c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z m-128 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z m224 496H64c-35.346 0-64-28.654-64-64v-128c0-35.346 28.654-64 64-64h896c35.346 0 64 28.654 64 64v128c0 35.346-28.654 64-64 64z m-96-176c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z m-128 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z\";\r\n\tvar color = ['#a6c84c', '#ffa022', '#46bee9'];//航线的颜色\r\n\tvar series = [];\r\n\t\r\n\t[['上海', SHData], ['北京', BJData], ['贵州', GZData]].forEach(function (item, i) {\r\n\t\r\n\t     series.push(\r\n\t         {\r\n    \t        type: 'lines',\r\n    \t        zlevel: 1,\r\n    \t        effect: {\r\n    \t            show: true,\r\n    \t            period: 1.5,\r\n    \t            trailLength: 0.7,\r\n    \t            color: color[i],   //arrow箭头的颜色\r\n    \t            symbolSize: 3\r\n    \t        },\r\n    \t        lineStyle: {\r\n    \t            normal: {\r\n    \t                color: \"#22AC38\",\r\n    \t                width: 0,\r\n    \t                curveness: 0.2\r\n    \t            }\r\n    \t        },\r\n    \t        data: convertData(item[1])\r\n    \t    },{\r\n    \t        type: 'lines',\r\n    \t        zlevel: 2,\r\n    \t        symbol: ['none'],\r\n    \t        symbolSize: 10,\r\n    \t        effect: {\r\n    \t            show: false\r\n    \t        },\r\n    \t        lineStyle: {\r\n    \t            normal: {\r\n    \t                color: color[i],\r\n    \t                width: 2,\r\n    \t                opacity: 0.6,\r\n    \t                curveness: 0.2\r\n    \t            }\r\n    \t        },\r\n    \t        data: convertData(item[1])\r\n    \t    },{\r\n    \t        type: 'graph',\r\n    \t        coordinateSystem: 'geo',\r\n    \t        zlevel: 2,\r\n    \t        rippleEffect: {\r\n    \t            brushType: 'stroke'\r\n    \t        },\r\n    \t        label: {\r\n    \t            normal: {\r\n    \t                show: true,\r\n    \t                position: 'right',\r\n    \t                formatter: '{b}'\r\n    \t            }\r\n    \t        },\r\n    \t        \r\n    \t        symbolSize: 18,\r\n    \t        itemStyle: {\r\n    \t        \tnormal: {\r\n    \t        \t\tcolor: color[i],\r\n\t\t            },\r\n\t\t            emphasis: {\r\n\t\t                areaColor: '#2B91B7'\r\n\t\t            }\r\n    \t        },\r\n    \t        data: item[1].map(function (dataItem) {\r\n    \t            return {\r\n    \t                symbol: (dataItem[1].type==\"mt\")?mtPath:serverPath,\r\n    \t                \r\n    \t                itemStyle:{\r\n    \t                    normal:{color:dataItem[1].alert?\"red\": color[i]}\r\n                        },\r\n    \t                name: dataItem[1].name,\r\n    \t                value: chinaGeoCoordMap[dataItem[1].name].concat([dataItem[1].value])\r\n    \t            };\r\n    \t        })\r\n    \t    }\r\n    \t  \r\n    \t  )\r\n\t})\r\n\t\r\n\tconsole.log(series)\r\n\r\n\r\n\toption = {\r\n\t     title : {\r\n    \t        text: '模拟UCD数据',\r\n    \t        subtext: 'kongchun',\r\n    \t        left: 'center',\r\n    \t        textStyle : {\r\n    \t            color: '#fff'\r\n    \t        }\r\n    \t},\r\n\t\ttooltip: {\r\n\t\t\ttrigger: 'item',\r\n\t\t\tbackgroundColor: 'rgba(166, 200, 76, 0.82)',\r\n\t\t\tborderColor: '#FFFFCC',\r\n\t\t\tshowDelay: 0,\r\n\t\t\thideDelay: 0,\r\n\t\t\tenterable: true,\r\n\t\t\ttransitionDuration: 0,\r\n\t\t\textraCssText: 'z-index:100',\r\n// \t\t\tformatter: function(params, ticket, callback) {\r\n// \t\t\t\t//根据业务自己拓展要显示的内容\r\n// \t\t\t\t// var res = \"\";\r\n// \t\t\t\t// var name = params.name;\r\n// \t\t\t\t// var value = params.value;\r\n// \t\t\t\t// res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\r\n// \t\t\t\t//return res;\r\n// \t\t\t}\r\n\t\t},\r\n\t\tbackgroundColor:\"#2b2b2b\",\r\n\t\tgeo: {\r\n\t\t\tmap: 'china',\r\n\t\t\tzoom: 1.2,\r\n\t\t\tlabel: {\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\troam: true, //是否允许缩放\r\n\t\t\titemStyle: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tcolor: 'rgba(51, 69, 89, .5)', //地图背景色\r\n\t\t\t\t\tborderColor: '#516a89', //省市边界线00fcff 516a89\r\n\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t},\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tcolor: 'rgba(37, 43, 61, .5)' //悬浮背景\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tseries: series\r\n\t};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-1610942177","theme":"default","layout":"","viewCount":13743,"userName":"i***t","commentCount":3,"starCount":42,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzNmZ7McRd.png?v=1558963223578","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-graph","series-lines","title","tooltip"],"customTags":[],"updaterUserName":"i***t"}}