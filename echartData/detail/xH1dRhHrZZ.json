{"status":0,"data":{"cid":"xH1dRhHrZZ","authorUid":"bd-2787351044","authorUserName":"晴子雪","title":"（graph）关系图的写法","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-05-26T06:35:59.000Z","lastUpdateTime":"2017-05-26T06:35:59.000Z","auth":2,"uid":"bd-2787351044","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.6.0","versionCreateTime":"2017-05-26T06:35:59.000Z","code":"var data = ['文艺', '人文社科', '经管', '励志',\r\n    '科技', '生活'\r\n];\r\nvar c = [];\r\nvar m = [];\r\nvar n = [];\r\nvar l = [800, 700, 750, 850, 1000, 1200];\r\nvar a = [\"星星上的人\", \"心无挂碍\", \"解忧杂货店\", \"小王子\", \"次第花开\", \"老人与海\", \"影响力\", \"金字塔原理\", \"阿米巴经营\", \"断舍离\", \"非暴力沟通\", \"人性的弱点营\", \"时间重生\", \"虚空：宇宙源起何处\", \"无限之书：从宇宙边\", \"太空之眼 : 哈勃\", \"肌肉健美训练图解\", \"如果可以去流浪\", \"孤独星球\", \"最好的时光在路上\"];\r\nvar d = [280, 220, 300, 200, 240, 260, 300, 200, 250, 300, 200, 350, 300, 200, 180, 320, 320, 350, 250, 280];\r\nfor (var i = 0; i < data.length; i++) {\r\n    c.push({\r\n        \"name\": data[i],\r\n        \"value\": l[i],\r\n        \"symbolSize\": 9,\r\n        \"category\": data[i],\r\n        \"draggable\": \"true\"\r\n    });\r\n    m.push({\r\n        \"source\": \"借阅频次高的书类进行排名\",\r\n        \"target\": data[i]\r\n    });\r\n    n.push({\r\n        'name': data[i]\r\n    });\r\n}\r\nfor (var k = 0; k < a.length; k++) {\r\n    if (k < 3) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"文艺\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"文艺\",\r\n            \"target\": a[k]\r\n        })\r\n    } else if (k < 6) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"人文社科\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"人文社科\",\r\n            \"target\": a[k]\r\n        })\r\n    } else if (k < 9) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"经管\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"经管\",\r\n            \"target\": a[k]\r\n        })\r\n    } else if (k < 12) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"励志\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"励志\",\r\n            \"target\": a[k]\r\n        })\r\n    } else if (k < 16) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"科技\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"科技\",\r\n            \"target\": a[k]\r\n        })\r\n    } else if (k < 20) {\r\n        c.push({\r\n            \"name\": a[k],\r\n            \"value\": d[k],\r\n            \"symbolSize\": 18,\r\n            \"category\": \"生活\",\r\n            \"draggable\": \"true\"\r\n        });\r\n        m.push({\r\n            \"source\": \"生活\",\r\n            \"target\": a[k]\r\n        })\r\n    }\r\n}\r\nc.push({\r\n    \"name\": \"借阅频次高的书类进行排名\",\r\n    \"symbolSize\": 3,\r\n    \"category\": \"借阅频次高的书类进行排名\",\r\n    \"draggable\": \"true\",\r\n    \"value\": []\r\n});\r\n/*   d.push( {\r\n       \"source\": \"人文学院\",\r\n       \"target\": \"汉语言文学(应用语言学)\"\r\n   });*/\r\noption = {\r\n    backgroundColor: new echarts.graphic.RadialGradient(0.3, 0.3, 0.8, [{\r\n        offset: 0,\r\n        color: '#f7f8fa'\r\n    }, {\r\n        offset: 1,\r\n        color: '#cdd0d5'\r\n    }]),\r\n    title: {\r\n        text: \"书类排名\",\r\n    },\r\n    tooltip: {},\r\n    legend: [{\r\n        formatter: function(name) {\r\n            return echarts.format.truncateText(name, 40, '14px Microsoft Yahei', '…');\r\n        },\r\n        tooltip: {\r\n            show: true\r\n        },\r\n        selectedMode: 'false',\r\n        bottom: 20,\r\n        data: ['文艺', '人文社科', '经管', '励志',\r\n            '科技', '生活', '音像'\r\n        ]\r\n    }],\r\n    toolbox: {\r\n        show: true,\r\n        feature: {\r\n            dataView: {\r\n                show: true,\r\n                readOnly: true\r\n            },\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    animationDuration: 3000,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    series: [{\r\n        name: '借阅频次高的书类进行排名',\r\n        type: 'graph',\r\n        layout: 'force',\r\n\r\n        force: {\r\n            repulsion: 50\r\n        },\r\n        data: c,\r\n        links: m,\r\n        categories: n,\r\n        focusNodeAdjacency: true,\r\n        roam: true,\r\n        label: {\r\n            normal: {\r\n\r\n                show: true,\r\n                position: 'top',\r\n\r\n            }\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                color: 'source',\r\n                curveness: 0,\r\n                type: \"solid\"\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2787351044","theme":"","layout":"","viewCount":5072,"userName":"晴子雪","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1dRhHrZZ.png?v=1495780560213","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-graph","title","toolbox","tooltip"],"customTags":["graph"],"updaterUserName":"晴子雪"}}