{"status":0,"data":{"cid":"xJNTe8PKah","authorUid":"bd-2340065800","authorUserName":"眉***藏","title":"测量数据统计","description":"有需要的人自取","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-04T10:05:01.000Z","lastUpdateTime":"2020-12-04T10:05:01.000Z","auth":2,"uid":"bd-2340065800","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-04T10:05:01.000Z","code":"const mock = [{\n        k: '测量总次数',\n        v: [{\n            k: '测量总次数',\n            v: 120\n        }],\n    },\n    {\n        k: '自动上传次数',\n        v: [{\n            k: '自动上传次数',\n            v: 80\n        }],\n    },\n    {\n        k: '手动上传次数',\n        v: [{\n            k: '手动上传次数',\n            v: 80\n        }],\n    },\n    {\n        k: '测量人数',\n        v: [{\n            k: '测量人数',\n            v: 80\n        }],\n    }\n]\nvar colorList=['#6227E6','#0D6DD8','#E449B3','#0C7E38'];\nvar colorList2=['#6995F0','#63E6EF','#FC7CDC','#1BC85E'];\n// 横轴数据\nconst xAxis = mock.map(item => item.k)\n// 系列 1 数据 (类目1)\nconst seriesData1 = mock.map(item => item.v[0].v)\n// 最大值 (额外拉高多少根据数据数量级决定)\nconst max = Math.max(...seriesData1) + 10\n// 构造柱最大值数组\nconst maxList = []\nfor (let i = 0; i < mock.length; i += 1) {\n    maxList.push(max)\n}\n\noption = {\n    backgroundColor: '#081d5f',\n    title: {\n\t    text: '测量数据统计',\n\t    textStyle: {\n\t        fontSize: 22,\n\t        fontWeight: 400,\n\t        color:'#fff'\n\t    },\n\t    left: '0%',\n\t    top: '0%'\n\t},\n    series: [\n        {\n            // 该系列为背景深蓝色半胶囊\n            data: maxList,\n            type: 'bar',\n            xAxisIndex: 0,\n            silent: true,\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    formatter:function(params){\n                       return seriesData1[params.dataIndex]\n                    },\n                    fontSize: 20,\n                    color: \"#688DEF\"\n                }\n            },\n            itemStyle: {\n                color: '#334fba',\n                barBorderRadius: [20, 20, 20, 20],\n            },\n            barWidth: 30,\n            tooltip: {\n                show: false,\n            },\n        },\n        {\n            data: seriesData1,\n            type: 'bar',\n            xAxisIndex: 1,\n            itemStyle: {\n                barBorderRadius: 25,\n                color: function(params){\n                    console.log(colorList[params.dataIndex])\n                    return new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    offset: 1,\n                    color: colorList[params.dataIndex] // 100% 处的颜色\n                }, {\n                    offset: 0.3,\n                    color:  colorList2[params.dataIndex]// 0% 处的颜色\n                }], false)}\n            },\n            barWidth: 30,\n        },\n    ],\n    dataZoom: {\n        type: 'inside',\n        xAxisIndex: [0, 1],\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n    },\n    xAxis: [{\n            data: maxList,\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'bottom',\n        },\n        {\n            data: xAxis,\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                color: '#fff',\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'bottom',\n        },\n    ],\n    yAxis: {\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            color: '#fff',\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n           show: false,\n        },\n    },\n}","html":"","externalScripts":"","updaterUID":"bd-2340065800","theme":"","layout":"","viewCount":127,"userName":"眉***藏","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJNTe8PKah.png?v=1607076301436","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"眉***藏"}}