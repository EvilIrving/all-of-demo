{"status":0,"data":{"cid":"xuAPKbn_qc","authorUid":"obd-ojfTy3s_ZPI47W5OajqMp5cZHd4PbDh","authorUserName":"突***枪","title":"彩色进度条","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-07T03:20:07.000Z","lastUpdateTime":"2021-12-07T03:20:07.000Z","auth":2,"uid":"obd-ojfTy3s_ZPI47W5OajqMp5cZHd4PbDh","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-07T03:20:07.000Z","code":"let barWidth = 10 /* 进度条及进度条radius宽度 */,\n    nameWidth = 60 /* 进度条名称宽度 */,\n    unit = '亿' /* 单位 */,\n    attaData = [] /* 进度条数据 */,\n    attaVal = [] /* 进度条数值 */,\n    topName = [] /* 进度条名称 */,\n    salvProMax = []; /* 背景条数据 */\nlet datas = [\n    {\n        name: '空军',\n        value: 2400,\n    },\n    {\n        name: '海军',\n        value: 1800,\n    },\n    {\n        name: '火箭军',\n        value: 1400,\n    },\n    {\n        name: '陆军',\n        value: 1000,\n    },\n    {\n        name: '陆军',\n        value: 600,\n    },\n];\nlet attackSourcesColor = [\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#FE9C5A' },\n        { offset: 1, color: '#EB3B5A' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#FFD14C' },\n        { offset: 1, color: '#FA8231' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#FFEE96' },\n        { offset: 1, color: '#F7B731' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#2EC7CF' },\n        { offset: 1, color: '#395CFE' },\n    ]),\n];\ndatas.forEach((it, i) => {\n    let itemStyle = {\n        color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i],\n    };\n    topName[i] = `${it.name}`;\n    attaVal[i] = it.value;\n    attaData[i] = {\n        value: parseFloat(it.value).toFixed(2),\n        itemStyle: itemStyle,\n    };\n});\n/* 该值无具体作用，取进度最大值 * 1.2 */\nsalvProMax = Array(attaVal.length).fill(Math.max(...attaVal) * 1.2);\noption = {\n    backgroundColor: '#BBE4EC',\n    tooltip: {\n        show: false,\n        backgroundColor: 'rgba(3,169,244, 0.5)', //背景颜色（此时为默认色）\n        textStyle: {\n            fontSize: 16,\n        },\n    },\n    grid: {\n        left: '5%',\n        right: '5%',\n        top: '5%',\n        bottom: '5%',\n        containLabel: true,\n    },\n    legend: {\n        show: false,\n    },\n    xAxis: {\n        show: false,\n    },\n    yAxis: [\n        {\n            //名称\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                textStyle: {\n                    color: '#1F4265',\n                },\n                formatter: (val, i) => {\n                    return `{num|${(i += 1)}}{name|${val}}`;\n                },\n                rich: {\n                    num: {\n                        width: 16,\n                        fontSize: 16,\n                        fontWeight: 800,\n                    },\n                    name: {\n                        width: nameWidth,\n                        fontSize: 16,\n                        fontWeight: 600,\n                    },\n                },\n            },\n            data: topName,\n        },\n        {\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                textStyle: {\n                    color: '#1F4265',\n                    fontSize: 20,\n                },\n                formatter: (val) => {\n                    return `{num|${val}}{unit|(${unit})}`;\n                },\n                rich: {\n                    num: {\n                        fontSize: 16,\n                        fontWeight: 600,\n                    },\n                    unit: {\n                        fontSize: 14,\n                    },\n                },\n            },\n            data: attaVal,\n        },\n    ],\n    series: [\n        // 进度条\n        {\n            zlevel: 1,\n            name: '',\n            type: 'bar',\n            barWidth: barWidth,\n            animationDuration: 1500,\n            data: attaData,\n            align: 'center',\n            itemStyle: {\n                normal: {\n                    barBorderRadius: barWidth,\n                },\n            },\n            label: {\n                show: false,\n            },\n        },\n        // 背景条\n        {\n            name: '',\n            type: 'bar',\n            barWidth: barWidth,\n            barGap: '-100%',\n            data: salvProMax,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: barWidth,\n                    color: 'rgba(165, 213, 232, 1)',\n                },\n                emphasis: {\n                    color: 'rgba(165, 213, 232, 1)',\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-ojfTy3s_ZPI47W5OajqMp5cZHd4PbDh","theme":"","layout":"","viewCount":0,"userName":"突***枪","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xuAPKbn_qc.png?v=1638847207620","isCustomThumbnail":1,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"突***枪"}}