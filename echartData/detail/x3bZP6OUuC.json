{"status":0,"data":{"cid":"x3bZP6OUuC","authorUid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","authorUserName":"阳***2","title":"一周网点领解现统计","description":"单位：万元","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-16T06:32:49.000Z","lastUpdateTime":"2020-05-16T06:32:49.000Z","auth":2,"uid":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-20T01:23:17.000Z","code":"var oldData = [{\n        \"RPT_DATE\": \"2020-05-01\",\n        \"BRANCH_SOLUTION\": 123.35,\n        \"BRANCH_COLLAR\": 159.45\n    },{\n        \"RPT_DATE\": \"2020-05-02\",\n        \"BRANCH_SOLUTION\": 253.35,\n        \"BRANCH_COLLAR\": 452.45\n    },{\n        \"RPT_DATE\": \"2020-05-03\",\n        \"BRANCH_SOLUTION\": 123.35,\n        \"BRANCH_COLLAR\": 452.45\n    },{\n        \"RPT_DATE\": \"2020-05-04\",\n        \"BRANCH_SOLUTION\": 345.35,\n        \"BRANCH_COLLAR\": 234.45\n    },{\n        \"RPT_DATE\": \"2020-05-05\",\n        \"BRANCH_SOLUTION\": 345.35,\n        \"BRANCH_COLLAR\": 45.45\n    },{\n        \"RPT_DATE\": \"2020-05-06\",\n        \"BRANCH_SOLUTION\": 56.35,\n        \"BRANCH_COLLAR\": 569.45\n    },{\n        \"RPT_DATE\": \"2020-05-07\",\n        \"BRANCH_SOLUTION\": 233.35,\n        \"BRANCH_COLLAR\": 324.45\n    },\n];\n\n\n\nlet dateArr = [],\n    typeArr = [\"网点领现\",\"网点解现\"],\n    dataset;\noldData.forEach((item) => {\n    if (dateArr.indexOf(item.RPT_DATE) < 0) {\n        dateArr.push(item.RPT_DATE);\n    }\n});\n\ndataset = typeArr.map((tmp) => {\n    return {\n        name: tmp,\n        stack: '',\n        type: 'bar',\n        data: []\n    };\n});\n\n//BRANCH_SOLUTION   解现\n//BRANCH_COLLAR     领现\nfor (var i = 0; i < dataset.length; i++) {\n    for (var j = 0; j < oldData.length; j++) {\n        for (var k = 0; k < dateArr.length; k++) {\n            if (dataset[i].name == \"网点解现\" &&\n                dateArr[k] == oldData[j].RPT_DATE) {\n                dataset[i].data[k] = oldData[j].BRANCH_SOLUTION;\n            }\n            if (dataset[i].name == \"网点领现\" &&\n                dateArr[k] == oldData[j].RPT_DATE) {\n                dataset[i].data[k] = oldData[j].BRANCH_COLLAR;\n            }\n        }\n    }\n}\n\n// dateArr = [\"05-01\", \"05-02\", \"05-03\", \"05-04\", \"05-05\", \"05-06\", \"05-07\", \"05-08\"];\n// typeArr = [\"网点领现\", \"网点解现\"];\n// dataset = [\n//     { name: \"网点领现\", \n//         stack: \"\", \n//         type: \"bar\", \n//         data:  [1, 5, 5, 5, 1, 5, 5, 5] }, \n//     { name: \"网点解现\", \n//         stack: \"\", \n//         type: \"bar\", \n//         data:  [2, 6, 6, 6, 2, 6, 6, 6] }, \n//    ];\noption = {\n    title: {\n        text: '一周网点领解现统计',\n        subtext: '单位：万元',\n        left: 'center',\n        textStyle: {\n            align: 'center',\n        }\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    legend: {\n        data: typeArr,\n        bottom: 0,\n        textStyle: {\n            fontSize: 18\n        }\n    },\n    bottom: '3%',\n    grid: {\n        left: '3%',\n        right: '4%',\n        containLabel: true\n    },\n    xAxis: [{\n        type: 'category',\n        data: dateArr\n    }],\n    yAxis: [{\n        type: 'value'\n    }],\n    series: dataset\n};","html":"","externalScripts":"","updaterUID":"obd-oEy_EUNgOZEBor92UXh4rt8Z_hzq84N","theme":"","layout":"","viewCount":83,"userName":"阳***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x3bZP6OUuC.png?v=1589937797251","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"阳***2"}}