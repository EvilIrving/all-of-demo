{"status":0,"data":{"cid":"xhpZS_-7Mx","authorUid":"bd-696783921","authorUserName":"n***人","title":"中華人民共和國地圖","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2019-09-10T10:14:08.000Z","lastUpdateTime":"2019-09-11T04:42:02.000Z","auth":2,"uid":"bd-696783921","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-21T10:29:51.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1568175541645-ltY4Mkcpv.json\";\n\n//var uploadedDataURL = \"/asset/get/s/data-1567588182028-i2QuSn-Tj.json\";\n$.getJSON(uploadedDataURL, function(geoJSON) {\n    const backgroundColor = 'transparent',\n        borderColor = 'whitesmoke', //'',\n        textColor = '#666666',\n        shadowColor = 'white',\n        mapAreaColor = '#bee7fb';\n    $('body').css({\n        'background': 'radial-gradient(#063d7e,#081a2e)',\n        color: '#42423f',\n        'text-shadow': '0 1px 2px white',\n        'font-family': '隶书',\n        'font-weight': 'bold',\n        //'writing-mode': 'vertical-rl'\n    });\n    echarts.registerMap(\"china\", geoJSON);\n    option = {\n        title: [{\n            text: '中華人民共和國地圖',\n            left: 'left',\n            top: 10,\n            textStyle: {\n                color: textColor,\n                fontSize: 28,\n                //fontFamily: '隶书',\n                textShadowColor: shadowColor,\n                textShadowBlur: 2,\n            },\n            //padding: 6,\n            //backgroundColor: mapAreaColor,\n            //borderColor: borderColor,\n            //borderWidth: 3\n        }]\n    };\n    option.globe = {\n        baseTexture: '/asset/get/s/data-1568168168276-rhs_FhJOs.jpg',\n        heightTexture: '/asset/get/s/data-1568167925700-QJsl5Cr-a.jpg',\n        displacementScale: 0.1,\n\n        shading: 'lambert',\n        environment: 'asset/get/s/data-1567743711128-O_8Ju_06S.jpg',\n        realisticMaterial: {\n            roughness: 0.9\n        },\n        viewControl: {\n            autoRotate: false,\n            targetCoord: geoJSON.properties.center,\n            distance: 100\n        },\n        light: {\n            ambient: {\n                intensity: 0.1\n            },\n            main: {\n                intensity: 1.5\n            }\n        },\n\n        /* layers: [{\n             type: 'blend',\n             blendTo: 'emission',\n             texture: '/asset/get/s/data-1568168378964-5lPu7k74-.jpg'\n         }, {\n             type: 'overlay',\n             texture: '/asset/get/s/data-1568168390545-VP1XI1TjJ.png',\n             shading: 'lambert',\n             distance: 5\n         }]*/\n    };\n\n    option.series = [];\n    let polygons = [];\n    let props = geoJSON.properties;\n    geoJSON.geometry.coordinates.forEach(function(coordinate, index) {\n        coordinate.forEach(function(coords) {\n            polygons.push({\n                name: props.name,\n                value: index,\n                coords: coords.map(function(lnglat) {\n                    return [lnglat.lng, lnglat.lat];\n                })\n            });\n        })\n    });\n\n    option.series.push({\n        type: 'lines3D',\n        polyline: true,\n        lineStyle: {\n            color: 'yellow',\n            width: 3.2\n        },\n        //blendMode: 'lighter',\n        effect: {\n            show:true,\n            trailWidth: 2.1,\n            trailColor: 'red'\n        },\n        data: polygons\n    });\n    polygons = [];\n    geoJSON.features.forEach(function(feature) {\n        let props = feature.properties;\n        feature.geometry.coordinates.forEach(function(coordinate, index) {\n            coordinate.forEach(function(coords) {\n                polygons.push({\n                    name: props.name,\n                    value: props.subFeatureIndex,\n                    coords: coords\n                });\n            })\n        });\n    })\n    option.series.push({\n        type: 'lines3D',\n        polyline: true,\n        lineStyle: {\n            color: borderColor,\n            type:'dashed',\n            width: 1.2\n        },\n        //blendMode: 'lighter',\n        effect: {\n            show:true,\n            trailWidth: 1.5,\n            trailColor: 'yellowgreen'\n        },\n        data: polygons\n    });\n\n\n    option.series.push({\n        type: 'scatter3D',\n        coordinateSystem: option.globe ? 'globe' : 'geo3D',\n        symbolSize: 6,\n        symbol: 'circle',\n        itemStyle: {\n            color: 'white',\n            borderColor: 'darkgray',\n            borderWidth: .52,\n            opacity: 1\n        },\n        label: {\n            show: true,\n            formatter: '{b}',\n            distance: 0,\n            //position:'top',\n            textStyle: {\n                color: textColor,\n                textShadowColor: shadowColor,\n                textShadowBlur: 2,\n                backgroundColor: backgroundColor,\n                borderColor: borderColor,\n                //borderWidth: 3,\n                fontFamily: '隶书',\n                fontSize: 12,\n                fontWeight: 'bold',\n                padding: 0\n            }\n        },\n        data: geoJSON.features.map(function(feature, index, features) {\n            let props = feature.properties;\n            return {\n                name: '省会',\n                value: props.center\n            }\n        })\n    });\n    option.series.push({\n        silent: true,\n        zlevel: 1,\n        type: 'scatter3D',\n        coordinateSystem: option.globe ? 'globe' : 'geo3D',\n        symbolSize: 2,\n        symbol: 'circle',\n        itemStyle: {\n            color: 'black',\n            borderWidth: 0,\n            opacity: 1\n        },\n        data: geoJSON.features.map(function(feature, index, features) {\n            let props = feature.properties;\n            return {\n                name: props.name,\n                value: props.center\n            }\n        })\n    });\n    option.series.push({\n        type: \"bar3D\",\n        coordinateSystem: 'globe',\n        barSize: 0.521, //柱子粗细\n        shading: 'realistic',\n        opacity: 1,\n        //bevelSize: 0.5,\n        label: {\n            show: option.geo3D ? !option.geo3D.label.show : true,\n            formatter: '{b}',\n            distance: 10,\n            textStyle: {\n                color: textColor,\n                textShadowColor: shadowColor,\n                textShadowBlur: 2,\n                //backgroundColor: backgroundColor,\n                //borderColor: borderColor,\n                //borderWidth: 4,\n                fontFamily: '隶书',\n                fontSize: 14,\n                fontWeight: 'bold',\n                padding: 2\n            }\n        },\n        itemStyle: {\n            color: borderColor\n        },\n        data: geoJSON.features.map(function(feature, index, features) {\n            let props = feature.properties;\n            let height;\n            if (option.geo3D) {\n                height = features.length - (props.subFeatureIndex ? props.subFeatureIndex : index);\n            } else {\n                height = 0;\n            }\n            return {\n                name: props.name,\n                value: props.center.concat(0)\n            }\n        })\n    });\n\n    myChart.setOption(option);\n})","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,https://echarts.baidu.com/resource/echarts-stat-latest/dist/ecStat.min.js","updaterUID":"bd-696783921","theme":"default","layout":"","viewCount":207890,"userName":"n***人","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhpZS_-7Mx.png?v=1568176925384","isCustomThumbnail":1,"builtinTags":["category-work","globe","series-bar3D","series-lines3D","series-scatter3D","title"],"customTags":[],"updaterUserName":"n***人"}}