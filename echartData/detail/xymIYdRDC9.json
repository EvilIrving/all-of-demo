{"status":0,"data":{"cid":"xymIYdRDC9","authorUid":"obd-otOA7b2T_E6qBsxzIxJh4_Jup_Rre8N","authorUserName":"凌***3","title":"美第奇银行空间资本流动（罗马、日内瓦-里昂分行）","description":"美第奇银行空间资本流动，包含罗马、日内瓦-里昂分行的数据。","latestVersion":2,"alwaysLatest":1,"createTime":"2021-03-29T02:10:31.000Z","lastUpdateTime":"2021-03-29T02:10:31.000Z","auth":2,"uid":"obd-otOA7b2T_E6qBsxzIxJh4_Jup_Rre8N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-29T02:20:37.000Z","code":"var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\nvar geoCoordMap = {\n    Rome: [12.496366, 41.902782],\n    Toledo: [-4.02263, 39.8581],\n    Pisa: [10.4036, 43.70853],\n    Salerno: [14.766667, 40.683334],\n    Novara: [8.616667, 45.450001],\n    RomeI: [12.49636, 41.90278],\n    RomeII: [12.447, 41.953],\n    GenazzanoI: [12.97079, 41.82522],\n    Piacenza: [9.70462, 45.04202],\n    RomeIII: [12.546366, 41.852782],\n    Sulmona: [13.9166667, 42.05],\n    GenazzanoII: [12.92079, 41.87522],\n    Venice: [12.3266667, 45.4386111],\n    Winchester: [-1.308000, 51.063202],\n    Naples: [14.305573, 40.853294],\n    RomeIV: [12.446366, 41.852782],\n    PapalStates: [12.60166, 42.819330],\n    RomeV: [12.546366, 41.952782],\n    Lyons: [4.8467100, 45.7484600],\n    Milan: [9.188540, 45.464664],\n    HauteLoire: [4.110112, 45.30627],\n    LyonsI: [4.8467, 45.7484],\n    LyonsII: [4.8467100, 45.7984600],\n    Cavaillon: [5.038100, 43.837502],\n    SavoyI: [6.7753126, 45.8928995],\n    BourbonnaisI: [-1.616667, 47.183333],\n    Angouleme: [0.160000, 45.650002],\n    Pinerolo: [7.3313500, 44.8833333],\n    Montferrat: [5.585071, 45.49826],\n    BourbonnaisII: [-1.666667, 47.183333],\n    ParisI: [2.333333, 48.866667],\n    Saluzzo: [7.4927355, 44.6445404],\n    IledeFrance: [1.717200, 48.990799],\n    FlorenceI: [11.255814, 43.769562],\n    Hauterives: [5.067250, 45.272515],\n    Uzes: [4.419678, 44.012142],\n    SavoyII: [6.775312, 45.892899],\n    FlorenceII: [11.205, 43.769],\n    Combrai: [3.01541, 50.13666],\n    Geneva: [6.143158, 46.204391],\n    ParisII: [2.38333, 48.86666],\n    FlorenceIII: [11.2558, 43.7195],\n    Thorens: [6.57041000, 45.29811000],\n    FlorenceIV: [11.20581, 43.71956],\n    RomeVI: [12.54636, 41.90278],\n    Lausanne: [6.633597, 46.519962],\n    LyonsIII: [4.8967, 45.7484],\n};\nvar BJData = [\n    [{\n        name: \"Toledo\",\n        value: 2805\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Pisa\",\n        value: 1000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Salerno\",\n        value: 15000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Novara\",\n        value: 4000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"RomeI\",\n        value: 4000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"RomeII\",\n        value: 4000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"GenazzanoI\",\n        value: 3580\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Piacenza\",\n        value: 3500\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"RomeIII\",\n        value: 3400\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Sulmona\",\n        value: 3400\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"GenazzanoII\",\n        value: 3000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Venice\",\n        value: 4795\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Winchester\",\n        value: 4000\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Naples\",\n        value: 2199\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"RomeIV\",\n        value: 1116\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"PapalStates\",\n        value: 1185\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"RomeV\",\n        value: 1201\n    }, {\n        name: \"Rome\"\n    }],\n    [{\n        name: \"Milan\",\n        value: 1201\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"HauteLoire\",\n        value: 701\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"LyonsI\",\n        value: 1247\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"LyonsII\",\n        value: 1238\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Cavaillon\",\n        value: 465\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"SavoyI\",\n        value: 4824\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"BourbonnaisI\",\n        value: 2473\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Angouleme\",\n        value: 2320\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Pinerolo\",\n        value: 1648\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Montferrat\",\n        value: 1360\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"BourbonnaisII\",\n        value: 443\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"ParisI\",\n        value: 352\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Saluzzo\",\n        value: 197\n    }, {\n        name: \"Lyons\"\n    }], \n    [{\n        name: \"IledeFrance\",\n        value: 106\n    }, {\n        name: \"Lyons\"\n    }],  \n    [{\n        name: \"FlorenceI\",\n        value: 12328\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Hauterives\",\n        value: 1177\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Uzes\",\n        value: 946\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"SavoyII\",\n        value: 871\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"FlorenceII\",\n        value: 800\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Combrai\",\n        value: 467\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Geneva\",\n        value: 108\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"ParisII\",\n        value: 101\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"FlorenceIII\",\n        value: 3300\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Thorens\",\n        value: 2285\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"FlorenceIV\",\n        value: 2050\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"RomeVI\",\n        value: 2040\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"Lausanne\",\n        value: 416\n    }, {\n        name: \"Lyons\"\n    }],\n    [{\n        name: \"LyonsIII\",\n        value: 381\n    }, {\n        name: \"Lyons\"\n    }]\n];\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        if (fromCoord && toCoord) {\n            res.push({\n                fromName: dataItem[0].name,\n                toName: dataItem[1].name,\n                coords: [fromCoord, toCoord],\n                value: dataItem[0].value\n            });\n        }\n    }\n    return res;\n};\n\nvar series = [];\n[\n    [\"Rome\", BJData]\n].forEach(function(item, i) {\n    series.push({\n            name: item[2],\n            type: \"lines\",\n            zlevel: 2,\n            effect: {\n                show: true,\n                // //飞机的速度  这里是s单位\n                period: 6,\n                trailLength: 0,\n                symbol: planePath,\n                // 飞机大小\n                symbolSize: 8\n            },\n            lineStyle: {\n                normal: {\n                    color:\"#ff8800\",\n                    // 线条宽度\n                    width: 1,\n                    opacity: 1,\n                    curveness: 0.2\n                }\n            },\n            label: {\n                normal: {\n                    show: false,\n                    position: 'middle',\n                    formatter: '{b}'\n                }\n            },\n            data: convertData(item[1])\n        }, {\n            type: \"effectScatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            rippleEffect: {\n                //涟漪特效\n                period: 4, //动画时间，值越小速度越快\n                brushType: \"stroke\", //波纹绘制方式 stroke, fill\n                scale: 4 //波纹圆环最大限制，值越大波纹越大\n            },\n            label: {\n                normal: {\n                    show: false,\n                    position: \"right\", //显示位置\n                    offset: [5, 0], //偏移设置\n                    formatter: \"{b}\", //圆环显示文字\n                    textStyle: {\n                        color: \"red\"\n                    }\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbol: \"circle\",\n            symbolSize: function(val) {\n                return 4 + val[2] / 1000; //圆环大小\n            },\n            itemStyle: {\n                normal: {\n                    show: false\n                }\n            },\n            data: item[1].map(function(dataItem) {\n                return {\n                    name: dataItem[0].name,\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n                };\n            })\n        },\n        //被攻击点\n        {\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            rippleEffect: {\n                period: 4,\n                brushType: \"stroke\",\n                scale: 4\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: \"right\",\n                    color: \"#00ffff\",\n                    formatter: \"{b}\",\n                    textStyle: {\n                        color: \"#0bc7f3\"\n                    }\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbol: \"pin\",\n            symbolSize: 30,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: \"#9966cc\"\n                }\n            },\n            data: [{\n                name: item[0],\n                value: geoCoordMap[item[0]].concat([10])\n            }]\n        }\n    );\n});\n\n\noption = {\n    backgroundColor: '#1B2631',\n    tooltip: {\n        trigger: \"item\",\n        formatter: function(params, ticket, callback) {\n            if (params.seriesType == \"effectScatter\") {\n                return params.marker+params.data.name + \"\" + params.data.value[2];\n            } else if (params.seriesType == \"lines\") {\n                return params.data.fromName + \" -> \" + params.data.toName + \"<br />\" + params.data.value;\n            } else {\n                return params.name;\n            }\n        },\n    },\n    geo: {\n        map: \"world\",\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true, //是否允许缩放\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\n        layoutSize: \"130%\",\n        itemStyle: {\n            normal: {\n                color: \"rgba(48,97,186,0.3)\", //地图背景色\n                borderColor: \"rgba(0, 0, 0, 0)\" //省市边界线\n            },\n            emphasis: {\n                color: \"rgba(48,97,186,0.3)\" //悬浮背景\n            }\n        }\n    },\n\n    series: series\n};","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"obd-otOA7b2T_E6qBsxzIxJh4_Jup_Rre8N","theme":"","layout":"","viewCount":46,"userName":"凌***3","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xymIYdRDC9.png?v=1616984438061","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip"],"customTags":[],"updaterUserName":"凌***3"}}