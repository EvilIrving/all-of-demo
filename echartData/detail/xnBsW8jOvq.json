{"status":0,"data":{"cid":"xnBsW8jOvq","authorUid":"bd-2199483008","authorUserName":"阴***里","title":"各点位数量图","description":"练手","latestVersion":2,"alwaysLatest":1,"createTime":"2019-01-02T08:43:19.000Z","lastUpdateTime":"2019-01-02T08:43:19.000Z","auth":2,"uid":"bd-2199483008","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-02T10:57:18.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1546417222786-o6UcdSCL-.txt\";\n\n\nvar t_pos = {\n    left: 0,\n    top: 0\n}\n\nvar last_point = [0, 0];\nvar counter = 0;\nmyChart.showLoading();\nmyChart.setOption(option = {\n    title: {\n        x: 'right',\n        text: \"\",\n        subtext: '',\n        textStyle: {\n            color: '#fff',\n            fontSize: 30\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        transitionDuration: 0,\n        position: function(point, params, dom, rect, size) {\n            var least_area = 20;\n            var offset_x = 30; /* 相对于point的偏移 */\n            var offset_y = 30;\n\n            /* last_point的least_area范围内不会产生新的t_pos */\n            if (Math.abs(point[0] - last_point[0]) < least_area &&\n                Math.abs(point[1] - last_point[1]) < least_area &&\n                counter >= 2) {\n                return t_pos;\n            }\n            if (Math.abs(point[0] - last_point[0]) >= least_area ||\n                Math.abs(point[1] - last_point[1]) >= least_area) {\n                counter = 0;\n            }\n            counter += 1;\n            /* 使real_x,real_y有数值 */\n            if (counter == 1) {\n                t_pos.left = point[0] + offset_x;\n                t_pos.top = point[1] + offset_y;\n                last_point = [point[0], point[1]];\n            }\n            /* 此处进行修正tooltip的位置 */\n            if (counter == 2) {\n                var real_x = $(dom).position().left;\n                var real_y = $(dom).position().top;\n                t_pos.left += point[0] - real_x + offset_x;\n                t_pos.top += point[1] - real_y + offset_y;\n            }\n            return t_pos;\n        },\n        formatter: function(params) {\n            return params.name + ' : ' + params.value[2] + '次';\n        }\n    },\n    animation: false,\n    bmap: {\n        center: [116.663922,39.896462],\n        zoom: 14.5,\n        roam: true,\n        mapStyle: {\n            styleJson: [{\n                'featureType': 'land', //调整土地颜色\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#d4e4d7'\n                }\n            }, {\n                'featureType': 'building', //调整建筑物颜色\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#fdffff'\n                    //'visibility': 'off'\n                }\n\n            }, {\n                'featureType': 'building', //调整建筑物标签是否可视\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'highway', //调整高速道路颜色\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#fdfefc'\n                }\n            }, {\n                'featureType': 'highway', //调整高速名字是否可视\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'arterial', //调整一些干道颜色\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#fdfefc'\n                }\n            }, {\n                'featureType': 'arterial',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'green',   //绿地\n                'elementType': 'geometry',\n                'stylers': {\n                    //'visibility': 'off'\n                    \n                }\n            }, {\n                'featureType': 'water',\n                'elementType': 'geometry',\n                'stylers': {\n                    'color': '#86b5bf'\n                }\n            }, {\n                'featureType': 'subway', //调整地铁颜色\n                'elementType': 'geometry.stroke',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'subway',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'railway',\n                'elementType': 'geometry',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'railway',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'all', //调整所有的标签的边缘颜色\n                'elementType': 'labels.text.stroke',\n                'stylers': {\n                    'color': '#313131'\n                }\n            }, {\n                'featureType': 'all', //调整所有标签的填充颜色\n                'elementType': 'labels.text.fill',\n                'stylers': {\n                    'color': '#FFFFFF'\n                }\n            }, {\n                'featureType': 'manmade',\n                'elementType': 'geometry',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'manmade',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'local',\n                'elementType': 'geometry',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'local',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'subway',\n                'elementType': 'geometry',\n                'stylers': {\n                    'lightness': -65\n                }\n            }, {\n                'featureType': 'railway',\n                'elementType': 'all',\n                'stylers': {\n                    'lightness': -40\n                }\n            }, {\n                'featureType': 'boundary',\n                'elementType': 'geometry',\n                'stylers': {\n                    \n                    'color': '#8b8787',\n                    'weight': '1',\n                    'lightness': -29\n                }\n            }, {\n                'featureType': 'label',\n                'elementType': 'geometry',\n                'stylers': {\n                    'visibility': 'off'\n                }\n            }, {\n                'featureType': 'all',\n                'elementType': 'labels',\n                'stylers': {\n                    'visibility': 'off'\n                    //'color': 'fdfdf7',\n                    //'weight': '1',\n                    //'lightness': 0\n                }\n            }]\n        }\n    },\n    visualMap: {\n        min: 0,\n        max: 2500,\n        left: 120,\n        bottom: 120,\n        calculable: true,\n        text: ['高', '低'],\n        inRange: {\n            color: ['#B3A100', '#FFE600','#FF6500', '#B34700']\n        },\n        textStyle: {\n            color: '#000000',\n        }\n\n/*\n    },\n    visualMap: {\n        //type: 'piecewise',\n        top: '5%',\n        splitNumber: 5,\n        min: 0,\n        max: 10,\n        seriesIndex: 0,\n        calculable: true,\n        inRange: {\n            color: ['green', '#eac736', '#d94e5d']\n        },\n        textStyle: {\n            color: '#fff',\n            formatter: 'aaaa{value}bbbb{value2}' // 范围标签显示内容。\n        }\n*/\n    },\n    series: [{\n        type: 'scatter',\n        coordinateSystem: 'bmap',\n        symbolSize: 9,\n\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n    }]\n});\nif (!app.inNode) {\n    // 添加百度地图插件\n    var bmap = myChart.getModel().getComponent('bmap').getBMap();\n    bmap.addControl(new BMap.MapTypeControl());\n}\n\n\nif (option && typeof option === \"object\") {\n    myChart.setOption(option, true);\n}\n\n;\n$.getJSON(uploadedDataURL, function(linedata) {\n\n    myChart.hideLoading();\n    myChart.setOption({\n\n        visualMap: {\n            max: linedata[1]\n        },\n        series: [{\n            data: linedata[0]\n        }]\n    });\n});","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM","updaterUID":"bd-2199483008","theme":"","layout":"","viewCount":63,"userName":"阴***里","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnBsW8jOvq.png?v=1546418601100","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"阴***里"}}