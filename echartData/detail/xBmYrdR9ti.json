{"status":0,"data":{"cid":"xBmYrdR9ti","authorUid":"bd-3577702803","authorUserName":"J***音","title":"地图、仿柱形图组合图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-11-14T06:35:02.000Z","lastUpdateTime":"2018-11-14T06:35:02.000Z","auth":2,"uid":"bd-3577702803","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-28T01:35:56.000Z","code":"//宁夏地图数据 \r\nvar uploadedDataURL = \"/asset/get/s/data-1542176665987-Ew7EV9vfm.json\";\r\n\r\n$.get(uploadedDataURL, function(geoJson){\r\n    echarts.registerMap('宁夏', geoJson);\r\n\r\n    var option = {\r\n        backgroundColor: '#fff',\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(params, ticket, callback) {\r\n                //根据业务自己拓展要显示的内容\r\n                var name = params.name;\r\n                var value = params.value;\r\n                var res = \"\";\r\n                res += \"<span style='color:#fff;'>\" + name + \"</span>\";\r\n                res += \"<br/>经度:\" + (value[0] - 0).toFixed(2);\r\n                res += \",纬度:\" + (value[1] - 0).toFixed(2);\r\n                res += \"<br/>通道数量:\" + value[2];\r\n                res += \"<br/>断开通道:\" + value[4];\r\n                return res;\r\n            }\r\n        },\r\n        geo: {\r\n            map: '宁夏',\r\n            roam: false,\r\n            label: {\r\n                normal: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                areaColor: '#4bbdd7',\r\n                borderColor: '#fff',\r\n                borderWidth: 1,\r\n                shadowBlur: 3,\r\n                shadowColor: \"#eee\",\r\n                shadowOffsetX: 1,\r\n                shadowOffsetY: 2,\r\n    \r\n            }\r\n\r\n        },\r\n        series: [{\r\n                name: '通道运行状态',\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                data: [],\r\n                symbolSize: 10,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: function(val) {\r\n                            var color = val.value[3];\r\n                            return color;\r\n                        }\r\n                    }\r\n                },\r\n                zlevel: 2\r\n            },\r\n            {\r\n                name: '通道运行状态',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: [],\r\n                symbol: 'rect',\r\n                symbolSize: function(val) {\r\n                    return val[4] == 0 ? 0 : [6, 10 + val[4] * 10];\r\n                },\r\n                symbolOffset: [0, \"-50%\"],\r\n                hoverAnimation: false,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: function(val) {\r\n                            var color = val.value[3];\r\n                            return color;\r\n                        }\r\n                    }\r\n                },\r\n                zlevel: 1\r\n            }\r\n        ]\r\n    };\r\n    \r\n    var datas = [{\r\n            name: '中卫市',\r\n            longitude: 105.189568,\r\n            latitude: 37.514951,\r\n            num: 4,\r\n            except_num: 3\r\n        },\r\n        {\r\n            name: '石嘴山市',\r\n            longitude: 106.376173,\r\n            latitude: 39.01333,\r\n            num: 4,\r\n            except_num: 1\r\n        },\r\n        {\r\n            name: '银川市',\r\n            longitude: 106.278179,\r\n            latitude: 38.46637,\r\n            num: 4,\r\n            except_num: 0\r\n        }\r\n    ];\r\n    \r\n    $.each(datas, function(i, item) {\r\n        var color = item.except_num == 0 ? \"#2afe2e\" : \"#ed130d\";\r\n        option.series[0].data.push({\r\n            name: item.name,\r\n            value: [item.longitude, item.latitude, item.num, color, item.except_num]\r\n        });\r\n        option.series[1].data.push({\r\n            name: item.name,\r\n            value: [item.longitude, item.latitude, item.num, color, item.except_num]\r\n        });\r\n    });\r\n    \r\n    myChart.setOption(option);\r\n\r\n});","html":"","externalScripts":"","updaterUID":"bd-3577702803","theme":"","layout":"","viewCount":395,"userName":"J***音","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBmYrdR9ti.png?v=1566956156246","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-scatter","tooltip"],"customTags":[],"updaterUserName":"J***音"}}