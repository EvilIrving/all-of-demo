{"status":0,"data":{"cid":"xtZBPdXtsl","authorUid":"bd-7382906384","authorUserName":"满***6","title":"柱形图叠加","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-29T03:47:20.000Z","lastUpdateTime":"2020-04-29T03:47:20.000Z","auth":2,"uid":"bd-7382906384","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-29T03:47:20.000Z","code":"var xData = [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\"],\r\n    yData1 = [104, 56, 136, 86, 98, 86],\r\n    yData2 = [100, 206, 236, 106, 80, 160],\r\n    yData3 = [90, 106, 236, 96, 180, 100],\r\n    legend = [\"1\", \"2\", \"3\"],\r\n    colorArr = [\"#008ECE\",\r\n        \"#51FFD8\",\r\n        \"#fff\",\r\n    ];\r\nvar normalColor = \"rgba(255,255,255,0.5)\";\r\nlet seriesData = [];\r\nlet total=[];\r\nyData1.forEach((item,i)=>{\r\n    let item2=yData2[i];\r\n    let item3=yData3[i];\r\n    total.push(item+item2+item3);\r\n});\r\n[yData1, yData2, yData3].forEach((item, index) => {\r\n    var  obj = {\r\n        name: legend[index],\r\n        type: \"bar\",\r\n        stack: \"1\",\r\n        data: item,\r\n        barWidth: \"40%\",\r\n        itemStyle: {\r\n            normal: {\r\n                color: colorArr[index]\r\n            }\r\n        },\r\n        label:{\r\n            show:true,\r\n            formatter:function(params,i){\r\n              return total[params.dataIndex]  \r\n            },\r\n            position:\"top\"\r\n        }\r\n    };\r\n\r\n    seriesData.push(obj);\r\n});\r\nconsole.log(seriesData);\r\noption = {\r\n    backgroundColor: \"#000\",\r\n    grid: {\r\n        left: \"3%\",\r\n        top: \"16%\",\r\n        right: \"3%\",\r\n        bottom: 0,\r\n        containLabel: true\r\n    },\r\n    legend: {\r\n        show: true,\r\n        icon: \"rect\",\r\n        itemWidth: 20,\r\n        itemHeight: 3,\r\n        right: \"15%\",\r\n        top: \"0%\",\r\n        textStyle: {\r\n            color: \"#fff\"\r\n        },\r\n        data: legend\r\n    },\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        formatter: function(params) {\r\n            var str = \"\";\r\n            for (var i = 0; i < params.length; i++) {\r\n                if (params[i].seriesName !== \"\") {\r\n                    str +=\r\n                        params[i].name +\r\n                        \":\" +\r\n                        params[i].seriesName +\r\n                        params[i].value +\r\n                        \"<br/>\";\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n    },\r\n    xAxis: [{\r\n        type: \"category\",\r\n        data: xData,\r\n        axisPointer: {\r\n            type: \"shadow\"\r\n        },\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: normalColor,\r\n                fontSize: 12\r\n            }\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: normalColor\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    }],\r\n    yAxis: [{\r\n            type: \"value\",\r\n            name: \"\",\r\n            nameTextStyle: {\r\n                color: normalColor,\r\n                fontSize: 12\r\n            },\r\n            axisLabel: {\r\n                formatter: \"{value}\",\r\n                textStyle: {\r\n                    color: normalColor,\r\n                    fontSize: 12\r\n                }\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: normalColor\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    type: \"dashed\",\r\n                    color: normalColor\r\n                }\r\n            }\r\n        },\r\n    ],\r\n    series: seriesData\r\n};","html":"","externalScripts":"","updaterUID":"bd-7382906384","theme":"","layout":"","viewCount":241,"userName":"满***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xtZBPdXtsl.png?v=1588132040321","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"满***6"}}