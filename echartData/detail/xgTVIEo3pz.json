{"status":0,"data":{"cid":"xgTVIEo3pz","authorUid":"obd-oFbxfOlGkoVXv2Gg4ljMXpULydY6U5B","authorUserName":"d***5","title":"仿3d柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-05-19T06:45:20.000Z","lastUpdateTime":"2021-05-19T06:45:20.000Z","auth":2,"uid":"obd-oFbxfOlGkoVXv2Gg4ljMXpULydY6U5B","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-19T06:45:20.000Z","code":"data = [{\r\n        name: \"常规\",\r\n        value: 175.17\r\n    },\r\n    {\r\n        name: \"紧急\",\r\n        value: 148.35\r\n    },\r\n    {\r\n        name: \"疑难\",\r\n        value: 95.36\r\n    }\r\n];\r\nxAxisData = [];\r\nseriesData1 = [];\r\nsum = 0;\r\nbarTopColor = [\"#02c3f1\", \"#53e568\", \"#a154e9\"];\r\ndata.forEach(item => {\r\n    xAxisData.push(item.name);\r\n    seriesData1.push(item.value);\r\n    sum += item.value;\r\n});\r\noption = {\r\n    backgroundColor:'black',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n            axisPointer: {\r\n                type: 'shadow'\r\n            },\r\n        formatter: function(params, ticket, callback) {\r\n                 const item = params[3]\r\n                 return item.name + ' : ' + item.value;\r\n             }\r\n         },\r\n    grid:{\r\n        top: '5%',\r\n        left: '1%',\r\n        right: '1%',\r\n        bottom: 0,\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        data: xAxisData,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: true\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            margin: 15,\r\n            textStyle: {\r\n                fontSize: 14,\r\n                color: '#ffffff'\r\n            }\r\n        },\r\n        interval: 0\r\n    },\r\n    yAxis: {\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: true\r\n        },\r\n        axisLine: {\r\n            show: true\r\n        },\r\n        axisLabel: {\r\n            show: true\r\n        }\r\n    },\r\n    series: [{\r\n        name: '柱顶部',\r\n        type: 'pictorialBar',\r\n        symbolSize: [26, 10],\r\n        symbolOffset: [0, -5],\r\n        z: 12,\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    return barTopColor[params.dataIndex];\r\n                },\r\n                opacity: 0.5\r\n            }\r\n        },\r\n        label: {\r\n            show: true,\r\n            position: 'top',\r\n            fontSize: 16,\r\n            formatter: function(params, index) {\r\n                return (params.value / sum * 100).toFixed(2) + '%';\r\n            },\r\n        },\r\n        symbolPosition: 'end',\r\n        data: seriesData1,\r\n    }, {\r\n        name: '柱底部',\r\n        type: 'pictorialBar',\r\n        symbolSize: [26, 10],\r\n        symbolOffset: [0, 0],\r\n        z: 12,\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    return barTopColor[params.dataIndex];\r\n                }\r\n            }\r\n        },\r\n        data: seriesData1\r\n    }, {\r\n        type: 'bar',\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {return barTopColor[params.dataIndex]},\r\n                opacity: 0.3\r\n            }\r\n        },\r\n        z: 16,\r\n        silent: true,\r\n        barWidth: 26,\r\n        barGap: '-100%', // Make series be overlap\r\n        data: seriesData1\r\n    }, {\r\n        name: '最上层立体圆',\r\n        type: 'pictorialBar',\r\n        symbolSize: [26, 10],\r\n        symbolOffset: [0, -5],\r\n        z: 12,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#363F5E'\r\n            }\r\n        },\r\n        data: [{\r\n            value: sum,\r\n            symbolPosition: 'end'\r\n        },{\r\n            value: sum,\r\n            symbolPosition: 'end'\r\n        },{\r\n            value: sum,\r\n            symbolPosition: 'end'\r\n        }]\r\n    },{\r\n        //上部立体柱\r\n        stack: '1',\r\n        type: 'bar',\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#36405E',\r\n                opacity: .7\r\n            }\r\n        },\r\n        silent: true,\r\n        barWidth: 26,\r\n        barGap: '-100%', // Make series be overlap\r\n        data: [sum,sum,sum]\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oFbxfOlGkoVXv2Gg4ljMXpULydY6U5B","theme":"","layout":"","viewCount":0,"userName":"d***5","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xgTVIEo3pz.png?v=1621406720582","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"d***5"}}