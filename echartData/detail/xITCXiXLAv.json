{"status":0,"data":{"cid":"xITCXiXLAv","authorUid":"bd-1800740195","authorUserName":"思***法","title":"折柱图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-21T03:03:42.000Z","lastUpdateTime":"2020-05-21T03:03:42.000Z","auth":1,"uid":"bd-1800740195","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-03T06:43:45.000Z","code":"var w = document.documentElement.clientWidth;\r\nvar h = document.documentElement.clientHeight;\r\n\r\nif (h < 800 && (w < 1600 && w > 800)) {\r\n    d = '1%';\r\n\te = '4%';\r\n\tf = '8%';\r\n\tg = '6%';\r\n\th = '0%';\r\n}else if((h > 800 && h < 1000) && (w > 1100 && w < 1600)){\r\n    d = '1%';\r\n\te = '4%';\r\n\tf = '8%';\r\n\tg = '6%';\r\n\th = '0%';\r\n}else if((h > 900 && h < 1200) && (w < 2200 && w > 1500)){\r\n    d = '1%';\r\n\te = '4%';\r\n\tf = '6%';\r\n\tg = '6%';\r\n\th = '2%';\r\n}\r\n\r\nfunction formatNum(strNum) {\r\n    if (strNum.length <= 3) {\r\n        return strNum;\r\n    }\r\n    if (!/^(\\+|-)?(\\d+)(\\.\\d+)?$/.test(strNum)) {\r\n        return strNum;\r\n    }\r\n    var a = RegExp.$1,\r\n        b = RegExp.$2,\r\n        c = RegExp.$3;\r\n    var re = new RegExp();\r\n    re.compile(\"(\\\\d)(\\\\d{3})(,|$)\");\r\n    while (re.test(b)) {\r\n        b = b.replace(re, \"$1,$2$3\");\r\n    }\r\n    return a + \"\" + b + \"\" + c;\r\n}\r\nvar legendData = [];\r\nvar xAxisData = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\",\"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\",\"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\"];\r\nvar yAxisData = xAxisData;\r\nvar seriesName1 = \"入库总金额\";\r\nvar seriesName2 = \"结算总金额\";\r\nvar seriesName3 = \"利润\";\r\nvar seriesData1 = [\"103517.10\", \"53397.33\", \"65152.51\", \"77614.42\", \"31545.76\", \"58532\", \"49632\", \"12354\", \"15832\", \"19522\", \"26652\", \"45523\",\"103517.10\", \"53397.33\", \"65152.51\", \"77614.42\", \"31545.76\", \"58532\", \"49632\", \"12354\", \"15832\", \"19522\", \"26652\", \"45523\"];\r\nvar seriesData2 = [\"108073.78\", \"76759.58\", \"91730.89\", \"101286.46\", \"81233.99\", \"95232\", \"78521\", \"32151\", \"24581\", \"88852\", \"98652\", \"105522\",\"108073.78\", \"76759.58\", \"91730.89\", \"101286.46\", \"81233.99\", \"95232\", \"78521\", \"32151\", \"24581\", \"48852\", \"58652\", \"65522\"];   \r\nvar seriesData3 = [\"12507\", \"6956\", \"7103\", \"7663\", \"3883\", \"12231\", \"8965\", \"7521\", \"11254\", \"22011\", \"8865\", \"7542\",\"12507\", \"6956\", \"7103\", \"7663\", \"3883\", \"12231\", \"8965\", \"7521\", \"11254\", \"22011\", \"8865\", \"7542\"];\r\n\r\n\r\nvar option = {\r\n    backgroundColor: 'rgb(255, 255, 255)',\r\n\ttooltip: { //提示框组件\r\n\t\ttrigger: 'axis',\r\n\t\t\r\n\t\tformatter:function(params){  \r\n\t\t  var relVal = params[0].name;  \r\n\t\t  for (var i = 0, l = params.length; i < l; i++) {  \r\n\t\t      if(i ==2){\r\n\t\t          relVal += '<br/>' + params[i].seriesName + ' : ' + formatNum(params[i].value)+\"元\"; \r\n\t\t      }else{\r\n\t\t          relVal += '<br/>' + params[i].seriesName + ' : ' + formatNum(params[i].value)+\"元\"; \r\n\t\t      }\r\n\t\t  }  \r\n\t\t  return relVal;\r\n\t\t},\r\n\t\taxisPointer: {\r\n\t\t\ttype: 'shadow',\r\n\t\t\tlabel: {\r\n\t\t\t\tbackgroundColor: '#fff'\r\n\t\t\t}\r\n\t\t},\r\n\t\ttextStyle: {\r\n\t\t\tcolor: '#fff',\r\n\t\t\tfontStyle: 'normal',\r\n\t\t\tfontFamily: '微软雅黑',\r\n\t\t\tfontSize: 12,\r\n\t\t}\r\n\t},\r\n\tgrid: {\r\n\t\tleft: d,\r\n\t\tright: e,\r\n\t\tbottom: f,\r\n\t\ttop: g,\r\n\t\tpadding:'0 0 10 0',\r\n\t\tcontainLabel: true,\r\n\t},\r\n    legend: {//图例组件，颜色和名字\r\n        data:name,\r\n        bottom: h,\r\n        textStyle: {\r\n\t\t\tcolor: '#4c647c',\r\n\t\t\tfontStyle: 'normal',\r\n\t\t\tfontFamily: '微软雅黑',\r\n\t\t\tfontSize: 12,            \r\n        }\r\n    },\r\n\txAxis: [\r\n\t\t{\r\n\t\t\ttype: 'category',\r\n\t\t\tboundaryGap: true,//坐标轴两边留白\r\n\t\t\tdata: xAxisData,\r\n\t\t\taxisLabel: { //坐标轴刻度标签的相关设置。\r\n\t\t\t\tinterval: 0,//设置为 1，表示『隔一个标签显示一个标签』\r\n\t\t\t\tmargin:15,\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: '#4c647c',\r\n\t\t\t\t\tfontStyle: 'normal',\r\n\t\t\t\t\tfontFamily: '微软雅黑',\r\n\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taxisTick:{//坐标轴刻度相关设置。\r\n\t\t\t\tshow: false,\r\n\t\t\t},\r\n\t\t\taxisLine:{//坐标轴轴线相关设置\r\n\t\t\t\tlineStyle:{\r\n\t\t\t\t\tcolor:'#4c647c',\r\n\t\t\t\t\topacity:0.2\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsplitLine: { //坐标轴在 grid 区域中的分隔线。\r\n\t\t\t\tshow: false,\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\tyAxis: [\r\n\t\t{\r\n\t\t\ttype: 'value',\r\n\t\t\tsplitNumber: 5,\r\n\t\t\taxisLabel: {\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: '#4c647c',\r\n\t\t\t\t\tfontStyle: '{value}',\r\n\t\t\t\t\tfontFamily: '微软雅黑',\r\n\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taxisLine:{\r\n\t\t\t\tshow: false\r\n\t\t\t},\r\n\t\t\taxisTick:{\r\n\t\t\t\tshow: false\r\n\t\t\t},\r\n\t\t\tsplitLine: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tcolor: ['#000'],\r\n\t\t\t\t\topacity:0.06\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'value',\r\n\t\t\tsplitNumber: 5,\r\n\t\t\taxisLabel: {\r\n\t\t\t    formatter: '{value}',\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: '#4c647c',\r\n\t\t\t\t\tfontStyle: '{value}',\r\n\t\t\t\t\tfontFamily: '微软雅黑',\r\n\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taxisLine:{\r\n\t\t\t\tshow: false\r\n\t\t\t},\r\n\t\t\taxisTick:{\r\n\t\t\t\tshow: false\r\n\t\t\t},\r\n\t\t\tsplitLine: {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tcolor: ['#000'],\r\n\t\t\t\t\topacity:0.06\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t],\r\n    series : [\r\n        {\r\n            name:seriesName1,\r\n            type:'bar',\r\n            data:seriesData1,\r\n            barWidth: 10,\r\n            barGap:0,//柱间距离\r\n            itemStyle: {//图形样式\r\n                normal: {\r\n\t\t\t\t\tbarBorderRadius: 20,\r\n\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 1, color: 'rgb(254, 101, 116)'\r\n                    },{\r\n                        offset: 0, color: 'rgb(254, 152, 94)'\r\n                    }], false),\r\n                },\r\n            },\r\n        },\r\n        {\r\n            name:seriesName2,\r\n            type:'bar',\r\n            data:seriesData2,\r\n            barWidth: 10,\r\n            barGap:1,//柱间距离\r\n            itemStyle: {//图形样式\r\n                normal: {\r\n                    barBorderRadius: 20,\r\n\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 1, color: 'rgb(29, 141, 211)'\r\n                    },{\r\n                        offset: 0, color: 'rgb(56, 206, 191)'\r\n                    }], false),\r\n                },\r\n            },\r\n        },\r\n        {\r\n\t\t\tname:seriesName3,\r\n\t\t\ttype:'line',\r\n\t\t\tstack: '总量',\r\n\t\t\tsymbol:'circle',\r\n\t\t\tsymbolSize: 10,\r\n            yAxisIndex: 1,\r\n            smooth: true,\r\n            itemStyle: {\r\n\t\t        normal: {\r\n                    borderColor: '#fff',\r\n                    borderWidth: 3,\r\n\t\t\t\t\tcolor:'#ffa55b',\r\n\t\t            lineStyle: {\r\n\t\t\t\t\t\tcolor: \"#ffa55b\",\r\n\t\t\t\t\t\twidth:1\r\n\t\t            }\r\n\t\t        }\r\n\t\t\t},\r\n            // label: {//图形上的文本标签\r\n            //     normal: {\r\n            //       show: true,\r\n            //       position: 'top',\r\n            //       textStyle: {\r\n            //         //   color: '#4c647c',\r\n            //           fontStyle: 'normal',\r\n            //           fontFamily: '微软雅黑',\r\n            //           fontSize: 12,   \r\n            //       },\r\n            //     },\r\n            // },\r\n\t\t\tmarkPoint:{\r\n\t\t\t\titemStyle:{\r\n\t\t\t\t\tnormal:{\r\n\t\t\t\t\t\tcolor:'red'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata:seriesData3\r\n\t\t}\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2489235190","theme":"","layout":"","viewCount":1523,"userName":"思***法","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xITCXiXLAv.png?v=1591166626072","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markPoint","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"b***8"}}