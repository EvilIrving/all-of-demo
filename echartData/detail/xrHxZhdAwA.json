{"status":0,"data":{"cid":"xrHxZhdAwA","authorUid":"bd-2589517385","authorUserName":"徐***盟","title":"柱线对应 同显同消 自动适应","description":"实现柱子和线的对应，实现线的偏移","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-20T03:21:27.000Z","lastUpdateTime":"2019-05-20T03:21:27.000Z","auth":2,"uid":"bd-2589517385","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-20T03:21:27.000Z","code":"option = {\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n            crossStyle: {\n                color: '#999'\n            }\n        }\n    },\n    legend: {\n        data: ['柱1', '柱2', '线1', '线2'],\n    },\n    xAxis: [{\n        type: 'category',\n        data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n        axisPointer: {\n            type: 'shadow'\n        }\n    }, ],\n    yAxis: [{\n            type: 'value',\n            name: '水量',\n\n            axisLabel: {\n                formatter: '{value} ml'\n            }\n        },\n        {\n            type: 'value',\n            name: '温度',\n            position: 'right',\n\n            axisLabel: {\n                formatter: '{value} °C'\n            }\n        }\n    ],\n    series: [{\n            name: '柱1',\n            type: 'bar',\n            barMaxWidth: '30px',\n            data: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],\n            z: 3\n        },\n        {\n            name: '柱2',\n            type: 'bar',\n            barMaxWidth: '30px',\n            data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],\n            z: 3\n\n        },\n        {\n            xAxisIndex: 1,\n            name: '柱1',\n            type: 'line',\n            yAxisIndex: 1,\n            data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\n        },\n        {\n            xAxisIndex: 1,\n            name: '柱2',\n            type: 'line',\n            yAxisIndex: 1,\n            data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\n        }\n    ]\n};\n\n// 增加了一个隐藏的x轴，用来控制线图的点的位置\noption.xAxis[1] = {\n    type: 'value',\n    max: option.xAxis[0].data.length * 100,\n    show: false\n}\noption.series[2].data = option.series[2].data.map((x, i) => [27 + i * 100, x])\noption.series[3].data = option.series[3].data.map((x, i) => [73 + i * 100, x])\nmyChart.setOption(\n    option\n);\n\n\nmyChart.on('legendselectchanged', function(params) {\n    var opt = myChart.getOption();\n    if (params.selected.柱1 == true && params.selected.柱2 == true) {\n        opt.series[2].data = [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2].map((x, i) => [27 + i * 100, x])\n        opt.series[3].data = [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2].map((x, i) => [73 + i * 100, x])\n    } else\n    if (params.selected.柱1 == true && params.selected.柱2 == false) {\n        opt.series[2].data = [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2].map((x, i) => [50 + i * 100, x])\n    } else\n    if (params.selected.柱1 == false && params.selected.柱2 == true) {\n        opt.series[3].data = [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2].map((x, i) => [50 + i * 100, x])\n    } else {\n\n    }\n    myChart.clear();\n    myChart.resize();\n    myChart.setOption(\n        opt\n    );\n\n\n});","html":"","externalScripts":"","updaterUID":"bd-2589517385","theme":"","layout":"","viewCount":85,"userName":"徐***盟","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrHxZhdAwA.png?v=1558322487187","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":["bar","line"],"updaterUserName":"徐***盟"}}