{"status":0,"data":{"cid":"xPlRSXWMEp","authorUid":"bd-769088646","authorUserName":"小***个","title":"环形一","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-06T11:04:44.000Z","lastUpdateTime":"2020-04-06T11:04:44.000Z","auth":1,"uid":"bd-769088646","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-06T11:04:44.000Z","code":"var data = [{\n        value: 50,\n        name: '直接访问'\n    },\n    {\n        value: 20,\n        name: '邮件营销'\n    },\n    {\n        value: 15,\n        name: '联盟广告'\n    },\n    {\n        value: 5,\n        name: '视频广告'\n    },\n    {\n        value: 5,\n        name: '搜索引擎'\n    },\n    {\n        value: 5,\n        name: '搜索引擎1'\n    }  \n];\n\nvar center = ['30%', '50%'];\nvar radius = {\n    '内': ['54%', '60%'],\n    'pie': ['60%', '70%'],\n    '中': ['70%', '76%'],\n    '外': ['70%', '85%'],\n}\n\nvar text = '总任务数'\nvar num =  1234\nvar size = 32\n// 称量字的中间位置\nvar titleLeft = size - text.length * 2 + '%'\nvar numLeft = 40 - num.length * 2 + '%'\n\n\nvar legenddata = data.map(item => item.name)\noption = {\n    backgroundColor: '#fff',\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    title: [{\n        text: text,\n        y: '40%',\n        x: titleLeft,\n        textStyle: {\n          color: '#000',\n          fontSize: 30\n        }\n    },{\n        text: num,\n        y: '50%',\n        x: '25%',\n        textStyle: {\n          color: '#000',\n          fontSize: 30\n        }\n    }],\n    legend: {\n            type:\"plain\",\n        \n        orient: 'vertical',\n        // x: 'right',\n        // y: 'center',\n        left: '65%',\n        top: 'center',\n        icon: \"circle\",\n        data: ['直接访问', '搜索引擎', '邮件营销', '联盟广告', '视频广告', '搜索引擎1'],\n        formatter: function(name) {\n            var oa = option.series[0].data;\n            var num = oa[0].value + oa[1].value + oa[2].value + oa[3].value;\n            for (var i = 0; i < option.series[0].data.length; i++) {\n                if (name == oa[i].name) {\n                                          return '{name|' + name + '}{rate|' + (oa[i].value / num * 100).toFixed(2) + '%}{value|' +oa[i].value + '}'\n\n                    \n                    // return  name + '     ' + (oa[i].value / num * 100).toFixed(2) + '%' + '     ' + oa[i].value \n                }\n            }\n        },\n        width: 150,\n        height:400,\n        padding: [15,20,15,20],\n        borderColor: 'rgba(0,0,0,0.08)',\n        borderWidth: 1,\n        borderRadius: 10,\n        shadowColor: 'rgba(0, 0, 0, 0.3)',\n        shadowBlur: 20,\n        backgroundColor: '#fff',\n        textStyle: {\n            rich: {\n                name: {\n                    fontSize: 17,\n                    fontWeight: 550,\n                    fontFamily: '-webkit-pictograph',\n                    width: 130,\n                    height: 50,\n                    // padding: [4,0,4,0]\n                },\n                rate: {\n                    fontSize: 17,\n                    fontFamily: '-webkit-pictograph',\n                    fontWeight: 550,\n                    height: 50,\n                    width: 80\n                    // padding: [0,0,0,0]\n                    \n                },\n                value: {\n                    fontSize: 17,\n                    fontWeight: 550,\n                    fontFamily: '-webkit-pictograph',\n                    height: 50,\n                    width: 60\n                    // padding: [0,0,0,0]\n                    \n                }\n            }\n        }        \n\n    },\n\n        \n        \n        // legend: {\n        //     orient: 'vertical',\n        //     left: 'right',\n        //     top: 'center',\n        //     align: 'left',\n        //     itemHeight: 20,\n        //     itemWidth: 20,\n        //     textStyle: {\n        //         color: '#afb5b7'\n        //     },\n        //     data: legenddata\n        // },\n    series: [{\n        name: '访问来源',\n        type: 'pie',\n        radius: radius['pie'],\n        center: center,\n        avoidLabelOverlap: false,\n        color: ['#4c84ff', '#5b6378', '#ffc400', '#29cb97', '#ff86ad', '#815eff'],\n        label: {\n            normal: {\n                show: false,\n                position: 'center',\n                formatter: '{b}\\n\\n{c}'\n            },\n            emphasis: {\n                show: false,\n                textStyle: {\n                    fontSize: '30',\n                    fontWeight: 'bold'\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: data\n    }, {\n        name: '背景中圆环',\n        type: 'pie',\n        radius: radius['中'],\n        center: center,\n        color: '#f4f5f6',\n        silent: true,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: '',\n            value: 100\n        }]\n    }, {\n        name: '背景内圆环',\n        type: 'pie',\n        radius: radius['内'],\n        center: center,\n        color: 'rgba(0,0,0,.1)',\n        silent: true,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: '',\n            value: 100\n        }]\n    }]\n};\n\n","html":"","externalScripts":"","updaterUID":"bd-769088646","theme":"","layout":"","viewCount":354,"userName":"小***个","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPlRSXWMEp.png?v=1586171084693","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"小***个"}}