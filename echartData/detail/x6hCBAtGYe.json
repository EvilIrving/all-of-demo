{"status":0,"data":{"cid":"x6hCBAtGYe","authorUid":"obd-ojCR7KGkluZSYyYaUwFzfD5fQenFMEF","authorUserName":"梦***醒","title":"山东省各市GDP历年变化","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-28T08:17:58.000Z","lastUpdateTime":"2020-12-28T08:17:58.000Z","auth":2,"uid":"obd-ojCR7KGkluZSYyYaUwFzfD5fQenFMEF","publishedVersion":1,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T08:17:58.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1605510661041-oDutJVlSC.json\";\r\n\r\n\r\nvar t = 1; //流入流出控制\r\nvar r = 1; //右侧流入流出文字控制\r\n\r\n\r\nvar geoCoordMap = {\r\n    '济南市': [117.121225, 36.66466],\r\n    '菏泽市': [115.480656, 35.23375],\r\n    '德州市': [116.39, 37.45],\r\n    '聊城市': [115.97, 36.45],\r\n    '泰安市': [117.13, 36.18],\r\n    '临沂市': [118.35, 35.05],\r\n    '淄博市': [118.05, 36.78],\r\n    '枣庄市': [117.57, 34.86],\r\n    '滨州市': [118.03, 37.36],\r\n    '潍坊市': [119.1, 36.62],\r\n    '东营市': [118.49, 37.46],\r\n    '青岛市': [120.3, 36.62],\r\n    '烟台市': [120.9, 37.32],\r\n    '威海市': [122.1, 37.2],\r\n    '日照市': [119.1, 35.62],\r\n    '济宁市': [116.7, 35.42],\r\n};\r\nvar d1 = {\r\n    '济南市': 4456.86,\r\n    '菏泽市': 1227.09,\r\n    '德州市': 1657.82,\r\n    '聊城市': 1622.38,\r\n    '泰安市': 2051.68,\r\n    '临沂市': 2399.99,\r\n    '淄博市': 2866.75,\r\n    '枣庄市': 1362.04,\r\n    '滨州市': 1551.52,\r\n    '潍坊市': 3090.92,\r\n    '东营市': 2359.94,\r\n    '青岛市': 5666.19,\r\n    '烟台市': 4358.46,\r\n    '威海市': 1944.7,\r\n    '日照市': 1025.08,\r\n    '济宁市': 2542.81,\r\n};\r\n\r\nvar d2 = {\r\n\r\n    '济南市': 5018.17,\r\n    '菏泽市': 1556.52,\r\n    '德州市': 1950.71,\r\n    '聊城市': 1919.42,\r\n    '泰安市': 2304.31,\r\n    '临沂市': 2770.45,\r\n    '淄博市': 3280.23,\r\n    '枣庄市': 1561.68,\r\n    '滨州市': 1817.58,\r\n    '潍坊市': 3541.84,\r\n    '东营市': 2676.35,\r\n    '青岛市': 6615.6,\r\n    '烟台市': 4906.83,\r\n    '威海市': 2110.95,\r\n    '日照市': 1214.07,\r\n    '济宁市': 2896.69,\r\n};\r\n\r\nvar d3 = {\r\n\r\n    '济南市': 5435.08,\r\n    '菏泽市': 1787.36,\r\n    '德州市': 2230.55,\r\n    '聊城市': 2146.75,\r\n    '泰安市': 2547.01,\r\n    '临沂市': 3012.81,\r\n    '淄博市': 3557.21,\r\n    '枣庄市': 1702.92,\r\n    '滨州市': 1987.73,\r\n    '潍坊市': 4012.43,\r\n    '东营市': 3000.66,\r\n    '青岛市': 7302.11,\r\n    '烟台市': 5281.38,\r\n    '威海市': 2337.86,\r\n    '日照市': 1352.57,\r\n    '济宁市': 3189.37,\r\n};\r\nvar d4 = {\r\n    '济南市': 5883.67,\r\n    '菏泽市': 2050.01,\r\n    '德州市': 2460.59,\r\n    '聊城市': 2365.87,\r\n    '泰安市': 2790.7,\r\n    '临沂市': 3336.81,\r\n    '淄博市': 3801.24,\r\n    '枣庄市': 1830.63,\r\n    '滨州市': 2155.73,\r\n    '潍坊市': 4420.7,\r\n    '东营市': 3250.2,\r\n    '青岛市': 8006.6,\r\n    '烟台市': 5613.87,\r\n    '威海市': 2549.69,\r\n    '日照市': 1500.16,\r\n    '济宁市': 3501.54,\r\n};\r\n\r\nvar d5 = {\r\n\r\n    '济南市': 6458.2,\r\n    '菏泽市': 2222.19,\r\n    '德州市': 2596.08,\r\n    '聊城市': 2516.4,\r\n    '泰安市': 3002.19,\r\n    '临沂市': 3569.8,\r\n    '淄博市': 4029.77,\r\n    '枣庄市': 1980.13,\r\n    '滨州市': 2276.71,\r\n    '潍坊市': 4786.74,\r\n    '东营市': 3430.49,\r\n    '青岛市': 8692.10,\r\n    '烟台市': 6002.08,\r\n    '威海市': 2790.34,\r\n    '日照市': 1611.84,\r\n    '济宁市': 3800.06,\r\n};\r\n\r\nvar d6 = {\r\n    '济南市': 6766.06,\r\n    '菏泽市': 2400.96,\r\n    '德州市': 2570.94,\r\n    '聊城市': 2663.62,\r\n    '泰安市': 3158.39,\r\n    '临沂市': 3763.17,\r\n    '淄博市': 4130.24,\r\n    '枣庄市': 2031,\r\n    '滨州市': 2355.33,\r\n    '潍坊市': 5170.53,\r\n    '东营市': 3450.64,\r\n    '青岛市': 9300.07,\r\n    '烟台市': 6446.08,\r\n    '威海市': 3001.57,\r\n    '日照市': 1670.8,\r\n    '济宁市': 4013.12,\r\n};\r\n\r\nvar d7 = {\r\n    '济南市': 7238.9,\r\n    '菏泽市': 2560.2,\r\n    '德州市': 2932.99,\r\n    '聊城市': 2859.2,\r\n    '泰安市': 3316.8,\r\n    '临沂市': 4026.75,\r\n    '淄博市': 4412.01,\r\n    '枣庄市': 2142.63,\r\n    '滨州市': 2470.1,\r\n    '潍坊市': 5522.7,\r\n    '东营市': 3479.6,\r\n    '青岛市': 10011.29,\r\n    '烟台市': 6925.7,\r\n    '威海市': 3212.2,\r\n    '日照市': 1802.5,\r\n    '济宁市': 4301.8,\r\n};\r\n\r\nvar d8 = {\r\n\r\n    '济南市': 8097.98,\r\n    '菏泽市': 2820.18,\r\n    '德州市': 3140.18,\r\n    '聊城市': 3064.06,\r\n    '泰安市': 3585.28,\r\n    '临沂市': 4345.39,\r\n    '淄博市': 4781.32,\r\n    '枣庄市': 2315.91,\r\n    '滨州市': 2612.92,\r\n    '潍坊市': 5858.63,\r\n    '东营市': 3801.78,\r\n    '青岛市': 11037.28,\r\n    '烟台市': 7338.95,\r\n    '威海市': 3480.1,\r\n    '日照市': 2002.65,\r\n    '济宁市': 4650.57,\r\n};\r\nvar d9 = {\r\n\r\n    '济南市': 8862.21,\r\n    '菏泽市': 3078.78,\r\n    '德州市': 3380.3,\r\n    '聊城市': 3152.15,\r\n    '泰安市': 3651.53,\r\n    '临沂市': 4717.8,\r\n    '淄博市': 5068.35,\r\n    '枣庄市': 2402.38,\r\n    '滨州市': 2640.52,\r\n    '潍坊市': 6156.78,\r\n    '东营市': 4152.47,\r\n    '青岛市': 12001.52,\r\n    '烟台市': 7832.58,\r\n    '威海市': 3641.48,\r\n    '日照市': 2202.17,\r\n    '济宁市': 4930.58,\r\n};\r\nvar d10 = {\r\n    '济南市': 9443.37,\r\n    '菏泽市': 3409.98,\r\n    '德州市': 3022.27,\r\n    '聊城市': 2259.82,\r\n    '泰安市': 2663.59,\r\n    '临沂市': 4600.25,\r\n    '淄博市': 3642.42,\r\n    '枣庄市': 1693.91,\r\n    '滨州市': 2457.19,\r\n    '潍坊市': 5688.5,\r\n    '东营市': 2916.19,\r\n    '青岛市': 11741.31,\r\n    '烟台市': 7653.45,\r\n    '威海市': 2963.73,\r\n    '日照市': 1949.38,\r\n    '济宁市': 4370.17,\r\n};\r\n\r\n\r\nvar colors = [\"#1DE9B6\", \"#EEDD78\", \"#FFFF00\", \"#FFDB5C\", \"#37A2DA\", \"#04B9FF\"];\r\nvar colorIndex = 0;\r\n$(function() {\r\n\r\n    var year = [\"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\"];\r\n    var mapData = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n    ];\r\n\r\n    /*柱子Y名称*/\r\n    var categoryData = [];\r\n    var barData = [];\r\n\r\n    for (var key in geoCoordMap) {\r\n        mapData[0].push({\r\n            \"year\": '2010',\r\n            \"name\": key,\r\n            \"value\": d1[key] / 10,\r\n            \"value1\": d1[key] / 19,\r\n        });\r\n        mapData[1].push({\r\n            \"year\": '2011',\r\n            \"name\": key,\r\n            \"value\": d2[key] / 10,\r\n            \"value1\": d2[key] / 10,\r\n        });\r\n        mapData[2].push({\r\n            \"year\": '2012',\r\n            \"name\": key,\r\n            \"value\": d3[key] / 10,\r\n            \"value1\": d3[key] / 10,\r\n        });\r\n        mapData[3].push({\r\n            \"year\": '2013',\r\n            \"name\": key,\r\n            \"value\": d4[key] / 10,\r\n            \"value1\": d4[key] / 10,\r\n        });\r\n        mapData[4].push({\r\n            \"year\": '2014',\r\n            \"name\": key,\r\n            \"value\": d5[key] / 10,\r\n            \"value1\": d5[key] / 10,\r\n        });\r\n        mapData[5].push({\r\n            \"year\": '2015',\r\n            \"name\": key,\r\n            \"value\": d6[key] / 10,\r\n            \"value1\": d6[key] / 10,\r\n        });\r\n        mapData[6].push({\r\n            \"year\": '2016',\r\n            \"name\": key,\r\n            \"value\": d7[key] / 10,\r\n            \"value1\": d7[key] / 10,\r\n        });\r\n        mapData[7].push({\r\n            \"year\": '2017',\r\n            \"name\": key,\r\n            \"value\": d8[key] / 10,\r\n            \"value1\": d8[key] / 10,\r\n        });\r\n        mapData[8].push({\r\n            \"year\": '2018',\r\n            \"name\": key,\r\n            \"value\": d9[key] / 10,\r\n            \"value1\": d9[key] / 10,\r\n        });\r\n        mapData[9].push({\r\n            \"year\": '2019',\r\n            \"name\": key,\r\n            \"value\": d10[key] / 10,\r\n            \"value1\": d10[key] / 10,\r\n        });\r\n\r\n    }\r\n\r\n    for (var i = 0; i < mapData.length; i++) {\r\n        mapData[i].sort(function sortNumber(a, b) {\r\n            return a.value - b.value\r\n        });\r\n        barData.push([]);\r\n        categoryData.push([]);\r\n        for (var j = 0; j < mapData[i].length; j++) {\r\n            barData[i].push(mapData[i][j].value1 * 10);\r\n            categoryData[i].push(mapData[i][j].name);\r\n        }\r\n    }\r\n    \r\n\r\n    \r\n    $.getJSON(uploadedDataURL, function(geoJson) {\r\n      \r\n  // echarts.registerMap(nameMap, gdMap);\r\n     echarts.registerMap('shandong', geoJson);\r\n        var convertData = function(data) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({\r\n                        name: data[i].name,\r\n                        value: geoCoord.concat(data[i].value)\r\n                    });\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n\r\n        var convertToLineData = function(data, gps) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var dataItem = data[i];\r\n                var toCoord = geoCoordMap[dataItem.name];\r\n                var fromCoord = gps; //郑州\r\n                //  var toCoord = geoGps[Math.random()*3]; \r\n                if (fromCoord && toCoord) {\r\n                    if (t == 1) {\r\n                        res.push([{\r\n                            coord: toCoord,\r\n                        }, {\r\n                            coord: fromCoord,\r\n                            value: dataItem.value\r\n                        }]);\r\n                    } else {\r\n                        res.push([{\r\n                            coord: fromCoord,\r\n                            value: dataItem.value\r\n                        }, {\r\n                            coord: toCoord,\r\n                        }]);\r\n                    }\r\n\r\n                }\r\n            }\r\n            if (t == 0) {\r\n                t = 1;\r\n            } else {\r\n                t = 0;\r\n            }\r\n            return res;\r\n        };\r\n\r\n        optionXyMap01 = {\r\n            timeline: {\r\n                data: year,\r\n                axisType: 'category',\r\n                autoPlay: true,\r\n                playInterval: 1500,\r\n                left: '10%',\r\n                right: '10%',\r\n                bottom: '3%',\r\n                width: '80%',\r\n                //  height: null,\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                symbolSize: 10,\r\n                lineStyle: {\r\n                    color: '#FFFFFF'\r\n                },\r\n                checkpointStyle: {\r\n                    borderColor: '#FFFFFF',\r\n                    borderWidth: 2\r\n                },\r\n                controlStyle: {\r\n                    showNextBtn: true,\r\n                    showPrevBtn: true,\r\n                    normal: {\r\n                        color: '#666',\r\n                        borderColor: '#666'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#FFFFFF',\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n\r\n            },\r\n            baseOption: {\r\n\r\n                animation: true,\r\n                animationDuration: 1000,\r\n                animationEasing: 'cubicInOut',\r\n                animationDurationUpdate: 1000,\r\n                animationEasingUpdate: 'cubicInOut',\r\n                grid: {\r\n                    right: '2%',\r\n                    top: '10%',\r\n                    bottom: '10%',\r\n                    width: '18%'\r\n                },\r\n                tooltip: {\r\n                    trigger: 'axis', // hover触发器\r\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n                        shadowStyle: {\r\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\r\n                        }\r\n                    }\r\n                },\r\n                visualMap: {\r\n                    min: 0,\r\n                    max: 12000,\r\n                    left: 'left',\r\n                    top: 'bottom',\r\n                    text: ['高', '低'],\r\n                    textStyle: {\r\n                        color: 'white'\r\n                    },\r\n                    calculable: true,\r\n                    colorLightness: [0.8, 100],\r\n                    color: ['#c05050', '#e5cf0d', '#5ab1ef'],\r\n                    dimension: 0,\r\n\r\n                },\r\n                geo: {\r\n                    show: true,\r\n                    map: 'shandong',\r\n                    roam: true,\r\n                    zoom: 1,\r\n                   center: [119.83531246, 36.0267395887],\r\n                     label: {\r\n                       emphasis: {\r\n                         show: true\r\n                        }\r\n                  },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'rgba(147, 235, 248, 1)',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'radial',\r\n                                x: 0.5,\r\n                                y: 0.5,\r\n                                r: 0.8,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: 'rgba(3, 0, 38,9)' // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: 'rgba(3, 0, 38,9)' // 100% 处的颜色\r\n                                }],\r\n                                globalCoord: false // 缺省为 false\r\n                            },\r\n                            shadowColor: 'rgba(128, 217, 248, 9)',\r\n                            // shadowColor: 'rgba(255, 255, 255, 1)',\r\n                            shadowOffsetX: -2,\r\n                            shadowOffsetY: 2,\r\n                            shadowBlur: 10\r\n                        },\r\n                        emphasis: {\r\n                            areaColor: '#FCFFD9',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n            options: []\r\n\r\n        };\r\n\r\n        for (var n = 0; n < year.length; n++) {\r\n            var statistic_name = \"山东省各市GDP\";\r\n            optionXyMap01.options.push({\r\n                backgroundColor: '#555555',\r\n\r\n                title: [{\r\n                        text: '山东省各市GDP历年变化',\r\n                        //subtext: '   ',\r\n                        left: '25%',\r\n                        top: '1%',\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            fontSize: 25\r\n                        }\r\n                    },\r\n                    {\r\n                        id: 'statistic',\r\n                        text: statistic_name,\r\n                        left: '75%',\r\n                        top: '3%',\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            fontSize: 16\r\n                        }\r\n                    }\r\n                ],\r\n                xAxis: {\r\n                    type: 'value',\r\n                    scale: true,\r\n                    position: 'top',\r\n                    min: 0,\r\n                    boundaryGap: false,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        margin: 1,\r\n                        textStyle: {\r\n                            color: '#aaa'\r\n                        }\r\n                    },\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    //  name: 'TOP 20',\r\n                    nameGap: 16,\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show: false,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    data: categoryData[n]\r\n                },\r\n\r\n                series: [{\r\n                        //文字和标志\r\n                        name: 'light',\r\n                        type: 'scatter',\r\n                        coordinateSystem: 'geo',\r\n                        data: convertData(mapData[n]),\r\n                        symbolSize: function(val) {\r\n                            return val[2] / 15;\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{b}',\r\n                                position: 'right',\r\n                                show: true\r\n                            },\r\n                            emphasis: {\r\n                                show: true\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n]\r\n                            }\r\n                        }\r\n                    },\r\n                    //地图？\r\n                    {\r\n                        type: 'map',\r\n                        map: 'shandong',\r\n                        geoIndex: 0,\r\n                        //aspectScale: 0.75, //长宽比\r\n                        showLegendSymbol: false, // 存在legend时显示\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            },\r\n                            emphasis: {\r\n                                show: false,\r\n                                textStyle: {\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        },\r\n                        roam: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#031525',\r\n                                borderColor: '#FFFFFF',\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2B91B7'\r\n                            }\r\n                        },\r\n                        animation: false,\r\n                        data: mapData\r\n                    },\r\n                    //地图点的动画效果\r\n                    {\r\n                        //  name: 'Top 5',\r\n                        type: 'effectScatter',\r\n                        coordinateSystem: 'geo',\r\n                        data: convertData(mapData[n].sort(function(a, b) {\r\n                            return b.value - a.value;\r\n                        }).slice(0, 20)),\r\n                        symbolSize: function(val) {\r\n                            return val[2] / 15;\r\n                        },\r\n                        showEffectOn: 'render',\r\n                        rippleEffect: {\r\n                            brushType: 'stroke'\r\n                        },\r\n                        hoverAnimation: true,\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{b}',\r\n                                position: 'right',\r\n                                show: true\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: '#031525',\r\n                                shadowBlur: 100,\r\n                                shadowColor: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        zlevel: 1\r\n                    },\r\n                    //地图线的动画效果\r\n\r\n                    //柱状图\r\n                    {\r\n                        zlevel: 1.5,\r\n                        type: 'bar',\r\n                        barMaxWidth: 8,\r\n                        symbol: 'none',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[n],\r\n                                barBorderRadius: [0, 30, 30, 0]\r\n                            }\r\n                        },\r\n                        data: barData[n]\r\n                    }\r\n                ]\r\n            });\r\n            if (r == 0) {\r\n                r = 1;\r\n            } else {\r\n                r = 0;\r\n            }\r\n        }\r\n        myChart.setOption(optionXyMap01);\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"obd-ojCR7KGkluZSYyYaUwFzfD5fQenFMEF","theme":"","layout":"","viewCount":217,"userName":"梦***醒","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x6hCBAtGYe.png?v=1609143478874","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-map","series-scatter","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"梦***醒"}}