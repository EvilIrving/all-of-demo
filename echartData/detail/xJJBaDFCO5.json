{"status":0,"data":{"cid":"xJJBaDFCO5","authorUid":"obd-oj4TR4ZUzAeNKdTnuNJ7lR_jG_5fSD2","authorUserName":"q***9","title":"横向标尺","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-11-04T06:28:43.000Z","lastUpdateTime":"2021-11-04T14:42:51.000Z","auth":2,"uid":"obd-oj4TR4ZUzAeNKdTnuNJ7lR_jG_5fSD2","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-04T14:42:51.000Z","code":"var xMax = 30;\nvar barWidth = 20;\nvar kd = [];\nvar kdUnit = 5;\n// 刻度使用柱状图模拟，短设置3，长的设置5；构造一个数据\nfor (var i = 0, len = xMax; i <= len; i++) {\n    if (i > xMax) {\n        kd.push('0');\n    } else {\n        if (i % kdUnit === 0) {\n            kd.push('-5');\n        } else {\n            kd.push('-3');\n        }\n    }\n}\nvar option = {\n    backgroundColor: '#0e1733',\n    xAxis: [\n        {\n            show: false,\n            min: 0,\n            max: xMax,\n            inverse: true,\n        },\n        {\n            show: false,\n            data: [],\n            min: -3,\n            max: 33,\n            inverse: true,\n        },\n    ],\n    yAxis: [\n        {\n            show: false,\n            data: [],\n        },\n        {\n            show: false,\n            data: [],\n        },\n        {\n            show: false,\n            data: [],\n        },\n        {\n            show: false,\n            min: -90,\n            max: 100,\n        },\n    ],\n    series: [\n        {\n            name: '急需改造',\n            type: 'bar',\n            barWidth: 24,\n            // silent: true,\n            stack: true,\n            yAxisIndex: 0,\n            data: [\n                {\n                    value: 5,\n                    label: {\n                        normal: {\n                            show: true,\n                            color: '#fff',\n                            fontSize: 14,\n                            formatter: function (params) {\n                                return '优秀';\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#528CED',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: ' ',\n            type: 'bar',\n            stack: true,\n            barWidth: 24,\n            // silent: true,\n            yAxisIndex: 0,\n            data: [\n                {\n                    value: 5,\n                    label: {\n                        normal: {\n                            show: true,\n                            color: '#fff',\n                            fontSize: 14,\n                            formatter: function (params) {\n                                return '良好';\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#3DD7C1',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: ' ',\n            type: 'bar',\n            stack: true,\n            barWidth: 24,\n            // silent: true,\n            yAxisIndex: 0,\n            data: [\n                {\n                    value: 5,\n                    label: {\n                        normal: {\n                            show: true,\n                            color: '#fff',\n                            fontSize: 14,\n                            formatter: function (params) {\n                                return '一般';\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#E5BB3C',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: ' ',\n            type: 'bar',\n            stack: true,\n            barWidth: 5,\n            // silent: true,\n            yAxisIndex: 0,\n            data: [\n                {\n                    value: 15,\n                    label: {\n                        normal: {\n                            show: true,\n                            color: '#fff',\n                            fontSize: 14,\n                            formatter: function (params) {\n                                return '急需改造';\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#EF5286',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '刻度',\n            type: 'bar',\n            xAxisIndex: 1,\n            yAxisIndex: 3,\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    distance: -50,\n                    color: '#35F7FF',\n                    fontSize: 15,\n                    formatter: function (params) {\n                        // 因为柱状初始化为0，温度存在负值，所以，原本的0-100，改为0-130，0-30用于表示负值\n                        if (params.dataIndex < xMax && params.dataIndex % 10 === 0) {\n                            return params.dataIndex - 15;\n                        } else {\n                            if (params.dataIndex % 10 === 0) {\n                                return params.dataIndex - 15;\n                            } else {\n                                return '';\n                            }\n                        }\n                    },\n                },\n            },\n            data: kd,\n            barWidth: 2,\n            itemStyle: {\n                normal: {\n                    color: '#35F7FF',\n                    barBorderRadius: 10,\n                },\n            },\n            z: 3,\n            markPoint: {\n                data: [\n                    {\n                        value: '-5',\n                        xAxis: 15 - 5,\n                        y: 200,\n                        // symbol: 'image://img/04.png',\n                        // symbolSize: [20, 32],\n                        itemStyle: {\n                            normal: {\n                                color: '#E5BB3C',\n                                barBorderRadius: 10,\n                            },\n                        },\n                        label: {\n                            position: 'top',\n                            show: true,\n                            color: '#E5BB3C',\n                            fontSize: 14,\n                            fontWeight: 'bold',\n                            formatter: function (params) {\n                                return `当前能效` + params.value;\n                            },\n                        },\n                    },\n                ],\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oj4TR4ZUzAeNKdTnuNJ7lR_jG_5fSD2","theme":"","layout":"","viewCount":0,"userName":"q***9","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJJBaDFCO5.png?v=1636036971855","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"q***9"}}