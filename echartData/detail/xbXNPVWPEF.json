{"status":0,"data":{"cid":"xbXNPVWPEF","authorUid":"bd-960630","authorUserName":"s***3","title":"机场正常率（柱状图）","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-10-24T05:34:36.000Z","lastUpdateTime":"2020-10-24T05:34:36.000Z","auth":2,"uid":"bd-960630","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-24T05:37:01.000Z","code":"// 颜色设置\nvar backgroundColor = '#021547';\nvar fontColor = '#B3B3B3';\nvar color3 = ['#24B2D1'];\n\nvar g_airport = \"ZBAD,ZSHC,ZUCK,ZLXY,ZPPP,ZGSZ,ZUUU,ZGGG,ZSPD,ZBAA\";\nvar positionLeft = 23;\n\nvar result = {\n    \"ZBAD\": \"84\",\n    \"ZSHC\": \"76\",\n    \"ZUCK\": \"91\",\n    \"ZLXY\": \"82\",\n    \"ZPPP\": \"70\",\n    \"ZGSZ\": \"79\",\n    \"ZUUU\": \"88\",\n    \"ZGGG\": \"75\",\n    \"ZSPD\": \"80.64\",\n    \"ZBAA\": \"95\"\n};\n\nvar airportList = g_airport.split(\",\");\nvar seriesData = [];\nvar vdata = [];\n\n$.each(airportList, function(i, val) {\n    seriesData.push(result[val] == undefined ? 0 : result[val]);\n});\n\n$.each(seriesData, function(idx, valx) {\n    vdata.push({\n        value: valx,\n        itemStyle: {\n            color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{\n                offset: 0,\n                color: Number(valx) < 50 ? 'rgba(255, 25, 25, 1)' : (Number(valx) > 70 ? 'rgba(55, 201, 255, 1)' : 'rgba(255, 150, 37, 1)') // 顶端处的颜色\n            }, {\n                offset: 0.9,\n                color: 'rgba(20, 24, 58, 0.5)' // 底端处的颜色\n            }], false),\n            borderColor: Number(valx) < 50 ? 'rgba(242, 96, 57, 1)' : (Number(valx) > 70 ? 'rgba(57, 205, 242, 1)' : 'rgba(251, 230, 54, 1)')\n        }\n    });\n});\n\noption = {\n    backgroundColor: backgroundColor,\n    color: color3,\n    textStyle: {\n        fontSize: 17,\n        color: fontColor\n    },\n    grid: {\n        left: '3%',\n        top: '3%',\n        right: '3%',\n        bottom: '3%',\n        containLabel: false\n    },\n    xAxis: {\n        show: false\n    },\n    yAxis: [{\n            axisTick: 'none',\n            axisLine: 'none',\n            axisLabel: {\n                inside: true,\n                align: 'left',\n                textStyle: {\n                    color: '#FFFFFF',\n                    fontSize: 16\n                }\n            },\n            z: 10,\n            data: ['大兴机场', '萧山机场', '江北机场', '咸阳机场', '长水机场', '宝安机场', '双流机场', '白云机场', '浦东机场', '首都机场']\n        },\n        {\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                inside: true,\n                align: 'right',\n                formatter: function(param) {\n                    var data = Number(param);\n                    return data < 50 ? '{redColor|' + data + '%' + '}' : (data > 70 ? '{normal|' + data + '%' + '}' : '{orangeColor|' + data + '%' + '}');\n                },\n                rich: {\n                    normal: {\n                        color: '#2DC5FE'\n                    },\n                    redColor: {\n                        color: 'rgba(188,27,65,1)'\n                    },\n                    orangeColor: {\n                        color: 'rgba(255,182,54,1)'\n                    }\n                }\n            },\n            z: 10,\n            data: seriesData\n        },\n        {\n            axisLine: {\n                lineStyle: {\n                    color: 'rgba(0,0,0,0)'\n                }\n            },\n            data: []\n        }\n    ],\n    series: [{\n            type: 'bar',\n            name: '间距',\n            barWidth: 15,\n            stack: 'a',\n            legendHoverLink: false,\n            itemStyle: {\n                color: 'rgba(0,0,0,0)'\n            },\n            z: 3,\n            data: new Array(10).fill(positionLeft)\n        },\n        {\n            name: '条',\n            type: 'bar',\n            stack: 'a',\n            data: vdata,\n            label: {\n                show: false\n            },\n            barWidth: 15,\n            itemStyle: {\n                barBorderRadius: [0, 30, 30, 0],\n                borderWidth: 0.3\n            },\n            z: 3\n        },\n        {\n            name: '底框透明',\n            type: 'bar',\n            stack: 'b',\n            barGap: '-100%',\n            data: new Array(10).fill(positionLeft),\n            label: {\n                show: false\n            },\n            barWidth: 15,\n            itemStyle: {\n                color: 'rgba(0,0,0,0)'\n            },\n            z: 2\n        },\n        {\n            name: '底框',\n            type: 'bar',\n            stack: 'b',\n            barGap: '-100%',\n            data: new Array(10).fill(100),\n            label: {\n                show: false\n            },\n            barWidth: 15,\n            itemStyle: {\n                color: '#121439'\n            },\n            z: 2\n        },\n        {\n            name: '白框',\n            type: 'bar',\n            yAxisIndex: 1,\n            barGap: '-100%',\n            data: new Array(10).fill(150),\n            barWidth: 40,\n            itemStyle: {\n                color: '#0E0B26',\n                barBorderRadius: [10, 0, 0, 0]\n            },\n            z: 1\n        },\n        {\n            name: '外框',\n            type: 'bar',\n            yAxisIndex: 2,\n            barGap: '-100%',\n            data: new Array(10).fill(150),\n            barWidth: 40,\n            itemStyle: {\n                color: 'rgba(49,214,255,1)',\n                borderColor: 'rgba(49,214,255,0.3)'\n            },\n            z: 0\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-960630","theme":"","layout":"","viewCount":145,"userName":"s***3","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xbXNPVWPEF.png?v=1603517823275","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"s***3"}}