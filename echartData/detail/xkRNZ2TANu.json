{"status":0,"data":{"cid":"xkRNZ2TANu","authorUid":"obd-oC-nJHA0--es1d6Ee1pM82HcUfWfL3i","authorUserName":"瓜***子","title":"环形饼状图demo","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-11T10:35:42.000Z","lastUpdateTime":"2021-01-11T10:35:42.000Z","auth":2,"uid":"obd-oC-nJHA0--es1d6Ee1pM82HcUfWfL3i","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-11T10:35:42.000Z","code":"const data = [//数据的值\n                { value: 40, name: '立案' },\n                { value: 5, name: '审核未通过' },\n                { value: 10, name: '审核中' },\n                { value: 20, name: '已处理' },\n                { value: 25, name: '撤诉' },\n            ]\nlet placeHolderStyle = {\n    normal: {\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        },\n        color: 'rgba(0, 0, 0, 0)',\n        borderColor: 'rgba(0, 0, 0, 0)',\n        borderWidth: 0\n    }\n};\nconst color = ['#02baf4', '#e6ea7c', '#0079ea', '#1ee4ab', '#f1b457']\nlet list = []\nlet total = 0\nfor (let i in data) {\n    total += data[i].value\n}\n// 这步主要是为了让小圆点的颜色和饼状图的块对应，如果圆点的颜色是统一的，只需要把label写在series里面\nlet setLabel = (data) => {\n    let opts = [];\n    for (let i = 0; i < data.length; i++) {\n        let item = {};\n        item.name = data[i].name;\n        item.value = data[i].value;\n        item.label = {\n            normal: {\n                //控制引导线上文字颜色和位置,此处a是显示文字区域，b做一个小圆圈在引导线尾部显示\n                show: true,\n                //a和b来识别不同的文字区域\n                formatter: [\n                    '{a|  {b}}',\n                    '{b|}'\n                ].join('\\n'), //用\\n来换行\n                rich: {\n                    a: {\n                        align: 'center',\n                        padding: [0, -80, -15, -80]\n                    },\n                    b: {\n                        height: 5,\n                        width: 5,\n                        lineHeight: 5,\n                        marginBottom: 10,\n                        padding: [0, -5],\n                        borderRadius: 5,\n                        backgroundColor: color[i], // 圆点颜色和饼图块状颜色一致\n                    }\n                },\n\n            }\n        }\n\n        opts.push(item, {\n            value: 1,\n            name: '_space_',\n            itemStyle: placeHolderStyle\n        })\n    }\n    return opts;\n}\n\nfor (let i in data) {\n    list.push({\n        value: data[i].value,\n        name: data[i].name,\n        itemStyle: {\n            normal: {\n                borderWidth: 5,\n                color: color[i]\n            }\n        }\n    }, {\n        value: 1,\n        name: '_space_',\n        itemStyle: placeHolderStyle\n    })\n}\n\noption = {\n            legend: {\n                icon: \"rect\",//形状  类型包括 circle，rect,line，roundRect，triangle，diamond，pin，arrow，none\n                itemWidth: 15,  // 设置宽度\n                itemHeight: 8, // 设置高度\n                itemGap: 10, // 设置间距\n                align: \"left\",\n                show: true,\n                left: 'right', //位置\n                data: ['立案', '审核未通过', '审核中', '已处理', '撤诉'],\n                textStyle: {\n                    //文字样式\n                    color: \"#fff\",\n                    fontSize: \"12\"\n                }\n\n            },\n            backgroundColor: 'white',\n            series: [\n                {\n                    name: '半径模式',\n                    type: 'pie',//这个type决定了你画的图的类型是饼图还是柱状图等\n                    radius: [50, 80],//饼图的内环和外环的半径\n                    center: ['50%', '50%'],//玫瑰图在画布上的相对位置\n                    color: color,\n                    startAngle: 180,\n\t\t            avoidLabelOverlap: true,\n                    itemStyle: {\n                        normal: {\n                            borderWidth: 1,\n                            // borderColor: 'raba(0,0,0,0)',\n                            label: {\n                                show: false,//数据标签显示\n                            },\n                            labelLine: {\n                                show: false,//数据标签引导线\n                            }\n                        }\n                    },\n                    data: list,\n                    tooltip: {\n                        formatter: function(params) {\n                        if (params.data.name === '_space_'){\n                            return\n                        } else {\n                            return params.data.name+ ' : ' + params.data.value\n                        }\n                    }\n                    }\n                },\n                {\n                    name: '半径模式',\n                    type: 'pie',//这个type决定了你画的图的类型是饼图还是柱状图等\n                    radius: [100, 100],//饼图的内环和外环的半径\n                    center: ['50%', '50%'],//玫瑰图在画布上的相对位置\n                    color: color,\n                    startAngle: 180,\n\t\t            avoidLabelOverlap: true,\n                    label: {\n                        show: true,//数据标签显示\n                        position: 'outer',\n                        textStyle://数据标签的字体配置，与其他组件相同\n                        {\n                            fontSize: 12,//字号\n                            fontWeight: 'normal',//粗细【normal\\bold\\bolder\\lighter】\n                            fontFamily: 'Microsoft YaHei',//字体【 'serif'\\'monospace'\\'Arial'\\'Courier New'\\'Microsoft YaHei'】\n                            color: ''//颜色各异\n                        },\n                        //formatter: '{b}：{d}%'//a:系列名，就是你上面写的name半径模型，b：数据名，就是rose1，c：数据值，d百分比\n                        // formatter: ' {b} \\n\\n',\n                        // padding: [0, -55],\n                        // alignTo: 'labelLine'\n                    },\n                    labelLine: {\n                        show: true,//数据标签引导线\n                        length: 15,\n                        length2: 60,\n                        align: 'right',\n                        lineStyle: {\n                            width: 1,\n                            type: 'solid'\n                        }\n                    },\n                    itemStyle: {\n                      opacity: 0\n                    },\n                    data: setLabel(data),\n                    tooltip: {\n                        formatter: function(params) {\n                        if (params.data.name === '_space_'){\n                            return\n                        } else {\n                            return params.data.name+ ' : ' + params.data.value\n                        }\n                    }\n                    }\n                },\n                {\n                    name: '外边框',\n                    type: 'pie',\n                    clockWise: false, //顺时加载\n                    hoverAnimation: false, //鼠标移入变大\n                    center: ['50%', '50%'],\n                    radius: [100, 100],\n                    label: {\n                        normal: {\n                            show: false\n                        }\n                    },\n                    data: [{\n                        value: 9,\n                        name: '',\n                        itemStyle: {\n                            normal: {\n                                borderWidth: 1,\n                                borderType: 'dashed',\n                                borderColor: '#2985e0'\n                            }\n                        },\n                        tooltip: {\n                            show: false\n                        }\n                    }]\n                },\n            ],\n            tooltip: {\n                show: true,\n                trigger: 'item', // 触发类型，默认数据触发，【item\\axis】\n                formatter: '{b} : {c}',//与数据标签相同\n                showDelay: 20,  // 显示延迟，添加显示延迟可以避免频繁切换，单位ms\n                hideDelay: 100,// 隐藏延迟，单位ms\n                transitionDuration : 0.4,  // 动画变换时间，单位s\n                //backgroundColor: 'rgba(0,0,0,0.7)',  // 提示背景颜色，最后一个参数是透明度\n                // borderColor: '#333',            // 提示边框颜色\n                // borderRadius: 4,                // 提示边框圆角，单位px，默认为4\n                //borderWidth: 0,                // 提示边框线宽，单位px，默认为0（无边框）\n                //padding: 5,                   // 提示内边距，单位px，默认各方向内边距为5，\n                // 接受数组分别设定上右下左边距，同css\n                // axisPointer : {                 // 坐标轴指示器，坐标轴触发有效\n                //type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\n                // lineStyle : {          // 直线指示器样式设置\n                // color: '#48b',\n                // width: 2,\n                //type: 'solid'\n                // },\n                // shadowStyle : {              // 阴影指示器样式设置\n                //     width: 'auto',         // 阴影大小\n                // color: 'rgba(150,150,150,0.3)'  // 阴影颜色\n                //}\n                //  },\n                //textStyle: {\n                //color: '#fff'\n                // }\n            }\n        };\n","html":"","externalScripts":"","updaterUID":"obd-oC-nJHA0--es1d6Ee1pM82HcUfWfL3i","theme":"","layout":"","viewCount":99,"userName":"瓜***子","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkRNZ2TANu.png?v=1610361342851","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"瓜***子"}}