{"status":0,"data":{"cid":"xdUdXsAZ3-","authorUid":"obd-otwkbXlSxkFkQPEpyPtP6CMYCCmr18b","authorUserName":"h***0","title":"玩转ECharts之实现“动态颜色的Label”","description":"玩转ECharts之实现“动态颜色的Label”","latestVersion":12,"alwaysLatest":1,"createTime":"2020-07-16T10:46:13.000Z","lastUpdateTime":"2020-07-16T10:46:13.000Z","auth":2,"uid":"obd-otwkbXlSxkFkQPEpyPtP6CMYCCmr18b","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":12,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-17T01:31:28.000Z","code":"option = {\r\n    \"backgroundColor\": 'rgb(0,0,0)',\r\n    \"color\": [\"#1576d2\", \"#d14a82\", \"#26c1f2\", \"#a166ff\", \"#1271cc\", \"#272f67\", \"rgba(156, 43, 182, 1)\"],\r\n    \"series\": [{\r\n        \"radius\": [\"8%\", \"10%\"],\r\n        \"data\": [{\r\n            \"value\": 1,\r\n            \"itemStyle\": {\r\n                \"color\": \"#a0a0a0\",\r\n                \"matchColor\": true,\r\n                \"opacity\": 0.3\r\n            }\r\n        }],\r\n        \"type\": \"pie\",\r\n        \"silent\": true,\r\n        \"label\": {\r\n            \"show\": false\r\n        },\r\n        \"labelLine\": {\r\n            \"show\": false\r\n        },\r\n        \"animation\": false\r\n    }, {\r\n        \"type\": \"pie\",\r\n        \"data\": [{\r\n            \"name\": \"苹果\",\r\n            \"value\": 32,\r\n            \"_startArc\": 0,\r\n            \"_endArc\": 1.6589268137767885,\r\n        }, {\r\n            \"name\": \"三星\",\r\n            \"value\": 26,\r\n            \"_startArc\": 1.6589268137767885,\r\n            \"_endArc\": 3.6911121606533546,\r\n        }, {\r\n            \"name\": \"华为\",\r\n            \"value\": 12,\r\n            \"_startArc\": 3.6911121606533546,\r\n            \"_endArc\": 3.898478012375453,\r\n        }, {\r\n            \"name\": \"小米\",\r\n            \"value\": 26,\r\n            \"_startArc\": 3.898478012375453,\r\n            \"_endArc\": 5.557404826152241,\r\n        }, {\r\n            \"name\": \"其他\",\r\n            \"value\": 3,\r\n            \"_startArc\": 5.557404826152241,\r\n            \"_endArc\": 6.283185307179586,\r\n        }],\r\n        \"radius\": [\"10%\", \"35%\"],\r\n        \"label\": {\r\n            \"nameColor\": \"#CACACA\",\r\n            \"valueColor\": \"color\",\r\n            \"labelStyle\": \"style2\",\r\n            \"fontSize\": 20,\r\n            \"formatter\": function formatterFunc(params) {\r\n                const values = params.data; // 内容\r\n                const formatter = [`{rect|}{name|${values.name}} ${values.value}%`, `${values.value}% {name|${values.name}}{rect|}`];\r\n                // 这里拿到了开始角度和结束角度，计算了一个label指示线的标注角度\r\n                const midAngle = (values._startArc + values._endArc) / 2;\r\n                // 分情况判断了一下 决定采用左边的还是右边的\r\n                if (midAngle <= Math.PI) {\r\n                    return formatter[0];\r\n                } else {\r\n                    return formatter[1];\r\n                }\r\n            },\r\n            \"rich\": {\r\n                \"name\": {\r\n                    \"color\": '#fff',\r\n                    \"borderColor\": '#264884',\r\n                    \"borderWidth\": 1,\r\n                    \"padding\": [10, 15],\r\n                },\r\n                \"rect\": {\r\n                    \"height\": 12,\r\n                    \"width\": 8,\r\n                    \"backgroundColor\": \"#264884\"\r\n                }\r\n            },\r\n            \"opacity\": 1,\r\n            \"position\": \"outside\",\r\n            \"matchColor\": true,\r\n        },\r\n        \"labelLine\": {\r\n            \"lineStyle\": {\r\n                \"color\": \"#fff\"\r\n            }\r\n        },\r\n        \"itemStyle\": {\r\n            \"borderColor\": \"#000\",\r\n            \"borderWidth\": 2\r\n        },\r\n        \"hoverAnimation\": false\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-otwkbXlSxkFkQPEpyPtP6CMYCCmr18b","theme":"","layout":"","viewCount":429,"userName":"h***0","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdUdXsAZ3-.png?v=1594949488327","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":["layer","奇安信","雷尔"],"updaterUserName":"h***0"}}