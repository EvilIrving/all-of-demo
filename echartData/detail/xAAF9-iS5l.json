{"status":0,"data":{"cid":"xAAF9-iS5l","authorUid":"obd-o-OzTDkdrqOILfFKyYciq5adYhGPwAI","authorUserName":"t***4","title":"","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-05-19T09:25:49.000Z","lastUpdateTime":"2021-05-19T09:25:49.000Z","auth":2,"uid":"obd-o-OzTDkdrqOILfFKyYciq5adYhGPwAI","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-19T09:33:30.000Z","code":"// https://gallery.echartsjs.com/editor.html?c=x-dorcWMsL\r\nvar axis = ['ProGrp', 'NSE', 'SCC', 'CYFRA211', 'CA125', 'CEA'];\r\nvar scatterData = [];\r\nvar heatmapData = [\r\n    [0, 0, 0.1],\r\n    [0, 1, 0.03],\r\n    [0, 2, 0.04],\r\n    [0, 3, -0.03],\r\n    [0, 4, 0.36],\r\n    [0, 5, 1],\r\n    [1, 0, 0.02],\r\n    [1, 1, 0.02],\r\n    [1, 2, 0.02],\r\n    [1, 3, 0.02],\r\n    [1, 4, 1],\r\n    [1, 5, 0.6],\r\n    [2, 0, 0.02],\r\n    [2, 1, 0.02],\r\n    [2, 2, 0.02],\r\n    [2, 3, 1],\r\n    [2, 4, 0.9],\r\n    [2, 5, 0.8],\r\n    [3, 0, 1],\r\n    [3, 1, 1],\r\n    [3, 2, 1],\r\n    [3, 3, 0.2],\r\n    [3, 4, -0.2],\r\n    [3, 5, -0.8],\r\n    [4, 0, 1],\r\n    [4, 1, 1],\r\n    [4, 2, -0.8],\r\n    [4, 3, 0.5],\r\n    [4, 4, 0.2],\r\n    [4, 5, 0.3],\r\n    [5, 0, 1],\r\n    [5, 1, 0.2],\r\n    [5, 2, 0.9],\r\n    [5, 3, 0.6],\r\n    [5, 4, -0.5],\r\n    [5, 5, -0.2]\r\n];\r\n\r\nheatmapData = heatmapData.map(function(item) {\r\n    return [item[1], item[0], item[2] || '-'];\r\n});\r\n\r\nvar axisLength = axis.length - 1;\r\n\r\n\r\nfor (let i = 0; i < heatmapData.length; i++) {\r\n    // 轴总长度-x轴下标 等于或小于y轴下标 为散点数据，heatmap不展示\r\n    if (axisLength - heatmapData[i][0] <= heatmapData[i][1]) { // x:data.value[0] y:data.value[1]\r\n        scatterData.push(heatmapData[i])\r\n    }\r\n}\r\n\r\n\r\noption = {\r\n    animation: true,\r\n    title: {\r\n        show: true,\r\n        text: '',\r\n        left: 'center',\r\n        top: '5%'\r\n    },\r\n    grid: { // 容器本身设置\r\n        width: '60%',\r\n        height: '80%',\r\n        top: '18%',\r\n        left: '15%'\r\n    },\r\n    xAxis: [{\r\n            type: 'category',\r\n            show: false,\r\n            data: axis\r\n        },\r\n        {\r\n            type: 'category',\r\n            data: axis,\r\n            inverse: true, // 是否是反向坐标轴\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitArea: {\r\n                show: true\r\n            },\r\n            axisLine: {\r\n                show: true\r\n            },\r\n            axisLabel: { // 坐标轴刻度标签的相关设置\r\n                rotate: -50\r\n            }\r\n        }\r\n    ],\r\n    yAxis: {\r\n        type: 'category',\r\n        data: axis,\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitArea: {\r\n            show: true\r\n        }\r\n\r\n    },\r\n    visualMap: [{ // 控制散点显示范围\r\n            type: 'piecewise',\r\n            left: '75%',\r\n            right: '10',\r\n            top: '20%',\r\n            min: 0,\r\n            max: 1,\r\n            calculable: true, // 是否拖拽\r\n            align: 'left',\r\n            inRange: {\r\n                color: ['#FEE090', '#FDAE61', '#F46D43', '#D73027']\r\n            },\r\n            textStyle: {\r\n                color: '#ABABAB'\r\n            },\r\n            seriesIndex: [1]\r\n        },\r\n        {\r\n            type: 'piecewise',\r\n            left: '75%',\r\n            right: '10',\r\n            bottom: '2%',\r\n            min: 0,\r\n            max: -1,\r\n            calculable: true, // 是否拖拽\r\n            align: 'left',\r\n            inRange: {\r\n                color: ['#4575B4', '#74ADD1', '#ABD9E9', '#E0F3F8']\r\n            },\r\n            textStyle: {\r\n                color: '#ABABAB'\r\n            },\r\n            seriesIndex: [2]\r\n        },\r\n        {\r\n            type: 'piecewise',\r\n            min: -0.5,\r\n            max: -1,\r\n            show: false,\r\n            inRange: {\r\n                color: ['#D73027']\r\n            },\r\n            textStyle: {\r\n                color: '#ABABAB'\r\n            },\r\n            seriesIndex: [3]\r\n        },\r\n        { // 控制散点显示大小\r\n            min: 0,\r\n            max: 1,\r\n            calculable: false,\r\n            show: false,\r\n            precision: 0.1,\r\n            inRange: {\r\n                symbolSize: [20, 50]\r\n            },\r\n            seriesIndex: [1]\r\n        },\r\n        {\r\n            min: 0,\r\n            max: -1,\r\n            calculable: false,\r\n            show: false,\r\n            precision: 0.1,\r\n            inRange: {\r\n                symbolSize: [50, 20]\r\n            },\r\n            seriesIndex: [2]\r\n        },\r\n        {\r\n            min: -0.5,\r\n            max: -1,\r\n            calculable: false,\r\n            show: false,\r\n            precision: 0.1,\r\n            inRange: {\r\n                symbolSize: [50, 20]\r\n            },\r\n            seriesIndex: [3]\r\n        }\r\n    ],\r\n    series: [{\r\n            name: 'heatmap1',\r\n            type: 'heatmap',\r\n            silent: true, // 图形是否不响应和触发鼠标事件，默认为 false，即响应和触发鼠标事件\r\n            show: true,\r\n            data: heatmapData,\r\n            label: {\r\n                normal: {\r\n                    color: '#ABABAB',\r\n                    fontSize: 20,\r\n                    show: true,\r\n                    formatter: function(data) {\r\n                        if (axisLength - data.value[0] > data.value[1]) { // x:data.value[0] y:data.value[1]\r\n                            return data.value[2]\r\n                        } else { // 轴总长度-x轴下标 等于或小于y轴下标 为散点数据，heatmap不展示\r\n                            data.value = ''\r\n                            return data.value\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#FFFFFF',\r\n                    borderColor: '#ABABAB'\r\n                },\r\n                emphasis: {\r\n                    shadowBlur: 10,\r\n                    shadowColor: 'rgba(255, 255, 255, 0.5)'\r\n                }\r\n            },\r\n            zlevel: 1\r\n        },\r\n        { // 正数\r\n            name: 'scatter1',\r\n            type: 'scatter',\r\n            data: scatterData,\r\n            symbolSize: 12,\r\n            zlevel: 2\r\n        },\r\n        { // 负数\r\n            name: 'scatter2',\r\n            type: 'scatter',\r\n            data: scatterData,\r\n            symbolSize: 12,\r\n            zlevel: 2\r\n        },\r\n        { // 矢量图\r\n            name: 'before2',\r\n            type: 'scatter',\r\n            color: 'red',\r\n            data: scatterData,\r\n            symbol: 'path://M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z',\r\n            zlevel: 3\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o-OzTDkdrqOILfFKyYciq5adYhGPwAI","theme":"","layout":"","viewCount":0,"userName":"t***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAAF9-iS5l.png?v=1621416810778","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-heatmap","series-scatter","title","visualMap"],"customTags":[],"updaterUserName":"t***4"}}