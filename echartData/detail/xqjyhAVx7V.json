{"status":0,"data":{"cid":"xqjyhAVx7V","authorUid":"obd-oPby6eOXGS57MI1kL7_Fy0OJtjwuC9I","authorUserName":"张***l","title":"实时网络上传下载速率","description":"实时网速折线图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-05-10T09:04:14.000Z","lastUpdateTime":"2021-05-10T09:04:14.000Z","auth":1,"uid":"obd-oPby6eOXGS57MI1kL7_Fy0OJtjwuC9I","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.1","versionCreateTime":"2021-05-10T09:04:14.000Z","code":"let topData = [\n    502.84,\n    205.97,\n    332.79,\n    281.55,\n    398.35,\n    214.02,\n    502.84,\n    205.97,\n    332.79,\n    281.55,\n    398.35,\n    214.02,\n    398.35,\n    214.02,\n];\nlet bottomData = [\n    281.55,\n    398.35,\n    214.02,\n    179.55,\n    289.57,\n    356.14,\n    281.55,\n    398.35,\n    214.02,\n    179.55,\n    289.57,\n    356.14,\n    289.57,\n    356.14,\n];\nlet timeData = [\n    '1：00',\n    '2:00',\n    '3:00',\n    '4:00',\n    '5:00',\n    '6:00',\n    '7：00',\n    '8:00',\n    '9:00',\n    '10:00',\n    '11:00',\n    '12:00',\n    '13:00',\n    '14:00',\n];\n\noption = {\n    title: {\n        show: true,\n        text: '实时网络上传下载速率',\n        textStyle: {\n            align: 'center',\n            color: '#333',\n            fontSize: 20,\n        },\n        top: '5%',\n        left: '5%',\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            lineStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        {\n                            offset: 0,\n                            color: 'rgba(0, 255, 233,0)',\n                        },\n                        {\n                            offset: 0.5,\n                            color: 'rgba(255, 255, 255,1)',\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(0, 255, 233,0)',\n                        },\n                    ],\n                    global: false,\n                },\n            },\n        },\n        //formatter: '{b0}: {c0}<br />{b1}: {c1} KB/s',\n        formatter: function (params) {\n            //自定义函数修改折线图给数据加单位\n            var str = ''; //声明一个变量用来存储数据\n            str += '<div>' + params[0].name + '</div>'; //显示日期的函数\n            for (var i = 0; i < params.length; i++) {\n                // console.log(params[1].seriesName,1111111)\n                //图显示的数据较多时需要循环数据，这样才可以成功的给多条数据添加单位\n                str +=\n                    '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' +\n                    params[i].color +\n                    ';\"></span>' +\n                    params[i].seriesName +\n                    '</span> : <span>' +\n                    params[i].data +\n                    'KB/s' +\n                    '</br>';\n            }\n            return str;\n        },\n    },\n    legend: {\n        top: '10%',\n        left: '80%',\n        data: ['上传', '下载'],\n    },\n    grid: {\n        top: '25%',\n        left: '5%',\n        right: '5%',\n        bottom: '5%',\n        containLabel: true,\n    },\n    xAxis: [\n        {\n            type: 'category',\n            axisLine: {\n                show: true,\n            },\n            splitArea: {\n                // show: true,\n                color: '#333',\n                lineStyle: {\n                    color: '#333',\n                },\n            },\n            axisLabel: {\n                interval: 2,\n                color: '#333',\n            },\n            splitLine: {\n                show: false,\n            },\n            boundaryGap: false,\n            data: timeData,\n        },\n    ],\n\n    yAxis: [\n        {\n            type: 'value',\n            min: 0,\n            // max: 140,\n            splitNumber: 6,\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    color: ['#333'],\n                    opacity: 0.6,\n                },\n            },\n            axisLine: {\n                show: true,\n            },\n\n            axisLabel: {\n                show: true,\n                margin: 20,\n                formatter: '{value} KB/s',\n                textStyle: {\n                    fontSize: 14,\n                    color: 'rgba(51,51,51,0.9)',\n                },\n            },\n            axisTick: {\n                show: true,\n            },\n        },\n    ],\n    series: [\n        {\n            name: '上传',\n            type: 'line',\n            smooth: false, //是否平滑\n            showAllSymbol: true,\n            //   symbol: 'circle',\n            symbolSize: 0,\n            lineStyle: {\n                normal: {\n                    color: '#FFBC0D',\n                    shadowColor: 'rgba(0, 0, 0, 0)',\n                    shadowBlur: 0,\n                    shadowOffsetY: 5,\n                    shadowOffsetX: 5,\n                },\n            },\n            label: {\n                show: true,\n                position: 'top',\n                textStyle: {\n                    color: '#FFF',\n                    fontSize: 14,\n                },\n            },\n            itemStyle: {\n                color: '#FFBC0D',\n                borderColor: 'rgb(108,78,0)',\n                borderWidth: 0,\n                shadowColor: 'rgba(0, 0, 0, 0)',\n                shadowBlur: 0,\n                shadowOffsetY: 0,\n                shadowOffsetX: 0,\n            },\n            tooltip: {\n                show: true,\n            },\n            areaStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [],\n                    global: false, // 缺省为 false\n                },\n            },\n            data: topData,\n        },\n        {\n            name: '下载',\n            type: 'line',\n            smooth: false, //是否平滑\n            showAllSymbol: true,\n            // symbol: 'image://./static/images/guang-circle.png',\n            //   symbol: 'circle',  //取消注释legend就是实心的\n            symbolSize: 0,\n            lineStyle: {\n                normal: {\n                    color: '#41B5FF',\n                    shadowColor: 'rgba(0, 0, 0, 0)',\n                    shadowBlur: 0,\n                    shadowOffsetY: 5,\n                    shadowOffsetX: 5,\n                },\n            },\n            label: {\n                show: false,\n                position: 'top',\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 14,\n                },\n            },\n            itemStyle: {\n                color: '#00DAFF',\n                borderColor: 'rgb(0,115,100)',\n                borderWidth: 0,\n                shadowColor: 'rgba(0, 0, 0, 0)',\n                shadowBlur: 0,\n                shadowOffsetY: 0,\n                shadowOffsetX: 0,\n            },\n            tooltip: {\n                show: true,\n            },\n            data: bottomData,\n        },\n    ],\n};\nsetInterval(() => {\n    //这里采用的是随机数，实际情况需要向后台获取\n    let date = new Date();\n    let hh = date.getHours();\n    let mm = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n    let ss = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n    let time = hh + ':' + mm + ':' + ss;\n    timeData.splice(0, 1);\n    timeData.push(time);\n    let topNum = Math.random() * 1000;\n    let bottomNum = Math.random() * 1500;\n    topData.splice(0, 1);\n    topData.push(topNum.toFixed(2));\n    bottomData.splice(0, 1);\n    bottomData.push(bottomNum.toFixed(2));\n    myChart.setOption(option);\n}, 2000);\n","html":"","externalScripts":"","updaterUID":"obd-oPby6eOXGS57MI1kL7_Fy0OJtjwuC9I","theme":"","layout":"","viewCount":0,"userName":"张***l","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqjyhAVx7V.png?v=1620637455171","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"张***l"}}