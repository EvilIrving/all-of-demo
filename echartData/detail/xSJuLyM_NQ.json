{"status":0,"data":{"cid":"xSJuLyM_NQ","authorUid":"bd-35734317","authorUserName":"泪o0无痕","title":"AQI指数","description":"方便下次使用","latestVersion":2,"alwaysLatest":1,"createTime":"2018-07-27T03:19:44.000Z","lastUpdateTime":"2018-07-27T03:19:44.000Z","auth":2,"uid":"bd-35734317","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-08-01T16:01:09.000Z","code":"function detectionData(air) {\n    var color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n    [{\n        offset: 0,\n        color: '#ffc000'\n    }, {\n        offset:1,\n        color: '#0aca3f'\n    }]);\n    var level = '优'\n    if (air > 50 && air <= 100) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#ff8a00'\n        }, {\n            offset:1,\n            color: '#ffc000'\n        }]);\n        level = '良'\n    } else if (air > 100 && air <= 150) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#ed4500'\n        }, {\n            offset:1,\n            color: '#ff8a00'\n        }]);\n        level = '轻度污染'\n    } else if (air > 150 && air <= 200) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#be19cb'\n        }, {\n            offset:1,\n            color: '#ed4500'\n        }]);\n    } else if (air > 200 && air <= 300) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#a70213'\n        }, {\n            offset:1,\n            color: '#be19cb'\n        }]);\n        level = '中度污染'\n    } else if (air > 300) {\n        color = new echarts.graphic.LinearGradient(0, 0, 1, 1,\n        [{\n            offset: 0,\n            color: '#a70213'\n        }, {\n            offset:1,\n            color: '#a70213'\n        }]);\n        level = '重度污染'\n    }\n    return {\n        color: color,\n        level: level\n    };\n}\noption = {\n    backgroundColor: '#fff',\n    series: [\n        {\n            name: '业务',\n            type: 'gauge',\n            radius: '100%',\n            animationDuration: 6000,\n            animationThreshold: 8000,\n            animationDelay: 10,\n            startAngle: 245,\n            endAngle: -65,\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: [[0, '#eee'], [1, '#eee']],\n                }\n            },\n            splitLine: {show: false},\n            axisTick: {show: false},\n            axisLabel: {show: false},\n            splitLabel: {show: false},\n            pointer: {show: false},\n            itemStyle: {\n                borderWidth: 30,\n                color: '#000',\n            },\n            title: {\n                offsetCenter: [0, '-6%'],\n                color: 'rgba(0, 0, 0, 0.6)',\n                fontSize: 26,\n            },\n            detail: {\n                formatter:'{value}',\n                color: 'rgba(0, 0, 0, 0.6)',\n                offsetCenter: [0, '20%'],\n                lineHeight: 26\n            },\n            data: [{value: '0', name: 'AQI指数'}]\n        }\n    ],\n};\n// update(Math.random() * 500 | 0)\nsetInterval(function() {\n    update(Math.random() * 500 | 0)\n}, 1000);\nfunction update(value) {\n    var {color, level} = detectionData(value);\n    option.series[0].data[0].value = value;\n    option.series[0].data[0].name = `AQI指数\\n\\n${level}`;\n    option.series[0].axisLine.lineStyle.color[0][0] = value / 500;\n    option.series[0].axisLine.lineStyle.color[0][1] = color;\n    myChart.setOption(option, true);\n}\n\n","html":"","externalScripts":"","updaterUID":"bd-35734317","theme":"","layout":"","viewCount":798,"userName":"泪o0无痕","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJuLyM_NQ.png?v=1533139269916","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge"],"customTags":[],"updaterUserName":"泪o0无痕"}}