{"status":0,"data":{"cid":"x1JrLwF7dO","authorUid":"bd-2680668432","authorUserName":"C***酱","title":"带有圆形顶部装饰的bar","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-06-24T11:57:46.000Z","lastUpdateTime":"2020-06-24T11:57:46.000Z","auth":2,"uid":"bd-2680668432","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-30T08:37:45.000Z","code":"const data = [60, 90, 100, 50, 70, 33, 80]\r\nconst color = '#26c1f2'\r\nconst barWidth = 0.2 // 柱条占比\r\nconst imageUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACvUlEQVRYR+1Wz0tUURg9350pV0FUCkGBmyBqURDVouaHEBQq5iuMItJs0R8QWOa8qRFHg1m7qE3+iNyEvinU2jXOGAS2qIW1CYqIFopRi4jCuSfec0ZnxvmlBm7mrubO933nO+fcez+eYJOXbHJ/VAhUHKg4IJ5o6IBwsSXfc0y6XAOvmrq/5It5LfPuRp8wxf1EfGNmBwWRAmA/CYxA3P2J5tD7dI7XCjwA5PpGCQhx0ybQTsHDYmAimNXkfQUsQKSJxMWNNrfrhbgmnqd3GkTr8f8BuFYMKtUonsnb1fLHNbeqWNCpNGa14AiA0FrBHYWCGySUCE6ROJOLwapkjfMMvZY5AaA+nUBIJGH03LL3fquzVsP9aT0ElHbvjZ0PfXV6RM1pECcycCbjRrjBIeCxuq4K1MBKUJ6zarENv8UNpUYE8K+HgO1c3Ah3p0TOA9i1IlK3J4y+weVB5LNMi0BzViPiOwQ7HDvBwSRkSAEvS5AJiaCFxEE7j0BMAdsI5yidJUB0yggbqd9Lf/qtrsMaygbfnqfBipJo8API/cs5xGMILi/t+TFu9O5LKX4N4HgerB8Kui5m9L3NImBvfFbgCiHDuUUaqJs2wjHPaNduUepbSsYvJW5/7GzojdcKvgB4OpOALxowSBnLxRKwdcrofZThRnZKasJl3XrbRgLdLkF/2loAM3EjfMwhHjUjJDocReQFkeSMli0RkLkTdtnJggQc+6KBcVAaSpw14kY4dYlN+6JeKpovnIg39zaudqRAVT4n8qfyMyC1JciuUl7UgXTw5FjwkIBtImgFsLOUIznxBRLDhAxNn+t5V6i2rO8B/2hoD13JJmpdDylxNOSEKDUpSdez9BAqRrwsApkAzuj+6zpK6hpQVS+9CD0voua4NTmTqL9nD5yy15oJlI1cZmKFQMWBigOb7sA/btL3mEqDT6cAAAAASUVORK5CYII='\r\n\r\nfunction renderItem(params, api) {\r\n    const ceilHeight = 5 // 装饰的高度\r\n    const topCenter = api.coord([api.value(0), api.value(1)]) // 顶点中心\r\n    const height = api.size([0, api.value(1)])[1] // 高度\r\n    const width = api.size([0, 1])[0] * barWidth; // 宽度\r\n    const ballRadius = width * 0.8\r\n    const picSize = width * 1.6\r\n\r\n    return {\r\n        type: 'group',\r\n        children: [{\r\n            // 图片装饰\r\n            type: 'image',\r\n            style: {\r\n                image: imageUrl,\r\n                x: topCenter[0] - picSize / 2,\r\n                y: topCenter[1] - picSize - ballRadius,\r\n                width: picSize,\r\n                height: picSize\r\n            }\r\n        }, {\r\n            // 圆形装饰\r\n            type: 'circle',\r\n            shape: {\r\n                cx: topCenter[0],\r\n                cy: topCenter[1],\r\n                r: ballRadius\r\n            },\r\n            style: api.style({\r\n                fill: '#FFF',\r\n                stroke: color,\r\n                lineWidth: 5,\r\n            })\r\n        }]\r\n    }\r\n}\r\n\r\noption = {\r\n    color: [color],\r\n    xAxis: {\r\n        type: 'category',\r\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n    },\r\n    yAxis: {\r\n        type: 'value'\r\n    },\r\n    series: [{\r\n            data: data,\r\n            type: 'bar',\r\n            barWidth: barWidth * 100 + '%',\r\n        },\r\n        {\r\n            data: data,\r\n            type: 'custom',\r\n            renderItem: renderItem,\r\n            zlevel: 2,\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2680668432","theme":"","layout":"","viewCount":615,"userName":"C***酱","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x1JrLwF7dO.png?v=1593506265837","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-custom"],"customTags":[],"updaterUserName":"C***酱"}}