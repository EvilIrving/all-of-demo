{"status":0,"data":{"cid":"xokQlilkDT","authorUid":"obd-oA1g3d8URwRn7e9vW_b3oThJ5a_ML7d","authorUserName":"轩***3","title":"横向3D柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-22T07:50:56.000Z","lastUpdateTime":"2021-09-22T07:50:56.000Z","auth":2,"uid":"obd-oA1g3d8URwRn7e9vW_b3oThJ5a_ML7d","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-22T07:50:56.000Z","code":"const xData = ['111', '222', '333'];\nconst yData = [23, 34, 56];\nconst barWidth = 30;\nconst color1 = {\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    type: 'linear',\n    global: false,\n    colorStops: [\n        {\n            // 柱状图上方颜色\n            offset: 0,\n            color: '#be6331',\n        },\n        {\n            // 柱状图下方颜色\n            offset: 1,\n            color: '#ceb149',\n        },\n    ],\n};\nconst maxData = yData.map(() => 100);\nconst circleData = yData.map(() => ({ name: '', value: 100, symbolPosition: 'end' }));\noption = {\n    backgroundColor: '#0A2E5D',\n    // 提示框\n    tooltip: {\n        // 提示\n        show: true,\n        trigger: 'axis',\n    },\n    grid: {\n        top: '0%',\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true,\n    },\n    xAxis: [\n        {\n            type: 'value',\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#fff',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n        },\n    ],\n    yAxis: [\n        // 立体柱状图由两部分堆叠组成 ，设置serve中xAxisIndex可进行堆叠\n        // 横向柱状图 xAxis中 type设置成value yAxis设置category ，serve中设置yAxisIndex可进行堆叠\n        {\n            type: 'category',\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 18,\n                },\n                formatter(value) {\n                    var ret = ''; // 拼接加\\n返回的类目项\n                    const maxLength = 4; // 每项显示文字个数\n                    const valLength = value.length; // X轴类目项的文字个数\n                    const rowN = Math.ceil(valLength / maxLength); // 类目项需要换行的行数\n                    if (rowN > 1) {\n                        for (var i = 0; i < rowN; i++) {\n                            var temp = ''; // 每次截取的字符串\n                            const start = i * maxLength; // 开始截取的位置\n                            const end = start + maxLength; // 结束截取的位置\n                            // 这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧\n                            temp = value.substring(start, end) + '\\n';\n                            ret += temp; // 凭借最终的字符串\n                        }\n                        return ret;\n                    } else {\n                        return value;\n                    }\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            data: xData,\n        },\n        {\n            type: 'category',\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            splitArea: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            data: xData,\n        },\n    ],\n\n    series: [\n        {\n            name: '内部柱子顶部',\n            type: 'pictorialBar',\n            tooltip: { show: false },\n            symbolSize: [10, barWidth],\n            symbol: 'diamond',\n            symbolOffset: ['50%', '0%'],\n            symbolPosition: 'end',\n            z: 15,\n            color: '#ceb149',\n            zlevel: 2,\n            data: yData,\n        },\n\n        {\n            type: 'bar',\n            barGap: '60%',\n            barWidth,\n            itemStyle: {\n                color: color1,\n                borderColor: color1,\n                borderWidth: 1,\n                borderType: 'solid',\n            },\n            label: {\n                show: false,\n            },\n            zlevel: 2,\n            data: yData,\n        },\n        {\n            name: '背景柱子1',\n            type: 'bar',\n            tooltip: { show: false },\n            yAxisIndex: 1,\n            barGap: '60%',\n            data: yData.map(() => 100),\n            zlevel: 1,\n            barWidth,\n            itemStyle: {\n                normal: {\n                    color: 'rgba(16, 56, 70,.8)',\n                },\n            },\n        },\n        {\n            name: '底部圆1',\n            type: 'pictorialBar',\n            tooltip: { show: false },\n            symbol: 'diamond',\n            symbolSize: [10, barWidth],\n            symbolOffset: ['-50%', '0%'],\n            z: 12,\n            color: '#ceb149',\n            data: maxData,\n        },\n        // 头\n        {\n            name: '顶部圆1',\n            type: 'pictorialBar',\n            tooltip: { show: false },\n            z: 20,\n            zlevel: 3,\n            symbolPosition: 'end',\n            symbolSize: [10, barWidth],\n            symbol: 'diamond',\n            symbolOffset: ['50%', '0%'],\n            itemStyle: {\n                normal: {\n                    shadowColor: 'rgba(0, 0, 0, .3)',\n                    shadowBlur: 5,\n                    shadowOffsetY: 3,\n                    shadowOffsetX: 0,\n                    color: 'rgba(30, 100, 112,1)',\n                },\n            },\n            data: circleData,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oA1g3d8URwRn7e9vW_b3oThJ5a_ML7d","theme":"","layout":"","viewCount":0,"userName":"轩***3","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xokQlilkDT.png?v=1632297056251","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"轩***3"}}