{"status":0,"data":{"cid":"xryFg9sej-","authorUid":"bd-3898251746","authorUserName":"尤学谦","title":"北京地图","description":"在地图中标识出北京所有行政区，并使用不同颜色填充","latestVersion":11,"alwaysLatest":1,"createTime":"2017-09-21T02:54:41.000Z","lastUpdateTime":"2017-09-21T02:54:41.000Z","auth":1,"uid":"bd-3898251746","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":11,"parentVersion":8,"echartsVersion":"3.8.0","versionCreateTime":"2019-04-16T09:03:38.000Z","code":"var option = {\n    bmap: {\n        center: [116.424966,39.922018],\n        zoom: 12,\n        roam: true,\n        enableMapClick: true\n    }\n}\n\nmyChart.setOption(option);\nsetTimeout(init, 0)\n\nfunction init() {\n    initMap();\n    //makerPoint();\n    getBoundary();\n    //setTimeout(getBoundary, 1000)\n}\n\nfunction getMap() {\n    return myChart.getModel().getComponent('bmap').getBMap();\n}\n\nfunction initMap() {\n    var top_left_navigation = new BMap.NavigationControl({\n        type: BMAP_NAVIGATION_CONTROL_SMALL\n    });\n    var map = getMap();\n\n    map.disableDoubleClickZoom();\n    return map;\n}\n\nvar bj = [\"中国\",\"东城区\",\"西城区\",\"朝阳区\",\"石景山区\",\"丰台区\",\"海淀区\",\"昌平区\",\"房山区\",\"大兴区\",\"通州区\",\"平谷区\",\"顺义区\",\"怀柔区\",\"密云区\",\"延庆区\",\"门头沟区\"]\t\n  \nfunction getBoundary(){       \n\tvar map = getMap();\n    for(var index = 0; index < bj.length; index++){\n        var bdary = new BMap.Boundary();\n\t    bdary.get(bj[index], function(rs){       //获取行政区域\n\t        //map.clearOverlays();        //清除地图覆盖物       \n    \t    var count = rs.boundaries.length; //行政区域的点有多少个\n    \t    if (count === 0) {\n    \t\t\talert('未能获取当前输入行政区域');\n    \t\t\treturn ;\n    \t    }\n            var pointArray = [];\n    \t    for (var i = 0; i < count; i++) {\n    \t\t\tvar ply = new BMap.Polygon(rs.boundaries[i], {strokeWeight: 2, strokeColor: \"#000000\",fillColor:getRandomColor()}); //建立多边形覆盖物\n    \t\t\tmap.addOverlay(ply);  //添加覆盖物\n    \t\t\tpointArray = pointArray.concat(ply.getPath());\n    \t    }    \n\t\t\tmap.setViewport(pointArray);    //调整视野  \n\t\t\t              \n\t\t});\n    }\n}\n\nfunction getRandomColor() {\n    return \"#\" + (\"00000\" + ((Math.random() * 16777215 + 0.5) >> 0).toString(16)).slice(-6);\n}\n","html":"","externalScripts":"http://api.map.baidu.com/api?v=2.0&ak=MFslG5hYj7a3SmA0WdUd97G1,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-3898251746","theme":"","layout":"","viewCount":1005,"userName":"尤学谦","commentCount":0,"starCount":13,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryFg9sej-.png?v=1505962482551","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"尤学谦"}}