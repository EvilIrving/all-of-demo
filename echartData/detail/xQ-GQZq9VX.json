{"status":0,"data":{"cid":"xQ-GQZq9VX","authorUid":"bd-3773765287","authorUserName":"大***边","title":"荷叶图点击联动","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-08-22T04:05:22.000Z","lastUpdateTime":"2019-08-22T04:05:22.000Z","auth":2,"uid":"bd-3773765287","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-22T04:05:51.000Z","code":"// 环形种类\r\nvar pa = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j'];\r\n//  荷叶数据\r\nvar dis = ['肺1', '肺2', '肺3', '肺4', '肺5'];\r\nvar color = ['#fb6a0f', '#ed1c24', '#bf54ef', '#f8cb17', '#2ecb70', '#19b5ff', '#f8cb17', '#bf54ef', '#f82558'];\r\nvar color1 = ['#3dc4a3']\r\n//  环形图数据\r\nvar data = [\r\n    [23, 44, 66, 77, 88, 99],\r\n    [234, 45, 64, 234, 642],\r\n    [214, 115, 164, 34, 642],\r\n    [214, 15, 164, 34, 62],\r\n    [4, 15, 14, 34, 42]\r\n]\r\n// dat荷叶数据的组装\r\nvar dat = [];\r\nfor (var i = 0; i < dis.length; i++) {\r\n    var da = {};\r\n    da.value = 1;\r\n    da.id = i;\r\n    da.name = dis[i];\r\n    da.selected = false;\r\n    da.itemStyle = {\r\n        color: color1[0],\r\n        borderColor: '#fff',\r\n    }\r\n    da.emphasis = {\r\n        itemStyle: {\r\n            color: '#f8cb17',\r\n            borderColor: '#fff',\r\n        }\r\n    }\r\n    dat.push(da);\r\n}\r\ndat[0]['selected'] = true\r\n//  ser环形数据的组装\r\nvar ser = [];\r\nvar sers;\r\nfor (var i = 0; i < dis.length; i++) {\r\n    sers = {};\r\n    sers.value = 200\r\n    sers.name = pa[i]\r\n    sers.itemStyle = {\r\n        color: color[i]\r\n    }\r\n    ser.push(sers);\r\n};\r\nvar option = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        x: 'right',\r\n        position: 'right',\r\n        data: pa,\r\n        textStyle: {\r\n            color: '#000'\r\n        },\r\n        itemGap: 5,\r\n        itemWidth: 15\r\n    },\r\n    series: [{\r\n            type: 'pie',\r\n            selectedMode: 'single',\r\n            center: ['19%', '50%'],\r\n            radius: [0, '20%'],\r\n            label: {\r\n                normal: {\r\n                    color: '#000'\r\n                }\r\n            },\r\n            labelLine: {\r\n                normal: {\r\n                    lineStyle: {\r\n                        color: '#000'\r\n                    }\r\n                }\r\n            },\r\n            data: dat\r\n        },\r\n        {\r\n            type: 'pie',\r\n            center: ['56%', '50%'],\r\n            radius: ['30%', '60%'],\r\n            data: ser,\r\n            label: {\r\n                color: '#000',\r\n                formatter: function(params) {\r\n                    return params.name + \"-\" + params.value + \"人\"\r\n                }\r\n            },\r\n            labelLine: {\r\n                normal: {\r\n                    lineStyle: {\r\n                        color: '#000'\r\n                    }\r\n                }\r\n            },\r\n\r\n        }\r\n    ]\r\n};\r\nmyChart.setOption(option);\r\n//  点击荷叶事件\r\nmyChart.on('click', function(params) {\r\n    for (var j = 0; j < dis.length; j++) {\r\n        dat[j].selected = false;\r\n    }\r\n    params.data.selected = true;\r\n    var id = params.data.id\r\n    var ser = [];\r\n    var sers;\r\n    /*k是循环颜色的变量*/\r\n    k = 0;\r\n    for (var i = 0; i < dis.length; i++) {\r\n        sers = {};\r\n        sers.value = data[id][i]\r\n        sers.name = pa[i]\r\n        sers.itemStyle = {\r\n            color: color[i]\r\n        }\r\n        ser.push(sers);\r\n    }\r\n    option.series[1].data = ser;\r\n    myChart.setOption(option)\r\n});","html":"","externalScripts":"","updaterUID":"bd-3773765287","theme":"","layout":"","viewCount":315,"userName":"大***边","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQ-GQZq9VX.png?v=1566446751115","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"大***边"}}