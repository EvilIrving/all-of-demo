{"status":0,"data":{"cid":"xAP5dorO6P","authorUid":"bd-3030365616","authorUserName":"182*****191","title":"桑吉图","description":"多对多","latestVersion":3,"alwaysLatest":1,"createTime":"2020-05-21T08:29:54.000Z","lastUpdateTime":"2020-05-21T08:29:54.000Z","auth":2,"uid":"bd-3030365616","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-21T10:10:59.000Z","code":"var data={        \"nodes\": [\n            {\n                \"name\": \"交通局\",\n                \"value\": 10\n            },\n            {\n                \"name\": \"城市规划局\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"admin\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"asdad会话\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"sasa\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"xacsa\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"sasas\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"scasc\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"asdd\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"asda\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"测试\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"test\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"city\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"管理员\",\n                \"value\": 2\n            },\n            {\n                \"name\": \"dfsafdsafd\",\n                \"value\": 1\n            },\n            \n            {\n                \"name\": \"测试b\",\n                \"value\": 2\n            },\n            {\n                \"name\": \"fdsafd\",\n                \"value\": 2\n            },\n            {\n                \"name\": \"内部人员专用q\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"sas\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"普通用户\",\n                \"value\": 1\n            },\n            {\n                \"name\": \"一般用户1\",\n                \"value\": 1\n            }\n        ],\n        \"links\": [\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"asdad会话\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"sasa\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"xacsa\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"sasas\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"scasc\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"asdd\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"asda\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"测试\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"test\"\n            },\n            {\n                \"source\": \"交通局\",\n                \"value\": 1,\n                \"target\": \"city\"\n            },\n            {\n                \"source\": \"城市规划局\",\n                \"value\": 1,\n                \"target\": \"admin\"\n            },\n            {\n                \"source\": \"admin\",\n                \"value\": 1,\n                \"target\": \"管理员\"\n            },\n            {\n                \"source\": \"asdad会话\",\n                \"value\": 1,\n                \"target\": \"dfsafdsafd\"\n            },\n            {\n                \"source\": \"sasa\",\n                \"value\": 1,\n                \"target\": \"测试b\"\n            },\n            {\n                \"source\": \"xacsa\",\n                \"value\": 1,\n                \"target\": \"fdsafd\"\n            },\n            {\n                \"source\": \"sasas\",\n                \"value\": 1,\n                \"target\": \"fdsafd\"\n            },\n            {\n                \"source\": \"scasc\",\n                \"value\": 1,\n                \"target\": \"测试b\"\n            },\n            {\n                \"source\": \"asdd\",\n                \"value\": 1,\n                \"target\": \"内部人员专用q\"\n            },\n            {\n                \"source\": \"asda\",\n                \"value\": 1,\n                \"target\": \"sas\"\n            },\n            {\n                \"source\": \"测试\",\n                \"value\": 1,\n                \"target\": \"普通用户\"\n            },\n            {\n                \"source\": \"test\",\n                \"value\": 1,\n                \"target\": \"一般用户1\"\n            },\n            {\n                \"source\": \"city\",\n                \"value\": 1,\n                \"target\": \"管理员\"\n            }\n        ]}\n\nconsole.log(data.nodes);\n\n//var uploadedDataURL = \"/asset/get/s/data-1461574766790-SyPd3Ljl.json\";\n\n\nmyChart.showLoading();\n//$.getJSON(uploadedDataURL, function (data) {\n    myChart.hideLoading();\n\n    myChart.setOption(option = {\n        title: {\n            text: 'Sankey Diagram'\n        },\n        tooltip: {\n            trigger: 'item',\n            triggerOn: 'mousemove',\n            formatter: function(o){\n                if(o.dataType!== \"edge\"){\n                    return '';\n                } else if(o.dataType == \"node\"){\n                    return  o.data.name + o.data.value;\n                } else {\n                    return o.data.source + ' - ' + o.data.target + \"：\" + o.data.value + '%'\n                }\n\n            }\n\n        },\n        series: [\n            {\n                type: 'sankey',\n                layout:'none',\n                orient:'vertical',\n                data: data.nodes,\n                links: data.links,\n                itemStyle: {\n                    normal: {\n                        borderWidth: 1,\n                        borderColor: '#aaa'\n                    }\n                },\n                label:{\n                    normal: {\n                        position: 'inside',\n                      align: 'center',\n                      formatter: function(o){\n                            return o.data.name +  (o.data.value? (' - ' + o.data.value ): '')\n                        }\n                    },\n                },\n                lineStyle: {\n                    normal: {\n                        curveness: 0.5\n                    }\n                }\n            }\n        ]\n    });\n//});","html":"","externalScripts":"","updaterUID":"bd-3030365616","theme":"","layout":"","viewCount":187,"userName":"182*****191","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAP5dorO6P.png?v=1590055859468","isCustomThumbnail":0,"builtinTags":["category-work","series-sankey","title","tooltip"],"customTags":[],"updaterUserName":"182*****191"}}