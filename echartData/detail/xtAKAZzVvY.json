{"status":0,"data":{"cid":"xtAKAZzVvY","authorUid":"bd-1101197343","authorUserName":"名***取","title":"双饼图","description":"在满分情况下的占比分数","latestVersion":3,"alwaysLatest":1,"createTime":"2019-06-04T06:21:22.000Z","lastUpdateTime":"2019-06-04T06:21:22.000Z","auth":2,"uid":"bd-1101197343","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-14T08:34:44.000Z","code":"var ydata = [{\n    name: '班级平均分',\n    value: 75\n}, {\n    name: '年段平均分',\n    value: 86\n}];\n\nvar titles = ['成长分(班级平均分)','成长分(年段平均分)'];\nvar fontColor = '#fff';\nvar totalScore = 100;\n\nvar option = {\n    backgroundColor: '#012A5C',\n    legend: {\n        show: false\n    },\n    color: [\"#0098ec\", '#01ffff'],\n    tooltip: {\n        trigger: 'item',\n        // 如果分值是负分的情况下注释, 在 series => data 里另作处理\n        formatter: function(params) {\n            return params.marker + params.name + ' : ' + params.value + '%';\n        }\n    },\n    // 方式一\n    title: [{\n        text: titles[0],\n        textStyle: {\n            color: fontColor,\n            fontSize: 25\n        },\n        left: '23%',\n        top: '72%',\n    },{\n        text: titles[1],\n        textStyle: {\n            color: fontColor,\n            fontSize: 25\n        },\n        left: '63%',\n        top: '72%',\n    }],\n    // series: [{\n    //     type: 'pie',\n    //     // name: '班级平均分',\n    //     radius: ['30%','40%'],\n    //     center: ['35%', '50%'],\n    //     // 取消指示线\n    //     labelLine: {\n    //         normal: {\n    //             show: false\n    //         }\n    //     },\n    //     data: [{\n    //         name: ydata[0].name,\n    //         value: ydata[0].value,\n    //         label: {\n    //             show: true,\n    //             formatter: '{c}',\n    //             position: 'center',\n    //             fontSize: 50,\n    //             fontWeight: 'bold',\n    //             color: fontColor\n    //         }\n    //     }, {\n    //         value: (totalScore - ydata[0].value),\n    //         name: '总分',\n    //         tooltip: {\n    //             // show: false\n    //             formatter: function(params) {\n    //                 return params.marker + params.name + ' : ' + 100;\n    //             }\n    //         },\n    //         label: {\n    //             show: false\n    //         },\n    //         // 是否开启鼠标hover放大效果\n    //         // hoverAnimation: false\n    //     }]\n    // }, {\n    //     type: 'pie',\n    //     // name: '年段平均分',\n    //     radius: ['30%','40%'],\n    //     // 取消指示线\n    //     labelLine: {\n    //         normal: {\n    //             show: false\n    //         }\n    //     },\n    //     center: ['75%', '50%'],\n    //     label: {\n    //         show: true,\n    //         normal: {\n    //             show: true,\n    //             position: 'center'\n    //         }\n    //     },\n    //     data: [{\n    //         name: ydata[1].name,\n    //         value: ydata[1].value,\n    //         label: {\n    //             show: true,\n    //             formatter: '{c}',\n    //             position: 'center',\n    //             fontSize: 50,\n    //             fontWeight: 'bold',\n    //             color: fontColor\n    //         }\n    //     }, {\n    //         value: (totalScore - ydata[1].value),\n    //          name: '总分',\n    //         tooltip: {\n    //             // show: false\n    //             formatter: function(params) {\n    //                 return params.marker + params.name + ' : ' + 100;\n    //             }\n    //         },\n    //         label: {\n    //             show: false\n    //         },\n    //         // hoverAnimation: false\n    //     }]\n    // }]\n    series: [\n        seriesFn(['35%', '50%'], ydata[0].name, ydata[0].value), \n        seriesFn(['75%', '50%'], ydata[1].name, ydata[1].value)]\n};\n\n/**\n * @param {Array} center\n * @param {String} dataName\n * @param {String} dataVal\n * @returns Object\n */\nfunction seriesFn(center, dataName, dataVal) {\n    return {\n        type: 'pie',\n        radius: ['30%', '40%'],\n        center: center || '',\n        // 取消指示线\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            name: dataName || '',\n            value: dataVal || 0,\n            // 负值的情况下\n            // value: Math.abs(dataVal),\n            // tooltip: {\n            //     formatter: function (params) {\n            //         var v = 0;\n            //         dataVal < 0 ? v = dataVal: v = params.value;\n            //         return params.marker + params.name + ' : ' + v + '%';\n            //     }\n            // },\n            label: {\n                show: true,\n                formatter: '{c}',\n                // 负值的情况下\n                // formatter: function(params) {\n                //     return dataVal < 0 ? v = dataVal : v = params.value;\n                // },\n                position: 'center',\n                fontSize: 50,\n                fontWeight: 'bold',\n                color: fontColor\n            }\n        }, {\n            value: (totalScore - dataVal),\n            // 如果总分大于100的情况下，改总分不展示，直接为0，否则饼图会乱掉\n            // value: Math.abs(dataVal) > 100 ? 0 : (totalScore - Math.abs(dataVal)),\n            // value: (totalScore - Math.abs(dataVal)), // 负值的情况下\n            name: '总分',\n            tooltip: {\n                // show: false\n                formatter: function(params) {\n                    return params.marker + params.name + ' : ' + 100;\n                }\n            },\n            label: {\n                show: false\n            },\n            // 是否开启鼠标hover放大效果\n            // hoverAnimation: false\n        }]\n    }\n}","html":"","externalScripts":"","updaterUID":"bd-1101197343","theme":"","layout":"","viewCount":131,"userName":"名***取","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xtAKAZzVvY.png?v=1560501284369","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"名***取"}}