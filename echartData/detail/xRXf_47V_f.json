{"status":0,"data":{"cid":"xRXf_47V_f","authorUid":"obd-olnlx4K6WSeJnVgushYzNzHxtedNn03","authorUserName":"158*****250","title":"冒泡地图","description":"鼠标经过小气泡显示数据","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-24T06:50:14.000Z","lastUpdateTime":"2020-09-24T06:50:14.000Z","auth":2,"uid":"obd-olnlx4K6WSeJnVgushYzNzHxtedNn03","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-24T06:50:14.000Z","code":"var mapName = 'china'\r\nvar data = [{\r\n        name: \"北京\",\r\n        value: 3\r\n    },\r\n    {\r\n        name: \"天津\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"河北\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"山西\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"内蒙古\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"辽宁\",\r\n        value: 1\r\n    },\r\n    {\r\n        name: \"吉林\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"黑龙江\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"上海\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"江苏\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"浙江\",\r\n        value: 2\r\n    },\r\n    {\r\n        name: \"安徽\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"福建\",\r\n        value: 4\r\n    },\r\n    {\r\n        name: \"江西\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"山东\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"河南\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"湖北\",\r\n        value: 1\r\n    },\r\n    {\r\n        name: \"湖南\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"重庆\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"四川\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"贵州\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"云南\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"西藏\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"陕西\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"甘肃\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"青海\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"宁夏\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"新疆\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"广东\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"广西\",\r\n        value: 0\r\n    },\r\n    {\r\n        name: \"海南\",\r\n        value: 0\r\n    },\r\n];\r\n    \r\nvar geoCoordMap = {};\r\n\r\n/*获取地图数据*/\r\nmyChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\n\r\nvar max = 480,\r\n    min = 9; // todo \r\nvar maxSize4Pin = 100,\r\n    minSize4Pin = 20;\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\noption = {\r\n    tooltip: {\r\n          padding: 4,\r\n          enterable: true,\r\n          transitionDuration: 1,\r\n          textStyle: {\r\n            color: '#000',\r\n            decoration: 'none',\r\n          },\r\n          extraCssText:'box-shadow:2px 2px 8px rgba(204,204,204,0.8)',\r\n          backgroundColor:'#fff',\r\n          borderRadius: 6,\r\n          textStyle:{\r\n            color:'black',\r\n          },\r\n          padding:[5,10],\r\n          formatter: function(params) {\r\n            return params.name+':'+params.value[2]+'单'\r\n          }\r\n\r\n        },\r\n   \r\n    geo: {\r\n          show: true,\r\n          map: mapName,\r\n          label: {\r\n            normal: {\r\n              show: false\r\n            },\r\n            emphasis: {\r\n              show: false,\r\n            }\r\n          },\r\n          roam: false,\r\n          itemStyle: {\r\n            normal: {\r\n              borderWidth: 1,\r\n              areaColor: '#e3e3e3',\r\n              borderColor: '#e3e3e3',\r\n            },\r\n            emphasis: {\r\n              areaColor: '#e3e3e3',\r\n              borderColor: '#e3e3e3',\r\n            }\r\n          }\r\n        },\r\n    series: [{\r\n          name: '散点',\r\n          type: 'effectScatter',\r\n          coordinateSystem: 'geo',\r\n          data:convertData(data),\r\n          rippleEffect: {\r\n            period: 3.5, //波纹秒数\r\n            brushType: 'stroke', //stroke(涟漪)和fill(扩散)，两种效果\r\n            scale: 8//波纹范围\r\n          },\r\n          symbolSize: function(val) {\r\n            if(val[2] == 1 || val[2] == 2){\r\n              return 4\r\n            }else if(val[2] == 3){\r\n              return 4.5\r\n            }else if(val[2] == 4) {\r\n              return 5\r\n            }else if(val[2] == 5) {\r\n              return 5.5\r\n            }else if(val[2] == 6) {\r\n              return 6\r\n            }else if(val[2] == 7) {\r\n              return 6.5\r\n            }else if(val[2] > 7) {\r\n              return 7\r\n            }\r\n            // return 7\r\n          },\r\n          label: {\r\n            normal: {\r\n              show: false\r\n            },\r\n            emphasis: {\r\n              show: false\r\n            }\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              color: function (e) {\r\n                if(e.value[2] == 0){\r\n                  return 'transparent'\r\n                }else if(e.value[2] == 1){\r\n                  return '#76A3FF'\r\n                }else if(e.value[2] == 2){\r\n                  return '#7CDE9A'\r\n                }else if(e.value[2] == 3){\r\n                  return '#FF7F33'\r\n                }else {\r\n                  return '#F53B3B'\r\n                }\r\n              },\r\n            }\r\n          }\r\n        },\r\n        ]\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-olnlx4K6WSeJnVgushYzNzHxtedNn03","theme":"","layout":"","viewCount":724,"userName":"158*****250","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xRXf_47V_f.png?v=1600930214530","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","tooltip"],"customTags":["JavaScript"],"updaterUserName":"158*****250"}}