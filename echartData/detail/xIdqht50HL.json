{"status":0,"data":{"cid":"xIdqht50HL","authorUid":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","authorUserName":"136******85","title":"饼图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-10T08:05:01.000Z","lastUpdateTime":"2021-11-10T08:05:01.000Z","auth":2,"uid":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-10T08:05:01.000Z","code":"\r\n  const colors = [\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#7BA9E5'\r\n      },\r\n      {\r\n        offset: 1,\r\n        color: '#4570C6'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#7EBEFF'\r\n      },\r\n\r\n      {\r\n        offset: 1,\r\n        color: '#0015FF'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#A7FC8C'\r\n      },\r\n\r\n      {\r\n        offset: 1,\r\n        color: '#4BC019'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#FCD18C'\r\n      },\r\n      {\r\n        offset: 1,\r\n        color: '#F7A453'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#99EBC9'\r\n      },\r\n      {\r\n        offset: 1,\r\n        color: '#60D298'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 1,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#289DF5'\r\n      },\r\n      {\r\n        offset: 1,\r\n        color: '#17E9FD'\r\n      }\r\n      ]\r\n    },\r\n    {\r\n      type: 'linear',\r\n      x: 1,\r\n      y: 0,\r\n      x2: 0,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#4FC3B2'\r\n      },\r\n      {\r\n        offset: 1,\r\n        color: '#5AD1BD'\r\n      }\r\n      ]\r\n    }\r\n  ];\r\nlet names = [\"居住\", \"生产\", \"经营\", \"办公\", \"仓储\", \"其他\"];\r\nlet data1 = [1114, 444, 501, 468, 478, 431]\r\n//  var datas = [];\r\n//   datas = names.map((item, index) => {\r\n//     return {\r\n//       name: item,\r\n//       value: data[index]\r\n//     };\r\n//   });\r\n\r\nlet list = []\r\nlet total = 0\r\nfor (let i in data1) {\r\n    total += data1[i]\r\n}\r\n\r\nlet placeHolderStyle = {\r\n    normal: {\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        },\r\n        color: 'rgba(0, 0, 0, 0)',\r\n        borderColor: 'rgba(0, 0, 0, 0)',\r\n        borderWidth: 0\r\n    }\r\n};\r\n\r\nfor (let i in data1) {\r\n    list.push({\r\n        value: data1[i],\r\n        name: names[i],\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 5,\r\n                borderColor: colors[i],\r\n                color: colors[i]\r\n            }\r\n        }\r\n    }, {\r\n        value: total/30,\r\n        name: '',\r\n        itemStyle: placeHolderStyle,\r\n        tooltip:{\r\n            show:false\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n\r\noption = {\r\n    backgroundColor: '#04243E',\r\n      legend: {\r\n      top: '70%',\r\n      width: '90%',\r\n      height: 40,\r\n      itemWidth: 12,\r\n      itemHeight: 12,\r\n      icon: 'path://M511.986407 0a511.971411 511.971411 0 1 0 511.971411 511.903904A511.903904 511.903904 0 0 0 511.986407 0z m0 898.987774a387.08387 387.08387 0 1 1 387.08387-387.08387 387.08387 387.08387 0 0 1-387.08387 387.08387z',\r\n      orient: 'vertical',\r\n      textStyle: {\r\n        color: '#384259'\r\n      },\r\n    //   formatter: (parmas) => {\r\n    //     for (let i = 0; i < datas.length; i++) {\r\n    //       if (parmas === datas[i].name) {\r\n    //         return parmas + datas[i].value;\r\n    //       }\r\n    //     }\r\n    //   }\r\n\r\n    },\r\n       tooltip: {\r\n      show: true,\r\n      trigger: 'item',\r\n      formatter: (parmas) => {\r\n        console.log(parmas);\r\n        return parmas.name + ' ' + (parmas.value / total * 100).toFixed(0) + '%' + ' ' + parmas.value;\r\n      },\r\n      backgroundColor: 'rgba(00,00,00,0.6)'\r\n    },\r\n    series: [\r\n      {\r\n        name: '',\r\n        type: 'pie',\r\n        clockWise: true,\r\n        startAngle: '90',\r\n        center: ['50%', '35%'],\r\n        radius: ['50%', '52%'],\r\n        hoverAnimation: true,\r\n        label: {\r\n          show: false\r\n\r\n        },\r\n        data: list,\r\n\r\n        animationType: 'scale',\r\n        animationEasing: 'elasticOut',\r\n        animationDelay: function (idx) {\r\n          return idx * 50;\r\n        }\r\n\r\n      },\r\n      {\r\n        name: '',\r\n        type: 'pie',\r\n        center: ['50%', '35%'],\r\n        radius: ['49%', '49%'],\r\n        itemStyle: {\r\n          color: 'transparant'\r\n        },\r\n        tooltip: {\r\n          show: false\r\n        },\r\n        startAngle: '90',\r\n        // 中间数据\r\n        data: [{\r\n          value: total,\r\n          name: '',\r\n          label: {\r\n            normal: {\r\n              show: true,\r\n              formatter: '{c|{c}}{b|总}',\r\n              rich: {\r\n                c: {\r\n                  color: '#384259',\r\n                  fontSize: 18,\r\n                  lineHeight: 5\r\n                },\r\n                b: {\r\n                  color: '#838DA3',\r\n                  fontSize: 12,\r\n                  lineHeight: 5\r\n                }\r\n              },\r\n              textStyle: {\r\n                fontSize: 10,\r\n                fontWeight: 'bold'\r\n              },\r\n              position: 'center'\r\n            }\r\n          }\r\n        }]\r\n      }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","theme":"","layout":"","viewCount":0,"userName":"136******85","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIdqht50HL.png?v=1636531501535","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"136******85"}}