{"status":0,"data":{"cid":"xmnX-46jl_","authorUid":"bd-2603632873","authorUserName":"y***8","title":"项目工期","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-23T05:44:14.000Z","lastUpdateTime":"2020-11-23T05:44:14.000Z","auth":2,"uid":"bd-2603632873","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-23T05:44:14.000Z","code":"var option = {\r\n    backgroundColor: \"#fff\",\r\n    title: {\r\n        text: \"项目工期\",\r\n        padding: 20,\r\n        textStyle: {\r\n            fontSize: 17,\r\n            fontWeight: \"bolder\",\r\n            color: \"#333\"\r\n        },\r\n        subtextStyle: {\r\n            fontSize: 13,\r\n            fontWeight: \"bolder\"\r\n        }\r\n    },\r\n    legend: {\r\n        data: [\"计划工期\", \"可行性研究阶段\", \"初步设计阶段\", \"施工图设计阶段\", \"项目实施阶段\", \"项目验收阶段\"],\r\n        align: \"right\",\r\n        right: 80,\r\n        top: 50\r\n    },\r\n    grid: {\r\n        containLabel: true,\r\n        show: false,\r\n        right: 130,\r\n        left: 40,\r\n        bottom: 40,\r\n        top: 90\r\n    },\r\n    xAxis: {\r\n        type: \"time\",\r\n        axisLabel: {\r\n            \"show\": true,\r\n            \"interval\": 0\r\n        }\r\n    },\r\n    yAxis: {\r\n        axisLabel: {\r\n            show: true,\r\n            interval: 0,\r\n            formatter: function(value, index) {\r\n                var last = \"\"\r\n                var max = 5;\r\n                var len = value.length;\r\n                var hang = Math.ceil(len / max);\r\n                if (hang > 1) {\r\n                    for (var i = 0; i < hang; i++) {\r\n                        var start = i * max;\r\n                        var end = start + max;\r\n                        var temp = value.substring(start, end) + \"\\n\";\r\n                        last += temp; //凭借最终的字符串\r\n                    }\r\n                    return last;\r\n                } else {\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n        data: [\"第一个任务\", \"第二个任务\", \"第三个任务\"]\r\n    },\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        formatter: function(params) {\r\n            var res = \"\";\r\n            var name = \"\";\r\n            var start0 = \"\";\r\n            var start = \"\";\r\n            var end0 = \"\";\r\n            var end = \"\";\r\n            for (var i in params) {\r\n                var k = i % 2;\r\n                if (!k) { //偶数\r\n                    start0 = params[i].data;\r\n                    console.log(start0)\r\n                    start = start0.getFullYear() + \"-\" + (start0.getMonth() + 1) + \"-\" + start0.getDate();\r\n                }\r\n                if (k) { //奇数\r\n                    name = params[i].seriesName;\r\n                    end0 = params[i].data;\r\n                    end = end0.getFullYear() + \"-\" + (end0.getMonth() + 1) + \"-\" + end0.getDate();\r\n                    res += name + \" : \" + end + \"~\" + start + \"</br>\";\r\n \r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    },\r\n    series: [{\r\n            name: \"计划工期\",\r\n            type: \"bar\",\r\n            stack: \"总量0\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"skyblue\",\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-05-01\"), \r\n                new Date(\"2020-03-14\"), \r\n                new Date(\"2020-05-01\")]\r\n        },\r\n        {\r\n            name: \"计划工期\",\r\n            type: \"bar\",\r\n            stack: \"总量0\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"white\",\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-01-01\"), \r\n                new Date(\"2020-01-01\"), \r\n                new Date(\"2020-03-15\")]\r\n        },\r\n        {\r\n            name: \"可行性研究阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量2\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"green\",\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-01-10\"), \r\n                new Date(\"2020-01-10\"), \r\n                new Date(\"2020-03-30\")]\r\n        },\r\n        {\r\n            name: \"可行性研究阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量2\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"white\",\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-01-02\"), \r\n                new Date(\"2020-01-02\"), \r\n                new Date(\"2020-03-16\")]\r\n        },\r\n        {\r\n            name: \"初步设计阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量3\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"red\",\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-02-20\"), \r\n                new Date(\"2020-01-20\"), \r\n                new Date(\"2020-04-10\")]\r\n        },\r\n        {\r\n            name: \"初步设计阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量3\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"white\"\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-02-01\"), \r\n                new Date(\"2020-01-12\"), \r\n                new Date(\"2020-04-01\")]\r\n        },\r\n        {\r\n            name: \"施工图设计阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量4\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"brown\",\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-03-09\"), \r\n                new Date(\"2020-01-25\"), \r\n                new Date(\"2020-04-20\")]\r\n        },\r\n        {\r\n            name: \"施工图设计阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量4\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"white\",\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-02-25\"), \r\n                new Date(\"2020-01-21\"), \r\n                new Date(\"2020-04-11\")]\r\n        },\r\n        {\r\n            name: \"项目实施阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量5\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"yellow\",\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-03-12\"), \r\n                new Date(\"2020-02-15\"), \r\n                new Date(\"2020-04-30\")]\r\n        },\r\n        {\r\n            name: \"项目实施阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量5\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"white\",\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-03-10\"), \r\n                new Date(\"2020-01-26\"), \r\n                new Date(\"2020-04-21\")]\r\n        },\r\n        {\r\n            name: \"项目验收阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量6\",\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#000\",\r\n                    position: \"right\",\r\n                    formatter: function(params) {\r\n                        return params.seriesName\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'orange',\r\n                    borderColor: \"#fff\",\r\n                    borderWidth: 2\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            data: [\r\n                new Date(\"2020-03-30\"), \r\n                new Date(\"2020-03-13\"), \r\n                new Date(\"2020-05-01\")]\r\n        },\r\n        {\r\n            name: \"项目验收阶段\",\r\n            type: \"bar\",\r\n            stack: \"总量6\",\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'white',\r\n                }\r\n            },\r\n            zlevel: -1,\r\n            z: 3,\r\n            data: [\r\n                new Date(\"2020-03-15\"), \r\n                new Date(\"2020-02-16\"), \r\n                new Date(\"2020-04-30\")]\r\n        },\r\n    ]\r\n}","html":"","externalScripts":"","updaterUID":"bd-2603632873","theme":"","layout":"","viewCount":4302,"userName":"y***8","commentCount":0,"starCount":25,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmnX-46jl_.png?v=1606110254453","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":["甘特图"],"updaterUserName":"y***8"}}