{"status":0,"data":{"cid":"xxlgNJ6Ye","authorUid":"bd-2920278125","authorUserName":"f***0","title":"重庆市地图","description":"第一次画Echarts，借鉴了很多已有的资源，最终成果如下，望大家不吝指导。","latestVersion":3,"alwaysLatest":1,"createTime":"2019-11-22T07:54:58.000Z","lastUpdateTime":"2019-11-22T07:54:58.000Z","auth":1,"uid":"bd-2920278125","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-25T09:14:10.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1560850821493-6FG9jqvQH.geoJson\";\nvar barData = [{\n        name: '奉节县',\n        value: randomData()\n    },\n    {\n        name: '巫溪县',\n        value: randomData()\n    },\n    {\n        name: '开州区',\n        value: randomData()\n    },\n    {\n        name: '酉阳土家族苗族自治县',\n        value: randomData()\n    },\n    {\n        name: '彭水苗族土家族自治县',\n        value: randomData()\n    },\n    {\n        name: '云阳县',\n        value: randomData()\n    },\n    {\n        name: '万州区',\n        value: randomData()\n    },\n    {\n        name: '城口县',\n        value: randomData()\n    },\n    {\n        name: '江津区',\n        value: randomData()\n    },\n    {\n        name: '石柱土家族自治县',\n        value: randomData()\n    },\n    {\n        name: '巫山县',\n        value: randomData()\n    },\n    {\n        name: '涪陵区',\n        value: randomData()\n    },\n    {\n        name: '丰都县',\n        value: randomData()\n    },\n    {\n        name: '武隆区',\n        value: randomData()\n    },\n    {\n        name: '南川区',\n        value: randomData()\n    },\n    {\n        name: '秀山土家族苗族自治县',\n        value: randomData()\n    },\n    {\n        name: '黔江区',\n        value: randomData()\n    },\n    {\n        name: '合川区',\n        value: randomData()\n    },\n    {\n        name: '綦江区',\n        value: randomData()\n    },\n    {\n        name: '忠县',\n        value: randomData()\n    },\n    {\n        name: '梁平县',\n        value: randomData()\n    },\n    {\n        name: '巴南区',\n        value: randomData()\n    },\n    {\n        name: '潼南区',\n        value: randomData()\n    },\n    {\n        name: '永川区',\n        value: randomData()\n    },\n    {\n        name: '垫江县',\n        value: randomData()\n    },\n    {\n        name: '渝北区',\n        value: randomData()\n    },\n    {\n        name: '长寿区',\n        value: randomData()\n    },\n    {\n        name: '大足区',\n        value: randomData()\n    },\n    {\n        name: '铜梁区',\n        value: randomData()\n    },\n    {\n        name: '荣昌区',\n        value: randomData()\n    },\n    {\n        name: '璧山区',\n        value: randomData()\n    },\n    {\n        name: '北碚区',\n        value: randomData()\n    },\n    {\n        name: '万盛区',\n        value: randomData()\n    },\n    {\n        name: '九龙坡区',\n        value: randomData()\n    },\n    {\n        name: '沙坪坝区',\n        value: randomData()\n    },\n    {\n        name: '南岸区',\n        value: randomData()\n    },\n    {\n        name: '江北区',\n        value: randomData()\n    },\n    {\n        name: '大渡口区',\n        value: randomData()\n    },\n    {\n        name: '渝中区',\n        value: randomData()\n    },\n];\nmyChart.showLoading();\n\nfunction randomData() {\n    return Math.round(Math.random() * 1000);\n}\n\nbarData.sort(function(o1, o2) {\n    if (isNaN(o1.value) || o1.value == null) return -1;\n    if (isNaN(o2.value) || o2.value == null) return 1;\n    return o1.value - o2.value;\n});\nvar categoryData = [];\nfor (var i = 0; i < barData.length; i++) {\n    categoryData.push(barData[i].name);\n}\n\n$.get(uploadedDataURL, function(geoJson) {\n\n    myChart.hideLoading();\n\n    echarts.registerMap('chongqing', geoJson);\n\n    myChart.setOption(option = {\n        backgroundColor: '#001B9A',\n        title: {\n            text: '重庆市地图',\n            textStyle: {\n                color: '#fff',\n                fontSize: 30\n            },\n            subtext: '数据来自Echarts',\n            left: 'center'\n        },\n        toolbox: {\n            show: true,\n            orient: 'vertical',\n            left: 'right',\n            top: 'center',\n            feature: {\n                dataView: {\n                    readOnly: false\n                },\n                restore: {},\n                saveAsImage: {}\n            },\n\n        },\n        visualMap: {\n            min: 0,\n            max: 3000,\n            text: ['High', 'Low'],\n            textStyle: {\n                color: '#fff'\n            },\n            realtime: false, //拖拽时，是否实时更新\n            calculable: true, //是否显示拖拽用的手柄\n            inRange: {\n                color: ['#e0ffff', '#006edd']\n            },\n\n        },\n        grid: {\n            right: '5%',\n            top: '15%',\n            bottom: '10%',\n            width: '20%'\n        },\n        xAxis: {\n            type: 'value',\n            scale: true,\n            position: 'top',\n            min: 0,\n            boundaryGap: false,\n            splitLine: {\n                show: false\n            },\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                margin: 2,\n                textStyle: {\n                    color: '#aaa'\n                }\n            },\n        },\n        yAxis: {\n            type: 'category',\n             name: '单位：个',\n            nameGap: 16,\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: '#fff'\n                }\n            },\n            axisTick: {\n                show: false,\n                lineStyle: {\n                    color: '#fff'\n                }\n            },\n            axisLabel: {\n                interval: 0,\n                textStyle: {\n                    color: '#ddd'\n                }\n            },\n            data: categoryData\n        },\n        series: [\n            {\n                name: '重庆市地图',\n                type: 'map',\n                center: [110.4, 29.77],\n                mapType: 'chongqing', // 自定义扩展图表类型\n                itemStyle: {\n                    normal: {\n                        label: {\n                            show: false\n                        },\n                        borderColor: 'white',\n                    },\n                    emphasis: {\n                        label: {\n                            show: true,\n                            textStyle: {\n                                color: 'darkslategray',\n                            }\n                        }\n                    }\n                },\n                data: barData,\n\n            },\n            //右边柱状图\n            {\n              type: 'bar',\n              roam: false,\n              visualMap: false,\n              zlevel: 2,\n              barMaxWidth: 16,\n              barGap: 0,\n              itemStyle: {\n                normal: {\n                  color: function(params) {\n                    var colorArray = [\n                      {\n                        top: '#ffa800', //黄\n                        bottom: 'rgba(11,42,84,.3)'\n                      }, {\n                        top: '#1ace4a', //绿\n                        bottom: 'rgba(11,42,84, 0.3)'\n                      },\n                      {\n                        top: '#4bf3ff', //蓝\n                        bottom: 'rgba(11,42,84,.3)'\n                      }, {\n                        top: '#4f9aff', //深蓝\n                        bottom: 'rgba(11,42,84,.3)'\n                      },\n                      {\n                        top: '#b250ff', //粉\n                        bottom: 'rgba(11,42,84,.3)'\n                      }\n                    ];\n                    let num = colorArray.length;\n                    return {\n                      type: 'linear',\n                      colorStops: [{ offset: 0, color: colorArray[params.dataIndex % num].bottom },\n                        { offset: 1, color: colorArray[params.dataIndex % num].top }],\n                    }\n                  },\n                  barBorderRadius: [0,15,15,0]\n                }\n              },\n              label:{\n                normal: {\n                  show: true,\n                  position: 'right',\n                  textStyle: {\n                    color: 'white',\n                  },\n                },\n              },\n              data: barData,\n            },\n\n        ]\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-2920278125","theme":"","layout":"","viewCount":406,"userName":"f***0","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxlgNJ6Ye.png?v=1574673250437","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","title","toolbox","visualMap"],"customTags":[],"updaterUserName":"f***0"}}