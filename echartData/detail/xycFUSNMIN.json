{"status":0,"data":{"cid":"xycFUSNMIN","authorUid":"bd-3337222083","authorUserName":"川***月","title":"四象限","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2020-03-26T08:38:26.000Z","lastUpdateTime":"2020-03-26T08:38:26.000Z","auth":2,"uid":"bd-3337222083","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-27T04:05:37.000Z","code":"var dataAll = [\n    [\n        [0.16, 1800.04, 'xx站'],\n        [0.1, 1700.04, 'ff站'],\n        [0.05, 1090.04, 'gg站'],\n        [0.18, 3008.04, '00站'],\n        [0.25, 800.04, '555站'],\n        [0.06, 600.04, 'hbvgv站'],\n        [0.09, 2007.04, 'kkkkk站'],\n        [0.09, 2007.04, '66662'],\n    ]\n];\n\nvar customData = [{\n        name: '搞销售&低损耗区域',\n        value: [0.02, 3400, 60, 70],\n        itemStyle: {\n            color: 'rgba(17, 114, 201, 1)'\n        }\n    },\n    {\n        name: '高销售&高损耗区域',\n        value: [0.252, 3400, 120, 60],\n        itemStyle: {\n            color: 'rgba(232, 206, 34, 1)'\n        }\n    },\n    {\n        name: '低销售&低损耗区域',\n        value: [0.012, 800, 100, 60],\n        itemStyle: {\n            color: 'rgba(232, 206, 34, 1)'\n        }\n    },\n    {\n        name: '低销售&高损耗区域',\n        value: [0.233, 800, 100, 60],\n        itemStyle: {\n            color: 'rgba(243, 46, 5, 1)'\n        }\n    },\n]\n\nfunction getMinAndMax(data) {\n    var xAxis = data.map(item => item[0]);\n    var yAxis = data.map(item => item[1]);\n    var xAxisMin = Math.min(...xAxis);\n    var xAxisMax = Math.max(...xAxis);\n\n    var yAxisMin = Math.min(...yAxis);\n    var yAxisMax = Math.max(...yAxis);\n\n    return {\n        yAxisMin: yAxisMin > 0 ? Math.ceil(yAxisMin) : -1 * Math.ceil(-1 * yAxisMin),\n        yAxisMax: yAxisMax > 0 ? Math.ceil(yAxisMax) : -1 * Math.ceil(-1 * yAxisMax),\n        xAxisMin: xAxisMin > 0 ? Math.ceil(xAxisMin * 100) / 100 : -1 * Math.ceil(-1 * xAxisMin * 100) / 100,\n        xAxisMax: xAxisMax > 0 ? Math.ceil(xAxisMax * 100) / 100 : -1 * Math.ceil(-1 * xAxisMax * 100) / 100\n    }\n}\nvar xy = getMinAndMax(dataAll[0]);\noption = {\n    title: {\n        text: '销售额&商品损耗率分布-华北',\n        left: 'center',\n        top: 0\n    },\n    grid: {\n        left: '3%',\n        right: '7%',\n        bottom: '3%',\n        containLabel: true\n    },\n    tooltip: {\n        trigger: \"axis\",\n        formatter: function(params, index) {\n            var content = [];\n            params.forEach(item => {\n                const str = `${item.marker}${item.data[2]}<br> 销售额：${item.data[1]}\n        <br> 商品损耗率：${item.data[0] * 100}%`;\n                content.push(str)\n            })\n            return content.join('<br>')\n        }\n    },\n    xAxis: [{\n        type: 'value',\n        axisLabel: {\n            formatter: function(value, index) {\n                return value * 100 + '%'\n            }\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    }],\n    yAxis: [{\n        type: 'value',\n        axisLabel: {\n            formatter: '{value}'\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    }],\n    series: [{\n        name: '男性',\n        type: 'scatter',\n        data: dataAll[0],\n        label: {\n            show: true,\n            position: 'top',\n            color: '#000',\n            formatter: function(param) {\n                return param.data[2];\n            },\n        },\n        labelLine: {\n            show: true\n        },\n\n        itemStyle: {\n            shadowBlur: 10,\n            shadowColor: 'rgba(17, 114, 201, 0.2)',\n            shadowOffsetY: 5,\n            color: 'rgba(17, 114, 201, 1)'\n        },\n        markLine: {\n            silent: true,\n            symbol: 'none',\n            lineStyle: {\n                normal: {\n                    color: 'red',\n                    type: 'solid',\n                    width: 2\n                }\n            },\n            label: {\n                color: '#000'\n            },\n            data: [{\n                    yAxis: 1500,\n                    name: '商品损耗率',\n                    label: {\n                        distance: 10,\n                        formatter: function(params) {\n                            return params.name;\n                        }\n                    }\n\n                },\n                {\n                    xAxis: 0.1,\n                    name: '销售额',\n\n                    label: {\n                        distance: 10,\n                        formatter: function(params) {\n                            return params.name;\n                        }\n                    }\n                }\n            ]\n        }\n    }, {\n        type: 'custom',\n        renderItem: renderItem,\n        z: 1,\n        itemStyle: {\n            color: '#dae9f5',\n            barBorderRadius: 5\n        },\n        silent: true,\n        legendHoverLink: false,\n        tooltip: {\n            show: false\n        },\n        label: {\n            show: true,\n            position: 'inside',\n            //align:\"left\",\n            color: '#000',\n            formatter: function paramss(params) {\n                if (params.data.value) {\n                    return params.data.name.replace(/(.{4})/g, function(i) {\n                        return i + '\\n';\n\n                    })\n                    //return params.data.name;\n                }\n                return ''\n            }\n        },\n        data: customData\n    }]\n};\n\nfunction renderItem(params, api) {\n    var yAvlue = api.value(1);\n    console.log(api.value(1), 'api.value(1)')\n    var start = api.coord([api.value(0), yAvlue]);\n    var style = api.style();\n    var width = api.value(2) || 60;\n    var height = api.value(3) || 70;\n    return {\n        type: 'rect',\n        shape: {\n            x: start[0],\n            y: start[1],\n            width: width,\n            height: height,\n            r: 5\n        },\n        style: style\n    };\n}","html":"","externalScripts":"","updaterUID":"bd-3337222083","theme":"","layout":"","viewCount":370,"userName":"川***月","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xycFUSNMIN.png?v=1585281937656","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-custom","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"川***月"}}