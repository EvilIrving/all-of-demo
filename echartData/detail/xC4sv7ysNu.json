{"status":0,"data":{"cid":"xC4sv7ysNu","authorUid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","authorUserName":"z***6","title":"3D柱状图","description":"每个柱子颜色不同","latestVersion":5,"alwaysLatest":1,"createTime":"2021-06-23T11:55:43.000Z","lastUpdateTime":"2022-01-19T02:23:07.000Z","auth":1,"uid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-19T02:23:07.000Z","code":"// 绘制左侧面\nconst CubeLeft = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    // 会canvas的应该都能看得懂，shape是从custom传入的\n    const xAxisPoint = shape.xAxisPoint;\n    const c0 = [shape.x, shape.y];\n    const c1 = [shape.x - 33, shape.y - 10];\n    const c2 = [xAxisPoint[0] - 33, xAxisPoint[1] - 0];\n    const c3 = [xAxisPoint[0], xAxisPoint[1] + 13];\n    ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n  },\n});\n// 绘制右侧面\nconst CubeRight = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const xAxisPoint = shape.xAxisPoint;\n    const c1 = [shape.x, shape.y];\n    const c2 = [xAxisPoint[0], xAxisPoint[1] + 14];\n    const c3 = [xAxisPoint[0] + 33, xAxisPoint[1] - 9];\n    const c4 = [shape.x + 33, shape.y - 9];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n// 绘制顶面\nconst CubeTop = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const c1 = [shape.x, shape.y];\n    const c2 = [shape.x + 33, shape.y - 9];\n    const c3 = [shape.x, shape.y - 18];\n    const c4 = [shape.x - 33, shape.y - 10];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n\n// 注册三个面图形;\necharts.graphic.registerShape('CubeLeft', CubeLeft);\necharts.graphic.registerShape('CubeRight', CubeRight);\necharts.graphic.registerShape('CubeTop', CubeTop);\n\nconst MAX = [100, 100, 100, 100];\nyList = [32, 58, 64, 64];\nxList = [10, 55, 44, 55];\n// color = ['#59FDFE', '#ECED05', '#44BEFF', '#3EFAAC'];\ncolor = ['#CEF4FF', '#CEF4FF', '#CEF4FF', '#CEF4FF'];\nxData = xList.map((item, index) => {\n  return {\n    value: item,\n    textStyle: {\n      color: color[index],\n    },\n  };\n});\ndom = 1300;\nbarWidth = dom / 20;\ncolors = [\n  {\n    type: 'linear',\n    x: 0,\n    x2: 1,\n    y: 0,\n    y2: 0,\n    colorStops: [\n      {\n        offset: 0,\n        color: '#00FFFF',\n      },\n      {\n        offset: 0.5,\n        color: '#00FFFF',\n      },\n      {\n        offset: 0.5,\n        color: '#11A6D0',\n      },\n      {\n        offset: 1,\n        color: '#11A6D0',\n      },\n    ],\n  },\n  {\n    type: 'linear',\n    x: 0,\n    x2: 1,\n    y: 0,\n    y2: 0,\n    colorStops: [\n      {\n        offset: 0,\n        color: '#FFD05C',\n      },\n      {\n        offset: 0.5,\n        color: '#FFD05C',\n      },\n      {\n        offset: 0.5,\n        color: '#DEA821',\n      },\n      {\n        offset: 1,\n        color: '#DEA821',\n      },\n    ],\n  },\n  {\n    type: 'linear',\n    x: 0,\n    x2: 1,\n    y: 0,\n    y2: 0,\n    colorStops: [\n      // {\n      //   offset: 0,\n      //   color: 'rgba(89,253,254,1)',\n      // },\n      {\n        offset: 0.5,\n        color: 'rgba(68,190,255,1)',\n      },\n      {\n        offset: 0.5,\n        color: 'rgba(53,133,177,1)',\n      },\n      {\n        offset: 1,\n\n        color: 'rgba(53,133,177,1)',\n      },\n    ],\n  },\n  {\n    type: 'linear',\n    x: 0,\n    x2: 1,\n    y: 0,\n    y2: 0,\n    colorStops: [\n      // {\n      //   offset: 0,\n      //   color: '#89FF5E',\n      // },\n      {\n        offset: 1,\n        color: '#3BECA2',\n      },\n      {\n        offset: 0.5,\n        color: '#2DB47C',\n      },\n      {\n        offset: 1,\n        color: '#2DB47C',\n      },\n    ],\n  },\n];\noption = {\n  backgroundColor: '#010d3a',\n  // backgroundColor: '#ddd',\n  //标题\n  title: {\n    text: '志愿项目服务时长变化趋势',\n    textStyle: {\n      color: '#00FFFF',\n      fontWeight: '800',\n      fontSize: `20`,\n    },\n    left: 'center',\n    top: '5%',\n  },\n  //提示框\n  tooltip: {\n    trigger: 'axis',\n    formatter: '{c1}',\n    axisPointer: {\n      // 坐标轴指示器，坐标轴触发有效\n      type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n    },\n  },\n  /**区域位置*/\n  grid: {\n    left: '10%',\n    right: '10%',\n    top: 150,\n    bottom: 70,\n  },\n  /**图例大小*/\n  // legend: {\n  //   type: 'plain',\n  //   left: 0,\n  //   top: 20,\n  //   itemGap: 20,\n  //   itemWidth: 35,\n  //   itemHeight: 20,\n  // },\n\n  // //X轴\n  // xAxis: {\n  //   name: 'X',\n  //   nameTextStyle: {\n  //     color: '#FFFFFF',\n  //     padding: [0, 0, 0, 20],\n  //   },\n  //   // data: xData,\n\n  //   axisTick: {\n  //     show: false\n  //   },\n  //   data: xData,\n\n  //   show: true,\n  //   type: 'category',\n  //   axisLine: {\n  //     show: true,\n  //     lineStyle: {\n  //       color: 'rgba(255,255,255,1)',\n  //       shadowColor: 'rgba(255,255,255,1)',\n  //       shadowOffsetX: '20',\n  //     },\n  //     symbol: ['none', 'arrow'],\n  //     symbolOffset: [0, 25],\n  //   },\n  //   splitLine: {\n  //     show: true,\n  //     lineStyle: {\n  //       color: 'rgba(255,255,255,0.2)',\n  //     },\n  //   },\n  //   axisLabel: {\n  //     show: true,\n  //     // rotate: -1,\n  //     fontSize: 12,\n  //     textStyle: {\n  //       fontSize: 25,\n  //       // fontFamily: PangMenZhengDao,\n  //       // fontWeight: 400,\n  //       color: '#CEF4FF',\n  //       lineHeight: 45,\n  //     },\n  //   },\n  // },\n\n  xAxis: [\n    {\n      axisTick: {\n        show: false,\n      },\n      data: xData,\n\n      show: true,\n      type: 'category',\n      axisLine: {\n        show: false,\n      },\n      splitLine: {\n        show: false,\n      },\n      axisLabel: {\n        show: true,\n        fontSize: 12,\n        textStyle: {\n          fontSize: 25,\n          fontFamily: 'PangMenZhengDao',\n          fontWeight: 'bold',\n          color: '#CEF4FF',\n          lineHeight: 45,\n        },\n      },\n    },\n    {\n      axisLine: {\n        show: false, //不显示坐标轴线\n      },\n      axisTick: {\n        show: false,\n      },\n      data: yList, //y轴数据\n      show: true,\n      type: 'category',\n      splitLine: {\n        show: false,\n      },\n      axisLabel: {\n        show: true,\n        fontSize: 12,\n        textStyle: {\n          fontSize: 25,\n          fontFamily: 'PangMenZhengDao',\n          fontWeight: 'bold',\n          color: '#CEF4FF',\n          lineHeight: 45,\n        },\n      },\n    },\n  ],\n\n  yAxis: {\n    show: true,\n    splitNumber: 4,\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: 'rgba(255,255,255,0.2)',\n      },\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: 'rgba(255,255,255,0.2)',\n      },\n    },\n    axisLabel: {\n      color: '#CEF4FF',\n      textStyle: {\n        fontSize: 15,\n      },\n    },\n  },\n  series: [\n    {\n      type: 'custom',\n      renderItem: function (params, api) {\n        const location = api.coord([api.value(0), api.value(1)]);\n        return {\n          type: 'group',\n          children: [\n            {\n              type: 'CubeLeft',\n              shape: {\n                api,\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: 'rgba(221,221,221,0.2)',\n              },\n            },\n            {\n              type: 'CubeRight',\n              shape: {\n                api,\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: 'rgba(221,221,221,0.3)',\n              },\n            },\n            {\n              type: 'CubeTop',\n              shape: {\n                api,\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: 'rgba(221,221,221,0.4)',\n              },\n            },\n          ],\n        };\n      },\n      data: MAX,\n    },\n    {\n      type: 'bar',\n      barWidth: barWidth,\n      itemStyle: {\n        normal: {\n          color: function (params) {\n            return colors[params.dataIndex % 7];\n          },\n        },\n      },\n      // label: {\n      //   show: true,\n      //   // position: [barWidth / 2, -(barWidth + 20)],\n      //   // position: [barWidth / 2, -220],\n      //   position: 'top',\n      //   color: '#ffffff',\n      //   fontSize: 22,\n      //   fontStyle: 'bold',\n      //   align: 'center',\n      // },\n      data: yList,\n    },\n    {\n      z: 2,\n      type: 'pictorialBar',\n      data: yList,\n      symbol: 'diamond',\n      symbolOffset: [0, '50%'],\n      symbolSize: [barWidth, barWidth * 0.4],\n      itemStyle: {\n        normal: {\n          color: function (params) {\n            return colors[params.dataIndex % 7];\n          },\n        },\n      },\n    },\n    {\n      z: 3,\n      type: 'pictorialBar',\n      symbolPosition: 'end',\n      data: yList,\n      symbol: 'diamond',\n      symbolOffset: [0, '-50%'],\n      symbolSize: [barWidth, barWidth * 0.4],\n      itemStyle: {\n        normal: {\n          borderWidth: 0,\n          color: function (params) {\n            return colors[params.dataIndex % 7].colorStops[0].color;\n          },\n        },\n      },\n    },\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oFu6ombh--NbaZBWe_u1IGUOBjRqN50","theme":"","layout":"","viewCount":0,"userName":"z***6","commentCount":0,"starCount":22,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xC4sv7ysNu.png?v=1642558987532","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-custom","series-pictorialBar","title","tooltip"],"customTags":[],"updaterUserName":"西***7"}}