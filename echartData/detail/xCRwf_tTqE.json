{"status":0,"data":{"cid":"xCRwf_tTqE","authorUid":"obd-oPbAMlAFfgHoCMoy-pQQAQLfyDXJd9x","authorUserName":"v***0","title":"两行柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-28T03:17:42.000Z","lastUpdateTime":"2020-12-28T03:17:42.000Z","auth":1,"uid":"obd-oPbAMlAFfgHoCMoy-pQQAQLfyDXJd9x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T03:17:42.000Z","code":"const data = [{\r\n        area_name: '浙江省',\r\n        sum_cnt: 82476,\r\n        cnt: 20949,\r\n        per: 0.254,\r\n    },\r\n    {\r\n        area_name: '江苏省',\r\n        sum_cnt: 82476,\r\n        cnt: 8383,\r\n        per: 0.1016,\r\n    },\r\n    {\r\n        area_name: '安徽省',\r\n        sum_cnt: 82476,\r\n        cnt: 8332,\r\n        per: 0.101,\r\n    },\r\n    {\r\n        area_name: '河南省',\r\n        sum_cnt: 82476,\r\n        cnt: 6760,\r\n        per: 0.082,\r\n    },\r\n    {\r\n        area_name: '上海市',\r\n        sum_cnt: 82476,\r\n        cnt: 5416,\r\n        per: 0.0657,\r\n    },\r\n];\r\nconst xAxisData = data.map(item => item.area_name);\r\nconst seriesData = data.map(item => `${item.cnt}人 （${(item.per * 100).toFixed(2)}%）`);\r\nconst detailData = data.map(item => item.cnt);\r\nconst totalSeriesData = data.map(item => item.sum_cnt);\r\nconst attackSourcesColor = [\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [{\r\n            offset: 0,\r\n            color: '#8b2806',\r\n        },\r\n        {\r\n            offset: 1,\r\n            color: '#f03e00',\r\n        },\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [{\r\n            offset: 0,\r\n            color: '#856f17',\r\n        },\r\n        {\r\n            offset: 1,\r\n            color: '#eaba15',\r\n        },\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [{\r\n            offset: 0,\r\n            color: '#017778',\r\n        },\r\n        {\r\n            offset: 1,\r\n            color: '#01e3e5',\r\n        },\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [{\r\n            offset: 0,\r\n            color: '#007d5b  ',\r\n        },\r\n        {\r\n            offset: 1,\r\n            color: '#00ecac',\r\n        },\r\n    ]),\r\n];\r\n\r\nfunction rankBarColor(cData) {\r\n    let tempData = [];\r\n    cData.forEach((item, index) => {\r\n        tempData.push({\r\n            value: item,\r\n            itemStyle: {\r\n                color: index > 3 ? attackSourcesColor[3] : attackSourcesColor[index],\r\n            },\r\n        });\r\n    });\r\n    return tempData;\r\n}\r\noption = {\r\n    backgroundColor:'#071347',\r\n    grid: {\r\n        left: 50,\r\n        right: 20,\r\n        bottom: 0,\r\n        top: 10,\r\n        // grid 区域是否包含坐标轴的刻度标签。\r\n        containLabel: false,\r\n    },\r\n    xAxis: {\r\n        type: 'value',\r\n        splitLine: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        max: totalSeriesData[0],\r\n    },\r\n    yAxis: [{\r\n            type: 'category',\r\n            // 是否是反向坐标轴\r\n            inverse: true,\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            data: xAxisData,\r\n            axisLabel: {\r\n                padding: [0, 0, 20, 0],\r\n                rich: {\r\n                    nt1: {\r\n                        color: '#fff',\r\n                        backgroundColor: 'rgba(239,62,0,0.3)',\r\n                        borderColor: '#f03e00',\r\n                        borderWidth: 1,\r\n                        width: 20,\r\n                        height: 20,\r\n                        fontSize: 14,\r\n                        align: 'center',\r\n                        lineHeight: '20',\r\n                        padding: [0, 1, 2, 1],\r\n                    },\r\n                    nt2: {\r\n                        color: '#fff',\r\n                        backgroundColor: 'rgba(233,186,21,0.3)',\r\n                        borderColor: '#eaba15',\r\n                        borderWidth: 1,\r\n                        width: 20,\r\n                        height: 20,\r\n                        fontSize: 14,\r\n                        align: 'center',\r\n                        lineHeight: '20',\r\n                        padding: [0, 1, 2, 1],\r\n                    },\r\n                    nt3: {\r\n                        color: '#fff',\r\n                        backgroundColor: 'rgba(0,236,236,0.3)',\r\n                        borderColor: '#01e3e5',\r\n                        borderWidth: 1,\r\n                        width: 20,\r\n                        height: 20,\r\n                        fontSize: 14,\r\n                        align: 'center',\r\n                        lineHeight: '20',\r\n                        padding: [0, 1, 2, 1],\r\n                    },\r\n                    nt: {\r\n                        color: '#fff',\r\n                        backgroundColor: 'rgba(0,237,173,0.3)',\r\n                        borderColor: '#00edad',\r\n                        borderWidth: 1,\r\n                        width: 20,\r\n                        height: 20,\r\n                        fontSize: 14,\r\n                        align: 'center',\r\n                        lineHeight: '20',\r\n                        padding: [0, 1, 2, 1],\r\n                    },\r\n                },\r\n                formatter: function(value, index) {\r\n                    let idx = index + 1;\r\n                    if (idx <= 3) {\r\n                        return ['{nt' + idx + '|' + idx + '}'].join('\\n');\r\n                    } else {\r\n                        return ['{nt|' + idx + '}'].join('\\n');\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        {\r\n            //名称\r\n            type: 'category',\r\n            // Y 轴相对于默认位置的偏移，在相同的 position 上有多个 Y 轴的时候有用。\r\n            offset: -10,\r\n            position: 'left',\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                color: '#fff',\r\n                align: 'left',\r\n                // 文字垂直对齐方式，默认自动。\r\n                verticalAlign: 'bottom',\r\n                lineHeight: 25,\r\n                fontSize: 16,\r\n            },\r\n            data: xAxisData,\r\n        },\r\n        {\r\n            //名称\r\n            type: 'category',\r\n            offset: 0,\r\n            position: 'right',\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                color: '#fff',\r\n                align: 'right',\r\n                verticalAlign: 'bottom',\r\n                lineHeight: 25,\r\n                fontSize: 16,\r\n            },\r\n            data: seriesData,\r\n        },\r\n    ],\r\n    series: [{\r\n            zlevel: 1,\r\n            type: 'bar',\r\n            barWidth: 3,\r\n            // barGap: 50,\r\n            data: rankBarColor(detailData),\r\n            // 图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等\r\n            label: {\r\n                show: false,\r\n            },\r\n        },\r\n        {\r\n            type: 'bar',\r\n            barWidth: 3,\r\n            // 不同系列的柱间距离，为百分比（如 '30%'，表示柱子宽度的 30%）如果想要两个系列的柱子重叠，可以设置 barGap 为 '-100%'。这在用柱子做背景的时候有用。\r\n            barGap: '-100%',\r\n            // barMinHeight: 500,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#134a61',\r\n                },\r\n            },\r\n            data: totalSeriesData,\r\n        },\r\n    ],\r\n}","html":"","externalScripts":"","updaterUID":"obd-oPbAMlAFfgHoCMoy-pQQAQLfyDXJd9x","theme":"","layout":"","viewCount":129,"userName":"v***0","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCRwf_tTqE.png?v=1609125462471","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":["yseries"],"updaterUserName":"v***0"}}