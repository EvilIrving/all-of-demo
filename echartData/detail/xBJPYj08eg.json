{"status":0,"data":{"cid":"xBJPYj08eg","authorUid":"bd-2500662229","authorUserName":"虚***顶","title":"词云图-自定义形状","description":"echarts3官方词云图，可以自定义形状。","latestVersion":3,"alwaysLatest":1,"createTime":"2016-11-02T03:20:31.000Z","lastUpdateTime":"2016-11-29T09:41:24.000Z","auth":2,"uid":"bd-2500662229","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.3.2","versionCreateTime":"2016-11-29T09:41:40.000Z","code":"var imgURL = \"/asset/get/s/data-1478056468744-rkpz90Iex.png\";\n\nvar keywords = {\n              \"visualMap\": 22199,\n              \"continuous\": 10288,\n              \"contoller\": 620,\n              \"series\": 274470,\n              \"gauge\": 12311,\n              \"detail\": 1206,\n              \"piecewise\": 4885,\n              \"textStyle\": 32294,\n              \"markPoint\": 18574,\n              \"pie\": 38929,\n              \"roseType\": 969,\n              \"label\": 37517,\n              \"emphasis\": 12053,\n              \"yAxis\": 57299,\n              \"name\": 15418,\n              \"type\": 22905,\n              \"gridIndex\": 5146,\n              \"normal\": 49487,\n              \"itemStyle\": 33837,\n              \"min\": 4500,\n              \"silent\": 5744,\n              \"animation\": 4840,\n              \"offsetCenter\": 232,\n              \"inverse\": 3706,\n              \"borderColor\": 4812,\n              \"markLine\": 16578,\n              \"line\": 76970,\n              \"radiusAxis\": 6704,\n              \"radar\": 15964,\n              \"data\": 60679,\n              \"dataZoom\": 24347,\n              \"tooltip\": 43420,\n              \"toolbox\": 25222,\n              \"geo\": 16904,\n              \"parallelAxis\": 4029,\n              \"parallel\": 5319,\n              \"max\": 3393,\n              \"bar\": 43066,\n              \"heatmap\": 3110,\n              \"map\": 20285,\n              \"animationDuration\": 3425,\n              \"animationDelay\": 2431,\n              \"splitNumber\": 5175,\n              \"axisLine\": 12738,\n              \"lineStyle\": 19601,\n              \"splitLine\": 7133,\n              \"axisTick\": 8831,\n              \"axisLabel\": 17516,\n              \"pointer\": 590,\n              \"color\": 23426,\n              \"title\": 38497,\n              \"formatter\": 15214,\n              \"slider\": 7236,\n              \"legend\": 66514,\n              \"grid\": 28516,\n              \"smooth\": 1295,\n              \"smoothMonotone\": 696,\n              \"sampling\": 757,\n              \"feature\": 12815,\n              \"saveAsImage\": 2616,\n              \"polar\": 6279,\n              \"calculable\": 879,\n              \"backgroundColor\": 9419,\n              \"excludeComponents\": 130,\n              \"show\": 20620,\n              \"text\": 2592,\n              \"icon\": 2782,\n              \"dimension\": 478,\n              \"inRange\": 1060,\n              \"animationEasing\": 2983,\n              \"animationDurationUpdate\": 2259,\n              \"animationDelayUpdate\": 2236,\n              \"animationEasingUpdate\": 2213,\n              \"xAxis\": 89459,\n              \"angleAxis\": 5469,\n              \"showTitle\": 484,\n              \"dataView\": 2754,\n              \"restore\": 932,\n              \"timeline\": 10104,\n              \"range\": 477,\n              \"value\": 5732,\n              \"precision\": 878,\n              \"target\": 1433,\n              \"zlevel\": 5361,\n              \"symbol\": 8718,\n              \"interval\": 7964,\n              \"symbolSize\": 5300,\n              \"showSymbol\": 1247,\n              \"inside\": 8913,\n              \"xAxisIndex\": 3843,\n              \"orient\": 4205,\n              \"boundaryGap\": 5073,\n              \"nameGap\": 4896,\n              \"zoomLock\": 571,\n              \"hoverAnimation\": 2307,\n              \"legendHoverLink\": 3553,\n              \"stack\": 2907,\n              \"throttle\": 466,\n              \"connectNulls\": 897,\n              \"clipOverflow\": 826,\n              \"startValue\": 551,\n              \"minInterval\": 3292,\n              \"opacity\": 3097,\n              \"splitArea\": 4775,\n              \"filterMode\": 635,\n              \"end\": 409,\n              \"left\": 6475,\n              \"funnel\": 2238,\n              \"lines\": 6403,\n              \"baseline\": 431,\n              \"align\": 2608,\n              \"coord\": 897,\n              \"nameTextStyle\": 7477,\n              \"width\": 4338,\n              \"shadowBlur\": 4493,\n              \"effect\": 929,\n              \"period\": 225,\n              \"areaColor\": 631,\n              \"borderWidth\": 3654,\n              \"nameLocation\": 4418,\n              \"position\": 11723,\n              \"containLabel\": 1701,\n              \"scatter\": 10718,\n              \"areaStyle\": 5310,\n              \"scale\": 3859,\n              \"pieces\": 414,\n              \"categories\": 1000,\n              \"selectedMode\": 3825,\n              \"itemSymbol\": 273,\n              \"effectScatter\": 7147,\n              \"fontStyle\": 3376,\n              \"fontSize\": 3386,\n              \"margin\": 1034,\n              \"iconStyle\": 2257,\n              \"link\": 1366,\n              \"axisPointer\": 5245,\n              \"showDelay\": 896,\n              \"graph\": 22194,\n              \"subtext\": 1442,\n              \"selected\": 2881,\n              \"barCategoryGap\": 827,\n              \"barGap\": 1094,\n              \"barWidth\": 1521,\n              \"coordinateSystem\": 3622,\n              \"barBorderRadius\": 284,\n              \"z\": 4014,\n              \"polarIndex\": 1456,\n              \"shadowOffsetX\": 3046,\n              \"shadowColor\": 3771,\n              \"shadowOffsetY\": 2475,\n              \"height\": 1988,\n              \"barMinHeight\": 575,\n              \"lang\": 131,\n              \"symbolRotate\": 2752,\n              \"symbolOffset\": 2549,\n              \"showAllSymbol\": 942,\n              \"transitionDuration\": 993,\n              \"bottom\": 3724,\n              \"fillerColor\": 229,\n              \"nameMap\": 1249,\n              \"barMaxWidth\": 747,\n              \"radius\": 2103,\n              \"center\": 2425,\n              \"magicType\": 3276,\n              \"labelPrecision\": 248,\n              \"option\": 654,\n              \"seriesIndex\": 935,\n              \"controlPosition\": 121,\n              \"itemGap\": 3188,\n              \"padding\": 3481,\n              \"shadowStyle\": 347,\n              \"boxplot\": 1394,\n              \"labelFormatter\": 264,\n              \"realtime\": 631,\n              \"dataBackgroundColor\": 239,\n              \"showDetail\": 247,\n              \"showDataShadow\": 217,\n              \"x\": 684,\n              \"valueDim\": 499,\n              \"onZero\": 931,\n              \"right\": 3255,\n              \"clockwise\": 1035,\n              \"itemWidth\": 1732,\n              \"trigger\": 3840,\n              \"axis\": 379,\n              \"selectedOffset\": 670,\n              \"startAngle\": 1293,\n              \"minAngle\": 590,\n              \"top\": 4637,\n              \"avoidLabelOverlap\": 870,\n              \"labelLine\": 3785,\n              \"sankey\": 2933,\n              \"endAngle\": 213,\n              \"start\": 779,\n              \"roam\": 1738,\n              \"fontWeight\": 2828,\n              \"fontFamily\": 2490,\n              \"subtextStyle\": 2066,\n              \"indicator\": 853,\n              \"sublink\": 708,\n              \"zoom\": 1038,\n              \"subtarget\": 659,\n              \"length\": 1060,\n              \"itemSize\": 505,\n              \"controlStyle\": 452,\n              \"yAxisIndex\": 2529,\n              \"edgeLabel\": 1188,\n              \"radiusAxisIndex\": 354,\n              \"scaleLimit\": 1313,\n              \"geoIndex\": 535,\n              \"regions\": 1892,\n              \"itemHeight\": 1290,\n              \"nodes\": 644,\n              \"candlestick\": 3166,\n              \"crossStyle\": 466,\n              \"edges\": 369,\n              \"links\": 3277,\n              \"layout\": 846,\n              \"barBorderColor\": 721,\n              \"barBorderWidth\": 498,\n              \"treemap\": 3865,\n              \"y\": 367,\n              \"valueIndex\": 704,\n              \"showLegendSymbol\": 482,\n              \"mapValueCalculation\": 492,\n              \"optionToContent\": 264,\n              \"handleColor\": 187,\n              \"handleSize\": 271,\n              \"showContent\": 1853,\n              \"angleAxisIndex\": 406,\n              \"endValue\": 327,\n              \"triggerOn\": 1720,\n              \"contentToOption\": 169,\n              \"buttonColor\": 71,\n              \"rotate\": 1144,\n              \"hoverLink\": 335,\n              \"outOfRange\": 491,\n              \"textareaColor\": 58,\n              \"textareaBorderColor\": 58,\n              \"textColor\": 60,\n              \"buttonTextColor\": 66,\n              \"category\": 336,\n              \"hideDelay\": 786,\n              \"alwaysShowContent\": 1267,\n              \"extraCssText\": 901,\n              \"effectType\": 277,\n              \"force\": 1820,\n              \"rippleEffect\": 723,\n              \"edgeSymbolSize\": 329,\n              \"showEffectOn\": 271,\n              \"gravity\": 199,\n              \"edgeLength\": 193,\n              \"layoutAnimation\": 152,\n              \"length2\": 169,\n              \"enterable\": 957,\n              \"dim\": 83,\n              \"readOnly\": 143,\n              \"levels\": 444,\n              \"textGap\": 256,\n              \"pixelRatio\": 84,\n              \"nodeScaleRatio\": 232,\n              \"draggable\": 249,\n              \"brushType\": 158,\n              \"radarIndex\": 152,\n              \"large\": 182,\n              \"edgeSymbol\": 675,\n              \"largeThreshold\": 132,\n              \"leafDepth\": 73,\n              \"childrenVisibleMin\": 73,\n              \"minSize\": 35,\n              \"maxSize\": 35,\n              \"sort\": 90,\n              \"funnelAlign\": 61,\n              \"source\": 336,\n              \"nodeClick\": 200,\n              \"curveness\": 350,\n              \"areaSelectStyle\": 104,\n              \"parallelIndex\": 52,\n              \"initLayout\": 359,\n              \"trailLength\": 116,\n              \"boxWidth\": 20,\n              \"back\": 53,\n              \"rewind\": 110,\n              \"zoomToNodeRatio\": 80,\n              \"squareRatio\": 60,\n              \"parallelAxisDefault\": 358,\n              \"checkpointStyle\": 440,\n              \"nodeWidth\": 49,\n              \"color0\": 62,\n              \"layoutIterations\": 56,\n              \"nodeGap\": 54,\n              \"color(Array\": 76,\n              \"<string>)\": 76,\n              \"repulsion\": 276,\n              \"tiled\": 105,\n              \"currentIndex\": 145,\n              \"axisType\": 227,\n              \"loop\": 97,\n              \"playInterval\": 112,\n              \"borderColor0\": 23,\n              \"gap\": 43,\n              \"autoPlay\": 123,\n              \"showPlayBtn\": 25,\n              \"breadcrumb\": 119,\n              \"colorMappingBy\": 85,\n              \"id\": 18,\n              \"blurSize\": 85,\n              \"minOpacity\": 50,\n              \"maxOpacity\": 54,\n              \"prevIcon\": 12,\n              \"children\": 21,\n              \"shape\": 98,\n              \"nextIcon\": 12,\n              \"showNextBtn\": 17,\n              \"stopIcon\": 21,\n              \"visibleMin\": 83,\n              \"visualDimension\": 97,\n              \"colorSaturation\": 56,\n              \"colorAlpha\": 66,\n              \"emptyItemWidth\": 10,\n              \"inactiveOpacity\": 4,\n              \"activeOpacity\": 4,\n              \"showPrevBtn\": 19,\n              \"playIcon\": 26,\n              \"ellipsis\": 19,\n              \"gapWidth\": 19,\n              \"borderColorSaturation\": 10,\n              \"handleIcon\": 2,\n              \"handleStyle\": 6,\n              \"borderType\": 1,\n              \"constantSpeed\": 1,\n              \"polyline\": 2,\n              \"blendMode\": 1,\n              \"dataBackground\": 1,\n              \"textAlign\": 1,\n              \"textBaseline\": 1,\n              \"brush\": 3\n            };\n\n            var data = [];\n            for (var name in keywords) {\n                data.push({\n                    name: name,\n                    value: Math.sqrt(keywords[name])\n                })\n            }\n\n            var maskImage = new Image();\n\n            var option = {\n                title:{\n                    text:\"词云图\",\n                    link:'https://github.com/ecomfe/echarts-wordcloud',\n                    subtext: 'data-visual.cn',\n                    sublink:'http://data-visual.cn',\n                },\n                series: [ {\n                    type: 'wordCloud',\n                    sizeRange: [10, 100],\n                    rotationRange: [-90, 90],\n                    rotationStep: 45,\n                    gridSize: 2,\n                    shape: 'pentagon',\n                    maskImage: maskImage,\n                    textStyle: {\n                        normal: {\n                            color: function () {\n                                return 'rgb(' + [\n                                    Math.round(Math.random() * 160),\n                                    Math.round(Math.random() * 160),\n                                    Math.round(Math.random() * 160)\n                                ].join(',') + ')';\n                            }\n                        }\n                    },\n                    data: data.sort(function (a, b) {\n                        return b.value  - a.value;\n                    })\n                } ]\n            };\n\n            maskImage.onload = function () {\n                option.series[0].maskImage\n                //setTimeout(function(){\n                    //var myChart=echarts.getInstanceByDom($(\"#chart-panel\")[0]);\n                    myChart.setOption(option);\n                //},1000);\n            }\n\n            maskImage.src = imgURL;\n\n\n","html":"","externalScripts":"http://data-visual.cn/datav/src/js/echarts/extension/echarts-wordcloud.min.js","updaterUID":"bd-2500662229","theme":"default","layout":"","viewCount":12686,"userName":"虚***顶","commentCount":9,"starCount":37,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJPYj08eg.png?v=1478074738837","isCustomThumbnail":1,"builtinTags":["category-work","series-wordCloud"],"customTags":["tagCloud","type","字符云","自定义形状","词云图"],"updaterUserName":"虚***顶"}}