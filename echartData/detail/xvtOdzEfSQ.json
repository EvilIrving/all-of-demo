{"status":0,"data":{"cid":"xvtOdzEfSQ","authorUid":"bd-621198641","authorUserName":"l***2","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-30T08:45:10.000Z","lastUpdateTime":"2021-08-30T08:45:10.000Z","auth":2,"uid":"bd-621198641","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-30T08:45:10.000Z","code":"function historyLine(xzdsj,fft,fft1st,fft1stX,fft1stY,fft2nd,fft2ndX,fft2ndY,fft3rd,fft3rdX,fft3rdY,fft4th,fft4thX,fft4thY,fft5th,fft5thX,fft5thY,selected){\r\n\t// closeLine();\r\n\t$(\"#lsqx\").show();\r\n\tvar x1 = xzdsj;\r\n\tx1 = x1.split(\",\");\r\n\tvar fft1 = fft;\r\n\tfft1 = fft1.split(\",\");\r\n\r\n\tfft1st = fft1st.split(\",\");\r\n\r\n\tfft2nd = fft2nd.split(\",\");\r\n\r\n\tfft3rd = fft3rd.split(\",\");\r\n\t\r\n\tfft4th = fft4th.split(\",\");\r\n\r\n\tfft5th = fft5th.split(\",\");\r\n\t// console.log(xzdsj);\r\n\t// console.log(x);\r\n\tvar xzdsjArr= xzdsj;\r\n\tvar arrayLength = xzdsjArr.toString().split(',');\r\n\tvar xzdsjArrayLength= new Array();\r\n\tvar xzdsjArrayLengthStr= new Array();\r\n\tvar xzdsjArrayLengthStr0= new Array();\r\n\tvar step=0.32/(arrayLength.length)\r\n\tfor(var i=0;i<arrayLength.length;i++){\r\n\t\txzdsjArrayLength[i]=keepTwoDecimal(i*step);\r\n\t\txzdsjArrayLengthStr+=keepTwoDecimal(i*step)+\",\"\r\n\t\txzdsjArrayLengthStr0+=\"0\"+\",\"\r\n\t}\r\n\txzdsjArrayLengthStr = xzdsjArrayLengthStr.substring(0, xzdsjArrayLengthStr.lastIndexOf(','));\r\n\txzdsjArrayLengthStr0 = xzdsjArrayLengthStr0.substring(0, xzdsjArrayLengthStr0.lastIndexOf(','));\r\n\txzdsjArrayLengthStr=xzdsjArrayLengthStr.split(\",\")\r\n\txzdsjArrayLengthStr0=xzdsjArrayLengthStr0.split(\",\")\r\n\t// console.log(xzdsjArrayLengthStr);\r\n\tdata = [\r\n\t\tx1,  //速度曲线\r\n\t\tfft1st,  //fft\r\n\t\tfft2nd,\r\n\t\tfft3rd,\r\n\t\tfft4th,\r\n\t\tfft5th,\r\n\t]\r\n\r\n\tdataX = xzdsjArrayLengthStr;\r\n\tdataX0 = xzdsjArrayLengthStr0;\r\n\tdataY = ['速度曲线','频率曲线('+ fft1stX +'Hz)','频率曲线('+ fft2ndX +'Hz)','频率曲线('+ fft3rdX +'Hz)','频率曲线('+ fft4thX +'Hz)','频率曲线('+ fft5thX +'Hz)'];\r\n\r\n//vdata里面存放的是处理之后的数据\r\n\tvar vdata = [];\r\n\tvar FFTdata = [];\r\n\r\n\tfor(i=0;i<dataY.length;i++){\r\n\t\tvdata[i] = [];   //vdata里面存放的是二维数组\r\n\t}\r\n\tfor(i=0;i<dataY.length;i++){\r\n\t\tFFTdata[i] = [];   //vdata里面存放的是二维数组\r\n\t}\r\n//将处理完之后的数据存放到 vdata 里面\r\n\tfor(var t=0;t<dataY.length;t++){\r\n\t\tvar y = dataY[t];\r\n\t\tfor(var k=0;k<data[0].length;k++){\r\n\t\t\tfor(var p=0;p<dataX.length;p++){\r\n\t\t\t\tvar x = dataX[p];\r\n\t\t\t\tvar z = data[t][p];\r\n\t\t\t\tvdata[t].push([x,y,z]);\r\n\t\t\t\tFFTdata[t].push([y,x,z]);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tvar myChart = echarts.init(document.getElementById('lsqx'),'macarons');\r\n\tmyChart.clear();\r\n\tvar lsqx = document.getElementById('lsqx');\r\n\t// lsqx.style.display = \"block\";\r\n\tvar option;\r\n\t// console.log(xzdsj);\r\n\toption = {\r\n\t\ttitle: {\r\n\t\t\ttext: selected\r\n\t\t\t// ,\r\n\t\t\t// subtext:selected,\r\n\t\t},\r\n\t\txAxis3D: {\r\n\t\t\ttype: 'category',\r\n\t\t\tname: '',\r\n\t\t\tdata: dataX,\r\n\t\t\taxisLabel:{\r\n\t\t\t\tshow: false,\r\n\t\t\t\tinterval: 0  //使x轴都显示\r\n\t\t\t},\r\n\t\t\tsplitLine:{\r\n\t\t\t\tshow:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tyAxis3D: {\r\n\t\t\ttype: 'category',\r\n\t\t\tname: '',\r\n\t\t\tdata: dataY,\r\n\t\t\taxisLabel:{\r\n\t\t\t\tshow: true,\r\n\t\t\t\tinterval: 0   //使y轴都显示\r\n\t\t\t}\r\n\t\t},\r\n\t\tzAxis3D: {\r\n\t\t\ttype: 'value',\r\n\t\t\tname: ''\r\n\t\t},\r\n\t\t//图例\r\n\t\tlegend: {\r\n\t\t\torient: 'vertical',\r\n\t\t\tright: 10,\r\n\t\t\ttop: 230,\r\n\t\t\ticon: 'roundRect',\r\n\t\t\ttextStyle:{\r\n\t\t\t\tcolor: '#fff'\r\n\t\t\t}\r\n\t\t},\r\n\t\ttooltip:{\r\n\t\t\tshow:true\r\n\t\t},\r\n\t\tgrid3D: {\r\n\t\t\tboxWidth: 900,\r\n\t\t\tboxHeight:300,\r\n\t\t\tboxDepth: 200,\r\n\t\t\taxisLine: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tinterval: 0,\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tviewControl: {\r\n\t\t\t\tdistance: 500,\r\n\t\t\t\tminDistance: 40,\r\n\t\t\t\tmaxDistance: 800,\r\n\t\t\t},\r\n\t\t\tsplitArea:{\r\n\t\t\t\tshow:true\r\n\r\n\t\t\t},\r\n\t\t\tlight:{\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\tshadow: true\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoolbox: {\r\n\t\t\tfeature: {\r\n\t\t\t\tdataView: {show: true, readOnly: false},\r\n\t\t\t\trestore: {show: true},\r\n\t\t\t\tsaveAsImage: {show: true},\r\n\t\t\t\t// dataZoom: {  show: true  },\r\n\t\t\t\tmyTool1: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\ttitle: '关闭',\r\n\t\t\t\t\ticon: 'path://M6.34314575 6.34314575L17.6568542 17.6568542M6.34314575 17.6568542L17.6568542 6.34314575',\r\n\t\t\t\t\tonclick: function (){\r\n\t\t\t\t\t\t$(\"#lsqx\").hide();\r\n\t\t\t\t\t\t$(\"#datetime1\").hide();\r\n\t\t\t\t\t\t$(\"#timeList\").hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tseries: [\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '速度曲线',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tbevelSmoothness:4,\r\n\t\t\t\tdata:vdata[0]   //每个区的数据一一对应\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '频率曲线('+ fft1stX +'Hz)',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[1]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '频率曲线('+ fft2ndX +'Hz)',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[2]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '频率曲线('+ fft3rdX +'Hz)',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[3]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '频率曲线('+ fft4thX +'Hz)',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[4]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter3D',\r\n\t\t\t\tname: '频率曲线('+ fft5thX +'Hz)',\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[5]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D', //当type为line3D时有label没有作用，官网没有label这个配置项\r\n\t\t\t\tname: '速度曲线',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 4\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[0]    //每个区的数据一一对应\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D',\r\n\t\t\t\tname: '频率曲线('+ fft1stX +'Hz)',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 3     //线的宽度\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[1]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D',\r\n\t\t\t\tname: '频率曲线('+ fft2ndX +'Hz)',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 3\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[2]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D',\r\n\t\t\t\tname: '频率曲线('+ fft3rdX +'Hz)',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 3\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[3]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D',\r\n\t\t\t\tname: '频率曲线('+ fft4thX +'Hz)',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 3\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[4]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: 'line3D',\r\n\t\t\t\tname: '频率曲线('+ fft5thX +'Hz)',\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\twidth: 3\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',  //取消折点圆圈\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\titemStyle: {normal: {areaStyle: {type: 'default'}}},\r\n\t\t\t\tdata:vdata[5]\r\n\t\t\t}\r\n\t\t]\r\n\t};\r\n\t// option.legend.selected[selected] = true;\r\n\tmyChart.setOption(option);\r\n}\r\n","html":"","externalScripts":"","updaterUID":"bd-621198641","theme":"","layout":"","viewCount":0,"userName":"l***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvtOdzEfSQ.undefined?v=","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"l***2"}}