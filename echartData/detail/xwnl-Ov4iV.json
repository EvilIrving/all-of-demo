{"status":0,"data":{"cid":"xwnl-Ov4iV","authorUid":"bd-2903669626","authorUserName":"z***2","title":"有角度的环状图","description":"这是你最关心的数据了吧？","latestVersion":10,"alwaysLatest":1,"createTime":"2019-06-19T07:52:01.000Z","lastUpdateTime":"2019-06-19T07:52:01.000Z","auth":2,"uid":"bd-2903669626","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":8,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-20T03:50:15.000Z","code":" var imgurl = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAzCAYAAAAuNK7LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozOTg1OUMyMzkwQzcxMUU5OTJEMUUxODA1NTA2OTJENiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozOTg1OUMyNDkwQzcxMUU5OTJEMUUxODA1NTA2OTJENiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM5ODU5QzIxOTBDNzExRTk5MkQxRTE4MDU1MDY5MkQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM5ODU5QzIyOTBDNzExRTk5MkQxRTE4MDU1MDY5MkQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uQW6hQAACdlJREFUeNrUW3twVOUVP/fefSS7ySYkIQFEJYAgQkTQRqdAqG87WDq0Q9uxQ52pFlu1TjsOnSkw4/QPqU47dkZnQGZQ2jhWxXawolVRMXQIFnlITUSsQZCQCCEJeexmX/fR37l3QzbZu7v3Zu8u6TfzzS57v8f5znfO7/zOuUEgi+3j0/F6lyTcIwpUJxCVa0Qiep+q0vG4ou2MxLX3lsz2qFTg1twWE7wuYaXHJax1ibRIFKkKMrr4maZRXFGpV1bpk5isbYnK2uvZZBQyPTzaHp/sloRn3BKtxGdxprFQSjwqU1M4pq2tr3WfKoAiRJ9H2FDkFtahl1qZA4WEId8zQzFtAxQj21JIa6f8dLFbeAjaFu0IihvRhmLq3wYj2hpsGs2HMg6dii/0eYXdkK96PPNhzT2hqLbihhnuA1kV8mmnXC6JdBhmODMXocNxrTsY0ephLSedVAZc98clRWIj3EPMZR2+uMGI+otFV7i3plVIyxm50uumNrhHuRPCw2+jfUPqd+HD55xYDxaxtMwnPg2rFZxYTwUIDoTVnycr5eLCx8/KLkGgdo8kTHHyRmGe1BvKHWuhBKoqlchlwS7iQIcQnLXMT1k1x5bSH1aXXn+le/8ohXz2tfwGwGlFPnwet0DBqJbTGpN8IhV7shvG20eJ/nmECFZJkwNE999CdHlVVrDt7wmqVQy0YgI3lnrzpAxupUUiSTl4PEKqJWW0nCZ6/ZChDG7nB4i2vqdbQcYGvCyDjJv4ux6vYYbbrDgl3/FfmoguhIYFJbp3OVFJUeZ5cEVdKcCTcSrUGmSwQsa23iBR5wVYSWXmuUVueggfv3HBVWbgBuZawoMY0Udto3/jzeZMtQCIuOGBsAFkdhpjBm7Q0lgcyrT5PNnnIpD4WjrkVWzIGwvBKAVdYPvBwc6cJVcbVpvcFlxOVFlqbT7c+hEX0PvmQtFsvmmwRNv4ka4xVoQiRAGfofCaMqJH7waw/gc5Bdx67jSiu65LZtPgR7DyQHFaa6wT2rqUMDRTlC58HWhjPjGy4D8Ojh6z/BoDzfXQCHtbXJt+Q1nRqGvQHo7UBCRTQG76FLIAQKNxY/97v0U0MwNvZbB9v8U4A+PJfYg+1WUpvEQRTnbrGGx6DYdOED3/gT0ruP1aolX16YnQ2X7F1npTyyQdlJNb21mip94Y/RsD++M/Aha4Utc4iHNsH3OOyyqI1n8v9eBipnxGVuy7haxmJle2sUewFk2CcJ2T561Hn45eRMugiYyFTNW1cXAzs6iULpoUu61HH9az151KK0RsGE9rrpOI/F4OmUY3W5hRffg59+kV9g6XVSEmk26aY+yV3GbWYO80jHTZPErBoW/MNs42ei+Shf+ekzsQg6dZymCB0I82jv7tVyus8RCdIiOv6bGZ10zyi5zUpfzeCZN/66jBRmch+7p78YiS2G2ZMyUTxhNIL9/9hHQuNH860Z0LEVWklGS004ULAP7SykK4DIIMhBD0aGOJlGGsmkZ/0yqMSDG28aHfPGJERrbw+242xs6CBc26PWuit59x7qlCYYgPbLW6VNRDaYk3PcLyMx7DY/1e60jc2k6086MRmvA1WPSWd627KhTyuGvuFNfeL7qUXpCSCgtMTo8UyRu4pewbdfZqtO+Ypgtai5taMk8EVwH5cRulgeH1eO0KuAiTMTaM5mMqfdllgOWNVwvgD4LtXKZn0Igo2XIZZLxn6qa7jroMzWgbQVk3Z2eNROvgXH1DI/+eUZ0JM4j+8JpKnf0j0X0/iN5LzRqtadDoxjkilSOtH66XcIrPyjjYplJjk0BKUhDc8xkIWIlK678vpkSHESZsL8dJji7Aj4dH1UMArl8CXGuddJHfvqBSf1RMK8WDd2i04EoB2bN6EUBbT2u0+R0hLTsq9ar05BrzNc/2Ef1+p8FGh9u8y4h++e2s5c5910x1LRvFQ4IR7X7FwZcIbx7W0isjcRWNTcaGPuCEL4EV2/doGctcg1hzb6s5Y5xSTvTrFUZCx0Wh2+qIfnZbVlfhssRjF4E8SUu9MiC9skQcF6Mc2z78XKNsBTxOwIJhjfyJekf3gEZhOTtXPIC1ly8wf8Yu/OCdFmu+iHZsnSCMATOmWhbHgJ6gSk5YSsjCCwgG0x4ogek591Nd1sJBcEjLWT6u9fJZx0YgcQyb5RdOdH5QYYvJaUMr0UeOqeQvHrGiqtLspqnhOst9Wk6pAFfueg3LuGgMZgoJJE9iU+qGBtnH7Gh9uJg8f3rmeQoUP9mvUFXAIGrcZ9TwW7HM5hkJybRwpiH2QASgHVb1S8zWeAyPPTegmNVkhBQMMUv0EIpgVprOP7i4wyHRJY5kraw4psk8jhXHrsbP/B6J7mmQ6OMTMsWE1FioQrhQf5QeWGXEw2EBA7CWH9yk0Yv7VJJM3jdEwzJV+hRaVlek324Y81iGUNSQ0QNmK0ksg5CQDzIpBlZkgYEyM4WUZmBwutBWql0s4GBUpUCRSBtWS/TEq1Hqi0gQVNAPEYebKHGZfnKrmxZfJelrhxLrcrLVsECioYhMO/bJJMLv+HAKBsWjClUHNFq32qvzH7aOZP/ndcL8Q3yYWdiucKYoRCKHGkI4MAQuUS7Qkz/10ofHFGr9SqEYhJ0GttmAG66ZJOgHSvZl/s5R7q4bXLRolkb/apGpo1sjL5K2+Ve46JvzJT0hY3zjPRxs9ixkPA0Y1F5cLj2LA6xfVif50ccO2QP3eqC+1j2qjn+yW0FiTluhsFtWN6RQTH4Bsql/SH0bn4cdroHnz0ISbWdtlbQJB9yC799Bv5aDD+dc6Lvx7IjZJPzOCroV85DQ0x1cliHDEZDH0i48v9DcFrvKYVkDZgopcXADhrA/Jg6InJMa7S6QUJip0pbM9nwBpbTga51D8opmkcXloEJ2Q+j2PFcTns+HhSQrxO/gBtsKUF55MeFKebMQt0OLc+17V761AQt0cp+8WsgLEDZWoCLcc/8PFvIcFa69g97hwDqlZgrxObDwv2EdxwqlDezFhZE/O7CUZKYQjwMLb6PCt+35spDiXEsg6DsKrQ1YyQl8NOXDQnJVyCsQbpAuTcsVt8rSFogmCFGy2/6O3p/D/CEzhXyVw4LHYR3Nl0ob2DuMj5dyWOJzM4V8cAlN9lKz47fMFLJjnGYXcgjpc7USLgfsHSezfjlFIQlA3DCOBR/D3B6aGI3fvkVsznkkORiMLVxutkl0/or+pwmiDL7UVnz8ED1sccpGzHmZMkUW/g85fOvo6zPQec4yn0D/XYItTqiGM1yXwJTr0wxhuv8wZH9t7AMhw6L8nnctOv9VRW3Cmvi/eryP/myCEE3ohjM04IP/ZH12Qv4zieCxC/Kblg7+J8AAFUTE89ilMhkAAAAASUVORK5CYII=';\r\n        var mainData = [];\r\n        mainData.push({\r\n            name: '充值收入',\r\n            value: 342305,\r\n            prevalue: 382305,\r\n            hismax: 455898,\r\n            per: '25%'\r\n        });\r\n        mainData.push({\r\n            name: '包月收入',\r\n            value: 1332042,\r\n            prevalue: 1552305,\r\n            hismax: 1896900,\r\n            per: '25%'\r\n        });\r\n        mainData.push({\r\n            name: '道具消费',\r\n            value: 305652,\r\n            prevalue: 323305,\r\n            hismax: 446783,\r\n            per: '25%'\r\n        });\r\n        mainData.push({\r\n            name: '新增用户',\r\n            value: 31861,\r\n            prevalue: 30805,\r\n            hismax: 77598,\r\n            per: '25%'\r\n        });\r\n        mainData.push({\r\n            name: '活跃用户',\r\n            value: 114553,\r\n            prevalue: 120105,\r\n            hismax: 145898,\r\n            per: '25%'\r\n        });\r\n        function createSeries(mainData) {\r\n            var result = [];\r\n            var insideLabel = {\r\n                normal: {\r\n                    position: 'center',\r\n                    formatter: function(params) {\r\n                        if (params.name == \"other\")\r\n                            return \"\";\r\n                        var str = '';\r\n\r\n                        for (var i = 0; i < params.name.length; i++) {\r\n                            console.log(params.name[i])\r\n                            str += params.name[i];\r\n                            if ((i + 1) % 2 == 0) { str += '\\n'; }\r\n                        }\r\n                        return str;\r\n                    },\r\n                    textStyle: {\r\n                        fontStyle: 'normal',\r\n                        fontWeight: 'normal',\r\n                        fontSize: 12,\r\n                        color: '#666'\r\n                    }\r\n                }\r\n            };\r\n            var outsideLabel = {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            };\r\n            var itemOthers = {\r\n                normal: {\r\n                    color: '#eee'\r\n                }\r\n            };\r\n            for (var i = 0; i < mainData.length; i++) {\r\n                var increase = mainData[i].value > mainData[i].prevalue;\r\n                result.push({\r\n                    type: 'pie',\r\n                    center: [i * 20 + 10 + '%', 30 + (i - 2) * (i - 2) * 5 + '%'],\r\n                    radius: ['20%', '22%'],\r\n                    label: insideLabel,\r\n                    angleAxis: {\r\n                        clockwise: true\r\n                    },\r\n                    data: [{\r\n                        name: mainData[i].name,\r\n                        value: mainData[i].value,\r\n                        // prevalue: mainData[i].prevalue\r\n                    },{\r\n                        name: 'other',\r\n                        value: mainData[i].hismax - mainData[i].value,\r\n                        itemStyle: itemOthers\r\n                    }],\r\n                    markPoint: {\r\n                        data: [{\r\n                            symbol: '',\r\n                            symbolSize: 15,\r\n                            // symbolRotate: increase ? 0 : 180,\r\n                            itemStyle: {\r\n                                normal: {\r\n                                    color: 'transparent'\r\n                                }\r\n                            },\r\n                            // name: mainData[i].name,\r\n                            value: mainData[i].per,\r\n                            x:  i * 20 + 9 + '%',\r\n                            y: 14 + (i - 2) * (i - 2) * 5 + '%',\r\n                            label: {\r\n                                normal: {\r\n                                    show: true,\r\n                                    position: 'cener',\r\n                                    formatter: function(params) {\r\n                                        return params.value;\r\n                                    },\r\n                                    textStyle: {\r\n                                        color: '#333'\r\n                                    }\r\n                                }\r\n                            },\r\n                        }]\r\n                    }\r\n                });\r\n            }\r\n            var youxiji = {\r\n                name: 'hill',\r\n                type: 'pictorialBar',\r\n                symbolSize: ['20%', '25%'],\r\n                barCategoryGap: '-50%',\r\n                symbolOffset: [0, '-50%'],\r\n                symbol: imgurl,\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        position: 'top',\r\n                        color: '#333'\r\n                    }\r\n                },\r\n                data: ['1'],\r\n                z: 10,\r\n                itemStyle: {\r\n                    normal: {\r\n                        opacity: 0.8,\r\n                        //每根柱子颜色设置\r\n                        color: function(params) {\r\n                            let colorList = [\r\n                                \"#1cd389\",\r\n                                \"#668eff\",\r\n                                \"#ffc751\",\r\n                                \"#5bd1ff\",\r\n                                \"#ff6e72\",\r\n                                \"#16c1af\",\r\n                                \"#9692ff\",\r\n                                \"#eeeeee\",\r\n                            ];\r\n                            return colorList[params.dataIndex];\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        opacity: 1\r\n                    }\r\n                },\r\n            }\r\n            result.push(youxiji)\r\n            return result;\r\n        }\r\n        var option = {\r\n            backgroundColor: '#fff',\r\n\r\n            xAxis: {\r\n                data: ['a'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    show: false\r\n                }\r\n            },\r\n            yAxis: {\r\n                splitLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    // 刻度线\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    // 轴线\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    // 轴坐标文字\r\n                    show: false\r\n                }\r\n            },\r\n            series: createSeries(mainData)\r\n        }","html":"","externalScripts":"","updaterUID":"bd-2903669626","theme":"","layout":"","viewCount":304,"userName":"z***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwnl-Ov4iV.png?v=1561002615548","isCustomThumbnail":0,"builtinTags":["category-work","grid","markPoint","series-pictorialBar","series-pie"],"customTags":[],"updaterUserName":"z***2"}}