{"status":0,"data":{"cid":"xHydhInkKG","authorUid":"bd-1679792466","authorUserName":"沉沦在回忆中","title":"企业许可情况新版与注销分析","description":"区县级","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-09T07:24:32.000Z","lastUpdateTime":"2018-03-09T07:24:32.000Z","auth":2,"uid":"bd-1679792466","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-09T07:24:32.000Z","code":"var sourceData = [{\n    name: '马山县',\n    sales: 7.89,\n    services: 11.47\n}, {\n    name: '上林县',\n    sales:5.55 ,\n    services:  10.45\n}, {\n    name: '隆安县',\n    sales: 3.18,\n    services:  10.61\n}, {\n    name: '宾阳县',\n    sales: 6.81,\n    services:11.28  \n}, {\n    name: '横县',\n    sales: 5.58,\n    services: 11.91\n}, {\n    name: '武鸣区',\n    sales: 6.91,\n    services: 12.21\n}, {\n    name: '兴宁区',\n    sales: 3.37,\n    services: 13.02\n}, {\n    name: '青秀区',\n    sales: 6.61,\n    services: 12.55\n}, {\n    name: '西乡塘区 ',\n    sales: 4.58,\n    services: 10.41\n}, {\n    name: '江南区',\n    sales: 4.35,\n    services: 16.14\n}, {\n    name: '良庆区',\n    sales: 4.27,\n    services: 14.41\n}, {\n    name: '邕宁区',\n    sales: 7.27,\n    services: 13.12\n}]\n\nvar seriesData = sourceData.map(function(item, index, array) {\n    return {\n        name: item['name'],\n        value: [item['sales'], item['services']]\n    }\n})\n\nvar computeServicesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['services']\n    })\n    return sum / sourceData.length\n}\n\nvar computeSalesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['sales']\n    })\n    return sum / sourceData.length\n}\nvar avg = {\n    servicesAvgLine: computeServicesAvgLine(),\n    salesAvgLine: computeSalesAvgLine()\n}\n\noption = {\n    title: {\n        text: '企业许可情况新版与注销分析'\n    },\n    backgroundColor:'#fff',\n    grid:{\n        bottom:'40%',\n        left:'6%',\n        right:'50%'\n    },\n    tooltip: {\n        trigger: 'item',\n        axisPointer: {\n            show: true,\n            type: 'cross',\n            lineStyle: {\n                type: 'dashed',\n                width: 1\n            },\n        },\n        formatter: function(obj) {\n            if (obj.componentType == \"series\") {\n                return '<div style=\"border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px\">' +\n                    obj.name +\n                    '</div>' +\n                    '<span>' +\n                    '新办率' +\n                    '</span>' +\n                    ' : ' + obj.data.value[1] + '%' +\n                    '<br/>' +\n                    '<span>' +\n                    '注销率' +\n                    '</span>' +\n                    ' : ' + obj.data.value[0] + '%'\n            }\n        }\n    },\n    label: {\n        normal: {\n            show: true,\n            position: 'bottom',\n            formatter: function(params) {\n                return params.name\n            }\n        },\n        emphasis: {\n            show: true,\n            position: 'bottom',\n        }\n    },\n    yAxis: {\n        name: '新办率',\n        min:8,\n        type: 'value',\n        scale: true,\n        axisLabel: {\n            formatter: '{value} %'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#000'\n            }\n        }\n    },\n    xAxis: {\n        name: '注销率',\n        type: 'value',\n        scale: true,\n        min:4,\n        axisLabel: {\n            formatter: '{value} %'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#000'\n            }\n        }\n    },\n   \n    series: [{\n        type: 'scatter',\n        data: seriesData,\n        symbolSize: 10,\n        color:'#2ca3fd',\n        label: {\n            normal: {\n                show: true,\n                formatter: function (sourceData) {\n                    return sourceData.name;\n                },\n                position: 'top'\n            }\n        },\n        markLine: {\n            label: {\n                normal: {\n                    \n                }\n            },\n            lineStyle: {\n                normal: {\n                    color: \"#CD3333\",\n                    type: 'solid',\n                    width: 1,\n                },\n                emphasis: {\n                    color: \"#d9def7\"\n                }\n            },\n            data: [{\n                xAxis: avg.salesAvgLine,\n                name: '新办率平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }, {\n                yAxis: avg.servicesAvgLine,\n                name: '注销率平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }]\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1679792466","theme":"","layout":"","viewCount":269,"userName":"沉沦在回忆中","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHydhInkKG.png?v=1520580272262","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"沉沦在回忆中"}}