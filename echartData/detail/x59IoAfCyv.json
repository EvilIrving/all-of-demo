{"status":0,"data":{"cid":"x59IoAfCyv","authorUid":"bd-2852417380","authorUserName":"b***t","title":"测试","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-07-25T10:13:34.000Z","lastUpdateTime":"2019-07-25T10:13:34.000Z","auth":2,"uid":"bd-2852417380","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-25T10:17:27.000Z","code":"//数据纯属虚构\r\nvar data = [\r\n    {\r\n        name: '河南',\r\n        value: 6\r\n    },{\r\n        name: '北京',\r\n        value: 3\r\n    },{\r\n        name: '陕西',\r\n        value: 1\r\n    },{\r\n        name: '山东',\r\n        value: 3\r\n    },{\r\n        name: '上海',\r\n        value: 2\r\n    },{\r\n        name: '湖南',\r\n        value: 2\r\n    },{\r\n        name: '浙江',\r\n        value: 1\r\n    },{\r\n        name: '吉林',\r\n        value: 1\r\n    },{\r\n        name: '福建',\r\n        value: 1\r\n    },{\r\n        name: '新疆',\r\n        value: 1\r\n    },{\r\n        name: '四川',\r\n        value: 1\r\n    },{\r\n        name: '辽宁',\r\n        value: 1\r\n    },\r\n     {\r\n        name: '南海诸岛',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '天津',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '江苏',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '重庆',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '河北',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '云南',\r\n        value: 0\r\n    },\r\n    \r\n    {\r\n        name: '黑龙江',\r\n        value: 0\r\n    },\r\n    \r\n    {\r\n        name: '安徽',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '江苏',\r\n        value: 0\r\n    },\r\n    \r\n    {\r\n        name: '江西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '湖北',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '广西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '甘肃',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '山西',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '内蒙古',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '贵州',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '广东',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '青海',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '西藏',\r\n        value: 0\r\n    },\r\n   \r\n    {\r\n        name: '宁夏',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '海南',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '台湾',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '香港',\r\n        value: 0\r\n    },\r\n    {\r\n        name: '澳门',\r\n        value: 0\r\n    }\r\n];\r\n\r\nvar yData = [];\r\nvar barData = [ {\r\n        name: '河南 · 郑州       （常君瑶、喻浩迪、殷思越、张瑞超、谭雅文）',\r\n        value: 5\r\n    },{\r\n        name: '河南 · 开封       （刘怡桐）',\r\n        value: 1\r\n    },{\r\n        name: '北京                （阴睿琦、彭心悦、刘颖卓）',\r\n        value: 3\r\n    },{\r\n        name: '山东 · 烟台       （王一帆、付泽辉、王贝乐）',\r\n        value: 3\r\n    },{\r\n        name: '上海                （刘赟、李想）',\r\n        value: 2\r\n    },{\r\n        name: '湖南 · 长沙       （韩波、郑浥含）',\r\n        value: 2\r\n    },{\r\n        name: '陕西 · 西安       （余政德）',\r\n        value: 1\r\n    },{\r\n        name: '浙江 · 宁波       （郝一阳）',\r\n        value: 1\r\n    },{ \r\n        name: '吉林 · 长春       （王坤）',\r\n        value: 1\r\n    },{\r\n        name: '湖北 · 武汉       （董睿晅）',\r\n        value: 1\r\n    },{\r\n        name: '福建 · 厦门       （闫毓龙）',\r\n        value: 1\r\n    },{\r\n        name: '新疆 · 乌鲁木齐（韩焱松）',\r\n        value: 1\r\n    },{\r\n        name: '四川 · 成都       （李茜茹）',\r\n        value: 1\r\n    },{\r\n        name: '辽宁 · 大连       （姚羽佳）',\r\n        value: 1\r\n    },{\r\n        name: '江苏 · 苏州       （杨帆）',\r\n        value: 1\r\n    },{\r\n        name: '天津                 （张可颐）',\r\n        value: 1\r\n    }];\r\n\r\nfor (var i = 0; i < 16; i++) {\r\n    //barData.push(data[i]);\r\n    yData.push(i + barData[i].name);\r\n}\r\n\r\n    var geoCoordMap = {\r\n        \"郑州\":[113.63,34.757],\r\n        \"开封\":[114.31,34.00],\r\n        \"北京\":[116.41,39.91],\r\n        \"西安\":[108.94,34.34],\r\n        \"烟台\":[120.45,37.46],\r\n        \"上海\":[122.48,31.23],\r\n        \"长沙\":[112.94,28.23],\r\n        \"宁波\":[121.55,29.88],\r\n        \"长春\":[125.33,43.82],\r\n        \"厦门\":[118.09,24.48],\r\n        \"乌鲁木齐\":[87.62,43.83],\r\n        \"成都\":[104.07,30.57],\r\n        \"大连\":[122.52,39.51],\r\n        \"苏州\":[120.58,31.30],\r\n        \"天津\":[117.20,38.79],\r\n        \"武汉\":[114.31,30.59]\r\n        \r\n    }\r\n    var data2 = [{\r\n            name: '郑州',\r\n            value: 5\r\n        },{\r\n            name: '开封',\r\n            value: 1\r\n        },{\r\n            name: '北京',\r\n            value: 3\r\n        },{\r\n            name: '西安',\r\n            value: 1\r\n        },{\r\n            name: '烟台',\r\n            value: 3\r\n        },{\r\n            name: '上海',\r\n            value: 2\r\n        },{\r\n            name: '长沙',\r\n            value: 2\r\n        },{\r\n            name: '宁波',\r\n            value: 1\r\n        },{\r\n            name: '长春',\r\n            value: 1\r\n        },{\r\n            name: '武汉',\r\n            value: 1\r\n        },{\r\n            name: '苏州',\r\n            value: 1\r\n        },{\r\n            name: '厦门',\r\n            value: 1\r\n        },{\r\n            name: '乌鲁木齐',\r\n            value: 1\r\n        },{\r\n            name: '成都',\r\n            value: 1\r\n        },{\r\n            name: '大连',\r\n            value: 1\r\n        },{\r\n            name: '天津',\r\n            value: 1\r\n        }\r\n    ];\r\nvar max = 100000,\r\n        min = 900; // todo \r\n    var maxSize4Pin = 20,\r\n        minSize4Pin = 40;\r\n\r\n    var convertData = function(data2) {\r\n        var res = [];\r\n        for (var i = 0; i < data2.length; i++) {\r\n            var geoCoord = geoCoordMap[data2[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data2[i].name,\r\n                    value: geoCoord.concat(data2[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\nvar option = {\r\n    title: [{\r\n        show: true,\r\n        text: '郑州十一中1902班同学联络地图',\r\n        textStyle: {\r\n            color: '#2D3E53',\r\n            fontSize: 18\r\n        },\r\n        right: 360,\r\n        top: 10\r\n    }],\r\n    tooltip: {\r\n        show: true,\r\n        formatter: function(params) {\r\n            return params.name + '：' + params.data['value']\r\n        },\r\n    },\r\n    visualMap: {\r\n        type: 'continuous',\r\n        orient: 'horizontal',\r\n        itemWidth: 10,\r\n        itemHeight: 80,\r\n        text: ['高', '低'],\r\n        showLabel: true,\r\n        seriesIndex: [0],\r\n        min: 0,\r\n        max: 6,\r\n        inRange: {\r\n            color: ['#6FCF6A', '#FFFD64', '#FF5000']\r\n        },\r\n        textStyle: {\r\n            color: '#7B93A7'\r\n        },\r\n        bottom: 30,\r\n        left: 'left',\r\n    },\r\n    grid: {\r\n        right: -250,\r\n        top: 100,\r\n        bottom: 30,\r\n        width: '20%'\r\n    },\r\n    xAxis: {\r\n        show: false\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        inverse: true,\r\n        nameGap: 16,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#ddd'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#ddd'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            margin: 427,\r\n            textStyle: {\r\n                color: '#455A74',\r\n                align: 'left',\r\n                fontSize: 12\r\n            },\r\n            rich: {\r\n                a: {\r\n                    color: '#fff',\r\n                    backgroundColor: '#FAAA39',\r\n                    width: 15,\r\n                    height: 15,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                },\r\n                b: {\r\n                    color: '#fff',\r\n                    backgroundColor: '#4197FD',\r\n                    width: 15,\r\n                    height: 15,\r\n                    align: 'center',\r\n                    borderRadius: 2\r\n                }\r\n            },\r\n            formatter: function(params) {\r\n                if (parseInt(params.slice(0, 2)) > 9) {\r\n                    return [\r\n                        '{b|' + (parseInt(params.slice(0, 2)) + 1) + '}' + '  ' + params.slice(2)\r\n                    ].join('\\n')\r\n                }\r\n                else if (parseInt(params.slice(0, 1)) < 3) {\r\n                    return [\r\n                        '{a|' + (parseInt(params.slice(0, 1)) + 1) + '}' + '  ' + params.slice(1)\r\n                    ].join('\\n')\r\n                }  else {\r\n                    return [\r\n                        '{b|' + (parseInt(params.slice(0, 1)) + 1) + '}' + '  ' + params.slice(1)\r\n                    ].join('\\n')\r\n                }\r\n            }\r\n        },\r\n        data: yData\r\n    },\r\n    geo: {\r\n        // roam: true,\r\n        map: 'china',\r\n        left: 'left',\r\n        top:60,\r\n        right: '410',\r\n        // layoutSize: '80%',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            emphasis: {\r\n                areaColor: '#fff464'\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: 'mapSer',\r\n        type: 'map',\r\n        roam: false,\r\n        geoIndex: 0,\r\n        label: {\r\n            show: false,\r\n        },\r\n        data: data\r\n    }, {\r\n        name: 'barSer',\r\n        type: 'bar',\r\n        roam: false,\r\n        visualMap: false,\r\n        zlevel: 2,\r\n        barMaxWidth: 8,\r\n        barGap: 0,\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    // build a color map as your need.\r\n                    var colorList = [{\r\n                            colorStops: [{\r\n                                offset: 0,\r\n                                color: '#FFD119' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1,\r\n                                color: '#FFAC4C' // 100% 处的颜色\r\n                            }]\r\n                        },\r\n                        {\r\n                            colorStops: [{\r\n                                offset: 0,\r\n                                color: '#00C0FA' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1,\r\n                                color: '#2F95FA' // 100% 处的颜色\r\n                            }]\r\n                        }\r\n                    ];\r\n                    if (params.dataIndex < 3) {\r\n                        return colorList[0]\r\n                    } else {\r\n                        return colorList[1]\r\n                    }\r\n                },\r\n                barBorderRadius: 15\r\n            }\r\n        },\r\n        data: barData\r\n    },{\r\n            name: '市圆点',\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data2),\r\n            symbolSize: 8,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    show: true,\r\n                     textStyle: {\r\n                            color: '#0630D8',\r\n                            fontWeight:550,\r\n                            fontSize: 11,\r\n                        }\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#0630D8'\r\n                }\r\n            }\r\n        },\r\n            {\r\n                name: '市气泡',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                symbol: 'pin',\r\n                symbolSize: function(val) {\r\n                    var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n                    var b = minSize4Pin - a * min;\r\n                    b = maxSize4Pin - a * max;\r\n                   // return a * val[2] + b;\r\n                   if(val[2]==5){\r\n                       return 60;\r\n                   }else if(val[2]==3){\r\n                        return 45;\r\n                   }else if(val[2]==2){\r\n                        return 40;\r\n                   }else if(val[2]==1){\r\n                        return 30;\r\n                   }else{\r\n                        return 30;\r\n                   }\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        formatter (value){\r\n                            return value.data.value[2]\r\n                        },\r\n                        show: true,\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            \r\n                            fontSize: 11,\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#F62157', //标志颜色\r\n                    }\r\n                },\r\n                zlevel: 6,\r\n                data: convertData(data2),\r\n            }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2852417380","theme":"","layout":"","viewCount":354,"userName":"b***t","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x59IoAfCyv.png?v=1564049847329","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"b***t"}}