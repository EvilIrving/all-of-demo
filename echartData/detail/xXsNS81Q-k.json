{"status":0,"data":{"cid":"xXsNS81Q-k","authorUid":"bd-7382906384","authorUserName":"满***6","title":"对比进度环形图表","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-30T03:08:02.000Z","lastUpdateTime":"2020-04-30T03:08:02.000Z","auth":2,"uid":"bd-7382906384","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-30T03:08:02.000Z","code":"var data = [{\r\n            name: \"本科\",\r\n            value: 754\r\n        },\r\n        {\r\n            name: \"硕士\",\r\n            value: 611\r\n        },\r\n        {\r\n            name: \"大专\",\r\n            value: 400\r\n        },\r\n        {\r\n            name: \"博士\",\r\n            value: 200\r\n        }\r\n    ],\r\n    legend = [{\r\n        name: \"本科\",\r\n        backgroundColor: \"#fff\"\r\n    }, \"硕士\", \"大专\", \"博士\"]\r\narrName = getArrayValue(data, \"name\");\r\narrValue = getArrayValue(data, \"value\");\r\nsumValue = 1000;\r\nvar bgLineColor = \"rgba(255,255,255,0.3)\";\r\nobjData = array2obj(data, \"name\");\r\noptionData = getData(data);\r\ncompany=\"kW\"\r\nfunction getArrayValue(array, key) {\r\n    var key = key || \"value\";\r\n    var res = [];\r\n    if (array) {\r\n        array.forEach(function(t) {\r\n            res.push(t[key]);\r\n        });\r\n    }\r\n    return res;\r\n}\r\n\r\nfunction array2obj(array, key) {\r\n    var resObj = {};\r\n    for (var i = 0; i < array.length; i++) {\r\n        resObj[array[i][key]] = array[i];\r\n    }\r\n    return resObj;\r\n}\r\n\r\nfunction getData(data) {\r\n    var res = {\r\n        series: [{\r\n                name: \"大环\",\r\n                type: 'gauge',\r\n                splitNumber: 15,\r\n                radius: '85%',\r\n                center: ['50%', '55%'],\r\n                startAngle: 90,\r\n                endAngle: -269.9999,\r\n                axisLine: {\r\n                    show: false,\r\n                    lineStyle: {\r\n                        color: [\r\n                            [1, bgLineColor]\r\n                        ]\r\n                    }\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                splitLine: {\r\n                    show: true,\r\n                    length: 32,\r\n                    lineStyle: {\r\n                        color: 'auto',\r\n                        width: 3.5\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    show: false\r\n                },\r\n                detail: {\r\n                    show: false\r\n                }\r\n            },\r\n            {\r\n                name: '小环',\r\n                type: 'gauge',\r\n                splitNumber: 15,\r\n                radius: '80%',\r\n                center: ['50%', '55%'],\r\n                startAngle: 90,\r\n                endAngle: -269.9999,\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: bgLineColor,\r\n                        width: 3\r\n                    },\r\n                    length: 20,\r\n                    splitNumber: 5\r\n                },\r\n                splitLine: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    show: false\r\n                },\r\n                detail: {\r\n                    show: false\r\n                }\r\n            },\r\n        ],\r\n        yAxis: []\r\n    };\r\n    for (let i = 0; i < data.length; i++) {\r\n        res.series.push({\r\n            name: '学历',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            z: 2,\r\n            hoverAnimation: false,\r\n            radius: [73 - i * 15 + '%', 68 - i * 15 + '%'],\r\n            center: [\"50%\", \"55%\"],\r\n            label: {\r\n                show: false,\r\n\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            data: [{\r\n                value: data[i].value,\r\n                name: data[i].name,\r\n                itemStyle: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 1,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#0050E2'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#fff'\r\n                        }],\r\n                        global: false\r\n                    }\r\n                }\r\n            }, {\r\n                value: sumValue - data[i].value,\r\n                name: '',\r\n                itemStyle: {\r\n                    color: \"rgba(0,0,0,0)\",\r\n                    borderWidth: 0\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                label: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }]\r\n        });\r\n        res.series.push({\r\n            name: '背景线',\r\n            type: 'pie',\r\n            silent: true,\r\n            z: 1,\r\n            clockWise: false,\r\n            hoverAnimation: false,\r\n            radius: [73 - i * 15 + '%', 69 - i * 15 + '%'],\r\n            center: [\"50%\", \"55%\"],\r\n            label: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                label: {\r\n                    show: false,\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                borderWidth: 10,\r\n            },\r\n            data: [{\r\n                value: 100,\r\n                itemStyle: {\r\n                    color: \"rgba(255,255,255,0.3)\",\r\n                    borderWidth: 10\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }]\r\n        });\r\n        res.yAxis.push(data[i].name);\r\n    }\r\n    return res;\r\n}\r\n\r\noption = {\r\n    backgroundColor: 'rgb(8,20,67)',\r\n    color: [\"#fff\"],\r\n    grid: {\r\n        top: '16%',\r\n        bottom: '54%',\r\n        left: \"50%\",\r\n        containLabel: false\r\n    },\r\n    legend: {\r\n        icon: \"circle\",\r\n        orient: \"vertical\",\r\n        right: \"15%\",\r\n        top: \"20%\",\r\n        textStyle: {\r\n            color: \"#fff\",\r\n        },\r\n        formatter: function(params) {\r\n          return params+\"     \"+objData[params].value+\"  \"+company;\r\n        },\r\n        data: legend\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        inverse: true,\r\n        z: 3,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            inside: false,\r\n            textStyle: {\r\n                color: \"RGB(78,184,252)\",\r\n                fontSize: 25,\r\n            },\r\n            show: false\r\n        },\r\n        data: optionData.yAxis\r\n    }],\r\n    xAxis: [{\r\n        show: false\r\n    }],\r\n    series: optionData.series\r\n};","html":"","externalScripts":"","updaterUID":"bd-7382906384","theme":"","layout":"","viewCount":1579,"userName":"满***6","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXsNS81Q-k.png?v=1588216082900","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-gauge","series-pie"],"customTags":[],"updaterUserName":"满***6"}}