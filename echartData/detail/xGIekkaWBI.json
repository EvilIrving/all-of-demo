{"status":0,"data":{"cid":"xGIekkaWBI","authorUid":"bd-2083917125","authorUserName":"筱***5","title":"2020年云梦山游客来源全国统计","description":"数据来自奇镜科技","latestVersion":6,"alwaysLatest":1,"createTime":"2020-10-11T01:49:16.000Z","lastUpdateTime":"2020-10-11T01:49:16.000Z","auth":2,"uid":"bd-2083917125","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-11T03:42:32.000Z","code":"\t\tvar name_title = \"2020年云梦山游客来源全国统计\"\r\n\t\tvar subname = '数据来自奇镜科技'\r\n\t\tvar nameColor = \" rgb(55, 75, 113)\"\r\n\t\tvar name_fontFamily = '等线'\r\n\t\tvar subname_fontSize = 15\r\n\t\tvar name_fontSize = 18\r\n\t\tvar mapName = 'china'\r\n\t\tvar data = [{\r\n\t\t        name: \"河北\",\r\n\t\t        value: 1986\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"山西\",\r\n\t\t        value: 213\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"山东\",\r\n\t\t        value: 133\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"河南\",\r\n\t\t        value: 71\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"天津\",\r\n\t\t        value: 40\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"北京\",\r\n\t\t        value: 25\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"江苏\",\r\n\t\t        value: 13\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"广东\",\r\n\t\t        value: 10\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"移动\",\r\n\t\t        value: 7\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"陕西\",\r\n\t\t        value: 6\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"上海\",\r\n\t\t        value: 6\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"重庆\",\r\n\t\t        value: 4\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"四川\",\r\n\t\t        value: 4\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"广西\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"云南\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"浙江\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"安徽\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"湖北\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"江西\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"青海\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"内蒙古\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"甘肃\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"福建\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"黑龙江\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"湖南\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"吉林\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"辽宁\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t];\r\n\t\tvar toolTipData = [{\r\n\t\t        name: \"河北\",\r\n\t\t        value: 1986\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"山西\",\r\n\t\t        value: 213\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"山东\",\r\n\t\t        value: 133\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"河南\",\r\n\t\t        value: 71\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"天津\",\r\n\t\t        value: 40\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"北京\",\r\n\t\t        value: 25\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"江苏\",\r\n\t\t        value: 13\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"广东\",\r\n\t\t        value: 10\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"移动\",\r\n\t\t        value: 7\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"陕西\",\r\n\t\t        value: 6\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"重庆\",\r\n\t\t        value: 4\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"四川\",\r\n\t\t        value: 4\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"广西\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"云南\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"浙江\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"安徽\",\r\n\t\t        value: 3\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"湖北\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"江西\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"青海\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"内蒙古\",\r\n\t\t        value: 2\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"甘肃\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"福建\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"黑龙江\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"湖南\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"吉林\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t    {\r\n\t\t        name: \"辽宁\",\r\n\t\t        value: 1\r\n\t\t    },\r\n\t\t];\r\n\t\tvar geoCoordMap = {};\r\n\r\n\r\n\t\t/*获取地图数据*/\r\n\t\tmyChart.showLoading();\r\n\t\tvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\n\t\tmyChart.hideLoading();\r\n\t\tmapFeatures.forEach(function(v) {\r\n\t\t    // 地区名称\r\n\t\t    var name = v.properties.name;\r\n\t\t    // 地区经纬度\r\n\t\t    geoCoordMap[name] = v.properties.cp;\r\n\r\n\t\t});\r\n\r\n\t\tvar max = 6000,\r\n\t\t    min = 9; // todo \r\n\t\tvar maxSize4Pin = 35,\r\n\t\t    minSize4Pin = 30;\r\n\r\n\t\tvar convertData = function(data) {\r\n\t\t    var res = [];\r\n\t\t    for (var i = 0; i < data.length; i++) {\r\n\t\t        var geoCoord = geoCoordMap[data[i].name];\r\n\t\t        if (geoCoord) {\r\n\t\t            res.push({\r\n\t\t                name: data[i].name,\r\n\t\t                value: geoCoord.concat(data[i].value),\r\n\t\t            });\r\n\t\t        }\r\n\t\t    }\r\n\t\t    return res;\r\n\t\t};\r\n\t\toption = {\r\n\t\t    title: {\r\n\t\t        text: name_title,\r\n\t\t        subtext: subname,\r\n\t\t        x: 'center',\r\n\t\t        textStyle: {\r\n\t\t            color: nameColor,\r\n\t\t            fontFamily: name_fontFamily,\r\n\t\t            fontSize: name_fontSize\r\n\t\t        },\r\n\t\t        subtextStyle: {\r\n\t\t            fontSize: subname_fontSize,\r\n\t\t            fontFamily: name_fontFamily\r\n\t\t        }\r\n\t\t    },\r\n\t\t    tooltip: {\r\n\t\t        trigger: 'item',\r\n\t\t        //  formatter: function(e, t, n) {\r\n\t\t        //  console.log(typeof(e.value)[2])\r\n\t\t        //  return e.name + \"：\" + (e.value[2] ? e.value[2] : 0) + '人'\r\n\t\t        //  }\r\n\t\t        formatter: function(params) {\r\n\t\t            if (typeof(params.value)[2] == \"undefined\") {\r\n\t\t                var toolTiphtml = ''\r\n\t\t                for (var i = 0; i < toolTipData.length; i++) {\r\n\t\t                    if (params.name == toolTipData[i].name) {\r\n\t\t                        toolTiphtml += toolTipData[i].name + ':' + toolTipData[i].value + '人'\r\n\t\t                    }\r\n\t\t                }\r\n\t\t                return toolTiphtml;\r\n\t\t            } else {\r\n\t\t                var toolTiphtml = ''\r\n\t\t                for (var i = 0; i < toolTipData.length; i++) {\r\n\t\t                    if (params.name == toolTipData[i].name) {\r\n\t\t                        toolTiphtml += toolTipData[i].name + ':' + toolTipData[i].value + '人'\r\n\t\t                    }\r\n\t\t                }\r\n\t\t                return toolTiphtml;\r\n\t\t            }\r\n\t\t        }\r\n\t\t    },\r\n\t\t    // legend: {\r\n\t\t    //     orient: 'vertical',\r\n\t\t    //     y: 'bottom',\r\n\t\t    //     x: 'right',\r\n\t\t    //     data: ['credit_pm2.5'],\r\n\t\t    //     textStyle: {\r\n\t\t    //         color: '#fff'\r\n\t\t    //     }\r\n\t\t    // },\r\n\t\t    visualMap: [{\r\n\t\t        show: true,\r\n\t\t        min: 1,\r\n\t\t        max: 300,\r\n\t\t        left: 'left',\r\n\t\t        top: 'bottom',\r\n\t\t        text: ['高', '低'], // 文本，默认为数值文本\r\n\t\t        calculable: true,\r\n\t\t        seriesIndex: [0],\r\n\t\t        inRange: {\r\n\t\t                color: [ '#74add1', '#ffd768', '#ff8c71', '#ff5428', '#7f1100']\r\n\r\n\t\t        }\r\n\t\t    },\r\n\t\t    {\r\n\t\t        show: true,\r\n\t\t        min: 1,\r\n\t\t        max: 300,\r\n\t\t        left: 'left',\r\n\t\t        top: 'bottom',\r\n\t\t        text: ['高', '低'], // 文本，默认为数值文本\r\n\t\t        calculable: true,\r\n\t\t        seriesIndex: [1],\r\n\t\t        inRange: {\r\n\t\t                color: ['#0b9df0', '#74add1', '#ffd768', '#ff8c71', '#ff5428']\r\n\r\n\t\t        }\r\n\t\t    }\r\n\t\t    ],\r\n\t\t    /*工具按钮组*/\r\n\t\t    toolbox: {\r\n\t\t        show: true,\r\n\t\t        orient: 'vertical',\r\n\t\t        left: 'right',\r\n\t\t        top: 'center',\r\n\t\t        feature: {\r\n\t\t            saveAsImage: {}\r\n\t\t        }\r\n\t\t    },\r\n\t\t    geo: {\r\n\t\t        show: true,\r\n\t\t        map: mapName,\r\n\t\t        label: {\r\n\t\t            normal: {\r\n\t\t                show: true\r\n\t\t            },\r\n\t\t            emphasis: {\r\n\t\t                show: false,\r\n\t\t            }\r\n\t\t        },\r\n\t\t        roam: true,\r\n\t\t        itemStyle: {\r\n\t\t            normal: {\r\n\t\t                areaColor: '#ffffff',\r\n\t\t                borderColor: '#3B5077',\r\n\t\t            },\r\n\t\t            emphasis: {\r\n\t\t                areaColor: '#2B91B7',\r\n\t\t            }\r\n\t\t        }\r\n\t\t    },\r\n\t\t    series: [{\r\n\t\t            type: 'map',\r\n\t\t            map: mapName,\r\n\t\t            geoIndex: 0,\r\n\t\t            aspectScale: 0.75, //长宽比\r\n\t\t            showLegendSymbol: false, // 存在legend时显示\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true\r\n\t\t                },\r\n\t\t                emphasis: {\r\n\t\t                    show: false,\r\n\t\t                    textStyle: {\r\n\t\t                        color: '#fff'\r\n\t\t                    }\r\n\t\t                }\r\n\t\t            },\r\n\t\t            roam: true,\r\n\t\t            itemStyle: {\r\n\t\t                normal: {\r\n\t\t                    areaColor: '#031525',\r\n\t\t                    borderColor: '#3B5077',\r\n\t\t                },\r\n\t\t                emphasis: {\r\n\t\t                    areaColor: '#2B91B7'\r\n\t\t                }\r\n\t\t            },\r\n\t\t            animation: false,\r\n\t\t            data: data\r\n\t\t        },\r\n\t\t        {\r\n\t\t            name: '点',\r\n\t\t            type: 'scatter',\r\n\t\t            coordinateSystem: 'geo',\r\n\t\t            symbol: 'pin', //气泡\r\n\t\t            symbolSize: function(val) {\r\n\t\t                var a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n\t\t                var b = minSize4Pin - a * min;\r\n\t\t                b = maxSize4Pin - a * max;\r\n\t\t                return a * val[2] + b;\r\n\t\t            },\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    formatter: function(obj) {\r\n\t\t                        return obj.data.value[2];\r\n\t\t                    },\r\n\t\t                    show: true,\r\n\t\t                    textStyle: {\r\n\t\t                        color: '#fff',\r\n\t\t                        fontSize: 9,\r\n\t\t                    }\r\n\t\t                }\r\n\t\t            },\r\n\t\t            itemStyle: {\r\n\t\t                normal: {\r\n\t\t                    color: '#F62157', //标志颜色\r\n\t\t                }\r\n\t\t            },\r\n\t\t            zlevel: 6,\r\n\t\t            data: convertData(data),\r\n\t\t        },\r\n\r\n\t\t    ]\r\n\t\t};\r\n\t\tmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-2083917125","theme":"","layout":"","viewCount":228,"userName":"筱***5","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGIekkaWBI.png?v=1602387752967","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"筱***5"}}