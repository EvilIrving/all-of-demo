{"status":0,"data":{"cid":"treemap-drill-down","authorUid":"bd-2135947294","authorUserName":"echarts","title":"ECharts 配置项查询分布","description":"Treemap Drill Down","latestVersion":1,"alwaysLatest":1,"createTime":"2016-05-19T05:56:52.000Z","lastUpdateTime":"2016-05-19T05:57:12.000Z","auth":2,"uid":"bd-2135947294","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.1.9","versionCreateTime":"2016-05-19T05:56:52.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1463636894153-rJ8smC5f.json\";\n\nmyChart.showLoading();\n\n$.getJSON(uploadedDataURL, function (rawData) {\n\n    myChart.hideLoading();\n\n    function convert(source, target, basePath) {\n        for (var key in source) {\n            var path = basePath ? (basePath + '.' + key) : key;\n            if (key.match(/^\\$/)) {\n\n            }\n            else {\n                target.children = target.children || [];\n                var child = {\n                    name: path\n                };\n                target.children.push(child);\n                convert(source[key], child, path);\n            }\n        }\n\n        if (!target.children) {\n            target.value = source.$count || 1;\n        }\n        else {\n            target.children.push({\n                name: basePath,\n                value: source.$count\n            });\n        }\n    }\n\n    convert(rawData, data, '');\n\n    myChart.setOption({\n        title: {\n            text: 'ECharts 配置项查询分布',\n            subtext: '2016/04',\n            left: 'leafDepth'\n        },\n        tooltip: {},\n        series: [{\n            name: 'option',\n            type: 'treemap',\n            visibleMin: 300,\n            data: data.children,\n            leafDepth: 2,\n            levels: [\n                {\n                    itemStyle: {\n                        normal: {\n                            borderColor: '#555',\n                            borderWidth: 4,\n                            gapWidth: 4\n                        }\n                    }\n                },\n                {\n                    colorSaturation: [0.3, 0.6],\n                    itemStyle: {\n                        normal: {\n                            borderColorSaturation: 0.7,\n                            gapWidth: 1,\n                            borderWidth: 2\n                        }\n                    }\n                },\n                {\n                    colorSaturation: [0.3, 0.5],\n                    itemStyle: {\n                        normal: {\n                            borderColorSaturation: 0.6,\n                            gapWidth: 1\n                        }\n                    }\n                },\n                {\n                    colorSaturation: [0.3, 0.5]\n                }\n            ]\n        }]\n    })\n});","html":"","externalScripts":"","updaterUID":"bd-2135947294","theme":"default","layout":"","viewCount":6303,"userName":"echarts","commentCount":1,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/treemap-drill-down.png?v=1463637412998","isCustomThumbnail":0,"builtinTags":["category-work","series-treemap","title","tooltip"],"customTags":["leafDepth"],"updaterUserName":"echarts"}}