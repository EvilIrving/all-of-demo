{"status":0,"data":{"cid":"xvURHa_END","authorUid":"obd-o0h945YXS0_8pKJUL47qcG2lHIZLHFr","authorUserName":"152*****346","title":"南阳市VIP分布","description":"morning_sun","latestVersion":16,"alwaysLatest":0,"createTime":"2021-05-29T15:29:06.000Z","lastUpdateTime":"2021-12-03T14:41:24.000Z","auth":1,"uid":"obd-o0h945YXS0_8pKJUL47qcG2lHIZLHFr","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":16,"parentVersion":15,"echartsVersion":"5.1.1","versionCreateTime":"2021-12-03T14:41:24.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1622300948628-4ZHAQ--U0.json';\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('nanyang', geoJson);\n    myChart.hideLoading();\n    var geoCoordMap = {\n        内乡县: [111.843801, 33.046358],\n        南召县: [112.435583, 33.488617],\n        卧龙区: [112.528789, 32.989877],\n        唐河县: [112.838492, 32.687892],\n        宛城区: [112.544591, 32.994857],\n        新野县: [112.365624, 32.524006],\n        方城县: [113.010933, 33.255138],\n        桐柏县: [113.406059, 32.367153],\n        淅川县: [111.489026, 33.136106],\n        社旗县: [112.938279, 33.056126],\n        西峡县: [111.485772, 33.302981],\n        邓州市: [112.092716, 32.681642],\n        镇平县: [112.232722, 33.036651],\n    };\n    var data = [\n        { name: '唐河县', value: 12 },\n        { name: '西峡县', value: 6 },\n        { name: '宛城区', value: 16 },\n        { name: '社旗县', value: 2000 },\n        { name: '新野县', value: 10 },\n        { name: '南召县', value: 11 },\n    ];\n\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value).concat(data[i].img),\n                });\n            }\n        }\n        return res;\n    };\n    option = {\n        title: {\n            top: 20,\n            text: '南阳市VIP分布',\n            subtext: '南阳市VIP分布',\n            textStyle: {\n                color: '#000',\n            },\n        },\n        tooltip: {\n            formatter: function (params) {\n                var html = '';\n                html =\n                    '<div>' +\n                    '<div >' +\n                    params.name +\n                    '</div>' +\n                    '<div>' +\n                    '<span style=\"font-size:14px;font-weight:bold;\">' +\n                    'IVP数：' +\n                    params.data.value[2] +\n                    ' ' +\n                    '</span>' +\n                    '</div>' +\n                    '</div>';\n                return html;\n            },\n        },\n        geo: {\n            map: 'nanyang',\n            type: 'map',\n            zoom: 1,\n            showLegendSymbol: true,\n            label: {\n                normal: {\n                    show: true,\n                    color: '#fff',\n                },\n                emphasis: {\n                    show: true,\n                    color: 'red',\n                },\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: '#3a7fd5',\n                    borderColor: '#0a53e9', //线\n                    shadowColor: '#092f8f', //外发光\n                    shadowBlur: 20,\n                },\n                emphasis: {\n                    areaColor: '#0a2dae', //悬浮区背景\n                },\n            },\n        },\n        series: [\n            {\n                name: '666',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                symbol: 'pin',\n                symbolSize: [50, 50],\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 10,\n                        },\n                        formatter(value) {\n                            return value.data.value[2];\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: function (val) {\n                            if (val.dataIndex == '0') {\n                                return 'blue';\n                            } else if (val.dataIndex == '1') {\n                                return 'green';\n                            } else if (val.dataIndex == '2') {\n                                return '#ff9900';\n                            } else {\n                                return 'red';\n                            }\n                        },\n                    },\n                },\n                data: convertData(\n                    data.sort(function (a, b) {\n                        return b.value - a.value;\n                    })\n                ),\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                zlevel: 1,\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-wordcloud@2/dist/echarts-wordcloud.min.js","updaterUID":"obd-otwTh1W9VL-h0PdAyWwcxyL7Sj7sZ8d","theme":"default","layout":"","viewCount":0,"userName":"152*****346","commentCount":6,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvURHa_END.png?v=1638542484722","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"玉***子"}}