{"status":0,"data":{"cid":"xHkLOYH3n-","authorUid":"bd-2651083991","authorUserName":"ho121","title":"部分城市下单轨迹","description":"","latestVersion":30,"alwaysLatest":1,"createTime":"2017-10-12T01:46:22.000Z","lastUpdateTime":"2017-10-12T01:46:22.000Z","auth":2,"uid":"bd-2651083991","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":30,"parentVersion":29,"echartsVersion":"3.7.2","versionCreateTime":"2017-10-18T09:28:17.000Z","code":"/*\r\n交互说明：\r\n    0. 北上广深四个城市轮播，每1分钟切换一次城市；\r\n    1. 轨迹从产生到展现延迟不超过10秒钟；\r\n    2. 在早8点到晚8点之间，要保证每10秒内至少一条轨迹，可以利用历史数据或掺杂假数据；\r\n    3. 每条轨迹巡航两次后消失，每次巡航耗时1秒；\r\n*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PointColors = [{\r\n    type: 'radial',\r\n    x: 0.5,\r\n    y: 0.5,\r\n    r: 0.3,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(45, 224, 242, 1)' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'radial',\r\n    x: 0.5,\r\n    y: 0.5,\r\n    r: 0.3,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(241, 249, 44, 1)' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'radial',\r\n    x: 0.5,\r\n    y: 0.5,\r\n    r: 0.3,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(234, 77, 222, 1)' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'radial',\r\n    x: 0.5,\r\n    y: 0.5,\r\n    r: 0.3,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: 'rgba(66, 242, 98, 1)' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, ];\r\n\r\nvar TrackerColors = [{\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 1,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: '#2de0f2' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 1,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: '#f1f92c' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 1,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: '#ea4dde' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, {\r\n    type: 'linear',\r\n    x: 0,\r\n    y: 0,\r\n    x2: 0,\r\n    y2: 1,\r\n    colorStops: [{\r\n        offset: 0,\r\n        color: '#FFFFFF' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: '#42f262' // 100% 处的颜色\r\n    }],\r\n    globalCoord: false // 缺省为 false\r\n}, ];\r\n\r\noption = {\r\n    title: [\r\n        {\r\n            textAlign: 'left',\r\n            text: '当前热门商圈',\r\n            bottom:230,\r\n            left:27,\r\n            textStyle: {\r\n                fontSize:16,\r\n                color: '#EEEEEE',\r\n                fontWeight:'bolder',\r\n            },\r\n        }, {\r\n        text: '上海下单轨迹',\r\n        x: 'left',\r\n        left: 210,\r\n        top: 10,\r\n        padding: [15, 10, 15, 10],\r\n        textStyle: {\r\n            fontSize:22,\r\n            color: '#FFFFFF',\r\n        },\r\n        borderColor: '#DDDDDD',\r\n        borderWidth: 2,\r\n        borderRadius: 4,\r\n    }],\r\n    tooltip: {\r\n        trigger: 'item'\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            color: '#DDDDDD',\r\n        },\r\n        data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'].reverse(),\r\n    }],\r\n    grid: [{\r\n        show: true,\r\n        left: 10,\r\n        bottom: 30,\r\n        width: 150,\r\n        height: 200,\r\n        containLabel: true,\r\n        borderWidth: 0\r\n    }],\r\n    xAxis: [{\r\n        name: '',\r\n        type: 'value',\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            formatter: '{value}'\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n        }\r\n    }],\r\n    bmap: {\r\n        center: [121.4737, 31.2304],\r\n        zoom: 10,\r\n        roam: true,\r\n        mapStyle: {\r\n            styleJson: [{\r\n                \"featureType\": \"water\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"color\": \"#0772ab\",\r\n                    \"lightness\": 10\r\n                }\r\n            }, {\r\n                \"featureType\": \"land\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"color\": \"#004981\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"boundary\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": {\r\n                    \"color\": \"#064f85\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"railway\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"highway\",\r\n                \"elementType\": \"geometry.stroke\",\r\n                \"stylers\": {\r\n                    \"color\": \"#004981\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"highway\",\r\n                \"elementType\": \"geometry.fill\",\r\n                \"stylers\": {\r\n                    \"color\": \"#006bb3\",\r\n                }\r\n            }, {\r\n                \"featureType\": \"highway\",\r\n                \"elementType\": \"labels\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"arterial\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": {\r\n                    \"color\": \"#004981\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"arterial\",\r\n                \"elementType\": \"geometry.fill\",\r\n                \"stylers\": {\r\n                    \"color\": \"#00508b\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"poi\",\r\n                \"elementType\": \"labels\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"green\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"color\": \"#056197\",\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"subway\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\",\r\n                }\r\n            }, {\r\n                \"featureType\": \"manmade\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"local\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"arterial\",\r\n                \"elementType\": \"labels\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"boundary\",\r\n                \"elementType\": \"geometry.fill\",\r\n                \"stylers\": {\r\n                    \"color\": \"#029fd4\"\r\n                }\r\n            }, {\r\n                \"featureType\": \"building\",\r\n                \"elementType\": \"all\",\r\n                \"stylers\": {\r\n                    \"color\": \"#1a5787\",\r\n                }\r\n            }, {\r\n                \"featureType\": \"label\",\r\n                \"elementType\": \"labels\",\r\n                \"stylers\": {\r\n                    \"visibility\": \"off\"\r\n                }\r\n            }]\r\n        }\r\n    },\r\n    series : [],\r\n    graphic: [\r\n        {\r\n            type: 'image',\r\n            id: 'logo',\r\n            right: 20,\r\n            bottom: 45,\r\n            z: -10,\r\n            bounding: 'raw',\r\n            origin: [75, 75],\r\n            style: {\r\n                width:150,\r\n                //height:50,\r\n                image: 'http://img3.mwee.cn/oa/upload/201710/1017/59dc9340445cf.png',\r\n            }\r\n        },\r\n    ]\r\n};\r\n\r\nseries = [{\r\n    type: 'lines',\r\n    zlevel: 2,\r\n    symbol: ['none', 'none'],\r\n    coordinateSystem: 'bmap',\r\n    symbolSize: 0,\r\n\r\n    effect: {\r\n        show: true,\r\n        period: 1,\r\n        symbol: 'circle', //ECharts 提供的标记类型包括 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow'\r\n        symbolSize: 3,\r\n        trailLength: 0.1,\r\n        delay: function(i) {\r\n            return i * 1500;\r\n        },\r\n        loop: true,\r\n    },\r\n    z:1,\r\n    lineStyle: {\r\n        normal: {\r\n            color: function(params) {\r\n                return TrackerColors[Math.round(params.data.coords[1][0] * 1000) % PointColors.length];\r\n            },\r\n            width: 0,\r\n            opacity: 0.5,\r\n            curveness: 0,\r\n            type: 'dotted',\r\n        }\r\n    },\r\n    data: [{\r\n        coords: [\r\n            [121.585543, 31.200221],\r\n            [121.11592, 31.14846]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.477135, 31.270813],\r\n            [121.587208, 31.27021]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.162796, 31.28816],\r\n            [121.489695, 31.26328813]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.346756, 31.157954],\r\n            [121.4734914, 31.27279441]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.21849, 31.038462],\r\n            [121.40729, 31.21219873]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.4600335, 31.2480633],\r\n            [121.5198383, 31.2091026]\r\n        ]\r\n    }, {\r\n        coords: [\r\n            [121.522508, 31.224617],\r\n            [121.5234428, 31.16326698]\r\n        ]\r\n    }, ],\r\n    animationDelay: function(i) {\r\n        return i * 1500;\r\n    },\r\n    animationDuration: 4000,\r\n    animationDurationUpdate: 0,\r\n}, {\r\n    type: 'scatter',\r\n    coordinateSystem: 'bmap',\r\n    data: [\r\n        [121.11592, 31.14846],\r\n        [121.587208, 31.27021],\r\n        [121.489695, 31.26328813],\r\n        [121.4734914, 31.27279441],\r\n        [121.40729, 31.21219873],\r\n        [121.5198383, 31.2091026],\r\n        [121.5234428, 31.16326698],\r\n    ],\r\n    itemStyle: {\r\n        normal: {\r\n            color: function(params) {\r\n                return PointColors[Math.round(params.data[0] * 1000) % PointColors.length];\r\n            },\r\n        }\r\n    },\r\n    symbol: 'circle',\r\n    symbolSize: 10,\r\n    label: {\r\n        normal: {\r\n            color: '#FFFFFF',\r\n            show: true,\r\n            formatter: '某某门店',\r\n            position: 'bottom',\r\n        },\r\n    },\r\n    animationDelay: function(i) {\r\n        return i * 1500 + 1000;\r\n    },\r\n    animationDurationUpdate: 0,\r\n    z:0,\r\n}, {\r\n    type: 'bar',\r\n    data: [{\r\n        value: 11,\r\n        name: '人民广场',\r\n    }, {\r\n        value: 15,\r\n        name: '陆家嘴',\r\n    }, {\r\n        value: 13,\r\n        name: '南京西路',\r\n    }, {\r\n        value: 12,\r\n        name: '龙阳路',\r\n    }, {\r\n        value: 10,\r\n        name: '静安寺',\r\n    }, {\r\n        value: 12,\r\n        name: '中山公园',\r\n    }, {\r\n        value: 34,\r\n        name: '五角场',\r\n    }, {\r\n        value: 55,\r\n        name: '打浦桥',\r\n    }, {\r\n        value: 34,\r\n        name: '金科路',\r\n    }, {\r\n        value: 56,\r\n        name: '浦东机场',\r\n    }].sort(function(a, b) {\r\n        return a.value - b.value;\r\n    }),\r\n    itemStyle: {\r\n        normal: {\r\n            color: function(p) {\r\n                var GradientColors = [\"#8790fa\",\"#949cde\",\"#a2a9c2\",\"#afb5a7\",\"#bcc18b\",\"#cace6f\",\"#d7da53\",\"#e4e638\",\"#f2f31c\",\"#ffff00\"];\r\n                return GradientColors[p.dataIndex];\r\n            },\r\n        }\r\n    },\r\n    label: {\r\n        normal: {\r\n            show:true,\r\n            color:'#DDDDDD',\r\n            position:'right',\r\n            formatter:function(p){\r\n                return p.data.name;\r\n            },\r\n        }\r\n    }\r\n},];\r\n\r\noption.series = series;\r\n\r\nfunction fadeOut(){\r\n    series[0].data.splice(0,1);\r\n    series[1].data.splice(0,1);\r\n    \r\n    var New = {series : series};\r\n\r\n    myChart.setOption({series : series});\r\n    \r\n}\r\n\r\nsetInterval(fadeOut, 2000);","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,http://api.map.baidu.com/api?v=2.0&ak=uHkkRqHOFj3Z6Ajv3lLhCD8WjYjb6rFM","updaterUID":"bd-2651083991","theme":"","layout":"","viewCount":166,"userName":"ho121","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHkLOYH3n-.png?v=1508313849978","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"ho121"}}