{"status":0,"data":{"cid":"xLASVWOcH","authorUid":"bd-4161428444","authorUserName":"b***n","title":"关系图-测试","description":"graph","latestVersion":6,"alwaysLatest":1,"createTime":"2019-11-28T10:20:23.000Z","lastUpdateTime":"2019-11-28T10:20:23.000Z","auth":2,"uid":"bd-4161428444","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-10T15:04:45.000Z","code":"//set data 测试数据非真实\r\nconst source = [\r\n    '数据云',\r\n    '案件',\r\n    '特种\\n设备',\r\n    '无证\\n无照',\r\n    '抽查\\n检查',\r\n    '价格\\n监管',\r\n    '注册',\r\n    '进口菲\\n特监管',\r\n    '许可',\r\n    '舆情',\r\n    '信用',\r\n    '列异',\r\n    '医疗器\\n械监管',\r\n    '办公\\n数据',\r\n    '六个双',\r\n    '年报',\r\n    '标准化\\n监管',\r\n    '投诉\\n举报',\r\n    '食品日\\n常监管',\r\n    '计量日\\n常监管',\r\n    '国家\\n市级',\r\n    '国家\\n市级',\r\n    '区级',\r\n    '国家\\n市级',\r\n    '局自建',\r\n    '国家\\n市级',\r\n    '局自建',\r\n    '国家\\n市级',\r\n    '社会\\n第三方',\r\n    '区级',\r\n    '国家\\n市级',\r\n    '局自建',\r\n    '局自建',\r\n    '区级',\r\n    '国家\\n市级',\r\n    '局自建',\r\n    '国家\\n市级',\r\n    '局自建',\r\n    '局自建'\r\n]\r\n\r\nlet listdata = [];\r\n\r\nsource.map((v, k) => {\r\n    if (k > 0 && k <= 19) {\r\n        listdata.push({\r\n            name: v,\r\n            category: 1,\r\n            symbolSize: 80\r\n        });\r\n    } else if (k > 19) {\r\n        listdata.push({\r\n            value: v,\r\n            category: 2,\r\n            symbolSize: 60\r\n        });\r\n    } else {\r\n        listdata.push({\r\n            name: v,\r\n            category: 0,\r\n            symbolSize: 100,\r\n            draggable: true\r\n        })\r\n    }\r\n});\r\nlistdata.splice(6, 1, {\r\n    name: '注册',\r\n    category: 1,\r\n    symbolSize: 80,\r\n    label: {\r\n        formatter: '{b}',\r\n        fontSize: 16,\r\n        color: '#d86824'\r\n    },\r\n    itemStyle: {\r\n        color: {\r\n            type: 'radial',\r\n            r: 0.9,\r\n            colorStops: [{\r\n                offset: 0,\r\n                color: '#0c1746'\r\n            }, {\r\n                offset: 1,\r\n                color: '#d86824'\r\n            }]\r\n        },\r\n        borderColor: '#d86824',\r\n        borderWidth: 1\r\n    }\r\n});\r\nlistdata.splice(25, 1, {\r\n    value: '国家\\n市级',\r\n    category: 2,\r\n    symbolSize: 60,\r\n    label: {\r\n        formatter: '{c}',\r\n        fontSize: 14,\r\n        color: '#d86824'\r\n    },\r\n    itemStyle: {\r\n        color: {\r\n            type: 'radial',\r\n            r: 0.9,\r\n            colorStops: [{\r\n                offset: 0,\r\n                color: '#0c1746'\r\n            }, {\r\n                offset: 1,\r\n                color: '#d86824'\r\n            }]\r\n        },\r\n        borderColor: '#d86824',\r\n        borderWidth: 1\r\n    }\r\n});\r\n//console.log(listdata)\r\n\r\noption = {\r\n    backgroundColor: '#0a1247',\r\n    title: {\r\n        text: '关系图',\r\n        x: 0,\r\n        y: 'top',\r\n        textStyle: {\r\n            fontSize: 16,\r\n            fontFamily: 'Microsoft YaHei',\r\n            color: '#fff' // 主标题文字颜色\r\n        }\r\n    },\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    animationDurationUpdate: 1500,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    series: [{\r\n        type: 'graph',\r\n        layout: 'force', // circular | force | none\r\n        circular: {\r\n            rotateLabel: true\r\n        },\r\n        force: {\r\n            repulsion: 300, //斥力,值越大则斥力越大\r\n            gravity: 0, //重力\r\n            edgeLength: [0, 0],\r\n            layoutAnimation: true, //默认动态为true\r\n        },\r\n        symbol: 'circle', // 节点标记类型\r\n        symbolSize: 70,\r\n        focusNodeAdjacency: true, // 鼠标经过节点是否突出显示\r\n        edgeSymbol: ['circle', 'none'],\r\n        edgeSymbolSize: [0, 0],\r\n        edgeLabel: {\r\n            show: false\r\n        },\r\n        roam: true, // 是否开启鼠标平移\r\n        draggable: true, // 节点是否可拖拽\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'inside',\r\n                textStyle: {\r\n                    fontSize: 14,\r\n                    color: '#54f7ff'\r\n                },\r\n            }\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: .7,\r\n                color: '#54f7ff',\r\n                width: 2,\r\n                curveness: 0\r\n            }\r\n        },\r\n        itemStyle: {\r\n            opacity: .7,\r\n            normal: {\r\n                color: {\r\n                    type: 'radial',\r\n                    r: 0.9,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#0c1746'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#54f7ff'\r\n                    }]\r\n                },\r\n                borderColor: '#54f7ff',\r\n                borderWidth: 1\r\n            }\r\n        },\r\n        categories: [{ // 节点分类\r\n            name: 'root',\r\n            label: {\r\n                formatter: '{b}',\r\n                fontSize: 20,\r\n                color: '#ffec19'\r\n            },\r\n            itemStyle: {\r\n                color: {\r\n                    type: 'radial',\r\n                    r: 0.9,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#0c1746'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#ffec19'\r\n                    }]\r\n                },\r\n                borderColor: '#ffec19',\r\n                borderWidth: 1\r\n            }\r\n        }, {\r\n            name: 'child',\r\n            label: {\r\n                formatter: '{b}',\r\n                fontSize: 16,\r\n                color: '#54f7ff'\r\n            },\r\n            itemStyle: {\r\n                color: {\r\n                    type: 'radial',\r\n                    r: 0.9,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#0c1746'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#54f7ff'\r\n                    }]\r\n                },\r\n                borderColor: '#54f7ff',\r\n                borderWidth: 1\r\n            }\r\n        }, {\r\n            name: 'grandson',\r\n            label: {\r\n                formatter: '{c}',\r\n                fontSize: 12,\r\n                color: '#69a1ff'\r\n            },\r\n            itemStyle: {\r\n                color: {\r\n                    type: 'radial',\r\n                    r: 0.9,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#0c1746'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#69a1ff'\r\n                    }]\r\n                },\r\n                borderColor: '#69a1ff',\r\n                borderWidth: 1\r\n            }\r\n        }],\r\n        data: listdata, // 数据\r\n        links: [{ // 节点间关系数据 - 数字表示源节点的索引\r\n            source: 0,\r\n            target: 1\r\n        }, {\r\n            source: 0,\r\n            target: 2\r\n        }, {\r\n            source: 0,\r\n            target: 3\r\n        }, {\r\n            source: 0,\r\n            target: 4\r\n        }, {\r\n            source: 0,\r\n            target: 5\r\n        }, {\r\n            source: 0,\r\n            target: 6\r\n\r\n        }, {\r\n            source: 0,\r\n            target: 7\r\n        }, {\r\n            source: 0,\r\n            target: 8\r\n\r\n        }, {\r\n            source: 0,\r\n            target: 9\r\n        }, {\r\n            source: 0,\r\n            target: 10\r\n        }, {\r\n            source: 0,\r\n            target: 11\r\n        }, {\r\n            source: 0,\r\n            target: 12\r\n        }, {\r\n            source: 0,\r\n            target: 13\r\n        }, {\r\n            source: 0,\r\n            target: 14\r\n        }, {\r\n            source: 0,\r\n            target: 15\r\n        }, {\r\n            source: 0,\r\n            target: 16\r\n        }, {\r\n            source: 0,\r\n            target: 17\r\n        }, {\r\n            source: 0,\r\n            target: 18\r\n        }, {\r\n            source: 0,\r\n            target: 19\r\n        }, {\r\n            source: 1,\r\n            target: 20,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 2,\r\n            target: 21,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 3,\r\n            target: 22,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 4,\r\n            target: 23,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 5,\r\n            target: 24,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 6,\r\n            target: 25,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 7,\r\n            target: 26,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 8,\r\n            target: 27,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 9,\r\n            target: 28,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 10,\r\n            target: 29,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 11,\r\n            target: 30,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 12,\r\n            target: 31,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 13,\r\n            target: 32,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 14,\r\n            target: 33,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 15,\r\n            target: 34\r\n        }, {\r\n            source: 16,\r\n            target: 35,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 17,\r\n            target: 36,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 18,\r\n            target: 37,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n        }, {\r\n            source: 19,\r\n            target: 38,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#69a1ff'\r\n                }\r\n            }\r\n\r\n        }]\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-4161428444","theme":"","layout":"","viewCount":5559,"userName":"b***n","commentCount":0,"starCount":17,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLASVWOcH.png?v=1599750285528","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","title","tooltip"],"customTags":[],"updaterUserName":"b***n"}}