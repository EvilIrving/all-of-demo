{"status":0,"data":{"cid":"xH1MdWM4Ke","authorUid":"bd-1881559225","authorUserName":"roychenyi","title":"通过函数控制饼图生成","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2017-02-17T06:00:10.000Z","lastUpdateTime":"2017-02-17T06:00:10.000Z","auth":2,"uid":"bd-1881559225","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"3.4.0","versionCreateTime":"2017-02-17T08:19:47.000Z","code":"var data = [1, 2, 3, 4, 5, 6, 7, 8,9,10,11,12,13,14,15];\r\n\r\nfunction series(data) {\r\n    var s1 = [\r\n        {\r\n            name:'Line 1',\r\n            type:'pie',\r\n            clockWise:false,\r\n             radius:['22%','23%'],\r\n            center:['50%','10%'],\r\n            itemStyle : {normal:{\r\n                label: {show:false},\r\n                labelLine: {show:false},}},\r\n            hoverAnimation: false,\r\n            label:{\r\n              show:false  \r\n            },\r\n            data:[\r\n                {\r\n                    value:300,\r\n                    name:'01'\r\n                }/*,\r\n                {\r\n                    value:50,\r\n                    name:'invisible',\r\n                    itemStyle : placeHolderStyle\r\n                }*/\r\n         \r\n            ]\r\n        }, \r\n        {\r\n            type: 'pie',\r\n            radius:['20%','22%'],\r\n            center:['50%','10%'],\r\n            label: {\r\n                normal: {\r\n                    position: 'center',\r\n                    textStyle: {\r\n                        color: '#c23531',\r\n                        //         fontSize:10\r\n                    },\r\n                    formatter: '{b}'\r\n\r\n                }\r\n            },\r\n            data: [{\r\n                name: '占有率',\r\n                value: 1 - 0.2,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#d4d0c7'\r\n                            //        shadowBlur: 10,\r\n                            //          shadowColor\r\n                    }\r\n                }\r\n            }, {\r\n                name: 20 + '%',\r\n                value: 0.2,\r\n                itemStyle: {\r\n                    normal: {\r\n                        //  color: 'transparent'\r\n                        //        color:color1\r\n                    }\r\n                }\r\n            }]\r\n        }];\r\n    var height = 80 / (data.length%2==1?data.length+1:data.length);\r\n    var radius=[];\r\n       radius.push(height*2-3+'%');\r\n       radius.push(height*2+'%');\r\n    for (var i = 0; i < data.length; i++) {\r\n        var center = [];\r\n        var x, y;\r\n        x = 25 + 50 * (i % 2);\r\n        y = parseInt(i / 2) * height * 2 + height+20;\r\n        center.push(x + '%');\r\n        center.push(y + '%');\r\n        var colorNum;\r\n        do {\r\n            colorNum = parseInt(16777515 * Math.random());\r\n        } while (colorNum < 13947179);\r\n        var color1 = '#' + colorNum.toString(16);\r\n        console.log(color1);\r\n        var s = {\r\n            type: 'pie',\r\n            radius:radius,\r\n            center: center,\r\n            label: {\r\n                normal: {\r\n                    position: 'center',\r\n                    textStyle: {\r\n                        color: '#c23531',\r\n                        //         fontSize:10\r\n                    },\r\n                    formatter: '{b}'\r\n\r\n                }\r\n            },\r\n            data: [{\r\n                name: '占有率',\r\n                value: 1 - data[i] / 20,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#d4d0c7'\r\n                            //        shadowBlur: 10,\r\n                            //          shadowColor\r\n                    }\r\n                }\r\n            }, {\r\n                name: data[i] / 20 * 100 + '%',\r\n                value: data[i] / 20,\r\n                itemStyle: {\r\n                    normal: {\r\n                        //  color: 'transparent'\r\n                        //        color:color1\r\n                    }\r\n                }\r\n            }]\r\n        };\r\n        s1.push(s);\r\n    }\r\n    return s1;\r\n};\r\noption = {\r\n    title: {\r\n        text: \"测试\"\r\n    },\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    toolbox: {\r\n        show: false\r\n    },\r\n    legend: {\r\n        show: false\r\n    },\r\n    series: series(data)\r\n\r\n};","html":"","externalScripts":"","updaterUID":"bd-1881559225","theme":"","layout":"","viewCount":1791,"userName":"roychenyi","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1MdWM4Ke.png?v=1487319587526","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"roychenyi"}}