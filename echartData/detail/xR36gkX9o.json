{"status":0,"data":{"cid":"xR36gkX9o","authorUid":"bd-3087274484","authorUserName":"x***t","title":"新冠肺炎20200219全国统计","description":"新冠肺炎20200219全国统计","latestVersion":5,"alwaysLatest":1,"createTime":"2020-02-20T04:28:44.000Z","lastUpdateTime":"2020-02-20T04:28:44.000Z","auth":1,"uid":"bd-3087274484","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-24T13:46:24.000Z","code":"var name_title = '新冠肺炎20200220全国统计';\nvar subname = '数据爬取国家疾控中心';\nvar nameColor = ' rgb(55, 75, 113)';\nvar name_fontFamily = '等线';\nvar subname_fontSize = 15;\nvar name_fontSize = 18;\nvar mapName = 'china';\nvar data = [\n { name: '北京', value: 396 },\n { name: '天津', value: 131 },\n { name: '河北', value: 308 },\n { name: '山西', value: 132 },\n { name: '内蒙古', value: 75 },\n { name: '辽宁', value: 121 },\n { name: '吉林', value: 91 },\n { name: '黑龙江', value: 479 },\n { name: '上海', value: 334 },\n { name: '江苏', value: 631 },\n { name: '浙江', value: 1203 },\n { name: '安徽', value: 988 },\n { name: '福建', value: 293 },\n { name: '江西', value: 934 },\n { name: '山东', value: 748 },\n { name: '河南', value: 1267 },\n { name: '湖北', value: 62662 },\n { name: '湖南', value: 1011 },\n { name: '广东', value: 1333 },\n { name: '广西', value: 246 },\n { name: '海南', value: 168 },\n { name: '重庆', value: 567 },\n { name: '四川', value: 525 },\n { name: '贵州', value: 146 },\n { name: '云南', value: 174 },\n { name: '西藏', value: 1 },\n { name: '陕西', value: 245 },\n { name: '甘肃', value: 91 },\n { name: '青海', value: 18 },\n { name: '宁夏', value: 71 },\n { name: '新疆', value: 76 },\n { name: '台湾', value: 24 },\n { name: '香港', value: 68 },\n { name: '澳门', value: 10 },\n];\n\nvar geoCoordMap = {};\nvar toolTipData = [\n {\n  name: '北京',\n  value: [\n   { name: '确诊', value: 396 },\n   { name: '疑似', value: 114 },\n   { name: '死亡', value: 4 },\n  ],\n },\n {\n  name: '天津',\n  value: [\n   { name: '确诊', value: 131 },\n   { name: '疑似', value: 173 },\n   { name: '死亡', value: 3 },\n  ],\n },\n {\n  name: '河北',\n  value: [\n   { name: '确诊', value: 308 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 5 },\n  ],\n },\n {\n  name: '山西',\n  value: [\n   { name: '确诊', value: 132 },\n   { name: '疑似', value: 11 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '内蒙古',\n  value: [\n   { name: '确诊', value: 75 },\n   { name: '疑似', value: 16 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '辽宁',\n  value: [\n   { name: '确诊', value: 121 },\n   { name: '疑似', value: 77 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '吉林',\n  value: [\n   { name: '确诊', value: 91 },\n   { name: '疑似', value: 18 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '黑龙江',\n  value: [\n   { name: '确诊', value: 479 },\n   { name: '疑似', value: 1 },\n   { name: '死亡', value: 12 },\n  ],\n },\n {\n  name: '上海',\n  value: [\n   { name: '确诊', value: 334 },\n   { name: '疑似', value: 107 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '江苏',\n  value: [\n   { name: '确诊', value: 631 },\n   { name: '疑似', value: 12 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '浙江',\n  value: [\n   { name: '确诊', value: 1203 },\n   { name: '疑似', value: 26 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '安徽',\n  value: [\n   { name: '确诊', value: 988 },\n   { name: '疑似', value: 7 },\n   { name: '死亡', value: 6 },\n  ],\n },\n {\n  name: '福建',\n  value: [\n   { name: '确诊', value: 293 },\n   { name: '疑似', value: 6 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '江西',\n  value: [\n   { name: '确诊', value: 934 },\n   { name: '疑似', value: 2 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '山东',\n  value: [\n   { name: '确诊', value: 748 },\n   { name: '疑似', value: 30 },\n   { name: '死亡', value: 4 },\n  ],\n },\n {\n  name: '河南',\n  value: [\n   { name: '确诊', value: 1267 },\n   { name: '疑似', value: 103 },\n   { name: '死亡', value: 19 },\n  ],\n },\n {\n  name: '湖北',\n  value: [\n   { name: '确诊', value: 62662 },\n   { name: '疑似', value: 4094 },\n   { name: '死亡', value: 2144 },\n  ],\n },\n {\n  name: '湖南',\n  value: [\n   { name: '确诊', value: 1011 },\n   { name: '疑似', value: 7 },\n   { name: '死亡', value: 4 },\n  ],\n },\n {\n  name: '广东',\n  value: [\n   { name: '确诊', value: 1333 },\n   { name: '疑似', value: 1 },\n   { name: '死亡', value: 5 },\n  ],\n },\n {\n  name: '广西',\n  value: [\n   { name: '确诊', value: 246 },\n   { name: '疑似', value: 67 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '海南',\n  value: [\n   { name: '确诊', value: 168 },\n   { name: '疑似', value: 59 },\n   { name: '死亡', value: 4 },\n  ],\n },\n {\n  name: '重庆',\n  value: [\n   { name: '确诊', value: 567 },\n   { name: '疑似', value: 71 },\n   { name: '死亡', value: 6 },\n  ],\n },\n {\n  name: '四川',\n  value: [\n   { name: '确诊', value: 525 },\n   { name: '疑似', value: 56 },\n   { name: '死亡', value: 3 },\n  ],\n },\n {\n  name: '贵州',\n  value: [\n   { name: '确诊', value: 146 },\n   { name: '疑似', value: 11 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '云南',\n  value: [\n   { name: '确诊', value: 174 },\n   { name: '疑似', value: 58 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '西藏',\n  value: [\n   { name: '确诊', value: 1 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '陕西',\n  value: [\n   { name: '确诊', value: 245 },\n   { name: '疑似', value: 46 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '甘肃',\n  value: [\n   { name: '确诊', value: 91 },\n   { name: '疑似', value: 1 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '青海',\n  value: [\n   { name: '确诊', value: 18 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '宁夏',\n  value: [\n   { name: '确诊', value: 71 },\n   { name: '疑似', value: 21 },\n   { name: '死亡', value: 0 },\n  ],\n },\n {\n  name: '新疆',\n  value: [\n   { name: '确诊', value: 76 },\n   { name: '疑似', value: 11 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '台湾',\n  value: [\n   { name: '确诊', value: 24 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 1 },\n  ],\n },\n {\n  name: '香港',\n  value: [\n   { name: '确诊', value: 68 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 2 },\n  ],\n },\n {\n  name: '澳门',\n  value: [\n   { name: '确诊', value: 10 },\n   { name: '疑似', value: 0 },\n   { name: '死亡', value: 0 },\n  ],\n },\n];\n\n/*获取地图数据*/\nmyChart.showLoading();\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\nmyChart.hideLoading();\nmapFeatures.forEach(function (v) {\n // 地区名称\n var name = v.properties.name;\n // 地区经纬度\n geoCoordMap[name] = v.properties.cp;\n});\n\n// console.log(\"============geoCoordMap===================\")\n// console.log(geoCoordMap)\n// console.log(\"================data======================\")\nconsole.log(data);\nconsole.log(toolTipData);\nvar max = 6000,\n min = 9; // todo\nvar maxSize4Pin = 35,\n minSize4Pin = 30;\n\nvar convertData = function (data) {\n var res = [];\n for (var i = 0; i < data.length; i++) {\n  var geoCoord = geoCoordMap[data[i].name];\n  if (geoCoord) {\n   res.push({\n    name: data[i].name,\n    value: geoCoord.concat(data[i].value),\n   });\n  }\n }\n return res;\n};\noption = {\n title: {\n  text: name_title,\n  subtext: subname,\n  x: 'center',\n  textStyle: {\n   color: nameColor,\n   fontFamily: name_fontFamily,\n   fontSize: name_fontSize,\n  },\n  subtextStyle: {\n   fontSize: subname_fontSize,\n   fontFamily: name_fontFamily,\n  },\n },\n tooltip: {\n  trigger: 'item',\n  formatter: function (params) {\n   if (typeof params.value[2] == 'undefined') {\n    var toolTiphtml = '';\n    for (var i = 0; i < toolTipData.length; i++) {\n     if (params.name == toolTipData[i].name) {\n      toolTiphtml += toolTipData[i].name + ':<br>';\n      for (var j = 0; j < toolTipData[i].value.length; j++) {\n       toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + '<br>';\n      }\n     }\n    }\n    console.log(toolTiphtml);\n    // console.log(convertData(data))\n    return toolTiphtml;\n   } else {\n    var toolTiphtml = '';\n    for (var i = 0; i < toolTipData.length; i++) {\n     if (params.name == toolTipData[i].name) {\n      toolTiphtml += toolTipData[i].name + ':<br>';\n      for (var j = 0; j < toolTipData[i].value.length; j++) {\n       toolTiphtml += toolTipData[i].value[j].name + ':' + toolTipData[i].value[j].value + '<br>';\n      }\n     }\n    }\n    console.log(toolTiphtml);\n    // console.log(convertData(data))\n    return toolTiphtml;\n   }\n  },\n },\n // legend: {\n //     orient: 'vertical',\n //     y: 'bottom',\n //     x: 'right',\n //     data: ['credit_pm2.5'],\n //     textStyle: {\n //         color: '#fff'\n //     }\n // },\n visualMap: {\n  show: true,\n  min: 1,\n  max: 1300,\n  left: 'left',\n  top: 'bottom',\n  text: ['高', '低'], // 文本，默认为数值文本\n  calculable: true,\n  seriesIndex: [1],\n  inRange: {\n   // color: ['#3B5077', '#031525'] // 蓝黑\n   // color: ['#ffc0cb', '#800080'] // 红紫\n   // color: ['#3C3B3F', '#605C3C'] // 黑绿\n   // color: ['#0f0c29', '#302b63', '#24243e'] // 黑紫黑\n   //color: ['#23074d', '#cc5333'] // 紫红\n   //color: ['#00467F', '#A5CC82'] // 蓝绿\n   color: ['#1710c0', '#0b9df0', '#74add1', '#abd9e9', '#00fea8', '#00ff0d', '#f5f811', '#f09a09'], // 浅蓝\n   // color: ['#00467F', '#A5CC82'] // 蓝绿\n   // color: ['#00467F', '#A5CC82'] // 蓝绿\n   // color: ['#00467F', '#A5CC82'] // 蓝绿\n   // color: ['#00467F', '#A5CC82'] // 蓝绿\n  },\n },\n /*工具按钮组*/\n toolbox: {\n  show: true,\n  orient: 'vertical',\n  left: 'right',\n  top: 'center',\n  feature: {\n   saveAsImage: {},\n  },\n },\n geo: {\n  show: true,\n  map: mapName,\n  label: {\n   normal: {\n    show: false,\n   },\n   emphasis: {\n    show: false,\n   },\n  },\n  roam: true,\n  itemStyle: {\n   normal: {\n    areaColor: '#031525',\n    borderColor: '#3B5077',\n   },\n   emphasis: {\n    areaColor: '#2B91B7',\n   },\n  },\n },\n series: [\n  {\n   name: '散点',\n   type: 'scatter',\n   coordinateSystem: 'geo',\n   data: convertData(data),\n   symbolSize: function (val) {\n    if (val[2] > 1000) {\n     return val[2] / 1000;\n    } else {\n     return val[2] / 50;\n    }\n   },\n   label: {\n    normal: {\n     formatter: '{b}',\n     position: 'right',\n     show: true,\n    },\n    emphasis: {\n     show: true,\n    },\n   },\n   itemStyle: {\n    normal: {\n     color: '#05C3F9',\n    },\n   },\n  },\n  {\n   type: 'map',\n   map: mapName,\n   geoIndex: 0,\n   aspectScale: 0.75, //长宽比\n   showLegendSymbol: false, // 存在legend时显示\n   label: {\n    normal: {\n     show: true,\n    },\n    emphasis: {\n     show: false,\n     textStyle: {\n      color: '#fff',\n     },\n    },\n   },\n   roam: true,\n   itemStyle: {\n    normal: {\n     areaColor: '#031525',\n     borderColor: '#3B5077',\n    },\n    emphasis: {\n     areaColor: '#2B91B7',\n    },\n   },\n   animation: false,\n   data: data,\n  },\n  {\n   name: '点',\n   type: 'scatter',\n   coordinateSystem: 'geo',\n   symbol: 'pin', //气泡\n   symbolSize: function (val) {\n    var a = (maxSize4Pin - minSize4Pin) / (max - min);\n    var b = minSize4Pin - a * min;\n    b = maxSize4Pin - a * max;\n    return a * val[2] + b;\n   },\n   label: {\n    normal: {\n     formatter: function (obj) {\n      return obj.data.value[2];\n     },\n     show: true,\n     textStyle: {\n      color: '#fff',\n      fontSize: 9,\n     },\n    },\n   },\n   itemStyle: {\n    normal: {\n     color: '#F62157', //标志颜色\n    },\n   },\n   zlevel: 6,\n   data: convertData(data),\n  },\n  {\n   name: 'Top 5',\n   type: 'effectScatter',\n   coordinateSystem: 'geo',\n   data: convertData(\n    data\n     .sort(function (a, b) {\n      return b.value - a.value;\n     })\n     .slice(0, 5)\n   ),\n   symbolSize: function (val) {\n    if (val[2] > 1000) {\n     return val[2] / 3000;\n    } else {\n     return val[2] / 10;\n    }\n   },\n   showEffectOn: 'render',\n   rippleEffect: {\n    brushType: 'stroke',\n   },\n   hoverAnimation: true,\n   label: {\n    normal: {\n     formatter: '{b}',\n     position: 'right',\n     show: true,\n    },\n   },\n   itemStyle: {\n    normal: {\n     color: 'yellow',\n     shadowBlur: 10,\n     shadowColor: 'yellow',\n    },\n   },\n   zlevel: 1,\n  },\n ],\n};\nmyChart.setOption(option);\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-oML8txmyoU7d32j0KUJEfhqUyKBR12H","theme":"","layout":"","viewCount":3301,"userName":"x***t","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xR36gkX9o.png?v=1621863984491","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"M***y"}}