{"status":0,"data":{"cid":"xSFQ-NwlZz","authorUid":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","authorUserName":"叫***e","title":"动态数据显示","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-01T05:00:52.000Z","lastUpdateTime":"2021-12-01T05:00:52.000Z","auth":2,"uid":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-01T05:00:52.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1638332833567-cWIwApby_.png\";\n\nvar uploadedDataURL1 = \"/asset/get/s/data-1638332824787-pXsHCwAOT.png\";\n\nvar uploadedDataURL2 = \"/asset/get/s/data-1638332788612-6P0Mjz5dk.png\";\n\nvar datas = {\n    countArr: [5, 20, 10,75],\n\tnameArr: [\"中断\", \"空闲\", \"忙碌\", \"停用\"],\n\tperArr:[5, 20, 10,75]\n}\nlet currentValue = datas.perArr[0];\n\tvar height = document.body.clientHeight;\n\tvar pointerLength = \"60%\";\n\tvar group = [{left: '22.5%',top: '50%'},{ left: '33%',top: '32%'},\n\t             { left: '59%',top: '32%'},{ left: '69%', top: '50%'}\n\t             ]\n\tvar titleText = `{a|${datas.nameArr[0]}}\\n{b|${datas.perArr[0]}}{c|%}\\n{d|${datas.countArr[0]}}`\n\tvar centerTop = \"46%\";\n\tvar radiusArr = ['90%','80%'];\n\tvar centerArr =[\"50%\", \"65%\"];\n\tvar elementsArr = [{\n    \tz:300,\n        type: \"image\",\n        style: {\n            image:uploadedDataURL2,\n            width:313,\n            height: 210\n        },\n       left: 'center',\n        top: centerTop,\n    }]\n\t\n\tdatas.nameArr.forEach( function(item,index){\n\t\tvar imgUrl = uploadedDataURL1;\n\t\tvar colorText = \"#00FCFF\"\n\t\tif(index==0){\n\t\t\timgUrl = uploadedDataURL;\n\t\t\tcolorText = \"#FFFFFF\"\n\t\t}\n\t\telementsArr.push(\n\t\t\t{\n\t        \ttype:\"group\",\n\t        \t left: group[index].left,\n\t\t         top: group[index].top,\n\t\t         width: 96,\n\t              height: 96,\n\t        \tchildren:[ {\n\t\t            type: 'image',\n\t\t            style: {\n\t\t              image: imgUrl, // 你的图片地址\n\t\t              width: 96,\n\t\t              height: 96,\n\t\t              color: '#fff',\n\t\t              textAlign: 'center' ,\n\t\t            }\n\t        \t},\n\t\t            {\n\t\t                type: 'text',\n\t\t                style: {\n\t\t                  text: datas.countArr[index],\n\t\t                  fill: colorText,\n\t\t                  fontSize: 35,\n\t\t                  fontFamily: 'FZLanTingHei-B-GBK',\n\t\t                  fontWeight: 400,\n\t\t                  x:28,y:20,\n\t\t                }\n\t\t              },\n\t\t              {\n\t\t\t                type: 'text',\n\t\t\t                style: {\n\t\t\t                  text: datas.nameArr[index],\n\t\t\t                  fill: '#fff',\n\t\t\t                  fontSize: 25,\n\t\t\t                  fontFamily: 'FZLanTingHei-B-GBK',\n\t\t\t                  fontWeight: 400,\n\t\t\t                  x:28,y:60,\n\t\t\t                \n\t\t\t                }\n\t\t\t              }\n\t\t          \n\t\t          ]\n\t        }\n\t\t)\n\t})\n\t\noption = {\n backgroundColor:\"#000000\",\n\t\t\t graphic: {\n\t\t        elements:elementsArr\n\t\t    },\n\t\t    title: {\n\t\t        text:titleText,\n\t\t        x: 'center',\n\t\t        y: '47%',\n\t\t        z:400,\n\t\t        textStyle: {\n\t\t            rich: {\n\t\t                a: {\n\t\t                    fontSize: 20,\n\t\t                    color: '#0E6CFE',\n\t\t                    fontWeight:\"bold\",\n\t\t                      padding: [0, 0, 20, 0]\n\t\t                },\n\t\t                b: {\n\t\t                    fontSize: 70,\n\t\t                    color:\"#ffffff\",\n\t\t                    padding: [0, 0, 10, 0]\n\t\t                },\n\t\t                c: {\n\t\t                    fontSize: 28,\n\t\t                    color:\"#ffffff\",\n\t\t                    padding: [0, 0, 0, 10]\n\t\t                },\n\t\t                d: {\n\t\t                    fontSize: 30,\n\t\t                    color: '#0E6CFE',\n\t\t                    fontWeight:\"bold\",\n\t\t                   \n\t\t                }\n\t\t            }\n\t\t        }\n\t\t    },\n\t\t    series: [{\n\t\t        name: \"外围锯齿刻度\",\n\t\t        z:100,\n\t\t        type: \"gauge\",\n\t\t        center: centerArr,\n\t\t        radius: radiusArr[0],\n\t\t        min: 0, //最小刻度\n\t\t        max: 100, //最大刻度\n\t\t        startAngle: 180 + 15,\n\t\t        endAngle: 0 - 15,\n\t\t        axisLine: {\n\t\t         z:5,\n\t\t        \tshow:true,\n\t\t            lineStyle: {\n\t\t                color: [\n\t                            [\n\t                             currentValue/ 100,\n\t                             new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n\t                                     offset: 0,\n\t                                     color: \"rgba(255, 23, 23, 1)\"\n\t                                 },\n\t                                 {\n\t                                     offset: 1,\n\t                                     color: \"rgba(0, 234, 255, 1)\"\n\t                                 }\n\t                                \n\t                             ])\n\t                         ],  [1, '#2341AA'],\n\t                     ],\n\t\t                width:25,\n\t\t               \n\t\t            }\n\t\t        },\n\t\t        axisLabel: {\n\t\t            show: false,\n\t\t        },\n\t\t        axisTick: {\n\t                show: false,\n\t            },\n\t\t        splitLine: {\n\t\t          z:4,\n\t\t            show: true,\n\t\t            length: 25,\n\t\t             distance:-25,\n\t\t            lineStyle: {\n\t\t             \n\t\t                width: 10,\n\t\t                color: '#080137',\n\t\t                shadowColor: 'rgba(21,42,164, 0.5)',\n\t\t                shadowBlur: 100\n\t\t            }\n\t\t        },\n\t\t        splitNumber: 60,\n\t\t        detail: {\n\t\t            show: false,\n\t\t        },\n\t\t        pointer: {\n                   show:true,\n                   length: pointerLength,\n\t                width: 10,\n\t                itemStyle:{\n\t                \tnormal:{\n\t                \t\tcolor:\"#00FCFF\"\n\t                \t}\n\t                }\n\t                \n                    \n                },\n                data:[{value:currentValue}]\n               \n\t\t    },{\n\t\t    \t name: '遮罩',\n\t\t    \t z:50,\n\t\t            tooltip:{\n\t\t                show:false\n\t\t            },\n\t\t            type: 'pie',\n\t\t            radius: '50%',\n\t\t            center:centerArr, // 默认全局居中\n\t\t            hoverAnimation:false,\n\t\t            itemStyle:{\n\t\t                normal:{\n\t\t                    color: \"#000000\"\n\t\t                },\n\t\t                emphasis:{\n\t\t                    color: '#000000'\n\t\t                }\n\t\t            },\n\t\t            labelLine:{\n\t\t                normal:{\n\t\t                    show:false\n\t\t                }\n\t\t            },\n\t\t            animation:false,\n\t\t            data: [50]\n\t\t    },{\n                name: '面积',\n                type: \"gauge\",\n                radius:radiusArr[1],\n                center: centerArr,\n                startAngle: 180 + 15,\n                endAngle: 0 - 15,\n                min: 0,\n                max: 100,\n                axisLine: {\n                    show: true,\n                    lineStyle: {\n                        width: 500,\n                        color: [\n                            [\n                                1,\n                                new echarts.graphic.LinearGradient(0,1, 1, 1, [{\n                                        offset: 0,\n                                        color: \"rgba(63,134,255, 0)\"\n                                    },\n                                    {\n                                        offset: 0.2,\n                                        color: \"rgba(63,134,255, 0.5)\"\n                                    },\n                                    {\n                                        offset: 0.5,\n                                        color: \"rgba(63,134,255, 0.3)\"\n                                    },\n                                    {\n                                        offset: 0.8,\n                                        color: \"rgba(63,134,255, 0.5)\"\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: \"rgba(63,134,255, 0)\"\n                                    }\n                                ])\n                            ]\n                        ]\n                    }\n                },\n                axisTick: {\n                    show: 0\n                },\n                splitLine: {\n                    show: 0\n                },\n                axisLabel: {\n                    show: 0\n                },\n                pointer: {\n                    show: false,\n                    \n                 \n                },\n                detail: {\n                    show: false\n                },\n                data:[{value:currentValue}]\n              \n               \n            },\n           \n            \n\t\t    ]\n\t\t} \n\t\tvar currentIndex = 0;\n\t\t\n\t\t    var timeTicket = setInterval(function() {\n\t\t\t        \tif(currentIndex == 3){\n\t\t\t        \t\tcurrentIndex = 0\n\t\t\t        \t}else{\n\t\t\t        \t\tcurrentIndex += 1;\n\t\t\t        \t}\n\t\t\t        \tvar elementsArr = option.graphic.elements;\n\t\t\t        \t\n\t\t\t        \telementsArr.forEach(function(item,index){\n\t\t\t        \t\tif(elementsArr[index].children){\n\t\t\t        \t\t\telementsArr[index].children[0].style.image=uploadedDataURL1\t;\n\t\t\t        \t\t\telementsArr[index].children[1].style.fill = \"#00FCFF\" \n\t\t\t        \t\t}\n\t\t\t        \t})\n\t\t        \t\telementsArr[currentIndex+1].children[0].style.image=uploadedDataURL;\n\t\t        \t\telementsArr[currentIndex+1].children[1].style.fill = \"#FFFFFF\" \n\t\t        \t\toption.graphic.elements = elementsArr;\n\t\t\t        \toption.title.text = `{a|${datas.nameArr[currentIndex]}}\\n{b|${datas.perArr[currentIndex]}}{c|%}\\n{d|${datas.countArr[currentIndex]}}`\n\t\t\t        \tconsole.log(option.title)\n\t\t\t        \toption.series[0].data[0].value = datas.perArr[currentIndex];\n\t\t\t        \toption.series[0].axisLine.lineStyle.color[0][0] = datas.perArr[currentIndex]/ 100;\n\t\t\t        \t\n\t\t\t        \tmyChart.setOption(option,true)\n\t\t\t        },1000 * 3)","html":"","externalScripts":"","updaterUID":"obd-o2Uq48DS8VVe30Eo4Mzq2csfOGk3560","theme":"dark","layout":"","viewCount":0,"userName":"叫***e","commentCount":0,"starCount":14,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSFQ-NwlZz.png?v=1638334852942","isCustomThumbnail":0,"builtinTags":["category-work","graphic","series-gauge","series-pie","title"],"customTags":[],"updaterUserName":"叫***e"}}