{"status":0,"data":{"cid":"xrJLGYMT-b","authorUid":"bd-4265933866","authorUserName":"h***1","title":"广州人群来源","description":"","latestVersion":12,"alwaysLatest":1,"createTime":"2017-06-01T04:33:17.000Z","lastUpdateTime":"2017-06-01T04:33:17.000Z","auth":2,"uid":"bd-4265933866","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":12,"parentVersion":11,"echartsVersion":"3.8.0","versionCreateTime":"2018-02-01T13:00:39.000Z","code":"var geoCoordMap = {\r\n\t'广州': [113.5107,23.2196],\r\n\t'北京': [116.4551,40.2539],\t\t\t\t\r\n\t'天津': [117.4219,39.4189],\r\n\t'上海': [121.4648,31.2891],\r\n\t'重庆': [106.557165,29.563206],\r\n\t'河北': [114.508958,38.066606],\r\n\t'河南': [113.673367,34.748062],\r\n\t'云南': [102.721896,25.047632],\r\n\t'辽宁': [123.445621,41.806698],\r\n\t'黑龙江': [126.655705,45.759581],\r\n\t'湖南': [112.950888,28.229114],\r\n\t'安徽': [117.300842,31.887672],\r\n\t'山东': [117.029895,36.677424],\r\n\t'新疆': [87.616327,43.800508],\r\n\t'江苏': [118.814345,32.061445],\r\n\t'浙江': [120.16991,30.272236],\r\n\t'江西': [115.904962,28.674132],\r\n\t'湖北': [114.290138,30.595623],\r\n\t'广西': [108.381781,22.815042],\r\n\t'甘肃': [103.851217,36.061978],\r\n\t'山西': [112.57197,37.879532],\r\n\t'内蒙古': [112.57197,37.879532],\r\n\t'陕西': [108.960062,34.285251],\r\n\t'吉林': [126.572746,43.86785],\r\n\t'福建': [119.319713,26.072564],\r\n\t'贵州': [106.557165,29.563206],\r\n\t'广东': [113.238778,23.161621],\r\n\t'青海': [101.787147,36.621234],\r\n\t'西藏': [91.154492,29.665953],\r\n\t'四川': [104.082256,30.652565],\r\n\t'宁夏': [106.234805,38.487468],\r\n\t'海南': [109.910757,19.108187],\r\n\t'台湾': [121.098613,23.778734],\r\n\t'香港': [114.168545,22.36641],\r\n\t'澳门': [113.549978,22.1943]\r\n};\r\n\r\nvar GZData = [\r\n    [{name: '北京',value:96}, {name:'广州'}],\r\n    [{name: '黑龙江',value:90}, {name:'广州'}],\r\n\t[{name: '内蒙古',value:66}, {name:'广州'}],\r\n\t[{name: '西藏',value:70}, {name:'广州'}],\r\n\t[{name: '陕西',value:94}, {name:'广州'}],\r\n\t[{name: '广西',value:79}, {name:'广州'}],\r\n\t[{name: '新疆',value:51}, {name:'广州'}],\r\n    [{name: '青海',value:67}, {name:'广州'}],\r\n    [{name: '海南',value:30}, {name:'广州'}],\r\n    [{name: '云南',value:56}, {name:'广州'}],\r\n\t[{name: '四川',value:96}, {name:'广州'}],\r\n\r\n\t[{name: '福建',value:74}, {name:'广州'}],\r\n//\t[{name: '宁夏',value:47}, {name:'广州'}],\r\n//\t[{name: '西藏',value:19}, {name:'广州'}],\t\r\n//\t[{name: '黑龙江',value:33}, {name:'广州'}],\r\n//\t[{name: '新疆',value:28}, {name:'广州'}],\r\n//\t[{name: '天津',value:11}, {name:'广州'}],\r\n//\t[{name: '上海',value:13}, {name:'广州'}],\r\n//\t[{name: '重庆',value:9}, {name:'广州'}],\r\n//\t[{name: '辽宁',value:46}, {name:'广州'}],\t\r\n//\t[{name: '安徽',value:88}, {name:'广州'}],\r\n//\t[{name: '山东',value:82}, {name:'广州'}],\r\n//\t[{name: '江苏',value:38}, {name:'广州'}],\r\n//\t[{name: '甘肃',value:23}, {name:'广州'}],\r\n//\t[{name: '山西',value:36}, {name:'广州'}],\r\n//\t[{name: '内蒙古',value:29}, {name:'广州'}],\r\n//\t[{name: '陕西',value:45}, {name:'广州'}],\r\n//\t[{name: '吉林',value:44}, {name:'广州'}],\r\n//\t[{name: '广东',value:59}, {name:'广州'}],\r\n//\t[{name: '青海',value:23}, {name:'广州'}],\r\n//\t[{name: '台湾',value:26}, {name:'广州'}],\r\n//\t[{name: '香港',value:27}, {name:'广州'}],\r\n//\t[{name: '澳门',value:13}, {name:'广州'}]\r\n\t\t\t\t\t\r\n];\r\n\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = geoCoordMap[dataItem[0].name];\r\n        var toCoord = geoCoordMap[dataItem[1].name];\r\n        if (fromCoord && toCoord) {\r\n            res.push([{\r\n                coord: fromCoord,\r\n                value: dataItem[0].value//来源或流向修改\r\n            }, {\r\n                coord: toCoord,\r\n            }]);\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n\r\nvar series = [];\r\n[['广州', GZData]].forEach(function (item, i) {\r\n    series.push(\r\n    {//线\r\n        name: item[2],\r\n        type: 'lines',\r\n        zlevel: 2,\r\n        symbol: ['none', 'arrow'], //'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow'线两端的标记类型\r\n        symbolSize : 5, //箭头大小\r\n        lineStyle: {\r\n            normal: {\r\n                width: 1,\r\n                opacity: 0.4,\r\n                curveness: 0.3\r\n            },\r\n\t\t},\r\n\t\teffect: {\r\n            show: true, //是否显示特效\r\n            period: 2,  //特效动画的时间，单位为 s\r\n            symbol:'pin', //特效图形的类型\r\n            constantSpeed: 100, //固定速度，大于0的值后会忽略 period 配置项\r\n            symbolSize: 5,\r\n            color: '#fff',\r\n            shadowBlur: 8\r\n        },\r\n        data: convertData(item[1])\r\n    },\r\n    {\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        rippleEffect: { //涟漪特效相关配置\r\n            period:'4', //动画的时间\r\n            scale:'20', //动画中波纹的最大缩放比例\r\n            brushType: 'stroke'\r\n        },\r\n        label: { //图形上的城市文本标签\r\n            normal: {\r\n                show: true,\r\n                position: 'right',\r\n                formatter: '{b}',\r\n                textStyle:{\r\n                    color:'#fff',\r\n\t\t\t\t\tfontStyle: 'normal',\r\n                    fontFamily: 'arial',\r\n                    fontSize: 12,\r\n                }\r\n            }\r\n        },\r\n        symbolSize: 3,//点大小\r\n        data: item[1].map(function (dataItem) {\r\n            return {\r\n                name: dataItem[0].name,//来源或流向修改\r\n                value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])//来源或流向修改\r\n            };\r\n        })\r\n    });\r\n});\r\n\r\noption = {\r\n    backgroundColor: '#23243a',\r\n    tooltip : {  //提示组件\r\n        trigger: 'item',\r\n    },\r\n    visualMap:{\r\n        min: 0,\r\n        max: 100,\r\n        //seriesIndex:['0','1'],//选择应用那几条数据\r\n        calculable: true,\r\n        color: ['#ff3333', 'orange', 'yellow', 'lime', 'aqua'],\r\n        textStyle: {\r\n            color: '#fff'\r\n        }\r\n    },\r\n    geo: {\r\n        map: 'china',\r\n        tooltip: {\r\n            show: true,\r\n            formatter: function(params) {\r\n            \tif(params.data.value!=null){\r\n\t            \treturn params.seriesName+\"<br/>\"+params.data.name+\":\"+params.data.value;\r\n            \t}else{\r\n            \t\treturn params.data.name\r\n            \t}\r\n            }\r\n        },\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        roam: false, //开启缩放或者平移\r\n        zoom: 1.1,  //缩放比例\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: 'none',\r\n                borderColor: 'rgba(100,149,237,1)'\r\n            },\r\n            emphasis: {\r\n                areaColor: '#1b1b1b'\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js,http://192.168.1.177:8080/CM/view/webapp/js/map/guangzhou.js?version=20171132","updaterUID":"bd-4265933866","theme":"","layout":"","viewCount":5142,"userName":"h***1","commentCount":0,"starCount":14,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJLGYMT-b.png?v=1517490039302","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","tooltip","visualMap"],"customTags":[],"updaterUserName":"h***1"}}