{"status":0,"data":{"cid":"xqb3xazVb3","authorUid":"bd-1896067372","authorUserName":"a***6","title":"5省+武汉市","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-06-11T04:05:10.000Z","lastUpdateTime":"2019-06-11T04:05:10.000Z","auth":2,"uid":"bd-1896067372","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-11T04:05:10.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1560225611131-bUPdSi0MX.json\";\n\n\n\n\n//var uploadedDataURL = \"/asset/get/s/data-1557130299866-ZFHZzyHqK.json\";\n\n\nvar util = {\n    //pollutionName 污染物名称,dateType 筛选类型\n    getlevelValueByPollution: function(pollutionName) {\n        var num0,\n            num1,\n            num2,\n            num3,\n            num4,\n            num5,\n            num6;\n        switch (pollutionName.toUpperCase()) {\n            case \"SO2\":\n                num0 = 0;\n                num1 = 75;\n                num2 = 150;\n                num3 = 500;\n                num4 = 650;\n                num5 = 800;\n                num6 = 1600\n                break;\n            case \"NO2\":\n                num0 = 0;\n                num1 = 50;\n                num2 = 100;\n                num3 = 200;\n                num4 = 700;\n                num5 = 1200;\n                num6 = 2340\n                break;\n            case \"CO\":\n                num0 = 0;\n                num1 = 2.5;\n                num2 = 5;\n                num3 = 10;\n                num4 = 35;\n                num5 = 60;\n                num6 = 90;\n                break;\n            case \"O3\":\n                num0 = 0;\n                num1 = 80;\n                num2 = 160;\n                num3 = 200;\n                num4 = 300;\n                num5 = 400;\n                num6 = 800;\n                break;\n            case \"PM10\":\n                num0 = 0;\n                num1 = 25;\n                num2 = 50;\n                num3 = 150;\n                num4 = 250;\n                num5 = 350;\n                num6 = 420;\n                break;\n            case \"PM25\":\n                num0 = 0;\n                num1 = 17.5;\n                num2 = 35;\n                num3 = 75;\n                num4 = 115;\n                num5 = 150;\n                num6 = 250;\n                break;\n            case \"AQI\":\n                num0 = 0;\n                num1 = 25;\n                num2 = 50;\n                num3 = 100;\n                num4 = 150;\n                num5 = 200;\n                num6 = 300;\n                break;\n            default:\n                break\n        }\n        return [\n            num0,\n            num1,\n            num2,\n            num3,\n            num4,\n            num5,\n            num6\n        ]\n    },\n    //传入污染物的值\n    getLevelPollution: function(pollutionName, value) {\n        var color = '';\n        var num0, num1, num2, num3, num4, num5, num6;\n        var result = this.getlevelValueByPollution(pollutionName);\n        num0 = result[0];\n        num1 = result[1];\n        num2 = result[2];\n        num3 = result[3];\n        num4 = result[4];\n        num5 = result[5];\n        num6 = result[6];\n        if (value > num0 && value <= num1) {\n            color = \"#79E73C\";\n        } else if (value >= num1 && value <= num2) {\n            color = \"#79E73C\";\n        } else if (value > num2 && value <= num3) {\n            color = \"#FFD800\";\n        } else if (value > num3 && value <= num4) {\n            color = \"#FF9000\";\n        } else if (value > num4 && value <= num5) {\n            color = \"#FF2A00\";\n        } else if (value > num5 && value <= num6) {\n            color = \"#EB007F\";\n        } else if (value > num6) {\n            color = \"#C7021D\";\n        } else {\n            color = \"#666666\";\n        }\n        return color;\n    }\n}\n\n\nvar data = [{\n    name: \"河南省\",\n    AQI: \"45\"\n},{\n    name: \"安徽省\",\n    AQI: \"66\"\n},{\n    name: \"江西省\",\n    AQI: \"11\"\n},{\n    name: \"陕西省\",\n    AQI: \"118\"\n}, {\n    name: \"湖北省\",\n    AQI: \"144\"\n}, {\n    name: \"武汉市\",\n    AQI: \"27\"\n}]\n\n\nvar seriesData = [];\ndata.forEach(function(item) {\n    var color = util.getLevelPollution('AQI', item.AQI);\n    var obj = {\n        name: item.name,\n        itemStyle: {\n            normal: {\n                color: color\n            }\n        }\n\n    }\n    seriesData.push(obj);\n})\n\n\nvar data1 = [{\n    name: \"陕西省\",\n    AQI: \"118\"\n}, {\n    name: \"湖北省\",\n    AQI: \"144\"\n}, {\n    name: \"武汉市\",\n    AQI: \"27\"\n}]\nvar seriesData1 = [];\ndata1.forEach(function(item) {\n    var color = util.getLevelPollution('AQI', item.AQI);\n    var obj = {\n        name: item.name,\n        itemStyle: {\n            normal: {\n                color: color\n            }\n        }\n\n    }\n    seriesData1.push(obj);\n})\n\n\nvar data2 = [{\n    name: \"十堰市\",\n    AQI: \"18\"\n}, {\n    name: \"襄阳市\",\n    AQI: \"144\"\n}]\nvar seriesData2 = [];\ndata2.forEach(function(item) {\n    var color = util.getLevelPollution('AQI', item.AQI);\n    var obj = {\n        name: item.name,\n        itemStyle: {\n            normal: {\n                color: color\n            }\n        }\n\n    }\n    seriesData2.push(obj);\n})\n\n\nmyChart.showLoading();\n$.get(uploadedDataURL, function(chinaJson) {\n    echarts.registerMap('chongqing', chinaJson);\n    myChart.hideLoading();\n    myChart.setOption({\n        \"baseOption\": {\n            \"timeline\": {\n                \"axisType\": \"category\",\n                \"autoPlay\": false,\n                \"playInterval\": 3000,\n                \"symbol\": \"circle\",\n                \"inverse\": false,\n                \"symbolSize\": 5,\n                \"checkpointStyle\": {\n                    \"symbol\": \"circle\",\n                    \"symbolSize\": 7,\n                    \"borderColor\": \"#aed2ff\"\n                },\n                \"left\": \"1%\",\n                \"width\": \"90%\",\n                \"height\": \"36\",\n                \"label\": {\n                    \"normal\": {\n                        \"textStyle\": {\n                            \"fontSize\": 14\n                        }\n                    },\n                    \"position\": 15\n                },\n                \"data\": [\"2019-06-07\", \"2019-06-08\", \"2019-06-09\"]\n            }\n        },\n        \"options\": [{\n            \"series\": [{\n                \"type\": \"map\",\n                \"map\": \"chongqing\",\n                \"roam\": true,\n                \"selectedMode\": \"single\",\n                \"itemStyle\": {\n                    \"normal\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    },\n                    \"emphasis\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    }\n                },\n                \"data\": seriesData\n            }]\n        }, {\n            \"series\": [{\n                \"type\": \"map\",\n                \"map\": \"chongqing\",\n                \"roam\": true,\n                \"selectedMode\": \"single\",\n                \"itemStyle\": {\n                    \"normal\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    },\n                    \"emphasis\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    }\n                },\n                \"data\": [{\n                    \"name\": \"十堰市\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": \"#FF9000\"\n                        }\n                    }\n                }, {\n                    \"name\": \"襄阳市\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": \"#FF9000\"\n                        }\n                    }\n                }]\n            }]\n        }, {\n            \"series\": [{\n                \"type\": \"map\",\n                \"map\": \"chongqing\",\n                \"roam\": true,\n                \"selectedMode\": \"single\",\n                \"itemStyle\": {\n                    \"normal\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    },\n                    \"emphasis\": {\n                        \"label\": {\n                            \"show\": true\n                        }\n                    }\n                },\n                \"data\": [{\n                    \"name\": \"十堰市\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": \"#FF9000\"\n                        }\n                    }\n                }, {\n                    \"name\": \"襄阳市\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": \"#FF9000\"\n                        }\n                    }\n                }]\n            }]\n        }]\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-1896067372","theme":"","layout":"","viewCount":362,"userName":"a***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqb3xazVb3.png?v=1560225910834","isCustomThumbnail":0,"builtinTags":["category-work","series-map","timeline"],"customTags":[],"updaterUserName":"a***6"}}