{"status":0,"data":{"cid":"x2PEGLWY6D","authorUid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","authorUserName":"浮***少","title":"已打卡总人数","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-28T05:08:07.000Z","lastUpdateTime":"2021-10-28T05:12:52.000Z","auth":2,"uid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-28T05:12:52.000Z","code":"   var colorList = ['#407AFB', '#1791FF', '#36B0FE', '#6635EF', '#73ACFF', '#41CBAB', '#7BDD43', '#FFC653', '#FF6519', '#EE3939', '#FFAFDA', '#00FFFF'];\r\n        const colorArr = ['#0265fe', '#20D3ABee', '#FDD56Aee', '#ff7b23', '#097b9a'];\r\n        const colorAlpha = ['#0265fe', '#20D3AB88', '#FDD56A88', '#ff7b23', '#097b9a'];\r\n        var seriesdata1 = [\r\n        {\r\n            name: '压铸车间',\r\n            value: 3200,\r\n            percent: 5.01,\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 5,\r\n                    shadowBlur: 20,\r\n                    borderColor: colorAlpha[0],\r\n                    shadowColor: colorArr[0],\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                    {\r\n                        offset: 0,\r\n                        color: colorArr[0],\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: colorAlpha[0],\r\n                    }, ]),\r\n                },\r\n            },\r\n        },\r\n        {\r\n            name: '浇铸车间',\r\n            value: 1400,\r\n            percent: 5.12,\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 5,\r\n                    shadowBlur: 20,\r\n                    borderColor: colorAlpha[1],\r\n                    shadowColor: colorArr[1],\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                    {\r\n                        offset: 0,\r\n                        color: colorArr[1],\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: colorAlpha[1],\r\n                    }, ]),\r\n                },\r\n            },\r\n        },\r\n        {\r\n            name: '机加一车间',\r\n            value: 3400,\r\n            percent: 1.87,\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 5,\r\n                    shadowBlur: 20,\r\n                    borderColor: colorAlpha[2],\r\n                    shadowColor: colorArr[2],\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                    {\r\n                        offset: 0,\r\n                        color: colorArr[2],\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: colorAlpha[2],\r\n                    }, ]),\r\n                },\r\n            },\r\n        },\r\n        {\r\n            name: '机加二车间',\r\n            value: 3000,\r\n            percent: 0.87,\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 5,\r\n                    shadowBlur: 20,\r\n                    borderColor: colorAlpha[3],\r\n                    shadowColor: colorArr[3],\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                    {\r\n                        offset: 0,\r\n                        color: colorArr[3],\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: colorAlpha[3],\r\n                    }, ]),\r\n                },\r\n            },\r\n        }];\r\n\r\n        var objData = array2obj(seriesdata1, 'name');\r\n\r\n        //将合计值转换为数组\r\n        var h = '12400';\r\n        arr = h.split('');\r\n        m = '';\r\n\r\n        for (i = 0; i < arr.length; i++) {\r\n            m += '{a|' + arr[i] + '}';\r\n            if (i != arr.length - 1) {\r\n                m += '  ';\r\n            }\r\n        }\r\n\r\n        option = {\r\n            backgroundColor:'#ooo',\r\n            grid: {\r\n                x: '30%',\r\n                y: '3',\r\n                x2: '5%',\r\n                y2: '5%',\r\n                borderWidth: 1,\r\n                borderColor: '#f0f0f0',\r\n            },\r\n            title: [\r\n            {\r\n                text: '{b|已打卡总人数：}' + m,\r\n                left: '68%',\r\n                top: '3%',\r\n                textAlign: 'center',\r\n                textStyle: {\r\n                    fontWeight: 'normal',\r\n                    fontSize: '20',\r\n                    color: '#FFFFFF',\r\n                    textAlign: 'center',\r\n                    rich: {\r\n                        a: {\r\n                            fontSize: '34',\r\n                            fontWeight: 'bold',\r\n                            backgroundColor: 'rgba(56,89,255,0.2)',\r\n                            borderColor: 'rgba(56,211,255,1)',\r\n                            borderWidth: 1,\r\n                            padding: [6, 6, 6, 6],\r\n                            shadowColor: 'rgba(56,211,255,1)',\r\n                            shadowBlur: 3,\r\n                            borderRadius: 3\r\n                        },\r\n                        b: {\r\n                            fontSize: '34',\r\n                            fontWeight: 'bold',\r\n                            padding: [6, 6, 6, 6],\r\n                            color: '#FFFFFF',\r\n                        }\r\n                    }\r\n                },\r\n            }, ],\r\n            legend: {\r\n                show: true,\r\n                //icon: 'circle',\r\n                orient: 'vertical',\r\n                top: '30%',\r\n                left: '65%',\r\n                itemGap: 60,\r\n                itemWidth: 15,\r\n                itemHeight: 10,\r\n                data: seriesdata1,\r\n                formatter: function (name) {\r\n                    return '{a|' + name + '}{c|' + objData[name].value.toFixed(0) + '人}';\r\n                },\r\n                textStyle: {\r\n                    rich: {\r\n                        a: {\r\n                            align: 'left',\r\n                            fontSize: 24,\r\n                            color: 'rgba(255,255,255,1)',\r\n                            width: 40,\r\n                            //fontWeight: 600,\r\n                            padding: [0, 0, 0, 10],\r\n                        },\r\n                        c: {\r\n                            align: 'right',\r\n                            fontSize: 24,\r\n                            color: 'rgba(255,255,255,1)',\r\n                            width: 30,\r\n                            //fontWeight: 600,\r\n                            padding: [0, 0, 0, 160],\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n            series: {\r\n                type: 'pie',\r\n                center: ['34%', '55%'],\r\n                radius: ['25%', '40%'],\r\n                clockwise: true,\r\n                //startAngle: 50,\r\n                avoidLabelOverlap: true,\r\n                hoverOffset: 15,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: function (params) {\r\n                            return colorList[params.dataIndex];\r\n                        },\r\n                    },\r\n                },\r\n                label: {\r\n                    show: true,\r\n                    position: 'outside',\r\n                    formatter: function (data) {\r\n                        //console.log('data',data)\r\n                        return (\r\n                            '{name|' + data.name + ':' + '\\n}' + ' \\n{value|占比：' + data.percent.toFixed(0) + '%}'\r\n                        );\r\n                    },\r\n                    rich: {\r\n                        name: {\r\n                            fontSize: 20,\r\n                            color: '#ffffff',\r\n                        },\r\n                        value: {\r\n                            fontSize: 20,\r\n                            color: '#ffffff',\r\n                        },\r\n                    },\r\n                },\r\n                labelLine: {\r\n                    show: false,\r\n                    normal: {\r\n                        length: 15,\r\n                        length2: 40,\r\n                        align: 'right',\r\n                        lineStyle: {\r\n                            width: 4,\r\n                        },\r\n                    },\r\n                },\r\n                data: seriesdata1,\r\n                seriesIndex: 0,\r\n            },\r\n        };\r\n\r\n        function array2obj(array, key) {\r\n            var resObj = {};\r\n            for (var i = 0; i < array.length; i++) {\r\n                resObj[array[i][key]] = array[i];\r\n            }\r\n            return resObj;\r\n        }","html":"","externalScripts":"","updaterUID":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","theme":"","layout":"","viewCount":0,"userName":"浮***少","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2PEGLWY6D.png?v=1635397972899","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"浮***少"}}