{"status":0,"data":{"cid":"xpmkuZ_c6a","authorUid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","authorUserName":"z***6","title":"双Y轴","description":"纵坐标文字过长，以省略号显示。或者纵坐标前引入相关图片","latestVersion":1,"alwaysLatest":1,"createTime":"2021-06-30T04:43:21.000Z","lastUpdateTime":"2021-06-30T04:43:21.000Z","auth":2,"uid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-06-30T04:43:21.000Z","code":"var colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\n// var colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\nvar datas = [\n  {\n    value: 36,\n    name: \"系列一纵坐标文字加长显示占位符测试test测试test测试test\",\n  },\n  {\n    value: 54,\n    name: \"系列二纵坐标文字加长显示占位符测试test测试test测试test\",\n  },\n  {\n    value: 29,\n    name: \"系列三纵坐标文字加长显示占位符测试test测试test测试test\",\n  },\n  {\n    value: 25,\n    name: \"系列四纵坐标文字加长显示占位符测试test测试test测试test\",\n  },\n  {\n    value: 55,\n    name: \"系列五纵坐标文字加长显示占位符测试test测试test测试test\",\n  },\n];\n\nlet maxArr = new Array(datas.length).fill(100);\nvar option = {\n  backgroundColor: '#031038',\n  title: {\n    text: '场景调用Top5',\n    top: '3%',\n    left: '2%',\n    textStyle: {\n      color: '#ADB0BE',\n      fontSize: 25,\n      fontFamily: 'Adobe Heiti Std',\n      fontWeight: 'bolder',\n    },\n  },\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow',\n    },\n  },\n  legend: {\n    show: false,\n  },\n  grid: {\n    // left: 0,\n    // right:0,\n    // containLabel:true\n    left: '20%',\n    top: '13%',\n    bottom: '10%',\n    right: '5%',\n  },\n  xAxis: {\n    show: false,\n    type: 'value',\n  },\n  yAxis: [\n    {\n      offset: 55,\n      type: 'category',\n      inverse: true,\n      axisLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisPointer: {\n        label: {\n          show: true,\n          margin: 30,\n        },\n      },\n      data: datas.map((item) => item.name),\n      axisLabel: {\n        margin: 100,\n        fontSize: 20,\n        align: 'left',\n        color: '#fff',\n        rich: {\n          a1: {\n            color: '#fff',\n            backgroundColor: colorList[0],\n            // backgroundImage: url(\"../../asset/image/bigscreen/top-1.png\"),\n            // backgroundColor: {\n            //   image: require('../../asset/image/bigscreen/top-1.png'),\n            // },\n            width: 40,\n            height: 40,\n            align: 'center',\n            borderRadius: 2,\n            fontSize: 20,\n          },\n          a2: {\n            color: '#fff',\n            backgroundColor: colorList[1],\n            // 纵坐标前面可以引入相关图片\n            // backgroundColor: {\n            //   image: require('../../asset/image/bigscreen/top-2.png'),\n            // },\n            width: 40,\n            height: 40,\n            align: 'center',\n            borderRadius: 2,\n            fontSize: 20,\n          },\n          a3: {\n            color: '#fff',\n            backgroundColor: colorList[2],\n            // backgroundColor: {\n            //   image: require('../../asset/image/bigscreen/top-3.png'),\n            // },\n            width: 40,\n            height: 40,\n            align: 'center',\n            borderRadius: 2,\n            fontSize: 20,\n          },\n          a4: {\n            color: '#fff',\n            backgroundColor: colorList[2],\n            // backgroundColor: {\n            //   image: require('../../asset/image/bigscreen/top-4.png'),\n            // },\n            width: 40,\n            height: 40,\n            align: 'center',\n            borderRadius: 2,\n            fontSize: 20,\n          },\n          b: {\n            color: '#fff',\n            backgroundColor: colorList[3],\n            // backgroundColor: {\n            //   image: require('../../asset/image/bigscreen/top-5.png'),\n            // },\n            width: 40,\n            height: 40,\n            align: 'center',\n            borderRadius: 2,\n            fontSize: 20,\n          },\n        },\n        \n        // 原先样式  排序序号显示并带有相关样式\n        // formatter: function (params) {\n        //   var index = datas.map((item) => item.name).indexOf(params);\n        //   index = index + 1;\n        //   if (index - 1 < 4) {\n        //     return [\n        //       '{a' + index + '|' + index + '}' + '  ' + params\n        //       // '{a' + index + '|' + '}' + '  ' + params,\n        //     ].join('\\n');\n        //   } else {\n        //     return [\n        //       '{b|' + index + '}' + '  ' + params\n        //       // '{b|' + '}' + '  ' + params,\n        //     ].join('\\n');\n        //   }\n        // },\n      \n        // 纵坐标文字显示过长 超出5个子以省略号显示 \n        formatter: function(value) { \n          if (value.length > 5) { \n            return value.substring(0, 5) + \"...\"; \n          } else { \n            return value; \n          } \n        } \n        \n        \n        \n        \n      },\n    },\n    {\n      type: 'category',\n      inverse: true,\n      axisTick: 'none',\n      axisLine: 'none',\n      show: true,\n      data: datas.map((item) => item.value),\n      axisLabel: {\n        show: true,\n        fontSize: 20,\n        color: '#fff',\n        formatter: '{value}',\n      },\n    },\n  ],\n  series: [\n    {\n      z: 2,\n      name: 'value',\n      type: 'bar',\n      barWidth: 20,\n      zlevel: 1,\n      // data: datas.map((item, i) => {\n      //   var itemStyle = {\n      //     color: i > 3 ? colorList[3] : colorList[i]\n      //   }\n      //   return {\n      //     value: item.value,\n      //     itemStyle: itemStyle\n      //   };\n      // }),\n      data: datas.map((item, i) => {\n        // itemStyle = {\n        //     color: i > 3 ? colorList[3] : colorList[i]\n        // }\n        return {\n          value: item.value,\n          // itemStyle: itemStyle\n          itemStyle: {\n            normal: {\n              barBorderRadius: 30,\n              color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n                {\n                  offset: 0,\n                  // color: 'rgb(57,89,255,1)'\n                  color: '#0099FF',\n                },\n                {\n                  offset: 1,\n                  // color: 'rgb(46,200,207,1)'\n                  color: '#0033FF',\n                },\n              ]),\n            },\n          },\n        };\n      }),\n      label: {\n        show: false,\n        position: 'right',\n        color: '#333333',\n        fontSize: 14,\n        offset: [10, 0],\n      },\n    },\n    // {\n    //   name: '背景',\n    //   type: 'bar',\n    //   barWidth: 20,\n    //   barGap: '-100%',\n    //   itemStyle: {\n    //     normal: {\n    //       color: 'rgba(118, 111, 111, 0.55)'\n    //     }\n    //   },\n    //   data: maxArr,\n    // }\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","theme":"","layout":"","viewCount":0,"userName":"z***6","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xpmkuZ_c6a.png?v=1625028201330","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"z***6"}}