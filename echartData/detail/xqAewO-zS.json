{"status":0,"data":{"cid":"xqAewO-zS","authorUid":"bd-3342206826","authorUserName":"小***琪","title":"带标注的仪表图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-13T07:13:44.000Z","lastUpdateTime":"2020-08-19T04:50:42.000Z","auth":2,"uid":"bd-3342206826","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-13T07:13:44.000Z","code":"var dataList = [{\r\n        name: '人员总数',\r\n        value: 100,\r\n        unit: '人'\r\n    },\r\n    {\r\n        name: '已到人数',\r\n        value: 80,\r\n        unit: '人'\r\n    },\r\n    {\r\n        name: '未到人数',\r\n        value: 20,\r\n        unit: '人'\r\n    }\r\n]\r\n\r\nvar value = 80;\r\n\r\noption = {\r\n    backgroundColor: 'rgba(19,22,24,0.8)',\r\n    legend: {\r\n        top: \"center\",\r\n        right: '20',\r\n        orient: 'vertical',\r\n        icon: 'circle',\r\n        itemWidth: 10,\r\n        itemGap: 30,\r\n        data: ['人员总数', '已到人数', '未到人数'],\r\n        formatter: function(name) {\r\n            console.log(name)\r\n            let res = dataList.filter(v => v.name === name);\r\n            console.log(res)\r\n            return \"{name|\" + name + \"}\"+\"{value|\" + res[0].value + \"}\"+\"{unit|\" + res[0].unit + \"}\";\r\n        },\r\n        textStyle: {\r\n            color: '#fff',\r\n            rich: {\r\n                name: {\r\n                    padding: [0, 20, 0, 2]\r\n                },\r\n                value: {\r\n                    fontSize: 16,\r\n                    color: '#1ED79F',\r\n                    padding: [0, 5]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    series: [\r\n        // 外围刻度\r\n        {\r\n            type: 'gauge',\r\n            center: ['40%', '50%'],\r\n            radius: '80%', // 1行3个\r\n            splitNumber: 10,\r\n            min: 0,\r\n            max: 100,\r\n            startAngle: 225,\r\n            endAngle: -45,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 1,\r\n                    color: [\r\n                        [1, 'rgba(0,0,0,0)']\r\n                    ]\r\n                }\r\n            }, //仪表盘轴线\r\n            axisTick: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: 'rgba(255,255,255,0.6)',\r\n                    width: 1\r\n                },\r\n                length: -8\r\n            }, //刻度样式\r\n            splitLine: {\r\n                show: true,\r\n                length: -20,\r\n                lineStyle: {\r\n                    color: 'rgba(255,255,255,0.6)'\r\n                }\r\n            }, //分隔线样式\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            pointer: {\r\n                show: 0\r\n            },\r\n            detail: {\r\n                show: 0\r\n            }\r\n        },\r\n        // 内侧指针、数值显示\r\n        {\r\n            name: \"已到人数\",\r\n            type: 'gauge',\r\n            center: ['40%', '50%'],\r\n            radius: '75%',\r\n            startAngle: 225,\r\n            endAngle: -45,\r\n            min: 0,\r\n            max: 100,\r\n            title: {\r\n                fontWeight: 'bold',\r\n                offsetCenter: [0, '70%'],\r\n                fontSize: 24,\r\n                color: '#fff'\r\n            },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 16,\r\n                    color: [\r\n                        [\r\n                            value / 100, new echarts.graphic.LinearGradient(\r\n                                0, 0, 1, 0, [{\r\n                                        offset: 0,\r\n                                        color: \"#0092FA\",\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#54F200\",\r\n                                    }\r\n                                ]\r\n                            )\r\n                        ],\r\n                        [\r\n                            1, '#2C3136'\r\n                        ]\r\n                    ]\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: 0,\r\n            },\r\n            splitLine: {\r\n                show: 0,\r\n            },\r\n            axisLabel: {\r\n                show: 0\r\n            },\r\n            pointer: {\r\n                show: false,\r\n                length: '105%'\r\n            },\r\n            detail: {\r\n                show: true,\r\n                offsetCenter: [0, 0],\r\n                formatter: '{value|' + value.toFixed(0) + '}{unit|.' + value.toFixed(1).toString().split('.')[1] + '%}',\r\n                rich: {\r\n                    value: {\r\n                        fontSize: 48,\r\n                        lineHeight: 48,\r\n                        color: '#fff'\r\n                    },\r\n                    unit: {\r\n                        fontSize: 24,\r\n                        lineHeight: 24,\r\n                        color: '#fff',\r\n                        padding: [0, 0, 12, 0]\r\n                    },\r\n                    name: {\r\n                        fontSize: 20,\r\n                        lineHeight: 30,\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#54F200',\r\n                }\r\n            },\r\n            data: [{\r\n                value: value,\r\n                name: '人员到岗进度'\r\n            }]\r\n        },\r\n        {\r\n            name: \"人员总数\",\r\n            type: 'gauge',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: 0,\r\n            },\r\n            splitLine: {\r\n                show: 0,\r\n            },\r\n            axisLabel: {\r\n                show: 0\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            detail: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#0092FA',\r\n                }\r\n            },\r\n            data: [{\r\n                value: 100,\r\n                name: ''\r\n            }]\r\n        },\r\n        {\r\n            name: \"未到人数\",\r\n            type: 'gauge',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: 0,\r\n            },\r\n            splitLine: {\r\n                show: 0,\r\n            },\r\n            axisLabel: {\r\n                show: 0\r\n            },\r\n            pointer: {\r\n                show: false\r\n            },\r\n            detail: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FE6B03',\r\n                }\r\n            },\r\n            data: [{\r\n                value: 100,\r\n                name: ''\r\n            }]\r\n        }\r\n    ]\r\n\r\n};","html":"","externalScripts":"","updaterUID":"bd-3342206826","theme":"default","layout":"","viewCount":261,"userName":"小***琪","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqAewO-zS.png?v=1581578024620","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-gauge"],"customTags":[],"updaterUserName":"小***琪"}}