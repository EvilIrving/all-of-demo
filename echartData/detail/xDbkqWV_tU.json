{"status":0,"data":{"cid":"xDbkqWV_tU","authorUid":"bd-3793071787","authorUserName":"二***弃","title":"四川省竞争优劣分布图","description":"四川省竞争优劣分布图","latestVersion":7,"alwaysLatest":1,"createTime":"2019-07-08T03:39:20.000Z","lastUpdateTime":"2019-07-08T03:39:20.000Z","auth":1,"uid":"bd-3793071787","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-06T04:07:04.000Z","code":"// 前言：\r//bug:此图不知为何，默认全省没有铺满，在本地是可以的，\r// 弄上平台以后就不行了，\r//解决：\r// 要想看到两个红点和两个黄点的地区的图\r// （）\r// 只要在勾选实时刷新的基础上，在上一行括号里随机输入一个数字就可以了\rvar uploadedDataURL = \"/asset/get/s/data-1562556241456--GruQTFLr.json\";\r\r//返回城市\rfunction getcitynametwo(name) {\r    var namesth = name.length;\r    switch (namesth) {\r        case 3:\r            name = name.substr(0, 2);\r            break;\r        case 4:\r            name = '攀枝花';\r            break;\r        case 7:\r            if (name == '甘孜藏族自治州') {\r                name = '甘孜'\r            } else if (name == '凉山彝族自治州') {\r                name = '凉山'\r            }\r            break;\r        case 9:\r            if (name == '阿坝藏族羌族自治州') {\r                name = '阿坝'\r            }\r            break;\r        default:\r            break;\r    }\r    return name\r}\r\rvar cityarr = ['成都市', '自贡市', '攀枝花市', '泸州市', '德阳市', '绵阳市', '广元市', '遂宁市', '内江市', '乐山市', '南充市', '眉山市', '宜宾市', '广安市', '达州市', '雅安市', '巴中市', '资阳市', '阿坝藏族羌族自治州', '甘孜藏族自治州', '凉山彝族自治州']\rvar madata = []\rvar maparr1 = [],\r    maparr2 = [],\r    maparr3 = [];\rvar data = [{\r        city_code: \"510100\",\r        name: \"成都\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62,\r        value2: 95.72,\r        value3: 89.09\r    },\r    {\r        city_code: \"510300\",\r        name: \"自贡\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 98.48,\r        value2: 96.74,\r        value3: 92.75\r    },\r    {\r        value2: 94.94,\r        value3: 94.67,\r        name: \"攀枝花\",\r        city_code: \"510400\",\r        ranking: 2,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 93.48,\r        value3: 91.82,\r        name: \"泸州\",\r        city_code: \"510500\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 97.83,\r        value3: 92.19,\r        name: \"德阳\",\r        city_code: \"510600\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 98.44,\r        value3: 96.31,\r        name: \"绵阳\",\r        city_code: \"510700\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 98.34,\r        value3: 94.23,\r        name: \"广元\",\r        city_code: \"510800\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 98.74,\r        value3: 95.75,\r        name: \"遂宁\",\r        city_code: \"510900\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 94.37,\r        value3: 91.81,\r        name: \"内江\",\r        city_code: \"511000\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 95.35,\r        value3: 94.23,\r        name: \"乐山\",\r        city_code: \"511100\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 97.88,\r        value3: 90.31,\r        name: \"南充\",\r        city_code: \"511300\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 97.59,\r        value3: 98.14,\r        name: \"眉山\",\r        city_code: \"511400\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 95.59,\r        value3: 93.66,\r        name: \"宜宾\",\r        city_code: \"511500\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 98.88,\r        value3: 96.63,\r        name: \"广安\",\r        city_code: \"511600\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 96.79,\r        value3: 91.19,\r        name: \"达州\",\r        city_code: \"511700\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 93.87,\r        value3: 95.69,\r        name: \"雅安\",\r        city_code: \"511800\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 98.27,\r        value3: 92.42,\r        name: \"巴中\",\r        city_code: \"511900\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 97.06,\r        value3: 94.59,\r        name: \"资阳\",\r        city_code: \"512000\",\r        ranking: 3,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 94.21,\r        value3: 87.71,\r        name: \"阿坝\",\r        city_code: \"513200\",\r        ranking: 2,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 89.41,\r        value3: 92.21,\r        name: \"甘孜\",\r        city_code: \"513300\",\r        ranking: 2,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    {\r        value2: 94.89,\r        value3: 97.43,\r        name: \"凉山\",\r        city_code: \"513400\",\r        ranking: 2,\r        scene_type: \"1\",\r        value: 95.62\r    },\r    //   {value2: 94.89, value3: 97.43, name: \"重庆\",   city_code: \"513600\", ranking: 2,scene_type: \"1\",value: 95.62  },\r\r]\rvar sd = data;\rfor (var i = 0, len = sd.length; i < len; i++) {\r    if (sd[i].ranking == 3) { //大于其他两个竞争对手\r        maparr1.push({\r            name: cityarr[i],\r            value: sd[i].value,\r            value2: sd[i].value2,\r            value3: sd[i].value3\r        })\r    } else if (sd[i].ranking == 2) { //大于其他一个竞争对手\r        maparr2.push({\r            name: cityarr[i],\r            value: sd[i].value,\r            value2: sd[i].value2,\r            value3: sd[i].value3\r        })\r    } else if (sd[i].ranking == 1) { //小于其他两个竞争对手\r        maparr3.push({\r            name: cityarr[i],\r            value: sd[i].value,\r            value2: sd[i].value2,\r            value3: sd[i].value3\r        })\r    }\r    madata.push({\r        name: cityarr[i],\r        value: sd[i].value,\r        value2: sd[i].value2,\r        value3: sd[i].value3\r    })\r}\r\r$.get('/asset/get/s/data-1562552415519-p-DuWdTR2.json', function(geoJson) {\r    echarts.registerMap('sichuan', geoJson);\r})\roption = {\r    tooltip: {\r        trigger: 'item',\r        formatter: function(params) {\r            var val = params.name + '</br>';\r            for (var i = 0, len = madata.length; i < len; i++) {\r                if (params.name == madata[i].name) {\r                    val += '电信覆盖率 : ' + madata[i].value + '%' + '</br>' +\r                        '移动覆盖率 : ' + madata[i].value2 + '%' + '</br>' +\r                        '联通覆盖率 : ' + madata[i].value3 + '%' + '</br>'\r                }\r            }\r            return val;\r        }\r    },\r    roam: true,\r    visualMap: {\r        show: true,\r        type: 'piecewise',\r        pieces: [{\r                min: 90,\r                max: 100\r            },\r            {\r                min: 80,\r                max: 90\r            },\r            {\r                min: 70,\r                max: 80\r            },\r            {\r                min: 0,\r                max: 70\r            },\r        ],\r        left: 'left',\r        top: 'bottom',\r        calculable: true,\r        inRange: {\r            color: ['#008CC1', '#3FCDF5']\r        }\r    },\r    legend: {},\r    series: [{\r            type: 'map',\r            mapType: 'sichuan', // 自定义扩展图表类型\r            itemStyle: {\r                normal: {\r                    color: '#17FE01',\r                    label: {\r                        show: true,\r                        textStyle: {\r                            color: \"#fff\"\r                        }\r                    }\r                },\r            },\r            label: {\r                normal: {\r                    formatter: function(params) {\r                        var name = params.name;\r                        var name2 = getcitynametwo(name);\r                        return name2\r                    },\r                    position: 'right',\r                },\r                emphasis: {\r                    show: true\r                }\r            },\r            data: maparr1\r        },\r        {\r            type: 'map',\r            mapType: 'sichuan', // 自定义扩展图表类型\r            itemStyle: {\r                normal: {\r                    color: '#F7FE03',\r                    label: {\r                        show: true,\r                        textStyle: {\r                            color: \"#fff\"\r                        }\r                    }\r                },\r            },\r            label: {\r                normal: {\r                    formatter: function(params) {\r                        var name = params.name;\r                        var name2 = getcitynametwo(name);\r                        return name2\r                    },\r                    position: 'right',\r                },\r                emphasis: {\r                    show: true\r                }\r            },\r            data: maparr2\r        },\r        {\r            type: 'map',\r            mapType: 'sichuan', // 自定义扩展图表类型\r            itemStyle: {\r                normal: {\r                    color: '#F95D02',\r                    label: {\r                        show: true,\r                        textStyle: {\r                            color: \"#fff\"\r                        }\r                    }\r                },\r            },\r            label: {\r                normal: {\r                    formatter: function(params) {\r                        var name = params.name;\r                        var name2 = getcitynametwo(name);\r                        return name2\r                    },\r                    position: 'right',\r                },\r                emphasis: {\r                    show: true\r                }\r            },\r            data: maparr3\r        }\r    ],\r};","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,https://cdn.bootcss.com/PapaParse/4.1.2/papaparse.min.js","updaterUID":"obd-otxTp3mLfjVDJTlGnSl_aghcuhjM78F","theme":"","layout":"","viewCount":1307,"userName":"二***弃","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDbkqWV_tU.png?v=1594008424880","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"心***去"}}