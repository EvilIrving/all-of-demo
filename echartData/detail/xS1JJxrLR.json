{"status":0,"data":{"cid":"xS1JJxrLR","authorUid":"bd-2500662229","authorUserName":"虚***顶","title":"雷达图","description":"扇形阴影，\n指示器文字变色字体变大","latestVersion":2,"alwaysLatest":1,"createTime":"2016-10-08T09:43:51.000Z","lastUpdateTime":"2016-10-08T09:45:45.000Z","auth":2,"uid":"bd-2500662229","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.2.3","versionCreateTime":"2016-10-08T09:44:14.000Z","code":"//扇形\r\nCanvasRenderingContext2D.prototype.sector = function(x, y, radius, sDeg, eDeg) {\r\n    // 初始保存\r\n    this.save();\r\n    // 位移到目标点\r\n    this.translate(x, y);\r\n    this.beginPath();\r\n    // 画出圆弧\r\n    this.arc(0, 0, radius, sDeg, eDeg);\r\n    // 再次保存以备旋转\r\n    this.save();\r\n    // 旋转至起始角度\r\n    this.rotate(eDeg);\r\n    // 移动到终点，准备连接终点与圆心\r\n    this.moveTo(radius, 0);\r\n    // 连接到圆心\r\n    this.lineTo(0, 0);\r\n    // 还原\r\n    this.restore();\r\n    // 旋转至起点角度\r\n    this.rotate(sDeg);\r\n    // 从圆心连接到起点\r\n    this.lineTo(radius, 0);\r\n    this.closePath();\r\n    // 还原到最初保存的状态\r\n    this.restore();\r\n    return this;\r\n}\r\n\r\nvar data = [{\r\n    \"name\": \"销售（sales）\", //名称\r\n    \"weight\": 0.58 //强度. 取值范围:0.0~1.0\r\n}, {\r\n    \"name\": \"管理（Administration）\", //名称\r\n    \"weight\": 0.3 //强度. 取值范围:0.0~1.0\r\n}, {\r\n    \"name\": \"信息技术（Information Techology）\", //名称\r\n    \"weight\": 0.28 //强度. 取值范围:0.0~1.0\r\n}, {\r\n    \"name\": \"客服（Customer Support）\", //名称\r\n    \"weight\": 0.33 //强度. 取值范围:0.0~1.0\r\n}, {\r\n    \"name\": \"研发（Development）\", //名称\r\n    \"weight\": 0.45 //强度. 取值范围:0.0~1.0\r\n}, {\r\n    \"name\": \"市场（Marketing）\", //名称\r\n    \"weight\": 0.46 //强度. 取值范围:0.0~1.0\r\n}];\r\n\r\nvar len = data.length;\r\nvar _d = {};\r\n_d.indicator = [];\r\n_d.data = [];\r\n_d.data[0] = {\r\n    value: [],\r\n    name: '典型特征'\r\n};\r\nfor (var i = 0; i < len; i++) {\r\n    _d.indicator.push(data[i].name);\r\n    _d.data[0].value.push(data[i].weight);\r\n}\r\n\r\nvar indicator = [];\r\n\r\nfor (var i = 0; i < len; i++) {\r\n    indicator[i] = {\r\n        name: _d.indicator[i],\r\n        max: 1\r\n    };\r\n}\r\nvar canvas = document.createElement(\"canvas\");\r\nsetTimeout(function() {\r\n    drawShadow($(\"canvas\").width(), $(\"canvas\").height());\r\n}, 100);\r\n\r\nfunction drawShadow(w, h) {\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n    var ctx = canvas.getContext('2d');\r\n    var angle = Math.PI * 2 / len;\r\n    var radius = Math.min(w, h) * 0.75 * 0.5;\r\n    for (var i = 0; i < len; i++) {\r\n        ctx.fillStyle = i % 2 === 0 ? \"rgba(100,100,100,0.1)\" : \"rgba(0,0,0,0)\";\r\n        ctx.sector(w / 2, h / 2, radius, -Math.PI / 2 + i * angle, -Math.PI / 2 + (i + 1) * angle).fill();\r\n    }\r\n    var dom = $(\"canvas\").parent().parent()[0];\r\n    var myChart = echarts.getInstanceByDom(dom);\r\n    myChart.clear();\r\n    option = {\r\n        title: {\r\n            text: ''\r\n        },\r\n        backgroundColor: {\r\n            image: canvas,\r\n            repeat: 'no-repeat'\r\n        },\r\n        tooltip: {},\r\n        radar: {\r\n            shape: 'circle',\r\n            center: ['50%', '50%'],\r\n            radius: '75%',\r\n            indicator: indicator,\r\n            name: {\r\n                formatter: function(d, e) {\r\n                    e.nameTextStyle = {\r\n                        color: 'rgba(86,111,141,0.5)',\r\n                        fontSize: 12\r\n                    };\r\n                    if (d == indicator[index].name) {\r\n                        e.nameTextStyle = {\r\n                            color: 'rgba(255,127,143,1)',\r\n                            fontSize: 18\r\n                        };\r\n                    }\r\n                    return d;\r\n                }\r\n            },\r\n            splitArea: {\r\n                show: true,\r\n                areaStyle: {\r\n                    color: 'rgba(0,0,0,0)'\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n            name: '',\r\n            type: 'radar',\r\n            //areaStyle: {normal: {}},\r\n            data: _d.data\r\n        }]\r\n    };\r\n    myChart.setOption(option, true);\r\n}\r\n\r\nvar index = 0;\r\noption = {\r\n    title: {\r\n        text: ''\r\n    },\r\n    backgroundColor: {\r\n        image: canvas,\r\n        repeat: 'no-repeat'\r\n    },\r\n    tooltip: {},\r\n    radar: {\r\n        shape: 'circle',\r\n        center: ['50%', '50%'],\r\n        radius: '75%',\r\n        indicator: indicator,\r\n        name: {\r\n            formatter: function(d, e) {\r\n                e.nameTextStyle = {\r\n                    color: 'rgba(86,111,141,0.5)',\r\n                    fontSize: 12\r\n                };\r\n                if (d == indicator[index].name) {\r\n                    e.nameTextStyle = {\r\n                        color: 'rgba(255,127,143,1)',\r\n                        fontSize: 18\r\n                    };\r\n                }\r\n                return d;\r\n            }\r\n        },\r\n        splitArea: {\r\n            show: true,\r\n            areaStyle: {\r\n                color: 'rgba(0,0,0,0)'\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '',\r\n        type: 'radar',\r\n        //areaStyle: {normal: {}},\r\n        data: _d.data\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2500662229","theme":"default","layout":"","viewCount":2151,"userName":"虚***顶","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS1JJxrLR.png?v=1475919946312","isCustomThumbnail":1,"builtinTags":["category-work","radar","series-radar","title","tooltip"],"customTags":[],"updaterUserName":"虚***顶"}}