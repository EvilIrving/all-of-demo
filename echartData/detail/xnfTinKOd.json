{"status":0,"data":{"cid":"xnfTinKOd","authorUid":"bd-3943842367","authorUserName":"只***c","title":"词云","description":"矩形词云","latestVersion":2,"alwaysLatest":1,"createTime":"2020-03-12T14:18:08.000Z","lastUpdateTime":"2020-03-12T14:18:08.000Z","auth":1,"uid":"bd-3943842367","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-02T04:51:53.000Z","code":"// 由于keywords数量较少，因此在窗口较大时，词云可能不会显示为矩形\r\n// 此时缩小窗口即可\r\nlet keywords = {\r\n    \"低落\": 22,\r\n    \"否定\": 19,\r\n    \"难过\": 16,\r\n    \"难受\": 14,\r\n    \"受伤\": 7,\r\n    \"开心\": 7,\r\n    \"矛盾\": 6,\r\n    \"舒服\": 5,\r\n    \"不想\": 5,\r\n    \"睡不着\": 5,\r\n    \"珍惜\": 5,\r\n    \"喜欢\": 4,\r\n    \"想开\": 4,\r\n    \"纠结\": 4,\r\n    \"乐观\": 3,\r\n    \"迷茫\": 3,\r\n    \"害怕\": 3,\r\n    \"后悔\": 3,\r\n    \"相信\": 3,\r\n    \"争吵\": 3,\r\n    \"讨厌\": 3,\r\n    \"担心\": 3,\r\n    \"满意\": 3,\r\n    \"焦虑\": 2,\r\n    \"不太好\": 2,\r\n    \"充实\": 2,\r\n    \"无助\": 2,\r\n    \"压抑\": 2,\r\n    \"还好\": 2,\r\n    \"伤心\": 13,\r\n    \"压力\": 6,\r\n    \"情绪\": 5,\r\n    \"生气\": 3,\r\n    \"调皮\": 3,\r\n    \"犯错误\": 2,\r\n    \"内向\": 2,\r\n    \"责备\": 2,\r\n    \"不太想\": 2\r\n};\r\n\r\nlet data = [];\r\nfor (let name in keywords) {\r\n    data.push({\r\n        name: name,\r\n        value: keywords[name]\r\n    })\r\n}\r\n\r\nlet maskImage = new Image();\r\nmaskImage.src = '/asset/get/s/data-1565746651093-0eAx0lLR4.png';\r\nlet option = {\r\n    title: {\r\n        text: '词云',\r\n        x: 'center',\r\n        textStyle: {\r\n            fontSize: 23\r\n        }\r\n\r\n    },\r\n    backgroundColor: '#F7F7F7',\r\n    series: [{\r\n        name: '词云',\r\n        type: 'wordCloud',\r\n        // 关键字过少时，适当加大字体大小区间\r\n        // 以及调整高宽可以更容易出现矩形效果\r\n        sizeRange: [12, 100],\r\n        width: '45%',\r\n        height: '45%',\r\n        rotationRange: [0, 0],\r\n        maskImage: maskImage,\r\n        drawOutOfBound: false,\r\n        autoSize: {\r\n            enable: true,\r\n            minSize: 6\r\n        },\r\n        textStyle: {\r\n            normal: {\r\n                color: function() {\r\n                    // Random color\r\n                    let color = Math.random() * 200\r\n                    return 'rgb(' + [\r\n                        Math.round(color),\r\n                        Math.round(color),\r\n                        Math.round(color)\r\n                    ].join(',') + ')';\r\n                }\r\n            }\r\n        },\r\n        data: data\r\n    }]\r\n};\r\nmaskImage.onload = function() {\r\n    myChart.setOption(option);\r\n};\r\nwindow.onresize = function() {\r\n    myChart.resize();\r\n}","html":"","externalScripts":"https://cdn.rawgit.com/ecomfe/echarts-wordcloud/833ed011/dist/echarts-wordcloud.min.js","updaterUID":"obd-ojfMp6ZBjYKKp8WjPHPs3HdGd7Tu9DV","theme":"","layout":"","viewCount":233,"userName":"只***c","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnfTinKOd.png?v=1591073513813","isCustomThumbnail":0,"builtinTags":["category-work","series-wordCloud","title"],"customTags":[],"updaterUserName":"b***9"}}