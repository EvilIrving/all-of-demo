{"status":0,"data":{"cid":"xFo04oy52F","authorUid":"obd-o-WzQPFutxoDfuyDDPhYMEEbOshjlAV","authorUserName":"8***2","title":"关系图","description":"展示关系信息","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-19T08:01:18.000Z","lastUpdateTime":"2020-10-19T08:01:18.000Z","auth":2,"uid":"obd-o-WzQPFutxoDfuyDDPhYMEEbOshjlAV","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-19T08:01:18.000Z","code":"var size = 75; //节点大小\n\n\nvar listdata = []; //节点数组\nvar links = []; //链接数组\nvar legendes = [\"对象属性\", \"关联对象\", \"所属类别\", \"对象\"];\nvar texts = []; //链接数组\n\nvar property_cat_json = {\n    \"展览\": \"展览\",\n    \"专题\": \"专题\",\n    \"资讯\": \"资讯\",\n};\n\nvar property_rel_cat = [\"100部\", \"200个\", \"100条\"];\nvar rel_obj_cat_json = {\n    \"报纸\": \"报纸\",\n    \"主题订阅\": \"主题\\n订阅\",\n    \"期刊\": \"期刊\",\n    \"视频\": \"视频\"\n};\nvar rel_obj_rel_cat = [\"120条\", \"90条\", \"100种\", '200条'];\n\nvar obj_name_cat_json = {\n    对象: \"资源\\n数量\"\n};\n\nfunction setData(json, n) {\n    var i = 0;\n    for (var p in json) {\n        listdata.push({\n            x: i * 50,\n            y: size + i * 10,\n            \"name\": p,\n            \"showName\": json[p],\n            \"symbolSize\": size,\n            \"category\": n,\n            \"draggable\": \"true\",\n            formatter: function(params) {\n                return params.data.showName;\n            }\n        });\n        i++;\n    }\n}\n\nfunction setLinkData(json, relarr, title) {\n    if (relarr !== \"\") {\n        var i = 0;\n        for (var p in json) {\n            links.push({\n                \"source\": p,\n                \"target\": title,\n                \"value\": relarr[i],\n                lineStyle: {\n                    normal: {\n                        // text: relarr[i],\n                        color: 'source'\n                    }\n                }\n            });\n            i++;\n        }\n    } else {\n        for (var p2 in json) {\n            links.push({\n                \"source\": p2,\n                \"target\": title,\n                \"value\": \"\",\n                lineStyle: {\n                    normal: {\n                        color: 'source'\n                    }\n                }\n            });\n        }\n    }\n}\n\nfor (var i = 0; i < legendes.length; i++) {\n    texts.push({\n        \"name\": legendes[i]\n    });\n}\n\nsetData(property_cat_json, 0);\nsetData(rel_obj_cat_json, 1);\nsetData(obj_name_cat_json, 3);\n\nsetLinkData(property_cat_json, property_rel_cat, legendes[3]);\nsetLinkData(rel_obj_cat_json, rel_obj_rel_cat, legendes[3]);\n\noption = {\n    backgroundColor: '#fff',\n    tooltip: {\n        formatter: '{b}'\n    },\n    animationDuration: 100,\n    animationEasingUpdate: 'quinticInOut',\n    series: [{\n        name: '知识图谱',\n        type: 'graph',\n        layout: 'force',\n        radius: ['90%', '90%'],\n        // node: {\n        //     symbolSize : 40\n        // },\n        force: {\n            repulsion: 100,\n            gravity: 0.02,\n            edgeLength: [10, 50],\n            layoutAnimation: true,\n        },\n        data: listdata,\n        links: links,\n        categories: texts,\n        roam: true,\n        nodeScaleRatio: 0, //鼠标漫游缩放时节点的相应缩放比例，当设为0时节点不随着鼠标的缩放而缩放\n        focusNodeAdjacency: false, //是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。\n        lineStyle: {\n            normal: {\n                opacity: 0.5,\n                width: 2,\n                curveness: 0\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: 'inside',\n                textStyle: { //标签的字体样式\n                    color: '#fff', //字体颜色\n                    fontWeight: 'normal', //'normal'标准'bold'粗的'bolder'更粗的'lighter'更细的或100 | 200 | 300 | 400...\n                    fontSize: \"14\" //字体大小\n                },\n                formatter: function(params) {\n                    return params.data.showName; //此处为label转换 并转换颜色\n                },\n                fontSize: 18,\n                fontStyle: '600',\n            }\n        },\n        itemStyle: { // 节点圆圈的全局样式\n            normal: {\n                radius: 60,\n                borderColor: '#fff',\n                borderWidth: 4,\n                shadowBlur: 10,\n                shadowColor: 'rgba(98, 198, 248, 0.5)'\n            }\n        },\n        edgeLabel: {\n            normal: {\n                show: true,\n                textStyle: {\n                    fontSize: 12\n                },\n                formatter: \"{c}\"\n            }\n        }\n    }],\n    color: ['#F5BB4A', '#62C6F8'] //自定义调色板\n};","html":"","externalScripts":"","updaterUID":"obd-o-WzQPFutxoDfuyDDPhYMEEbOshjlAV","theme":"","layout":"","viewCount":686,"userName":"8***2","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFo04oy52F.png?v=1603094478318","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","tooltip"],"customTags":[],"updaterUserName":"8***2"}}