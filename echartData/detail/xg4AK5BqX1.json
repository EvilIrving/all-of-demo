{"status":0,"data":{"cid":"xg4AK5BqX1","authorUid":"bd-2399318835","authorUserName":"1***5","title":"百度指数-需求图谱","description":"https://index.baidu.com/v2/main/index.html#/demand/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85?words=%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85","latestVersion":4,"alwaysLatest":1,"createTime":"2020-06-30T05:18:43.000Z","lastUpdateTime":"2020-06-30T05:18:43.000Z","auth":2,"uid":"bd-2399318835","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-30T10:15:04.000Z","code":"let data = {\n    \"status\": 0,\n    \"data\": {\n        \"period\": \"20190630|20200621\",\n        \"wordlist\": [{\n            \"keyword\": \"\\u667a\\u80fd\\u5bb6\\u5c45\",\n            \"wordGraph\": [{\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u54c1\\u724c\\u6392\\u884c\",\n                \"pv\": 7590,\n                \"ratio\": 86,\n                \"sim\": 3448\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u7cfb\\u7edf\",\n                \"pv\": 1842,\n                \"ratio\": 110,\n                \"sim\": 2208\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5177\",\n                \"pv\": 1140,\n                \"ratio\": 91,\n                \"sim\": 2107\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u63a7\\u5236\\u7cfb\\u7edf\",\n                \"pv\": 7486,\n                \"ratio\": 94,\n                \"sim\": 1982\n            }, {\n                \"word\": \"\\u5c0f\\u7c73\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 5842,\n                \"ratio\": 93,\n                \"sim\": 1716\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u54c1\\u724c\",\n                \"pv\": 962,\n                \"ratio\": 97,\n                \"sim\": 1715\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u4ea7\\u54c1\",\n                \"pv\": 562,\n                \"ratio\": 91,\n                \"sim\": 1665\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u65b9\\u6848\",\n                \"pv\": 418,\n                \"ratio\": 108,\n                \"sim\": 1331\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u516c\\u53f8\",\n                \"pv\": 500,\n                \"ratio\": 115,\n                \"sim\": 1126\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u8bba\\u6587\",\n                \"pv\": 350,\n                \"ratio\": 121,\n                \"sim\": 1051\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u8bbe\\u5907\",\n                \"pv\": 364,\n                \"ratio\": 88,\n                \"sim\": 1035\n            }, {\n                \"word\": \"\\u6d77\\u5c14\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 2374,\n                \"ratio\": 107,\n                \"sim\": 1014\n            }, {\n                \"word\": \"\\u676d\\u5dde\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 372,\n                \"ratio\": 101,\n                \"sim\": 899\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5316\\u5bb6\\u5c45\\u7cfb\\u7edf\",\n                \"pv\": 50,\n                \"ratio\": 156,\n                \"sim\": 847\n            }, {\n                \"word\": \"\\u667a\\u5bb6\\u7f51\",\n                \"pv\": 388,\n                \"ratio\": 101,\n                \"sim\": 818\n            }, {\n                \"word\": \"\\u534e\\u4e3a\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 4908,\n                \"ratio\": 99,\n                \"sim\": 802\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u529f\\u80fd\",\n                \"pv\": 64,\n                \"ratio\": 89,\n                \"sim\": 774\n            }, {\n                \"word\": \"\\u798f\\u5bb6\\u667a\\u80fd\",\n                \"pv\": 14,\n                \"ratio\": 88,\n                \"sim\": 774\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u5382\\u5bb6\",\n                \"pv\": 206,\n                \"ratio\": 100,\n                \"sim\": 759\n            }, {\n                \"word\": \"\\u667a\\u6167\\u5bb6\\u5c45\",\n                \"pv\": 1028,\n                \"ratio\": 98,\n                \"sim\": 732\n            }, {\n                \"word\": \"\\u4ec0\\u4e48\\u662f\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 698,\n                \"ratio\": 78,\n                \"sim\": 720\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u884c\\u4e1a\",\n                \"pv\": 140,\n                \"ratio\": 106,\n                \"sim\": 676\n            }, {\n                \"word\": \"\\u6b27\\u745e\\u535a\",\n                \"pv\": 5236,\n                \"ratio\": 101,\n                \"sim\": 666\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u6307\\u5957\",\n                \"pv\": 56,\n                \"ratio\": 187,\n                \"sim\": 638\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u8bba\\u575b\",\n                \"pv\": 156,\n                \"ratio\": 116,\n                \"sim\": 611\n            }, {\n                \"word\": \"\\u667a\\u80fd\\u5bb6\\u5c45\\u52a0\\u76df\",\n                \"pv\": 552,\n                \"ratio\": 71,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u745e\\u8baf\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 8,\n                \"ratio\": 100,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u70df\\u53f0\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 348,\n                \"ratio\": 109,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u90d1\\u5dde\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 18,\n                \"ratio\": 39,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u505c\\u8f66\\u573a\\u4e00\\u6c27\\u5316\\u78b3\",\n                \"pv\": 4,\n                \"ratio\": 200,\n                \"sim\": 599\n            }, {\n                \"word\": \"THINKHOME\\u667a\\u8f69\",\n                \"pv\": 4,\n                \"ratio\": 100,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u7535\\u52a8\\u7a97\\u5e18\\u7cfb\\u7edf\",\n                \"pv\": 44,\n                \"ratio\": 169,\n                \"sim\": 599\n            }, {\n                \"word\": \"\\u957f\\u6c99\\u667a\\u80fd\\u5bb6\\u5c45\",\n                \"pv\": 54,\n                \"ratio\": 90,\n                \"sim\": 599\n            }]\n        }]\n    },\n    \"logid\": 3679053901,\n    \"message\": null\n}\n\ndata = data.data.wordlist[0].wordGraph\n\nconsole.log(data)\n\nconst color_center = '#73afff'\nconst color_up = '#FF8985'\nconst color_down = '#08D0A3'\n\nconst getNumWidthRange = (originalRange, resultRange) => {\n    console.log(originalRange, resultRange)\n    let scale = (originalRange[1] - originalRange[0]) / (resultRange[1] - resultRange[0])\n    \n    return (num) => (num - originalRange[0]) / scale + resultRange[0]\n}\n\nlet getSymbolSizeRange = (() => {\n    const pv = data.map(i => i.pv)\n    return getNumWidthRange([Math.min(...pv), Math.max(...pv)], [16, 32])\n})()\n\nlet getAngleIndexRange = getNumWidthRange([0, 1], [0, 35])\n\nlet getRadiusRange = (() => {\n    let distance = data.map(i => i.sim)\n    return getNumWidthRange([Math.min(...distance), Math.max(...distance)], [0, 35])\n})()\n\noption = {\n    \"color\": [\n        \"#c23531\",\n        \"#2f4554\",\n        \"#61a0a8\",\n        \"#d48265\",\n        \"#91c7ae\",\n        \"#749f83\",\n        \"#ca8622\",\n        \"#bda29a\",\n        \"#6e7074\",\n        \"#546570\",\n        \"#c4ccd3\"\n    ],\n    \"gradientColor\": [\n        \"#f6efa6\",\n        \"#d88273\",\n        \"#bf444c\"\n    ],\n    \"textStyle\": {\n        \"fontFamily\": \"sans-serif\",\n        \"fontSize\": 12,\n        \"fontStyle\": \"normal\",\n        \"fontWeight\": \"normal\"\n    },\n    \"animation\": \"auto\",\n    \"animationDuration\": 1000,\n    \"animationDurationUpdate\": 300,\n    \"animationEasing\": \"exponentialOut\",\n    \"animationEasingUpdate\": \"cubicOut\",\n    \"animationThreshold\": 2000,\n    \"progressiveThreshold\": 3000,\n    \"progressive\": 400,\n    \"hoverLayerThreshold\": 3000,\n    \"useUTC\": false,\n    \"radiusAxis\": [{\n        \"type\": \"value\",\n        \"splitNumber\": 3,\n        \"minInterval\": 5,\n        \"maxInterval\": 10,\n        \"min\": 0,\n        \"max\": 35,\n        \"splitLine\": {\n            \"show\": false,\n            \"lineStyle\": {\n                \"color\": [\n                    \"#ccc\"\n                ],\n                \"width\": 1,\n                \"type\": \"solid\"\n            }\n        },\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\n                    \"#E9F1FE\",\n                    \"#E9F1FE\",\n                    \"#F7FAFE\",\n                    \"#FFFFFF\"\n                ]\n            }\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true,\n            \"onZeroAxisIndex\": null,\n            \"lineStyle\": {\n                \"color\": \"#333\",\n                \"width\": 1,\n                \"type\": \"solid\"\n            },\n            \"symbol\": [\n                \"none\",\n                \"none\"\n            ],\n            \"symbolSize\": [\n                10,\n                15\n            ]\n        },\n        \"axisTick\": {\n            \"show\": false,\n            \"inside\": false,\n            \"length\": 5,\n            \"lineStyle\": {\n                \"width\": 1\n            }\n        },\n        \"axisLabel\": {\n            \"show\": false,\n            \"inside\": false,\n            \"rotate\": 0,\n            \"showMinLabel\": null,\n            \"showMaxLabel\": null,\n            \"margin\": 8,\n            \"fontSize\": 12\n        },\n        \"boundaryGap\": [\n            0,\n            0\n        ],\n        \"show\": true,\n        \"zlevel\": 0,\n        \"z\": 0,\n        \"inverse\": false,\n        \"name\": \"\",\n        \"nameLocation\": \"end\",\n        \"nameRotate\": null,\n        \"nameTruncate\": {\n            \"maxWidth\": null,\n            \"ellipsis\": \"...\",\n            \"placeholder\": \".\"\n        },\n        \"nameTextStyle\": {},\n        \"nameGap\": 15,\n        \"silent\": false,\n        \"triggerEvent\": false,\n        \"tooltip\": {\n            \"show\": false\n        },\n        \"axisPointer\": {}\n    }],\n    \"angleAxis\": [{\n        \"type\": \"value\",\n        \"boundaryGap\": false,\n        \"interval\": 1,\n        \"min\": 0,\n        \"max\": 36,\n        \"splitLine\": {\n            \"show\": false,\n            \"lineStyle\": {\n                \"color\": [\n                    \"#ccc\"\n                ],\n                \"width\": 1,\n                \"type\": \"solid\"\n            }\n        },\n        \"axisLine\": {\n            \"show\": false,\n            \"onZero\": true,\n            \"onZeroAxisIndex\": null,\n            \"lineStyle\": {\n                \"color\": \"#333\",\n                \"width\": 1,\n                \"type\": \"solid\"\n            },\n            \"symbol\": [\n                \"none\",\n                \"none\"\n            ],\n            \"symbolSize\": [\n                10,\n                15\n            ]\n        },\n        \"axisTick\": {\n            \"show\": false,\n            \"inside\": false,\n            \"length\": 5,\n            \"lineStyle\": {\n                \"width\": 1\n            }\n        },\n        \"axisLabel\": {\n            \"show\": false,\n            \"inside\": false,\n            \"rotate\": false,\n            \"showMinLabel\": null,\n            \"showMaxLabel\": null,\n            \"margin\": 8,\n            \"fontSize\": 12\n        },\n        \"splitNumber\": 12,\n        \"show\": true,\n        \"zlevel\": 0,\n        \"z\": 0,\n        \"inverse\": false,\n        \"name\": \"\",\n        \"nameLocation\": \"end\",\n        \"nameRotate\": null,\n        \"nameTruncate\": {\n            \"maxWidth\": null,\n            \"ellipsis\": \"...\",\n            \"placeholder\": \".\"\n        },\n        \"nameTextStyle\": {},\n        \"nameGap\": 15,\n        \"silent\": false,\n        \"triggerEvent\": false,\n        \"tooltip\": {\n            \"show\": false\n        },\n        \"axisPointer\": {},\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\n                    \"rgba(250,250,250,0.3)\",\n                    \"rgba(200,200,200,0.3)\"\n                ]\n            }\n        },\n        \"startAngle\": 90,\n        \"clockwise\": true\n    }],\n    \"polar\": [{\n        \"radius\": 460,\n        \"center\": [\n            \"50%\",\n            \"46%\"\n        ],\n        \"zlevel\": 0,\n        \"z\": 0\n    }],\n    \"series\": [{\n        \"type\": \"scatter\",\n        \"coordinateSystem\": \"polar\",\n        label: {\n            show: true,\n            color: '#666',\n            position: 'bottom',\n            formatter: (params) => {\n                return params.value[2].word\n            }\n        },\n        emphasis: {\n            label: {\n                show: true\n            }\n        },\n        symbol: 'circle',\n        symbolSize: (value) => {\n            return getSymbolSizeRange(value[2].pv)\n        },\n        data: data.map((item, iIndex) => {\n           return {\n               value: [getRadiusRange(item.sim), getAngleIndexRange(Math.random()), item]\n           }\n        }),\n        \"animation\": true,\n        \"name\": \"智能家居\",\n        itemStyle: {\n            color: (params) => {\n                return params.value[2].ratio > 100 ? color_up : color_down\n            }\n        },\n        \"zlevel\": 0,\n        \"z\": 2,\n        \"legendHoverLink\": true,\n        \"hoverAnimation\": true,\n        \"large\": false,\n        \"largeThreshold\": 2000,\n    }],\n}","html":"","externalScripts":"","updaterUID":"bd-2399318835","theme":"","layout":"","viewCount":218,"userName":"1***5","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xg4AK5BqX1.png?v=1593512104475","isCustomThumbnail":0,"builtinTags":["category-work","legend","polar","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"1***5"}}