{"status":0,"data":{"cid":"xq8kcJ7pqhj","authorUid":"bd-1459877266","authorUserName":"l***4","title":"带序号，带数值Bar","description":"from York","latestVersion":1,"alwaysLatest":1,"createTime":"2018-11-22T10:17:36.000Z","lastUpdateTime":"2018-11-22T10:17:36.000Z","auth":2,"uid":"bd-1459877266","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-22T10:17:36.000Z","code":"const alarmTop = [100.24, 90.24, 80.42, 70.42, 52.24]\r\nconst alarmTop1 = ['FaceBook', 'Twitter', 'Youtube', 'Baidu', 'Alibaba']\r\nconst data1 = alarmTop.reverse()\r\nconst listNum = []\r\ndata1.map((item, index) => {\r\n  let bgColor = '#3B95FF'\r\n  if (index === 0) {\r\n    bgColor = '#F2497D'\r\n  } else if (index === 1) {\r\n    bgColor = '#FF6D4A'\r\n  } else if (index === 2) {\r\n    bgColor = '#00D194'\r\n  }\r\n  listNum.push({\r\n    value: index + 1,\r\n    textStyle: {\r\n      rich: {\r\n        a: {\r\n          color: '#fff',\r\n          width: 20,\r\n          height: 20,\r\n          align: 'center',\r\n          backgroundColor: bgColor,\r\n          lineHeight: 20,\r\n          borderRadius: 10\r\n        }\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\nlistNum.reverse()\r\nconst data1Max = Math.max.apply(Math, data1)\r\nconst data2 = []\r\nfor (let i = 0; i < data1.length; i++) {\r\n  data2.push(data1Max * 1.2)\r\n}\r\noption = {\r\n  backgroundColor: '#FFFFFF',\r\n  grid: {\r\n    left: '5%',\r\n    top: '5%',\r\n    bottom: '3%',\r\n    right: '3%',\r\n    containLabel: true\r\n  },\r\n  legend: {\r\n    show: false\r\n  },\r\n  xAxis: {\r\n    splitLine: {\r\n      show: false\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    axisLine: {\r\n      show: false\r\n    },\r\n    axisLabel: {\r\n      show: false\r\n    }\r\n  },\r\n  yAxis: [{\r\n    splitLine: {\r\n      show: false\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    axisLine: {\r\n      show: false\r\n    },\r\n    offset: 80,\r\n    // 标签\r\n    axisLabel: {\r\n      color: '#323c47',\r\n      fontSize: 12,\r\n      align: 'left'\r\n    },\r\n    data: alarmTop1.reverse()\r\n    // data:[]\r\n  }, {\r\n    position: 'left',\r\n    offset: 90,\r\n    backgroundColor: '#f24a7d',\r\n    splitLine: {\r\n      show: false\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    axisLine: {\r\n      show: false\r\n    },\r\n    axisLabel: {\r\n      color: '#323c47',\r\n      fontSize: 12,\r\n      formatter: function(d, i) {\r\n        return '{a|' + d + '}'\r\n      }\r\n    },\r\n    // 左边序号\r\n    data: listNum\r\n  }],\r\n  series: [{\r\n    type: 'bar',\r\n    barGap: '-100%',\r\n    barWidth: 8,\r\n    itemStyle: {\r\n      color: {\r\n        type: 'linear',\r\n        x: 0,\r\n        y: 0,\r\n        x2: 1,\r\n        y2: 0,\r\n        colorStops: [{\r\n          offset: 0, color: '#1A79FF'\r\n        }, {\r\n          offset: 1, color: '#39B1FF'\r\n        }],\r\n        globalCoord: false\r\n      },\r\n      shadowColor: '#AEDDFF',\r\n      shadowBlur: 1,\r\n      shadowOffsetX: 1,\r\n      shadowOffsetY: 1,\r\n      barBorderRadius: [0, 5, 5, 0]\r\n    },\r\n    z: -10,\r\n    data: data1\r\n  }, {\r\n    type: 'bar',\r\n    barGap: '-100%',\r\n    barWidth: 10,\r\n    itemStyle: {\r\n      normal: {\r\n        color: '#ffffff',\r\n        borderColor: 'rgba(255,255,255,0.5)',\r\n        borderWidth: 2,\r\n        shadowColor: '#ffffff',\r\n        shadowBlur: 4,\r\n        barBorderRadius: 12\r\n      }\r\n    },\r\n    label: {\r\n      normal: {\r\n        show: true,\r\n        position: 'right',\r\n        fontSize: 12,\r\n        color: '#308fff',\r\n        offset: [30, 0],\r\n        formatter: function(params) {\r\n          return data1[params.dataIndex] + 'TB'\r\n        }\r\n      }\r\n    },\r\n    z: -12,\r\n    data: data2\r\n  }]\r\n}","html":"","externalScripts":"","updaterUID":"bd-1459877266","theme":"","layout":"","viewCount":193,"userName":"l***4","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xq8kcJ7pqhj.png?v=1542881856374","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"l***4"}}