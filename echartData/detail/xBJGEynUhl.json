{"status":0,"data":{"cid":"xBJGEynUhl","authorUid":"bd-1762150643","authorUserName":"踢***帅","title":"yarn堆积图","description":"带时间轴的折线堆积图","latestVersion":2,"alwaysLatest":1,"createTime":"2017-03-27T15:26:34.000Z","lastUpdateTime":"2017-03-27T15:26:34.000Z","auth":2,"uid":"bd-1762150643","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.5.1","versionCreateTime":"2017-03-27T15:34:11.000Z","code":"var xvalue_24h = ['00', '01', '02', '03',\r\n    '04', '05', '06', '07', '08',\r\n    '09', '10', '11', '12', '13',\r\n    '14', '15', '16', '17', '18',\r\n    '19', '20', '21', '22', '23', '24h'\r\n];\r\nvar yarn_data_obj = {\r\n\t\"xValueList\": xvalue_24h,\r\n\t\"queueNameList\": [\"billbd\", \"billqueue\", \"default\", \"dzqd\"],\r\n\r\n\t\"2017-01-28\": {\r\n\t\t\"billbd\": [0.45, 0.43, 0.50, 0.55, 0.58, 0.62, 0.83, 0.39, 0.56, 0.67, 0.50, 0.34, 0.50, 0.67, 0.58, 0.29, 0.46, 0.23, 0.47, 0.46, 0.38, 0.56, 0.48, 0.36],\r\n\t\t\"billqueue\": [0.38, 0.31, 0.32, 0.32, 0.64, 0.66, 0.86, 0.47, 0.52, 0.75, 0.52, 0.56, 0.54, 0.60, 0.46, 0.63, 0.54, 0.51, 0.58, 0.64, 0.60, 0.45, 0.36, 0.67],\r\n\t\t\"default\": [0.46, 0.32, 0.53, 0.58, 0.86, 0.68, 0.85, 0.73, 0.69, 0.71, 0.91, 0.74, 0.60, 0.50, 0.39, 0.67, 0.55, 0.49, 0.65, 0.45, 0.64, 0.47, 0.63, 0.64],\r\n\t\t\"dzqd\": [0.60, 0.51, 0.52, 0.53, 0.64, 0.84, 0.65, 0.68, 0.63, 0.47, 0.72, 0.60, 0.65, 0.74, 0.66, 0.65, 0.71, 0.59, 0.65, 0.77, 0.52, 0.53, 0.58, 0.53],\r\n\t},\r\n\t\"2017-01-29\": {\r\n\t\t\"billbd\": [14.1, 33.9, 36.0, 47.1, 39.0, 25.1, 14.9, 8.24, 0, 0, 0, 0, 21.6, 1.36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t\"billqueue\": [7.19, 8.23, 5.86, 6.54, 5.28, 3.56, 3.20, 4.13, 4.75, 7.74, 7.92, 8.54, 8.15, 8.75, 8.31, 7.65, 8.59, 8.62, 7.97, 8.99, 8.02, 9.61, 8.74, 7.44],\r\n\t\t\"default\": [0.01, 6.92, 9.11, 9.60, 9.44, 9.67, 9.72, 9.75, 9.73, 9.78, 9.97, 9.96, 9.89, 9.78, 9.70, 10, 9.62, 9.24, 9.28, 7.02, 9.99, 6.40, 5.39, 4.71],\r\n\t},\r\n\t\"2017-01-30\": {\r\n\t\t\"billqueue\": [8.10, 7.36, 8.51, 7.51, 5.05, 3.06, 3.48, 3.74, 5.16, 10.2, 12.5, 9.89, 9.52, 9.80, 10.1, 9.46, 9.35, 9.79, 9.25, 8.81, 8.86, 9.60, 8.81, 8.69],\r\n\t\t\"default\": [2.73, 2.37, 2.38, 1.99, 1.76, 2.17, 4.59, 2.37, 4.19, 6.31, 4.90, 5.30, 5.11, 5.26, 4.66, 4.92, 6.24, 5.95, 5.33, 5.44, 5.04, 4.70, 4.94, 3.28],\r\n\t},\r\n\t\"2017-01-31\": {\r\n\t\t\"billbd\": [0.45, 0.43, 0.50, 0.55, 0.58, 0.62, 0.83, 0.39, 0.56, 0.67, 0.50, 0.34, 0.50, 0.67, 0.58, 0.29, 0.46, 0.23, 0.47, 0.46, 0.38, 0.56, 0.48, 0.36],\r\n\t\t\"default\": [0.46, 0.32, 0.53, 0.58, 0.86, 0.68, 0.85, 0.73, 0.69, 0.71, 0.91, 0.74, 0.60, 0.50, 0.39, 0.67, 0.55, 0.49, 0.65, 0.45, 0.64, 0.47, 0.63, 0.64],\r\n\t\t\"dzqd\": [0.60, 0.51, 0.52, 0.53, 0.64, 0.84, 0.65, 0.68, 0.63, 0.47, 0.72, 0.60, 0.65, 0.74, 0.66, 0.65, 0.71, 0.59, 0.65, 0.77, 0.52, 0.53, 0.58, 0.53],\r\n\t},\r\n\t\"2017-02-01\": {\r\n\t\t\"billbd\": [14.1, 33.9, 36.0, 47.1, 39.0, 25.1, 14.9, 8.24, 0, 0, 0, 0, 21.6, 1.36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t},\r\n\t\"2017-02-02\": {\r\n\t\t\"billqueue\": [8.10, 7.36, 8.51, 7.51, 5.05, 3.06, 3.48, 3.74, 5.16, 10.2, 12.5, 9.89, 9.52, 9.80, 10.1, 9.46, 9.35, 9.79, 9.25, 8.81, 8.86, 9.60, 8.81, 8.69],\r\n\t\t\"default\": [2.73, 2.37, 2.38, 1.99, 1.76, 2.17, 4.59, 2.37, 4.19, 6.31, 4.90, 5.30, 5.11, 5.26, 4.66, 4.92, 6.24, 5.95, 5.33, 5.44, 5.04, 4.70, 4.94, 3.28],\r\n\t\t\"billbd\": [0.45, 0.43, 0.50, 0.55, 0.58, 0.62, 0.83, 0.39, 0.56, 0.67, 0.50, 0.34, 0.50, 0.67, 0.58, 0.29, 0.46, 0.23, 0.47, 0.46, 0.38, 0.56, 0.48, 0.36],\r\n\t\t\"dzqd\": [0.60, 0.51, 0.52, 0.53, 0.64, 0.84, 0.65, 0.68, 0.63, 0.47, 0.72, 0.60, 0.65, 0.74, 0.66, 0.65, 0.71, 0.59, 0.65, 0.77, 0.52, 0.53, 0.58, 0.53],\r\n\t},\r\n\t\"2017-02-03\": {\r\n\t\t\"billqueue\": [2.73, 21.3, 41.6, 17.2, 19.9, 1.60, 2.10, 2.54, 2.78, 3.62, 4.41, 4.09, 3.83, 4.47, 4.20, 3.94, 3.80, 3.58, 3.19, 4.30, 3.69, 3.52, 3.02, 3.30],\r\n\t\t\"default\": [1.51, 28.7, 0.94, 1.44, 18.6, 1.63, 1.56, 1.91, 2.45, 3.87, 3.24, 4.90, 4.61, 4.10, 4.17, 3.85, 4.17, 3.46, 3.46, 3.55, 3.50, 4.13, 2.58, 2.28],\r\n\t\t\"billbd\": [1.33, 4.68, 1.31, 1.10, 13.9, 1.10, 1.16, 1.67, 2.64, 2.86, 3.00, 3.21, 4.14, 4.07, 3.68, 3.11, 3.41, 3.25, 3.32, 3.07, 3.92, 3.05, 2.18, 3.24],\r\n\t\t\"dzqd\": [3.23, 3.15, 2.90, 1.81, 2.11, 2.43, 5.59, 3.09, 4.09, 6.14, 5.33, 6.05, 5.71, 6.22, 6.56, 4.75, 5.27, 6.02, 5.22, 5.77, 6.19, 5.68, 4.33, 5.48]\r\n\t},\r\n};\r\nvar dateArr=[];\r\nfor(key in yarn_data_obj){\r\n    if(key===\"xValueList\"||key===\"queueNameList\") continue;\r\n    dateArr.push(key);\r\n}\r\nvar colorConsArr_hdfs = [\"#ffca67\", \"#ff60a2\", \"#bf64ff\", \"#6c65fb\", \"#93dffc\", \"#fb915f\", \"#4fc277\", \"#3e94fe\", \"#ff9cc5\", \"#c46100\", \"#9de369\"];\r\nvar option={\r\n\tbaseOption: {\r\n\t\tbackgroundColor: 'rgba(7,14,28,1)', //设置背景色\r\n\t\ttooltip: {\r\n\t\t\ttrigger: 'axis'\r\n\t\t},\r\n\t\tcolor: [], //ToDo\r\n\t\tlegend: {\r\n            itemGap: 14,\r\n            right: '16%',\r\n            top: '2%',\r\n            //padding:[40,10,0,10],\r\n            data: [] //ToDo\r\n        },\r\n\t\tgrid: {\r\n\t\t\tleft: '1.5%',\r\n\t\t\tright: '3%',\r\n\t\t\tbottom: '12%',\r\n\t\t\tcontainLabel: true\r\n\t\t},\r\n\t\txAxis: [{\r\n            type: 'category',\r\n            boundaryGap: true,\r\n            data: xvalue_24h, //Todo\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: \"#454e72\"\r\n                },\r\n                margin: 15\r\n            },\r\n            splitLine: {\r\n                lineStyle: {\r\n                    color: \"#1d203b\"\r\n                }\r\n            }\r\n        }],\r\n        yAxis: [{\r\n            name: '单位（个）',\r\n            nameGap:20,\r\n            nameTextStyle:{\r\n                color:'#454e72',\r\n                fontSize: 12,\r\n            },\r\n            type: 'value',\r\n\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#303765'\r\n                },\r\n                margin: 20\r\n            },\r\n            splitLine: {\r\n                lineStyle: {\r\n                    color: \"#1d203b\"\r\n                }\r\n            }\r\n        }],\r\n\t\ttimeline: {\r\n            axisType: 'category',\r\n            autoPlay: false,\r\n            playInterval: 3000,\r\n            symbol: 'circle',\r\n            inverse: false,\r\n            rewind: true,\r\n            symbolSize: 5,\r\n            checkpointStyle: {\r\n                symbol: 'circle',\r\n                symbolSize: 7,\r\n                color: '#aed2ff',\r\n                borderColor: \"#aed2ff\"\r\n            },\r\n            left: \"1%\",\r\n            width: '90%',\r\n            height: '36',\r\n            lineStyle: {\r\n                color: \"#454e72\"\r\n            },\r\n            label: {\r\n                normal: {\r\n                    textStyle: {\r\n                        color: \"#aed2ff\",\r\n                        fontSize: 14,\r\n                    }\r\n                },\r\n                position: 15,\r\n                formatter: function(value, index) {\r\n                    return value.replace(/-/g, \".\");\r\n                }\r\n            },\r\n            data: dateArr\r\n        },\r\n\t\tseries: [] //ToDo\r\n\t},\r\n\toptions: [] //Todo\r\n};\r\noption.baseOption.legend=(function(){\r\n    var namelist = [];\r\n\tfor (var i = 0; i < yarn_data_obj[\"queueNameList\"].length; i++) {\r\n\t\tnamelist.push({\r\n\t\t\tname: yarn_data_obj[\"queueNameList\"][i],\r\n\t\t\ticon: 'circle',\r\n\t\t\ttextStyle: {\r\n\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\tfontSize: '14px',\r\n\t\t\t\tcolor: '#454e72'\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t}\r\n\treturn namelist;\r\n})()\r\nfor (var i = 0; i < dateArr.length; i++) {\r\n    var options = [];\r\n\tfor (var i = 0; i < dateArr.length; i++) {\r\n\t\tvar item = [];\r\n\t\tfor (var j = 0; j < (Object.keys(yarn_data_obj[dateArr[i]])).length; j++) {\r\n\t\t\tvar dataItem = yarn_data_obj[dateArr[i]]\r\n\t\t\tvar nameList = Object.keys(yarn_data_obj[dateArr[i]]);\r\n\t\t\titem.push({\r\n\t\t\t\tname: nameList[j],\r\n\t\t\t\ttype: 'line',\r\n\t\t\t\tstack: '总量',\r\n\t\t\t\tareaStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tcolor: colorConsArr_hdfs[j],\r\n\t\t\t\t\t\topacity: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tcolor: colorConsArr_hdfs[j],\r\n\t\t\t\t\t\twidth: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'none',\r\n\t\t\t\tsmooth: true,\r\n\t\t\t\tdata: dataItem[nameList[j]]\r\n\t\t\t})\r\n\t\t}\r\n\t\toption.options.push({\r\n\t\t\tseries: item,\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n};\r\n\r\n\r\nmyChart.setOption(option);","html":"","externalScripts":"","updaterUID":"bd-1762150643","theme":"","layout":"","viewCount":4122,"userName":"踢***帅","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJGEynUhl.png?v=1490628851636","isCustomThumbnail":0,"builtinTags":["axisPointer","category-work","grid","legend","series-line","timeline","tooltip"],"customTags":["line","timeline"],"updaterUserName":"踢***帅"}}