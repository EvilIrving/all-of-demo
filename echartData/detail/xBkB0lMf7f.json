{"status":0,"data":{"cid":"xBkB0lMf7f","authorUid":"bd-220948992","authorUserName":"雨花石_5","title":"广州","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-12-28T06:35:57.000Z","lastUpdateTime":"2017-12-28T06:35:57.000Z","auth":2,"uid":"bd-220948992","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-28T06:35:57.000Z","code":"var geoCoordMap = {\r\n\t'广州': [113.5107,23.2196],\r\n\t'越秀': [113.273152,23.134756],\r\n\t'白云': [113.283644,23.16546],\r\n\t'天河': [113.368444,23.130502],\r\n\t'荔湾': [113.243429,23.122843],\r\n\t'番禺': [113.390607,22.944312],\r\n\t'海珠': [113.329594,23.093658],\r\n\t'花都': [113.228697,23.410155],\r\n\t'增城': [113.81971,23.267341],\r\n\t'黄埔': [113.464915,23.112174],\r\n\t'从化': [113.593984,23.554304],\r\n\t'南沙': [113.527294,22.827079],\r\n};\r\n\r\nvar GZData = [\r\n    [{name:'广州'},{name: '越秀',value:96}],\r\n    [{name:'广州'},{name: '白云',value:90}],\r\n    [{name:'广州'},{name: '天河',value:96}],\r\n    [{name:'广州'},{name: '荔湾',value:90}],\r\n\t[{name:'广州'},{name: '番禺',value:77}],\r\n\t[{name:'广州'},{name: '海珠',value:70}],\r\n\t[{name:'广州'},{name: '花都',value:94}],\r\n\t[{name:'广州'},{name: '增城',value:79}],\r\n\t[{name:'广州'},{name: '从化',value:51}],\r\n    [{name:'广州'},{name: '黄埔',value:67}]\r\n\t\t\t\t\t\r\n];\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = geoCoordMap[dataItem[0].name];\r\n        var toCoord = geoCoordMap[dataItem[1].name];\r\n        if (fromCoord && toCoord) {\r\n            res.push([{\r\n                coord: fromCoord,\r\n                value: dataItem[0].value//来源或流向修改\r\n            }, {\r\n                coord: toCoord,\r\n            }]);\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar series = [];\r\n[['广州', GZData]].forEach(function (item, i) {\r\n    series.push(\r\n    {\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n       \r\n        label: { //图形上的城市文本标签\r\n            normal: {\r\n                show: true,\r\n                position: 'right',\r\n                formatter: '{b}',\r\n                textStyle:{\r\n                    color:'#fff',\r\n\t\t\t\t\tfontStyle: 'normal',\r\n                    fontFamily: 'arial',\r\n                    fontSize: 12,\r\n                }\r\n            }\r\n        },\r\n        symbolSize: 1,//点大小\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                      var tmp = params.data.value[2]\r\n                      if (tmp < 25) {\r\n                          return 'aqua';\r\n                      } else if (tmp < 50) {\r\n                          return 'lime';\r\n                      } else if (tmp < 76) {\r\n                          return 'yellow';\r\n                      } else if (tmp < 95) {\r\n                          return 'orange'\r\n                      } else\r\n                          return '#ff3333';\r\n                }\r\n            }\r\n        },\r\n        data: item[1].map(function (dataItem) {\r\n            return {\r\n                name: dataItem[1].name,\r\n                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])\r\n            };\r\n        })\r\n    });\r\n});\r\noption = {\r\n    backgroundColor: '#23243a',\r\n    tooltip : {  //提示组件\r\n        trigger: 'item',\r\n    },\r\n    geo: {\r\n        map: 'guangzhou',\r\n        label: {\r\n            emphasis: {\r\n                show: false,\r\n                textStyle: {\r\n\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t}\r\n            }\r\n        },\r\n        roam: true, //开启缩放或者平移\r\n        zoom: 1.1,  //缩放比例\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: 'none',\r\n                borderColor: 'rgba(100,149,237,1)'\r\n            },\r\n            emphasis: {\r\n                areaColor: '#1b1b1b'\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"http://pc.mejun.com.cn:8090/crowdMonitor/view/webapp/js/map/guangzhou.js?version=20171132","updaterUID":"bd-220948992","theme":"","layout":"","viewCount":553,"userName":"雨花石_5","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkB0lMf7f.png?v=1514442957105","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","tooltip"],"customTags":[],"updaterUserName":"雨花石_5"}}