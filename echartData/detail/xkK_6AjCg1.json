{"status":0,"data":{"cid":"xkK_6AjCg1","authorUid":"obd-oEyg0MBTbn0D6qb0urq-VcfO5AutO4f","authorUserName":"c***嘤","title":"双坐标轴跌涨幅柱状图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-18T07:38:09.000Z","lastUpdateTime":"2021-11-18T08:27:10.000Z","auth":2,"uid":"obd-oEyg0MBTbn0D6qb0urq-VcfO5AutO4f","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-18T08:27:10.000Z","code":"const getArrByKey = (data,k,p) => {\n  const result = data.map((t) => {\n    const newValue = Number(t[p]).toFixed(2);\n    return `${t[k]},${newValue}`;\n  });\n  return result;\n}\nconst data1 = [\n  {\n    dayOnDay: -21,\n    price: 9,\n    typeGroup: '葱蒜类',\n  },\n  {\n    dayOnDay: -19,\n    price: 10.22,\n    typeGroup: '水生类',\n  },\n  {\n    dayOnDay: -17.5,\n    price: 10,\n    typeGroup: '瓜果类',\n  },\n  {\n    dayOnDay: -14,\n    price: 13,\n    typeGroup: '野菜类',\n  },\n  {\n    dayOnDay: -13,\n    price: 7,\n    typeGroup: '根茎类',\n  },\n   {\n    dayOnDay: -11.5,\n    price: 8,\n    typeGroup: '蔬菜类',\n  },\n  {\n    dayOnDay: -10,\n    price: 9,\n    typeGroup: '椭圆类',\n  },\n  {\n    dayOnDay: -8,\n    price: 2,\n    typeGroup: '尖头类',\n  },\n]\nconst data2 = [\n  {\n    dayOnDay: 18,\n    price: 19,\n    typeGroup: '葱蒜类',\n  },\n  {\n    dayOnDay: 17,\n    price: 18.5,\n    typeGroup: '水生类',\n  },\n  {\n    dayOnDay: 15,\n    price: 16,\n    typeGroup: '瓜果1类',\n  },\n  {\n    dayOnDay: 14,\n    price: 13.2,\n    typeGroup: '葱蒜类1',\n  },\n  {\n    dayOnDay: 11,\n    price: 8,\n    typeGroup: '水生类1',\n  },\n  {\n    dayOnDay: 7,\n    price: 5,\n    typeGroup: '瓜果类',\n  },\n  {\n    dayOnDay: 6,\n    price: 4,\n    typeGroup: '瓜果类2',\n  },\n  {\n    dayOnDay: 4,\n    price: 2,\n    typeGroup: '瓜果类2',\n  },\n];\n\n const splitLine ={\n    lineStyle: {\n      color: '#fff',\n      width: 1,\n      opacity: 0.2,\n    },\n  }\n const axisLine = {\n    show: true,\n    lineStyle: {\n      color: '#fff',\n      width: 1,\n      opacity: 0.2,\n    },\n  }\n const axisLabel = {\n    color: '#fff',\n    opacity: 0.5,\n    fontSize: 14,\n  }\n const axisTick = {\n    show: true,\n    lineStyle: {\n      color: '#fff',\n      width: 1,\n      opacity: 0.2,\n    },\n  }\n const nameTextStyle = {\n    color: '#fff',\n    opacity: 0.5,\n    fontSize:14,\n  }\n\noption = {\n  backgroundColor: '#0e1c47',\n  legend: [\n    {\n      top: '1%',\n      left: '20%',\n      orient: 'horizontal',\n      icon: 'none',\n      textStyle: {\n        color: '#ffffff',\n        fontSize: 14,\n      },\n      data: ['跌幅比(%)'],\n    },\n    {\n      top: '1%',\n      right: '25%',\n      orient: 'horizontal',\n      icon: 'none',\n      textStyle: {\n        color: '#ffffff',\n        fontSize: 14,\n      },\n      data: ['涨幅比(%)'],\n    },\n  ],\n  grid: [\n    {\n      show: false,\n      left: 0,\n      top: '10%',\n      bottom: '2%',\n      width: '48%',\n      containLabel: true,\n    },\n    {\n      show: false,\n      left: '45%',\n      top: '20',\n      bottom: '2%',\n      width: 0,\n    },\n    {\n      show: false,\n      right: 0,\n      top: '10%',\n      bottom: '2%',\n      width: '48%',\n      containLabel: true,\n    },\n  ],\n  xAxis: [\n    {\n      type: 'value',\n      gridIndex: 0,\n      // inverse: true,\n      axisLine: axisLine,\n      axisTick: axisTick,\n      axisLabel: axisLabel,\n      splitLine: splitLine,\n      splitNumber: 3,\n    },\n    {\n      gridIndex: 1,\n      show: false,\n    },\n    {\n      gridIndex: 2,\n      show: true,\n      type: 'value',\n      axisLine: axisLine,\n      axisTick: axisTick,\n      axisLabel: axisLabel,\n      splitLine: splitLine,\n      splitNumber: 3,\n    },\n  ],\n  yAxis: [\n    {\n      type: 'category',\n      gridIndex: 0,\n      show: true,\n      inverse: true,\n      data: getArrByKey(data1, 'typeGroup', 'price'),\n      position: 'left',\n      axisLine: {\n        show: false,\n        onZero: false,\n      },\n      splitLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        show: true,\n        color: '#1BF294',\n        fontSize: 14,\n        formatter: (value) => {\n          const arr = value.split(',');\n          return `${arr[0]}{price|${arr[1]}}`;\n        },\n        rich: {\n          price: {\n            color: '#fff',\n            fontSize: 14,\n          },\n        },\n      },\n      name: '元/斤',\n      nameLocation: 'start',\n      nameGap: 10,\n      nameTextStyle: {\n        color: '#fff',\n        opacity: 0.5,\n        fontSize:14,\n        align: 'right',\n      },\n    },\n    {\n      gridIndex: 1,\n      type: 'category',\n      inverse: true,\n      position: 'left',\n      axisLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        show: false,\n      },\n    },\n    {\n      type: 'category',\n      gridIndex: 2,\n      show: true,\n      inverse: true,\n      position: 'right',\n      data: getArrByKey(data2, 'typeGroup', 'price'),\n      axisLine: {\n        show: false,\n        onZero: false,\n      },\n      splitLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        show: true,\n        formatter: (value) => {\n          const arr = value.split(',');\n          return `${arr[0]}{price|${arr[1]}}`;\n        },\n        rich: {\n          price: {\n            color: '#fff',\n            fontSize: 14,\n          },\n        },\n        verticalAlign: 'middle',\n        color: '#1BF294',\n        fontSize: 14,\n      },\n      name: '元/斤',\n      nameLocation: 'start',\n      nameGap: 10,\n      nameTextStyle: {\n        color: '#fff',\n        opacity: 0.5,\n        fontSize:14,\n        align: 'left',\n      },\n    },\n  ],\n  series: [\n    {\n      name: '跌幅比(%)',\n      type: 'bar',\n      showBackground: true,\n      xAxisIndex: 0,\n      yAxisIndex: 0,\n      data: data1.map(e =>e.dayOnDay),\n      barWidth:16,\n      itemStyle: {\n        color: '#14c06d',\n      },\n      label: {\n        show: true,\n        position: 'insideRight',\n        color: '#fff',\n        fontSize: 12,\n        formatter: '{c}%',\n        offset: [-10, 0],\n      },\n    },\n    {\n      name: '涨幅比(%)',\n      type: 'bar',\n      xAxisIndex: 2,\n      yAxisIndex: 2,\n      showBackground: true,\n      data: data2.map(e =>e.dayOnDay),\n      barWidth: 16,\n      itemStyle: {\n        color: '#F16F37',\n      },\n      label: {\n        show: true,\n        position: 'insideLeft',\n        color: '#fff',\n        fontSize: 12,\n        formatter: '{c}%',\n        offset: [10, 0],\n      },\n    },\n  ],\n};","html":"","externalScripts":"","updaterUID":"obd-oEyg0MBTbn0D6qb0urq-VcfO5AutO4f","theme":"","layout":"","viewCount":0,"userName":"c***嘤","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkK_6AjCg1.png?v=1637224030391","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"c***嘤"}}