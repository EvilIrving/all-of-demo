{"status":0,"data":{"cid":"xJK8GYUvaN","authorUid":"bd-1277561159","authorUserName":"执***开","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-14T06:16:00.000Z","lastUpdateTime":"2021-12-14T06:16:00.000Z","auth":2,"uid":"bd-1277561159","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-14T06:16:01.000Z","code":"const result = [\n    {\n        sop_id: 28,\n        period_code: '2022年01月第01期',\n        sop_line_type: 'SUPPLY',\n        sop_line_type_name: '供应能力(ATP)',\n        qty_horizon1: 80,\n        qty_horizon2: 120,\n        qty_horizon3: 160,\n        qty_horizon4: 200,\n        qty_horizon5: 240,\n        qty_horizon6: 280,\n        qty_horizon7: 0,\n        qty_horizon8: 0,\n        qty_horizon9: 0,\n        qty_horizon10: 0,\n        qty_horizon11: 0,\n        qty_horizon12: 0,\n        qty_horizon13: 0,\n        qty_horizon14: 0,\n        qty_horizon15: 0,\n        qty_horizon16: 0,\n        qty_horizon17: 0,\n        qty_horizon18: 0,\n    },\n    {\n        sop_id: 28,\n        period_code: '2022年01月第01期',\n        sop_line_type: 'SOP_NOW',\n        sop_line_type_name: '本期S&OP计划',\n        qty_horizon1: 1538,\n        qty_horizon2: 1440,\n        qty_horizon3: 1532,\n        qty_horizon4: 1624,\n        qty_horizon5: 1716,\n        qty_horizon6: 1808,\n        qty_horizon7: 1900,\n        qty_horizon8: 1992,\n        qty_horizon9: 2084,\n        qty_horizon10: 2176,\n        qty_horizon11: 2268,\n        qty_horizon12: 2360,\n        qty_horizon13: 2452,\n        qty_horizon14: 2544,\n        qty_horizon15: 2636,\n        qty_horizon16: 2728,\n        qty_horizon17: 2820,\n        qty_horizon18: 2912,\n    },\n    {\n        sop_id: 28,\n        period_code: '2022年01月第01期',\n        sop_line_type: 'DEMAND_NOW',\n        sop_line_type_name: '本期需求计划',\n        qty_horizon1: 1348,\n        qty_horizon2: 1440,\n        qty_horizon3: 1532,\n        qty_horizon4: 1624,\n        qty_horizon5: 1716,\n        qty_horizon6: 1808,\n        qty_horizon7: 1900,\n        qty_horizon8: 1992,\n        qty_horizon9: 2084,\n        qty_horizon10: 2176,\n        qty_horizon11: 2268,\n        qty_horizon12: 2360,\n        qty_horizon13: 2452,\n        qty_horizon14: 2544,\n        qty_horizon15: 2636,\n        qty_horizon16: 2728,\n        qty_horizon17: 2820,\n        qty_horizon18: 2912,\n    },\n];\n\nconst dimensions = []\nconst source = []\nconst deleteKeys = ['sop_id', 'period_code', 'sop_line_type']\nconst series = []\n\nresult.forEach((v, index) => {\n  const keys = Object.keys(v)\n  const item = {}\n  keys.forEach((key) => {\n    if (!deleteKeys.includes(key)) {\n      item[key] = v[key]\n      if (index === 0) {\n        dimensions.push(key)\n        series.push({ type: 'bar' })\n      }\n    }\n  })\n  source.push(item)\n})\n\noption = {\n    legend: {},\n    tooltip: {},\n    dataset: {\n        dimensions: dimensions,\n        source: source,\n        // dimensions: ['product', '2015', '2016', '2017'],\n        // source: [\n        //     { product: 'Matcha Latte', 2015: 43.3, 2016: 85.8, 2017: 93.7 },\n        //     { product: 'Milk Tea', 2015: 83.1, 2016: 73.4, 2017: 55.1 },\n        //     { product: 'Cheese Cocoa', 2015: 86.4, 2016: 65.2, 2017: 82.5 },\n        // ],\n    },\n    xAxis: { type: 'category' },\n    yAxis: {},\n    series,\n};\n","html":"","externalScripts":"","updaterUID":"bd-1277561159","theme":"","layout":"","viewCount":0,"userName":"执***开","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJK8GYUvaN.png?v=1639462561130","isCustomThumbnail":0,"builtinTags":["category-work","dataset","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"执***开"}}