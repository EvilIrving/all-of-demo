{"status":0,"data":{"cid":"xRq0T5JsJN","authorUid":"obd-ot7vz0Iqi9MElhgpxFsRzfmu-9PBG8u","authorUserName":"q***p","title":"单条柱状占比图","description":"","latestVersion":4,"alwaysLatest":0,"createTime":"2021-07-01T09:45:51.000Z","lastUpdateTime":"2021-07-05T09:22:39.000Z","auth":2,"uid":"obd-ot7vz0Iqi9MElhgpxFsRzfmu-9PBG8u","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-05T09:22:39.000Z","code":"// let levels = ['严重', '高危', '中危', '低危'];\n\nlet Datas = [23, 58, 65, 98];\nlet name = ['严重', '高危', '中危', '低危'];\nlet color = ['#d98986', '#f3b77b', '#f8c955', '#82b4a3'];\n\nlet series = [];\nlet max = eval(Datas.join(\"+\")); // 首先计算出所有等级的总数\n\nDatas.forEach((item, index) => {\n    console.log(max)\n    let bar;\n    if (item > 0) {\n        bar = {\n            name: name[index],\n            type: 'bar',\n            stack: '总量',\n            // 每条柱形的宽度\n            barWidth: '15%',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'inside',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: '14',\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: color[index],\n                },\n            },\n            data: [item],\n        }\n    } else {\n        bar = {\n            name: name[index],\n            type: 'bar',\n            stack: '总量',\n            // 每条柱形的宽度\n            barWidth: '15%',\n            label: {\n                normal: {\n                    show: false,\n                    position: 'inside',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: '14',\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: color[index],\n                },\n            },\n            data: [item],\n        }\n    }\n    \n    series.push(bar)\n});\n\n// 指定图表的配置项和数据\noption = {\n    /*tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n        },\n    },*/\n    /*legend: {\n        data: levels,\n    },*/\n    /*grid: {\n        left: '10%',\n        right: '10%',\n        bottom: '15%',\n        containLabel: true,\n    },*/\n    xAxis: {\n        type: 'value',\n        max: max,\n        show: false,\n    },\n    yAxis: {\n        type: 'category',\n        show: false,\n        data: [''],\n    },\n    series: series,\n};\n","html":"","externalScripts":"","updaterUID":"obd-ot7vz0Iqi9MElhgpxFsRzfmu-9PBG8u","theme":"","layout":"","viewCount":0,"userName":"q***p","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xRq0T5JsJN.png?v=1625476959224","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"q***p"}}