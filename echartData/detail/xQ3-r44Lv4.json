{"status":0,"data":{"cid":"xQ3-r44Lv4","authorUid":"obd-oP4yFspLjRVwrJMfdPnGV7KDfYDUc9Q","authorUserName":"宁***群","title":"Pie图-dataset-可切换绘制类型","description":"Pie图-dataset传值-自定义可切换绘制类型按钮","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-16T09:57:06.000Z","lastUpdateTime":"2021-08-16T09:57:06.000Z","auth":2,"uid":"obd-oP4yFspLjRVwrJMfdPnGV7KDfYDUc9Q","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-16T09:57:06.000Z","code":"// 绘制类型配置\nvar t = 0\nvar icon = \"path://M675.711586 848.029728l-186.277248-105.922357c-29.21996-18.262475-51.134931-3.652495-51.134931 29.219961v98.617366H146.099802c-51.134931 0-91.312376-40.177446-91.312376-91.312376V263.630519c0-51.134931 40.177446-91.312376 91.312376-91.312377h175.319763V121.183212H146.099802C69.397406 121.183212 3.652495 183.275627 3.652495 263.630519v515.001803c0 76.702396 65.744911 142.447307 142.447307 142.447307h295.8521V986.82454c0 32.872456 21.91497 47.482436 51.134931 29.219961l160.709782-94.964872h7.30499V913.774639l18.262476-10.957485c25.567465-14.60998 25.567465-40.177446-3.652495-54.787426M1070.181052 121.183212h-255.674654V37.175825c0-32.872456-21.91497-47.482436-51.134931-29.21996l-186.277248 105.922356c-29.21996 18.262475-29.21996 43.829941 0 58.439921l186.277248 109.574852c29.21996 18.262475 51.134931 3.652495 51.134931-29.21996V168.665647h255.674654c51.134931 0 91.312376 40.177446 91.312376 91.312377v515.001803c0 51.134931-40.177446 91.312376-91.312376 91.312376h-135.142317v51.134931h135.142317c76.702396 0 142.447307-62.092416 142.447307-142.447307V256.325529c0-73.049901-62.092416-135.142317-142.447307-135.142317\"\n\n\nvar dataset = {\n  dimensions: [\"日期\", \"访问用户\"],\n\tsource: [\n\t\t{ 日期: \"1月1日\", 访问用户: 1523 },\n\t\t{ 日期: \"1月2日\", 访问用户: 1223 },\n\t\t{ 日期: \"1月3日\", 访问用户: 2123 },\n\t\t{ 日期: \"1月4日\", 访问用户: 4123 },\n\t\t{ 日期: \"1月5日\", 访问用户: 3123 },\n\t\t{ 日期: \"1月6日\", 访问用户: 7123 }\n\t]\n}\n\nvar series = [\n  {\n    // name: '面积模式',\n    type: 'pie',\n    radius: ['10%', '50%'],\n    center: ['50%', '50%'],\n    roseType: 'area', // radius  area\n    itemStyle: {\n      borderRadius: 8\n    }\n  }\n  \n]\n\noption = {\n\t\t// title: {\n\t\t// \t\ttext: 'Tree Chart'\n\t\t// },\n    toolbox: {\n        show: true,\n        feature: {\n            myTool:{ //自定义方法 配置   我这是为了实现 饼图切换为柱状图\n                show : true,\n                title : '切换类型',\n                icon : icon,\n                onclick : function (){\n                    t++\n                    if(t%2){\n                        series = [{\n                            type: 'pie',\n                            radius: ['60%', '80%'],\n                            avoidLabelOverlap: false,\n                            label: {\n                               show: false,\n                               position: 'center'\n                            },\n                            emphasis: {\n                    \t\t    label: {\n                        \t\t\tshow: true,\n                        \t\t\tfontSize: '30',\n                        \t\t\tfontWeight: 'bold'\n                        \t\t}\n                    \t    },\n                        \tlabelLine: {\n                        \t\tshow: false\n                        \t}\n                        }]\n                    }else{\n                        series = [{\n                            // name: '面积模式',\n                            type: 'pie',\n                            radius: ['10%', '50%'],\n                            center: ['50%', '50%'],\n                            roseType: 'area', // radius  area\n                            itemStyle: {\n                              borderRadius: 8\n                            }\n                        }]\n                    }\n                   \n                   option.series = series\n                   myChart.setOption(option, true)\n                }\n            },\n        },\n        left: 20,\n        top: 20,\n    },\n    tooltip: {\n        trigger: 'item',\n        // formatter: '{a} <br/>{b} : {c} ({d}%)'\n        formatter: function(params){\n          console.log(params)\n          return params.name\n\t\t\t+ `<br />${params.marker}` \n\t\t\t+ params.dimensionNames[params.encode.value[0]] + ': '\n\t\t\t+ params.value[params.dimensionNames[params.encode.value[0]]] \n\t\t\t+ ' ( ' + params.percent+'% )'\n        }\n    },\n    legend: {\n\t    top: 10\n    },\n    dataset: dataset,\n    series: series\n};","html":"","externalScripts":"","updaterUID":"obd-oP4yFspLjRVwrJMfdPnGV7KDfYDUc9Q","theme":"","layout":"","viewCount":0,"userName":"宁***群","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQ3-r44Lv4.png?v=1629107826953","isCustomThumbnail":0,"builtinTags":["category-work","dataset","legend","series-pie","toolbox","tooltip"],"customTags":[],"updaterUserName":"宁***群"}}