{"status":0,"data":{"cid":"x7UAmfigGz","authorUid":"obd-oEwg-tfsyQIhSqPGVP0ELPf0oiElT4U","authorUserName":"1***1","title":"横向柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-24T08:17:39.000Z","lastUpdateTime":"2021-10-24T08:17:39.000Z","auth":2,"uid":"obd-oEwg-tfsyQIhSqPGVP0ELPf0oiElT4U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-24T08:17:39.000Z","code":"let chartData = [\n    {\n        name: '新浦化学（泰兴）有限公司',\n        value: 9310,\n    },\n    {\n        name: '泰兴锦华石化有限公司',\n        value: 3921,\n    },\n    {\n        name: '泰兴金江化学工业有限公司',\n        value: 3780,\n    },\n    {\n        name: '江苏三木物流有限公司',\n        value: 3421,\n    },\n    {\n        name: '泰兴梅兰新材料有限公司',\n        value: 1941,\n    }\n];\n// 名称\nlet nameArray = [];\n// 放大一定倍数的总数量\nlet totalArray = [];\nlet realNumArray = [];\n// 最大值\nlet maxTotal = 1000;\n\nchartData.forEach((ele) => {\n    if (ele.value > maxTotal) {\n        maxTotal = ele.value;\n    }\n    realNumArray.push(ele.value);\n    nameArray.push(ele.name);\n});\nif (maxTotal < 10) {\n    maxTotal = 10;\n} else if (maxTotal < 1000) {\n    // 需要用0占2位\n    let mult = Math.pow(10, 2);\n    // 向上取整\n    maxTotal = Math.ceil(maxTotal / mult) * mult;\n} else {\n    // 取500的倍数\n    maxTotal = Math.ceil(maxTotal / 1000) * 1000;\n}\nchartData.forEach((ele) => {\n    totalArray.push(maxTotal);\n});\n\noption = {\n    backgroundColor: '#313131',\n    grid: {\n        top: '10',\n        bottom: 0,\n        height: '100%',\n        left: 40,\n        right: 40,\n    },\n    xAxis: {\n        show: false,\n        type: 'value',\n    },\n    yAxis: [\n        {\n            type: 'category',\n            show: true,\n            inverse: true,\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: 'rgba(255,255,255,.6)',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            data: nameArray,\n        },\n        {\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                textStyle: {\n                    color: '#ffffff',\n                    fontSize: '12',\n                },\n                align: 'right',\n                padding: [0, 8, 0, 0],\n                verticalAlign: 'bottom',\n                lineHeight: 36,\n                formatter: function (value, index) {\n                    return `{a|${value}}`;\n                },\n                rich: {\n                    a: {\n                        color: '#00BAFF',\n                        fontSize: '14',\n                        fontFamily: 'PingFangSC-Regular',\n                        padding: [0, 0, 7, 0],\n                    },\n                },\n            },\n            data: realNumArray,\n        },\n    ],\n    series: [\n        {\n            name: '',\n            type: 'bar',\n            zlevel: 1,\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n                        {\n                            offset: 0,\n                            color: 'rgba(3,14,55,0.6)',\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(26,160,255,1)',\n                        },\n                    ]),\n                },\n            },\n            barWidth: 10,\n            data: chartData,\n            label: {\n                normal: {\n                    color: '#fff',\n                    show: true,\n                    position: [0, '-23px'],\n                    textStyle: {\n                        fontSize: '12',\n                        fontFamily: 'SourceHanSansCN-Regular',\n                        color: 'rgba(255,255,255,.7)',\n                    },\n                    formatter: function (value) {\n                        return `{a|${value.name}}`;\n                    },\n                    rich: {\n                        a: {\n                            fontSize: '14',\n                            fontFamily: 'SourceHanSansCN-Regular',\n                            color: 'rgba(255,255,255,.7)',\n                            padding: [0, 0, 4, 0],\n                        },\n                    },\n                },\n            },\n        },\n        // 背景条形图\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 10,\n            barGap: '-100%',\n            data: totalArray,\n            itemStyle: {\n                normal: {\n                    color: '#000A2E',\n                    barBorderColor: '#1A4889', // 边框色\n                    barBorderWidth: 1, // 边框宽度\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oEwg-tfsyQIhSqPGVP0ELPf0oiElT4U","theme":"","layout":"","viewCount":0,"userName":"1***1","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7UAmfigGz.png?v=1635063459508","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar"],"customTags":[],"updaterUserName":"1***1"}}