{"status":0,"data":{"cid":"x4xbfAuzK","authorUid":"bd-1999552971","authorUserName":"j***5","title":"东莞","description":"东莞","latestVersion":3,"alwaysLatest":1,"createTime":"2019-10-28T13:02:21.000Z","lastUpdateTime":"2019-10-28T13:02:21.000Z","auth":2,"uid":"bd-1999552971","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-28T13:12:49.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1572264862178-y6F2klp4.json\";\n\n\n$.get(uploadedDataURL, function (geoJson) {\n\n    myChart.hideLoading();\n\n    echarts.registerMap('东莞', geoJson);\n    \nvar gdGeoCoordMap = {\n\t\t'东莞市政府': [113.758562,23.027774],\n\t\t'东城': [113.789624,23.033917],\n\t\t\"南城\": [113.7342,23.005883],\n\t\t'莞城': [113.755571,23.045347],\n\t\t\"沙田\": [113.624651,22.925701],\n\t\t\"松山湖\": [113.893865,22.941246],\n\t\t\"万江\": [113.74855,23.051032],\n\t\t\"石龙\": [113.880838,23.112166],\n\t\t\"虎门\": [113.678872,22.820851],\n\t\t\"中堂\": [113.650406,23.093854],\n\t\t\"望牛墩\": [113.670643,23.062285],\n\t\t\"石碣\": [113.816434,23.108315],\n\t\t\"高埗\": [113.731982,23.095005],\n\t\t\"麻涌\": [113.595831,23.072401],\n\t\t\"长安\": [113.822188,22.814978],\n\t\t\"道滘\": [113.670703,23.016314],\n\t\t\"洪梅\": [113.616893,23.002754],\n\t\t\"厚街\": [113.680145,22.944272],\n\t\t\"寮步\": [113.890914,23.001315],\n\t\t\"大岭山\": [113.851987,22.911912],\n\t\t\"大朗\": [113.923032,22.950112],\n\t\t\"黄江\": [113.998807,22.874356],\n\t\t\"樟木头\": [114.093686,22.919851],\n\t\t\"清溪\": [114.163263,22.829122],\n\t\t\"谢岗\": [114.159548,22.965939],\n\t\t\"凤岗\": [114.153392,22.753054],\n\t\t\"常平\": [113.999147,22.973051],\n\t\t\"桥头\": [114.108405,23.016402],\n\t\t\"横沥\": [113.97157,23.025917],\n\t\t\"东坑\": [113.951987,22.997494],\n\t\t\"塘厦\": [114.078045,22.813108],\n\t\t\"企石\": [114.021761,23.074502],\n\t\t\"石排\": [113.946576,23.093513],\n\t\t\"茶山\": [113.879215,23.071636]\n\t\n\t};\nvar gdDatas = [\n\t\t[{\n\t\t\tname: '东城',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '南城',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '莞城',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '沙田',\n\t\t\tvalue: 1.3\n\t\t}],\t[{\n\t\t\tname: '松山湖',\n\t\t\tvalue: 0.2\n\t\t}],\t[{\n\t\t\tname: '万江',\n\t\t\tvalue: 0.4\n\t\t}],\t[{\n\t\t\tname: '石龙',\n\t\t\tvalue: 0.6\n\t\t}],\t[{\n\t\t\tname: '虎门',\n\t\t\tvalue: 0.8\n\t\t}],\t[{\n\t\t\tname: '中堂',\n\t\t\tvalue: 0.4\n\t\t}],\t[{\n\t\t\tname: '望牛墩',\n\t\t\tvalue: 0.8\n\t\t}],\t[{\n\t\t\tname: '石碣',\n\t\t\tvalue: 0.2\n\t\t}],\t[{\n\t\t\tname: '高埗',\n\t\t\tvalue: 1.3\n\t\t}],[{\n\t\t\tname: '麻涌',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '长安',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '道滘',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '洪梅',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '厚街',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '寮步',\n         \tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '大岭山',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '大朗',\n\t\t\tvalue: 0.8\n\t\t}],\t[{\n\t\t\tname: '黄江',\n\t\t\tvalue: 0.2\n\t\t}],\t[{\n\t\t\tname: '樟木头',\n\t\t\tvalue: 1.3\n\t\t}],\t[{\n\t\t\tname: '清溪',\n\t\t\tvalue: 1.3\n\t\t}],\t[{\n\t\t\tname: '谢岗',\n\t\t\tvalue: 1.3\n\t\t}],\t[{\n\t\t\tname: '凤岗',\n\t\t\tvalue: 1.3\n\t\t}],\t[{\n\t\t\tname: '常平',\n\t\t\tvalue: 0.1\n\t\t}],\t[{\n\t\t\tname: '桥头',\n\t\t\tvalue: 0.4\n\t\t}],\t[{\n\t\t\tname: '横沥',\n\t\t\tvalue: 0.5\n\t\t}],\t[{\n\t\t\tname: '东坑',\n\t\t\tvalue: 0.4\n\t\t}],\t[{\n\t\t\tname: '企石',\n\t\t\tvalue: 0.5\n\t\t}],\t[{\n\t\t\tname: '石排',\n\t\t\tvalue: 0.2\n\t\t}],\t[{\n\t\t\tname: '茶山',\n\t\t\tvalue: 0.3\n\t\t}],\t[{\n\t\t\tname: '塘厦',\n\t\t\tvalue: 0.3\n\t\t}]\n\t];\n\nvar convertData = function(data) {\n\t\tvar res = [];\n\t\tfor(var i = 0; i < data.length; i++) {\n\t\t\tvar dataItem = data[i];\n\t\t\tvar fromCoord = gdGeoCoordMap[dataItem[0].name];\n\t\t\tvar toCoord = [113.758562,23.027774];//被攻击点坐标\n\t\t\tif(fromCoord && toCoord) {\n\t\t\t\tres.push([{\n\t\t\t\t\tcoord: fromCoord,\n\t\t\t\t\tvalue: dataItem[0].value\n\t\t\t\t}, {\n\t\t\t\t\tcoord: toCoord,\n\t\t\t\t}]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\tvar series = [];\n\t[['东莞市政府', gdDatas]].forEach(function(item, i) {\n\t    console.log(item)\n\t\tseries.push({\n\t\t\t\ttype: 'lines',\n\t\t\t\tzlevel: 6,\n\t\t\t\teffect: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tperiod: 4, //箭头指向速度，值越小速度越快\n\t\t\t\t\ttrailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\n\t\t\t\t\tsymbol: 'arrow', //箭头图标\n\t\t\t\t\tsymbolSize: 8, //图标大小\n\t\t\t\t},\n\t\t\t\tlineStyle: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\twidth: 1, //尾迹线条宽度\n\t\t\t\t\t\topacity: 1, //尾迹线条透明度\n\t\t\t\t\t\tcurveness: .3 //尾迹线条曲直度\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: convertData(item[1])\n\t\t\t}, {\n\t\t\t\ttype: 'effectScatter',\n\t\t\t\tcoordinateSystem: 'geo',\n\t\t\t\tzlevel: 2,\n\t\t\t\trippleEffect: { //涟漪特效\n\t\t\t\t\tperiod: 4, //动画时间，值越小速度越快\n\t\t\t\t\tbrushType: 'stroke', //波纹绘制方式 stroke, fill\n\t\t\t\t\tscale: 4 //波纹圆环最大限制，值越大波纹越大\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tposition: 'right', //显示位置\n\t\t\t\t\t\toffset: [5, 0], //偏移设置\n\t\t\t\t\t\tformatter: function(params){//圆环显示文字\n\t\t\t\t\t\t\treturn params.data.name;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfontSize: 19\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\t\tshow: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsymbol: 'circle',\n\t\t\t\tsymbolSize: function(val) {\n\t\t\t\t\treturn 5+ val[2] * 5; //圆环大小\n\t\t\t\t},\n\t\t\t\titemStyle: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\tcolor: '#f00'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: item[1].map(function(dataItem) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: dataItem[0].name,\n\t\t\t\t\t\tvalue: gdGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t},\n\t\t\t//被攻击点\n\t\t\t{\n\t\t\t\ttype: 'scatter',\n\t\t\t\tcoordinateSystem: 'geo',\n\t\t\t\tzlevel: 2,\n\t\t\t\trippleEffect: {\n\t\t\t\t\tperiod: 4,\n\t\t\t\t\tbrushType: 'stroke',\n\t\t\t\t\tscale: 4\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t//offset:[5, 0],\n\t\t\t\t\t\tcolor: '#0f0',\n\t\t\t\t\t\tformatter: '{b}',\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tcolor: \"#0f0\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tcolor: \"#f60\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsymbol: 'pin',\n\t\t\t\tsymbolSize: 50,\n\t\t\t\tdata: [{\n\t\t\t\t\tname: item[0],\n\t\t\t\t\tvalue: gdGeoCoordMap[item[0]].concat([10]),\n\t\t\t\t}],\n\t\t\t}\n\t\t);\n\t});\n    \n    \n    \n    \n    \n    \n    \n    \n\n    option = {\n        \"tooltip\": {\n\t\t\ttrigger: 'item',\n\t\t\tbackgroundColor: 'rgba(166, 200, 76, 0.82)',\n\t\t\tborderColor: '#FFFFCC',\n\t\t\tshowDelay: 0,\n\t\t\thideDelay: 0,\n\t\t\tenterable: true,\n\t\t\ttransitionDuration: 0,\n\t\t\textraCssText: 'z-index:100',\n\t\t\tformatter: function(params, ticket, callback) {\n\t\t\t\t//根据业务自己拓展要显示的内容\n\t\t\t\tvar res = \"\";\n\t\t\t\tvar name = params.name;\n\t\t\t\tvar value = params.value[params.seriesIndex + 1];\n\t\t\t\tres = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\t\t\tbackgroundColor:\"#013954\",\n\t\tvisualMap: { //图例值控制\n\t\t\tmin: 0,\n\t\t\tmax: 1,\n\t\t\tcalculable: true,\n\t\t\tshow: true,\n\t\t\tcolor: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\n\t\t\ttextStyle: {\n\t\t\t\tcolor: '#fff'\n\t\t\t}\n\t\t},\n  \"geo\": {\n            \"map\": \"东莞\",\n            \"layoutCenter\": [\"55%\", \"50%\"],\n            \"layoutSize\": \"109%\",\n            \"label\": {\n                \"emphasis\": {\n                    \"show\": true\n                }\n            },\n            \"roam\": true,  //是否允许缩放\n            \"mapLocation\": {\n                \"width\": \"110%\",\n                \"height\": \"97%\"\n            },\n         \n            \"itemStyle\": {\n                \"normal\": {\n                    color: 'rgba(51, 69, 89, .5)', //地图背景色\n\t\t\t\t\tborderColor: '#516a89', //省市边界线00fcff 516a89\n\t\t\t\t\tborderWidth: 1\n                },\n                \"emphasis\": {\n                    \tcolor: 'rgba(37, 43, 61, .5)' //悬浮背景\n                }\n            }\n        },\n        series: series\n        },\nmyChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-1999552971","theme":"","layout":"","viewCount":618,"userName":"j***5","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4xbfAuzK.png?v=1572268369460","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"j***5"}}