{"status":0,"data":{"cid":"xx_KU8bJG","authorUid":"bd-2829534522","authorUserName":"康***森","title":"日历","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-10-24T08:50:47.000Z","lastUpdateTime":"2019-10-24T08:50:47.000Z","auth":2,"uid":"bd-2829534522","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-24T08:50:47.000Z","code":"let dataList = [{\n    \"date\": \"2019-10-01\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-02\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-03\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-04\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-05\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-06\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-07\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-08\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-09\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-10\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-11\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-12\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-13\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-14\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-15\",\n    \"total\": 14\n}, {\n    \"date\": \"2019-10-16\",\n    \"total\": 2\n}, {\n    \"date\": \"2019-10-17\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-18\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-19\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-20\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-21\",\n    \"total\": 1\n}, {\n    \"date\": \"2019-10-22\",\n    \"total\": 3\n}, {\n    \"date\": \"2019-10-23\",\n    \"total\": 2\n}, {\n    \"date\": \"2019-10-24\",\n    \"total\": 1\n}, {\n    \"date\": \"2019-10-25\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-26\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-27\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-28\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-29\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-30\",\n    \"total\": 0\n}, {\n    \"date\": \"2019-10-31\",\n    \"total\": 0\n}]\nlet thisDate = '2019-10-24'; //当前日期\nlet thisMonth = '2019-10'; //当前月份\nlet maxArr = [];\nlet bgColor = ['#ffffff', '#FFD8C9', '#FF784C', '#FFAF8B']; //填充色\n\n\nlet chartData = [];\ndataList.forEach(item => {\n    maxArr.push(item.total);\n    chartData.push({\n        value: [item.date, item.total],\n        itemStyle: item.date === thisDate ? {\n            borderColor: 'red'\n        } : {}, //当前日期标注边框为红色\n        symbol: 'rect' // 核心1，长方形来填充\n    })\n})\n\n//visualMap 填充色对比 最大值\nlet maxNum = maxArr.sort((a, b) => b - a)[0];\n\n\noption = {\n    backgroundColor: '#fff',\n    calendar: {\n        left: 'center',\n        top: '20%',\n        orient: 'vertical',\n        cellSize: 60, //大小\n        range: thisMonth, //月份\n        monthLabel: {\n            show: false, //隐藏左侧文字\n        },\n        dayLabel: {\n            firstDay: 1, //开始时间 1号开始\n            nameMap: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n        },\n        yearLabel: {\n            show: false, //隐藏title\n        },\n    },\n    visualMap: {\n        type: 'continuous',\n        min: 0,\n        max: maxNum, //色值对比 最大值\n        show: false, //隐藏工具栏\n        inRange: {\n            color: bgColor, //\b填充色\n        },\n    },\n    series: [{\n            type: 'scatter',\n            coordinateSystem: 'calendar',\n            symbolSize(params) { //核心2 \n                if (params[0] === thisDate) {\n                    return 60; //当前日期高亮 宽度高度设置成和单元格宽度高度一样\n                } else {\n                    return 1;\n                }\n            },\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff',\n                    },\n                },\n            },\n            data: chartData,\n        },\n        {\n            type: 'heatmap',\n            coordinateSystem: 'calendar',\n            data: chartData,\n        },\n    ],\n};","html":"","externalScripts":"","updaterUID":"bd-2829534522","theme":"","layout":"","viewCount":760,"userName":"康***森","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xx_KU8bJG.png?v=1571907047769","isCustomThumbnail":0,"builtinTags":["calendar","category-work","series-heatmap","series-scatter","visualMap"],"customTags":[],"updaterUserName":"康***森"}}