{"status":0,"data":{"cid":"xobbmhTqvY","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"","description":"地图","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-17T05:58:27.000Z","lastUpdateTime":"2020-10-17T05:58:27.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-17T05:58:27.000Z","code":"let iconRQ = \"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNCRkRBMEJBQzgwRjExRUFBNUI0RTMyMThEN0UxMzFEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNCRkRBMEJCQzgwRjExRUFBNUI0RTMyMThEN0UxMzFEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0JGREEwQjhDODBGMTFFQUE1QjRFMzIxOEQ3RTEzMUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0JGREEwQjlDODBGMTFFQUE1QjRFMzIxOEQ3RTEzMUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5mT42iAAABQ0lEQVR42mL8LabOQCQIBOL1xChkItJAkLp+IBajpqFWQCwPxJ7UNDQCSgdQy1BmIA6Bsl2AmJMahjoAsTiUzQPETtQwNAKN709IAwvUayZQ/hcg/o0k/x6Ig9D0+ABxKJT9HYh/oMm/BBm6GYitgTgfiBmJcLkkEK/CIXcGiGNB3v8JxIVQF31gIA/8AeIWaNK7gRymG4BYH4hPkGjgXSC2A+JaWNChR9QjqIJeIP5PhIGzgdgAiI8Tin2QbSVAvIOAgROBOA0auUQlKV4gtidgqBGp6RSUFrmIKA/ESDEUPcGfBOIUIH6Lln29iTVUCIjdkJJKExDbAPFcqJdPEMpd2AwF5TBWaFKxBeJ6qOHIqaMbmjrcsBUw2AwNh7rKAEeaBaWOMiD2BeJvQOxOyFBuaFJJwZZU0MBWaHCIo0sABBgAetA4Jx5t/ToAAAAASUVORK5CYII=\"\r\nlet effectScattersymbol = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAEfklEQVRIiZWWy2/cVBTGf7avx/NI0iEzSSakCVQCQVUoFBCFVkiwQXTJhl2L2HQDEhsWIBZVV/0HWHUFYskOFtAVQqItSK2QClUpQmqakKRoJu+MM7avfdFxPIPjpq8zGsnyvef77nfOuefYqp75hgfYFPA6cASYAUay7RvAHPAbcBlYuB+Mus/a88BJ4NA91kez/4vAB8B14Gvg94clKgGngXcA60FycyYHOgf8AJwHwvyiXdg8nG0+8YgkfbMy33MZ1p6KPOAs8EzRW9WqDVWrTTqe17RspyzvTBL34iDo6G53SXf95YLLsxnWZ0AgLxz3zff6ix8CR3fJ9UpDlYnxI+7IyNO26+6zbNvF2vnJs7xTtdp+Va2OxmG4buI4H64mUAd+zSuSxL+9S0W1Oloea76CZaV71NxSyoBjYywLEoNl4nRvND3ZqLZax3rtzhXt+ys5GMH8UQqkn6OT+ZyIEi8jUfNLKUlSLqMnx9D7J7L/OLrZJHFd1Nwisld8xLeQs5NkxXCgWMLlZvOwJSSiwoBu1NEzkwTDVdrGoa1h1VFE9RFRQ1KrpWTiI76FfAn2ASE6Xkh803bdenocyyIeqpKMN9jWMXGoeWuiyqmnRnlhXxk/DAlsm3hqHOOVEfXiKxgFsuOqqEaqq/8suYjHmmwHmhHL4qPDk7z75GOMeoq/17c5e3WBy8s+vVKJSqOOu/TvAEN3/U4O9jlRtD9P5Hheo598PJfIsbGShBNP7OPjQxMcrJeZqCiOt4b5/KUpDtfLhDomKZdAubswcjZl53rXTvaye5Iqcl3CxFBVNsoYau7u+/1Ga5gRZWOZhNiyMI5zF0ZmI8XOIPDJgNQYpJJjY9gM9V07g9gQGzA7hQ/G3A2XmZ114f9p4ji9yVJlBCGe49DVhtmtkOsr/i7nL/9qs9jTadE4cYKldXbUuFfg2ZBi+CfrwqklUbTmKFVLFUUaZ7tHuVLmxnrA6Z9neXWsxtHxIb6bXeXGZsDtrZBKuYS1sgnJTjCSMFwtEC2orL0Paj/a6i46lcoUWSjUnTbmwBS65PLnesCcH/Ht/AY9HePHBrfioXoBankNg+ljFGfTHxK6i/k3uttti6rUYWYSO4pwZxdQYYRV9tg0Fh2d0LUVdqmE2tjCnV9MD6Xl8kbRmu52OwWii6LoVqZqcJ96nc61Sqt1TG66kLnzS5RuL2C8EmqoAraThtX2tyEM06KJZh7HGKODzvK1Aolg3+pXnUzGQckkQbgVtDtXMCbNrrQZPd3CDkKczhpOexlndR0rCFMVQiJ7xScOgq18bWXYg+4t4/dCNlV3Quj7K/6dO5ekd/VbUjTdYi+TcEkU5ICF5Qv90Z4ffOezBjsYfOLoLyxeUrVaU9WqMvgalu1UpIBNHG/HYbiqu/7SHjkRu5lhUiSS+3NmrykrQPcAu5fdzLCC/nqxM2wCnwLf53P2CCY+4isjXLAGttdXkIzjL4CfgPeBgw/JcwP46lE+t/omDp9k3f014GVgOvd1IyeeB64Cv2QdZm8D/gOkV87XV2/tuwAAAABJRU5ErkJggg=='\r\nlet data = [{\r\n        name: \"北京\",\r\n        value: [116.24, 39.55, 100],\r\n        label: {\r\n            position: [15, -5],\r\n        },\r\n        symbolSize: 15,\r\n        symbol: effectScattersymbol\r\n    },\r\n    {\r\n        name: \"深圳\",\r\n        value: [114.271522, 22.753644],\r\n        label: {\r\n            position: [15, 10],\r\n        },\r\n        symbolSize: 15,\r\n        symbol: effectScattersymbol\r\n    },\r\n    {\r\n        name: \"重庆\",\r\n        value: [106.54, 29.59],\r\n        label: {\r\n            position: [-25, 25],\r\n        },\r\n        symbolSize: 15,\r\n        symbol: effectScattersymbol\r\n    },\r\n    {\r\n        name: \"南京\",\r\n        value: [118.78, 32.04],\r\n        label: {\r\n            position: [10, -20],\r\n        },\r\n        symbolSize: 15,\r\n        symbol: effectScattersymbol\r\n    },\r\n    {\r\n        name: \"上海\",\r\n        value: [121.445, 31.213],\r\n        label: {\r\n            position: [15, 0],\r\n        },\r\n        symbolSize: 8,\r\n        symbol: 'circle'\r\n    },\r\n    {\r\n        name: \"西安\",\r\n        value: [108.969, 34.285],\r\n        label: {\r\n            position: [-15, -30],\r\n        },\r\n        symbolSize: 8,\r\n        symbol: 'circle'\r\n    },\r\n    {\r\n        name: \"珠海\",\r\n        value: [112.065, 21.948],\r\n        label: {\r\n            position: [-45, 0],\r\n        },\r\n        symbolSize: 8,\r\n        symbol: 'circle'\r\n    },\r\n    {\r\n        name: \"成都\",\r\n        value: [104.071, 30.67],\r\n        label: {\r\n            position: [-22, -25],\r\n        },\r\n        symbolSize: 8,\r\n        symbol: 'circle'\r\n    },\r\n\r\n\r\n];\r\n\r\nlet LableData = [{\r\n        name: \"北京\",\r\n        value: [122.24, 39.0],\r\n        lable: [10, 1]\r\n    },\r\n    /* {\r\n         name: \"深圳\",\r\n         value: [116.271522, 20.753644],\r\n         lable: [10, 1]\r\n     },*/\r\n    {\r\n        name: \"重庆\",\r\n        value: [100.54, 27.0],\r\n        lable: [10, 1]\r\n    },\r\n    {\r\n        name: \"南京\",\r\n        value: [124.4, 32.5],\r\n        lable: [10, 1]\r\n    },\r\n    {\r\n        name: \"深圳\",\r\n        value: [120.3, 21.5],\r\n        lable: [10, 1]\r\n    },\r\n];\r\n\r\noption = {\r\n    backgroundColor: '#000f1e',\r\n    xAxis: [],\r\n    yAxis: [],\r\n    grid: [],\r\n    geo: {\r\n        map: 'china',\r\n        aspectScale: 0.85,\r\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n        layoutSize: '140%',\r\n        itemStyle: {\r\n            normal: {\r\n                shadowColor: '#276fce',\r\n                shadowOffsetX: 0,\r\n                shadowOffsetY: 15,\r\n                opacity: 0.5,\r\n            },\r\n            emphasis: {\r\n                areaColor: '#276fce',\r\n\r\n            }\r\n        },\r\n        regions: [{\r\n            name: '南海诸岛',\r\n            itemStyle: {\r\n                areaColor: 'rgba(0, 10, 52, 1)',\r\n\r\n                borderColor: 'rgba(0, 10, 52, 1)',\r\n                normal: {\r\n                    opacity: 0,\r\n                    label: {\r\n                        show: false,\r\n                        color: \"#009cc9\",\r\n                    }\r\n                },\r\n\r\n\r\n            },\r\n            label: {\r\n                show: false,\r\n                color: '#FFFFFF',\r\n                fontSize: 12,\r\n            },\r\n\r\n\r\n        }],\r\n\r\n    },\r\n    series: [\r\n        // 常规地图\r\n        {\r\n            type: 'map',\r\n            mapType: 'china',\r\n            aspectScale: 0.85,\r\n            layoutCenter: [\"50%\", \"50%\"], //地图位置\r\n            layoutSize: '140%',\r\n            zoom: 1, //当前视角的缩放比例\r\n            // roam: true, //是否开启平游或缩放\r\n            scaleLimit: { //滚轮缩放的极限控制\r\n                min: 1,\r\n                max: 2\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#0c274b',\r\n                    borderColor: '#1cccff',\r\n                    borderWidth: 1.5\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#0c274b',\r\n                    borderColor: '#1cccff',\r\n                    borderWidth: 2,\r\n                    opacity: 1,\r\n                    label: {\r\n                        show: false,\r\n                        color: \"#fff\"\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        { //首都星图标\r\n            name: '首都',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: [{\r\n                name: '首都',\r\n                value: [116.24, 41.55, 100],\r\n            }, ],\r\n            symbol: iconRQ,\r\n            symbolSize: 20,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                },\r\n                emphasis: {\r\n                    show: false\r\n                }\r\n            },\r\n        },\r\n        // 区域散点图\r\n        {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            // symbolSize: 8,\r\n            rippleEffect: { //坐标点动画\r\n                period: 3,\r\n                scale: 5,\r\n                brushType: 'fill',\r\n                color: '#808080'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n\r\n                    formatter: '{b}',\r\n                    color: '#fff',\r\n                    fontWeight: \"bold\",\r\n                    fontSize: 18\r\n                }\r\n            },\r\n            data: data,\r\n            itemStyle: { //坐标点颜色\r\n                normal: {\r\n                    show: true,\r\n                    color: '#a9aaab',\r\n                    shadowBlur: 20,\r\n                    // shadowColor: '#808080'\r\n                },\r\n            },\r\n\r\n        },\r\n        // 线 和 点\r\n        {\r\n            type: 'lines',\r\n            zlevel: 1, //设置这个才会有轨迹线的小尾巴\r\n            polyline: true,\r\n            effect: {\r\n                show: true,\r\n                period: 10,\r\n                trailLength: 0.7,\r\n                color: '#fff', //流动点颜色\r\n                symbol: 'arrow',\r\n                symbolSize: 6\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#fff', //线条颜色\r\n                    width: 0.5,\r\n                    curveness: 0.2,\r\n                    shadowColor: '#fff',\r\n                }\r\n            },\r\n            data: [{\r\n                    fromName: \"深圳\",\r\n                    toName: \"北京\",\r\n                    coords: [\r\n                        [114.271522, 22.753644],\r\n                        [116.24, 39.55],\r\n                    ]\r\n                },\r\n                {\r\n\r\n                    fromName: \"深圳\",\r\n                    toName: \"南京\",\r\n                    coords: [\r\n                        [114.271522, 22.753644],\r\n                        [118.78, 32.04],\r\n                    ]\r\n                },\r\n                {\r\n\r\n                    fromName: \"重庆\",\r\n                    toName: \"南京\",\r\n                    coords: [\r\n                        [106.54, 29.59],\r\n                        [118.78, 32.04],\r\n                    ]\r\n                },\r\n                {\r\n\r\n                    fromName: \"南京\",\r\n                    toName: \"北京\",\r\n                    coords: [\r\n                        [118.78, 32.04],\r\n                        [116.24, 39.55],\r\n                    ]\r\n                },\r\n                {\r\n\r\n                    fromName: \"北京\",\r\n                    toName: \"重庆\",\r\n                    coords: [\r\n                        [116.24, 39.55],\r\n                        [106.54, 29.59],\r\n                    ]\r\n                },\r\n                {\r\n                    fromName: \"深圳\",\r\n                    toName: \"重庆\",\r\n                    coords: [\r\n                        [114.271522, 22.753644],\r\n                        [106.54, 29.59],\r\n                    ]\r\n                },\r\n                /* {\r\n                     fromName: \"西安\",\r\n                     toName: \"北京\",\r\n                     coords: [\r\n                         [108.969, 34.285],\r\n                         [116.24, 39.55, 100],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"西安\",\r\n                     toName: \"成都\",\r\n                     coords: [\r\n                         [108.969, 34.285],\r\n                         [104.071,30.67],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"重庆\",\r\n                     toName: \"成都\",\r\n                     coords: [\r\n                         [106.54, 29.59],\r\n                         [104.071,30.67],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"珠海\",\r\n                     toName: \"深圳\",\r\n                     coords: [\r\n                         [112.065,21.948],\r\n                         [114.271522, 22.753644],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"珠海\",\r\n                     toName: \"重庆\",\r\n                     coords: [\r\n                         [112.065,21.948],\r\n                         [106.54, 29.59],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"上海\",\r\n                     toName: \"深圳\",\r\n                     coords: [\r\n                         [121.445,31.213],\r\n                         [114.271522, 22.753644],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"上海\",\r\n                     toName: \"南京\",\r\n                     coords: [\r\n                         [121.445,31.213],\r\n                         [118.78, 32.04],\r\n                     ]\r\n                 },\r\n                 {\r\n                     fromName: \"深圳\",\r\n                     toName: \"西安\",\r\n                     coords: [\r\n                         [114.271522, 22.753644],\r\n                         [108.969, 34.285],\r\n                     ]\r\n                 },*/\r\n            ],\r\n\r\n        },\r\n\r\n        { //lable\r\n            name: 'lable',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin',\r\n            symbolSize: [50, 20],\r\n            hoverAnimation: true,\r\n            zlevel: 2,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: \"#ffe500\",\r\n                        fontSize: 16,\r\n                        fontWeight: 'bold',\r\n                        lineHeight: 15,\r\n\r\n                    },\r\n                    formatter: function(params) {\r\n\r\n                        return params.data.lable[0] + \"G\" + '/' + params.data.lable[1] + \"G\"\r\n                    }\r\n                }\r\n            },\r\n\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent', //标志颜色\r\n                    opacity: 1,\r\n\r\n                }\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            data: LableData,\r\n\r\n\r\n        },\r\n\r\n    ]\r\n};\r\n\r\nmyChart.on('mouseover', function(params) {\r\n    let option = myChart.getOption();\r\n\r\n    if (params.name == '深圳') {\r\n        option.series[2].data[1].symbolSize = 50;\r\n        // option.series[2].data[1].symbol = effectScattersymbol;\r\n        option.series[2].data[1].symbolRotate = 60;\r\n        myChart.setOption(option);\r\n\r\n    } else if (params.name == '北京') {\r\n        option.series[2].data[0].symbolSize = 50;\r\n        option.series[2].data[1].symbolRotate = 60;\r\n        myChart.setOption(option);\r\n\r\n    } else if (params.name == '南京') {\r\n        option.series[2].data[3].symbolSize = 50;\r\n        myChart.setOption(option);\r\n\r\n    } else if (params.name == '重庆') {\r\n        option.series[2].data[2].symbolSize = 50;\r\n        myChart.setOption(option);\r\n\r\n    }\r\n});\r\nmyChart.on('mouseout', function(params) {\r\n    let option = myChart.getOption();\r\n    for (let i = 0; i < 4; i++) {\r\n        if (option.series[2].data[i].symbolSize == 50) {\r\n            option.series[2].data[i].symbolSize = 15;\r\n            // option.series[2].data[1].symbol = 'circle'\r\n        }\r\n    }\r\n    myChart.setOption(option);\r\n\r\n});\r\n\r\n myChart.on('dblclick', function (params) {\r\n\r\n        if (params.name == \"深圳\") {\r\n            window.location.href='http://192.168.2.122:8082/';\r\n        }else  if (params.name == \"重庆\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"南京\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"北京\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"上海\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"西安\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"珠海\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }else  if (params.name == \"成都\") {\r\n\r\n            window.location.href='http://113.105.80.199:8012';\r\n        }\r\n\r\n    });\r\n    myChart.on('click', function (params) {\r\n        let option = ChartMap.getOption();\r\n        for(let i=0;i<4;i++){\r\n            if (option.series[2].data[i].symbolSize == 50) {\r\n                option.series[2].data[i].symbolSize = 15;\r\n                // option.series[2].data[1].symbol = 'circle'\r\n            }\r\n        }\r\n        myChart.setOption(option);\r\n        if (params.name == '深圳') {\r\n            option.series[2].data[1].symbolSize = 50;\r\n            // option.series[2].data[1].symbol = effectScattersymbol;\r\n            option.series[2].data[1].symbolRotate = 60;\r\n            myChart.setOption(option);\r\n\r\n        } else if (params.name == '北京') {\r\n            option.series[2].data[0].symbolSize = 50;\r\n            option.series[2].data[1].symbolRotate = 60;\r\n            myChart.setOption(option);\r\n\r\n        } else if (params.name == '南京') {\r\n            option.series[2].data[3].symbolSize = 50;\r\n            myChart.setOption(option);\r\n\r\n        } else if (params.name == '重庆') {\r\n            option.series[2].data[2].symbolSize = 50;\r\n            myChart.setOption(option);\r\n\r\n        }\r\n        \r\n\r\n    });\r\n\r\nsetInMap()\r\n\r\nfunction setInMap() {\r\n    /** 数据实时刷新 */\r\n    setIntervalMap = setInterval(function() {\r\n        let option = myChart.getOption();\r\n        for (let i = 0; i < option.series[4].data.length; i++) {\r\n            option.series[4].data[i].lable[1] = getRandom(10, 100, 0);\r\n            option.series[4].data[i].lable[0] = getRandom(1, 10, 0);\r\n        }\r\n        myChart.setOption(option);\r\n\r\n    }, 10000);\r\n}\r\n\r\nfunction getRandom(start, end, fixed) {\r\n    let differ = end - start;\r\n    let random = Math.random();\r\n    return (start + differ * random).toFixed(fixed)\r\n}","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":1191,"userName":"绿***绿","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xobbmhTqvY.png?v=1602914307521","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","series-scatter"],"customTags":[],"updaterUserName":"绿***绿"}}