{"status":0,"data":{"cid":"xP5h5Nuesp","authorUid":"obd-oNCOeB_a1N6WXUEwv2CwRW1UYHgCxCI","authorUserName":"A***l","title":"ssmd-条形图","description":"快速配置条形图，支持数值和百分比","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-20T12:18:05.000Z","lastUpdateTime":"2021-11-20T12:18:05.000Z","auth":2,"uid":"obd-oNCOeB_a1N6WXUEwv2CwRW1UYHgCxCI","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-20T12:18:05.000Z","code":"// 是否显示百分比，通过调整改参数控制显示的是数值还是百分比\nconst isPercent = false;\n// 数据配置：[y轴类目名，类目值]\nconst dataConfig = [\n    ['类目1', 10],\n    ['类目2', 20],\n    ['类目3', 30],\n    ['类目4', 40]\n];\n\nconst total = dataConfig.reduce((t, v) => t + v[1], 0);\nconst yData = dataConfig.map(item => item[0]);\nconst seriesData = dataConfig.map(item => item[1]);\n\noption = {\n  title: {\n    text: '条形图',\n    left: 'center',\n    top: 20\n  },\n  grid: {\n    width: 300,\n    height: 200,\n    left: 'center',\n    top: 70\n  },\n  xAxis: {\n    type: 'value',\n    axisLabel: {\n      formatter(value) {\n        return isPercent\n            ? `${Number(value).toFixed(1)}%`\n            : value;\n      }\n    }\n  },\n  yAxis: {\n    type: 'category',\n    data: yData,\n    inverse: true,\n    axisTick: {\n        show: false\n    },\n    axisLine: {\n        show: false\n    }\n  },\n  series: [\n    {\n      type: 'bar',\n      data: seriesData,\n      label: {\n        show: true,\n        position: 'right',\n        valueAnimation: true,\n        formatter(params) {\n          return isPercent\n            ? `${Number(params.value * 100 / total).toFixed(1)}%`\n            : params.value;\n        }\n      },\n      barWidth: 30\n    }\n  ],\n};","html":"","externalScripts":"","updaterUID":"obd-oNCOeB_a1N6WXUEwv2CwRW1UYHgCxCI","theme":"","layout":"","viewCount":0,"userName":"A***l","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xP5h5Nuesp.png?v=1637410685374","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"A***l"}}