{"status":0,"data":{"cid":"xosBHGTNc","authorUid":"bd-285667548","authorUserName":"l***r","title":"测试","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-25T13:12:02.000Z","lastUpdateTime":"2020-02-25T13:12:02.000Z","auth":2,"uid":"bd-285667548","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-25T13:12:02.000Z","code":"var scaleData = [{\r\n        'name': '总户数',\r\n        'value': 1234\r\n    },\r\n    {\r\n        'name': '总人口数',\r\n        'value': 4700\r\n    },\r\n    {\r\n        'name': '已覆盖户数',\r\n        'value': 1200\r\n    },\r\n    {\r\n        'name': '已覆盖人口数',\r\n        'value': 3687\r\n    }\r\n\r\n];\r\nvar placeHolderStyle = {\r\n    normal: {\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        },\r\n        color: 'rgba(0, 0, 0, 0)',\r\n        borderColor: 'rgba(0, 0, 0, 0)',\r\n        borderWidth: 0\r\n    }\r\n};\r\nvar data = [];\r\nvar color = ['rgb(255, 153, 153)', 'rgb(255, 176, 63)', 'rgb(61, 186, 45)', 'rgb(43, 166, 254)'];\r\nvar colorBorder = ['rgba(255, 153, 153, 0.4)', 'rgba(255, 176, 63, 0.4)', 'rgba(61, 186, 45, 0.4)', 'rgba(43, 166, 254, 0.4)'];\r\nfor (var i = 0; i < scaleData.length; i++) {\r\n    data.push({\r\n        data: scaleData[i].value,\r\n        value: 20,\r\n        name: scaleData[i].name,\r\n        itemStyle: {\r\n            normal: {\r\n                color: color[i],\r\n                borderWidth: 20,\r\n                borderColor: colorBorder[i]\r\n            }\r\n        }\r\n    }, {\r\n        value: 8,\r\n        name: '',\r\n        itemStyle: placeHolderStyle\r\n    });\r\n}\r\ndata.push({\r\n    value: 40,\r\n    name: '',\r\n    itemStyle: placeHolderStyle\r\n})\r\nvar seriesObj = [{\r\n    name: '',\r\n    type: 'pie',\r\n    clockWise: false,\r\n    radius: [100, 200],\r\n    hoverAnimation: false,\r\n    startAngle: -30,\r\n    itemStyle: {\r\n        normal: {\r\n            label: {\r\n                show: true,\r\n                position: 'inner',\r\n                fontSize: 14,\r\n                lineHeight: 15,\r\n                formatter: function(params) {\r\n                    var percent = 0;\r\n                    var total = 0;\r\n                    for (var i = 0; i < scaleData.length; i++) {\r\n                        total += scaleData[i].value;\r\n                    }\r\n                    percent = ((params.value / total) * 100).toFixed(0);\r\n                    if (params.name !== '') {\r\n                        // return params.name + '\\n' + params.data.data;\r\n                        if (params.name.length > 4) {\r\n                            return params.name.slice(0, 3) + '\\n' + params.name.slice(3);\r\n                        } else {\r\n                            return params.name;\r\n                        }\r\n\r\n                    } else {\r\n                        return '';\r\n                    }\r\n                }\r\n            },\r\n            labelLine: {\r\n                length: 30,\r\n                length2: 60,\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    data: data\r\n}, {\r\n    name: '',\r\n    type: 'pie',\r\n    clockWise: false,\r\n    radius: [100, 200],\r\n    hoverAnimation: false,\r\n    startAngle: -30,\r\n    itemStyle: {\r\n        normal: {\r\n            label: {\r\n                show: true,\r\n                position: 'outside',\r\n                fontSize: 18,\r\n                formatter: function(params) {\r\n                    var percent = 0;\r\n                    var total = 0;\r\n                    for (var i = 0; i < scaleData.length; i++) {\r\n                        total += scaleData[i].value;\r\n                    }\r\n                    percent = ((params.value / total) * 100).toFixed(0);\r\n                    if (params.name !== '') {\r\n                        return params.data.data;\r\n                    } else {\r\n                        return '';\r\n                    }\r\n                }\r\n            },\r\n            labelLine: {\r\n                length: 30,\r\n                length2: 60,\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    data: data\r\n}];\r\noption = {\r\n    backgroundColor: '#fff',\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    legend: {\r\n        show: false\r\n    },\r\n    toolbox: {\r\n        show: false\r\n    },\r\n    series: seriesObj,\r\n    graphic: [{\r\n        type: 'group',\r\n        left: 'center',\r\n        top: 'middle',\r\n        children: [{\r\n                type: 'text',\r\n                z: 100,\r\n                left: 'center',\r\n                top: '0',\r\n                style: {\r\n                    fill: '#333',\r\n                    text: [\r\n                        '治理率(以户数计算)'\r\n                    ],\r\n                    font: '16px Microsoft YaHei'\r\n                }\r\n            },\r\n            {\r\n                type: 'text',\r\n                z: 100,\r\n                left: 'center',\r\n                top: '32',\r\n                style: {\r\n                    fill: 'red',\r\n                    text: [\r\n                        '80%'\r\n                    ],\r\n                    font: '26px Microsoft YaHei'\r\n                }\r\n            }\r\n        ]\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"bd-285667548","theme":"","layout":"","viewCount":3633,"userName":"l***r","commentCount":0,"starCount":27,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xosBHGTNc.png?v=1582636322703","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","toolbox","tooltip"],"customTags":["商品运营"],"updaterUserName":"l***r"}}