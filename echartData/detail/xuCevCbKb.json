{"status":0,"data":{"cid":"xuCevCbKb","authorUid":"bd-1900401859","authorUserName":"1***发","title":"仪表盘+堆叠进度条（饼状图模仿）","description":"仪表盘+堆叠进度条（饼状图模仿）","latestVersion":2,"alwaysLatest":1,"createTime":"2019-12-18T09:17:38.000Z","lastUpdateTime":"2019-12-18T09:17:38.000Z","auth":2,"uid":"bd-1900401859","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-18T09:31:56.000Z","code":"let all = 10000;//实际数量=>刻度数\nlet bAll = 2000;//少色块部分实际总量\nlet cAll = 4000;//多色块部分实际总量\nlet x = 1000;\n\nlet y = 4 / 5 * 1000;//可见部分\nlet a = 1 / 5 * 1000;//隐藏部分\nlet b = bAll / all * y;//少色块占比\nlet c = (cAll - bAll) / all * y;//多色块占比\nlet d = y - b - c;//空部分\noption = {\n    backgroundColor: \"#091438\",\n            legend: {\n                orient: 'vertical',\n                x: 'left',\n                data: ['其他(' + bAll + ')', '本市(' + cAll + ')'],\n                textStyle: {\n                    color: \"#fff\"\n                }\n            },\n            title: {\n                show: true,\n                text: [\"{b|在线人数\\n}\", `{a|${bAll + cAll}} `].join(\"\"),\n                padding: 20,\n                backgroundColor: \"#f00\",\n                borderRadius: 10,\n                textStyle: {\n                    rich: {\n                        a: {\n                            color: \"#fff\",\n                            fontSize: 62,\n                            height: 100\n                        },\n                        b: {\n                            color: \"#fff\",\n                            fontSize: 26,\n                            lineHeight: 65\n                        }\n                    }\n                },\n                left: \"center\",\n                top: 'center'\n            },\n            tooltip: {\n                show: false\n            },\n            series: [{\n                type: \"pie\",\n                startAngle: 306,\n                radius: [\"65%\", \"60%\"],\n                center: [\"50%\", \"50%\"],\n                legendHoverLink: false,\n                hoverAnimation: false,\n                avoidLabelOverlap: false,\n                label: {\n                    normal: {\n                        show: false,\n                        position: \"center\",\n                    },\n                    emphasis: {\n                        show: true,\n                        textStyle: {\n                            fontSize: \"30\",\n                            fontWeight: \"bold\"\n                        }\n                    },\n\n                },\n                labelLine: {\n                    normal: {\n                        show: false\n                    }\n                },\n                data: [\n                    {\n                        value: a,\n\n                        itemStyle: {\n                            normal: {\n                                color: \"#091438\"\n                            },\n                            emphasis: {\n                                color: \"#091438\"\n                            }\n                        }\n                    },\n                    {\n                        value: b,\n                        name: '其他(' + bAll + ')',\n                        itemStyle: {\n                            normal: {\n                                color: \"#da2b80\"\n                            },\n                            emphasis: {\n                                color: \"#da2b80\"\n                            }\n                        }\n                    },\n                    {\n                        value: c,\n                        name: '本市(' + cAll + ')',\n                        itemStyle: {\n                            normal: {\n                                color: \"#ffa600\"\n                            },\n                            emphasis: {\n                                color: \"#ffa600\"\n                            }\n                        }\n                    },\n                    {\n                        value: d,\n                        itemStyle: {\n                            normal: {\n                                color: \"#00fef7\"\n                            },\n                            emphasis: {\n                                color: \"#00fef7\"\n                            }\n                        }\n                    },\n                ]\n            },\n            {\n                name: \"\",\n                type: \"pie\",\n                radius: [\"0%\", \"55%\"],\n                center: [\"50%\", \"50%\"],\n                silent: true,\n                labelLine: {\n                    normal: {\n                        show: false\n                    }\n                },\n                data: [{\n                    value: 100,\n                    itemStyle: {\n                        color: {\n                            type: 'linear',\n                            x: 0,\n                            y: 0,\n                            x2: 0,\n                            y2: 1,\n                            colorStops: [{\n                                offset: 0,\n                                color: '#006cd5' // 0% 处的颜色\n                            }, {\n                                offset: 0.5,\n                                color: '#35c4f8' // 100% 处的颜色\n                            }, {\n                                offset: 1,\n                                color: '#006cd5' // 100% 处的颜色\n                            }],\n                            global: false // 缺省为 false\n                        }\n                    }\n                }]\n            },\n            {\n                name: '刻度',\n                type: 'gauge',\n                radius: '85%',\n                min: 0,//最小刻度\n                max: cAll > 10000 ? 100000 : 10000,//最大刻度\n                splitNumber: 10, //刻度数量\n                startAngle: 234,//开始度数\n                endAngle: -54,//截至度数\n                axisLine: {\n                    show: true,\n                    lineStyle: {\n                        width: 1,\n                        color: [[1, 'rgba(0,0,0,0)']]\n                    }\n                },//仪表盘轴线\n                axisLabel: {\n                    show: true,\n                    color: '#4d5bd1',\n                    distance: 25,\n                    formatter: function (value) {\n                        return value / 10000 + 'w';\n                    }\n                },\n                axisTick: {\n                    show: true,\n                    splitNumber: 10,\n                    lineStyle: {\n                        //color: '#fff',\n                        width: 1,\n                    },\n                    length: -8\n                },//刻度样式\n                splitLine: {\n                    show: true,\n                    length: -20,\n                    lineStyle: {\n                        color: '#fff'\n                    }\n                },//分隔线样式\n                detail: {\n                    show: false\n                },\n                pointer: {\n                    show: false\n                }\n            }\n            ]\n};","html":"","externalScripts":"","updaterUID":"bd-1900401859","theme":"","layout":"","viewCount":1513,"userName":"1***发","commentCount":0,"starCount":15,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xuCevCbKb.png?v=1576661516883","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-gauge","series-pie","title","tooltip"],"customTags":["pie"],"updaterUserName":"1***发"}}