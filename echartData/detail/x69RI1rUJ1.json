{"status":0,"data":{"cid":"x69RI1rUJ1","authorUid":"obd-oD0FFHJpMhQm98f08NmRJwAGWUn5I1x","authorUserName":"心***7","title":"饼状图","description":"设置graphic属性，显示总数，及各个电站的数量比例，支持添加图片，动画","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-13T10:15:11.000Z","lastUpdateTime":"2020-11-13T10:15:11.000Z","auth":1,"uid":"obd-oD0FFHJpMhQm98f08NmRJwAGWUn5I1x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-13T10:15:11.000Z","code":"   let dataArr = [\n          {\n            name: \"1#电站\",\n            value: 215,\n            unit: \"\"\n          },\n          {\n            name: \"2#电站\",\n            value: 168,\n            unit: \"\"\n          },\n          {\n            name: \"3#电站\",\n            value: 84,\n            unit: \"\"\n          }\n        ]\n   let data = [];\n   let total = 0;\n   let colorList = [\"#2dea9c\", \"#00ffff\", \"#eec700\", \"#b9b9b9\", \"#009ff1\"];\n   let placeHolderStyle = {\n        normal: {\n          label: {\n            show: false\n          },\n          labelLine: {\n            show: false\n          },\n          color: \"rgba(0, 0, 0, 0)\",\n          borderColor: \"rgba(0, 0, 0, 0)\",\n          borderWidth: 0\n        }\n   };\n      for (let i = 0; i < dataArr.length; i++) {\n        total += dataArr[i].value;\n      }\n      for (let i = 0; i < dataArr.length; i++) {\n        data.push(dataArr[i]);\n        data.push({\n          value: parseInt(total * 0.015),\n          name: \"\",\n          itemStyle: placeHolderStyle\n        });\n      }\n\n      \noption = {\n    backgroundColor: '#080b30',\n    title: {\n        text: '饼状图',\n        textStyle: {\n            align: 'center',\n            color: '#fff',\n            fontSize: 20,\n        },\n        top: '23%',\n        left: 'center'\n    },\n    tooltip: {\n          show: true,\n          trigger: \"item\",\n          formatter: function(data) {\n            return (\n              data.name +\n                \"：\" + \"<br/>\" +\n                \" 数量： \" +\n                data.value +\n                \"<br/> 占比： \" + \n                data.percent +\n                \"%\" \n            );\n          }\n        },\n    legend: {\n          orient: \"vertical\",\n          top:  '32%',\n          itemWidth: 10,\n          itemHeight: 10,\n          x: \"center\",\n          textStyle: {\n            color: \"#fff\",\n            fontSize: 16\n          },\n          show: true\n        },\n    graphic: {\n          elements: [\n            {\n              type: \"group\",\n              left: \"center\",\n              top: \"48%\",\n              children: [\n                {\n                  type: \"text\",\n                  z: 100,\n                  top: -22,\n                  left: \"center\",\n                  style: {\n                    fill: \"rgba(255,255,255,0.7)\",\n                    fontWeight: \"normal\",\n                    fontSize: 16,\n                    textAlign: \"center\",\n                    text: ['电站总数', \"\"].join(\"\\n\")\n                  }\n                },\n                {\n                  type: \"text\",\n                  z: 101,\n                  left: \"center\",\n                  top: 0,\n                  style: {\n                    fill: \"#1ee3c5\",\n                    fontSize: 24,\n                    textAlign: \"center\",\n                    text: [total].join(\"\\n\")\n                  }\n                }\n              ]\n            }\n          ]\n        },\n     series: [\n          {\n            hoverOffset: 0,\n            startAngle: 90,\n            type: \"pie\",\n            radius: [78, 76],\n            color: colorList,\n            center: [\"50%\", \"50%\"],\n            tooltip: {\n              show: false\n            },\n            labelLine: {\n              show: false\n            },\n            label: {\n              show: false\n            },\n            data: data\n          },\n          {\n            hoverOffset: 1,\n            startAngle: 90,\n            type: \"pie\",\n            radius: [80, 97],\n            center: [\"50%\", \"50%\"],\n            color: colorList,\n            label: {\n              normal: {\n                formatter: datas => {\n                  // var unit = datas.data.unit ? datas.data.unit : \"%\";\n                  if (datas.name) {\n                    return \"{d|\" + datas.data.value + \"}\";\n                  } else {\n                    return \"\";\n                  }\n                },\n                rich: {\n                  b: {\n                    fontSize: 12,\n                    color: \"#fff\",\n                    align: \"left\",\n                    padding: [-12, 0, 0, 0]\n                  },\n                  d: {\n                    fontSize: 18,\n                    align: \"left\",\n                    fontFamily: \"DINOT\",\n                    padding: [-5, 4, 0, 0],\n                    lineHeight: 24\n                  },\n                  c0: {\n                    fontSize: 14,\n                    align: \"left\",\n                    padding: [2, 10, 4, 10],\n                    borderColor: colorList[0],\n                    borderWidth: 1\n                  }\n                }\n              }\n            },\n            labelLine: {\n              normal: {\n                show: true,\n                length: 10,\n                length2: 20\n              }\n            },\n            data: data\n          }\n        ]\n};","html":"","externalScripts":"","updaterUID":"obd-oD0FFHJpMhQm98f08NmRJwAGWUn5I1x","theme":"","layout":"","viewCount":310,"userName":"心***7","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x69RI1rUJ1.png?v=1605262512051","isCustomThumbnail":1,"builtinTags":["category-work","graphic","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"心***7"}}