{"status":0,"data":{"cid":"xHkQWgPoEW","authorUid":"bd-1192091434","authorUserName":"s***2","title":"Sales Trends by Year within Each Month","description":"Sample of Cycle Plot","latestVersion":1,"alwaysLatest":1,"createTime":"2017-07-06T07:00:11.000Z","lastUpdateTime":"2017-07-06T07:00:11.000Z","auth":2,"uid":"bd-1192091434","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.6.2","versionCreateTime":"2017-07-06T07:00:11.000Z","code":"\nvar rawData = [\n    [2002, 14, 21, 25, 21, 26, 32, 27, 20, 10, 11, 5, 5],\n    [2003, 18, 24, 28, 24, 33, 37, 30, 25, 13, 14, 6, 6],\n    [2004, 22, 31, 36, 28, 37, 43, 35, 30, 13, 13, 7, 7],\n    [2005, 25, 32, 38, 34, 39, 48, 38, 29, 14, 14, 8, 8],\n    [2006, 29, 38, 47, 33, 44, 57, 41, 39, 16, 16, 9, 8],\n    [2007, 29, 35, 49, 34, 43, 57, 41, 37, 20, 17, 9, 10],\n    [2008, 22, 32, 37, 30, 35, 44, 38, 31, 16, 17, 8, 7],\n    [2009, 25, 34, 41, 33, 39, 47, 44, 32, 17, 17, 9, 8],\n    [2010, 26, 35, 46, 40, 47, 61, 47, 41, 20, 18, 9, 10],\n    [2011, 29, 39, 55, 38, 55, 67, 53, 41, 19, 20, 11, 11],\n    [2012, 38, 48, 60, 49, 57, 79, 62, 54, 26, 26, 13, 11]\n];\n\nvar dataByMonth = [];\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\necharts.util.each(rawData, function (entry, yearIndex) {\n    echarts.util.each(entry, function (value, index) {\n        if (index) {\n            var monthIndex = index - 1;\n            var monthItem = dataByMonth[monthIndex] = dataByMonth[monthIndex] || [];\n            monthItem[0] = monthIndex;\n            monthItem[yearIndex + 1] = value;\n        }\n    });\n});\nvar averageByMonth = [];\necharts.util.each(dataByMonth, function (entry, index) {\n    var sum = 0;\n    echarts.util.each(entry, function (value, index) {\n        index && (sum += value);\n    });\n    averageByMonth.push([index, sum / (entry.length - 1)]);\n});\n\nfunction renderTrendItem(params, api) {\n    var categoryIndex = api.value(0);\n    var unitBandWidth = api.size([0, 0])[0] * 0.85 / (rawData.length - 1);\n\n    var points = echarts.util.map(rawData, function (entry, index) {\n        var value = api.value(index + 1);\n        var point = api.coord([categoryIndex, value]);\n        point[0] += unitBandWidth * (index - rawData.length / 2);\n        return point;\n    });\n\n    return {\n        type: 'polyline',\n        shape: {\n            points: points\n        },\n        style: api.style({\n            fill: null,\n            stroke: api.visual('color'),\n            lineWidth: 2\n        })\n    };\n}\n\nfunction renderAverageItem(param, api) {\n    var categoryIndex = api.value(0);\n    var bandWidth = api.size([0, 0])[0] * 0.85;\n    var point = api.coord([api.value(0), api.value(1)]);\n\n    return {\n        type: 'line',\n        shape: {\n            x1: point[0] - bandWidth / 2,\n            x2: point[0] + bandWidth / 2,\n            y1: point[1],\n            y2: point[1]\n        },\n        style: api.style({\n            fill: null,\n            stroke: api.visual('color'),\n            lineWidth: 2\n        })\n    };\n}\n\noption = {\n    tooltip: {\n    },\n    title: {\n        text: 'Sales Trends by Year within Each Month',\n        subtext: 'Sample of Cycle Plot',\n        left: 'center'\n    },\n    legend: {\n        top: 70,\n        data: ['Trend by year (2002 - 2012)', 'Average']\n    },\n    dataZoom: [{\n        type: 'slider',\n        showDataShadow: false,\n        bottom: 10,\n        height: 20,\n        borderColor: 'transparent',\n        backgroundColor: '#e2e2e2',\n        handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line\n        handleSize: 20,\n        handleStyle: {\n            shadowBlur: 6,\n            shadowOffsetX: 1,\n            shadowOffsetY: 2,\n            shadowColor: '#aaa'\n        },\n        labelFormatter: ''\n    }, {\n        type: 'inside'\n    }],\n    grid: {\n        bottom: 70,\n        top: 120,\n    },\n    xAxis: {\n        data: months\n    },\n    yAxis: {\n        boundaryGap: [0, '20%']\n    },\n    series: [{\n        type: 'custom',\n        name: 'Average',\n        renderItem: renderAverageItem,\n        encode: {\n            x: 0,\n            y: 1\n        },\n        data: averageByMonth\n    }, {\n        type: 'custom',\n        name: 'Trend by year (2002 - 2012)',\n        renderItem: renderTrendItem,\n        encode: {\n            x: 0,\n            y: echarts.util.map(rawData, function (entry, index) {\n                return index + 1;\n            })\n        },\n        data: dataByMonth\n    }]\n};\n\n\n\n","html":"","externalScripts":"","updaterUID":"bd-1192091434","theme":"","layout":"","viewCount":193,"userName":"s***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHkQWgPoEW.png?v=1499324411577","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-custom","title","tooltip"],"customTags":[],"updaterUserName":"s***2"}}