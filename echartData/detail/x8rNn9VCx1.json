{"status":0,"data":{"cid":"x8rNn9VCx1","authorUid":"obd-olkpVq-oWbQYb_F5ZRRg7tTVbD4Ze02","authorUserName":"深***叹","title":"自动切换轮播","description":"饼图自动轮播，切换","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-14T08:41:02.000Z","lastUpdateTime":"2021-07-14T08:41:02.000Z","auth":2,"uid":"obd-olkpVq-oWbQYb_F5ZRRg7tTVbD4Ze02","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-14T08:41:02.000Z","code":"var color = [\r\n    '#0CD2E6',\r\n    '#3751E6',\r\n    '#FFC722',\r\n    '#886EFF',\r\n    '#008DEC',\r\n    '#114C90',\r\n    '#00BFA5',\r\n];\r\n\r\nvar title = '自动切换轮播';\r\n\r\nvar seriesData = [\r\n    { \"name\": \"A需求类型\", \"value\": 30 },\r\n    { \"name\": \"B需求类型\", \"value\": 10 },\r\n    { \"name\": \"C需求类型\", \"value\": 15 },\r\n    { \"name\": \"D需求类型\", \"value\": 23 },\r\n    { \"name\": \"E需求类型\", \"value\": 10 },\r\n    { \"name\": \"其他\", \"value\": 12 }\r\n]\r\n\r\nvar option = {\r\n    backgroundColor:'#050e31',\r\n    color: color,\r\n    title: {\r\n        top: 20,\r\n        text: title,\r\n        textStyle: {\r\n            fontSize: 20,\r\n            color: '#DDEEFF',\r\n        },\r\n    },\r\n    grid: {\r\n        top: '15%',\r\n        left: 0,\r\n        right: '1%',\r\n        bottom: 5,\r\n        containLabel: true,\r\n    },\r\n    series: [{\r\n        name: '需求类型占比',\r\n        type: 'pie',\r\n        center: ['50%', '50%'],\r\n        radius: ['45%', '65%'],\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'center',\r\n                formatter: '{value|{c}}\\n{label|{b}}',\r\n                rich: {\r\n                    value: {\r\n                        padding: 5,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 32,\r\n                    },\r\n                    label: {\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 16,\r\n                    },\r\n                },\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: '12',\r\n                },\r\n            },\r\n        },\r\n        labelLine: {\r\n            show: false,\r\n            length: 0,\r\n            length2: 0,\r\n        },\r\n        data: seriesData,\r\n    }],\r\n};\r\n\r\nmyChart.setOption(option);\r\n\r\nvar currentIndex = -1\r\n console.log(option)\r\n//  let myChart = echarts.getInstanceByDom(document.getElementById(\"chart-panel\"))\r\n var dataLen = option.series[0].data.length\r\nvar timer=0;\r\n setInterval(() => {\r\n    \r\n     console.log(123)\r\n     //  计时器增加\r\n     timer++;\r\n    if (timer==5) {\r\n        for(let index in arr){\r\n        arr[index].value=(Math.random()*50+100).toFixed(0);\r\n        }\r\n        myChart.setOption({\r\n            series: [{\r\n                data: arr\r\n            }]\r\n        })\r\n        timer=1;\r\n    }\r\n     // 取消之前高亮的图形\r\n     myChart.dispatchAction({\r\n         type: 'downplay',\r\n         seriesIndex: 0,\r\n         dataIndex: currentIndex\r\n     })\r\n     currentIndex = (currentIndex + 1) % dataLen\r\n     // 高亮当前图形\r\n     myChart.dispatchAction({\r\n         type: 'highlight',\r\n         seriesIndex: 0,\r\n         dataIndex: currentIndex\r\n     })\r\n     // 显示 tooltip\r\n     myChart.dispatchAction({\r\n         type: 'showTip',\r\n         seriesIndex: 0,\r\n         dataIndex: currentIndex\r\n     })\r\n    \r\n }, 3000)","html":"","externalScripts":"","updaterUID":"obd-olkpVq-oWbQYb_F5ZRRg7tTVbD4Ze02","theme":"","layout":"","viewCount":0,"userName":"深***叹","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8rNn9VCx1.png?v=1626252062978","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title"],"customTags":[],"updaterUserName":"深***叹"}}