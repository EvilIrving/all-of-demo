{"status":0,"data":{"cid":"xBy2_1fNcx","authorUid":"bd-2568493834","authorUserName":"yungpheng","title":"简单格式化柱状图","description":"提供格式化数据的方法及坐标轴的美化，正式使用只需修改背景及从数据库获取json数据","latestVersion":1,"alwaysLatest":1,"createTime":"2017-03-01T09:08:04.000Z","lastUpdateTime":"2017-03-01T09:08:04.000Z","auth":2,"uid":"bd-2568493834","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.4.0","versionCreateTime":"2017-03-01T09:08:04.000Z","code":"option = {\r\n    color: ['#04A3AA'],\r\n    backgroundColor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n        offset: 0,\r\n        color: 'red' // 0% 处的颜色\r\n    }, {\r\n        offset: 1,\r\n        color: 'green' // 100% 处的颜色\r\n    }], false),\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{b} : {c}\",\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n    grid: {\r\n        left: '5%',\r\n        right: '5%',\r\n        bottom: '5%',\r\n        top: '5%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: [],\r\n        nameTextStyle: {\r\n            color: \"#fff\", // 刻度颜色\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                // 刻度颜色\r\n\r\n            },\r\n            formatter: function(val) {\r\n                var reval = '';\r\n                for (var i = 0, len = val.length; i < len; i++) {\r\n                    reval += val.charAt(i) + '\\n';\r\n                }\r\n                return reval.substring(0, reval.length - 1);\r\n            }\r\n        }\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        nameTextStyle: {\r\n            color: \"#fff\", // 刻度颜色\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: '#082335'\r\n            }\r\n        },\r\n        minInterval: 1,\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: \"#083D4D\", // 刻度颜色\r\n            }\r\n        }\r\n    }],\r\n    series: [{\r\n        name: '数量',\r\n        type: 'bar',\r\n        barWidth: '60%',\r\n        data: []\r\n    }]\r\n};\r\n\r\nfunction formatBarData(data) {\r\n    var ctAData = [];\r\n    var serData = [];\r\n\r\n    for (var i = 0; i < data.length; i++) {\r\n        ctAData.push(data[i].name || \"\");\r\n        serData.push({\r\n            name: data[i].name,\r\n            value: data[i].value || 0\r\n        });\r\n    }\r\n\r\n    return {\r\n        ctAData: ctAData,\r\n        serData: serData\r\n    };\r\n}\r\n//数据处理\r\nvar tData = [{\r\n    name: 'Mon',\r\n    value: 30\r\n}, {\r\n    name: 'Tue',\r\n    value: 52\r\n}, {\r\n    name: 'Wed',\r\n    value: 60\r\n}, {\r\n    name: 'Thu',\r\n    value: 78\r\n}, {\r\n    name: 'Fri',\r\n    value: 96\r\n}, {\r\n    name: 'Sat',\r\n    value: 246\r\n}, {\r\n    name: 'Sun',\r\n    value: 98\r\n}];\r\nvar sData = tData.sort(function(a, b) {\r\n    return b.value - a.value;\r\n});\r\nvar fData = formatBarData(sData);\r\noption.xAxis[0].data = fData.ctAData;\r\noption.series[0].data = fData.serData;","html":"","externalScripts":"","updaterUID":"bd-2568493834","theme":"","layout":"","viewCount":557,"userName":"yungpheng","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBy2_1fNcx.png?v=1488359284769","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"yungpheng"}}