{"status":0,"data":{"cid":"xHkya7uxpM","authorUid":"bd-1684372288","authorUserName":"钟晨慕晓","title":"1","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-04-27T09:56:06.000Z","lastUpdateTime":"2018-04-27T09:56:06.000Z","auth":2,"uid":"bd-1684372288","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.8.5","versionCreateTime":"2018-05-02T01:48:38.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1521691287974-ryli5ol5G.json\";\n\n// init\n$(function() {\n\n    $.get(uploadedDataURL, function (rs) {\n        debugger;\n        var hStep = 100000 / (rs.length - 1);\n        var data = [];\n        var timeData = [];\n\n        rs = rs.split(\"\\n\");\n        console.log(rs.length);\n        var maxLength = 0;\n        for (var i = 0; i < rs.length; i++) {\n            var item = rs[i].split(',');\n            var coordinates = [];\n            if (item.length > maxLength) {\n                maxLength = item.length;\n            }\n            for (j = 0; j < item.length; j += 2) {\n                coordinates.push([Number(item[j]), Number(item[j + 1])]);\n                timeData.push({\n                    geometry: {\n                        type: 'Point',\n                        coordinates: [item[j], item[j + 1]]\n                    },\n                    count: 1,\n                    time: j\n                });\n            }\n            data.push({\n                'coords': coordinates,\n                'lineStyle': {\n                    'normal': {\n                        'color': echarts.color.modifyHSL('#5A94DF', Math.round(hStep * i))\n                    }\n                }\n            });\n        };\n        var option = {\n            maptalks: {\n                center:[68.274129, 18.740339],\n                zoom: 11,\n                baseLayer: {\n                    tileSystem: [1, 1, 0, 0],\n                    urlTemplate: 'http://api2.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&udt=20180314&scale=1&ak=1XjLLEhZhQNUzd93EjU5nOGQ&styles=t%3Awater%7Ce%3Aall%7Cc%3A%23044161%2Ct%3Aland%7Ce%3Aall%7Cc%3A%23091934%2Ct%3Aboundary%7Ce%3Ag%7Cc%3A%23064f85%2Ct%3Arailway%7Ce%3Aall%7Cv%3Aoff%2Ct%3Ahighway%7Ce%3Ag%7Cc%3A%23004981%2Ct%3Ahighway%7Ce%3Ag.f%7Cc%3A%23005b96%7Cl%3A1%2Ct%3Ahighway%7Ce%3Al%7Cv%3Aon%2Ct%3Aarterial%7Ce%3Ag%7Cc%3A%23004981%7Cl%3A-39%2Ct%3Aarterial%7Ce%3Ag.f%7Cc%3A%2300508b%2Ct%3Apoi%7Ce%3Aall%7Cv%3Aoff%2Ct%3Agreen%7Ce%3Aall%7Cv%3Aoff%7Cc%3A%23056197%2Ct%3Asubway%7Ce%3Aall%7Cv%3Aoff%2Ct%3Amanmade%7Ce%3Aall%7Cv%3Aoff%2Ct%3Alocal%7Ce%3Aall%7Cv%3Aoff%2Ct%3Aarterial%7Ce%3Al%7Cv%3Aoff%2Ct%3Aboundary%7Ce%3Ag.f%7Cc%3A%23029fd4%2Ct%3Abuilding%7Ce%3Aall%7Cc%3A%231a5787%2Ct%3Alabel%7Ce%3Aall%7Cv%3Aoff%2Ct%3Apoi%7Ce%3Al.t.f%7Cc%3A%23ffffff%2Ct%3Apoi%7Ce%3Al.t.s%7Cc%3A%231e1c1c%2Ct%3Aadministrative%7Ce%3Al%7Cv%3Aoff%2Ct%3Aroad%7Ce%3Al%7Cv%3Aoff',\n                    subdomains: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n                },\n                view:{\n                \n                    'projection': \"IDENTITY\",\n                    'resolutions': (function () {\n                        let res = Math.pow(2, 18);\n                        const resolutions = [];\n                        for (let i = 0; i < 20; i++) {\n                            resolutions[i] = res;\n                            res *= 0.5;\n                        }\n                        resolutions[0] = null;\n                        resolutions[1] = null;\n                        resolutions[2] = null;\n                        return resolutions;\n                    })(),\n                    'fullExtent': {\n                        'top': 33554432,\n                        'left': -33554432,\n                        'bottom': -33554432,\n                        'right': 33554432\n                    }\n                 \n                },\n                altitudeScale: 2,\n                postEffect: {\n                    enable: true,\n                    FXAA: {\n                        enable: true\n                    }\n                }\n            },\n            series: [\n                {\n                    'type': 'lines3D',\n                    'coordinateSystem': 'maptalks',\n                    'polyline': true,\n                    'blendMode': 'lighter',\n                    'data': data,\n                    'lineStyle': {\n                        'normal': {\n                            'width': 0\n                        }\n                    },\n                    'effect': {\n                        'constantSpeed': 40,\n                        'show': true,\n                        'trailLength': 0.5,\n                        'symbolSize': 2.5\n                    }\n                }\n            ]\n        };\n\n        myChart.setOption(option);\n    });\n});","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/maptalks@0.39.3/dist/maptalks.min.js,https://cdn.bootcss.com/echarts/3.8.5/echarts.min.js,http://sandbox.runjs.cn/uploads/rs/492/2mfkzkii/echarts-gl-master.m.js,https://cdn.bootcss.com/jquery/2.0.3/jquery.min.js","updaterUID":"bd-1684372288","theme":"","layout":"","viewCount":74,"userName":"钟晨慕晓","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHkya7uxpM.png?v=1524822966983","isCustomThumbnail":1,"builtinTags":["category-work","maptalks","series-lines3D"],"customTags":[],"updaterUserName":"钟晨慕晓"}}