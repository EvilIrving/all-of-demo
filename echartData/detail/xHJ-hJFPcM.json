{"status":0,"data":{"cid":"xHJ-hJFPcM","authorUid":"bd-404965171","authorUserName":"小***物","title":"检查违规情况","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-27T08:24:08.000Z","lastUpdateTime":"2018-03-27T08:24:08.000Z","auth":2,"uid":"bd-404965171","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-27T08:24:08.000Z","code":"var data1=[29,31,31,25,29,26,33,34,34,28,34,32];\nvar data2= [10,5,15,6,6,6,7,13,14,5,6,11];\noption = {\n    backgroundColor: '#ffffff',\n    title:{\n        left:'left'\n    },\n    legend: {\n        top:'12%',\n        left: '35%',\n        textStyle: {\n            color: '#000000',\n        },\n        data: ['检查主体数','违法违规主体数']\n    },\n    grid: {\n        left: '25%',\n        right: '30%',\n        top:'20%',\n         bottom: '50%',\n        containLabel: true\n    },\n\n    tooltip: {\n        show: \"true\",\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    yAxis: {\n        type: 'value',\n        max:40,\n        axisTick: {\n            show: true\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: '#000',\n            }\n        },\n        splitLine: {\n            show: true\n        },\n    },\n    xAxis: [{\n            type: 'category',\n            axisTick: {\n                show: false\n            },\"axisLabel\": {\n            \"interval\": 0,\n            rotate:40,\n            textStyle: {\n                fontSize: 10\n            },formatter : function(params){\n               var newParamsName = \"\";// 最终拼接成的字符串\n                var paramsNameNumber = params.length;// 实际标签的个数\n                var provideNumber = 5;// 每行能显示的字的个数\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber);// 换行的话，需要显示几行，向上取整\n                /**\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\n                 */\n                // 条件等同于rowNumber>1\n                if (paramsNameNumber > provideNumber) {\n                    /** 循环每一行,p表示行 */\n                    var tempStr = \"\";\n                    tempStr=params.substring(0,4);\n                    newParamsName = tempStr+\"...\";// 最终拼成的字符串\n                } else {\n                    // 将旧标签的值赋给新标签\n                    newParamsName = params;\n                }\n                //将最终的字符串返回\n                return newParamsName\n            }\n        },\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: '#000000',\n                }\n            },data: ['1月', '2月', '3月', '4月','5月', '6月','7月', '8月','9月', '10月','11月', '12月']\n\n\n        }\n\n    ],\n    \n    series: [{\n            name: '检查主体数',\n            type: 'bar',\n            barWidth : 15,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#91b6c2',\n                    barBorderRadius: 10,\n                    borderWidth: 0,\n                    borderColor: '#333',\n                }\n            },\n            //var colors = ['#91b6c2', '#81d0d7']，\n            barGap: '0%',\n            barCategoryGap: '50%',\n            data:data1\n        },{\n            name: '违法违规主体数',\n            type: 'bar',\n            barWidth : 15,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#81d0d7',\n                    barBorderRadius: 10,\n                    borderWidth: 0,\n                    borderColor: '#333',\n                }\n            },\n            barGap: '0%',\n            barCategoryGap: '50%',\n            data: data2\n        },\n        {\n            name: '违法违规率',\n            type: 'pie',\n            radius: ['8%', '10%'],\n            color: ['#FF4500'],\n            center: ['70%', '20%'],\n            tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n            },\n            label: {\n                normal: {\n                    position: 'center'\n                }\n            },\n            data: [{\n                value: data2[0],\n                name: '违法违规主体数',\n\n                label: {\n                    normal: {\n                        formatter: '{d} %',\n                        textStyle: {\n                            fontSize: 12\n                        }\n                    }\n                }\n            }, {\n                value: data1[0] - data2[0],\n                name: '未违法违规主体数',\n\n                label: {\n                    normal: {\n                        formatter: '\\违法违规率',\n                        textStyle: {\n                            color: '#555',\n                            fontSize: 10\n                        }\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#E6E6E6'\n                    },\n                    emphasis: {\n                        color: '#E6E6E6'\n                    }\n                },\n            }]\n        }]\n};\nmyChart.on('mouseover', function(params) {\n    if (params.componentType === 'series' && params.seriesType === 'bar') {\n        var dataIndex = params.dataIndex;\n        myChart.setOption({\n            series: [{\n            name: '检查主体数',\n            type: 'bar',\n            barWidth : 15,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#91b6c2',\n                    barBorderRadius: 10,\n                    borderWidth: 0,\n                    borderColor: '#333',\n                }\n            },\n            //var colors = ['#91b6c2', '#81d0d7']，\n            barGap: '0%',\n            barCategoryGap: '50%',\n            data:data1\n        },{\n            name: '违法违规主体数',\n            type: 'bar',\n            barWidth : 15,\n            itemStyle: {\n                normal: {\n                    show: true,\n                    color: '#81d0d7',\n                    barBorderRadius: 10,\n                    borderWidth: 0,\n                    borderColor: '#333',\n                }\n            },\n            barGap: '0%',\n            barCategoryGap: '50%',\n            data: data2\n        },\n        {\n            name: '违法违规率',\n            type: 'pie',\n            radius: ['8%', '10%'],\n            color: ['#FF4500'],\n            center: ['70%', '20%'],\n            tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n            },\n            label: {\n                normal: {\n                    position: 'center'\n                }\n            },\n            data: [{\n                value: data2[dataIndex],\n                name: '违法违规主体数',\n\n                label: {\n                    normal: {\n                        formatter: '{d} %',\n                        textStyle: {\n                            fontSize: 12\n                        }\n                    }\n                }\n            }, {\n                value: data1[dataIndex] - data2[dataIndex],\n                name: '未违法违规主体数',\n\n                label: {\n                    normal: {\n                        formatter: '\\违法违规率',\n                        textStyle: {\n                            color: '#555',\n                            fontSize: 6\n                        }\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#E6E6E6'\n                    },\n                    emphasis: {\n                        color: '#E6E6E6'\n                    }\n                },\n            }]\n        }]\n        })\n    }\n});","html":"","externalScripts":"","updaterUID":"bd-404965171","theme":"","layout":"","viewCount":124,"userName":"小***物","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJ-hJFPcM.png?v=1522139049077","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"小***物"}}