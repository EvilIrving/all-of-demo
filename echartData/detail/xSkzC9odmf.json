{"status":0,"data":{"cid":"xSkzC9odmf","authorUid":"bd-2743220520","authorUserName":"Lost_none","title":"四象限图制作演示","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-01-02T06:46:33.000Z","lastUpdateTime":"2018-01-02T06:46:33.000Z","auth":2,"uid":"bd-2743220520","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-02T06:47:03.000Z","code":"var sourceData = [{\n    name: '王小虎',\n    sales: 142.56,\n    services: 64.5\n}, {\n    name: '王小明',\n    sales: 471.14,\n    services: 76.2\n}, {\n    name: '王小乐',\n    sales: 42.1,\n    services: 34.8\n}, {\n    name: '王小波',\n    sales: 63.2,\n    services: 97.4\n}, {\n    name: '王小龙',\n    sales: 97.3,\n    services: 67.5\n}, {\n    name: '王小宇',\n    sales: 782.1,\n    services: 37.7\n}, {\n    name: '王小禾',\n    sales: 41.1,\n    services: 12.8\n}]\n\nvar seriesData = sourceData.map(function(item, index, array) {\n    return {\n        name: item['name'],\n        value: [item['sales'], item['services']]\n    }\n})\n\nvar computeServicesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['services']\n    })\n    return sum / sourceData.length\n}\n\nvar computeSalesAvgLine = function() {\n    let sum = 0\n    sourceData.forEach(function(item) {\n        sum += item['sales']\n    })\n    return sum / sourceData.length\n}\nvar avg = {\n    servicesAvgLine: computeServicesAvgLine(),\n    salesAvgLine: computeSalesAvgLine()\n}\n\noption = {\n    title: {\n        text: '服务四象限图'\n    },\n    tooltip: {\n        trigger: 'item',\n        axisPointer: {\n            show: true,\n            type: 'cross',\n            lineStyle: {\n                type: 'dashed',\n                width: 1\n            },\n        },\n        formatter: function(obj) {\n            if (obj.componentType == \"series\") {\n                return '<div style=\"border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px\">' +\n                    obj.name +\n                    '</div>' +\n                    '<span>' +\n                    '销售额' +\n                    '</span>' +\n                    ' : ' + obj.data.value[0] + '（元）' +\n                    '<br/>' +\n                    '<span>' +\n                    '服务能力' +\n                    '</span>' +\n                    ' : ' + obj.data.value[1] + '%'\n            }\n        }\n    },\n    label: {\n        normal: {\n            show: true,\n            position: 'bottom',\n            formatter: function(params) {\n                return params.name\n            }\n        },\n        emphasis: {\n            show: true,\n            position: 'bottom',\n        }\n    },\n    xAxis: {\n        name: '营业额',\n        type: 'value',\n        scale: true,\n        axisLabel: {\n            formatter: '{value} 元'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#3259B8'\n            }\n        }\n    },\n    yAxis: {\n        name: '服务能力',\n        type: 'value',\n        scale: true,\n        axisLabel: {\n            formatter: '{value} %'\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#3259B8'\n            }\n        }\n    },\n    toolbox: {\n        feature: {\n            dataZoom: {}\n        }\n    },\n    visualMap: {\n        min: 0,\n        max: 800,\n        dimension: 0,\n        left: 'right',\n        top: 'top',\n        text: ['高', '低'], // 文本，默认为数值文本\n        calculable: true,\n        itemWidth: 18,\n        itemHeight: 160,\n        textStyle: {\n            color: '#3259B8',\n            height: 56,\n            fontSize: 11,\n            lineHeight: 60,\n        },\n        inRange: {\n            color: ['#7AB7F7', '#b45ef7']\n        },\n        padding: [50, 20],\n        orient: 'horizontal',\n    },\n    series: [{\n        type: 'scatter',\n        data: seriesData,\n        symbolSize: 20,\n        markLine: {\n            label: {\n                normal: {\n                    formatter: function(params) {\n                        if (params.dataIndex == 0) {\n                            return params.value + \"元\";\n                        } else if (params.dataIndex == 1) {\n                            return params.value + \"%\";\n                        }\n                        return params.value;\n                    }\n                }\n            },\n            lineStyle: {\n                normal: {\n                    color: \"#626c91\",\n                    type: 'solid',\n                    width: 1,\n                },\n                emphasis: {\n                    color: \"#d9def7\"\n                }\n            },\n            data: [{\n                xAxis: avg.salesAvgLine,\n                name: '营业额平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }, {\n                yAxis: avg.servicesAvgLine,\n                name: '服务能力平均线',\n                itemStyle: {\n                    normal: {\n                        color: \"#b84a58\",\n                    }\n                }\n            }]\n        },\n        markArea: {\n            silent: true,\n            data: [\n                [{\n                    name: '改进',\n                    itemStyle: {\n                        normal: {\n                            color: 'transparent'\n                        },\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'insideTopLeft',\n                            fontStyle: 'normal',\n                            color: \"#409EFF\",\n                            fontSize: 20,\n                        }\n                    },\n                    coord: [avg.salesAvgLine, avg.servicesAvgLine],\n                }, {\n                    coord: [Number.MAX_VALUE, 0],\n                }],\n                [{\n                    name: '淘汰',\n                    itemStyle: {\n                        normal: {\n                            color: 'transparent',\n                        },\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'insideTopRight',\n                            fontStyle: 'normal',\n                            color: \"#409EFF\",\n                            fontSize: 20,\n                        }\n                    },\n                    coord: [0, 0],\n                }, {\n                    coord: [avg.salesAvgLine, avg.servicesAvgLine],\n                }],\n                [{\n                    name: '保持',\n                    itemStyle: {\n                        normal: {\n                            color: 'transparent',\n                        },\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'insideBottomLeft',\n                            fontStyle: 'normal',\n                            color: \"#409EFF\",\n                            fontSize: 20,\n                        }\n                    },\n                    coord: [avg.salesAvgLine, avg.servicesAvgLine],\n                }, {\n                    coord: [Number.MAX_VALUE, Number.MAX_VALUE],\n                }],\n                [{\n                    name: '激励',\n                    itemStyle: {\n                        normal: {\n                            color: 'transparent',\n                        },\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'insideBottomRight',\n                            fontStyle: 'normal',\n                            color: \"#409EFF\",\n                            fontSize: 20,\n                        }\n                    },\n                    coord: [0, Number.MAX_VALUE],\n                }, {\n                    coord: [avg.salesAvgLine, avg.servicesAvgLine],\n                }],\n            ]\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-2743220520","theme":"","layout":"","viewCount":18407,"userName":"Lost_none","commentCount":5,"starCount":50,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSkzC9odmf.png?v=1514875624179","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markArea","markLine","series-scatter","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"Lost_none"}}