{"status":0,"data":{"cid":"xHJiy6gp8g","authorUid":"bd-1158218442","authorUserName":"J***r","title":"都市楼宇","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2017-01-18T14:34:10.000Z","lastUpdateTime":"2017-01-18T14:34:10.000Z","auth":2,"uid":"bd-1158218442","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"3.8.0","versionCreateTime":"2018-07-27T01:47:54.000Z","code":"\n\t// github: github.com/jackshawn/pics-by-echarts\n\n            var r = function(max) {\n                var m = max || 10;\n                return Math.floor(Math.random() * m);\n            };\n\n            var moonAndStars = {\n                type: 'graph',\n                data: (function() {\n                    var moonPosition = {\n                        x: r(150) + 25,\n                        y: r(50)\n                    }\n                    var moon = [{\n                        symbolSize: 80,\n                        x: moonPosition.x,\n                        y: moonPosition.y\n                    }, {\n                        symbolSize: 70,\n                        x: moonPosition.x - 1.5,\n                        y: moonPosition.y - 1.5,\n                        itemStyle: {\n                            normal: {\n                                color: 'rgb(51, 51, 51)'\n                            }\n                        }\n                    }, {\n                        symbolSize: 0,\n                        x: 0,\n                        y: 0\n                    }, {\n                        symbolSize: 0,\n                        x: 200,\n                        y: 100\n                    }];\n                    var num = 60;\n                    var stars = [];\n                    for (var i = 0; i < num; i++) {\n                        stars.push({\n                            symbolSize: r(3),\n                            x: r(200),\n                            y: r(50)\n                        })\n                    }\n                    return moon.concat(stars);\n                })(),\n                itemStyle: {\n                    normal: {\n                        color: '#ccc'\n                    }\n                },\n                silent: true,\n                z: -1\n            };\n\n            var roofs = [\n                /*三角形*/\n                [1, 2, 3, 4, 5, 4, 3, 2, 1],\n                /*凸*/\n                [2, 2, 2, 4, 4, 4, 2, 2, 2],\n                [2, 2, 2, 4, 20, 4, 2, 2, 2],\n                [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n                [6, 6, 6, 6, 6, 5, 4, 3, 2, 1],\n                [0.3, 1, 1.6, 2.5, 3, 3.5, 3.6, 3.7, 3.7, 3.6, 3.5, 3, 2.5, 1.6, 1, 0.3],\n                [6, 6, 6, 6, 6, 2, 2, 2],\n                [6, 5.5, 5, 4.5, 4, 3.5, 3, 2.5, 2, 1.5],\n                [1, 1, 1, 1, 1, 1.5, 2, 2.5, 3, 3.5, 4],\n                [1, 1, 1, 1, 1, 1, 1],\n                [4, 4, 4, 2, 2, 2, 4, 4, 4]\n\n            ];\n            var build = function(height) {\n                var arr = [100];\n                var l = 14;\n                var h = height || 50;\n                var addFloor = function(arr, l) {\n                    var a = [];\n                    for (var i = 0; i < arr.length; i++) {\n                        a.push(arr[i] + l);\n                    }\n                    return a;\n                };\n                for (var i = 0; i < l; i++) {\n                    var newRoof = addFloor(roofs[r(11)], r(h));\n                    if (Math.random() < .5) {\n                        newRoof.reverse()\n                    }\n                    arr = arr.concat(newRoof);\n                    if (Math.random() < .5) {\n                        arr.push(0)\n                    }\n                }\n                return arr;\n            };\n            var building = build();\n            var building2 = (function() {\n                var b = build(100);\n                for (var i = 0; i < b.length; i++) {\n                    if (b[i] > building[i]) {\n                        b[i] = b[i] - building[i];\n                    }\n\n                }\n                return b;\n            })()\n\n            option = {\n                stack: true,\n                xAxis: {\n                    data: [],\n                    silent: true,\n                    splitLine: {\n                        show: false\n                    }\n                },\n                grid: {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    top: 0\n                },\n                yAxis: {\n                    silent: true,\n                    splitLine: {\n                        show: false\n                    }\n                },\n                series: [\n                    moonAndStars, {\n                        type: 'bar',\n                        data: building,\n                        itemStyle: {\n                            normal: {\n                                color: 'rgb(38, 41, 57)'\n                            }\n                        },\n                        animationDelay: function(idx) {\n                            return idx * 10;\n                        }\n                    }, {\n                        type: 'bar',\n                        data: building2,\n                        itemStyle: {\n                            normal: {\n                                color: 'rgb(28, 31, 47)'\n                            }\n                        },\n                        animationDelay: function(idx) {\n                            return idx * 10 + 300;\n                        }\n                    }, {\n                        coordinateSystem: 'cartesian2d',\n                        type: 'lines',\n                        zlevel: -2,\n                        effect: {\n                            show: true,\n                            period: 1,\n                            trailLength: 0.05,\n                            symbolSize: Math.random() * 2 + 1,\n                            symbol: 'diamond',\n                            loop: false\n                        },\n                        lineStyle: {\n                            normal: {\n                                color: '#ccc',\n                                opacity: 0,\n                                curveness: -0.05\n                            }\n                        },\n                        data: [{\n                            coords: [\n                                [r(50) + 100, r(50) + 150],\n                                [r(20) + 10, r(50) + 50]\n                            ]\n                        }],\n                        animationDelay: 1100\n                    }\n                ],\n                animationEasing: 'elasticOut',\n                animationDelayUpdate: function(idx) {\n                    return idx * 5;\n                }\n            };\n            setInterval(function() {\n                option.series[3].effect.symbolSize = Math.random() * 2 + 1;\n                option.series[3].data.push({\n                    coords: [\n                        [r(50) + 100, r(50) + 150],\n                        [r(20) + 10, r(50) + 50]\n                    ]\n                });\n                myChart.setOption(option);\n            }, 8000)","html":"","externalScripts":"","updaterUID":"bd-1158218442","theme":"dark","layout":"","viewCount":12971,"userName":"J***r","commentCount":4,"starCount":51,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJiy6gp8g.png?v=1532656074142","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-graph","series-lines"],"customTags":[],"updaterUserName":"J***r"}}