{"status":0,"data":{"cid":"xhZthcHFza","authorUid":"obd-oj4MK60C5RrD2WtybFl7tZUKIoHtuDy","authorUserName":"w***泡","title":"雨量","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2020-10-13T08:04:03.000Z","lastUpdateTime":"2020-10-13T08:04:03.000Z","auth":2,"uid":"obd-oj4MK60C5RrD2WtybFl7tZUKIoHtuDy","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-14T05:27:38.000Z","code":"let myicon = 'image://data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg2NDg1MzkzMjI2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ3MzUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDBDMjI2Ljc0Mjg1NyAwIDAgMjI2Ljc0Mjg1NyAwIDUxMnMyMjYuNzQyODU3IDUxMiA1MTIgNTEyIDUxMi0yMjYuNzQyODU3IDUxMi01MTItMjI2Ljc0Mjg1Ny01MTItNTEyLTUxMnogbTAgODc3LjcxNDI4NmMtMjA0LjggMC0zNjUuNzE0Mjg2LTE2MC45MTQyODYtMzY1LjcxNDI4Ni0zNjUuNzE0Mjg2czE2MC45MTQyODYtMzY1LjcxNDI4NiAzNjUuNzE0Mjg2LTM2NS43MTQyODYgMzY1LjcxNDI4NiAxNjAuOTE0Mjg2IDM2NS43MTQyODYgMzY1LjcxNDI4Ni0xNjAuOTE0Mjg2IDM2NS43MTQyODYtMzY1LjcxNDI4NiAzNjUuNzE0Mjg2eiIgZmlsbD0iIzRBQkRDRiIgcC1pZD0iNDczNiI+PC9wYXRoPjxwYXRoIGQ9Ik01MTIgNTEybS0zNjUuNzE0Mjg2IDBhMzY1LjcxNDI4NiAzNjUuNzE0Mjg2IDAgMSAwIDczMS40Mjg1NzIgMCAzNjUuNzE0Mjg2IDM2NS43MTQyODYgMCAxIDAtNzMxLjQyODU3MiAwWiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDczNyI+PC9wYXRoPjwvc3ZnPg==';\nlet startValue = '';\nlet endValue = '';\nlet start = ''; //起始X轴\nlet end = ''; //结束X轴\noption = {\n    backgroundColor: '#fff',\n    legend: {\n        data: ['雨量'],\n        itemHeight: 2,\n        itemWidth: 15,\n        borderRadius: 5,\n        textStyle: { //图例文字的样式\n            color: '#3C4353',\n            fontSize: 12\n        },\n    },\n    graphic: [{ //图形中间文字\n        type: \"text\",\n        left: 81,\n        bottom: 9,\n        style: {\n            text: \"2020-09-15 00:00:00\",\n            textAlign: \"center\",\n            fill: \"#838A9D\",\n            fontSize: 12\n        }\n    }, { //图形中间文字\n        type: \"text\",\n        right: 53,\n        bottom: 9,\n        style: {\n            text: \"2020-09-15 00:00:00\",\n            textAlign: \"center\",\n            fill: \"#838A9D\",\n            fontSize: 12\n        }\n    }],\n    dataZoom: [{\n            type: 'slider',\n            xAxisIndex: 0,\n            filterMode: 'filter',\n            height: 4,\n            bottom: 35,\n            handleSize: \"400%\",\n            handleIcon: myicon,\n            handleStyle: {\n                color: \"#46C7DC\",\n            },\n            backgroundColor: \"#F0F2F5\",\n            fillerColor: \"#46C7DC\",\n            borderColor: \"transparent\",\n            textStyle: {\n                color: \"transparent\"\n            },\n            dataBackground: {\n                areaStyle: {\n                    opacity: 0\n                },\n                lineStyle: {\n                    opacity: 0\n                }\n            },\n        },\n        {\n            type: 'slider',\n            yAxisIndex: 0,\n            filterMode: 'none',\n            left: 45,\n            handleSize: \"400%\",\n            width: 4,\n            handleIcon: myicon,\n            handleStyle: {\n                color: \"#46C7DC\",\n            },\n            backgroundColor: \"#F0F2F5\",\n            fillerColor: \"#46C7DC\",\n            borderColor: \"transparent\",\n            textStyle: {\n                color: \"transparent\"\n            },\n            dataBackground: {\n                areaStyle: {\n                    opacity: 0\n                },\n                lineStyle: {\n                    opacity: 0\n                }\n            },\n        },\n    ],\n    tooltip: {\n        position: 'top',\n        padding: [13, 16],\n        formatter(params) {\n            const marker = '<span style=\"width: 15px;height: 2px;background: #648EED;border-radius: 4px;display:inline-block;margin-bottom:3px;margin-right:7px;\"></span>';\n            return '2020-09-15 20:00:00' + '<br>' + marker + '雨量：' + params.value\n        },\n        textStyle: {\n            align: 'center',\n        }\n        // formatter:'{a}/{b}/{c}',\n    },\n    xAxis: [{\n        // name: start,\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        axisLine: {\n            lineStyle: {\n                color: '#3C4353',\n            }\n        },\n        axisLabel: {\n            show: false,\n            formatter: function(value, index) {\n                if (value == start || value == end) {\n                    console.log(value, index)\n                    return value\n                } else {\n                    return ''\n                }\n            }\n        }\n    }],\n    yAxis: [{\n        name: '雨量mm',\n        nameTextStyle: {\n            color: \"#3C4353\",\n            fontSize: 12,\n        },\n        type: 'value',\n        // interval: 2.5,\n        minInterval: 2.5,\n        splitNumber:10,\n        axisTick: {\n            \"show\": false\n        },\n        splitLine: {\n            \"show\": true,\n            lineStyle: {\n                color: \"rgba(221, 226, 238, 0.5)\",\n            },\n\n        },\n        axisLabel: {\n            show: true,\n            textStyle: {\n                color: '#838A9D',\n                fontSize: 12,\n            }\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#DDE2EE',\n            }\n        },\n\n    }],\n    series: [{\n        name: '雨量',\n        data: [9, 7.2, 11, 15, 22, 3.3, 0.2],\n        type: 'bar',\n        barWidth: 18,\n        showBackground: false,\n        itemStyle: {\n            normal: {\n                color: '#648EED',\n            },\n        },\n    }],\n\n};\n\nmyChart.setOption(option);\nlet option2 = myChart.getModel().option;\nstartValue = option2.dataZoom[0].startValue;\nendValue = option2.dataZoom[0].endValue;\nstart = option2.xAxis[0].data[startValue]; //起始X轴\nend = option2.xAxis[0].data[endValue]; //结束X轴\nconsole.log(\"开始值=\" + start);\nconsole.log(\"结束值=\" + end);\n\n\nmyChart.on('dataZoom', function(params) {\n    let option3 = myChart.getModel().option;\n    startValue = option3.dataZoom[0].startValue;\n    endValue = option3.dataZoom[0].endValue;\n    start = option3.xAxis[0].data[startValue]; //起始X轴\n    end = option3.xAxis[0].data[endValue]; //结束X轴\n    console.log(\"开始值=\" + start);\n    console.log(\"结束值=\" + end);\n    option.graphic[0].style.text = start\n    option.graphic[1].style.text = end\n    myChart.setOption(option)\n})","html":"","externalScripts":"","updaterUID":"obd-oj4MK60C5RrD2WtybFl7tZUKIoHtuDy","theme":"","layout":"","viewCount":169,"userName":"w***泡","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhZthcHFza.png?v=1602653258819","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"w***泡"}}