{"status":0,"data":{"cid":"xHtTiAsSx","authorUid":"bd-2133619855","authorUserName":"小***乖","title":" \n计划数量\n实际产出\n达成率\n生产效率","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-03-06T07:10:49.000Z","lastUpdateTime":"2020-03-06T07:10:49.000Z","auth":2,"uid":"bd-2133619855","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2020-03-06T07:23:26.000Z","code":"var data = {\n   title: ['总计', '12-01', '12-02', '12-03', '12-04', '12-05', '12-06', '12-07', '12-08', '12-09'],\n   plan_production: [500, 300, 490, 333, 346, 777, 888, 864, 789, 765],\n   actual_production: [300, 400, 500, 300, 400, 500, 300, 400, 500, 500],\n   attainment_rate: [60, 80, 90, 60, 70, 80, 90, 60, 70, 90],\n   productivity: [30, 45, 88, 100, 110, 70, 80, 90, 100, 100]\n};\n\nfor (var pr in data) {\n   data[pr] = data[pr].slice(1, -1);\n}\n\nfunction getTableLine(num) {\n   var list = [];\n   var bottom = 122;\n   var height = 20;\n   for (var i = 0; i < num; i++) {\n       list.push({\n           type: 'line',\n           bottom: bottom - i * height,\n           right: 80,\n           style: {\n               fill: '#333'\n           },\n           shape: {\n               x1: 0,\n               y1: 0,\n               x2: 3200,\n               y2: 0\n           }\n\n       });\n   }\n   return list;\n}\nvar lineList = getTableLine(5);\n\n\noption = {\n   title: [{\n       text: ' \\n计划数量\\n实际产出\\n达成率\\n生产效率',\n       bottom: 72,\n       left: 10,\n       textStyle: {\n           lineHeight: 20,\n           fontSize: 13,\n           fontWeight: 'normal',\n           formatter: function(value) {\n               return '{table|' + value + '}';\n           },\n           rich: {\n               table: {\n                   align: 'center'\n               }\n           }\n       }\n   }],\n   tooltip: {\n       trigger: 'axis',\n       axisPointer: {\n           type: 'cross',\n           label: {\n               backgroundColor: '#283b56'\n           }\n       }\n   },\n   legend: {\n       data: ['计划数量', '实际产出', '达成率', '生产效率']\n   },\n   grid: {\n       bottom: 150,\n       left: 80,\n       right: 80\n   },\n   toolbox: {\n       show: true,\n       feature: {\n           saveAsImage: {}\n       }\n   },\n   dataZoom: {\n       show: true,\n       start: 0,\n       end: 50,\n       maxSpan: 80\n       // zoomLock: true\n   },\n   xAxis: [{\n       type: 'category',\n       boundaryGap: true,\n       data: data.title,\n       axisTick: {\n           length: 108\n       },\n       axisLabel: {\n           formatter: function(value, index) {\n               var indexNum = 0;\n              for(var i = 0; i < data.title.length; i++){\n                  if(value == data.title[i]){\n                      indexNum = i;\n                  }\n              }\n              return '{table|' + value +\n                  '}\\n{table|' + data.plan_production[indexNum] +\n                  '}\\n{table|' + data.actual_production[indexNum] +\n                  '}\\n{table|' + data.attainment_rate[indexNum] +\n                  '%}\\n{table|' + data.productivity[indexNum] + '%}';\n           },\n           rich: {\n               table: {\n                   lineHeight: 20,\n                   align: 'center'\n               }\n           }\n       }\n   }],\n   yAxis: [{\n       type: 'value',\n       scale: true,\n       minInterval: 1,\n       name: '数量',\n       splitLine: {\n           show: false\n       },\n       min: function(v) {\n           return Math.max((v.min - 10), 0);\n       }\n   }, {\n       type: 'value',\n       scale: true,\n       name: '百分比',\n       splitLine: {\n           show: false\n       },\n       axisLabel: {\n           formatter: '{value} %'\n       }\n   }],\n   series: [{\n       name: '计划数量',\n       type: 'bar',\n       label: {\n           show: true,\n           position: 'top'\n       },\n       yAxisIndex: 0,\n       data: data.plan_production\n   }, {\n       name: '实际产出',\n       type: 'bar',\n       label: {\n           show: true,\n           position: 'top'\n       },\n       yAxisIndex: 0,\n       data: data.actual_production\n   }, {\n       name: '达成率',\n       type: 'line',\n       label: {\n           show: true,\n           position: 'top',\n           formatter: '{c} %'\n       },\n       yAxisIndex: 1,\n       data: data.attainment_rate\n   }, {\n       name: '生产效率',\n       type: 'line',\n       label: {\n           show: true,\n           position: 'top',\n           formatter: '{c} %'\n       },\n       yAxisIndex: 1,\n       data: data.productivity\n   }],\n   graphic: lineList\n};","html":"","externalScripts":"","updaterUID":"bd-2133619855","theme":"","layout":"","viewCount":1081,"userName":"小***乖","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHtTiAsSx.png?v=1583479406470","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","graphic","grid","legend","series-bar","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"小***乖"}}