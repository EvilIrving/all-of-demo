{"status":0,"data":{"cid":"x_pgr37J1F","authorUid":"bd-2652911079","authorUserName":"囧***哥","title":"供应商占比图-极坐标占比图","description":"","latestVersion":13,"alwaysLatest":0,"createTime":"2021-07-27T08:13:08.000Z","lastUpdateTime":"2021-07-29T04:57:18.000Z","auth":2,"uid":"bd-2652911079","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":13,"parentVersion":12,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-29T04:57:18.000Z","code":"data = [\n  {\n    name: '单位供应商',\n    value: 59,\n  },\n  {\n    name: '个人供应商',\n    value: 45,\n  },\n];\ncolor = ['#2E6CF6', '#FE9A0D'];\nseries = [];\nfor (let i = 0; i < data.length; i++) {\n  console.log(data[i]);\n  var dd = [];\n  // dd[i] = data[i].value;\n  if (i === 0) {\n    dd[data.length - 1] = data[i].value;\n  } else {\n    dd[0] = data[i].value;\n  }\n  series.push({\n    stack: 'ring',\n    type: 'bar',\n    name: data[i].name,\n    data: dd.map((v) => v || 0),\n    showBackground: true,\n    itemStyle: {\n      color: color[i],\n    },\n    backgroundStyle: { color: '#F1F5FF' },\n    coordinateSystem: 'polar',\n    roundCap: true,\n    barWidth: '55%',\n    barGap: '-100%', // 两环重叠\n    // radius: ['44%', '47%'],\n  });\n}\n\noption = {\n  title: {\n    text: '26,798',\n    subtext: '供应商总数',\n    textAlign: 'center',\n    textVerticalAlign: 'center',\n    top: '50%',\n    left: '25%',\n    textStyle: {\n      color: '#1B2231',\n      fontSize: 24,\n    },\n    subtextStyle: {\n      color: '#828282',\n      fontSize: 20,\n    },\n  },\n  angleAxis: {\n    max: 100, // 一圈是多少\n    clockwise: false, // 逆时针\n    show: false, // 隐藏刻度线\n    startAngle: 90, // startAngle表示起始角度\n    axisLine: {\n      show: false, // 隐藏角度轴（圆心角）\n    },\n    axisTick: {\n      show: false,\n    },\n    axisLabel: {\n      show: false,\n    },\n    splitLine: {\n      show: false, // 隐藏分割线\n    },\n  },\n\n  radiusAxis: {\n    type: 'category',\n    axisLine: {\n      show: false,\n    },\n    axisTick: {\n      show: false,\n    },\n    axisLabel: {\n      show: false,\n    },\n    splitLine: {\n      show: false,\n    },\n    z: 5,\n  },\n  polar: {\n    center: ['25%', '50%'],\n    radius: ['25%', '50%'], // 总体的最小半径、最大半径\n  },\n  tooltip: {\n    show: true,\n    formatter: function (e) {\n      console.log(e);\n      return `${e.seriesName}<br/>${e.marker} ${e.value} `;\n    },\n  },\n  legend: {\n    orient: 'vertical',\n    data: data.map((v) => v.name),\n    right: '0',\n    top: '40%',\n    itemGap: 30,\n    itemWidth: 8,\n    itemHeight: 24,\n    formatter: function (name) {\n      var total = 0;\n      var target;\n      for (var i = 0, l = data.length; i < l; i++) {\n        total += data[i].value;\n        if (data[i].name == name) {\n          target = data[i].value;\n        }\n      }\n      var arr = ['{a|' + name + '}', '{b|' + target + ' ' + ((target / total) * 100).toFixed(2) + '%} {c|占比}'];\n      return arr.join('\\n');\n    },\n    textStyle: {\n      rich: {\n        a: {\n          fontSize: 26,\n          verticalAlign: 'top',\n          align: 'left',\n          padding: [80, 0, 0, 0],\n          color: '#828282',\n        },\n        b: {\n          fontSize: 36,\n          align: 'bottom',\n          padding: [0, 0, 0, 0],\n          lineHeight: 75,\n          color: '#1B2231',\n        },\n        c: {\n          fontSize: 20,\n          align: 'bottom',\n          padding: [0, 0, 0, 0],\n          lineHeight: 75,\n          color: '#828282',\n        },\n      },\n    },\n  },\n  series,\n};\n","html":"","externalScripts":"","updaterUID":"bd-2652911079","theme":"","layout":"","viewCount":0,"userName":"囧***哥","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_pgr37J1F.png?v=1627373589130","isCustomThumbnail":1,"builtinTags":["category-work","legend","polar","series-bar"],"customTags":[],"updaterUserName":"囧***哥"}}