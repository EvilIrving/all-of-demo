{"status":0,"data":{"cid":"xCgQStsE6y","authorUid":"obd-o2EqmK6J6zxYGlV5tSLHw7nV-fQiO6u","authorUserName":"f***3","title":"陕西热力图","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2021-09-26T03:31:56.000Z","lastUpdateTime":"2021-09-26T05:57:04.000Z","auth":2,"uid":"obd-o2EqmK6J6zxYGlV5tSLHw7nV-fQiO6u","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-26T05:57:04.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1632631745678-v-jTu4Rh1.json';\nvar outname = ['西安', '宝鸡', '铜川', '咸阳', '渭南', '延安', '汉中', '榆林', '安康', '商洛'];\n//请勿修改outname\nvar outvalue = [60, 49, 20, 11, 8, 6, 6, 5, 4, 0]; //编辑outvalue，注意与outname顺序对应\nvar outdata = [];\nfor (var i = 0; i < outname.length; i++) {\n    outdata.push({\n        name: outname[i],\n        value: outvalue[i],\n    });\n}\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('shaanxi', geoJson); // 自定义地图\n    var geoCoordMap = {\n        西安: [108.848, 34.0631],\n        宝鸡: [107.1448, 34.3693],\n        铜川: [109.0196, 35.1165],\n        咸阳: [108.4051, 34.7334],\n        渭南: [109.8028, 34.7993],\n        延安: [109.4908, 36.3965],\n        汉中: [107.0286, 33.0776],\n        榆林: [109.7411, 38.2901],\n        安康: [109.0292, 32.6903],\n        商洛: [109.9397, 33.6683],\n    };\n\n    let handleData = function (data) {\n        let list = [];\n        for (let i = 0; i < outname.length; i++) {\n            let geoCoord = geoCoordMap[outname[i]];\n            if (geoCoord) {\n                list.push({\n                    name: outname[i],\n                    value: geoCoord.concat(outvalue[i]),\n                });\n            }\n        }\n        return list;\n    };\n\n    let option = {\n        baseOption: {\n            timeline: {\n                show: false,\n            },\n            tooltip: {\n                trigger: 'item',\n                formatter: function (params) {\n                    if (!params.value) {\n                        return `${params.name}无数据`;\n                    } else {\n                        return `${params.name} ${params.value}`;\n                    }\n                },\n            },\n        },\n        options: [\n            {\n                visualMap: {\n                    min: 0, //修改显示数值范围\n                    max: 60, //修改显示数值范围\n                    itemWidth: 15,\n                    itemHeight: 90,\n                    left: '250',\n                    bottom: '50',\n                    text: ['高', '低'],\n                    textStyle: {\n                        color: '#666666',\n                        fontSize: 13,\n                    },\n                    inRange: {//可根据报告需要自定义色系\n                        // color: ['#F0F8FF', '#2F9BFF'],\n                        color: ['#F0F8FF', '#006edd'],\n                        // color: ['#fefef9', '#f5e9a3', '#f0c291', '#c6202f']\n                    },\n                    outOfRange: {\n                        show: false,\n                    },\n                },\n                geo: {\n                    show: true,\n                    map: 'shaanxi',\n                    roam: false,\n                    label: {\n                        emphasis: {\n                            show: false,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            show: false,\n                        },\n                    },\n                },\n                series: [\n                    {\n                        name: 'light',\n                        type: 'scatter',\n                        // type: 'map',\n                        // map: 'shaanxi',\n                        coordinateSystem: 'geo',\n                        data: handleData(data),\n                        symbolSize: 1,\n                        label: {\n                            normal: {\n                                formatter: '{b}',\n                                fontSize: 20,\n                                show: true,\n                            },\n                            emphasis: {\n                                show: false,\n                            },\n                        },\n                        itemStyle: {\n                            normal: {\n                                areaColor: '#F0F8FF',\n                                borderColor: '#bbbbbb',\n                                borderWidth: 1,\n                                label: {\n                                    show: true,\n                                    textStyle: {\n                                        color: '#000',\n                                        fontSize: 12,\n                                    },\n                                },\n                            },\n                            emphasis: {\n                                areaColor: '#FFAE00',\n                            },\n                        },\n                    },\n                    {\n                        // center: 'center',\n                        data: outdata,\n                        // mapType: 'shaanxi',\n                        map: 'shaanxi',\n                        roam: false,\n                        type: 'map',\n                        itemStyle: {\n                            normal: {\n                                label: {\n                                    show: false,\n                                },\n                            },\n                            emphasis: {\n                                show: false,\n                                label: {\n                                    show: false,\n                                    textStyle: {\n                                        color: 'transparent',\n                                    },\n                                },\n                            },\n                        },\n                    },\n                ],\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"obd-o2EqmK6J6zxYGlV5tSLHw7nV-fQiO6u","theme":"","layout":"","viewCount":0,"userName":"f***3","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCgQStsE6y.png?v=1632635824986","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","timeline","visualMap"],"customTags":["陕西"],"updaterUserName":"f***3"}}