{"status":0,"data":{"cid":"xMD9XbEbHZ","authorUid":"bd-899322333","authorUserName":"139*****254","title":"出租房集中占比TOP5派出所","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-08T03:22:07.000Z","lastUpdateTime":"2021-11-08T03:22:07.000Z","auth":2,"uid":"bd-899322333","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-08T03:22:07.000Z","code":"let echartData = [\r\n    {\r\n        value: 8777,\r\n        name: '陆家派出所'\r\n    },\r\n     {\r\n        value: 6547,\r\n        name: '花桥派出所'\r\n    },\r\n     {\r\n        value: 2347,\r\n        name: '张浦派出所'\r\n    },\r\n     {\r\n        value: 2187,\r\n        name: '锦溪派出所'\r\n    },\r\n     {\r\n        value: 1357,\r\n        name: '巴城派出所'\r\n    }]\r\n    let attackSourcesColor = [\r\n        new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n        { offset: 0, color: \"#ff9250\" },\r\n        { offset: 1, color: \"#ff5252\" }\r\n        ]),\r\n        new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n        { offset: 0, color: \"#ffbf25\" },\r\n        { offset: 1, color: \"#ff802a\" }\r\n        ]),\r\n        new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n        { offset: 0, color: \"#f4e973\" },\r\n        { offset: 1, color: \"#ffb949\" }\r\n        ]),\r\n        new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n        { offset: 0, color: \"#649dfb\" },\r\n        { offset: 1, color: \"#649dfb\" }\r\n        ])\r\n    ]\r\n    \r\n    let max = parseInt(echartData[0].value)\r\n    for (let i = 0; i < echartData.length - 1; i++) {\r\n        max = max < parseInt(echartData[i+1].value) ? parseInt(echartData[i+1].value) : max\r\n    }\r\n    // if(max!==0){\r\n    //     let maxArr = (new Array(echartData.length)).fill(max*1.5)\r\n    //     option.series[1].data = maxArr\r\n    // } else {\r\n    //     option.series[1].data = [1,1,1,1,1]\r\n    // }\r\noption = {\r\n            tooltip: {\r\n                // show: false,\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // },\r\n                formatter(params){\r\n                    for(var i = 0; i < params.length; i++){\r\n                        return params[i].name +\":\"+params[i].data.value;\r\n                    }\r\n                }\r\n            },\r\n            legend: {\r\n                show: false\r\n            },\r\n            grid: {\r\n                top: '1%',\r\n                bottom: 0,\r\n                left: '0%',\r\n                right: '0%',\r\n                containLabel:true\r\n            },\r\n            xAxis: {\r\n                show: false,\r\n                type: 'value'\r\n            },\r\n            yAxis: [\r\n                {\r\n                type: 'category',\r\n                inverse: true,\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                data: echartData.map(item => item.name),\r\n                axisLabel: {\r\n                    // show: false,\r\n                    margin: 0,\r\n                    fontSize: 15,\r\n                    align: 'left',\r\n                    color: '#000000',\r\n                    padding: [0,0,60,-30],\r\n                    interval: 0,\r\n                    rich: {\r\n                        a1: {\r\n                            color: '#fff',\r\n                            backgroundColor: '#ff5454',\r\n                            borderColor: '#fd2829',\r\n                            borderWidth: 2,\r\n                            width: 24,\r\n                            height: 24,\r\n                            align: 'center',\r\n                            borderRadius: 24,\r\n                            fontSize: 15,\r\n                        },\r\n                        a2: {\r\n                            color: '#fff',\r\n                            backgroundColor: '#ff7e00',\r\n                            borderColor: '#f27200',\r\n                            borderWidth: 2,\r\n                            width: 24,\r\n                            height: 24,\r\n                            align: 'center',\r\n                            borderRadius: 24,\r\n                            fontSize: 15,\r\n                        },\r\n                        a3: {\r\n                            color: '#fff',\r\n                            backgroundColor: '#ffbd54',\r\n                            borderColor: '#ff9f06',\r\n                            borderWidth: 2,\r\n                            width: 24,\r\n                            height: 24,\r\n                            align: 'center',\r\n                            borderRadius: 24,\r\n                            fontSize: 15,\r\n                        },\r\n                        b: {\r\n                            color: '#fff',\r\n                            backgroundColor: '#57aaff',\r\n                            borderColor: '#3096ff',\r\n                            borderWidth: 2,\r\n                            width: 24,\r\n                            height: 24,\r\n                            align: 'center',\r\n                            borderRadius: 24,\r\n                            fontSize: 15,\r\n                        }\r\n                    },\r\n                    formatter: function(params) {\r\n                        var index = echartData.map(item => item.name).indexOf(params);\r\n                        index = index + 1;\r\n                        if (index - 1 < 3) {\r\n                            return [\r\n                                '{a' + index + '|' + index + '}' + '  ' + params\r\n                            ].join('\\n')\r\n                        } else {\r\n                            return [\r\n                                '{b|' + index + '}' + '  ' + params\r\n                            ].join('\\n')\r\n                        }\r\n                    }\r\n                }\r\n            }, \r\n            {\r\n                triggerEvent: true,\r\n                show: true,\r\n                inverse: true,\r\n                data: echartData.map(item => item.value),\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                splitLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    // shadowOffsetX: '-60px',\r\n                    color: 'rgba(29, 145, 245, 1)',\r\n                    align: 'right',\r\n                    verticalAlign: 'bottom',\r\n                    lineHeight: 30,\r\n                    fontSize: 15,\r\n                    padding: [0,30,10,0],\r\n                    formatter:'{value}'\r\n                }\r\n            }],\r\n            series: [{\r\n                    z: 2,\r\n                    name: 'value',\r\n                    type: 'bar',\r\n                    barWidth: 15,\r\n                    zlevel: 1,\r\n                    data: echartData.map((item, i) => {\r\n                        let itemStyle = {\r\n                            color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i]\r\n                        }\r\n                        return {\r\n                            value: item.value,\r\n                            itemStyle: itemStyle\r\n                        };\r\n                    }),\r\n                    label: {\r\n                        show: false,\r\n                        position: 'right',\r\n                    }\r\n                },\r\n                {\r\n                    name: '背景',\r\n                    type: 'bar',\r\n                    barWidth: 15,\r\n                    barGap: '-100%',\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(213,220,237,0.9)'\r\n                        }\r\n                    },\r\n                    data: (new Array(echartData.length)).fill(max*2),\r\n                }\r\n            ]\r\n        }","html":"","externalScripts":"","updaterUID":"bd-899322333","theme":"","layout":"","viewCount":0,"userName":"139*****254","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xMD9XbEbHZ.png?v=1636341727497","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"139*****254"}}