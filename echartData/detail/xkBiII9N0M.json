{"status":0,"data":{"cid":"xkBiII9N0M","authorUid":"bd-2237397521","authorUserName":"天***一","title":"bar加背景色","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2020-03-24T04:19:20.000Z","lastUpdateTime":"2020-03-24T04:19:20.000Z","auth":2,"uid":"bd-2237397521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-24T06:58:43.000Z","code":"function renderItem(params, api) {\n    var yValue = api.value(1);\n    var start = api.coord([api.value(0), yValue]);\n    var size = api.size([api.value(1) - api.value(0), yValue]);\n    var style = api.style();\n    console.log(params.coordSys)\n    if(params.dataIndex > 0)return null;\n    if(!yValue)return null;\n    return {\n        type: 'rect',\n        shape: {\n            x: start[0] - params.coordSys.width/7/2 + 1,\n            y: 45,\n            width: params.coordSys.width/7 * 2,\n            height: params.coordSys.height\n        },\n        style: style\n    };\n}\n\n\noption = {\n   tooltip: {\n       trigger: 'axis',\n       axisPointer: {            // 坐标轴指示器，坐标轴触发有效\n           type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n       }\n   },\n   legend: {\n       data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎', '百度', '谷歌', '必应', '其他']\n   },\n   grid: {\n       left: '0px',\n       right: '4%',\n       bottom: '3%',\n       top: '44px',\n       containLabel: true\n   },\n   xAxis: [\n       {\n           type: 'category',\n           data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\n           nameTextStyle:{\n               width: 200\n           },\n           width: 200,\n       }\n   ],\n   yAxis: [\n       {\n           type: 'value',\n           max:3500,\n       }\n   ],\n   series: [\n       {\n           name: '搜索引擎',\n           type: 'bar',\n           stack: '搜索引擎',\n           data: [862, 1018, 964, 1026, 1679, 1600, 1570],\n              markPoint:{\n               symbol:'emptyDiamond',\n               symbolSize:20,\n               itemStyle:{\n                   color:\"#e97332\"\n               },\n               data:[{xAxis:0,y:60,event:'「事件备注」',msg:\"因为。。。。导致。。。\"},\n               {xAxis:4,y:60,event:'「事件备注」',msg:\"因为gcfcgcgcgcgcgc。。。。导致2。。。\"}],\n               emphasis:{\n                   label:{\n                       position: 'right',\n                       color:'#fff',\n                       align:\"left\",\n                       borderColor :\"rgb(51, 51, 51)\",\n                       backgroundColor :\"rgba(50, 50, 50, 0.7)\",\n                       fontSize:14,\n                       borderRadius:4,\n                       padding:10,\n                       width:220,\n                       lineHeight:20,\n                       zlevel:1,\n                       formatter:function(params){\n                           return  params.data.event +'\\n' +params.data.msg.replace(/(.{22})/g,function(i){\n                               return i + '\\n';\n                               \n                           })\n                       }\n                   }\n               }\n           },\n           markArea: {\n               label:{\n                   color:\"#000\",\n                   offset:[0,-10]\n               },\n               itemStyle:{\n                   color:\"#a8d5fe\"\n               },\n               data: [ [{\n                   name: '中秋',\n                  //xAxis: '周一',\n                  x:0\n               }, {\n                   x:20\n                  // xAxis: '周二',\n               }], [{\n                   name: '春节',\n                   xAxis: '周六'\n               },{\n                   xAxis: '周日'\n               }] ]\n           }\n       },\n       {\n           name: '百度',\n           type: 'bar',\n           //barWidth: 5,\n           stack: '搜索引擎',\n           zlevel:1,\n           data: [620, 732, 701, 734, 1090, 1130, 1120]\n       },\n       {\n           name: '谷歌',\n           type: 'bar',\n           stack: '搜索引擎',\n           zlevel:1,\n           data: [120, 132, 101, 134, 290, 230, 220]\n       },\n       {\n           name: '必应',\n           type: 'bar',\n           //barCategoryGap:\"10%\",\n           //barWidth:'50%',\n           stack: '搜索引擎',\n           zlevel:1,\n           data: [500, 0, 500, 500, 0, 0, 0]\n       },\n       {\n        type: 'custom',\n        name: \"\",\n        renderItem: renderItem,\n        label: {\n            show: true,\n            position: 'top',\n            formatter: ()=>{\n                return '春节'\n            }\n        },\n        tooltip: {\n            formatter: ()=>{\n                return '春节'\n            }\n        },\n        data: [1, 2, 0,0, 0, 0, 0]\n    }\n   ]\n};\n\nconsole.log(myChart)","html":"","externalScripts":"","updaterUID":"bd-2237397521","theme":"","layout":"","viewCount":269,"userName":"天***一","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkBiII9N0M.png?v=1585033123767","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markArea","markPoint","series-bar","series-custom","tooltip"],"customTags":[],"updaterUserName":"天***一"}}