{"status":0,"data":{"cid":"xO4OB4aa9U","authorUid":"obd-oEg71EYjs2LRwE-KZ35YRQGeqHCzU4M","authorUserName":"时***6","title":"雷达","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-07-14T03:01:07.000Z","lastUpdateTime":"2020-07-14T03:01:07.000Z","auth":2,"uid":"obd-oEg71EYjs2LRwE-KZ35YRQGeqHCzU4M","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-14T09:48:39.000Z","code":"var radarStyle = document.createElement(\"style\");\r\nvar str = `\r\n    #radar:after {\r\n\t  content: ' ';\r\n\t  display: block;\r\n\t  background-image: linear-gradient(44deg, rgba(56, 107, 208, 0) 50%, #386bd0 100%);\r\n\t  width: 180px;\r\n\t  height: 180px;\r\n\t  position: absolute;\r\n\t  top: 14%;\r\n\t  left: 14%;\r\n\t  animation: radar-beam 4s infinite;\r\n\t  animation-timing-function: linear;\r\n\t  transform-origin: bottom right;\r\n\t  border-radius: 100% 0 0 0;\r\n\t}\r\n\t@keyframes radar-beam {\r\n\t  0% {\r\n\t    transform: rotate(0deg);\r\n\t  }\r\n\t  100% {\r\n\t    transform: rotate(360deg);\r\n\t  }\r\n\t}\r\n`;\r\nif(radarStyle.styleSheet){         //ie下\r\n    radarStyle.styleSheet.cssText = str;\r\n} else {\r\n    radarStyle.innerHTML = str;\r\n};\r\ndocument.getElementsByTagName(\"head\")[0].appendChild(radarStyle);\r\n\r\nvar radarDiv = document.createElement('div');\r\nradarDiv.id = 'radar';\r\nradarDiv.style.position = 'relative';\r\nradarDiv.style.width = '500px';\r\nradarDiv.style.height = '500px';\r\nradarDiv.style.margin = '0 auto';\r\nvar body = document.querySelector('body');\r\nbody.appendChild(radarDiv);\r\n\r\nvar mockData = [{\r\n\ttext: '指标一',\r\n\tvalue: 2\r\n}, {\r\n\ttext: '指标二',\r\n\tvalue: 9\r\n}, {\r\n\ttext: '指标三',\r\n\tvalue: 5\r\n}, {\r\n\ttext: '指标四',\r\n\tvalue: 5\r\n}, {\r\n\ttext: '指标五',\r\n\tvalue: 5\r\n}];\r\n\r\nvar container = document.getElementById('radar');\r\nvar radar = echarts.init(container);\r\n\r\ninitRadar(mockData);\r\n\r\nfunction initRadar(mockData){\r\n    var minAngle = 10;\t// 最小角度\r\n    var indicator = [];\r\n    var data = [];\r\n    var idx = 0;\r\n    var randomArr = getRandom(360 / minAngle, mockData.length);\r\n    for(var i=0;i<360 / minAngle;i++){\r\n    \tif(randomArr.indexOf(i) > -1){\r\n    \t\tindicator.push({\r\n    \t\t\ttext: mockData[idx].text\r\n    \t\t});\r\n    \t\tdata.push(mockData[idx].value);\r\n    \t\tidx++;\r\n    \t}else{\r\n    \t\tindicator.push({\r\n    \t\t\ttext: i * 10 + '`'\r\n    \t\t});\r\n    \t\tdata.push('-');\r\n    \t}\r\n    };\r\n    var option = {\r\n    \tbackgroundColor: '#fff',\r\n        radar: [\r\n            {\r\n                indicator: indicator,\r\n                center: ['50%', '50%'],\r\n                radius: 180,\r\n                startAngle: 90,\r\n                splitNumber: 4,\r\n                shape: 'circle',\r\n                name: {\r\n                \tshow: false,\r\n                    // formatter:'【{value}】',\r\n                    // textStyle: {\r\n                    //     color:'rgba(0, 255, 51, 1)'\r\n                    // }\r\n                },\r\n                splitArea: {\r\n                    areaStyle: {\r\n                    \tcolor: 'rgba(255, 255, 255, 0)'\r\n                    }\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: 'rgba(56, 107, 208, 0)',\r\n                    }\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: 'rgba(56, 107, 208, 1)',\r\n                        width:1.5\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        series: [\r\n            {\r\n                name: '雷达图',\r\n                type: 'radar',\r\n                symbol: 'circle',\r\n                symbolSize: 24,\r\n                silent: true,\r\n                animationEasing: 'quarticOut',\r\n                animationEasingUpdate: 'quarticOut',\r\n                animationDuration: 2000,\r\n                animationDurationUpdate: 2000,\r\n                label: {\r\n                \tnormal: {\r\n                \t\tshow: true,\r\n                \t\ttextStyle: {\r\n                \t\t\tcolor: 'rgba(56, 107, 208, 1)'\r\n                \t\t}\r\n                \t}\r\n                },\r\n                itemStyle: {\r\n                \tnormal: {\r\n                \t\topacity: 0\r\n                \t},\r\n                \temphasis: {\r\n                    \tcolor: {\r\n                    \t\ttype: 'radial',\r\n                    \t\tx: 0.5,\r\n                    \t\ty: 0.5,\r\n                    \t\tr: 0.3,\r\n                    \t\tcolorStops: [{\r\n                    \t\t\toffset: 0,\r\n                    \t\t\tcolor: 'rgba(56, 107, 208, 1)'\r\n                    \t\t}, {\r\n                    \t\t\toffset: 1,\r\n                    \t\t\tcolor: 'rgba(255, 255, 255, .1)'\r\n                    \t\t}]\r\n                    \t},\r\n                    \tborderWidth: 0,\r\n                    \topacity: 1\r\n                    }\r\n                },\r\n                data: [\r\n                    {\r\n                        value: data,\r\n                        label: {\r\n                        \tnormal: {\r\n                        \t\ttextStyle: {\r\n                        \t\t\tcolor: 'rgba(56, 107, 208, 1)'\r\n                        \t\t}\r\n                        \t}\r\n                        },\r\n                        lineStyle: {\r\n                            normal: {\r\n                                opacity: 0\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    };\r\n\r\n    radar.setOption(option);\r\n\r\n    function getRandom(range, count){\r\n    \tvar randomArr = [];\r\n    \tfor(var i = 0;i < count;i++){\r\n    \t\tvar r = Math.round(Math.random() * (range - 1));\r\n    \t\trandomArr.push(r);\r\n    \t}\r\n    \treturn randomArr;\r\n    }\r\n}\r\n\r\n// 点动画\r\n(function(){\r\n\tvar highlight = false;\r\n\tvar type;\r\n\tsetInterval(function(){\r\n\t    initRadar(mockData);\r\n\t\ttype = highlight ? 'downplay' : 'highlight';\r\n\t\tradar.dispatchAction({\r\n\t\t\ttype: type,\r\n\t\t\tseriesIndex: 0\r\n\t\t});\r\n\t\thighlight = !highlight;\r\n\t}, 2000);\r\n})();","html":"","externalScripts":"","updaterUID":"obd-oEg71EYjs2LRwE-KZ35YRQGeqHCzU4M","theme":"","layout":"","viewCount":36,"userName":"时***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xO4OB4aa9U.undefined?v=","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"时***6"}}