{"status":0,"data":{"cid":"x7x6Gte0P","authorUid":"bd-3553659272","authorUserName":"你***来","title":"漏斗图加转换率","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-18T11:07:52.000Z","lastUpdateTime":"2020-02-18T11:07:52.000Z","auth":2,"uid":"bd-3553659272","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-18T11:07:52.000Z","code":"var nodes = [{ \n        x: '300',\n        y: '-9',\n        name: '点1',\n    },\n    {\n        x: '350',\n        y: '-9',\n        name: '点2',\n    },\n    {\n        x: '350',\n        y: '-22',\n        name: '点3',\n    },\n    {\n        x: '300',\n        y: '-22',\n        name: '点4',\n    },\n   \n]\nvar links = [{\n        source: '点1',\n        target: '点2',\n        name: '注册人数'\n    },\n    {\n        source: '点2',\n        target: '点3',\n        name: '转换率(25.61%)'\n    },\n    {\n        source: '点3',\n        target: '点4',\n        name: '支付人数'\n    },\n    \n]\nvar charts = {\n    nodes: [],\n    links: [],\n    linesData: []\n}\nvar dataMap = new Map()\nfor (var j = 0; j < nodes.length; j++) {\n    var x = parseInt(nodes[j].x)\n    var y = parseInt(nodes[j].y)\n    var node = {\n        name: nodes[j].name,\n        value: [x, y],\n        symbolSize: 0,\n        alarm: nodes[j].alarm,\n        itemStyle: {\n            normal: {\n                color: '#12b5d0',\n            }\n        }\n    }\n    dataMap.set(nodes[j].name, [x, y])\n    charts.nodes.push(node)\n}\nfor (var i = 0; i < links.length; i++) {\n    var link = {\n        source: links[i].source,\n        target: links[i].target,\n        label: {\n            normal: {\n                show: true,\n                formatter: links[i].name\n            }\n        },\n        lineStyle: {\n            normal: {\n                color: '#53b8e2'\n            }\n        }\n    }\n    charts.links.push(link)\n    \n}\n\n\noption = {\n    \n    // backgroundColor: \"#1b2735\",\n    xAxis: {\n        show: false,\n        type: 'value'\n    },\n    yAxis: {\n        show: false,\n        type: 'value'\n    },\n    \"legend\": {\n        \"top\": \"bottom\",\n        \"left\": \"center\",\n        \"textStyle\": {\n            \"color\": \"#000\"\n        },\n        \"itemHeight\": 10,\n        \"data\":  ['访问人数','注册人数','下单人数','支付人数']\n    },\n    \"grid\": {\n        \"top\": 24,\n        \"left\": \"2%\",\n        \"right\": 20,\n        \"bottom\": 30,\n        \"containLabel\": true,\n        \"borderWidth\": 0.5\n    },\n    series: [\n        {\n        type: 'graph',\n        layout: 'none',\n        coordinateSystem: 'cartesian2d',\n        symbolSize: 0,\n        label: {\n            normal: {\n                show: true,\n                position: 'bottom',\n                color: '#00FFFF'\n            }\n        },\n        lineStyle: {\n            normal: {\n                width: 1,\n                shadowColor: 'none'\n            }\n        },\n        data: charts.nodes,\n        links: charts.links,\n        \n    },\n    {\n            top:0,\n            \n            name: '',\n            type: 'funnel',\n            left: '10%',\n            width: '80%',\n            gap: 10,\n            minSize: '40%',\n            maxSize: '100%',\n            label: {\n                normal: {\n                    color: '#353535',\n                    position: 'left',\n                    formatter: '{b}\\n{c}',\n                    lineStyle: {\n                        width: 2,\n                        align:'center'\n                    }\n                   \n                }\n            },\n            labelLine: {\n                normal: {\n                    length: 40,\n                    position: 'left',\n                    \n                    lineStyle: {\n                        width: 2\n                        \n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                   \n                }\n            },\n            data: [\n                {value: 952358, name: '访问人数', \n                    itemStyle: {\n                        normal: {\n                            color: '#398bd8'\n                        }\n                    },\n                   labelLine:{\n                       normal: {\n                           lineStyle: {\n                               shadowColor: '#398bd8',\n                               shadowOffsetX: 1\n                           }\n                       }\n                   }\n                },\n                {value: 394841, name: '注册人数',\n                     itemStyle: {\n                        normal: {\n                            color: '#4e99de'\n                        }\n                    },\n                     labelLine:{\n                       normal: {\n                           lineStyle: {\n                               shadowColor: '#4e99de',\n                               shadowOffsetX: 1\n                           }\n                       }\n                   }\n                },\n                {value: 63497, name: '下单人数',\n                     itemStyle: {\n                        normal: {\n                            color: '#4da7db'\n                        }\n                    },\n                     labelLine:{\n                       normal: {\n                           lineStyle: {\n                               shadowColor: '#4da7db',\n                               shadowOffsetX: 1\n                           }\n                       }\n                   }\n                },\n                {value: 52582, name: '支付人数',\n                     itemStyle: {\n                        normal: {\n                            color: '#53b8e2'\n                        }\n                    },\n                     labelLine:{\n                       normal: {\n                           lineStyle: {\n                               shadowColor: '#53b8e2',\n                               shadowOffsetX: 1\n                           }\n                       }\n                   }\n                }\n            ]\n        },\n        {\n            name: '',\n            type: 'funnel',\n            top:0,\n            gap: 10,\n            label: {\n                normal: {\n                    position: 'inside',\n                    formatter: '{b}：({c}%)',\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n              \n            },\n            labelLine: {\n                normal: {\n                  \n            \n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: 'transparent',\n                    borderWidth:0,\n                    opacity: 0\n                }\n            },\n            data: [\n                {value: 100, name: '访问人数'\n            \n                },\n                {value: 48.23, name: '注册人数'},\n                {value: 36.62, name: '下单人数'},\n                {value: 18.15, name: '支付人数'},\n            ]\n        }\n    ]\n};\n","html":"","externalScripts":"","updaterUID":"bd-3553659272","theme":"","layout":"","viewCount":1640,"userName":"你***来","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7x6Gte0P.png?v=1582024073035","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-funnel","series-graph"],"customTags":[],"updaterUserName":"你***来"}}