{"status":0,"data":{"cid":"xps2gmie1","authorUid":"bd-805378917","authorUserName":"y***a","title":"圆角饼图","description":"制作圆角饼图","latestVersion":5,"alwaysLatest":1,"createTime":"2019-12-16T06:53:20.000Z","lastUpdateTime":"2019-12-16T06:53:20.000Z","auth":1,"uid":"bd-805378917","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-16T14:54:16.000Z","code":"var radius = [  // 宽度为14\n    [100, 114],\n    [128, 142]\n] \nvar maxValue = 100\nvar colorReMain = '#E8E8E8'\nvar datalist = [{\n        name: '经理分配',\n        value: 40,\n        color: '#409EFF'\n    },\n    {\n        name: '关联需求',\n        value: 0,\n        color: '#e6a23c'\n    }\n]\n\nfunction getOption(list) {\n    var series = []\n    for (var i = 0; i < list.length; i++) {\n        var item = list[i]\n        var percent = item.value * 100 / maxValue\n        series.push({\n            type: 'pie',\n            radius: radius[i],\n            center: ['50%', '50%'],\n            hoverAnimation: false,\n            clockwise: false,\n            label: {\n                show: false\n            },\n            labelLine: {\n                show: false\n            },\n            data: [{\n                name: 'remainCircle', // 开始的圆角\n                value: 0,\n                itemStyle: {\n                    color: item.color\n                },\n                label: {\n                    show: true,\n                    position: 'inside',\n                    padding: [6, 0, 0, 0],\n                    borderRadius: 30,\n                    rich: {\n                        name: { // 宽度为14\n                            width: 14,\n                            height: 14,\n                            borderRadius: 10,\n                            backgroundColor: item.color\n                        }\n                    },\n                    formatter() {\n                        return `{name|}`\n                    }\n                }\n            }, {\n                name: 'remain',\n                value: (maxValue - item.value),\n                itemStyle: {\n                    borderColor: colorReMain,\n                    borderWidth: 0,\n                    color: colorReMain\n                },\n                label: {\n                    show: false\n                },\n                emphasis: {\n                    itemStyle: {\n                        borderColor: colorReMain,\n                        borderWidth: 0,\n                        color: colorReMain\n                    }\n                }\n            }, {\n                name: 'remainCircle', // 结束的圆角\n                value: 0,\n                curVal: item.value,\n                label: {\n                    show: true,\n                    rotate: true,\n                    position: 'inside',\n                    borderRadius: 30,\n                    rich: {\n                        margin: {\n                            width: 6\n                        },\n                        name: {\n                            width: 14,\n                            height: 14,\n                            borderRadius: 10,\n                            backgroundColor: item.color\n                        }\n                    },\n                    formatter: percent ? (percent < 50 ? '{name|}{margin|}' : '{margin|}{name|}') : ''\n                }\n            }, {\n                name: item.name,\n                value: item.value,\n                itemStyle: {\n                    color: item.color\n                },\n                label: datalist.length < 2 ? {\n                    show: true,\n                    position: 'center',\n                    rich: {\n                        num: {\n                            fontSize: 42,\n                            color: '#000',\n                            padding: [5, 0, 0, 0]\n                        },\n                        name: {\n                            fontSize: 12,\n                            color: '#000'\n                        }\n                    },\n                    formatter(params) {\n                        return `{num|${params.value}}\\n{name|${params.name}}`\n                    }\n                } : {\n                    show: false\n                }\n            }]\n        })\n    }\n    // 中间统计\n    series.push({\n      type: 'pie',\n      radius: [0, radius[0][0]],\n      center: ['50%', '50%'],\n      hoverAnimation: false,\n      clockwise: false,\n      labelLine: { show: false },\n      data: [{ name: 'remain', value: 1, itemStyle: { color: 'transparent' } }],\n      label: {\n        show: true,\n        position: 'center',\n        rich: {\n          num: { fontSize: 42, color: '#000', padding: [5, 0, 0, 0] },\n          name: { fontSize: 12, color: '#000' }\n        },\n        formatter () {\n          return `{num|${maxValue}}\\n{name|中间统计}`\n        }\n      },\n      animation: false\n    })\n    return {\n        title: {\n            text: 'radius pie'\n        },\n        series: series\n    }\n}\nvar indexvalue = 0\nvar speed = 1\nmyChart.setOption(getOption(datalist))\nwindow.setInterval(function() {\n    datalist[1].value = indexvalue +=speed\n    if (indexvalue > 100) speed = -speed\n    else if (indexvalue < 0) speed = -speed\n    myChart.setOption(getOption(datalist), true)\n}, 100)","html":"","externalScripts":"","updaterUID":"bd-805378917","theme":"","layout":"","viewCount":248,"userName":"y***a","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xps2gmie1.png?v=1576508056231","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title"],"customTags":["radius"],"updaterUserName":"y***a"}}