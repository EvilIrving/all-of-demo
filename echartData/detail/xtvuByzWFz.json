{"status":0,"data":{"cid":"xtvuByzWFz","authorUid":"bd-3456958835","authorUserName":"蚜***族","title":"仪表盘空气质量","description":"仪表盘空气质量指数选择","latestVersion":1,"alwaysLatest":1,"createTime":"2019-04-18T05:22:49.000Z","lastUpdateTime":"2019-04-18T05:22:49.000Z","auth":2,"uid":"bd-3456958835","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-04-18T05:22:49.000Z","code":"var titles = ['']\r\nvar configSet = \r\n    {\r\n        config:{\r\n            max: 100,\r\n            min: 0,\r\n            step: 0.1\r\n        },\r\n        data:  [\r\n            {value:10,text:'优',color:'red'},\r\n            {value:30,text:'良',color:'yellow'},\r\n            {value:50,text:'中',color:'orange'},\r\n            {value:70,text:'较差',color:'blue'},\r\n            {value:90,text:'很差',color:'pink'}\r\n        ]\r\n    }\r\n    var colorSet = [];\r\n    var number = configSet.data.length * 2;\r\n    for(var i=0;i<number;i++){\r\n          var colorSetC = [];\r\n        colorSetC.push((i + 1) * configSet.config.step);\r\n         colorSetC.push(configSet.data[parseInt(i/2)].color);\r\n        colorSet.push(colorSetC);\r\n    }\r\n    console.log(colorSet);\r\noption = {\r\n    title:{\r\n        x:'center',\r\n        y:'center',\r\n        text: '',\r\n        textStyle:{\r\n            color: 'white'\r\n        },\r\n         z: 4,\r\n        zlevel: 4,\r\n    },\r\n    series: [\r\n        {\r\n            name: \"\",\r\n            type: \"pie\",\r\n            radius: [\"0\",\"90%\"],\r\n            silent: true,\r\n            z: 0,\r\n            zlevel: 0,\r\n            label: {normal: {show: false, position: \"center\"} },\r\n            data: [\r\n                {value: 1, name: \"\",\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'lightblue'\r\n                        } \r\n                    }    \r\n                }\r\n            ]\r\n        },\r\n        {\r\n            type: 'gauge',\r\n            startAngle : 359.9999,\r\n             radius:'85%',\r\n             z: 1,\r\n            zlevel: 1,\r\n            endAngle: 0,\r\n            splitNumber: 10,\r\n             itemStyle:{\r\n                opacity:1\r\n            },\r\n            max: 100,\r\n            min: 0,\r\n            splitLine: {\r\n                show: false,\r\n                length: 40\r\n            },\r\n            pointer: {\r\n                show: true,\r\n                length:'65%',\r\n                width: 40\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                fontSize: 20,\r\n                fontWeight: 'bold',\r\n                color:'#5A6068',\r\n                distance: -60,\r\n                formatter:function(val){\r\n                    var ll = '';\r\n                    switch (val) {\r\n                        case 10:\r\n                           ll=configSet.data[0].text;\r\n                            break;\r\n                         case 30:\r\n                              ll=configSet.data[1].text;\r\n                            break;\r\n                             case 50:\r\n                                  ll=configSet.data[2].text;\r\n                            break;\r\n                             case 70:\r\n                                  ll=configSet.data[3].text;\r\n                            break;\r\n                             case 90:\r\n                                  ll=configSet.data[4].text;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    return ll;\r\n                }\r\n            },\r\n            axisLine: {\r\n                show:true,\r\n                lineStyle: {\r\n                    width: 35,\r\n                    shadowBlur: 0,\r\n                    color: colorSet\r\n                }\r\n            },\r\n            detail: {\r\n                show: false,\r\n                offsetCenter: [0, '40%'],\r\n                textStyle: {\r\n                    fontSize: 30\r\n                } \r\n            },\r\n            data: [{value: 65}]\r\n        },\r\n        {\r\n            name: \"\",\r\n            type: \"pie\",\r\n            radius: \"45%\",\r\n            silent: true,\r\n            z: 2,\r\n            zlevel: 2,\r\n            label: {normal: {show: false} },\r\n            data: [\r\n                {value: 1, name: \"\",\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'red'\r\n                        } \r\n                    }    \r\n                }\r\n            ]\r\n        },\r\n        {\r\n            name: \"\",\r\n            type: \"pie\",\r\n            radius: [\"0\",\"70%\"],\r\n            silent: true,\r\n            z: 3,\r\n            zlevel: 3,\r\n            label: {normal: {show: false, position: \"center\"} },\r\n            data: [\r\n                {value: 1, name: \"\",\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(255,255,255,0.5)'\r\n                        } \r\n                    }    \r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\n\r\nvar index = 0;\r\nsetInterval(function () {\r\n    index++;\r\n    index = index > 4 ? 0 : index;\r\n     option.title.text = configSet.data[index].text;\r\n    option.series[1].data[0].value = configSet.data[index].value;\r\n      option.series[2].data[0].itemStyle.normal.color = configSet.data[index].color;\r\n    myChart.setOption(option, true);\r\n},2000);\r\n","html":"","externalScripts":"","updaterUID":"bd-3456958835","theme":"","layout":"","viewCount":329,"userName":"蚜***族","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xtvuByzWFz.png?v=1555564969769","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","series-pie","title"],"customTags":[],"updaterUserName":"蚜***族"}}