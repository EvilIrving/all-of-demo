{"status":0,"data":{"cid":"xB9syLw4-d","authorUid":"bd-3928677882","authorUserName":"高***范","title":"平行坐标系完美例子","description":"可以根据不同的分级显示不同颜色类别筛选不生效，这是echarts的bug。可以将类别转成value、做一个映射即可","latestVersion":1,"alwaysLatest":1,"createTime":"2019-01-31T01:58:46.000Z","lastUpdateTime":"2019-01-31T01:58:46.000Z","auth":2,"uid":"bd-3928677882","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-01-31T01:58:46.000Z","code":"let [incomeTypeMap,\r\n    payFrequencyMap,\r\n    livingSituationMap,\r\n    loanOutcomeMap\r\n] = [{\r\n        \"EMP\": \"Employed\",\r\n        \"CTB\": \"CTB - Child Tax Benefit\",\r\n        \"DISINC\": \"Disability\",\r\n        \"EMPINS\": \"Employment Insurance\",\r\n        \"SSB\": \"Social Security\\t\",\r\n        \"RET\": \"Retirement\",\r\n        \"SEMP\": \"Self-Employed\",\r\n        \"WSIB\": \"WSIB - Worker Safety Insurance Board\",\r\n        \"OTHER\": \"Other\"\r\n    },\r\n\r\n\r\n    {\r\n        \"1\": \"Weekly\",\r\n        \"2\": \"Bi-weekly\",\r\n        \"3\": \"Semi-monthly\",\r\n        \"4\": \"Monthly\"\r\n    },\r\n\r\n\r\n    {\r\n        \"RENT\": \"I pay rent or board\",\r\n        \"OWN_OUTRIGHT\": \"I own my home (no mortgage)\",\r\n        \"MORTGAGE\": \"I own my home (with mortgage)\",\r\n        \"FREE_FAMILY\": \"I live for free (with family)\",\r\n        \"FREE_GOVERNMENT\": \"I live for free (public housing)\"\r\n    },\r\n    {\r\n        \"APPROVED\": \"Approved\"\r\n    }\r\n];\r\n\r\nlet schema = [{\r\n        name: 'IncomeType',\r\n        index: 0,\r\n        text: 'Income Type'\r\n    },\r\n    {\r\n        name: 'PayFrequency',\r\n        index: 1,\r\n        text: 'Pay Frequency'\r\n    },\r\n    {\r\n        name: 'LoanAmount',\r\n        index: 2,\r\n        text: 'Loan Amount'\r\n    },\r\n    {\r\n        name: 'PayFrequencyIncome',\r\n        index: 3,\r\n        text: 'Pay Frequency Income'\r\n    },\r\n    {\r\n        name: 'LivingSituation',\r\n        index: 4,\r\n        text: 'Living Situation'\r\n    },\r\n    {\r\n        name: 'Score',\r\n        index: 5,\r\n        text: 'Score'\r\n    },\r\n    {\r\n        name: 'Decision Grade',\r\n        index: 6,\r\n        text: 'Decision Grade'\r\n    },\r\n    {\r\n        name: 'LoanOutcome',\r\n        index: 7,\r\n        text: 'Decision Outcome'\r\n    }\r\n];\r\noption = {\r\n    backgroundColor: '#fff',\r\n\r\n    parallelAxis: [{\r\n            dim: 0,\r\n            name: schema[0].text,\r\n            type: 'category',\r\n            data: [\"EMP\", \"CTB\", \"DISINC\", \"EMPINS\", \"SSB\", \"RET\", \"SEMP\", \"WSIB\", \"OTHER\"],\r\n            axisLabel: {\r\n\r\n                rotate: 35,\r\n                formatter: function(value) {\r\n                    let text = incomeTypeMap[value];\r\n                    return text;\r\n                },\r\n                fontStyle: 'oblique'\r\n            },\r\n\r\n        },\r\n        {\r\n            dim: 1,\r\n            name: schema[1].text,\r\n            min: 1,\r\n            max: 4,\r\n            splitNumber: 4,\r\n            axisLabel: {\r\n                rotate: 35,\r\n                formatter: function(value) {\r\n                    let text = payFrequencyMap[value];\r\n                    return text;\r\n                },\r\n                fontStyle: 'oblique'\r\n            }\r\n        },\r\n        {\r\n            dim: 2,\r\n            name: schema[2].text\r\n        },\r\n        {\r\n            dim: 3,\r\n            name: schema[3].text\r\n        },\r\n        {\r\n            dim: 4,\r\n            name: schema[4].text,\r\n            type: 'category',\r\n            data: [\"RENT\", \"OWN_OUTRIGHT\", \"MORTGAGE\", \"FREE_FAMILY\", \"FREE_GOVERNMENT\"],\r\n            axisLabel: {\r\n                rotate: 35,\r\n                formatter: function(value) {\r\n                    let text = livingSituationMap[value];\r\n                    return text;\r\n                },\r\n                fontStyle: 'oblique'\r\n            }\r\n        },\r\n        {\r\n            dim: 5,\r\n            name: schema[5].text,\r\n            min: 0,\r\n            max: 1\r\n        },\r\n        {\r\n            dim: 6,\r\n            name: schema[6].text,\r\n            type: 'category',\r\n            data: [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\"]\r\n        },\r\n        {\r\n            dim: 7,\r\n            name: schema[7].text,\r\n            type: 'category',\r\n            data: ['APPROVED'],\r\n            axisLabel: {\r\n                rotate: 35,\r\n                formatter: function(value) {\r\n                    let text = loanOutcomeMap[value];\r\n                    return text;\r\n                },\r\n                fontStyle: 'oblique'\r\n            }\r\n        }\r\n    ],\r\n    visualMap: {\r\n        show: false,\r\n        precision: 10,\r\n        pieces: [{\r\n                \"get\": \"0.0000000000\",\r\n                \"lte\": \"0.0010000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0011000000\",\r\n                \"lte\": \"0.0014000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0015000000\",\r\n                \"lte\": \"0.0021000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0022000000\",\r\n                \"lte\": \"0.0030000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0031000000\",\r\n                \"lte\": \"0.0043000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0044000000\",\r\n                \"lte\": \"0.0062000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0063000000\",\r\n                \"lte\": \"0.0089000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0090000000\",\r\n                \"lte\": \"0.0127000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0128000000\",\r\n                \"lte\": \"0.0183000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0184000000\",\r\n                \"lte\": \"0.0264000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0265000000\",\r\n                \"lte\": \"0.0379000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0380000000\",\r\n                \"lte\": \"0.0546000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0547000000\",\r\n                \"lte\": \"0.0785000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.0786000000\",\r\n                \"lte\": \"0.1129000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.1130000000\",\r\n                \"lte\": \"0.1624000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.1625000000\",\r\n                \"lte\": \"0.2336000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.2337000000\",\r\n                \"lte\": \"0.3360000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.3361000000\",\r\n                \"lte\": \"0.4832000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.4832000000\",\r\n                \"lte\": \"0.6950000000\"\r\n            },\r\n            {\r\n                \"get\": \"0.6951000000\",\r\n                \"lte\": \"1.0000000000\"\r\n            }\r\n        ], // 每个范围对应一种颜色，主要配合inRange使用，即此处的A-T\r\n        right: 0,\r\n        text: ['T', 'A'],\r\n        dimension: 5,\r\n        inRange: {\r\n            color: [\r\n                '#ff3333', '#ff5c33', '#ff8533', '#ffad33',\r\n                '#ffd633', '#ffff33', '#d6ff33', '#adff33',\r\n                '#85ff33', '#5cff33', '#33ff33', '#33ff5c',\r\n                '#33ff85', '#33ffad', '#33ffd6', '#33ffff',\r\n                '#33d6ff', '#33adff', '#3385ff', '#335cff'\r\n            ],\r\n        }\r\n    },\r\n    parallel: {\r\n        left: '3%',\r\n        top: '10%',\r\n        right: '10%',\r\n        bottom: 60,\r\n\r\n        parallelAxisDefault: {\r\n            nameLocation: 'start',\r\n            type: 'value',\r\n            nameGap: 20,\r\n            nameTextStyle: {\r\n                color: '#333',\r\n                fontSize: 12\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: '#aaa'\r\n                }\r\n            },\r\n            axisTick: {\r\n                lineStyle: {\r\n                    color: '#777'\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#333'\r\n                }\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: 'Data Attribute Relations',\r\n            type: 'parallel',\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 1,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            data: [\r\n                [\"DISINC\", \"1\", \"500\", \"8000\", \"MORTGAGE\", \"0.09541180412852619\", \"N\", \"APPROVED\"],\r\n                [\"EMP\", \"1\", \"1500\", \"2000\", \"OWN_OUTRIGHT\", \"0.10238662692537857\", \"N\", \"APPROVED\"],\r\n                [\"CTB\", \"2\", \"2400\", \"5800\", \"FREE_GOVERNMENT\", \"0.11093292692819123\", \"N\", \"APPROVED\"],\r\n                [\"WSIB\", \"3\", \"1500\", \"1500\", \"RENT\", \"0.060875191215641423\", \"M\", \"APPROVED\"]\r\n            ]\r\n        },\r\n\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-3928677882","theme":"","layout":"","viewCount":1214,"userName":"高***范","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xB9syLw4-d.png?v=1548899926504","isCustomThumbnail":0,"builtinTags":["category-work","parallel","series-parallel","visualMap"],"customTags":["平行坐标系"],"updaterUserName":"高***范"}}