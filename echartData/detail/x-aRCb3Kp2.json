{"status":0,"data":{"cid":"x-aRCb3Kp2","authorUid":"bd-3560695082","authorUserName":"射***士","title":"半圆饼图","description":"通过自己动态去算另一半的的值然后把另一半隐藏起来,等到这个图","latestVersion":5,"alwaysLatest":1,"createTime":"2020-04-08T10:16:31.000Z","lastUpdateTime":"2020-04-08T10:16:31.000Z","auth":2,"uid":"bd-3560695082","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-28T10:09:09.000Z","code":"let list = [{\r\n        name: '类型1',\r\n        value: 20,\r\n        startColor: 'rgba(242, 160, 48, 1)',\r\n        endColor: 'rgba(242, 160, 48, .2)'\r\n    },\r\n    {\r\n        name: '类型2',\r\n        value: 20,\r\n        startColor: 'rgba(46, 201, 163, 1)',\r\n        endColor: 'rgba(46, 201, 163, .2)'\r\n    },\r\n    {\r\n        name: '类型3',\r\n        value: 20,\r\n        startColor: 'rgba(72, 203, 82, 1)',\r\n        endColor: 'rgba(72, 203, 82, .2)'\r\n    },\r\n    {\r\n        name: '类型4',\r\n        value: 20,\r\n        startColor: 'rgba(43, 159, 254, 1)',\r\n        endColor: 'rgba(43, 159, 254, .2)'\r\n    },\r\n    {\r\n        name: '类型5',\r\n        value: 20,\r\n        startColor: 'rgba(109, 65, 232, 1)',\r\n        endColor: 'rgba(109, 65, 232, .2)'\r\n    }\r\n]\r\nlet listData = [];\r\nlet totalValue = 0;\r\nlet listLength = list.length;\r\n\r\nlist.forEach((item, index) => {\r\n    totalValue = totalValue + item.value;\r\n    listData.push({\r\n        value: item.value,\r\n        name: item.name,\r\n        itemStyle: {\r\n            normal: {\r\n                color: {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 0,\r\n                    y2: 1,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: item.startColor // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: item.endColor // 100% 处的颜色\r\n                    }],\r\n                    global: false // 缺省为 false\r\n                }\r\n            }\r\n        },\r\n\r\n    })\r\n    // totalValue就是算出来隐藏的另一半的值,把它push进数组\r\n\r\n    if (index == listLength - 1) {\r\n        listData.push({\r\n            value: totalValue,\r\n            name: '隐藏的一半',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'rgba(0,0,0,0)' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,0,0,0)' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    }\r\n                }\r\n            },\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\noption = {\r\n    backgroundColor: \"#344b58\",\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b} : {c}'\r\n    },\r\n    legend: {\r\n        data: ['类型1', '类型2', '类型3', '类型4', '类型5'],\r\n        icon: \"rect\",\r\n        itemGap: 24,\r\n        itemWidth: 10,\r\n        itemHeight: 10,\r\n        top:'20%',\r\n        right: '30%',\r\n        orient: \"horizontal\",\r\n        textStyle: {\r\n            color: \"rgba(255,255,255,0.7)\",\r\n            fontSize: 18,\r\n            padding: [0, 0, 0, 3],\r\n            fontFamily: \"SourceHanSansCN-Regular\"\r\n            // lineHeight: 30\r\n        }\r\n    },\r\n    series: [{\r\n        name: '类型分布',\r\n        type: 'pie',\r\n        radius: 300,\r\n        center: ['50%', '100%'],\r\n        startAngle: 180,\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: listData,\r\n\r\n        emphasis: {\r\n            itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n\r\n\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-3560695082","theme":"","layout":"","viewCount":101,"userName":"射***士","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-aRCb3Kp2.png?v=1601287750041","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"射***士"}}