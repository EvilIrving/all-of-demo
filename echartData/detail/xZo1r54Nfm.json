{"status":0,"data":{"cid":"xZo1r54Nfm","authorUid":"obd-oP6AIpqmTdhf1d_mmbFx-zEcp-xsr9l","authorUserName":"范***飞","title":"雷达图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-09-23T06:28:21.000Z","lastUpdateTime":"2021-09-23T09:33:18.000Z","auth":1,"uid":"obd-oP6AIpqmTdhf1d_mmbFx-zEcp-xsr9l","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-23T09:33:18.000Z","code":"data = []; // 雷达图数据\r\nlet maxData = 0; // 最大值\r\nlet indicator = []; //雷达图指示器，用来指定雷达图中的多个变量\r\nlet total = 0;\r\nconst alarmData = [{\r\n                name: \"座椅\",\r\n                value: 35\r\n            }, {\r\n                name: \"垃圾桶\",\r\n                value: 25\r\n            }, {\r\n                name: \"路灯\",\r\n                value: 12\r\n            }, {\r\n                name: \"公交站台\",\r\n                value: 11\r\n            }, {\r\n                name: \"引导牌\",\r\n                value: 10\r\n            }];\r\n// 获取数据和最大值\r\nalarmData.forEach(ele => {\r\n    total += ele.value;\r\n    data.push(ele.value);\r\n    if (ele.value > maxData) {\r\n        maxData = ele.value;\r\n    }\r\n});\r\nlet mult = Math.pow(10, 1); // 需要用0占1位\r\nmaxData = Math.ceil(maxData / mult) * mult; // 向上取整\r\n\r\n// 获取指示器数据\r\nalarmData.forEach(ele => {\r\n    indicator.push({\r\n        name: ele.name,\r\n        max: maxData\r\n    })\r\n});\r\n\r\nlet buildSeries = function (data) {\r\n    let helper = data.map((item, index) => {\r\n        let arr = new Array(data.length);\r\n        arr.splice(index, 1, item);\r\n        return arr;\r\n    });\r\n\r\n    return [data, ...helper].map((item, index) => {\r\n        return {\r\n            type: 'radar',\r\n            // 折线拐点标志样式\r\n            itemStyle: {\r\n                color: '#37D3FF'\r\n            },\r\n            // 线条样式\r\n            lineStyle: {\r\n                color: index === 0 ? '#37D3FF' : 'transparent'\r\n            },\r\n            // 区域填充样式\r\n            areaStyle: {\r\n                color: index === 0 ? '#0FB7E6' : 'transparent',\r\n                opacity: 0.6\r\n            },\r\n            // 提示框内容\r\n            tooltip: {\r\n                backgroundColor: 'rgba(50,50,50,0.7)',\r\n                borderWidth: 0,\r\n                padding: [5, 10],\r\n                textStyle: {\r\n                    color: '#FFFFFF',\r\n                    fontFamily: 'sans-serif'\r\n                },\r\n                confine: true, // 提示框显示在canvas以内\r\n                show: index === 0 ? false : true,\r\n                formatter: function () {\r\n                    return indicator[index - 1].name + \"<br/><span style='display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:#37D3FF'></span>\" + '报警 : ' + data[index - 1]\r\n                }\r\n            },\r\n            z: index === 0 ? 1 : 2,\r\n            data: [item]\r\n        }\r\n    })\r\n}\r\n\r\noption = {\r\n    backgroundColor: '#313131',\r\n    tooltip: {},\r\n    // 标题\r\n    title: {\r\n        text: total,\r\n        subtext: '报警总数',\r\n        top: '33%',\r\n        left: 'center',\r\n        itemGap: 7,\r\n        textStyle: {\r\n            color: '#FEFFFF',\r\n            fontSize: '24',\r\n            fontFamily: 'OPPOSans-M',\r\n            fontWeight: 'normal'\r\n        },\r\n        subtextStyle: {\r\n            color: 'rgba(255, 255, 255, 0.6)',\r\n            fontSize: '12',\r\n            fontFamily: 'SourceHanSansCN-Normal',\r\n            fontWeight: 400,\r\n        }\r\n    },\r\n    radar: {\r\n        center: ['50%', '54%'],\r\n        radius: '90%',\r\n        // 雷达图每个指示器名称的配置项\r\n        name: {\r\n            textStyle: {\r\n                color: 'rgba(255, 255, 255, 0.7)',\r\n                fontSize: '12',\r\n                fontFamily: 'SourceHanSansCN-Regular',\r\n                fontWeight: 400,\r\n                padding: [-10, -12]\r\n            }\r\n        },\r\n        // 分隔区域配置项\r\n        splitArea: {\r\n            show: true,\r\n            areaStyle: {\r\n                color: ['transparent']\r\n            }\r\n        },\r\n        // 分割线\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: 'rgba(255, 255, 255, 0.3)'\r\n            }\r\n        },\r\n        // 坐标轴轴线相关设置\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: 'rgba(255, 255, 255, 0.3)'\r\n            }\r\n        },\r\n        // 指示器\r\n        indicator: indicator\r\n    },\r\n    series: buildSeries(data)\r\n};\r\n","html":"","externalScripts":"","updaterUID":"obd-oP6AIpqmTdhf1d_mmbFx-zEcp-xsr9l","theme":"","layout":"","viewCount":0,"userName":"范***飞","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZo1r54Nfm.png?v=1632389598751","isCustomThumbnail":0,"builtinTags":["category-work","radar","series-radar","title","tooltip"],"customTags":[],"updaterUserName":"范***飞"}}