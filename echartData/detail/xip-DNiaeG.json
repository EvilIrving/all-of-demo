{"status":0,"data":{"cid":"xip-DNiaeG","authorUid":"obd-o2UacJV5hzcd4TNt5uY4Ohka8q6Bc6l","authorUserName":"決***0","title":"河道水质结果过程线分析","description":"不同河段复燃情况","latestVersion":4,"alwaysLatest":1,"createTime":"2020-10-14T12:40:54.000Z","lastUpdateTime":"2020-10-14T12:40:54.000Z","auth":2,"uid":"obd-o2UacJV5hzcd4TNt5uY4Ohka8q6Bc6l","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-15T06:20:38.000Z","code":"const times = ['2016', '2017', '2018'];\nconst colors = [\"#80CA35\", \"#518CD2\", \"#E05D7C\", \"#DB9154\", \"#808080\"]; //污染颜色级别\nconst levels = [10, 20, 30, 40, 50]; //污染值级别\nconst pollutions = [\n    [19, 24, 8, 41, 35, 25, 18],\n    [41, 35, 25, 19, 24, 8, 18],\n    [24, 8, 19, 41, 35, 25, 18]\n]; //污染数据\n\nconst getColorStops = (pollution) => {\n    let step = 1 / (pollution.length - 1);\n    let res = [];\n    Array(pollution.length).fill().reduce((prev, item, i) => {\n        res.push({\n            offset: prev,\n            color: colors[getIndex(pollution[i])]\n        });\n        return step + prev;\n    }, 0);\n    return res;\n};\n\nconst getIndex = (value) => {\n    let index = 0;\n    levels.some((item, i) => {\n        if (value <= item) {\n            index = i;\n            return true;\n        }\n    });\n    return index;\n};\n\noption = {\n    baseOption: {\n        containLabel: true,\n        visualMap: { //颜色图例\n            type: 'continuous',\n            calculable: false,\n            text: ['严重', '轻微'],\n            orient: 'horizontal',\n            min: 0,\n            max: 50,\n            splitNumber: 5,\n            color: [...colors].reverse(),\n            textStyle: {\n                color: 'dodgerblue'\n            },\n            top:5,\n            right:20\n        },\n        dataZoom: [ //滑块\n            {\n                type: \"inside\",\n                show: true,\n                height: 15,\n                start: 0,\n                end: 100,\n            },\n            {\n                type: \"slider\",\n                xAxisIndex: [0],\n                start: 0,\n                end: 100,\n                bottom:'5%'\n            },\n        ],\n        grid:{\n            bottom:'11%'\n        },\n        timeline: {\n            data: times,\n            axisType: 'category',\n            autoPlay: false,\n            playInterval: 1500, //播放速度\n\n            left: '5%',\n            right: '5%',\n            bottom: '0%',\n            width: '90%',\n            //  height: null,\n            label: {\n                normal: {\n                    textStyle: {\n\n                        color: 'red',\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: 'red'\n                    }\n                }\n            },\n            symbolSize: 10,\n            lineStyle: {\n                color: '#red'\n            },\n            checkpointStyle: {\n                borderColor: '#red',\n                borderWidth: 2\n            },\n            controlStyle: {\n                showNextBtn: true,\n                showPrevBtn: true,\n                normal: {\n                    color: '#ff8800',\n                    borderColor: '#ff8800'\n                },\n                emphasis: {\n                    color: 'red',\n                    borderColor: 'red'\n                }\n            },\n        },\n        title: {\n            text: '河道水质结果过程线分析'\n        },\n        tooltip: {\n            trigger: 'axis'\n        },\n        xAxis: {\n            data: ['20', '30', '40', '50', '60', '70', '80'],\n            name: '里程'\n        },\n        yAxis: [{\n                type: 'value',\n                position: 'left',\n                name: '水位'\n            },\n            {\n                type: 'value',\n                position: 'left',\n                offset: 65,\n                name: '高程'\n            },\n            {\n                type: 'value',\n                position: 'right',\n                name: '浓度'\n            }\n        ],\n        series: [{\n                type: 'line',\n                yAxisIndex: 0,\n                areaStyle: {\n                    normal: {\n                        opacity: 0\n                    }\n                },\n                stack: '总量',\n                symbol: 'none',\n                smooth: true,\n                data: [220, 218, 209, 199, 195, 189, 180]\n            },\n            {\n                type: 'line',\n                yAxisIndex: 0,\n                /*areaStyle: {\n                    normal: {\n                        color: {\n                            type: 'linear', //设置线性渐变\n                            x: 0,\n                            y: 0,\n                            x2: 1,\n                            y2: 0,\n                            // colorStops: [{\n                            //     offset: 0,\n                            //     color: 'rgba(0, 254, 157, 0.8)' // 0% 处的颜色\n                            // }, {\n                            //     offset: 0.25,\n                            //     color: 'rgba(145, 127, 255, 0.8)' // 0% 处的颜色\n                            // }, {\n                            //     offset: 0.5,\n                            //     color: 'rgba(51, 156, 255, 0.8)' // 0% 处的颜色\n                            // }, {\n                            //     offset: 1,\n                            //     color: 'rgba(2, 221, 241, 0.8)' // 100% 处的颜色\n                            // }],\n                            colorStops: getColorStops(),\n                            globalCoord: false // 缺省为 false\n                        }\n                    }\n                },*/\n                stack: '总量',\n                symbol: 'none',\n                smooth: true,\n                data: [30, 40, 30, 50, 40, 60, 80]\n            },\n            {\n                type: 'line',\n                yAxisIndex: 2,\n                // data: [182, 220, 290, 330, 310, 191, 234]\n            }\n        ]\n    },\n    options: []\n};\n\noption.options = pollutions.map((item, i) => {\n    return {\n        series: [{}, {\n            areaStyle: {\n                normal: {\n                    color: {\n                        type: 'linear', //设置线性渐变\n                        x: 0,\n                        y: 0,\n                        x2: 1,\n                        y2: 0,\n                        colorStops: getColorStops(item),\n                        globalCoord: false // 缺省为 false\n                    }\n                }\n            },\n        }, {\n            data: item\n        }]\n    }\n});\nconsole.log(option.options)","html":"","externalScripts":"","updaterUID":"obd-o2UacJV5hzcd4TNt5uY4Ohka8q6Bc6l","theme":"","layout":"","viewCount":93,"userName":"決***0","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xip-DNiaeG.png?v=1602742838787","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title","tooltip"],"customTags":[],"updaterUserName":"決***0"}}