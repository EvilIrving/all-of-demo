{"status":0,"data":{"cid":"x7GFgaZ1gP","authorUid":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","authorUserName":"g***y","title":"中国各省份1980-2019年人口增长数字","description":"数据取自国家统计局官网\n\n单位：万人\n\n（此数据未包含台湾省）","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-23T01:30:48.000Z","lastUpdateTime":"2020-12-23T01:30:48.000Z","auth":2,"uid":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-23T01:30:48.000Z","code":"var name_title = \"中国各省份1980-2019年人口增长数字\"\nvar subname = '数据取自国家统计局官网\\n\\n单位：万人\\n\\n（此数据未包含台湾省）'\nvar nameColor = \" rgb(55, 75, 113)\"\nvar name_fontFamily = '等线'\nvar subname_fontSize = 20\nvar name_fontSize = 30\nvar mapName = 'china'\nvar data = [\n    {name:\"北京\",value:1250.667},\n    {name:\"天津\",value:799.241},\n    {name:\"河北\",value:2407.656},\n    {name:\"山西\",value:1243.087},\n    {name:\"内蒙古\",value:654.782},\n    {name:\"辽宁\",value:846.433},\n    {name:\"吉林\",value:473.787},\n    {name:\"黑龙江\",value:536.841},\n    {name:\"上海\",value:1262.033},\n    {name:\"江苏\",value:2094.108},\n    {name:\"浙江\",value:1996.477},\n    {name:\"安徽\",value:1461.303},\n    {name:\"福建\",value:1439.764},\n    {name:\"江西\",value:1385.954},\n    {name:\"山东\",value:2744.369},\n    {name:\"河南\",value:2341.138},\n    {name:\"湖北\",value:1225.985},\n    {name:\"湖南\",value:1622.974},\n    {name:\"广东\",value:5685.056},\n    {name:\"广西\",value:1417.113},\n    {name:\"海南\",value:286.559},\n    {name:\"重庆\",value:225.451},\n    {name:\"四川\",value:-1456.779},\n    {name:\"贵州\",value:844.454},\n    {name:\"云南\",value:1682.241},\n    {name:\"西藏\",value:166.367},\n    {name:\"陕西\",value:1035.010},\n    {name:\"甘肃\",value:728.010},\n    {name:\"青海\",value:229.895},\n    {name:\"宁夏\",value:319.121},\n    {name:\"新疆\",value:1237.313},\n    ];\n    \nvar geoCoordMap = {};\nvar toolTipData = [ \n    {name:\"北京\",value:[{name:\"女性\",value:622.628},{name:\"男性\",value:628.167}]},\n    {name:\"天津\",value:[{name:\"女性\",value:325.344},{name:\"男性\",value:473.769}]},\n    {name:\"河北\",value:[{name:\"女性\",value:1191.590},{name:\"男性\",value:1216.067}]},\n    {name:\"山西\",value:[{name:\"女性\",value:661.233},{name:\"男性\",value:581.726}]},\n    {name:\"内蒙古\",value:[{name:\"女性\",value:331.244},{name:\"男性\",value:323.538}]},\n    {name:\"辽宁\",value:[{name:\"女性\",value:451.274},{name:\"男性\",value:395.159}]},\n    {name:\"吉林\",value:[{name:\"女性\",value:250.759},{name:\"男性\",value:223.028}]},\n    {name:\"黑龙江\",value:[{name:\"女性\",value:283.344},{name:\"男性\",value:253.497}]},\n    {name:\"上海\",value:[{name:\"女性\",value:581.618},{name:\"男性\",value:680.544}]},\n    {name:\"江苏\",value:[{name:\"女性\",value:1014.959},{name:\"男性\",value:1079.149}]},\n    {name:\"浙江\",value:[{name:\"女性\",value:963.359},{name:\"男性\",value:1033.118}]},\n    {name:\"安徽\",value:[{name:\"女性\",value:780.962},{name:\"男性\",value:680.213}]},\n    {name:\"福建\",value:[{name:\"女性\",value:687.379},{name:\"男性\",value:752.385}]},\n    {name:\"江西\",value:[{name:\"女性\",value:695.731},{name:\"男性\",value:690.351}]},\n    {name:\"山东\",value:[{name:\"女性\",value:1370.392},{name:\"男性\",value:1373.977}]},\n    {name:\"河南\",value:[{name:\"女性\",value:1189.800},{name:\"男性\",value:1151.338}]},\n    {name:\"湖北\",value:[{name:\"女性\",value:651.274},{name:\"男性\",value:574.710}]},\n    {name:\"湖南\",value:[{name:\"女性\",value:845.682},{name:\"男性\",value:777.292}]},\n    {name:\"重庆\",value:[{name:\"女性\",value:167.815},{name:\"男性\",value:57.507}]},\n    {name:\"四川\",value:[{name:\"女性\",value:-524.203},{name:\"男性\",value:-932.577}]},\n    {name:\"贵州\",value:[{name:\"女性\",value:378.669},{name:\"男性\",value:465.785}]},\n    {name:\"云南\",value:[{name:\"女性\",value:795.190},{name:\"男性\",value:887.051}]},\n    {name:\"西藏\",value:[{name:\"女性\",value:80.713},{name:\"男性\",value:85.526}]},\n    {name:\"陕西\",value:[{name:\"女性\",value:541.315},{name:\"男性\",value:493.695}]},\n    {name:\"甘肃\",value:[{name:\"女性\",value:380.146},{name:\"男性\",value:347.864}]},\n    {name:\"青海\",value:[{name:\"女性\",value:110.505},{name:\"男性\",value:119.262}]},\n    {name:\"宁夏\",value:[{name:\"女性\",value:155.710},{name:\"男性\",value:163.410}]},\n    {name:\"新疆\",value:[{name:\"女性\",value:621.187},{name:\"男性\",value:616.254}]},\n    {name:\"广东\",value:[{name:\"女性\",value:2431.849},{name:\"男性\",value:3253.079}]},\n    {name:\"广西\",value:[{name:\"女性\",value:677.731},{name:\"男性\",value:739.382}]},\n    {name:\"海南\",value:[{name:\"女性\",value:142.787},{name:\"男性\",value:143.772}]},\n];\n\nmyChart.showLoading();\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\nmyChart.hideLoading();\nmapFeatures.forEach(function(v) {\n    // 地区名称\n    var name = v.properties.name;\n    // 地区经纬度\n    geoCoordMap[name] = v.properties.cp;\n});\n\n// console.log(\"============geoCoordMap===================\")\n// console.log(geoCoordMap)\n// console.log(\"================data======================\")\nconsole.log(data)\nconsole.log(toolTipData)\nvar max = 480,\n    min = 9; // todo \nvar maxSize4Pin = 300,\n    minSize4Pin = 20;\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n            });\n        }\n    }\n    return res;\n};\noption = {\n    title: {\n        text: name_title,\n        subtext: subname,\n        x: 'center',\n        textStyle: {\n            color: nameColor,\n            fontFamily: name_fontFamily,\n            fontSize: name_fontSize\n        },\n        subtextStyle:{\n            fontSize:subname_fontSize,\n            fontFamily:name_fontFamily\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function(params) {\n            if (typeof(params.value)[2] == \"undefined\") {\n                var toolTiphtml = ''\n                for(var i = 0;i<toolTipData.length;i++){\n                    if(params.name==toolTipData[i].name){\n                        toolTiphtml += toolTipData[i].name+':<br>'\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\n                        }\n                    }\n                }\n                console.log(toolTiphtml)\n                // console.log(convertData(data))\n                return toolTiphtml;\n            } else {\n                var toolTiphtml = ''\n                for(var i = 0;i<toolTipData.length;i++){\n                    if(params.name==toolTipData[i].name){\n                        toolTiphtml += toolTipData[i].name+':<br>'\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\n                        }\n                    }\n                }\n                console.log(toolTiphtml)\n                // console.log(convertData(data))\n                return toolTiphtml;\n            }\n        }\n    },\n    // legend: {\n    //     orient: 'vertical',\n    //     y: 'bottom',\n    //     x: 'right',\n    //     data: ['credit_pm2.5'],\n    //     textStyle: {\n    //         color: '#fff'\n    //     }\n    // },\n    visualMap: {\n        show: true,\n        min: -2000,\n        max: 6000,\n        left: 'left',\n        top: 'bottom',\n        text: ['高', '低'], // 文本，默认为数值文本\n        calculable: true,\n        seriesIndex: [1],\n        inRange: {\n            // color: ['#3B5077', '#031525'] // 蓝黑\n            // color: ['#ffc0cb', '#800080'] // 红紫\n            // color: ['#3C3B3F', '#605C3C'] // 黑绿\n            // color: ['#0f0c29', '#302b63', '#24243e'] // 黑紫黑\n            // color: ['#23074d', '#cc5333'] // 紫红\n            color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#1488CC', '#2B32B2'] // 浅蓝\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\n\n        }\n    },\n    /*工具按钮组*/\n    // toolbox: {\n    //     show: true,\n    //     orient: 'vertical',\n    //     left: 'right',\n    //     top: 'center',\n    //     feature: {\n    //         dataView: {\n    //             readOnly: false\n    //         },\n    //         restore: {},\n    //         saveAsImage: {}\n    //     }\n    // },\n    geo: {\n        show: true,\n        map: mapName,\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false,\n            }\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#031525',\n                borderColor: '#3B5077',\n            },\n            emphasis: {\n                areaColor: '#2B91B7',\n            }\n        }\n    },\n    series: [{\n            name: '散点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function(val) {\n                return val[1] / 3;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#05C3F9'\n                }\n            }\n        },\n        {\n            type: 'map',\n            map: mapName,\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    \n                    show: true\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#3B5077',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7'\n                }\n            },\n            animation: false,\n            data: data\n        },\n        {\n            name: '点',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin', //气泡\n            symbolSize: function(val) {\n                var a = 1;\n                var b = 1;\n                b = 1;\n                return a * val[1] + b;\n            },\n            label: {\n                normal: {\n                    show: true,formatter: function (params) {return params.value[2];}\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#F62157', //标志颜色\n                }\n            },\n            zlevel: 6,\n            data: convertData(data),\n        },\n        {\n            name: 'Top 5',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data.sort(function(a, b) {\n                return b.value - a.value;\n            }).slice(0, 5)), \n            symbolSize: function(val) {\n                return val[1] / 2;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: 'yellow',\n                    shadowBlur: 10,\n                    shadowColor: 'yellow'\n                }\n            },\n            zlevel:1\n        },\n\n    ]\n};\nmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","theme":"","layout":"","viewCount":147,"userName":"g***y","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7GFgaZ1gP.png?v=1608687048980","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"g***y"}}