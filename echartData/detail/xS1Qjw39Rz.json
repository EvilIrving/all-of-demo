{"status":0,"data":{"cid":"xS1Qjw39Rz","authorUid":"bd-1426397832","authorUserName":"t416867448","title":"数据动态切换","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-05-17T08:04:42.000Z","lastUpdateTime":"2018-05-17T08:04:42.000Z","auth":2,"uid":"bd-1426397832","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-17T08:04:42.000Z","code":"var color = '#fff';\r\nvar lineColor = '#192e5b';\r\nvar xAxisData = [1, 2, 3, 4, 5, 6, 7];\r\nvar scale = 1;\r\nvar echartData = [\r\n    [\r\n        [95, 70, 95, 65, 70, 80, 66],\r\n        [33, 89, 18, 34, 41, 14, 46],\r\n        [57, 27, 12, 97, 28, 81, 55]\r\n    ],\r\n    [\r\n        [85, 75, 80, 85, 55, 83, 85],\r\n        [96, 74, 40, 69, 73, 30, 55],\r\n        [24, 82, 82, 23, 11, 44, 34]\r\n    ],\r\n    [\r\n        [35, 55, 70, 90, 55, 70, 85],\r\n        [33, 25, 97, 68, 26, 92, 30],\r\n        [96, 67, 74, 40, 41, 86, 44]\r\n    ]\r\n];\r\nvar maxData = '55%';\r\noption = {\r\n    legend: {\r\n        itemGap: 10,\r\n        data: ['综合学科', '综合学科1', '高等教育'],\r\n        icon: 'circle',\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 10 * scale\r\n        },\r\n    },\r\n    color: ['#295beb', '#eb297d', '#ffc72b'], //3dd3f8\r\n    grid: {\r\n        left: '3%',\r\n        right: '20%',\r\n        top: '40%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: color,\r\n                fontSize: 10 * scale,\r\n            }\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: lineColor,\r\n            }\r\n        },\r\n        // name: '考次',\r\n        nameTextStyle: {\r\n            color: '#fff',\r\n            fontSize: 10 * scale,\r\n            padding: [0, 0, 0, 10]\r\n        },\r\n        data: xAxisData\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        max: 100,\r\n        axisLabel: {\r\n            padding: [0, 15, 0, 0],\r\n            textStyle: {\r\n                color: color,\r\n                fontSize: 10 * scale,\r\n            }\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: lineColor,\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        name: '通过率：%',\r\n        nameTextStyle: {\r\n            color: '#fff',\r\n            fontSize: 10 * scale,\r\n            padding: [0, 0, 25, 0]\r\n        },\r\n    },\r\n    series: [{\r\n            name: '综合学科',\r\n            type: 'line',\r\n            stack: '总量',\r\n            smooth: true, //这句就是让曲线变平滑的\r\n            data: echartData[0][0],\r\n            symbol: 'none', //拐点样式\r\n            markPoint: {\r\n                data: [{\r\n                        type: 'max',\r\n                        symbolSize: [40, 40],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#295beb\"\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{c}%',\r\n                                show: true,\r\n                                textStyle: {\r\n                                    fontSize: '12',\r\n                                    fontWeight: 'bold',\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        symbol: 'circle',\r\n                        type: 'max',\r\n                        symbolSize: [5, 5],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#295beb\",\r\n                                borderColor: 'rgba(41, 91,235, 0.3)', //rgba(255, 199, 43, .3)\r\n                                borderWidth: 10 * scale,\r\n                                shadowColor: '#295beb',\r\n                                shadowBlur: 30\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            markLine: {\r\n                symbol: 'none',\r\n                data: [{\r\n                    yAxis: 60,\r\n                    valueIndex: 1,\r\n                    // coord:['60','7'],\r\n                    lineStyle: {\r\n                        normal: {\r\n                            color: '#3fdaff',\r\n                            type: 'dashed'\r\n                        }\r\n                    },\r\n                    label: {\r\n                        normal: {\r\n                            show: false\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }, {\r\n            name: '综合学科1',\r\n            type: 'line',\r\n            smooth: true, //这句就是让曲线变平滑的\r\n            data: echartData[1][0],\r\n            symbol: 'none', //拐点样式\r\n            markPoint: {\r\n                data: [{\r\n                        type: 'max',\r\n                        symbolSize: [40, 40],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#eb297d\"\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{c}%',\r\n                                show: true,\r\n                                textStyle: {\r\n                                    fontSize: '12',\r\n                                    fontWeight: 'bold',\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        symbol: 'circle',\r\n                        type: 'max',\r\n                        symbolSize: [5, 5],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#eb297d\",\r\n                                borderColor: 'rgba(235,41,125,0.3)', //rgba(255, 199, 43, .3)\r\n                                borderWidth: 10 * scale,\r\n                                shadowColor: '#eb297d',\r\n                                shadowBlur: 30\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            name: '高等教育',\r\n            type: 'line',\r\n            smooth: true, //这句就是让曲线变平滑的\r\n            data: echartData[2][0],\r\n            symbol: 'none', //拐点样式\r\n            markPoint: {\r\n                data: [{\r\n                        type: 'max',\r\n                        symbolSize: [40, 40],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#ffc72b\"\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{c}%',\r\n                                show: true,\r\n                                textStyle: {\r\n                                    fontSize: '12',\r\n                                    fontWeight: 'bold',\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        symbol: 'circle',\r\n                        type: 'max',\r\n                        symbolSize: [5, 5],\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#ffc72b\",\r\n                                borderColor: 'rgba(255, 199, 43, 0.3)', //rgba(255, 199, 43, .3)\r\n                                borderWidth: 10 * scale,\r\n                                shadowColor: '#ffc72b',\r\n                                shadowBlur: 30\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n};\r\nvar san_er_len = 0;\r\n\r\nfunction san_er_set_data() {\r\n    if (san_er_len >= 3) san_er_len = 0\r\n    var data = [];\r\n    for (let i = 0; i < echartData.length; i++) {\r\n        var data1 = echartData[san_er_len][i];\r\n        data[i] = data1;\r\n    }\r\n    myChart.setOption({\r\n        series: [{\r\n            data: data[0]\r\n        }, {\r\n            data: data[1]\r\n        }, {\r\n            data: data[2]\r\n        }]\r\n    })\r\n    setTimeout(san_er_set_data, 2100)\r\n    san_er_len++\r\n}\r\nsan_er_set_data()","html":"","externalScripts":"","updaterUID":"bd-1426397832","theme":"","layout":"","viewCount":59,"userName":"t416867448","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS1Qjw39Rz.png?v=1526544283030","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"t416867448"}}