{"status":0,"data":{"cid":"xmrFTMDYEV","authorUid":"obd-oMhbxXP34wfnKiFLkLNCLlaGPYkK62U","authorUserName":"C***鞋","title":"圆角饼图","description":"使用渐变模拟相互覆盖效果，不完美，数据差异较大情况下不适用","latestVersion":2,"alwaysLatest":1,"createTime":"2020-08-31T09:58:02.000Z","lastUpdateTime":"2020-08-31T09:58:02.000Z","auth":2,"uid":"obd-oMhbxXP34wfnKiFLkLNCLlaGPYkK62U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-08T09:15:48.000Z","code":"//灵感来自https://gallery.echartsjs.com/editor.html?c=x2wCtJP0pQ\r\n//使用渐变模拟相互覆盖效果，不完美，数据差异较大情况下不适用\r\nvar data = [25, 25, 25, 25];\r\nlet sumArr = [];\r\nfor (var i = 0; i < data.length; i++) {\r\n    let arr = data.slice(0, i);\r\n    console.log(arr);\r\n    let sum = 0;\r\n    arr.forEach((item) => {\r\n        sum += item;\r\n    });\r\n    sumArr.push(sum);\r\n}\r\noption = {\r\n    backgroundColor: \"#fff\",\r\n    angleAxis: {\r\n        max: 100,\r\n        show: false,\r\n    },\r\n    tooltip: {\r\n        trigger: \"item\",\r\n        formatter: \"{c}%\",\r\n    },\r\n    radiusAxis: {\r\n        type: \"category\",\r\n        show: true,\r\n        axisLabel: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n    },\r\n    polar: {\r\n        radius: [\"50%\", \"65%\"],\r\n        center: [\"50%\", \"50%\"],\r\n    },\r\n    series: [{\r\n            stack: \"fenshu\",\r\n            type: \"bar\",\r\n            roundCap: true,\r\n            barWidth: 40,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                            offset: 0,\r\n                            color: \"rgba(255,0,0,0)\",\r\n                        }, {\r\n                            offset: 0.05,\r\n                            color: \"rgba(255,0,0,0)\",\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: \"rgba(255,0,0,1)\",\r\n                        },\r\n                    ]),\r\n                }\r\n            },\r\n            data: [{\r\n                value: data[0],\r\n            }, ],\r\n            coordinateSystem: \"polar\",\r\n            name: \"A\",\r\n            label: {\r\n                show: true,\r\n            },\r\n        },\r\n        //2\r\n        {\r\n            stack: \"fenshu\",\r\n            type: \"bar\",\r\n            roundCap: true,\r\n            barWidth: 40,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: \"rgba(82,196,26,0)\",\r\n                        },\r\n                        {\r\n                            offset: 0.05,\r\n                            color: \"rgba(82,196,26,0)\",\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: \"rgba(82,196,26,1)\",\r\n                        },\r\n                    ]),\r\n                }\r\n            },\r\n            data: [{\r\n                value: data[1],\r\n            }, ],\r\n            coordinateSystem: \"polar\",\r\n            name: \"B\",\r\n            label: {\r\n                show: true,\r\n            },\r\n        },\r\n        //3\r\n        {\r\n            stack: \"fenshu\",\r\n            type: \"bar\",\r\n            roundCap: true,\r\n            barWidth: 40,\r\n            itemStyle: {\r\n                normal:\r\n\r\n                {\r\n                    color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{\r\n                            offset: 0,\r\n                            color: \"rgba(0,0,255,0)\",\r\n                        },\r\n                        {\r\n                            offset: 0.05,\r\n                            color: \"rgba(0,0,255,0)\",\r\n                        },\r\n\r\n                        {\r\n                            offset: 1,\r\n                            color: \"rgba(0,0,255,1)\",\r\n                        },\r\n                    ]),\r\n                }\r\n\r\n            },\r\n            data: [{\r\n                value: data[2],\r\n            }, ],\r\n            coordinateSystem: \"polar\",\r\n            name: \"C\",\r\n            label: {\r\n                show: true,\r\n            },\r\n        },\r\n        //4\r\n        {\r\n            stack: \"fenshu\",\r\n            type: \"bar\",\r\n            roundCap: true,\r\n            barWidth: 40,\r\n            itemStyle: {\r\n                normal:\r\n\r\n                {\r\n                    color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\r\n                            offset: 0,\r\n                            color: \"rgba(114,46,209,0)\",\r\n                        },\r\n                        {\r\n                            offset: 0.05,\r\n                            color: \"rgba(114,46,209,0)\",\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: \"rgba(114,46,209,1)\",\r\n                        },\r\n                    ]),\r\n                }\r\n\r\n            },\r\n            data: [{\r\n                value: data[3],\r\n            }, ],\r\n            coordinateSystem: \"polar\",\r\n            name: \"D\",\r\n            label: {\r\n                show: true,\r\n            },\r\n        },\r\n    ],\r\n};","html":"","externalScripts":"","updaterUID":"obd-oMhbxXP34wfnKiFLkLNCLlaGPYkK62U","theme":"","layout":"","viewCount":434,"userName":"C***鞋","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmrFTMDYEV.png?v=1599556548415","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","tooltip"],"customTags":["pie"],"updaterUserName":"C***鞋"}}