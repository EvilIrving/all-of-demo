{"status":0,"data":{"cid":"xHam-d7yHZ","authorUid":"bd-3850529432","authorUserName":"h***n","title":"地图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-07-20T10:03:40.000Z","lastUpdateTime":"2020-07-20T10:03:40.000Z","auth":2,"uid":"bd-3850529432","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-20T10:03:40.000Z","code":"const JJJ = \"/asset/get/s/data-1568010881871-0of0Mrx7V.json\";\n\n$.getJSON(JJJ, mapData => {\n    echarts.registerMap('JJJ', mapData);\n    // myChart.hideLoading();\n    \n    const geoCoordMap = {\n        '厦门市':[118.11022, 24.490474, 20],\n        '福州市': [119.306239, 26.075302, 60],\n        '泉州市':  [118.589421, 24.908853, 5],\n        '漳州市':  [117.661801, 24.510897, 33],\n        '龙岩市':[117.02978, 25.091603, 20],\n        '莆田市':[119.007558, 25.431011, 8], \n    };\n    // [{\n    //             \"name\": \"厦门市\",\n    //             \"value\": \n    //         }, {\n    //             \"name\": \"福州市\",\n    //             \"value\":\n    //         }, {\n    //             \"name\": \"泉州市\",\n    //             \"value\": [118.589421, 24.908853, 5]\n    //         }, {\n    //             \"name\": \"漳州市\",\n    //             \"value\": [117.661801, 24.510897, 1]\n    //         }, {\n    //             \"name\": \"龙岩市\",\n    //             \"value\": [117.02978, 25.091603, 1]\n    //         }, {\n    //             \"name\": \"莆田市\",\n    //             \"value\": [119.007558, 25.431011, 1]\n    //         }]\n    let seriesData = [{\n                \"dsid\": 592,\n                \"name\": \"厦门市\",\n                \"value\": 109\n            }, {\n                \"dsid\": 591,\n                \"name\": \"福州市\",\n                \"value\": 999\n            }, {\n                \"dsid\": 595,\n                \"name\": \"泉州市\",\n                \"value\": 499\n            }, {\n                \"dsid\": 596,\n                \"name\": \"漳州市\",\n                \"value\": 1\n            }, {\n                \"dsid\": 597,\n                \"name\": \"龙岩市\",\n                \"value\": 1\n            }, {\n                \"dsid\": 594,\n                \"name\": \"莆田市\",\n                \"value\": 1\n            }];\n    let convertData = function(data) {\n        let scatterData = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                scatterData.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value)\n                });\n            }\n        }\n        return scatterData;\n    };\n    option = {\n        // backgroundColor: 'transparent',\n        title: {\n            text: '',\n            subtext: '',\n            x: 'center'\n        },\n        tooltip: { //提示框组件。\n            trigger: 'item', //数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。\n            formatter: '{a} <br/> {b}: {c}',\n            textStyle: {\n                fontSize: '24px'\n            }\n        },\n        legend: {\n            show: false,\n            orient: 'horizontal', //图例的排列方向\n            x: 'left', //图例的位置\n            data: ['']\n        },\n        geo: {\n            map: 'JJJ',\n            left: '150',\n            itemStyle: { //地图区域的多边形 图形样式\n                // color: 'rgba(209,250,12,0.5)',\n                normal: { //是图形在默认状态下的样式\n                    color: 'rgba(37,124,169)',\n                    label: {\n                        show: true, //是否显示标签\n                        textStyle: {\n                            color: 'rgb(249, 249, 249)'\n                        },\n                    },\n\n                    borderWidth: 3,\n                    borderColor: 'rgba(37,124,169)',\n                    // areaColor: 'rgba(37,124,169)',\n                    shadowColor: 'rgba(37,124,169)',\n                    shadowOffsetY: 15,\n                    shadowOffsetX: 8,\n                    // shadowBlur: 3,\n\n                },\n\n            },\n\n            // layoutCenter: ['50%', '30%'],\n            //如果宽高比大于 1 则宽度为 100，如果小于 1 则高度为 100，保证了不超过 100x100 的区域\n            // layoutSize: 100,\n        },\n        visualMap: { //颜色的设置  dataRange\n            show: false,\n            x: 'left',\n            y: 'center',\n            seriesIndex: [0],\n\n            min: 1000,\n            max: 3000,\n            // splitList: [\n\n\n            // ],\n            //            min: 0,\n            //            max: 2500,\n            //            calculable : true,//颜色呈条状\n            text: ['高', '低'], // 文本，默认为数值文本\n            color: ['rgb(11,85,142)', 'rgb(13,106,177)'],\n            textStyle: {\n                color: '#fff'\n            },\n\n        },\n        toolbox: { //工具栏\n            show: true,\n            orient: 'vertical', //工具栏 icon 的布局朝向\n            x: 'right',\n            y: 'center',\n            feature: { //各工具配置项。\n                mark: {\n                    show: true\n                },\n                dataView: {\n                    show: true,\n                    readOnly: false\n                }, //数据视图工具，可以展现当前图表所用的数据，编辑后可以动态更新。\n                restore: {\n                    show: true\n                }, //配置项还原。\n                saveAsImage: {\n                    show: true\n                } //保存为图片。\n            }\n        },\n        roamController: { //控制地图的上下左右放大缩小 图上没有显示\n            show: false,\n            x: 'right',\n            mapTypeControl: {\n                'china': false\n            }\n        },\n        series: [{\n                name: `行业：'全部'`,\n                type: 'map',\n                mapType: 'JJJ',\n                // map: 'JJJ',\n                // top: '90%',//组件距离容器的距离\n                left: '150',\n                // zoom: 1.2,\n                roam: false, //是否开启鼠标缩放和平移漫游\n                itemStyle: { //地图区域的多边形 图形样式\n                    color: ['rgb(11,85,142)', 'rgb(13,106,177)'],\n                    normal: { //是图形在默认状态下的样式\n                        label: {\n                            show: true, //是否显示标签\n                            textStyle: {\n                                color: 'rgb(249, 249, 249)'\n                            },\n                            // shadowColor:'rgba(17,84,148,0.8)',\n                        },\n\n                        borderWidth: 3,\n                        borderColor: 'rgba(37,124,169)',\n                        areaColor: 'rgba(20,78,139,1)',\n                        // shadowColor: 'rgba(20,78,139,1)',\n                        // shadowOffsetY: 15,\n                        // shadowOffsetX: 15,\n                        // // shadowBlur: 100,\n                    },\n                    emphasis: { //是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时\n                        label: {\n                            show: true\n                        },\n                        borderColor: '#3baced',\n                        areaColor: '#0b558e',\n                    }\n                },\n\n                data: seriesData\n            },\n            {\n                name: '',\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                color: 'rgba(209,250,12,0.5)',\n                // symbolSize:50, //function (val) {\n                //     var a = (maxSize4Pin - minSize4Pin) / (max - min);\n                //     var b = minSize4Pin - a*min;\n                //     b = maxSize4Pin - a*max;\n                //     return a*val[2]+b;\n                // },\n                symbolSize: function(value) {\n                    return value[2] / 1;\n                },\n                tooltip: {\n                    show: false\n                },\n                label: {\n                    normal: {\n                        show: false,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 9,\n                        }\n                    }\n                },\n\n                itemStyle: {\n                    normal: {\n                        color: 'rgba(209,250,12,0.5)', //标志颜色\n                    }\n                },\n                zlevel: 1,\n                data: convertData(seriesData),\n            },\n        ]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-3850529432","theme":"","layout":"","viewCount":847,"userName":"h***n","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHam-d7yHZ.png?v=1595239420679","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"h***n"}}