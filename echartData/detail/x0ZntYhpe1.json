{"status":0,"data":{"cid":"x0ZntYhpe1","authorUid":"bd-672687181","authorUserName":"积***2","title":"Awesome Chart","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-15T09:01:12.000Z","lastUpdateTime":"2020-10-15T09:01:12.000Z","auth":2,"uid":"bd-672687181","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-15T09:01:12.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1564540466051-uuFvrLo5R.json\";\r\n//  未覆盖\r\nvar gubageArr = [{\r\n        name: '五零四文化广场',\r\n        value: [103.503623, 36.153077, 120],\r\n        type: '未覆盖'\r\n    },\r\n    {\r\n        name: '中海广场',\r\n        value: [103.695645, 36.11699, 80],\r\n        type: '未覆盖'\r\n    },\r\n    {\r\n        name: '安宁科教城',\r\n        value: [103.731721, 36.105152, 100],\r\n        type: '未覆盖'\r\n    }\r\n];\r\n// 未排课\r\nvar guanwang = [{\r\n        name: '万达广场',\r\n        value: [103.869701, 36.069802, 120],\r\n        type: 'guanwang'\r\n    },\r\n    {\r\n        name: '兰州碧桂园',\r\n        value: [103.913538, 36.111567, 120],\r\n        type: 'guanwang'\r\n    },\r\n    {\r\n        name: '人民公园',\r\n        value: [103.26806, 36.727982, 120],\r\n        type: 'guanwang'\r\n    }\r\n];\r\n//行政班排课\r\nvar lvdi = [{\r\n        name: '甘肃警察职业学院',\r\n        value: [103.995724, 36.375113, 120],\r\n        type: 'lvdi'\r\n    },\r\n    {\r\n        name: '包家尖岭',\r\n        value: [103.144834, 36.441487, 120],\r\n        type: 'lvdi'\r\n    }\r\n];\r\n// 走班排课\r\nvar ranqi = [{\r\n        name: '红古广场',\r\n        value: [102.871468, 36.355351, 120],\r\n        type: 'ranqi'\r\n    },\r\n    {\r\n        name: '桌子湾',\r\n        value: [102.943763, 36.375811, 120],\r\n        type: 'ranqi'\r\n    }\r\n];\r\n//预警信息\r\nvar jinggai = [{\r\n        name: '兰石新区家园',\r\n        value: [103.690767, 36.503192, 120],\r\n        type: 'jinggai'\r\n    },\r\n    {\r\n        name: '三川口开发区',\r\n        value: [103.91405, 36.379043, 120],\r\n        type: 'jinggai'\r\n    }\r\n];\r\n// 显示加载动画\r\nmyChart.showLoading();\r\n$.getJSON(uploadedDataURL, null, function(data) {\r\n    echarts.registerMap('lanzhou', data);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n       /* '永登县': [103.250918, 36.603474],\r\n        '皋兰县': [103.879893, 36.389661],\r\n        '红古区': [103.110536, 36.277516],\r\n        '西固区': [103.522302, 36.126722],\r\n        '安宁区': [103.686572, 36.1243],\r\n        '城关区': [103.876381, 36.07365],\r\n        '七里河区': [103.771036, 35.965633],\r\n        '榆中县': [104.232869, 35.993455] \r\n        */\r\n    };\r\n    var data1 = [{\r\n            name: '永登县',\r\n            value: 199\r\n        },\r\n        {\r\n            name: '皋兰县',\r\n            value: 39\r\n        },\r\n        {\r\n            name: '红古区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '西固区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '安宁区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '城关区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '七里河区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '榆中县',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '中建大厦',\r\n            value: 152\r\n        },\r\n    ];\r\n    var max = 480,\r\n        min = 9;\r\n    var maxSize4Pin = 100,\r\n        minSize4Pin = 20;\r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    option = {\r\n        backgroundColor: '#02A7F0',\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(params) {\r\n                console.log(params);\r\n                /*return \"<div style='background:#07273B;border:1px solid #03941D;width:300px;height:200px;border-radius:5px'>\" +\r\n                \"<div style='width:100%;text-align: center;margin-top:20px;font-size:16px;'>编码　<span style='color:#2AEAF0;font-size:18px;'>123421</span></div>\" \r\n                    \"</div>\"; */\r\n                    return \"<table border='1'>\"+\r\n\t\t\t\t\"<tr><th colspan = '7'>人大附中</th></tr><tr><td></td><td>物理</td><td>化学</td><td>生物</td><td>地理</td><td>历史</td><td>政治</td></tr>\"+\r\n\t\t\t\t\"<tr><td>师生比</td><td>1:50</td><td>1:32</td><td>1:30</td><td>1:56</td><td>1:32</td><td>1:40</td></tr>\"+\r\n\t\t\t\t\"<tr><td>标准值</td><td>1:50</td><td>1:32</td><td>1:30</td><td>1:56</td><td>1:32</td><td>1:40</td></tr>\"+\r\n\t\t\t\t\"<tr><td>周课时</td><td>8</td><td>4</td><td>4</td><td>3</td><td>4</td><td>4</td></tr>\"+\r\n\t\t\t\t\"<tr><td>标准值</td><td>6</td><td>4</td><td>4</td><td>4</td><td>4</td><td>4</td></tr>\"+\r\n\t\t\t\t\"<tr><td></td><td colspan = '6' align = 'right'>红色超标  绿色未达标</td></tr></table>\"\r\n                    \r\n            }\r\n        },\r\n        legend: {\r\n            orient: 'horizontal',\r\n            id: 1,\r\n            y: 'bottom',\r\n            x: 'center',\r\n            itemWidth: 15,\r\n            data: [{\r\n                    name: '未覆盖',\r\n                    icon: \"path://M508.313 1024s-379.51-422.92-379.51-632.515c0-209.606 169.913-379.51 379.51-379.51s379.51 169.903 379.51 379.51c0 209.596-379.51 632.515-379.51 632.515z m0-963.37c-182.72 0-330.854 150.305-330.854 335.72s330.854 559.533 330.854 559.533S839.167 581.765 839.167 396.35c0-185.414-148.135-335.72-330.854-335.72z m0 457.358c-87.336 0-158.13-70.793-158.13-158.129s70.794-158.129 158.13-158.129 158.129 70.794 158.129 158.13c0 87.326-70.794 158.128-158.13 158.128z m0-272.469c-64.488 0-116.772 52.285-116.772 116.772s52.285 116.772 116.772 116.772c64.497 0 116.771-52.285 116.771-116.772 0-64.488-52.275-116.772-116.771-116.772z\"\r\n                \r\n            }, {\r\n                    name: '未排课',\r\n                    icon: \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                    },\r\n                {\r\n                    name: '行政班排课',\r\n                    icon: \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\"\r\n                    \r\n                },\r\n                {\r\n                    name: '走班排课',\r\n                    icon: \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                    },\r\n                {\r\n                    name: '预警信息',\r\n                    icon: \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\"\r\n                },\r\n            ],\r\n            textStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        geo: {\r\n            show: true,\r\n            map: 'lanzhou',\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                }\r\n            },\r\n            zoom: 1.2,\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: 'transparent',\r\n                    borderColor: '#3fdaff',\r\n                    borderWidth: 2,\r\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\r\n                    shadowBlur: 30\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7',\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n                type: 'map',\r\n                map: 'lanzhou',\r\n                geoIndex: 0,\r\n                aspectScale: 0.75, //长宽比\r\n                showLegendSymbol: false, // 存在legend时显示\r\n                label: {\r\n                    normal: {\r\n                        show: false\r\n                    },\r\n                    emphasis: {\r\n                        show: false,\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                roam: true,\r\n                itemStyle: {\r\n                    normal: {\r\n                        areaColor: '#031525',\r\n                        borderColor: '#3B5077',\r\n                    },\r\n                    emphasis: {\r\n                        areaColor: '#2B91B7'\r\n                    }\r\n                },\r\n                animation: false,\r\n                data: data\r\n            },\r\n            // 图标的位置\r\n            {\r\n                name: 'Top 5',\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                data: convertData(data1.sort(function(a, b) {\r\n                    return b.value - a.value;\r\n                })),\r\n                symbolSize: 12,\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    brushType: 'stroke'\r\n                },\r\n                hoverAnimation: true,\r\n                label: {\r\n                    normal: {\r\n                        formatter: '{b}',\r\n                        position: 'right',\r\n                        show: true\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#05C3F9',\r\n                        shadowBlur: 10,\r\n                        shadowColor: '#05C3F9'\r\n                    }\r\n                },\r\n                zlevel: 1\r\n            },\r\n            {\r\n                name: '未覆盖',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: gubageArr,\r\n                symbol:  \"path://M508.313 1024s-379.51-422.92-379.51-632.515c0-209.606 169.913-379.51 379.51-379.51s379.51 169.903 379.51 379.51c0 209.596-379.51 632.515-379.51 632.515z m0-963.37c-182.72 0-330.854 150.305-330.854 335.72s330.854 559.533 330.854 559.533S839.167 581.765 839.167 396.35c0-185.414-148.135-335.72-330.854-335.72z m0 457.358c-87.336 0-158.13-70.793-158.13-158.129s70.794-158.129 158.13-158.129 158.129 70.794 158.129 158.13c0 87.326-70.794 158.128-158.13 158.128z m0-272.469c-64.488 0-116.772 52.285-116.772 116.772s52.285 116.772 116.772 116.772c64.497 0 116.771-52.285 116.771-116.772 0-64.488-52.275-116.772-116.771-116.772z\",\r\n                symbolSize: function(val) {\r\n                    return val[2] / 7.5;\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        formatter: function(params) {\r\n                            // console.log(params);\r\n                            return params.name;\r\n                        },\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: '8'\r\n                    },\r\n                    emphasis: {\r\n                        show: false\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#4bbbb2',\r\n                        borderWidth: 2,\r\n                        borderColor: '#b4dccd'\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: '未排课',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: guanwang,\r\n                symbol:\"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                symbolSize: function(val) {\r\n                    return val[2] / 7.5;\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        formatter: function(params) {\r\n                            // console.log(params);\r\n                            return params.name;\r\n                        },\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: '8'\r\n                    },\r\n                    emphasis: {\r\n                        show: false\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#ea6347',\r\n                        borderWidth: 2,\r\n                        borderColor: '#f4b391'\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: '行政班排课',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: lvdi,\r\n                symbol:  \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                symbolSize: function(val) {\r\n                    return val[2] / 7.5;\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        formatter: function(params) {\r\n                            // console.log(params);\r\n                            return params.name;\r\n                        },\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: '8'\r\n                    },\r\n                    emphasis: {\r\n                        show: false\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#00ff00',\r\n                        borderWidth: 2,\r\n                        borderColor: '#55E355'\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: '走班排课',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: ranqi,\r\n                symbol: \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                symbolSize: function(val) {\r\n                    return val[2] / 7.5;\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        formatter: function(params) {\r\n                            // console.log(params);\r\n                            return params.name;\r\n                        },\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: '8'\r\n                    },\r\n                    emphasis: {\r\n                        show: false\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#FAFF1A',\r\n                        borderWidth: 2,\r\n                        borderColor: '#E3BC1F'\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: '预警信息',\r\n                type: 'scatter',\r\n                coordinateSystem: 'geo',\r\n                data: jinggai,\r\n                symbol:  \"path://M877.714286 401.495771C877.714286 195.876571 713.991314 29.257143 512.029257 29.257143 309.979429 29.257143 146.285714 195.876571 146.285714 401.495771c0 81.832229 26.243657 157.257143 70.2464 218.697143l-0.4096 0L512.029257 1024l289.440914-394.912914-0.526629 0C848.896 566.125714 877.714286 487.306971 877.714286 401.495771zM512.029257 226.567314c94.880914 0 171.797943 78.292114 171.797943 174.869943 0 96.548571-77.0048 174.928457-171.797943 174.928457-94.880914 0-171.797943-78.292114-171.797943-174.869943C340.231314 304.9472 417.148343 226.567314 512.029257 226.567314z\",\r\n                symbolSize: function(val) {\r\n                    return val[2] / 7.5;\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        formatter: function(params) {\r\n                            // console.log(params);\r\n                            return params.name;\r\n                        },\r\n                        position: 'right',\r\n                        color: '#fff',\r\n                        fontSize: '8'\r\n                    },\r\n                    emphasis: {\r\n                        show: false\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#FF00FF',\r\n                        borderWidth: 2,\r\n                        borderColor: '#D33BD3'\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-672687181","theme":"","layout":"","viewCount":15,"userName":"积***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0ZntYhpe1.png?v=1602752472996","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"积***2"}}