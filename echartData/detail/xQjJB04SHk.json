{"status":0,"data":{"cid":"xQjJB04SHk","authorUid":"bd-4211500535","authorUserName":"l***9","title":"生成物区域图","description":"生成物区域图","latestVersion":2,"alwaysLatest":1,"createTime":"2018-12-20T15:37:51.000Z","lastUpdateTime":"2018-12-20T15:37:51.000Z","auth":2,"uid":"bd-4211500535","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-21T08:11:04.000Z","code":"var bioAreaMapURL = \"/asset/get/s/data-1545324068295-u0am6gPqS.geojson\";\n\n// var bioAreaMapURL = \"/asset/get/s/data-1545322938686-I9K60gtPc.geojson\";\n\n// var bioAreaMapURL = \"/asset/get/s/data-1545317702041-NWwF720GB.geojson\";\n\nvar bioMapDatas = [\n    {name: \"云克药业核药生产基地项目\", value: 1, pos:[103.980093,30.42713], status: \"在建项目\"},\n    {name: \"凤凰家园二期安置小区项目\", value: 2, pos:[103.986561,30.421275], status: \"拟建项目\"},\n    {name: \"生物城污水处理厂及污水干管一期工程\", value: 3, pos:[103.934099,30.458888], status: \"在建项目\"},\n    {name: \"生物城南路工程\", value: 4, pos:[103.939849,30.42688], status: \"完工\"},\n    {name: \"新双黄路南段工程\", value: 1, pos:[103.951606,30.405635], status: \"在建项目\"},\n    {name: \"凤凰家园二期配套工程\", value: 2, pos:[103.967416,30.414232], status: \"拟建项目\"},\n    {name: \"起步区公立小学工程\", value: 3, pos:[104.006079,30.427561], status: \"在建项目\"},\n    {name: \"起步区公立幼儿园工程\", value: 4, pos:[103.933784,30.45247], status: \"完工\"},\n    {name: \"起步区社区综合体工程\", value: 1, pos:[103.956637,30.464548], status: \"在建项目\"},\n    {name: \"起步区派出所及交警中队办公点工程\", value: 2, pos:[103.916824,30.445745], status: \"拟建项目\"},\n    {name: \"永安湖景观工程一期\", value: 3, pos:[103.946144,30.46791], status: \"在建项目\"},\n    {name: \"孵化园下穿隧道工程\", value: 4, pos:[103.928034,30.468159], status: \"完工\"}\n];\n\n//在建项目、拟建项目、完工\nvar bioAreaMapRadiusColors = {\n    \"在建项目\":\"#fdb628\",\n    \"拟建项目\":\"#06d791\",\n    \"完工项目\":\"#da6c75\"\n};\n\nvar bioMapDataConvert = function(data){\n    var res = [];\n    for(var i=0,len=data.length;i<len;i++){\n        res.push({\n            name: data[i].name,\n            value: data[i].pos.concat(data[i].value),\n            itemStyle:{\n                normal:{\n                    color: bioAreaMapRadiusColors[data[i].status]\n                }\n            }\n        });\n    }\n    return res;\n};\n\n$.getJSON(bioAreaMapURL, function(geoJson) {\n    //TODO 注册地图数据\n    echarts.registerMap('bio', geoJson);\n    var option = {}, currentIndex = 0, intervalTime = 10000;\n    option = {\n        backgroundColor: '#0e2a42',\n        geo: {//生物城区域地图\n            map: 'bio',\n            zoom: 1.3, //当前视角缩放比例\n            roam: true,//鼠标缩放和平移漫游\n            // left: \"20px\", //屏幕过大的时候控制该位置偏移\n            //top: \"10px\",\n            selectedMode: 'single',\n            emphasis: {\n                label: {\n                    show: false //地图名称不显示\n                },\n                itemStyle:{\n                    borderColor: 'rgba(51, 119, 254, 1)',\n                    borderWidth: 1,\n                    areaColor: 'rgba(17, 34, 105, .1)'\n                }\n            },\n            itemStyle: {\n                borderColor: 'rgba(51, 119, 254, 1)',\n                borderWidth: 1,\n                areaColor: 'rgba(17,34,105, .6)'\n                //shadowColor: 'rgba(128, 217, 248, 1)',\n                //shadowOffsetX: -2,\n                //shadowOffsetY: 2,\n                //shadowBlur: 10,\n            }\n        },\n        series: [{ //生物城区域地图 展示数据 气泡\n            type: \"scatter\",\n            coordinateSystem: 'geo',\n            symbolSize: 16,\n            // label: { //鼠标移动到点位置显示的内容\n            //     normal:{\n            //         show: true,\n            //         color: '#fff'\n            //     },\n            //     emphasis:{\n            //         show: false\n            //     }\n            // },\n            emphasis:{\n                //选中后高亮\n                itemStyle:{\n                    borderColor: 'rgba(251, 243, 32, 1)',\n                    borderWidth: 1,\n                    shadowColor: 'rgba(251, 243, 32, 1)',\n                    // shadowOffsetX: -10,\n                    // shadowOffsetY: 10,\n                    shadowBlur: 60\n                }\n            },\n            hoverAnimation: true,\n            data: bioMapDataConvert(bioMapDatas)\n        }, {//带光圈的点--在建项目-白色\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            symbolSize: 20,\n            showEffectOn: 'render',\n            rippleEffect:{\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            data: bioMapDataConvert(function(){\n                var res = [];\n                for(var i=0,len=bioMapDatas.length;i<len;i++){\n                    if(bioMapDatas[i].status === \"在建项目\"){\n                        res.push(bioMapDatas[i]);\n                    }\n                }\n                return res;\n            }())\n        }]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-4211500535","theme":"","layout":"","viewCount":274,"userName":"l***9","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQjJB04SHk.png?v=1545379864740","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-scatter"],"customTags":[],"updaterUserName":"l***9"}}