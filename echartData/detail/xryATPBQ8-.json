{"status":0,"data":{"cid":"xryATPBQ8-","authorUid":"bd-2119542016","authorUserName":"北港不暖i","title":"+-+","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2017-07-24T10:11:18.000Z","lastUpdateTime":"2017-07-24T10:11:18.000Z","auth":2,"uid":"bd-2119542016","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"3.6.2","versionCreateTime":"2017-07-25T09:20:12.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1499305663708-ryOT8GsE-.json\";\n\n$.getJSON(uploadedDataURL, function(myJson) {\n    \n    echarts.registerMap('Singapore', myJson);\n    \n    var data = [{\n        name: 'ANG MO KIO',\n        value_0: 95905,\n        value_1: 97718,\n        value_2: 102846\n    },\n    {\n        name: 'BEDOK',\n        value_0: 142284,\n        value_1: 145213,\n        value_2: 152577\n    },\n    {\n        name: 'BISHAN',\n        value_0: 46450,\n        value_1: 47810,\n        value_2: 50074\n    },\n    {\n        name: 'BOON LAY',\n        value_0: 2091,\n        value_1: 2096,\n        value_2: 2159\n    },\n    {\n        name: 'BUKIT BATOK',\n        value_0: 75059,\n        value_1: 76303,\n        value_2: 79855\n    },\n    {\n        name: 'BUKIT MERAH',\n        value_0: 98208,\n        value_1: 99778,\n        value_2: 105413\n    },\n    {\n        name: 'BUKIT PANJANG',\n        value_0: 61145,\n        value_1: 62378,\n        value_2: 65550\n    },\n    {\n        name: 'BUKIT TIMAH',\n        value_0: 30966,\n        value_1: 32621,\n        value_2: 33940\n    },\n    {\n        name: 'GEYLANG',\n        value_0: 81438,\n        value_1: 82504,\n        value_2: 86647\n    },\n    {\n        name: 'KALLANG',\n        value_0: 55590,\n        value_1: 56445,\n        value_2: 59107\n    },\n    {\n        name: 'NOVENA',\n        value_0: 27924,\n        value_1: 28664,\n        value_2: 29993\n    },\n    {\n        name: 'PASIR RIS',\n        value_0: 75620,\n        value_1: 77213,\n        value_2: 82362\n    },\n    {\n        name: 'HOUGANG',\n        value_0: 111605,\n        value_1: 113850,\n        value_2: 119523\n    },\n    {\n        name: 'JURONG EAST',\n        value_0: 47285,\n        value_1: 47958,\n        value_2: 50435\n    },\n    {\n        name: 'LIM CHU KANG',\n        value_0: 86,\n        value_1: 87,\n        value_2: 90\n    },\n    {\n        name: 'MANDAI',\n        value_0: 901,\n        value_1: 922,\n        value_2: 986\n    },\n    {\n        name: 'MARINE PARADE',\n        value_0: 34444,\n        value_1: 35179,\n        value_2: 36445\n    },\n    {\n        name: 'NORTH-EASTERN ISLANDS',\n        value_0: 8,\n        value_1: 9,\n        value_2: 9\n    },\n    {\n        name: 'PIONEER',\n        value_0: 5425,\n        value_1: 5436,\n        value_2: 5647\n    },\n    {\n        name: 'JURONG WEST',\n        value_0: 150343,\n        value_1: 152377,\n        value_2: 160048\n    },\n    {\n        name: 'PAYA LEBAR',\n        value_0: 603,\n        value_1: 603,\n        value_2: 642\n    },\n    {\n        name: 'PUNGGOL',\n        value_0: 40230,\n        value_1: 41135,\n        value_2: 43868\n    },\n    {\n        name: 'QUEENSTOWN',\n        value_0: 47768,\n        value_1: 48696,\n        value_2: 51225\n    },\n    {\n        name: 'SELETAR',\n        value_0: 228,\n        value_1: 239,\n        value_2: 243\n    },\n    {\n        name: 'SEMBAWANG',\n        value_0: 42396,\n        value_1: 43138,\n        value_2: 45823\n    },\n    {\n        name: 'SENGKANG',\n        value_0: 94010,\n        value_1: 95842,\n        value_2: 101354\n    },\n    {\n        name: 'SERANGOON',\n        value_0: 64963,\n        value_1: 66818,\n        value_2: 69960\n    },\n    {\n        name: 'CENTRAL WATER CATCHMENT',\n        value_0: 76,\n        value_1: 77,\n        value_2: 77\n    },\n    {\n        name: 'CHANGI',\n        value_0: 2462,\n        value_1: 2487,\n        value_2: 2789\n    },\n    {\n        name: 'SUNGEI KADUT',\n        value_0: 2023,\n        value_1: 2033,\n        value_2: 2254\n    },\n    {\n        name: 'TAMPINES',\n        value_0: 135510,\n        value_1: 138067,\n        value_2: 146130\n    },\n    {\n        name: 'DOWNTOWN CORE',\n        value_0: 7707,\n        value_1: 7855,\n        value_2: 8280\n    },\n    {\n        name: 'TANGLIN',\n        value_0: 8499,\n        value_1: 9022,\n        value_2: 9301\n    },\n    {\n        name: 'TENGAH',\n        value_0: 14,\n        value_1: 14,\n        value_2: 14\n    },\n    {\n        name: 'TOA PAYOH',\n        value_0: 65672,\n        value_1: 66869,\n        value_2: 70343\n    },\n    {\n        name: 'MARINA EAST',\n        value_0: 2,\n        value_1: 2,\n        value_2: 2\n    },\n    {\n        name: 'WOODLANDS',\n        value_0: 115714,\n        value_1: 117445,\n        value_2: 124503\n    },\n    {\n        name: 'MARINA SOUTH',\n        value_0: 5,\n        value_1: 5,\n        value_2: 5\n    },\n    {\n        name: 'MUSEUM',\n        value_0: 377,\n        value_1: 395,\n        value_2: 399\n    },\n    {\n        name: 'NEWTON',\n        value_0: 2901,\n        value_1: 3132,\n        value_2: 3177\n    },\n    {\n        name: 'CHANGI BAY',\n        value_0: 0,\n        value_1: 0,\n        value_2: 0\n    },\n    {\n        name: 'CHOA CHU KANG',\n        value_0: 87715,\n        value_1: 89174,\n        value_2: 94075\n    },\n    {\n        name: 'CLEMENTI',\n        value_0: 45844,\n        value_1: 46917,\n        value_2: 49001\n    },\n    {\n        name: 'SINGAPORE RIVER',\n        value_0: 1700,\n        value_1: 1764,\n        value_2: 1846\n    },\n    {\n        name: 'STRAITS VIEW',\n        value_0: 5,\n        value_1: 5,\n        value_2: 5\n    },\n    {\n        name: 'SIMPANG',\n        value_0: 36,\n        value_1: 36,\n        value_2: 36\n    },\n    {\n        name: 'SOUTHERN ISLANDS',\n        value_0: 381,\n        value_1: 401,\n        value_2: 440\n    },\n    {\n        name: 'TUAS',\n        value_0: 6068,\n        value_1: 6081,\n        value_2: 6295\n    },\n    {\n        name: 'WESTERN ISLANDS',\n        value_0: 187,\n        value_1: 189,\n        value_2: 201\n    },\n    {\n        name: 'WESTERN WATER CATCHMENT',\n        value_0: 1333,\n        value_1: 1357,\n        value_2: 1440\n    },\n    {\n        name: 'YISHUN',\n        value_0: 94409,\n        value_1: 95844,\n        value_2: 101242\n    },\n    {\n        name: 'ORCHARD',\n        value_0: 1364,\n        value_1: 1430,\n        value_2: 1528\n    },\n    {\n        name: 'OUTRAM',\n        value_0: 20887,\n        value_1: 21182,\n        value_2: 22832\n    },\n    {\n        name: 'RIVER VALLEY',\n        value_0: 6136,\n        value_1: 6587,\n        value_2: 6770\n    },\n    {\n        name: 'ROCHOR',\n        value_0: 10735,\n        value_1: 10854,\n        value_2: 11594\n    }]\n    \n    var resultdata0 = []\n    var resultdata1 = [];\n    var resultdata2 = [];\n    var resultdata3 = [];\n    var resultdata4 = [];\n    var categoryData = [];\n    var emailSum = 0;\n    var smsSum = 0;\n    \n    for (var i = 0; i < data.length; i++) {\n     var d0 = {\n        name: data[i].name,\n        value: data[i].value_0\n    };\n    var d1 = {\n        name: data[i].name,\n        value: data[i].value_1\n    };\n    var d2 = {\n        name: data[i].name,\n        value: data[i].value_2\n    };\n    resultdata0.push(d0);\n    resultdata1.push(d1);\n    resultdata2.push(d2);\n    emailSum += data[i].value_1;\n    smsSum += data[i].value_2;\n    }\n    \n    function NumDescSort(a,b){\n    return a.value-b.value;\n    }\n\n    resultdata0.sort(NumDescSort);\n    resultdata1.sort(NumDescSort);\n    resultdata2.sort(NumDescSort);\n    \n    for(var j = 0; j < 55; j++) {\n        categoryData.push(resultdata1[j].name);\n    }\n    \n    option = {\n        title : {\n            text: 'Email/SMS Subscription',\n            left: 'right'\n        },\n        legend: {\n            orient: 'horizontal',\n            left: 'left',\n            selectedMode: 'single',\n            data: ['emailsub & smssub','emailsub','smssub']\n        },\n        tooltip: {\n            trigger: 'item'\n        },\n        visualMap: {\n            min: 0,\n            max:250000,\n            orient: 'horizontal',\n            left: 'center',\n            top: 'top',\n            calculable: true,\n            dimension: 0\n        },\n        grid: {\n            left: 800,\n            right: 40,\n            top: '10%',\n            bottom: 5\n        },\n        xAxis: [{\n          position: 'top',\n          type: 'value',\n          boundaryGap: false,\n          splitLine: {\n            show: false\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n        }],\n        yAxis: [{\n          type: 'category',\n          data: categoryData,\n          axisTick: {\n            alignWithLabel: true\n          }\n        }],\n        series: [{\n                name: 'emailsub & smssub',\n                type: 'map',\n                map: 'Singapore',\n                left: 100,\n                top: '10%',\n                width: 580,\n                height:380,\n                itemStyle:{\n                    normal:{label:{show:false}},\n                    emphasis:{label:{show:false}}\n                },\n                data: resultdata0\n        },{\n                name: 'emailsub',\n                type: 'map',\n                map: 'Singapore',\n                left: 100,\n                top: '10%',\n                width: 580,\n                height:380,\n                itemStyle:{\n                    normal:{label:{show:false}},\n                    emphasis:{label:{show:false}}\n                },\n                data: resultdata1\n        },\n        {\n                name: 'smssub',\n                type: 'map',\n                map: 'Singapore',\n                left: 'center',\n                top: '15%',\n                width: '70%',\n                height:'55%',\n                itemStyle:{\n                    normal:{label:{show:false}},\n                    emphasis:{label:{show:false}}\n                },\n                data: resultdata2\n        },\n        {\n        name: 'emailsub',\n        type: 'pie',\n        selectedMode: 'single',\n        radius: ['17%', '25%'],\n        center: [220,530],\n        label: {\n            normal: {\n                position: 'outside',\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 14\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            value: 2040214,\n            name: 'Y'\n        }, {\n            value: 100936,\n            name: 'N'\n        }, {\n            value: 83517,\n            name: 'NULL'\n        }]\n    },\n    {\n        name: 'smssub',\n        type: 'pie',\n        selectedMode: 'single',\n        radius: ['17%', '25%'],\n        center: [220,530],\n        label: {\n            normal: {\n                position: 'outside',\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 14\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            value: 2147989,\n            name: 'Y'\n        }, {\n            value: 0,\n            name: 'N'\n        }, {\n            value: 76678,\n            name: 'NULL'\n        }]\n    },\n    {\n        type: 'pie',\n        selectedMode: 'single',\n        radius: ['17%', '25%'],\n        center: [500,530],\n        label: {\n            normal: {\n                position: 'outside',\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 14\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: false\n            }\n        },\n        data: [{\n            value: 2254656,\n            name: 'Valid'\n        },\n        {\n            value: 18388,\n            name: 'Invalid'\n        }]\n    },\n    {\n            name: 'emailsub & smssub',\n            z: 2,\n            type: 'bar',\n            label: {\n            normal: {\n                show: true,\n                position: 'right'\n              },\n            emphasis: {\n                show: true,\n              }\n          },\n          itemStyle: {\n            emphasis: {\n                color: \"rgb(254,153,78)\"\n            }\n        },\n            data: resultdata0\n    },\n    {\n            name: 'emailsub',\n            z: 2,\n            type: 'bar',\n            label: {\n            normal: {\n                show: true,\n                position: 'right'\n              },\n            emphasis: {\n                show: true,\n              }\n          },\n          itemStyle: {\n            emphasis: {\n                color: \"rgb(254,153,78)\"\n            }\n        },\n            data: resultdata1\n        },\n        {\n            name: 'smssub',\n            z: 2,\n            type: 'bar',\n            label: {\n            normal: {\n                show: true,\n                position: 'right'\n              },\n            emphasis: {\n                show: true,\n              }\n          },\n          itemStyle: {\n            emphasis: {\n                color: \"rgb(254,153,78)\"\n            }\n        },\n            data: resultdata2\n        }]\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"bd-2119542016","theme":"dark","layout":"","viewCount":1732,"userName":"北港不暖i","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryATPBQ8-.png?v=1500974412874","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-map","series-pie","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"北港不暖i"}}