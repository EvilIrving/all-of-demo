{"status":0,"data":{"cid":"xaEUw6ulDL","authorUid":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","authorUserName":"泡***_","title":"两个饼图联动示例","description":"饼图联动","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-05T03:12:51.000Z","lastUpdateTime":"2021-08-06T01:21:30.000Z","auth":2,"uid":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-06T01:21:30.000Z","code":"var datapie = [\n    { value: 1048, name: '饼图1' },\n    { value: 735, name: '饼图2' },\n    { value: 580, name: '饼图3' },\n    { value: 484, name: '饼图4' },\n    { value: 300, name: '饼图5' },\n];\nvar datas = [\n    [\n        { value: 148, name: '子项1' },\n        { value: 135, name: '子项2' },\n        { value: 5080, name: '子项3' },\n        { value: 484, name: '子项4' },\n        { value: 300, name: '子项5' },\n        { value: 350, name: '子项6' },\n    ],\n    [\n        { value: 148, name: '子项1' },\n        { value: 135, name: '子项2' },\n        { value: 80, name: '子项3' },\n        { value: 484, name: '子项4' },\n        { value: 300, name: '子项5' },\n    ],\n    [\n        { value: 48, name: '子项1' },\n        { value: 135, name: '子项2' },\n        { value: 850, name: '子项3' },\n        { value: 484, name: '子项4' },\n        { value: 300, name: '子项5' },\n    ],\n    [\n        { value: 148, name: '子项1' },\n        { value: 135, name: '子项2' },\n        { value: 850, name: '子项3' },\n        { value: 384, name: '子项4' },\n        { value: 300, name: '子项5' },\n    ],\n    [\n        { value: 948, name: '子项1' },\n        { value: 135, name: '子项2' },\n        { value: 150, name: '子项3' },\n        { value: 484, name: '子项4' },\n        { value: 300, name: '子项5' },\n    ],\n];\n\noption = {\n    tooltip: {\n        trigger: 'item',\n    },\n    grid: [\n        {\n            x: '7%',\n            y: '7%',\n            width: '38%',\n            height: '38%',\n            tooltip: {\n                trigger: 'axis',\n            },\n        },\n    ],\n    /*legend: {\n         orient: 'vertical',\n         left: 'left',\n    },*/\n    series: [\n        {\n            name: '主饼图',\n            id: 'parentpie',\n            type: 'pie',\n            radius: '30%',\n            seriesLayoutBy: 'column',\n            center: ['25%', '50%'],\n            data: datapie,\n            emphasis: {\n                itemStyle: {\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)',\n                },\n            },\n        },\n        {\n            name: '联动饼图',\n            id: 'pie',\n            type: 'pie',\n            radius: '30%',\n            seriesLayoutBy: 'column',\n            center: ['75%', '50%'],\n            data: datas[0],\n            emphasis: {\n                itemStyle: {\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)',\n                },\n            },\n        },\n    ],\n};\n\n/*\nmyChart.on('updateAxisPointer', function (event) {\n        var xAxisInfo = event.axesInfo[0];\n        console.log(1111111111);\n        console.log(event);\n        if (xAxisInfo) {\n            console.log(3333333333);\n            console.log(xAxisInfo.value);\n            var dimension = xAxisInfo.value + 1;\n            myChart.setOption({\n                series: {\n                    id: 'pie',\n                    label: {\n                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'\n                    },\n                    encode: {\n                        value: dimension,\n                        tooltip: dimension\n                    }\n                }\n            });\n        }\n});\n\n*/\nmyChart.setOption(option);\n\nmyChart.on('mouseover', eConsole); //鼠标移入\n\n//鼠标移入\nfunction eConsole(param) {\n    var j = param.dataIndex; // 获取当前点击索引， //console.log(param);\n    var len = datas.length;\n    for (var i = 0; i < len; i++) {\n        if (i == j && param.seriesId == 'parentpie') {\n            myChart.setOption({\n                series: {\n                    id: 'pie',\n                    data: datas[i],\n                },\n            });\n        }\n    }\n}\n","html":"","externalScripts":"","updaterUID":"obd-oEc70QTGd0ywmAB7Raqv5CBkzdVXZ4N","theme":"default","layout":"","viewCount":0,"userName":"泡***_","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xaEUw6ulDL.png?v=1628212890404","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"泡***_"}}