{"status":0,"data":{"cid":"xSJGtxU4nP","authorUid":"bd-778803181","authorUserName":"187*****536","title":"数据联动","description":"点击直方图，折线图会显示对应的数据","latestVersion":1,"alwaysLatest":1,"createTime":"2019-05-24T05:24:02.000Z","lastUpdateTime":"2019-05-24T05:24:02.000Z","auth":2,"uid":"bd-778803181","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-24T05:24:02.000Z","code":"\nlineRes = {\n    '某某APP1':{\n        xAxisData: ['2019-04-18','2019-04-19','2019-04-20','2019-04-21','2019-04-22','2019-04-23','2019-04-24'],\n        seriesData: [100,250,600,250,300,1000,270]\n    },\n     '某某APP2':{\n        xAxisData: ['2022-04-18','2022-04-19','2019-04-20','2019-04-21','2019-04-22','2019-04-23','2019-04-24'],\n        seriesData: [200,250,1000,250,300,1000,270]\n    },\n     '某某APP3':{\n        xAxisData: ['2033-04-18','2033-04-19','2019-04-20','2019-04-21','2019-04-22','2019-04-23','2019-04-24'],\n        seriesData: [300,250,10,250,300,100,270]\n    },\n     '某某APP4':{\n        xAxisData: ['2044-04-18','2044-04-19','2019-04-20','2019-04-21','2019-04-22','2019-04-23','2019-04-24'],\n        seriesData: [400,25,1000,250,300,1000,27]\n    },\n     '某某APP5':{\n        xAxisData: ['2055-04-18','2055-04-19','2019-04-20','2019-04-21','2019-04-22','2019-04-23','2019-04-24'],\n        seriesData: [50,250,1000,25,300,100,270]\n    }\n}\nbarRes = {\n    yAxisData: ['某某APP1','某某APP2','某某APP3','某某APP4','某某APP5'],\n    seriesData: [120, 132, 101, 134, 190]\n}\n\nlen = barRes.yAxisData.length;\n\ncurLineName = barRes.yAxisData[len-1];\n\nsetCurOption =(lineName)=>{\n    return {\n    title:[\n        {\n            text:'数据联动',\n            x:'center',\n        },\n        {\n            text:lineName,\n            x:'center',\n            top: '50%'\n        }\n    ],\n    tooltip: {\n        trigger: 'axis',\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n        },\n    },\n    xAxis: [\n        {\n            type: 'value',\n        },\n        {\n            type: 'category',\n            boundaryGap: false,\n            data: lineRes[lineName].xAxisData,\n            gridIndex: 1\n        }\n    ],\n    yAxis: [\n        {\n            type : 'category',\n            axisTick : {show: false},\n            data :barRes.yAxisData ,\n        },\n        {\n            splitLine: {show: false},\n            gridIndex: 1\n        }\n    ],\n    grid: [{\n        bottom: '60%'\n    }, {\n        top: '60%'\n    }],\n    series: [\n        {\n            name:'支出',\n            type:'bar',\n            stack: '总量',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right'\n                }\n            },\n            data:barRes.seriesData\n        },\n        {\n            name:'流量使用',\n            type:'line',\n            areaStyle: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    offset: 0,\n                    color: 'rgb(255, 158, 68)'\n                }, {\n                    offset: 1,\n                    color: 'rgb(255, 70, 131)'\n                }])\n            },\n            data: lineRes[lineName].seriesData,\n            xAxisIndex: 1,\n            yAxisIndex: 1\n        }\n    ]\n};\n} \n\n\noption = setCurOption(curLineName)\n\nmyChart.on('click', function(params) {\n     myChart.setOption(setCurOption(params.name));\n})\n","html":"","externalScripts":"","updaterUID":"bd-778803181","theme":"","layout":"","viewCount":140,"userName":"187*****536","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJGtxU4nP.png?v=1558675442644","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"187*****536"}}