{"status":0,"data":{"cid":"xZ82BA_p-A","authorUid":"bd-2843725507","authorUserName":"奋斗小太岁","title":"五大商圈车场停车饱和度","description":"象形图编辑，右边固定顶部显示","latestVersion":1,"alwaysLatest":1,"createTime":"2018-10-25T14:34:07.000Z","lastUpdateTime":"2018-10-25T14:34:07.000Z","auth":1,"uid":"bd-2843725507","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-25T14:34:07.000Z","code":"const fontColor = \"#e5f1ff\";\r\nconst colorArray = ['#1573ac', '#2595d3', '#f2c621', '#f09718', '#eb6712'];\r\nconst titleTextStyle = {\r\n    \"color\": fontColor,\r\n    'fontFamily': 'Microsoft YaHei',\r\n    'fontWeight': 'normal',\r\n    'fontSize': 16\r\n};\r\nlet cheOrange = \"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAB2UlEQVQ4jY3UT0sVYRTH8c+9dzKtSMX+CKNUuq8kKlrVdhb1FiqiTWs3YQPG3fQCegeFizYRVNMmkGhZVAhJERTGWCjZH8rs6s0W86ijoLcDwzw8zHfO7/zOeZ7K6OgoSPMsxnWcQQ3LqKCJp7hZj5NnUA1AN+7hEgZwEIfCewDn8TDNs4FVCFdwDA3MWh9zmMdeDEOleflkBS9wBIuYwmAJ+oBetGMGg1V0Iw4fVBFtyLSMbWHdg/4I29EWNmvo3wAdKJVRQ0eEpbA5hQm8x+dQx+6gYhBDQdViFORUMFKPk9s2iTTPrila0qwqXJsO7mwVe/AGQxGe4wm60jzrQCd2BQVL+ImFIO0+xqN6nHxK82wm6M8C0B6KbgaggUnM1eMkL9v7Dae3kPcy1FZbgebxu0VNDSzW46S54v9f7G8B9QTJ65q28z+gP2VoGuMtoHf4WIYaCse2ijZFC1ahBXS1gDrxi7WJPqWYras4jD5FM78ESa9xHAker0DncKceJzc2S5Pm2QWMYLjcp7Npnk3gLX6EOiPFhPQproJ18r7jKMbw1drRaFMMcm8wYbwMPcKJsO4Oz8ZYxgPW3Lur9Rg1w89XM00q7ruLivO1DzsUrZjFK9wK9foHPFZ7z+O3jw0AAAAASUVORK5CYII=\";\r\nlet cheBackground = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAB2UlEQVQ4jY3Uu2tUQRQG8N8+jK4GkxAfgSRYbK8GUbTx2lpota2LYmedRmJjI/kD/AtWsTALNgqCCFmxVFQCBh+oRAhi8InGmGS9FjM3uS4k64ELc2fmm/Od7zszhTRNQVJvDuMyTqCEFAW08RBXW43aIyikaSqpNwdwD4dym7PI/hdwtNWovSnGhQsRsBwX8/EZi9iNcSgcPzNVwBMcwArmUM2B3mEI2/AR1SIGMBw3FFHuyJRiSxwPYrSMreiJkyWMdoD2xcOy9UoZq3FyDjN4iw+xjp2RRRVjkdVKOdIpYKLVqF23QST15iXBknZRUG0+qrNZ7MILjJXxGA/Qn9SbFfShNzJYxQ8sRWq3MZ2ZewWVyLtXkLckdMOS4N8sXrUatcm8vF+RbELvaaytlIEW8atLTctYaTVq7Uz/P9jbBTQYKf9j2o7/AP3Og+Yx3QX0Gu/zoGVBsc2iR7BgDbSE/i6gPvxkvaOPCR5dxH6MCGZ+ipSe4zBO4n4GOo2brUZtcqM0Sb15FhMYz/t0Kqk3Z/AS32OdZaFDRnC+k943HMQNfLF+NXqERh6KIkznQXdxJI4H4tcZKe6wrt4t3duoHQ9fyzQrvHfnhPu1B9sFKxbwDNdivf4C0Et+79BeMTUAAAAASUVORK5CYII=';\r\nlet cheYellow = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAB30lEQVQ4jY3US2tTQRjG8V/SY22j2IZ6KbTFRRfZqUUSdKVbF34HxZ1rN6IbN34Cv4Hi1o2iIEIRV0FRKdhEi0rFKi3WC+ZY08ZxcSbtMdDGFwbmzDv/mee9zCmEEEDarE3gGk5jAAEFdPAEN0qV+lMohBCkzVoZD3E8t7lr3e8VnChV6m+L0XExAu3ozNsqUhzAJSi0GtUCnuMo1rGI6Rz0HuMYwjKmiyhjIm4oIum5KWBXnI9hKsFuDMbFAUz1QIfjYV3/cIKNuLiIObzD5xjHvqhiGjNR1XoS5RRwpVSp37KNpc3aVVlJOkVZ1pZidnay/WhiJsEzPMZo2qwNYwR7o4IN/MRalHYXs0mpUv+UNmvLUf/9CAzFoDsRaGMeq6VK/WM+vd9wagd5L2JsA10oxa8+MbWxXqrUO938/8GhPtBYlPxP0fb8B/Q7Dy1htg+0gA95qC3L2E42KCvBJrSG0T7QCFpsdfRJWW9dxhFMyor5JUp6hSrO4JEQglajutBqVK+HEGw3Wo3quVaj+iaEIF+ns2mzNofX+BHjTGQdMokLvfK+4xhu46utpzEoa+TxmITZPPQAtTgvx9FrAffy2bujfxt14uGbN83L/nfnZe/rIEqyUqzgJW7GeP0Fpu+hIaqtp+YAAAAASUVORK5CYII=';\r\nlet cheGreen = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAB10lEQVQ4jY3UvWtUQRQF8N9+GI0GkxA/AkmweL0aRNFKWwv9GxRhca3TSGxsJH+AsLitYmFjoyCIsIilohIwqFmVCEEMfqIxZrM+i5mXPBey64UH82bmzD33nDtTSNMU1JvVMVzGCZSQooA2HuFqJak9hkKapurN6jDu41BucxbZ/xKOVpLam2JcuBABq3ExH5+xjN2YgsK1+fMFPMUBtLCAJAd6h1Fsw0ckRQxjLG4ootyRKcWWOB7BRBlb0RcnS5joAO2Lh2Xr/WWsxckFzOItPsQ6dkYWCSYjq1Y50ilgupLUbtgk6s3qJcGSdlFQbTGq0y124SUmy3iChxiqN6v9GMRAZLCGH1iJ1O6gkZl7Bf2R94Agb0nohhXBvzm8riS1mby8X3G8C71nsbZSBlrGrx41raJVSWrtTP8/2NsDNBIp/2Pajv8A/c6DFtHoAZrH+zxoVVCsW/QJFqyDVjDUAzSIn2x09DHBo4vYj3HBzE+R0gscxkk8yECncauS1GY2S1NvVs9gGlN5n07Vm9VZvML3WGdZ6JBxnOuk9w0HcRNfbFyNPqGRR6MIjTzoHo7E8XD8OiPFXTbUu613G7Xj4euZ5oT37qxwv/Zgu2DFEp7jeqzXX0htgLRw8zezAAAAAElFTkSuQmCC';\r\noption = {\r\n    backgroundColor: '#2c343c',\r\n    \"title\": {\r\n        \"text\": \"五大商圈车场停车饱和度\",\r\n        \"left\": \"center\",\r\n        \"y\": \"23\",\r\n        \"textStyle\": titleTextStyle\r\n    },\r\n\r\n    \"grid\": {\r\n        \"left\": \"17%\",\r\n        \"top\": \"22%\",\r\n        'right': \"22%\",\r\n        \"bottom\": 26\r\n    },\r\n    \"tooltip\": {\r\n        \"trigger\": \"item\",\r\n        \"textStyle\": {\r\n            \"fontSize\": 14\r\n        },\r\n        \"formatter\": \"{b0}:{c0}\"\r\n    },\r\n    \"xAxis\": {\r\n        \"max\": 300,\r\n        \"splitLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLabel\": {\r\n            \"show\": false\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": false\r\n        }\r\n    },\r\n    \"yAxis\": [{\r\n            \"type\": \"category\",\r\n            \"inverse\": false,\r\n            \"data\": [\r\n                \"小寨商圈\",\r\n                \"小寨商圈\",\r\n                \"小寨商圈\",\r\n                \"小寨商圈\",\r\n                \"小寨商圈\",\r\n            ],\r\n            \"axisLine\": {\r\n                \"show\": false\r\n            },\r\n            \"axisTick\": {\r\n                \"show\": false\r\n            },\r\n            \"axisLabel\": {\r\n                \"margin\": -10,\r\n                \"textStyle\": {\r\n                    \"color\": fontColor,\r\n                    \"fontSize\": 14\r\n                }\r\n            }\r\n        }\r\n        /*  {\r\n            show: true,\r\n            inverse: true,\r\n            data:  [683, 234, 234, 523, 345],\r\n            axisLabel: {\r\n              \"margin\": 30,\r\n              textStyle: {\r\n                fontSize: 14,\r\n                color: '#fff',\r\n              },\r\n            },\r\n            axisLine: {\r\n              show: false\r\n            },\r\n            splitLine: {\r\n              show: false\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n\r\n          }*/\r\n\r\n    ],\r\n    \"series\": [{\r\n            \"type\": \"pictorialBar\",\r\n            \"symbol\": cheOrange,\r\n            //\"symbol\": \"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAB2UlEQVQ4jY3UT0sVYRTH8c+9dzKtSMX+CKNUuq8kKlrVdhb1FiqiTWs3YQPG3fQCegeFizYRVNMmkGhZVAhJERTGWCjZH8rs6s0W86ijoLcDwzw8zHfO7/zOeZ7K6OgoSPMsxnWcQQ3LqKCJp7hZj5NnUA1AN+7hEgZwEIfCewDn8TDNs4FVCFdwDA3MWh9zmMdeDEOleflkBS9wBIuYwmAJ+oBetGMGg1V0Iw4fVBFtyLSMbWHdg/4I29EWNmvo3wAdKJVRQ0eEpbA5hQm8x+dQx+6gYhBDQdViFORUMFKPk9s2iTTPrila0qwqXJsO7mwVe/AGQxGe4wm60jzrQCd2BQVL+ImFIO0+xqN6nHxK82wm6M8C0B6KbgaggUnM1eMkL9v7Dae3kPcy1FZbgebxu0VNDSzW46S54v9f7G8B9QTJ65q28z+gP2VoGuMtoHf4WIYaCse2ijZFC1ahBXS1gDrxi7WJPqWYras4jD5FM78ESa9xHAker0DncKceJzc2S5Pm2QWMYLjcp7Npnk3gLX6EOiPFhPQproJ18r7jKMbw1drRaFMMcm8wYbwMPcKJsO4Oz8ZYxgPW3Lur9Rg1w89XM00q7ruLivO1DzsUrZjFK9wK9foHPFZ7z+O3jw0AAAAASUVORK5CYII=\",\r\n            \"symbolRepeat\": \"fixed\",\r\n            \"symbolMargin\": \"13%\",\r\n            \"symbolClip\": true,\r\n            \"symbolSize\": [13, 25],\r\n            \"symbolPosition\": \"start\",\r\n            \"symbolOffset\": [\r\n                20,\r\n                0\r\n            ],\r\n            \"symbolBoundingData\": 300,\r\n            \"data\": [\r\n                13,\r\n                42,\r\n                67,\r\n                81,\r\n                {\r\n                    \"symbol\": cheYellow,\r\n                    'value': 22\r\n                }\r\n            ],\r\n            \"z\": 10\r\n        },\r\n        {\r\n            \"type\": \"pictorialBar\",\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    // \"opacity\": 0.3\r\n                }\r\n            },\r\n            \"label\": {\r\n                \"normal\": {\r\n                    show: true,\r\n                    formatter: function(params) {\r\n                        return (params.value / 300 * 100).toFixed(1) + ' %';\r\n                    },\r\n                    position: 'right',\r\n                    offset: [5, 0],\r\n                    // margin: 30,\r\n                    textStyle: {\r\n                        fontSize: 14,\r\n                        color: fontColor\r\n                    },\r\n                }\r\n            },\r\n            \"animationDuration\": 0,\r\n            \"symbolRepeat\": \"fixed\",\r\n            \"symbolMargin\": \"13%\",\r\n            \"symbol\": cheBackground,\r\n            \"symbolSize\": [13, 25],\r\n            \"symbolBoundingData\": 300,\r\n            \"symbolPosition\": \"start\",\r\n            \"symbolOffset\": [\r\n                20,\r\n                0\r\n            ],\r\n            \"data\": [\r\n                13,\r\n                42,\r\n                67,\r\n                81,\r\n                86,\r\n            ],\r\n            \"z\": 5\r\n        }\r\n    ]\r\n}\r\n\r\nconst maxData = 300;\r\nsetInterval(function() {\r\n    let dynamicData = [random(), random(), random(), random(), random()];\r\n    let mock = dynamicData.slice();\r\n    let data = [],\r\n        bgData = [],\r\n        textData = [];\r\n    /*{\r\n      \"symbol\": '',\r\n      'value':''\r\n    };*/\r\n    /*50= - 80= 黄色\r\n     * 50以下 绿色\r\n     * 80以上 红色\r\n     * (params.value / 300 * 100).toFixed(1) + ' %';\r\n     * */\r\n    let s = 0;\r\n    for (let i in mock) {\r\n        s = (mock[i] / maxData * 100).toFixed(1);\r\n        if (s >= 50 && s <= 80) {\r\n            data.push({\r\n                value: mock[i],\r\n                symbol: cheYellow\r\n            });\r\n            textData.push({\r\n                value: mock[i],\r\n                textStyle: {\r\n                    color: 'Yellow'\r\n                }\r\n            });\r\n        } else if (s < 50) {\r\n            data.push({\r\n                value: mock[i],\r\n                symbol: cheGreen\r\n            });\r\n            textData.push({\r\n                value: mock[i],\r\n                textStyle: {\r\n                    color: 'Green'\r\n                }\r\n            });\r\n        } else if (s > 80) {\r\n            data.push({\r\n                value: mock[i],\r\n                symbol: cheOrange\r\n            });\r\n            textData.push({\r\n                value: mock[i],\r\n                textStyle: {\r\n                    color: 'Orange'\r\n                }\r\n            });\r\n        }\r\n        bgData.push(mock[i]);\r\n    }\r\n    myChart.setOption({\r\n        /* yAxis:[{},{data:textData.reverse()}],*/\r\n        series: [{\r\n            data: data\r\n        }, {\r\n            data: bgData\r\n        }]\r\n    })\r\n}, 3000);\r\n\r\nfunction random() {\r\n    return +(Math.random() * (maxData - 10)).toFixed(1);\r\n}","html":"","externalScripts":"","updaterUID":"bd-2843725507","theme":"","layout":"","viewCount":1774,"userName":"奋斗小太岁","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZ82BA_p-A.png?v=1540478047710","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pictorialBar","title","tooltip"],"customTags":[],"updaterUserName":"奋斗小太岁"}}