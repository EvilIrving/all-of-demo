{"status":0,"data":{"cid":"xyvF5MrOm","authorUid":"bd-1974024434","authorUserName":"华***地","title":"","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-12-22T17:05:34.000Z","lastUpdateTime":"2019-12-22T17:05:34.000Z","auth":1,"uid":"bd-1974024434","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-22T17:05:34.000Z","code":"var geoCoordMap = {\n    北京: [116.4551, 40.2539],\n    德国: [13.2, 52.31],\n};\nvar BJData = [\n\n\n    [{\n        name: \"德国\",\n        value: 150\n    }, {\n        name: \"北京\"\n    }]\n];\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[1].name];\n        var toCoord = geoCoordMap[dataItem[0].name];\n        if (fromCoord && toCoord) {\n            res.push([{\n                    coord: fromCoord,\n                    value: dataItem[0].value\n                },\n                {\n                    coord: toCoord\n                }\n            ]);\n        }\n    }\n    return res;\n};\n\nvar series = [];\n[\n    [\"北京\", BJData]\n].forEach(function(item, i) {\n    series.push({\n            type: \"lines\",\n            zlevel: 1,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0.7,\n                color: '#fff',\n                symbolSize: 3\n            },\n            lineStyle: {\n                normal: {\n                    color: '#3ed4ff',\n                    width: 0,\n                    curveness: 0.2\n                }\n            },\n            data: convertData(item[1])\n        }, {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 2,\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}'\n                }\n            },\n            symbolSize: function(val) {\n                return val[2] / 8; //圆环大小\n            },\n            itemStyle: {\n                normal: {\n                    color: '#3ed4ff',\n                }\n            },\n            data: item[1].map(function(dataItem) {\n                return {\n                    name: dataItem[0].name,\n                    value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n                };\n            })\n        },\n        //被攻击点\n        {\n            type: \"effectScatter\",\n            coordinateSystem: \"geo\",\n            zlevel: 2,\n            rippleEffect: {\n                period: 4,\n                brushType: \"stroke\",\n                scale: 4\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: \"right\",\n                    formatter: \"{b}\",\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            symbolSize: function(val) {\n                return val[2] / 8; //圆环大小\n            },\n            itemStyle: {\n                normal: {\n                    color: '#3ed4ff',\n                }\n            },\n            data: [{\n                name: item[0],\n                value: geoCoordMap[item[0]].concat([100])\n            }]\n        }\n    );\n});\n\noption = {\n    backgroundColor: '#080a20',\n    visualMap: {\n        //图例值控制\n        min: 0,\n        max: 10000,\n        show: false,\n        calculable: true,\n        color: [\"#0bc7f3\"],\n        textStyle: {\n            color: \"#fff\"\n        },\n    },\n    geo: {\n        map: \"world\",\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: false, //是否允许缩放\n        layoutCenter: [\"-5%\", \"90%\"], //地图位置\n        layoutSize: \"380%\",\n        itemStyle: {\n            normal: {\n                areaColor: '#132937',\n                borderColor: '#0692a4'\n            },\n            emphasis: {\n                areaColor: '#0b1c2d'\n            }\n        }\n    },\n\n    series: series\n};","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,/dep/echarts/map/js/world.js","updaterUID":"bd-1974024434","theme":"","layout":"","viewCount":210,"userName":"华***地","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyvF5MrOm.png?v=1577034335153","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","visualMap"],"customTags":[],"updaterUserName":"华***地"}}