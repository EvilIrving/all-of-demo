{"status":0,"data":{"cid":"xcKwzLUXzY","authorUid":"obd-o2pLFbsgpOsmKddigccXbTX7T_Can6e","authorUserName":"l***y","title":"三级仪表盘-天气情况","description":"三个关联指数","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-03T02:15:57.000Z","lastUpdateTime":"2020-11-03T02:15:57.000Z","auth":2,"uid":"obd-o2pLFbsgpOsmKddigccXbTX7T_Can6e","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-03T02:15:57.000Z","code":"var fontSize = (val) => {\r\n    return val\r\n}\r\n$.getJSON(\"https://www.tianqiapi.com/free/day?appid=47966982&appsecret=7Yxw2AO0&city=北京\", (json) => {\r\n    let air = parseInt(json.air)\r\n    let tem = parseInt(json.tem)\r\n    let winSpeed = parseInt(json.win_speed)\r\n    let option = {\r\n        backgroundColor: '#012248',\r\n        tooltip: {\r\n            formatter: '{a} : {c}' // 修改格式\r\n        },\r\n        series: [{\r\n                name: '空气指数',\r\n                title: {\r\n                    color: '#fff'\r\n                },\r\n                type: 'gauge',\r\n                // radius: fontSize(58)+'rem',\r\n                radius: '31%',\r\n                center: ['25%', '60%'],\r\n                min: 0,\r\n                max: 500,\r\n                endAngle: 45,\r\n                splitNumber: 5,\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        width: fontSize(5)\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    length: fontSize(9), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    distance: fontSize(2)\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: fontSize(12), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                pointer: {\r\n                    width: fontSize(3)\r\n                },\r\n                data: [{\r\n                    value: air,\r\n                    name: '空气指数'\r\n                }],\r\n                detail: {\r\n                    formatter: function(value) {\r\n                        if (value !== 0) {\r\n                            var num = Math.round(value)\r\n                            return '空气指数：' + parseInt(num).toFixed(0)\r\n                        } else {\r\n                            return 0\r\n                        }\r\n                    },\r\n                    offsetCenter: [0, '110%'],\r\n                    textStyle: {\r\n                        fontSize: fontSize(14),\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                name: '温度',\r\n                title: {\r\n                    color: '#fff'\r\n                },\r\n                type: 'gauge',\r\n                center: ['50%', '50%'],\r\n                // radius: fontSize(70)+'rem',\r\n                radius: '50%',\r\n                min: -10,\r\n                max: 50,\r\n                splitNumber: 6,\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        width: fontSize(5)\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    splitNumber: 10,\r\n                    length: fontSize(10), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: fontSize(15), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    backgroundColor: 'auto',\r\n                    borderRadius: fontSize(2),\r\n                    color: '#eee',\r\n                    padding: fontSize(3),\r\n                    textShadowBlur: fontSize(2),\r\n                    textShadowOffsetX: fontSize(1),\r\n                    textShadowOffsetY: fontSize(1),\r\n                    textShadowColor: '#222'\r\n                },\r\n                detail: {\r\n                    formatter: function(value) {\r\n                        if (value !== 0) {\r\n                            var num = Math.round(value)\r\n                            return '温度：' + parseInt(num).toFixed(0) + '°C'\r\n                        } else {\r\n                            return 0\r\n                        }\r\n                    },\r\n                    offsetCenter: [0, '110%'],\r\n                    textStyle: {\r\n                        fontSize: fontSize(14),\r\n                        color: '#fff'\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: tem,\r\n                    name: '温度'\r\n                }],\r\n                pointer: {\r\n                    width: fontSize(5) // 指针粗细\r\n                }\r\n            },\r\n            {\r\n                name: '风级',\r\n                title: {\r\n                    color: '#fff'\r\n                },\r\n                type: 'gauge',\r\n                center: ['75%', '56%'],\r\n                // radius: fontSize(45)+'rem',\r\n                radius: '30%',\r\n                min: 0,\r\n                max: 10,\r\n                startAngle: 135,\r\n                endAngle: 45,\r\n                splitNumber: 2,\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        width: fontSize(5)\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    splitNumber: 5,\r\n                    length: fontSize(9), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    distance: fontSize(2)\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: fontSize(12), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                pointer: {\r\n                    width: fontSize(2)\r\n                },\r\n                data: [{\r\n                    value: winSpeed,\r\n                    name: '风级'\r\n                }],\r\n                detail: {\r\n                    show: false\r\n                }\r\n            },\r\n            {\r\n                name: '风级',\r\n                title: {\r\n                    color: '#fff'\r\n                },\r\n                type: 'gauge',\r\n                center: ['75%', '56%'],\r\n                // radius: fontSize(45)+'rem',\r\n                radius: '30%',\r\n                min: 0,\r\n                max: 10,\r\n                startAngle: 315,\r\n                endAngle: 225,\r\n                splitNumber: 2,\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        width: fontSize(5)\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    splitNumber: 5,\r\n                    length: fontSize(9), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    distance: fontSize(2)\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: fontSize(12), // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        color: 'auto'\r\n                    }\r\n                },\r\n                pointer: {\r\n                    width: fontSize(2)\r\n                },\r\n                data: [{\r\n                    value: winSpeed,\r\n                    name: '风级'\r\n                }],\r\n                detail: {\r\n                    formatter: function(value) {\r\n                        if (value !== 0) {\r\n                            var num = Math.round(value)\r\n                            return '风级：' + parseInt(num).toFixed(0) + '级'\r\n                        } else {\r\n                            return '风级：' + 0 + '级'\r\n                        }\r\n                    },\r\n                    offsetCenter: [0, '140%'],\r\n                    textStyle: {\r\n                        fontSize: fontSize(14),\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n    myChart.setOption(option)\r\n})","html":"","externalScripts":"","updaterUID":"obd-o2pLFbsgpOsmKddigccXbTX7T_Can6e","theme":"","layout":"","viewCount":1302,"userName":"l***y","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcKwzLUXzY.png?v=1604369758038","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","tooltip"],"customTags":[],"updaterUserName":"l***y"}}