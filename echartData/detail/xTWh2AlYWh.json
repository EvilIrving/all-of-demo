{"status":0,"data":{"cid":"xTWh2AlYWh","authorUid":"obd-o2rTAvCX0ZxPDSFaGfTKgmNwjS8YB6R","authorUserName":"1***9","title":"嵌套圆环","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-20T06:47:56.000Z","lastUpdateTime":"2021-07-20T06:47:56.000Z","auth":2,"uid":"obd-o2rTAvCX0ZxPDSFaGfTKgmNwjS8YB6R","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-20T06:47:56.000Z","code":"\r\nvar list = [\r\n        {\r\n            name:'60-70',\r\n            value:3\r\n        },\r\n        {\r\n            name:'70-80',\r\n            value:2\r\n        },\r\n        {\r\n            name:'80-90',\r\n            value:3\r\n        },\r\n        {\r\n            name:'90-100',\r\n            value:4\r\n        },\r\n         {\r\n            name:'100以上',\r\n            value:5\r\n        }\r\n    ]\r\nvar sum = 0;\r\n list.forEach((item,index)=>{\r\n    sum+=item.value;\r\n})\r\nvar seri = [];\r\nfunction coup(i){\r\n    console.log(i)\r\n    if(i === 0){\r\n        return 0;\r\n    }else{\r\n        var sum2 = 0;\r\n        list.forEach((item,index)=>{\r\n            if(index >= i) return;\r\n            sum2+=item.value;\r\n        })\r\n        \r\n        console.log(i,sum2,sum,(sum2/sum)*360)\r\n        return (sum2/sum)*360\r\n    }\r\n    \r\n}\r\nlist.forEach((item,index)=>{\r\n    seri.push({\r\n        name: item.name,\r\n        type: 'pie',\r\n        radius: [((index+1)*'6')+'%', ((index+1)*'6')+2.5+'%'],\r\n        label: false,\r\n        \r\n        // startAngle: 24,\r\n        startAngle: coup(index),\r\n        clockWise: false, //顺时加载\r\n        hoverAnimation: true,\r\n        hoverOffset: 3,\r\n        itemStyle:{\r\n            normal: {\r\n                label: {\r\n                    show: true,\r\n                    color: '#65D5FF',\r\n                    fontSize: 18,\r\n                },\r\n                labelLine: {\r\n                    //smooth: 0.2,\r\n                    length: 80,\r\n                    length2: 80\r\n                },\r\n            }\r\n        },\r\n        data: [{\r\n                value: item.value,\r\n                name: item.name,\r\n                itemStyle: {\r\n                    color:'#0DDCFB',\r\n                    shadowColor:'rgba(0, 224, 255, 0.4)',\r\n                    shadowBlur:24\r\n                },\r\n                label:{\r\n                    show: true,\r\n                    color: '#65D5FF',\r\n                    fontSize: 16,\r\n                    formatter: [\r\n                         '{b| {b} }',\r\n                          '{c| {c}}人',\r\n                        '{d| {d}% }',\r\n                       \r\n                    ].join(' '),\r\n                    rich: {\r\n                        d: {\r\n                        },\r\n                        b: {\r\n                        },\r\n                    }\r\n                    }\r\n                \r\n            },\r\n            {\r\n                value: sum,\r\n                hoverAnimation: false, //鼠标移入变大\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(0, 151, 251, 0.19)',\r\n                         shadowColor:'rgba(0, 224, 255, 0.4)',\r\n                        shadowBlur:24,\r\n                        label: {\r\n                            show: false\r\n                        },\r\n                        labelLine: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        color: 'rgba(0, 151, 251, 0.09)'\r\n                    }\r\n                },\r\n                labelLine:{\r\n                    show:false\r\n                },\r\n                label:{\r\n                    show:false\r\n                }\r\n            }\r\n\r\n        ]\r\n    })\r\n})\r\noption = {\r\n    backgroundColor: '#002D54',\r\n    textStyle: {\r\n        fontSize: 16,\r\n        color: '#40E7F4 '\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{a} : {c} ({d}%)\"\r\n    },\r\n   \r\n    series: seri\r\n};","html":"","externalScripts":"","updaterUID":"obd-o2rTAvCX0ZxPDSFaGfTKgmNwjS8YB6R","theme":"","layout":"","viewCount":0,"userName":"1***9","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTWh2AlYWh.png?v=1626763677084","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"1***9"}}