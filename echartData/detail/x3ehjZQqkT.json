{"status":0,"data":{"cid":"x3ehjZQqkT","authorUid":"bd-3527977352","authorUserName":"136*****226","title":"使用svg","description":"使用svg描述任务","latestVersion":12,"alwaysLatest":0,"createTime":"2021-12-29T02:47:46.000Z","lastUpdateTime":"2021-12-29T08:38:24.000Z","auth":1,"uid":"bd-3527977352","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":12,"parentVersion":11,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-29T08:27:46.000Z","code":"$.get('/asset/get/s/data-1640758292996-hAHk8Bw2O.svg', function (svg) {\n  echarts.registerMap('IBS', { svg: svg });\n  //选中状态改变颜色，加阴影\n  var year = ['任务1', '任务2', '任务3', '任务4', '任务5', '任务6', '任务7', '任务8'];\n  var processflag = '正常';\n  var itemStyle = {\n    color: '#FFF',\n    borderColor: '#CD2990',\n    borderWidth: 1.5,\n  };\n  option = {\n     \n    timeline: {\n      data: year,\n      axisType: 'category',\n      autoPlay: true,\n      playInterval: 3000,\n      left: '10%',\n      right: '10%',\n      bottom: '10%',\n      width: '80%',\n      label: {\n        normal: {\n          textStyle: {\n            color: '#ddd',\n          },\n        },\n        emphasis: {\n          textStyle: {\n            color: '#fff',\n          },\n        },\n      },\n      symbolSize: 10,\n      lineStyle: {\n        color: '#555',\n      },\n      checkpointStyle: {\n        borderColor: '#777',\n        borderWidth: 2,\n      },\n      controlStyle: {\n        showNextBtn: true,\n        showPrevBtn: true,\n        normal: {\n          color: '#666',\n          borderColor: '#666',\n        },\n        emphasis: {\n          color: '#aaa',\n          borderColor: '#aaa',\n        },\n      },\n    },\n    baseOption: {\n      title: [\n        {\n          text: '任务测试',\n          x: 'center',\n          top: '5%',\n          textStyle: {\n            fontWeight: 'normal', //标题颜色\n            color: '#FFF',\n            fontSize: 28,\n          },\n        },\n      ],\n      tooltip: {},\n      backgroundColor: '#100c2a',\n      geo: {\n        top: '10%',\n        bottom: '20%',\n        map: 'IBS',\n        selectedMode: 'multiple',\n        emphasis: {\n          focus: 'self',\n          itemStyle: {\n            color: undefined,\n            borderColor: 'green',\n            borderWidth: 2,\n          },\n          label: {\n            show: false,\n            position: 'bottom',\n            distance: 0,\n            textBorderColor: '#fff',\n            textBorderWidth: 2,\n          },\n        },\n        blur: {},\n        select: {\n          itemStyle: itemStyle, //改变选中状态的初始值\n          label: {\n            show: false,\n            textBorderColor: '#4B0082',\n            textBorderWidth: 2,\n          },\n        },\n      },\n\n      series: [\n        {\n          type: 'scatter',\n          name: '任务1',\n          id: 'sca_filesystem',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|任务1}{abg|}',\n                '{ColumnHead|类型}{ColumnHead|值}{ColumnHead|结果}',\n                '{hr|}',\n                '{value|最大}{value|90%}\t\t{value|正常}',\n                '{value|最小}{value|54%}\t\t{value|正常}',\n                '{hr|}',\n                '{ColumnHead|结果}{value|正常}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务2',\n          id: 'sca_ercy',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|任务2}{abg|}',\n                '{ColumnHead|类型}{ColumnHead|成功}{ColumnHead|失败}',\n                '{hr|}',\n                '{value|A}{value|2342}\t\t{value|0}',\n                '{value|B}{value|623}\t\t{value|23}',\n                '{value|C}{value|32}\t\t{value|0}',\n                '{hr|}',\n                '{ColumnHead|状态}{value|完成}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 10, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务3',\n          id: 'sca_process',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|任务3}{abg|}',\n                '{ColumnHead|库}{ColumnHead|地址}{ColumnHead|结果}',\n                '{hr|}',\n                '{value|A}{value|北京}\t\t{value|正常}',\n                '{value|B}{value|上海}\t\t{value|正常}',\n                '{value|C}{value|武汉}\t\t{value|正常}',\n                '{hr|}',\n                '{ColumnHead|检查}{value|正常}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务4',\n          id: 'sca_acnts',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|总结}{abg|}',\n                '{ColumnHead|类型}{ColumnHead|时间}',\n                '{hr|}',\n                '{value|冷冻}{TMvalue|20211228105632}',\n                '{hr|}',\n                '{ColumnHead|结果}{value|完成}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 30,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                TMvalue: {\n                  width: 80,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务5',\n          id: 'sca_cdr',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|流程1}{abg|}',\n                '{ColumnHead|类型}{ChgColumnHead|金额(元)}{ColumnHead|上月环比}',\n                '{value|熟食}{Moneyvalue|238823.32}\t\t{value|32%}',\n                '{value|冷货}{Moneyvalue|8232}\t\t{value|23%}',\n                '{hr|}',\n                '{ColumnHead|食品统计}{value|完成,}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                ChgColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                Moneyvalue: {\n                  width: 40,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务6',\n          id: 'sca_rent',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|物料}{abg|}',\n                '{ColumnHead|类型}{ChgColumnHead|金额(元)}{ColumnHead|上月环比}',\n                '{value|门店}{Moneyvalue|42323.23}\t\t{value|104%}',\n                '{value|档口}{Moneyvalue|7342}\t\t{value|98%}',\n                '{hr|}',\n                '{ColumnHead|物料统计}{value|完成,}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                ChgColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                Moneyvalue: {\n                  width: 40,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务7',\n          id: 'sca_sumacnts',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|汇总}{abg|}',\n                '{ColumnHead|类型}{ChgColumnHead|金额(元)}{ColumnHead|上月环比}',\n                '{value|食品}{Moneyvalue|324293.23}\t\t{value|87%}',\n                '{value|物料}{Moneyvalue|78762}\t\t{value|76%}',\n                '{hr|}',\n                '{ColumnHead|总金额}{value|1238928.92,}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                ChgColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 20,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                Moneyvalue: {\n                  width: 40,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 40, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n        {\n          name: '任务8',\n          id: 'sca_dispsum',\n          type: 'scatter',\n          data: [],\n          symbolSize: 1,\n          label: {\n            normal: {\n              show: true,\n              formatter: [\n                '{title|通知}{abg|}',\n                '{ColumnHead|类型}{ColumnHead|时间}',\n                '{hr|}',\n                '{value|放假通知}{TMvalue|20211229105823}',\n                '{hr|}',\n              ].join('\\n'),\n              backgroundColor: '#eee',\n              borderColor: 'rgb(199,86,83)',\n              borderWidth: 1,\n              borderRadius: 4,\n              padding: 5,\n              shadowBlur: 10,\n              shadowColor: '#000',\n              shadowOffsetX: 3,\n              shadowOffsetY: 3,\n              rich: {\n                title: {\n                  color: '#eee',\n                  align: 'center',\n                },\n                abg: {\n                  backgroundColor: '#333',\n                  width: '100%',\n                  align: 'right',\n                  height: 30,\n                  borderRadius: [4, 4, 0, 0],\n                },\n                ColumnHead: {\n                  color: '#333',\n                  height: 24,\n                  padding: [0, 20, 0, 30],\n                  align: 'left',\n                },\n                hr: {\n                  borderColor: '#777',\n                  width: '100%',\n                  borderWidth: 0.5,\n                  height: 0,\n                },\n                value: {\n                  width: 40,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 0, 0, 30],\n                  align: 'left',\n                },\n                TMvalue: {\n                  width: 80,\n                  height: 20,\n                  color: 'rgb(199,86,83)',\n                  padding: [0, 80, 0, 30],\n                  align: 'left',\n                },\n              },\n            },\n          },\n        },\n      ],\n      xAxis: {\n        axisLabel: { show: false },\n        axisLine: { show: false },\n        splitLine: { show: false },\n        axisTick: { show: false },\n        min: -1,\n        max: 1,\n      },\n      yAxis: {\n        axisLabel: { show: false },\n        axisLine: { show: false },\n        splitLine: { show: false },\n        axisTick: { show: false },\n        min: -1,\n        max: 1,\n      },\n    },\n    options: [],\n  };\n  for (var n = 0; n < year.length; n++) {\n    option.options.push({\n      title: [\n        {},\n        {\n          text: year[n] + ': 【20211229】',\n          x: 'center',\n          top: '9%',\n          textStyle: {\n            color: '#FFA54F',\n            fontSize: 15,\n          },\n        },\n      ],\n    });\n  }\n  myChart.setOption(option);\n  myChart.on('geoselectchanged', function (params) {\n    console.log(params.allSelected[0].name.slice().indexOf('任务1'));\n    console.log(params);\n\n    if (params.allSelected[0].name.slice().indexOf('任务1') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_filesystem',\n              data: [[-0.9, 0.8]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_filesystem',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n\n    if (params.allSelected[0].name.slice().indexOf('任务2') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_ercy',\n              data: [[-0.9, 0]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_ercy',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务3') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_process',\n              data: [[-0.9, 0.4]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_process',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务4') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_acnts',\n              data: [[-0.9, -0.4]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_acnts',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务5') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_cdr',\n              data: [[0.9, 0.8]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_cdr',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务6') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_rent',\n              data: [[0.9, 0.4]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_rent',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务7') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_sumacnts',\n              data: [[0.9, 0.0]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_sumacnts',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n    if (params.allSelected[0].name.slice().indexOf('任务8') >= 0) {\n      console.log('selected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_dispsum',\n              data: [[0.9, -0.4]],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    } else {\n      console.log('unselected');\n      myChart.setOption(\n        {\n          series: [\n            {\n              id: 'sca_dispsum',\n              data: [],\n            },\n          ],\n        },\n        { replaceMerge: 'data' }\n      );\n    }\n  });\n  myChart.on('mouseover', { seriesIndex: 0 }, function (event) {\n    myChart.dispatchAction({\n      type: 'highlight',\n      geoIndex: 0,\n      name: event.name,\n    });\n    console.log('selected', event.name);\n  });\n  myChart.on('mouseout', { seriesIndex: 0 }, function (event) {\n    myChart.dispatchAction({\n      type: 'downplay',\n      geoIndex: 0,\n      name: event.name,\n    });\n  });\n});\n","html":"","externalScripts":"","updaterUID":"bd-3527977352","theme":"default","layout":"","viewCount":0,"userName":"136*****226","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x3ehjZQqkT.png?v=1640767104918","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"136*****226"}}