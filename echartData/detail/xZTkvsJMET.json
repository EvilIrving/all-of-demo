{"status":0,"data":{"cid":"xZTkvsJMET","authorUid":"obd-ojL2mqX1YXYEtgRNJvqU71-CBWq40EQ","authorUserName":"k***瑶","title":"电池图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-02T06:21:19.000Z","lastUpdateTime":"2021-11-02T06:21:19.000Z","auth":2,"uid":"obd-ojL2mqX1YXYEtgRNJvqU71-CBWq40EQ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-02T06:21:19.000Z","code":"\r\n            \r\n            var category= [\r\n                {\r\n                    name: \"林地侵占\",\r\n                    value: 3\r\n                },\r\n                {\r\n                    name: \"草地侵占\",\r\n                    value: 6\r\n                },\r\n                {\r\n                    name: \"水体侵占\",\r\n                    value: 7\r\n                },\r\n                {\r\n                    name: \"建筑物侵占\",\r\n                    value: 10\r\n                },\r\n                {\r\n                    name: \"其他\",\r\n                    value: 12\r\n                }\r\n            ] // 类别\r\n            var total = 0; // 数据总数\r\n            \r\n            category.forEach(item=>{\r\n                total += item.value;\r\n            })\r\n            total = 15; // 数据总数\r\n            var totalList = [];\r\n            // var totalList = this.echartData.length;\r\n\r\n            var datas = [];\r\n            category.forEach(value => {\r\n                datas.push(value.value);\r\n                totalList.push(total);\r\n            });\r\noption = {\r\n                xAxis: {\r\n                    max: total,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: false,\r\n                        // fontSize: 10,\r\n                        // color: '#cacdd5',\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                },\r\n                grid: {\r\n                    left: 95,\r\n                    top: 5, // 设置条形图的边距\r\n                    right: 65,\r\n                    bottom: 5,\r\n                    containLabel: true\r\n                },\r\n                yAxis: [{\r\n                    type: \"category\",\r\n                    inverse: true,\r\n                    data: category,\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: false\r\n                    },\r\n                }],\r\n                series: [\r\n                    {\r\n                        // 内\r\n                        type: \"bar\",\r\n                        barWidth: 16,\r\n                        silent: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#009cd6\"\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: \"{b}\",\r\n                                textStyle: {\r\n                                    color: \"#6f7178\",\r\n                                    fontSize: 14\r\n                                },\r\n                                position: 'left',\r\n                                distance: 10, // 向右偏移位置\r\n                                show: true\r\n                            }\r\n                        },\r\n                        data: category,\r\n                        z: 1,\r\n                        animationEasing: \"elasticOut\"\r\n                    },\r\n                    {\r\n                        // 分隔\r\n                        type: \"pictorialBar\",\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"#fff\"\r\n                            }\r\n                        },\r\n                        symbolRepeat: \"fixed\",\r\n                        symbolMargin: 2,\r\n                        symbol: \"rect\",\r\n                        symbolClip: true,\r\n                        symbolSize: [3, 16],\r\n                        symbolPosition: \"start\",\r\n                        symbolOffset: [1, -1],\r\n                        symbolBoundingData: this.total,\r\n                        data: totalList,\r\n                        z: 2,\r\n                        animationEasing: \"elasticOut\",\r\n                    },\r\n                    {\r\n                        // label\r\n                        type: \"pictorialBar\",\r\n                        symbolBoundingData: total,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: \"none\"\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                formatter: (params) => {\r\n                                    var text;\r\n                                    text = '{f| ' + params.data  + '}';\r\n                                    return text;\r\n                                },\r\n                                rich: {\r\n                                    f: {\r\n                                        color: \"#009cd6\",\r\n                                        fontSize: 16\r\n                                    }\r\n                                },\r\n                                position: 'right',\r\n                                distance: 5, // 向右偏移位置\r\n                                show: true\r\n                            }\r\n                        },\r\n                        data: datas,\r\n                        z: 0,\r\n\r\n                    },\r\n                    {\r\n                        name: \"外框\",\r\n                        type: \"bar\",\r\n                        barGap: \"-111%\", // 设置外框粗细\r\n                        data: totalList,\r\n                        barWidth: 20,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                // barBorderRadius: [5, 5, 5, 5],\r\n                                color: \"transparent\", // 填充色\r\n                                barBorderColor: \"#009cd6\", // 边框色\r\n                                barBorderWidth: 1, // 边框宽度\r\n                            }\r\n                        },\r\n                        z: 3\r\n                    },\r\n\r\n                ]\r\n            };","html":"","externalScripts":"","updaterUID":"obd-ojL2mqX1YXYEtgRNJvqU71-CBWq40EQ","theme":"","layout":"","viewCount":0,"userName":"k***瑶","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZTkvsJMET.png?v=1635834079152","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":["电池图"],"updaterUserName":"k***瑶"}}