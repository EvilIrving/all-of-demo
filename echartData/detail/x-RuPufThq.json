{"status":0,"data":{"cid":"x-RuPufThq","authorUid":"obd-oCytk-iscqjAoQgpI34LAUX1d2UkM3Y","authorUserName":"1***4","title":"地图+路线图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-11-20T06:59:25.000Z","lastUpdateTime":"2020-11-20T06:59:25.000Z","auth":2,"uid":"obd-oCytk-iscqjAoQgpI34LAUX1d2UkM3Y","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-20T10:22:09.000Z","code":"var busLinesJson = \"/asset/get/s/data-1605853143935-Y5HfEEL1S.json\";\n\nvar busLinesJson = \"/asset/get/s/data-1605854399666-LnnDTJC97.json\";\n\nvar uploadedDataURL = \"/asset/get/s/data-1605853253903-nBvERZAPV.json\";\n\n// 路线坐标点使用 高德-折线 获取\n\n$.getJSON(busLinesJson, function(data) {\n    var busLines = [].concat.apply([], data.map(function(busLine, idx) {\n        var prevPt;\n        var points = [];\n        for (var i = 0; i < busLine.length; i += 2) {\n            var pt = [busLine[i], busLine[i + 1]];\n            if (i > 0) {\n                pt = [\n                    prevPt[0] + pt[0],\n                    prevPt[1] + pt[1]\n                ];\n            }\n            prevPt = pt;\n\n            points.push([pt[0] / 1e4, pt[1] / 1e4]);\n        }\n        return {\n            coords: points\n        }\n    }))\n    console.log(busLines)\n    myChart.showLoading();\n    $.getJSON(uploadedDataURL, function(geoJson) {\n        echarts.registerMap('beijing', geoJson);\n        myChart.hideLoading();\n\n        option = {\n            backgroundColor: '#fff',\n            geo: {\n                map: 'beijing',\n                label: {\n                    normal: {\n                        show: true\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        areaColor: '#2AB8FF'\n                    },\n                    emphasis: {\n                        areaColor: '#8FF'\n                    }\n                }\n            },\n            series: [{\n                type: 'lines',\n                coordinateSystem: 'geo',\n                polyline: true,\n                data: busLines,\n                silent: true,\n                lineStyle: {\n                    color: 'rgb(200, 35, 45)',\n                    opacity: 1,\n                    width: 2\n                },\n                progressiveThreshold: 500,\n                progressive: 200\n            }, {\n                type: \"scatter\",\n                coordinateSystem: 'geo',\n                data: [[116.4134, 40.0892]],\n                symbol: \"pin\",\n                symbolSize: 1,\n                label: {\n                    show: true,\n                    formatter: (param) => {\n                        return 'G4'\n                    },\n                    position: [-18, -10],\n                    fontSize: 12,\n                    color: \"#ff0\",\n                },\n            }]\n        };\n\n        myChart.setOption(option);\n    });\n})","html":"","externalScripts":"","updaterUID":"obd-oCytk-iscqjAoQgpI34LAUX1d2UkM3Y","theme":"","layout":"","viewCount":133,"userName":"1***4","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-RuPufThq.png?v=1605867729118","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-lines","series-scatter"],"customTags":[],"updaterUserName":"1***4"}}