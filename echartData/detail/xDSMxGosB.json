{"status":0,"data":{"cid":"xDSMxGosB","authorUid":"bd-3342206826","authorUserName":"小***琪","title":"嵌套饼图1","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-14T09:30:31.000Z","lastUpdateTime":"2020-02-14T09:30:31.000Z","auth":2,"uid":"bd-3342206826","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-14T09:30:31.000Z","code":"let innerFontColor = '#FFFFFF';\nlet outerFontColor = '#666666';\nlet scale = 1;\nlet echartData = {\n    inner: [\n        {value:335,unit:'个', name:'直达', selected:true},\n        {value:679,unit:'个', name:'营销广告'},\n        {value:1548,unit:'个', name:'搜索引擎'}\n    ],\n    outer: [\n        {value:310,unit:'个', name:'邮件营销'},\n        {value:234, unit:'个',name:'联盟广告'},\n        {value:135, unit:'个',name:'视频广告'},\n        {value:1048,unit:'个', name:'百度'},\n        {value:251, unit:'个',name:'谷歌'},\n        {value:147, unit:'个',name:'必应'},\n        {value:102, unit:'个',name:'其他'}\n    ]\n}\n\nlet legend1 = echartData.inner.map(v => v.name);\nlet legend2 = echartData.outer.map(v => v.name);\nlet legendData = [...legend1, ...legend2];\n\noption = {\n    color: [\"#2ec7c9\",\"#b6a2de\",\"#5ab1ef\",\"#ffb980\",\"#d87a80\",\n            \"#8d98b3\",\"#FFEA01\",\"#B8D07C\",\"#fca4bb\",\"#dc69aa\",\n            \"#07a2a4\",\"#9a7fd1\",\"#588dd5\",\"#f5994e\",\"#c05050\",\n            \"#59678c\",\"#c9ab00\",\"#7eb00a\",\"#6f5553\",\"#c14089\"],\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    legend: {\n        orient: 'vertical',\n        right: 30,\n        top: 'center',\n        itemWidth: 14 * scale,\n        itemHeight: 14 * scale,\n        data:legendData\n    },\n    series: [\n        {\n            name:'访问来源',\n            type:'pie',\n            selectedMode: 'single',\n            radius: [0, '30%'],\n            label: {\n                normal: {\n                    position: 'inner'\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data:echartData.inner\n        },\n        {\n            name:'访问来源',\n            type:'pie',\n            radius: ['40%', '55%'],\n            data:echartData.outer,\n            label: {\n                normal: {\n                    color: outerFontColor,\n                    fontSize: 12 * scale,\n                    lineHeight: 16 * scale,\n                    padding: [20 * scale, 1,0,0],\n                    formatter: function(params){\n                        // return '{a|'+params.name+'}\\n{b|'+params.percent+'}{a|'+(params.data.unit || '')+'}'\n                        return params.name+'\\n{b|'+params.percent+'}'+(params.data.unit || '');\n                   \n                    },\n                    rich:{\n                        b: {\n                            fontWeight: 'bold',\n                            color: outerFontColor\n                        }\n                    }\n                }\n            }\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-3342206826","theme":"","layout":"","viewCount":827,"userName":"小***琪","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDSMxGosB.png?v=1581672632005","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"小***琪"}}