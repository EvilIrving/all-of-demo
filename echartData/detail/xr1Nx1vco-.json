{"status":0,"data":{"cid":"xr1Nx1vco-","authorUid":"bd-269251251","authorUserName":"李嘉璐84","title":"各行业热度与投资金额关系演变","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2017-09-28T11:37:16.000Z","lastUpdateTime":"2017-09-28T11:37:16.000Z","auth":2,"uid":"bd-269251251","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.7.2","versionCreateTime":"2017-09-28T12:14:56.000Z","code":"//这个图可以分为行业级别和领域级别\n\nvar uploadedDataURL = \"/asset/get/s/data-1506594859158-SkmVe8qj-.json\";\n\nmyChart.showLoading();\n\n$.getJSON(uploadedDataURL, function(data) {\n    myChart.hideLoading();\n\n    var itemStyle = {\n        normal: {\n            opacity: 0.8,\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowOffsetY: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n    };\n\n    var sizeFunction = function(x) {\n        var y = Math.sqrt(x / 5e8) + 0.1;\n        return y * 80;\n    };\n    // Schema:\n    var schema = [{\n        name: 'Income',\n        index: 0,\n        text: '投资总额',\n        unit: '亿元'\n    }, {\n        name: 'LifeExpectancy',\n        index: 1,\n        text: '平均投资',\n        unit: '万元'\n    }, {\n        name: 'Population',\n        index: 2,\n        text: '项目数',\n        unit: ''\n    }, {\n        name: 'Country',\n        index: 3,\n        text: '行业',\n        unit: ''\n    }];\n\n    option = {\n        baseOption: {\n            timeline: {\n                axisType: 'category',\n                orient: 'vertical',\n                autoPlay: true,\n                inverse: true,\n                playInterval: 1000,\n                left: null,\n                right: 0,\n                top: 20,\n                bottom: 20,\n                width: 55,\n                height: null,\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#999'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n                symbol: 'none',\n                lineStyle: {\n                    color: '#555'\n                },\n                checkpointStyle: {\n                    color: '#bbb',\n                    borderColor: '#777',\n                    borderWidth: 2\n                },\n                controlStyle: {\n                    showNextBtn: false,\n                    showPrevBtn: false,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666'\n                    },\n                    emphasis: {\n                        color: '#aaa',\n                        borderColor: '#aaa'\n                    }\n                },\n                data: []\n            },\n            backgroundColor: '#404a59',\n            title: [{\n                text: data.timeline[0],\n                textAlign: 'center',\n                left: '63%',\n                top: '55%',\n                textStyle: {\n                    fontSize: 100,\n                    color: 'rgba(255, 255, 255, 0.7)'\n                }\n            }, {\n                text: '各行业热度与投资金额关系演变',\n                left: 'center',\n                top: 10,\n                textStyle: {\n                    color: '#aaa',\n                    fontWeight: 'normal',\n                    fontSize: 20\n                }\n            }],\n            tooltip: {\n                padding: 5,\n                backgroundColor: '#222',\n                borderColor: '#777',\n                borderWidth: 1,\n                formatter: function(obj) {\n                    var value = obj.value;\n                    return schema[3].text + '：' + value[3] + '<br>' +\n                        schema[1].text + '：' + value[1] + schema[1].unit + '<br>' +\n                        schema[0].text + '：' + value[0] + schema[0].unit + '<br>' +\n                        schema[2].text + '：' + value[2] + '<br>';\n                }\n            },\n            grid: {\n                top: 100,\n                containLabel: true,\n                left: 30,\n                right: '110'\n            },\n            xAxis: {\n                type: 'log',\n                name: '投资总额',\n                max: 100000,\n                min: 300,\n                nameGap: 25,\n                nameLocation: 'middle',\n                nameTextStyle: {\n                    fontSize: 18\n                },\n                splitLine: {\n                    show: false\n                },\n                axisLine: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                axisLabel: {\n                    formatter: '{value} 亿元'\n                }\n            },\n            yAxis: {\n                type: 'value',\n                name: '热度',\n                max: 100,\n                nameTextStyle: {\n                    color: '#ccc',\n                    fontSize: 18\n                },\n                axisLine: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                splitLine: {\n                    show: false\n                },\n                axisLabel: {\n                    formatter: '{value} '\n                }\n            },\n            visualMap: [{\n                show: false,\n                dimension: 3,\n                categories: data.counties,\n                calculable: true,\n                precision: 0.1,\n                textGap: 30,\n                textStyle: {\n                    color: '#ccc'\n                },\n                inRange: {\n                    color: (function() {\n                        var colors = ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'];\n                        return colors.concat(colors);\n                    })()\n                }\n            }],\n            series: [{\n                type: 'scatter',\n                itemStyle: itemStyle,\n                data: data.series[0],\n                symbolSize: function(val) {\n                    return sizeFunction(val[2]);\n                }\n            }],\n            animationDurationUpdate: 1000,\n            animationEasingUpdate: 'quinticInOut'\n        },\n        options: []\n    };\n\n    for (var n = 0; n < data.timeline.length; n++) {\n        option.baseOption.timeline.data.push(data.timeline[n]);\n        option.options.push({\n            title: {\n                show: true,\n                'text': data.timeline[n] + '',\n            },\n            series: {\n                name: data.timeline[n],\n                type: 'scatter',\n                itemStyle: itemStyle,\n                data: data.series[n],\n                symbolSize: function(val) {\n                    return sizeFunction(val[2]);\n                }\n            }\n        });\n    }\n\n    myChart.setOption(option);\n\n});","html":"","externalScripts":"","updaterUID":"bd-269251251","theme":"","layout":"","viewCount":904,"userName":"李嘉璐84","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1Nx1vco-.png?v=1506600896628","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"李嘉璐84"}}