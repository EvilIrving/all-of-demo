{"status":0,"data":{"cid":"x-EVoXoMAa","authorUid":"obd-oMLzPX7UjuFLGhwK9id9zEbmJY1QN2S","authorUserName":"铁***猪","title":"饼图+默认文字+环形线条","description":"","latestVersion":4,"alwaysLatest":0,"createTime":"2021-11-10T06:13:20.000Z","lastUpdateTime":"2021-11-10T07:26:28.000Z","auth":2,"uid":"obd-oMLzPX7UjuFLGhwK9id9zEbmJY1QN2S","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-10T07:26:28.000Z","code":"var color = ['#0CD2E6', '#3751E6', '#FFC722', '#886EFF', '#008DEC', '#114C90', '#00BFA5'];\n\nvar title = '自定义legend、默认选中';\nvar legend = ['A需求类型', 'B需求类型', 'C需求类型', 'D需求类型', 'E需求类型', '其他'];\n\nvar seriesData = [\n    { name: 'A需求类型', value: 60 },\n    { name: 'B需求类型', value: 10 },\n    { name: 'C需求类型', value: 15 },\n    { name: 'D需求类型', value: 23 },\n    { name: 'E需求类型', value: 10 },\n    { name: '其他', value: 12 },\n];\n\nvar option = {\n    backgroundColor: '#050e31',\n    color: color,\n    title: {\n        top: 20,\n        text: title,\n        textStyle: {\n            fontSize: 20,\n            color: '#DDEEFF',\n        },\n    },\n    grid: {\n        top: '15%',\n        left: 0,\n        right: '1%',\n        bottom: 5,\n        containLabel: true,\n    },\n    polar: {}, //环线\n    angleAxis: {\n        // interval: 1,\n        // type: 'category',\n        // data: [],\n        // z: 10,\n        // axisLine: {\n        //     show: false,\n        //     lineStyle: {\n        //         color: \"#0B4A6B\",\n        //         width: 1,\n        //         type: \"solid\"\n        //     },\n        // },\n        // axisLabel: {\n        //     interval: 0,\n        //     show: true,\n        //     color: \"#0B4A6B\",\n        //     margin: 8,\n        //     fontSize: 16\n        // },\n    },\n    radiusAxis: {\n        min: 60,\n        max: 120,\n        interval: 20,\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: '#0B3E5E',\n                width: 1,\n                type: 'solid',\n            },\n        },\n        axisLabel: {\n            // 环线的数字\n            formatter: '{value} %',\n            show: false,\n            padding: [0, 0, 20, 0],\n            color: '#0B3E5E',\n            fontSize: 16,\n        },\n        splitLine: {\n            // 环线样式\n            lineStyle: {\n                color: '#0B3E5E',\n                width: 2,\n                type: 'solid',\n            },\n        },\n    },\n    legend: {\n        orient: 'vertical',\n        top: 'center',\n        right: 50,\n        textStyle: {\n            align: 'left',\n            verticalAlign: 'middle',\n            rich: {\n                name: {\n                    color: 'rgba(255,255,255,0.5)',\n                    fontSize: 10,\n                },\n                value: {\n                    color: 'rgba(255,255,255,0.5)',\n                    fontSize: 10,\n                },\n                rate: {\n                    color: 'rgba(255,255,255,0.9)',\n                    fontSize: 10,\n                },\n            },\n        },\n        data: legend,\n        formatter: (name) => {\n            if (seriesData.length) {\n                const item = seriesData.filter((item) => item.name === name)[0];\n                return `{name|${name}：}{value| ${item.value}} {rate| ${item.value}%}`;\n            }\n        },\n    },\n    series: [\n        {\n            name: '需求类型占比',\n            type: 'pie',\n            center: ['50%', '50%'],\n            radius: ['75%', '85%'],\n            label: {\n                normal: {\n                    show: false,\n                    position: 'center',\n                    formatter: '{value|{c}}\\n{label|{b}}',\n                    rich: {\n                        //中间文字\n                        value: {\n                            padding: 5,\n                            align: 'center',\n                            verticalAlign: 'middle',\n                            fontSize: 20,\n                        },\n                        label: {\n                            align: 'center',\n                            verticalAlign: 'middle',\n                            fontSize: 16,\n                        },\n                    },\n                },\n                emphasis: {\n                    show: true,\n                    textStyle: {\n                        fontSize: '12',\n                    },\n                },\n            },\n            labelLine: {\n                show: false,\n                length: 0,\n                length2: 0,\n            },\n            itemStyle: {//间隔\n                normal: {\n                    borderWidth: 5,\n                    borderColor: '#050e31',\n                },\n            },\n            data: seriesData,\n        },\n    ],\n};\n\nmyChart.setOption(option);\n\ngetDefaultSelected(myChart);\n\nfunction getDefaultSelected(myChart) {\n    let index = 0;\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: 0,\n    });\n    myChart.on('mouseover', (e) => {\n        if (e.dataIndex !== index) {\n            myChart.dispatchAction({\n                type: 'downplay',\n                seriesIndex: 0,\n                dataIndex: index,\n            });\n        }\n    });\n    myChart.on('mouseout', (e) => {\n        index = e.dataIndex;\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: e.dataIndex,\n        });\n    });\n}\n","html":"","externalScripts":"","updaterUID":"obd-oMLzPX7UjuFLGhwK9id9zEbmJY1QN2S","theme":"","layout":"","viewCount":0,"userName":"铁***猪","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-EVoXoMAa.png?v=1636529188576","isCustomThumbnail":0,"builtinTags":["category-work","legend","polar","series-pie","title"],"customTags":[],"updaterUserName":"铁***猪"}}