{"status":0,"data":{"cid":"xjgbZkMyBi","authorUid":"bd-1949357510","authorUserName":"丶***炸","title":"极坐标+饼图","description":"实现玫瑰图角度、半径均体现当前维度的占比","latestVersion":1,"alwaysLatest":1,"createTime":"2020-05-20T08:59:43.000Z","lastUpdateTime":"2021-04-27T03:54:05.000Z","auth":2,"uid":"bd-1949357510","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-05-20T08:59:43.000Z","code":"/**\n * 极坐标 + 饼图组合\n */\n\noption = {\n    tooltip: {\n        trigger: 'item',\n        formatter: e => {\n            return `\n                ${e.name}<br/>\n                人数: ${e.data.value}人<br/>\n                及格率: ${e.data.rate}%\n            `\n        }\n    },\n    angleAxis: {\n        type: 'category',\n        // 去掉边线\n        axisLine: {\n            show: false\n        },\n    },\n    radiusAxis: {\n        max: 100,\n        // 去掉刻度线\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n    },\n    polar: {\n        radius: [0, '50%']\n    },\n    series: [\n        // 饼图\n        {\n            type: 'pie',\n            radius: [0, '50%'],\n            label: {\n                color: '#333',\n                lineHeight: 14,\n                formatter: e => {\n                    return `${e.name}\\n人数: ${e.data.value}人\\n及格率: ${e.data.rate}%`\n                }\n            },\n            labelLine: {\n                length: 20,\n                lineStyle: {\n                    color: '#999'\n                }\n            },\n            itemStyle: {\n                borderWidth: 3,\n                borderColor: '#fff',\n                shadowColor: 'rgba(0, 0, 0, .2)',\n                shadowBlur: 6,\n                shadowOffsetY: 4\n            },\n            data: [\n                {\n                    value: 45,\n                     // 因为触发的是饼图的 tooltip，这里对应放极坐标的 data 值\n                    rate: 78,\n                    name: '一班',\n                    itemStyle: {\n                        color: 'rgba(255, 198, 93, .4)',\n                    }\n                },\n                {\n                    value: 47,\n                    rate: 65,\n                    name: '二班',\n                    itemStyle: {\n                        color: 'rgba(127, 229, 253, .4)',\n                    }\n                },\n                {\n                    value: 48,\n                    rate: 50,\n                    name: '三班',\n                    itemStyle: {\n                        color: 'rgba(145, 205, 241, .4)',\n                    }\n                },\n                {\n                    value: 30,\n                    rate: 80,\n                    name: '四班',\n                    itemStyle: {\n                        color: 'rgba(152, 234, 220, .4)',\n                    }\n                },\n            ],\n        },\n        // 极坐标 - 玫瑰图\n        {\n            type: 'bar',\n            name: '一班',\n            max: 100, // 100 的比例\n            data: [78], // 控制半径占比\n            barWidth: (45 / 170) * 100 + '%', // 控制和饼图角度一致\n            barGap: 0,\n            itemStyle: {\n                color: '#ffc65d',\n                shadowColor: '#000',\n                shadowBlur: 6\n            },\n            coordinateSystem: 'polar',\n        }, {\n            type: 'bar',\n            name: '二班',\n            data: [65],\n            max: 100,\n            barWidth:  (47 / 170) * 100 + '%',\n            barGap: 0,\n            itemStyle: {\n                color: '#7fe5fd',\n                shadowColor: '#000',\n                shadowBlur: 6\n            },\n            coordinateSystem: 'polar',\n        }, {\n            type: 'bar',\n            name: '三班',\n            data: [50],\n            max: 100,\n            barWidth:  (48 / 170) * 100 + '%',\n            barGap: 0,\n            itemStyle: {\n                color: '#8db9ff',\n                shadowColor: '#000',\n                shadowBlur: 6\n            },\n            coordinateSystem: 'polar',\n        }, {\n            type: 'bar',\n            name: '四班',\n            data: [80],\n            max: 100,\n            barWidth: (30 / 170) * 100 + '%',\n            barGap: 0,\n            itemStyle: {\n                color: '#a3ffc5',\n                shadowColor: '#000',\n                shadowBlur: 6\n            },\n            coordinateSystem: 'polar',\n        }\n    ],\n};","html":"","externalScripts":"","updaterUID":"bd-1949357510","theme":"default","layout":"","viewCount":4356,"userName":"丶***炸","commentCount":0,"starCount":39,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xjgbZkMyBi.png?v=1589965183564","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","series-pie","tooltip"],"customTags":[],"updaterUserName":"丶***炸"}}