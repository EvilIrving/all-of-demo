{"status":0,"data":{"cid":"xrJfevsuQM","authorUid":"bd-4265933866","authorUserName":"h***1","title":"广州地图点击事件","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-01-02T06:30:01.000Z","lastUpdateTime":"2018-01-02T06:30:01.000Z","auth":2,"uid":"bd-4265933866","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-02T06:30:01.000Z","code":"var geoCoordMap = {\r\n    '海珠': [113.322023,23.062929],\r\n    '越秀': [113.290187,23.110634],\r\n    '从化': [113.607674,23.560751],\r\n    '增城': [113.739608,23.295054],\r\n    '黄埔': [113.494425,23.180565],\r\n    '白云': [113.313629,23.251614],\r\n    '花都': [113.228697, 23.410155],\r\n    '天河': [113.364376,23.12271],\r\n    '南沙': [113.466285,22.82122],\r\n    '荔湾': [113.221602,23.046683],\r\n    '番禺': [113.390607, 22.944312]\r\n};\r\n\r\nvar GZData = [\r\n    [{name: '海珠',value:96}],\r\n    [{name: '越秀',value:90}],\r\n\t[{name: '从化',value:66}],\r\n\t[{name: '增城',value:70}],\r\n\t[{name: '白云',value:94}],\r\n\t[{name: '花都',value:79}],\r\n\t[{name: '天河',value:51}],\r\n    [{name: '南沙',value:67}],\r\n    [{name: '荔湾',value:30}],\r\n    [{name: '番禺',value:56}],\r\n    [{name: '黄埔',value:56}]\r\n];\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = geoCoordMap[dataItem[0].name];\r\n        var toCoord = geoCoordMap[dataItem[1].name];\r\n        if (fromCoord && toCoord) {\r\n            res.push([{\r\n                coord: fromCoord,\r\n                value: dataItem[0].value//来源或流向修改\r\n            }, {\r\n                coord: toCoord,\r\n            }]);\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n \r\nvar series = [];\r\n[['广州', GZData]].forEach(function (item, i) {\r\n    series.push(\r\n    {\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        label: { //图形上的城市文本标签\r\n            normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{b}',\r\n                textStyle:{\r\n                    color:'#fff',\r\n                    fontFamily: 'Microsoft YaHei',\r\n                    fontSize: 20,\r\n                },\r\n                rich: {\r\n                    \r\n                },\r\n            }\r\n        },\r\n        symbolSize: 1,//点大小\r\n        itemStyle: {\r\n            normal: {\r\n                color:'rgba(115, 201, 255, 0)',\r\n            }\r\n        },\r\n        data: item[1].map(function (dataItem) {\r\n            return {\r\n                name: dataItem[0].name,//来源或流向修改\r\n                value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])//来源或流向修改\r\n            };\r\n        })\r\n    });\r\n});\r\n\r\noption = {\r\n    backgroundColor: '#23243a',\r\n    geo: {\r\n        map: 'guangzhou',\r\n        selectedMode: 'single',\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                color: '#fff',\r\n                fontSize: 24,\r\n                fontFamily: 'Microsoft YaHei'\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n                color: '#fff',\r\n            }\r\n\r\n        },\r\n        roam: false, //开启缩放或者平移\r\n        zoom: 1.8, //缩放比例\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#73c9ff',\r\n                borderColor: '#fff',\r\n                borderWidth: 4,\r\n            },\r\n            emphasis: {\r\n                areaColor: '#ff9e14'\r\n            }\r\n        },\r\n        regions: [{\r\n            name: '从化区',\r\n            selected: true, //该域是否选中\r\n            label: {\r\n                normal: {\r\n                    //offset: [100, 1000],\r\n                }\r\n            }\r\n        }]\r\n    },\r\n    series: series\r\n};\r\n\r\nmyChart.on('click',function(param){\r\n    alert(param.name);\r\n});\r\n","html":"","externalScripts":"http://pc.mejun.com.cn:8090/crowdMonitor/view/webapp/js/map/guangzhou.js","updaterUID":"bd-4265933866","theme":"","layout":"","viewCount":581,"userName":"h***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJfevsuQM.png?v=1514874601655","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter"],"customTags":[],"updaterUserName":"h***1"}}