{"status":0,"data":{"cid":"xwjpste3I","authorUid":"bd-181101713","authorUserName":"j***6","title":"富文本图例-使用rich和formatter","description":"参考来源：https://www.cnblogs.com/chongtao/p/9890186.html","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-07T01:16:45.000Z","lastUpdateTime":"2019-11-07T01:16:45.000Z","auth":2,"uid":"bd-181101713","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-07T01:16:45.000Z","code":"var _dataList=[\r\n    {name:'支付宝',value:'8799'},\r\n    {name:'微信',value:'5455.2'},\r\n    {name:'基金',value:'10201.05'},\r\n    {name:'现金',value:'120'}];\r\n    \r\nvar option = {\r\n    tooltip: {\r\n        show: true,\r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b}: {c}\"\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        y:'bottom',\r\n        right: '7%',\r\n        data: ['支付宝','微信','基金','现金'],\r\n        padding: [0, 10, 0, 0],\r\n        selectedMode: false,\r\n        itemWidth: 10,\r\n        itemHeight: 10,\r\n        icon: 'circle',\r\n        textStyle: {\r\n            width: 340,\r\n            rich: {\r\n                a: {\r\n                    align: 'left',\r\n                    color: '#77899c',\r\n                    padding: [0, 0, 0, 10],\r\n                    fontSize:36\r\n                },\r\n                b: {\r\n                    align: 'right',\r\n                    color: '#eb3a53',\r\n                    fontSize:36\r\n                },\r\n                c: {\r\n                    align: 'right',\r\n                    color: '#4ed139',\r\n                    fontSize:36\r\n                },\r\n            }\r\n        },\r\n        tooltip: {\r\n            show: true\r\n        },\r\n        formatter: function(name) {\r\n            let _index = 0;\r\n            //console.log(_dataList)\r\n            _dataList.forEach((item, i) => {\r\n                //console.log(item.value,name)\r\n                if (item.name == name) {\r\n                    _index = i;\r\n                }\r\n            });\r\n            let arr;\r\n            if (name == '支付宝') {\r\n                arr = [\r\n                    '{a|' + name + '}',\r\n                    '{b|￥' + _dataList[_index].value + '}'\r\n                ]\r\n            } else {\r\n                arr = [\r\n                    '{a|' + name + '}',\r\n                    '{c|￥' + _dataList[_index].value + '}'\r\n                ]\r\n            }\r\n            //console.log(_index)\r\n            //console.log(_data1[_index].value)\r\n            // 注意，换行仍是使用 '\\n'。\r\n            return arr.join('');\r\n        }\r\n    },\r\n    graphic: {\r\n        type: 'text',\r\n        left: 'center',\r\n        top: '23%',\r\n        z: 2,\r\n        zlevel: 100,\r\n        style: {\r\n            text: '1244',\r\n            x: 100,\r\n            y: 100,\r\n            textAlign: 'center',\r\n            fill: '#77899c',\r\n        }\r\n    },\r\n    series: [{\r\n        // name:'访问来源',\r\n        type: 'pie',\r\n        radius: ['50%', '70%'],\r\n        // 绝对位置，相对于容器左侧 10px, 上侧 10 px\r\n        // position: [0, -50],\r\n        avoidLabelOverlap: false,\r\n        hoverAnimation: false,\r\n        legendHoverLink: false,\r\n        silent: false,\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'center',\r\n                formatter: (params) => {\r\n                    //var _total=0;\r\n                    // _total+=params.data.value;\r\n                    // dataTextArry.forEach((item,i)=>{\r\n                    // _total+=item.value\r\n                    // console.log(_total)\r\n                    // });\r\n                    //console.log(1);\r\n                    // console.log(set)\r\n                    return '1111';\r\n                },\r\n            },\r\n            textStyle: {\r\n                fontSize: 36,\r\n                color: 'green'\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        itemStyle: {\r\n            color: function(params) {\r\n                //console.log('1',params)\r\n                var colorList = ['#4ed139', '#289cf4', '#fdca57', '#ff9e48', '#2c3f58']\r\n                return colorList[params.dataIndex];\r\n            }\r\n        },\r\n        data: _dataList\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-181101713","theme":"","layout":"","viewCount":51,"userName":"j***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwjpste3I.png?v=1573089405924","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"j***6"}}