{"status":0,"data":{"cid":"xD5N0ncncr","authorUid":"bd-2680668432","authorUserName":"C***酱","title":"1/2玫瑰图","description":"1/2玫瑰图","latestVersion":4,"alwaysLatest":1,"createTime":"2020-08-27T06:22:19.000Z","lastUpdateTime":"2020-08-27T06:22:19.000Z","auth":2,"uid":"bd-2680668432","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-28T02:10:34.000Z","code":"const center = ['90%', '50%'];\r\nconst color = [\r\n    '#1576d2',\r\n    '#d14a82',\r\n    '#26c1f2',\r\n    '#a166ff',\r\n    '#1271cc',\r\n    '#272f67'\r\n];\r\nlet data = [{\r\n        name: 'Massachusetts Institute of Technology (MIT)',\r\n        value: 182\r\n    },\r\n    {\r\n        name: 'Stanford University',\r\n        value: 191\r\n    },\r\n    {\r\n        name: 'Harvard University',\r\n        value: 234\r\n    },\r\n    {\r\n        name: 'California Institute of Technology (Caltech)',\r\n        value: 290\r\n    },\r\n    {\r\n        name: 'University of Oxford',\r\n        value: 330\r\n    }\r\n];\r\n// 指定数据块中 label 的相应效果，以保证label的正常显示\r\nconst dataArcStyle = {\r\n    label: {\r\n        show: true\r\n    },\r\n    labelLine: {\r\n        show: true,\r\n        length: 5,\r\n        length2: 80\r\n    },\r\n    emphasis: {\r\n        labelLine: {\r\n            show: true\r\n        }\r\n    }\r\n};\r\ndata = data.map(d => {\r\n    d = Object.assign(d, dataArcStyle);\r\n    return d;\r\n});\r\n\r\nconst originDataLen = data.length;\r\nconst spanAngle = 180; // 需要显示的角度\r\nconst repeatedMultiple = 360 / spanAngle;\r\nconst addDataLen = parseInt((repeatedMultiple - 1) * originDataLen);\r\nfor (let index = 0; index < addDataLen; index++) {\r\n    data.push({\r\n        name: null,\r\n        value: 0,\r\n        itemStyle: {\r\n            color: 'rgba(0,0,0,0)'\r\n        },\r\n        tooltip: {\r\n            show: false\r\n        }\r\n    });\r\n}\r\n\r\nconst dataArc = {\r\n    type: 'pie',\r\n    // roseType=true和roseType='area'在填充值后显示方式不同\r\n    roseType: 'area',\r\n    clockwise: false,\r\n    center,\r\n    radius: ['20%', '70%'],\r\n    data,\r\n    label: {\r\n        show: false\r\n    }\r\n};\r\n\r\n// 背景装饰\r\nconst backgroundArc0 = {\r\n    type: 'pie',\r\n    radius: ['14%', '72%'],\r\n    center,\r\n    silent: true,\r\n    clockwise: false,\r\n    label: {\r\n        show: false\r\n    },\r\n    data: [{\r\n            name: null,\r\n            value: spanAngle,\r\n            itemStyle: {\r\n                color: 'rgba(220,220,220,0.3)'\r\n            }\r\n        },\r\n        {\r\n            name: null,\r\n            value: 360 - spanAngle,\r\n            itemStyle: {\r\n                color: 'rgba(220,220,220,0)'\r\n            }\r\n        }\r\n    ]\r\n};\r\nconst backgroundArc1 = JSON.parse(JSON.stringify(backgroundArc0));\r\nbackgroundArc1.radius = ['74%', '75.5%'];\r\n\r\noption = {\r\n    backgroundColor: '#000',\r\n    color,\r\n    tooltip: {\r\n        show: true\r\n    },\r\n    series: [backgroundArc0, backgroundArc1, dataArc]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2680668432","theme":"","layout":"","viewCount":239,"userName":"C***酱","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xD5N0ncncr.png?v=1598580634164","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"C***酱"}}