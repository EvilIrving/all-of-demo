{"status":0,"data":{"cid":"xHJKGiuO5G","authorUid":"bd-404965171","authorUserName":"小***物","title":"投诉举报受理与不受理对比","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-28T02:16:48.000Z","lastUpdateTime":"2018-03-28T02:16:48.000Z","auth":2,"uid":"bd-404965171","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-28T02:16:48.000Z","code":"var colors = ['#52dee7', '#eac688'];\n\nvar xData = function() {\n    var data = [];\n    for (var i = 1; i < 13; i++) {\n        data.push(i + '月');\n    }\n    return data;\n}();\n\n//投诉举报数\nvar data1 = [761, 863, 745, 765, 641, 653, 634, 666, 519, 542, 522, 497];\n//不受理投诉举报数\nvar data3 = [70, 60, 26, 44, 51, 31, 25, 19, 14, 21, 51, 41];\n\noption         = {\nbackgroundColor:'#FFFFFF',\ntitle          : {\ntext           : '',\nleft           : '1%',\ntop            : '0%'\n    },\n    tooltip: {\n        trigger: \"axis\",\n        axisPointer: {\n            type: \"shadow\",\n            textStyle: {\n                color: \"#fff\"\n            }\n        },\n    },\n    grid: {\n        top: 100,\n        left: '20%',\n        right:'30%',\n        bottom: '55%'\n    },\n    legend: {\n        width: '',\n        left: '20%',\n        top: 35,\n        data: ['投诉举报受理数', '投诉举报不予受理数']\n    },\n    xAxis: {\n        splitLine: {\n            show: false\n        },\n        name: '      时间',\n        type: 'category',\n        axisLabel: {\n            interval: 0\n        },\"axisLabel\": {\n            interval: {default: 0},\n            rotate:50,\n            formatter : function(params){\n               var newParamsName = \"\";// 最终拼接成的字符串\n                var paramsNameNumber = params.length;// 实际标签的个数\n                var provideNumber = 4;// 每行能显示的字的个数\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber);// 换行的话，需要显示几行，向上取整\n                /**\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\n                 */\n                // 条件等同于rowNumber>1\n                if (paramsNameNumber > provideNumber) {\n                    /** 循环每一行,p表示行 */\n                    var tempStr = \"\";\n                    tempStr=params.substring(0,4);\n                    newParamsName = tempStr+\"...\";// 最终拼成的字符串\n                } else {\n                    // 将旧标签的值赋给新标签\n                    newParamsName = params;\n                }\n                //将最终的字符串返回\n                return newParamsName\n            }\n\n        },\n        data: xData\n        /*splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        }*/\n    },\n    yAxis: [{\n            type: 'value',\n            name: '',\n            min: 0,\n            max: 1000,\n            position: 'left',\n            axisLine: {\n                lineStyle: {\n                    color: '#000'\n                }\n            },\n            axisLabel: {\n                formatter: '{value} '\n            }\n        }\n    ],\n    series: [{\n        name: '投诉举报受理数',\n        color: colors[0],\n        type: 'bar',\n        barWidth: \"35%\",\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    offset: 0,\n                    color: '#56ADF1'\n                }, {\n                    offset: 1,\n                    color: '#99D9EA'\n                }]),\n                shadowColor: 'rgba(0, 0, 0, 0.1)',\n                shadowBlur: 10\n            }\n        },\n        data: data1\n    }, {\n        name: '投诉举报不予受理数',\n        color: colors[1],\n        type: 'bar',\n        barWidth: \"35%\",\n        itemStyle: {\n            normal: {\n                // lineStyle: {\n                //     width: 3, //折线宽度\n                // },\n            }\n        },\n        data: data3\n    },  {\n                name: '不予受理率',\n                type: 'pie',\n                radius: ['9%', '12%'],\n                color: ['#ff0000', '#00EE76'],\n                center: ['65%', '15%'],\n                tooltip: {\n                    trigger: 'item',\n                    formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n                },\n                label: {\n                    normal: {\n                        position: 'center'\n                    }\n                },\n                data: [{\n                    value: data3[0],\n                    name: '投诉举报不予受理数',\n                    label: {\n                        normal: {\n                            formatter: '{d} %',\n                            textStyle: {\n                                fontSize: 12\n                            }\n                        }\n                    }\n                }, {\n                    value: data1[0] - data3[0],\n                    name: '投诉举报受理数',\n                    label: {\n                        normal: {\n                            formatter: '\\不予受理率',\n                            textStyle: {\n                                color: '#555',\n                                fontSize: 10\n                            }\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#e9e9e9'\n                        },\n                        emphasis: {\n                            color: '#e9e9e9'\n                        }\n                    },\n                }]\n            }]\n};\n\n\n\nmyChart.on('mouseover', function(params) {\n    if (params.componentType === 'series' && params.seriesType === 'bar') {\n        dataIndex = params.dataIndex;\n        myChart.setOption({\n            series: [{\n                name: '投诉举报受理数',\n                color: colors[0],\n                type: 'bar',\n                barWidth: \"35%\",\n                itemStyle: {\n                    normal: {\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: '#56ADF1'\n                        }, {\n                            offset: 1,\n                            color: '#99D9EA'\n                        }]),\n                        shadowColor: 'rgba(0, 0, 0, 0.1)',\n                        shadowBlur: 10\n                    }\n                },\n                data: data1\n            }, {\n                name: '投诉举报不予受理数',\n                color: colors[1],\n                type: 'bar',\n                itemStyle: {\n                    normal: {\n                        lineStyle: {\n                            width: 3, //折线宽度\n                        },\n                    }\n                },\n                data: data3\n            }, {\n                name: '不予受理率',\n                type: 'pie',\n                radius: ['9%', '12%'],\n                color: ['#ff0000', '#00EE76'],\n                center: ['65%', '15%'],\n                tooltip: {\n                    trigger: 'item',\n                    formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n                },\n                label: {\n                    normal: {\n                        position: 'center'\n                    }\n                },\n                data: [{\n                    value: data3[dataIndex],\n                    name: '投诉举报不予受理数',\n                    label: {\n                        normal: {\n                            formatter: '{d} %',\n                            textStyle: {\n                                fontSize: 12\n                            }\n                        }\n                    }\n                }, {\n                    value: data1[dataIndex] - data3[dataIndex],\n                    name: '投诉举报受理数',\n                    label: {\n                        normal: {\n                            formatter: '\\不予受理率',\n                            textStyle: {\n                                color: '#555',\n                                fontSize: 10\n                            }\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#E9E9E9'\n                        },\n                        emphasis: {\n                            color: '#E9E9E9'\n                        }\n                    },\n                }]\n            }]\n        })\n    }\n});","html":"","externalScripts":"","updaterUID":"bd-404965171","theme":"","layout":"","viewCount":118,"userName":"小***物","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJKGiuO5G.png?v=1522203408857","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"小***物"}}