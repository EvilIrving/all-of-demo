{"status":0,"data":{"cid":"xXEQQ5S2by","authorUid":"obd-oMmVVSKIe_yGf7VkRfD7DtasTDD9f2c","authorUserName":"Y***1","title":"流量与实力的争锋 ~_~","description":"YJFicon","latestVersion":2,"alwaysLatest":1,"createTime":"2020-11-05T03:19:28.000Z","lastUpdateTime":"2020-11-05T03:19:28.000Z","auth":2,"uid":"obd-oMmVVSKIe_yGf7VkRfD7DtasTDD9f2c","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-09T09:12:06.000Z","code":"let data = [{\r\n        INVST_TYPE_MARK: \"实力型\",\r\n        date: [\"2020-01-31\", \"2020-03-31\", \"2020-06-30\", \"2020-09-30\"],\r\n        value: [\"6776\", \"6551\", \"6752\", \"6699\"],\r\n        satrtDate: '2020-03-31',\r\n        endDate: '2020-09-30',\r\n        Bad: '85.80'\r\n    },\r\n    {\r\n        INVST_TYPE_MARK: \"流量型\",\r\n        date: [\"2020-01-31\", \"2020-03-31\", \"2020-06-30\", \"2020-09-30\"],\r\n        value: [\"8690\", \"8580\", \"8639\", \"8719\"],\r\n        satrtDate: '2020-01-31',\r\n        endDate: '2020-03-31',\r\n        Bad: '65.51'\r\n    }\r\n]\r\nlet Leg = [{\r\n    name: '实力型',\r\n    value: '-66.99'\r\n}, {\r\n    name: '流量型',\r\n    value: '87.19'\r\n}]\r\nvar lineData = [];\r\nvar barData = [];\r\nvar nameData = [];\r\n\r\nbarData = data[0].value\r\nlineData = data[1].value\r\nnameData = data[0].date\r\nlet markDatas = [\r\n    [{\r\n            xAxis: data[0].satrtDate,\r\n            itemStyle: {\r\n                color: \"rgba(48, 255, 94, .15)\"\r\n            },\r\n            label: {\r\n                show: true,\r\n                position: [\"45%\", \"80%\"],\r\n                color: \"#4CEB3B\",\r\n                fontSize: 10,\r\n                formatter: function(name) {\r\n                    let arr;\r\n                    arr = `${data[0].INVST_TYPE_MARK}\\n\\n最低点击量\\n${data[0].Bad}%`;\r\n\r\n                    return arr;\r\n                },\r\n            }\r\n        },\r\n        {\r\n            xAxis: data[0].endDate,\r\n            //yAxis: 30,\r\n            itemStyle: {\r\n                color: \"\"\r\n            }\r\n        }\r\n    ],\r\n    [{\r\n            xAxis: data[1].satrtDate,\r\n            itemStyle: {\r\n                color: \"rgba(116, 83, 153, .15)\"\r\n            },\r\n            label: {\r\n                show: true,\r\n                position: [\"8%\", \"18%\"],\r\n                color: \"#8f82bc\",\r\n                //fontStyle: 'oblique',\r\n                fontSize: 10,\r\n                // rotate: 90,\r\n                // formatter: data[1].INVST_TYPE_MARK\r\n                formatter: function(name) {\r\n                    let arr;\r\n                    arr = `${data[1].INVST_TYPE_MARK}\\n\\n最低点击量\\n${data[1].Bad}%`;\r\n\r\n                    return arr;\r\n                },\r\n            }\r\n        },\r\n        {\r\n            xAxis: data[1].endDate\r\n        }\r\n    ]\r\n];\r\nvar option = {\r\n    title: {\r\n        text: \"流量与实力的争锋 ~_~\",\r\n        subtext: 'icon',\r\n        x: \"right\",\r\n        y: 0,\r\n        textStyle: {\r\n            color: \"#fff\",\r\n            fontSize: 18,\r\n            fontWeight: \"normal\"\r\n        }\r\n    },\r\n     tooltip:{},\r\n    backgroundColor: \"rgba(0,0,0,.9)\",\r\n    legend: {\r\n        itemWidth: 25,\r\n        itemHeight: 8,\r\n        //itemGap: 80,\r\n        left: 35,\r\n        textStyle: {\r\n            color: \"#fff\",\r\n            fontSize: 10,\r\n            rich: {\r\n                a: {\r\n                    padding: [3, 10, 5, 10],\r\n                    align: \"center\",\r\n                    fontSize: 10,\r\n                    color: \"#8f82bc\"\r\n                },\r\n                b: {\r\n                    padding: [4, 10, 5, 10],\r\n                    align: \"center\",\r\n                    fontSize: 10,\r\n                    color: \"#4CEB3B\"\r\n                }\r\n            }\r\n        },\r\n        formatter: function(name) {\r\n            let _index = 0;\r\n            //console.log(_dataList)\r\n            Leg.forEach((item, i) => {\r\n                //console.log(item.value,name)\r\n                if (item.name == name) {\r\n                    _index = i;\r\n                }\r\n            });\r\n            let arr;\r\n            if (Leg[_index].value > 0) {\r\n                arr = [name, \"{a|+\" + Leg[_index].value + \"%}\"];\r\n            } else {\r\n                arr = [name, \"{b|\" + Leg[_index].value + \"%}\"];\r\n            }\r\n            return arr.join(\"\");\r\n        },\r\n    },\r\n    grid: {\r\n        x: \"12%\",\r\n        width: \"90%\",\r\n        y: \"12%\",\r\n        bottom: \"10%\",\r\n        top: \"12%\"\r\n    },\r\n    xAxis: {\r\n        data: nameData,\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: \"rgba(216,216,216,1)\"\r\n            }\r\n        },\r\n        axisLabel: {\r\n            fontSize: 10,\r\n            interval: 0,\r\n            formatter: function(value) {\r\n                return value;\r\n            },\r\n            textStyle: {\r\n                color: \"#fff\",\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    },\r\n    yAxis: [{\r\n        name: \"点击量(次)\",\r\n        nameTextStyle: {\r\n            //y轴上方单位的颜色\r\n            color: \"#fff\",\r\n            fontSize: 10,\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: \"rgba(216,216,216,1)\",\r\n                width: 1,\r\n                type: \"solid\"\r\n            }\r\n        },\r\n\r\n        axisLabel: {\r\n            fontSize: 10,\r\n            formatter: \"{value}\",\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            }\r\n        }\r\n    }],\r\n\r\n    series: [{\r\n            name: \"流量型\",\r\n            type: \"line\",\r\n            smooth: true,\r\n            showAllSymbol: true,\r\n            symbol: \"emptyCircle\",\r\n            symbolSize: 6,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#8f82bc'\r\n                }\r\n            },\r\n            label: {\r\n\r\n                normal: {\r\n                    show: true,\r\n                    position: 'top',\r\n                    color: '#fff',\r\n                    fontSize: 10\r\n                }\r\n            },\r\n            data: lineData,\r\n            markArea: {\r\n                silent: true,\r\n                data: markDatas\r\n            }\r\n        },\r\n\r\n        {\r\n            name: \"实力型\",\r\n            type: \"line\",\r\n             smooth: true,\r\n            barWidth: 10,\r\n            symbolSize: 6,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'top',\r\n                    color: '#fff',\r\n                    fontSize: 10\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 5,\r\n                    color: '#4CEB3B'\r\n                }\r\n            },\r\n            data: barData\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oMmVVSKIe_yGf7VkRfD7DtasTDD9f2c","theme":"","layout":"","viewCount":145,"userName":"Y***1","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXEQQ5S2by.png?v=1604913126377","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markArea","series-line","title","tooltip"],"customTags":[],"updaterUserName":"Y***1"}}