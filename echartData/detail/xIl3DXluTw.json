{"status":0,"data":{"cid":"xIl3DXluTw","authorUid":"bd-51531618","authorUserName":"w***n","title":"深色地图显示","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-06-24T09:35:32.000Z","lastUpdateTime":"2021-06-24T09:35:32.000Z","auth":2,"uid":"bd-51531618","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-06-24T09:35:32.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1623048704698-g1I4zum9i.json';\n\nmyChart.showLoading();\n\n$.getJSON(uploadedDataURL, function (geoJson) {\n    //geoJson：地图配置\n    var geoCoordMap = [\n        {\n            name: '铜元局街道',\n            value: 9508,\n            center: '[106.551715,29.535452]',\n        },\n        {\n            name: '花园路街道',\n            value: 6618,\n            center: '[106.559975,29.513858]',\n        },\n        {\n            name: '南坪街道',\n            value: 17425,\n            center: '[106.576293,29.536841]',\n        },\n        {\n            name: '海棠溪街道',\n            value: 52632,\n            center: '[106.594659,29.549126]',\n        },\n        {\n            name: '龙门浩街道',\n            value: 77566,\n            center: '[106.600889,29.558524]',\n        },\n        {\n            name: '弹子石街道',\n            value: 90811,\n            center: '[106.596689,29.588186]',\n        },\n        {\n            name: '南山街道',\n            value: 76247,\n            center: '[106.61456,29.550597]',\n        },\n        {\n            name: '天文街道',\n            value: 6036,\n            center: '[106.660338,29.521843]',\n        },\n        {\n            name: '南坪镇',\n            value: 91474,\n            center: '[106.578033,29.532214]',\n        },\n        {\n            name: '涂山镇',\n            value: 22694,\n            center: '[106.608112,29.583989]',\n        },\n        {\n            name: '鸡冠石镇',\n            value: 12305,\n            center: '[106.61955,29.600138]',\n        },\n        {\n            name: '峡口镇',\n            value: 17520,\n            center: '[106.675192,29.56862]',\n        },\n        {\n            name: '长生桥镇',\n            value: 61539,\n            center: '[106.675452,29.510935]',\n        },\n        {\n            name: '迎龙镇',\n            value: 23673,\n            center: '[106.717726,29.52648]',\n        },\n        {\n            name: '广阳镇',\n            value: 21793,\n            center: '[106.784151,29.601682]',\n        },\n    ]; //区域范围数据\n    //图表加载方法\n    echarts.registerMap('动态地图', geoJson);\n    myChart.hideLoading();\n    option = {\n        backgroundColor: '#0a0b30',\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n                if (typeof params.value[2] == 'undefined') {\n                    return params.name + ' : ' + params.value;\n                } else {\n                    return params.name + ' : ' + params.value[2];\n                }\n            }\n        },\n        legend: {\n            left: 'left',\n            data: ['强', '中', '弱'],\n            textStyle: {\n                color: '#ccc',\n            },\n        },\n        geo: {\n            map: '动态地图',\n            roam: true,\n            label: {\n                normal:{\n                    show:true,\n                    color:'#fff'\n                },\n                emphasis: {\n                    show: true,\n                    color:'#fff'\n                },\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: '#24CFF4',\n                    borderColor: '#2871FF', //线\n                    shadowColor: '#02DAE3',\n                    borderWidth: 0.5,\n                    shadowBlur: 15,\n                    shadowOffsetX : 0,\n                    shadowOffsetY: 0,\n                },\n                emphasis: {\n                    borderWidth: 2.5,\n                    shadowBlur: 15,\n                    areaColor:'#0a0b30'\n                },\n            },\n        },\n        series: {\n            name: '详细情况明细图',\n            type: 'map',\n            geoIndex: 0,\n            map: '动态地图',\n            roam: true,\n            zoom: 1.3,\n            tooltip: {\n                trigger: 'item',\n                formatter: (p) => {\n                    let val = p.value;\n                    let txtCon = \"<div style='text-align:left'>\" + p.name + ':<br />' + val + '</div>';\n                    return txtCon;\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: true,\n                },\n            },\n            data: geoCoordMap,\n        },\n    };\n    myChart.setOption(option);\n\n    //处理分区域颜色范围\n    var mapData = [];\n    var min = null;\n    var max = null;\n    for (var s = 0; s < geoCoordMap.length; s++) {\n        if (!min || geoCoordMap[s]['value'] < min) {\n            min = geoCoordMap[s]['value'];\n        }\n        if (!max || geoCoordMap[s]['value'] > max) {\n            max = geoCoordMap[s]['value'];\n        }\n    }\n    option.visualMap = {\n        min: min,\n        max: max,\n        left: '3%',\n        bottom: '5%',\n        calculable: true,\n        seriesIndex: 0,\n        inRange: {\n            color: ['#164CFF', '#0027AB', '#00196D'],\n        },\n        textStyle: {\n            color: '#24CFF4',\n        },\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js","updaterUID":"bd-51531618","theme":"","layout":"","viewCount":0,"userName":"w***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIl3DXluTw.png?v=1624527333012","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"w***n"}}