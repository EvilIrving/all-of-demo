{"status":0,"data":{"cid":"xImvH-ypAh","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"","description":"map","latestVersion":1,"alwaysLatest":1,"createTime":"2020-08-12T08:23:47.000Z","lastUpdateTime":"2020-08-12T08:23:47.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-12T08:23:47.000Z","code":"let iconRQ = \"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNCRkRBMEJBQzgwRjExRUFBNUI0RTMyMThEN0UxMzFEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNCRkRBMEJCQzgwRjExRUFBNUI0RTMyMThEN0UxMzFEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0JGREEwQjhDODBGMTFFQUE1QjRFMzIxOEQ3RTEzMUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0JGREEwQjlDODBGMTFFQUE1QjRFMzIxOEQ3RTEzMUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5mT42iAAABQ0lEQVR42mL8LabOQCQIBOL1xChkItJAkLp+IBajpqFWQCwPxJ7UNDQCSgdQy1BmIA6Bsl2AmJMahjoAsTiUzQPETtQwNAKN709IAwvUayZQ/hcg/o0k/x6Ig9D0+ABxKJT9HYh/oMm/BBm6GYitgTgfiBmJcLkkEK/CIXcGiGNB3v8JxIVQF31gIA/8AeIWaNK7gRymG4BYH4hPkGjgXSC2A+JaWNChR9QjqIJeIP5PhIGzgdgAiI8Tin2QbSVAvIOAgROBOA0auUQlKV4gtidgqBGp6RSUFrmIKA/ESDEUPcGfBOIUIH6Lln29iTVUCIjdkJJKExDbAPFcqJdPEMpd2AwF5TBWaFKxBeJ6qOHIqaMbmjrcsBUw2AwNh7rKAEeaBaWOMiD2BeJvQOxOyFBuaFJJwZZU0MBWaHCIo0sABBgAetA4Jx5t/ToAAAAASUVORK5CYII=\"\nlet data = [{\n        name: \"北京北七家\",\n        value: [116.24, 39.55]\n    },\n    {\n        name: \"北京芍药居\",\n        value: [116.24, 40]\n    },\n    {\n        name: \"深圳\",\n        value: [114.271522, 22.753644]\n    },\n\n    {\n        name: \"天津\",\n        value: [117.205914, 39.090908]\n    },\n    {\n        name: \"上海\",\n        value: [121.480237, 31.236305]\n    },\n\n];\nlet LableData = [{\n        name: \"北京北七家\",\n        value: [116.24, 39.55],\n        lable: [1.21, 10.20]\n    },\n    {\n        name: \"北京芍药居\",\n        value: [116.24, 40],\n        lable: [1.21, 10.20]\n    },\n    {\n        name: \"深圳\",\n        value: [114.271522, 22.753644],\n        lable: [1.21, 10.20]\n    },\n    {\n        name: \"天津\",\n        value: [117.205914, 39.090908],\n        lable: [1.21, 10.20]\n    },\n    {\n        name: \"上海\",\n        value: [121.480237, 31.236305],\n        lable: [1.21, 10.20]\n    },\n];\n/*let LableData = [\n    {\n    name: \"北京\",\n    coords: [\n        [116.24, 39.55],\n        [115.24, 42.55]\n    ], // 线条位置[开始位置，结束位置]\n    value: [10.21, 1.20]\n}, \n{\n    name: \"深圳\",\n    coords: [\n        [114.271522, 22.753644],\n        [118.24, 18.55, 100]\n    ], // 线条位置[开始位置，结束位置]\n    value: [10.21, 1.20]\n}, \n{\n    name: \"天津\",\n    coords: [\n        [117.205914, 39.090908],\n        [118.24, 40.55]\n    ], // 线条位置[开始位置，结束位置]\n    value: [10.21, 1.20]\n}, \n{\n    name: \"上海\",\n    coords: [\n        [121.480237, 31.236305],\n        [128.24, 35.55, 100]\n    ], // 线条位置[开始位置，结束位置]\n    value: [10.21, 1.20]\n}, \n];*/\noption = {\n    backgroundColor: '#000f1e',\n    geo: {\n        map: 'china',\n        roam: true,\n        aspectScale: 0.85,\n        layoutCenter: [\"50%\", \"50%\"], //地图位置\n        layoutSize: '100%',\n        itemStyle: {\n            normal: {\n                shadowColor: '#276fce',\n                shadowOffsetX: 0,\n                shadowOffsetY: 15,\n                opacity: 0.5,\n            },\n            emphasis: {\n                areaColor: '#276fce',\n\n            }\n        },\n        regions: [{\n            name: '南海诸岛',\n            itemStyle: {\n                areaColor: 'rgba(0, 10, 52, 1)',\n\n                borderColor: 'rgba(0, 10, 52, 1)',\n                normal: {\n                    opacity: 0,\n                    label: {\n                        show: false,\n                        color: \"#009cc9\",\n                    }\n                },\n\n\n            },\n            label: {\n                show: false,\n                color: '#FFFFFF',\n                fontSize: 12,\n            },\n\n\n        }],\n\n    },\n    series: [\n        // 常规地图\n        {\n            type: 'map',\n            mapType: 'china',\n            roam: true,\n            aspectScale: 0.85,\n            layoutCenter: [\"50%\", \"50%\"], //地图位置\n            layoutSize: '100%',\n            zoom: 1, //当前视角的缩放比例\n            // roam: true, //是否开启平游或缩放\n            /*scaleLimit: { //滚轮缩放的极限控制\n                min: 1,\n                max: 10\n            },*/\n            itemStyle: {\n                normal: {\n                    areaColor: '#0c274b',\n                    borderColor: '#1cccff',\n                    borderWidth: 1.5\n\n\n                },\n                emphasis: {\n                    areaColor: '#02102b',\n                    label: {\n                        color: \"#fff\"\n                    }\n\n                }\n            },\n\n\n        },\n        //首都星图标\n        {\n            name: '首都',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: [{\n                name: '首都',\n                value: [116.24, 41.55, 100],\n\n            }, ],\n            symbol: iconRQ,\n            symbolSize: 20,\n            label: {\n                normal: {\n                    show: false,\n\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n\n        },\n        // 区域散点图\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 3,\n            symbolSize: 10,\n            rippleEffect: { //坐标点动画\n                period: 3,\n                scale: 5,\n                brushType: 'fill'\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}',\n                    color: '#b3e2f2',\n                    fontWeight: \"bold\",\n                    fontSize: 18\n                }\n            },\n\n            data: data,\n            itemStyle: { //坐标点颜色\n                normal: {\n                    show: true,\n                    color: 'green',\n                    shadowBlur: 20,\n                    shadowColor: '#fff'\n                },\n                emphasis: {\n                    areaColor: '#f00'\n                }\n            },\n\n        },\n        // 线 和 点\n        {\n            type: 'lines',\n            zlevel: 1, //设置这个才会有轨迹线的小尾巴\n            polyline: true,\n            effect: {\n                show: true,\n                period: 10,\n                trailLength: 0.7,\n                color: '#fff', //流动点颜色\n                symbol: 'arrow',\n                symbolSize: 6\n            },\n            lineStyle: {\n                normal: {\n                    color: '#fff', //线条颜色\n                    width: 1.5,\n                    curveness: 0.2,\n                    shadowColor: '#fff',\n                }\n            },\n            data: [{\n\n                    fromName: \"北京\",\n                    toName: \"深圳\",\n                    coords: [\n                        [116.24, 39.55],\n                        [114.271522, 22.753644],\n                        [116.24, 39.55],\n                        \n\n\n                    ]\n                },\n                {\n\n                    fromName: \"北京\",\n                    toName: \"上海\",\n                    coords: [\n                        [116.24, 39.55],\n                        [121.480237, 31.236305],\n                       [116.24, 39.55],\n\n                    ]\n                },\n                {\n                    fromName: \"北京\",\n                    toName: \"天津\",\n                    coords: [\n                        [116.24, 39.55],\n                        [117.205914, 39.090908],\n                       [116.24, 39.55],\n\n                    ]\n                }\n            ],\n\n        },\n        // lable  \n        {\n            name: 'lable',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'pin',\n            symbolSize: [150, 90],\n            hoverAnimation: true,\n            zlevel: 2,\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: \"#fff\",\n\n                        lineHeight: 15,\n\n                    },\n                    formatter(params) {\n                        return \"上行:\" + params.data.lable[0] + \"G/s\" + \"\\n\" + \"下行:\" + params.data.lable[1] + \"G/s\"\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#1a3961', //标志颜色\n                    opacity: 1,\n                    borderColor: '#aee9fb',\n                    borderWidth: 1,\n                }\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            data: LableData,\n        },\n       /*{\n\n            type: 'lines',\n            zlevel: 3,\n            symbol: 'circle',\n            symbolSize: [5, 5],\n            color: '#ff8003',\n            opacity: 1,\n            label: {\n                show: true,\n                padding: [5, 5],\n                color: '#fff',\n                backgroundColor: \"#1a3961\",\n                borderColor: '#aee9fb',\n                borderWidth: 1,\n                borderRadius: 6,\n                formatter(params) {\n                    console.log(params)\n                    let arr = [params.name, \"上行：\" + params.value[1] + \"G/s\", \"下行：\" + params.value[0] + \"G/s\"];\n                    return arr.join(\"\\n\")\n                },\n                textStyle: {\n                    align: 'left',\n                    lineHeight: 20,\n                }\n               \n            },\n            lineStyle: {\n                type: 'solid',\n                color: '#fff',\n                width: 0.5,\n                opacity: 1,\n\n            },\n            data: LableData,\n\n\n        },*/\n    ]\n}\n\n\n\n\nmyChart.on('georoam', function(params) {\n   \n    var option = myChart.getOption(); //获得option对象\n    if (params.zoom != null && params.zoom != undefined) { //捕捉到缩放时\n        option.geo[0].zoom = option.series[0].zoom; //下层geo的缩放等级跟着上层的geo一起改变\n        option.geo[0].center = option.series[0].center; //下层的geo的中心位置随着上层geo一起改变\n    } else { //捕捉到拖曳时\n        option.geo[0].center = option.series[0].center; //下层的geo的中心位置随着上层geo一起改变\n    }\n    myChart.setOption(option); //设置option\n});","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":1101,"userName":"绿***绿","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xImvH-ypAh.png?v=1597220627975","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","series-scatter"],"customTags":[],"updaterUserName":"绿***绿"}}