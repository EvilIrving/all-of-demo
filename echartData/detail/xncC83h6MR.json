{"status":0,"data":{"cid":"xncC83h6MR","authorUid":"obd-o2WdqV1srME2TYVfYUyClfWVXxVRNBF","authorUserName":"穹***y","title":"半胶囊","description":"2020/8/31 21:04","latestVersion":2,"alwaysLatest":1,"createTime":"2020-08-31T13:05:29.000Z","lastUpdateTime":"2020-08-31T13:05:29.000Z","auth":2,"uid":"obd-o2WdqV1srME2TYVfYUyClfWVXxVRNBF","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-14T02:51:41.000Z","code":"const mock = [{\n        k: '系列1',\n        v: [{\n            k: '类目1',\n            v: 120\n        }, {\n            k: '类目2',\n            v: 110\n        }],\n    },\n    {\n        k: '系列2',\n        v: [{\n            k: '类目1',\n            v: 80\n        }, {\n            k: '类目2',\n            v: 55\n        }],\n    },\n    {\n        k: '系列3',\n        v: [{\n            k: '类目1',\n            v: 80\n        }, {\n            k: '类目2',\n            v: 55\n        }],\n    },\n    {\n        k: '系列4',\n        v: [{\n            k: '类目1',\n            v: 80\n        }, {\n            k: '类目2',\n            v: 55\n        }],\n    },\n    {\n        k: '系列5',\n        v: [{\n            k: '类目1',\n            v: 80\n        }, {\n            k: '类目2',\n            v: 55\n        }],\n    },\n]\n\n// 横轴数据\nconst xAxis = mock.map(item => item.k)\n// 系列 1 数据 (类目1)\nconst seriesData1 = mock.map(item => item.v[0].v)\n// 系列 2 数据 (类目2)\nconst seriesData2 = mock.map(item => item.v[1].v)\n// 最大值 (额外拉高多少根据数据数量级决定)\nconst max = Math.max(...seriesData1, ...seriesData2) + 10\n// 构造柱最大值数组\nconst maxList = []\nfor (let i = 0; i < mock.length; i += 1) {\n    maxList.push(max)\n}\n\noption = {\n    backgroundColor: '#20252E',\n    color: ['#15477B', '#3FF5E6', '#FFCC54'],\n    series: [\n        {\n            // 该系列为背景深蓝色半胶囊\n            data: maxList,\n            type: 'bar',\n            xAxisIndex: 0,\n            silent: true,\n            itemStyle: {\n                borderColor: '#0488A9',\n                barBorderRadius: [20, 20, 0, 0],\n                borderWidth: 2,\n            },\n            barWidth: 30,\n            tooltip: {\n                show: false,\n            },\n        },\n        {\n            name: '类目1',\n            data: seriesData1,\n            type: 'bar',\n            xAxisIndex: 1,\n            itemStyle: {\n                barBorderRadius: 25,\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [{\n                        offset: 0,\n                        color: '#1EF8F3', // 0% 处的颜色\n                    }, {\n                        offset: 0.25,\n                        color: '#67F9F6',\n                    }, {\n                        offset: 0.5,\n                        color: '#A8F6F4',\n                    }, {\n                        offset: 0.75,\n                        color: '#D1FAF9',\n                    }, {\n                        offset: 1,\n                        color: '#E0F8F7', // 100% 处的颜色\n                    }],\n                },\n            },\n            barWidth: 10,\n        },\n        {\n            name: '类目2',\n            data: seriesData2,\n            type: 'bar',\n            xAxisIndex: 1,\n            itemStyle: {\n                barBorderRadius: 25,\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [{\n                        offset: 0,\n                        color: '#E4F634', // 0% 处的颜色\n                    }, {\n                        offset: 0.25,\n                        color: '#EEFC5D',\n                    }, {\n                        offset: 0.5,\n                        color: '#F8974E',\n                    }, {\n                        offset: 0.75,\n                        color: '#FFBC88',\n                    }, {\n                        offset: 1,\n                        color: '#FD9B50', // 100% 处的颜色\n                    }],\n                },\n            },\n            barWidth: 10,\n        },\n    ],\n    dataZoom: {\n        type: 'inside',\n        xAxisIndex: [0, 1],\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n    },\n    legend: {\n        itemWidth: 10,\n        top: 15,\n        right: 25,\n        textStyle: {\n            color: '#fff',\n        },\n    },\n    xAxis: [{\n            data: maxList,\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'bottom',\n        },\n        {\n            data: xAxis,\n            axisLine: {\n                lineStyle: {\n                    color: '#00D2FF',\n                },\n            },\n            axisLabel: {\n                color: '#fff',\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'bottom',\n        },\n    ],\n    yAxis: {\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            color: '#fff',\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            lineStyle: {\n                color: '#00D2FF',\n                opacity: 0.1,\n            },\n        },\n    },\n}","html":"","externalScripts":"","updaterUID":"obd-o2WdqV1srME2TYVfYUyClfWVXxVRNBF","theme":"","layout":"","viewCount":2281,"userName":"穹***y","commentCount":0,"starCount":22,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xncC83h6MR.png?v=1602643901519","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","tooltip"],"customTags":["胶囊"],"updaterUserName":"穹***y"}}