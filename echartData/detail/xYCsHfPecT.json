{"status":0,"data":{"cid":"xYCsHfPecT","authorUid":"bd-3773765287","authorUserName":"大***边","title":"test 预测-02","description":"带年预测","latestVersion":3,"alwaysLatest":1,"createTime":"2018-12-29T09:01:42.000Z","lastUpdateTime":"2018-12-29T09:01:42.000Z","auth":2,"uid":"bd-3773765287","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-07T09:22:14.000Z","code":"var data = [\r    [2010, 11.35],\r    [2011, 25.11],\r    [2012, 36.61],\r    [2013, 47.26],\r    [2014, 56.72],\r    [2015, 66.37],\r    [2016, 70.13],\r    [2017, 80.88],\r    [2019, 7.15]\r];\r// data.push(['预测',avg])\rvar data5= [\r    [2010, 11.35],\r    [2011, 25.11],\r    [2012, 36.61],\r    [2013, 47.26],\r    [2014, 56.72],\r    [2015, 66.37],\r    [2016, 70.13],\r    [2017, 80.88]\r];\rdata.sort(function(a, b) {\r    return a[0] - b[0];\r});\rvar sum =0;\rvar data3=[];\rfor(var i=0;i<data.length;i++){\r    data3.push(data[i][1])\r    sum+=data[i][1]\r}\rvar avg=sum/data.length;\rvar myRegression = ecStat.regression('polynomial', data5);\rvar data1 = myRegression.points.sort(function(a, b) {\r    return a[0] - b[0];\r});\rvar data2 = [];\rfor (var i = 0; i < data.length - 2; i++) {\r    data2.push('')\r}\rdata2.push(data[data.length - 2][1])\rdata2.push(data1[data1.length-1][1])\r//======= x轴===========\rvar data4=[];\rfor(var i=0;i<data.length;i++){\r    data4.push(data[i][0])\r}\roption = {\r    tooltip: {\r        trigger: 'axis',\r        formatter: function(params) {\r           if (params[1].value === '' || params[1].value===params[0].value) {\r               return params[0].axisValue + '年<br/>' + params[0].data;\r            } else {\r                return params[0].axisValue + '年<br/>本年实际值:' + params[0].data+'<br/>本年预测值:'+ params[1].data;\r            }\r        }\r    },\r    xAxis: [{\r        type: 'category',\r        name: '年',\r        data:data4,\r        splitLine: {\r            show: false,\r        },\r        splitNumber: 20\r    }],\r    yAxis: {\r        type: 'value',\r        splitLine: {\r            show: false,\r        }\r    },\r    grid: {\r        top: 90\r    },\r    series: [{\r        name: 'line',\r        type: 'line',\r        lineStyle: {\r            color: '#ff7405'\r        },\r        data: data3,\r        xAxisIndex: 0\r    }, {\r        name: 'line1',\r        type: 'line',\r        lineStyle: {\r            color: '#1260FF',\r            type: 'dashed'\r        },\r        data:data2,\r        xAxisIndex: 0\r    }]\r};","html":"","externalScripts":"http://echarts.baidu.com/resource/echarts-stat-latest/dist/ecStat.min.js","updaterUID":"bd-3773765287","theme":"","layout":"","viewCount":66,"userName":"大***边","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYCsHfPecT.png?v=1546852934670","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","tooltip"],"customTags":[],"updaterUserName":"大***边"}}