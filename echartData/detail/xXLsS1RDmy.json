{"status":0,"data":{"cid":"xXLsS1RDmy","authorUid":"bd-599414847","authorUserName":"A***M","title":"stack图","description":"stack line","latestVersion":2,"alwaysLatest":1,"createTime":"2019-03-04T05:28:47.000Z","lastUpdateTime":"2019-03-04T05:28:47.000Z","auth":2,"uid":"bd-599414847","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-04T06:14:18.000Z","code":"const data = {\n    title: 'test',\n    legend: ['邮件营销', '联盟广告', '视频广告'],\n    color: ['#6D83BC', '#bbb', '#8E96A5', '#8CA6D7', '#AAA38E', '#786659', '#939347'],\n    yAxis: [\n        [92.3, 100, 98.2, 91, 93, 90, 91.2, 93],\n        [80, 75, 86, 83, 89, 85, 88, 82],\n        [75, 66, 68, 80, 80, 66, 63, 64, 62]\n    ],\n    xAxis: ['只想要你知道', '遥不可及的你', '只要平凡', '时间飞行', '对你太想念',\n        '不找了', '可能否'\n    ],\n    ysplitLine: '#F1F3F5',\n}\nlet {\n    title,\n    color,\n    xAxis,\n    yAxis,\n    legend\n} = data\n\nlet seriesData = []\nxAxis.forEach((item, index) => {\n    let name = legend[index]\n    let _areaStyle = {}\n    if (index == 0) {\n        _areaStyle = {\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    fontSize: '13',\n                    color: '#414957'\n                }\n            },\n            areaStyle: { //区域填充样式\n                normal: {\n                    //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: 'rgba(109,131,188,0.23)'\n                        },\n                        {\n                            offset: 1,\n                            color: 'rgba(109,131,188,0.07)'\n                        }\n                    ], false),\n                    shadowColor: 'rgba(53,142,215, 0.9)', //阴影颜色\n                    shadowBlur: 20 //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。\n                }\n            }\n        }\n\n    } else {\n        _areaStyle = {\n            label: {\n                normal: {\n                    show: false,\n                }\n            },\n        }\n    }\n    console.log(_areaStyle)\n    seriesData.push({\n        name: name,\n        type: 'line',\n        // stack: '总量',\n        symbol: 'circle', // 默认是空心圆（中间是白色的），改成实心圆\n        symbolSize: 5,\n        label: {\n            normal: {\n                show: true,\n                position: 'top',\n                fontSize: '13',\n                color: '#414957'\n            }\n        },\n        ..._areaStyle,\n        lineStyle: {\n            normal: {\n                color: color[index], \n            }\n        },\n        itemStyle: {\n            normal: {\n                color: color[index],\n\n            }\n        },\n        data: yAxis[index]\n    })\n})\n\noption = {\n    backgroundColor: \"#fff\",\n    title: {\n        show: false,\n        text: title,\n        x: '4%',\n        top: '4%',\n        textStyle: {\n            color: '#4D5562',\n            fontSize: '16',\n            fontWeight: 'normal'\n        }\n    },\n    tooltip: {\n        trigger: 'axis',\n        // formatter: function(params) {\n        //     let time = ''\n        //     let str = []\n        //     for (var i of params) {\n        //         time = i.name.replace(/\\n/g, '').concat('<br/>')\n        //         str.push((i.data === 'null' || i.data === null) ?\n        //             `<span style=\"height: 10px;width: 10px;display: inline-block;border-radius: 50%;background:${color[i.seriesIndex]}\"></span>${i.seriesName}：无数据<br/>` :\n        //             `<span style=\"height: 10px;width: 10px;display: inline-block;border-radius: 50%;background:${color[i.seriesIndex]}\"></span>${i.seriesName}：${utilNumDecimal(i.data)}<br/>`\n        //         )\n        //     }\n        //     return time + str.join('')\n        // }\n    },\n    legend: {\n        icon: 'rect',\n        data: legend,\n        itemWidth: 10,\n        itemHeight: 10,\n        itemGap: 12,\n        borderRadius: 4,\n        textStyle: {\n            fontSize: 12,\n            color: '#414957'\n        }\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: xAxis,\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            interval: '0',\n            textStyle: {\n                color: '#687284',\n                align: 'center',\n                whiteSpace: 'wrap',\n                lineHeight: 12,\n                height: 50,\n                fontSize: 10\n            }\n        }\n    },\n    yAxis: {\n        type: 'value',\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false,\n            textStyle: {\n                color: '#687284'\n            }\n        },\n        splitLine: {\n            show: true,\n            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\n                color: data.ysplitLine || '#F1F3F5',\n                type: 'solid'\n            },\n        },\n    },\n    series: seriesData\n};","html":"","externalScripts":"","updaterUID":"bd-599414847","theme":"","layout":"","viewCount":42,"userName":"A***M","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXLsS1RDmy.png?v=1551680058477","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"A***M"}}