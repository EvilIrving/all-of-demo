{"status":0,"data":{"cid":"xCiaWF76O0","authorUid":"obd-o2STdPTVRhVkPpxeka5LrEqIKA76-61","authorUserName":"末***5","title":"宁波市地图","description":"南阳市VIP分布","latestVersion":3,"alwaysLatest":0,"createTime":"2021-09-11T08:02:50.000Z","lastUpdateTime":"2021-09-11T08:58:15.000Z","auth":2,"uid":"obd-o2STdPTVRhVkPpxeka5LrEqIKA76-61","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-11T08:58:15.000Z","code":"var uploadedDataURL = '/asset/get/s/data-1631348115500-IVpQsgtly.json';\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('ningbo', geoJson);\n    myChart.hideLoading();\n    var geoCoordMap = {\n        下应街道: [111.843801, 33.046358],\n        钟公庙街道: [111.843801, 33.046358],\n        梅墟街道: [111.843801, 33.046358],\n        中河街道: [111.843801, 33.046358],\n        首南街道: [111.843801, 33.046358],\n        潘火街道: [111.843801, 33.046358],\n        百丈街道: [111.843801, 33.046358],\n        东胜街道: [111.843801, 33.046358],\n        明楼街道: [111.843801, 33.046358],\n        白鹤街道: [111.843801, 33.046358],\n        东柳街道: [111.843801, 33.046358],\n        东郊街道: [111.843801, 33.046358],\n        福明街道: [111.843801, 33.046358],\n        新明街道: [111.843801, 33.046358],\n        聚贤街道: [111.843801, 33.046358],\n        瞻岐镇: [111.843801, 33.046358],\n        咸祥镇: [111.843801, 33.046358],\n        塘溪镇: [111.843801, 33.046358],\n        东钱湖镇: [111.843801, 33.046358],\n        东吴镇: [111.843801, 33.046358],\n        五乡镇: [111.843801, 33.046358],\n        邱隘镇: [111.843801, 33.046358],\n        云龙镇: [111.843801, 33.046358],\n        横溪镇: [111.843801, 33.046358],\n        姜山镇: [111.843801, 33.046358],\n    };\n    var data = [{ name: '姜山镇', value: 12 }];\n\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value).concat(data[i].img),\n                });\n            }\n        }\n        return res;\n    };\n    option = {\n        title: {\n            top: 20,\n            text: '南阳市VIP分布',\n            subtext: '南阳市VIP分布',\n            textStyle: {\n                color: '#000',\n            },\n        },\n        tooltip: {\n            formatter: function (params) {\n                var html = '';\n                html =\n                    '<div>' +\n                    '<div >' +\n                    params.name +\n                    '</div>' +\n                    '<div>' +\n                    '<span style=\"font-size:14px;font-weight:bold;\">' +\n                    'IVP数：' +\n                    params.data.value[2] +\n                    ' ' +\n                    '</span>' +\n                    '</div>' +\n                    '</div>';\n                return html;\n            },\n        },\n        geo: {\n            map: 'ningbo',\n            aspectScale: 1.3,\n            type: 'map',\n            zoom: 1,\n            showLegendSymbol: true,\n            label: {\n                normal: {\n                    show: true,\n                    color: '#fff',\n                },\n                emphasis: {\n                    show: true,\n                    color: 'red',\n                },\n            },\n            regions: [\n                {\n                    name: '姜山镇',\n                    itemStyle: {\n                        shadowColor: 'rgba(0, 0, 0, 0.5)',\n                        shadowBlur: 10,\n                        borderType: [5, 10],\n\n                        borderDashOffset: 500,\n                    },\n                },\n            ],\n            itemStyle: {\n                normal: {\n                    areaColor: '#3a7fd5',\n                    borderColor: '#0a53e9', //线\n                    shadowColor: '#092f8f', //外发光\n                    shadowBlur: 20,\n                },\n                emphasis: {\n                    areaColor: '#0a2dae', //悬浮区背景\n                },\n            },\n        },\n        series: [\n            {\n                name: '666',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                symbol: 'pin',\n                symbolSize: [50, 50],\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 10,\n                        },\n                        formatter(value) {\n                            return value.data.value[2];\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: function (val) {\n                            if (val.dataIndex == '0') {\n                                return 'blue';\n                            } else if (val.dataIndex == '1') {\n                                return 'green';\n                            } else if (val.dataIndex == '2') {\n                                return '#ff9900';\n                            } else {\n                                return 'red';\n                            }\n                        },\n                    },\n                },\n                data: convertData(\n                    data.sort(function (a, b) {\n                        return b.value - a.value;\n                    })\n                ),\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                zlevel: 1,\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\n","html":"","externalScripts":"","updaterUID":"obd-o2STdPTVRhVkPpxeka5LrEqIKA76-61","theme":"","layout":"","viewCount":0,"userName":"末***5","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xCiaWF76O0.png?v=1631350695723","isCustomThumbnail":0,"builtinTags":["category-work","title","tooltip"],"customTags":[],"updaterUserName":"末***5"}}