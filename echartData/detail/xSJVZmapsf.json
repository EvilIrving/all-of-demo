{"status":0,"data":{"cid":"xSJVZmapsf","authorUid":"bd-2399318835","authorUserName":"1***5","title":"柱图","description":"数据增加柱间隔不变","latestVersion":3,"alwaysLatest":1,"createTime":"2018-04-13T05:41:16.000Z","lastUpdateTime":"2018-04-13T05:41:16.000Z","auth":2,"uid":"bd-2399318835","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.0.4","versionCreateTime":"2018-04-13T07:14:35.000Z","code":"let config = {\r\n    barWidth: 20,\r\n    barGap: 10,\r\n    legend: ['巴西', '印尼', '美国', '印度', '中国', '世界人口(万)'],\r\n    data: [{\r\n        name: 'test',\r\n        data: [18203, 23489, 29034, 104970, 131744, 630230]\r\n    }]\r\n};\r\n\r\nconfig.data.map(item => {\r\n    item = Object.assign(item, {\r\n        type: 'bar',\r\n        stack: 1\r\n    });\r\n    return item;\r\n});\r\n\r\nconst COLOR = ['#ffc5c1'];\r\n\r\nfunction getOption() {\r\n    let height = (config.barWidth + config.barGap) * config.legend.length;\r\n    return {\r\n        color: config.color || COLOR,\r\n        grid: {\r\n            top: 0,\r\n            left: 16,\r\n            right: -68,\r\n            height: height\r\n        },\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{b}：{c}'\r\n        },\r\n        xAxis: {\r\n            type: 'value',\r\n            axisLabel: null,\r\n            axisLine: null,\r\n            splitLine: null\r\n        },\r\n        yAxis: {\r\n            type: 'category',\r\n            axisLabel: null,\r\n            axisLine: null,\r\n            splitLine: null,\r\n            data: config.legend\r\n        },\r\n        label: {\r\n            show: true,\r\n            color: '#fff',\r\n            position: 'insideLeft',\r\n            formatter: '{b}',\r\n            textBorderColor: COLOR[0],\r\n            textBorderWidth: 2\r\n        },\r\n        barWidth: config.barWidth,\r\n        series: config.data\r\n    };\r\n}\r\n\r\noption = getOption();\r\n\r\nlet i = 0;\r\nlet timer = setInterval(() => {\r\n    i > 5 && clearTimeout(timer);\r\n    config.legend.unshift('test' + i++);\r\n    config.data[0].data.unshift(Math.random() * 600000 | 0);\r\n    myChart.setOption(getOption());\r\n}, 1000);\r\n","html":"","externalScripts":"","updaterUID":"bd-2399318835","theme":"","layout":"","viewCount":68,"userName":"1***5","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJVZmapsf.png?v=1523603675619","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"1***5"}}