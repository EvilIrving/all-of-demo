{"status":0,"data":{"cid":"xn9y5hH7Q_","authorUid":"bd-101698999","authorUserName":"Z***8","title":"自定义单选图例切换数据源","description":"用无数据的series生成图例，再监听“legendselectchanged”事件更换dataset.source并setOption","latestVersion":1,"alwaysLatest":1,"createTime":"2018-11-22T07:04:32.000Z","lastUpdateTime":"2018-11-22T07:04:32.000Z","auth":2,"uid":"bd-101698999","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-22T07:04:32.000Z","code":"datasetSourceObj = {\n    '年': [\n        ['年', '数据'],\n        ['2014', 31],\n        ['2015', 41],\n        ['2016', 59],\n        ['2017', 26],\n        ['2018', 53],\n    ],\n    '月': [\n        ['月', '数据'],\n        ['1月', 14],\n        ['2月', 14],\n        ['3月', 21],\n        ['4月', 35],\n        ['5月', 62],\n    ],\n    '周': [\n        ['周', '数据'],\n        ['第1周', 17],\n        ['第2周', 32],\n        ['第3周', 5],\n        ['第4周', 8]\n    ]\n};\n\noption = {\n    legend: [{\n        selectedMode: 'single',\n        data: ['年', '月', '周']\n    }],\n    tooltip: {},\n    dataset: {\n        source: datasetSourceObj['年']\n    },\n    xAxis: {\n        type: 'category'\n    },\n    yAxis: {},\n    // Declare several bar series, each will be mapped\n    // to a column of dataset.source by default.\n    series: (function() {\n        let res = [{\n            type: 'bar'\n        }];\n        res = res.concat([{\n                type: 'line',\n                name: '年',\n                data: []\n            },\n            {\n                type: 'line',\n                name: '月',\n                data: []\n            },\n            {\n                type: 'line',\n                name: '周',\n                data: []\n            }\n        ]);\n        return res;\n    })()\n};\n\nmyChart.on('legendselectchanged', function(params) {\n    let datasetSourceNew;\n    myChart.setOption({\n        dataset: {\n            source: datasetSourceObj[params.name]\n        }\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-101698999","theme":"","layout":"","viewCount":233,"userName":"Z***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xn9y5hH7Q_.png?v=1542870272892","isCustomThumbnail":1,"builtinTags":["category-work","dataset","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"Z***8"}}