{"status":0,"data":{"cid":"xUf0UL1Wcc","authorUid":"bd-2302755999","authorUserName":"159*****209","title":"湖北省柱状地图","description":"地图柱状图","latestVersion":2,"alwaysLatest":1,"createTime":"2018-11-29T07:33:30.000Z","lastUpdateTime":"2018-11-29T07:33:30.000Z","auth":2,"uid":"bd-2302755999","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-29T07:35:47.000Z","code":"let mapData = ((echarts.getMap('湖北') || {}).geoJson || {}).features || [],\n    names = [];\ngeoCoordMap = {};\nmapData.map((f) => {\n    let name = (f.properties || {}).name,\n        cp = (f.properties || {}).cp;\n    if (name && '' !== name && cp) {\n        geoCoordMap[name] = cp;\n        names.push(name);\n    }\n});\nlet dataAxis = [];\nfunction generateNameData(min, max) {\n    let data = [];\n    names.map((n,idx) => {\n        let value = Math.round((Math.random() * (max - min) + min) * 100) / 100;\n        let cp = geoCoordMap[n]\n        data.push({\n            name: (idx+1)+' '+ n,\n            value:  cp.slice().concat(value)\n        });\n        dataAxis.push(n);\n    });\n    return data;\n}\n\nlet barData = generateNameData(100, 300);\noption = {\n    title: {\n        text: '湖北省柱状地图',\n        x: 'left',\n        top: \"10\",\n        textStyle: {\n            color: '#000',\n            fontSize: 14\n        }\n    },\n    geo: {\n        map: '湖北',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        itemStyle: {\n            normal: {\n                areaColor: '#323c48',\n                borderColor: '#111'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n    tooltip: {\n        show: true,\n        // formatter:(params)=>{\n        //   let data = \"测试1:\"+params.name + \"<br/>\"+\"值:\"+ params.value[2]+\"<br/>\"+\"地理坐标:[\" + params.value[0]+\",\"+params.value[1] +\"]\";\n        //   return data;\n        // },\n    },\n    series: [\n        //柱状图\n        {\n            name: '柱状图',\n            type: \"scatter\",\n            coordinateSystem: 'geo',\n            symbol:'rect',\n            symbolSize:function(value){\n                let val = value[2];\n                let _height = val*100/300;\n                return [10,_height];\n            },\n            label: {\n                show: true,\n                formatter: '{b}',\n                position:'bottom'\n            },\n            data: barData\n        }\n    ]\n};\n","html":"","externalScripts":"/dep/echarts/map/js/province/hubei.js","updaterUID":"bd-2302755999","theme":"","layout":"","viewCount":227,"userName":"159*****209","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xUf0UL1Wcc.png?v=1543476948028","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"159*****209"}}