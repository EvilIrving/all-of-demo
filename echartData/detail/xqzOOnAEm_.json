{"status":0,"data":{"cid":"xqzOOnAEm_","authorUid":"bd-509072023","authorUserName":"M***8","title":"供回温度曲线","description":"矢量画五角星\n柱状图渐变时修改设置tooltip的marker\n默认不显示某个legend\ndata为对象数组","latestVersion":2,"alwaysLatest":1,"createTime":"2020-04-27T05:44:08.000Z","lastUpdateTime":"2020-04-27T05:44:08.000Z","auth":2,"uid":"bd-509072023","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-04T06:33:30.000Z","code":"option = {\r\n    title: {\r\n        text: '',\r\n        x: 'center',\r\n        y: 0,\r\n        textStyle: {\r\n            color: '#B4B4B4',\r\n            fontSize: 16,\r\n            fontWeight: 'normal'\r\n        }\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        backgroundColor: 'rgba(0,0,0,0.6)',\r\n        // formatter:\"{b}:{c}\"\r\n        formatter: function(params) {\r\n            let str = params[0].name + ' ' + params[0].data.stationName + '</br>';\r\n            params.forEach(item => {\r\n                if (item.seriesName === '供温' || item.seriesName === '回温') {\r\n                    str += item.marker + item.seriesName + ' : ' + item.data.value + ' ℃' + '</br>';\r\n                } else if (item.seriesName === '压力值(Mpa)') {\r\n                    // 柱状图渐变时设置marker\r\n                    item.marker = '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#6C50F3;\"></span>';\r\n                    str += item.marker + item.seriesName + ' : ' + item.data.value + ' m';\r\n                }\r\n            });\r\n            return str;\r\n        }\r\n    },\r\n    legend: {\r\n        // 修改legend的高度宽度\r\n        itemHeight: 5,\r\n        itemWidth: 24,\r\n        data: [{\r\n                name: '供温',\r\n                icon: 'rect' // legend的icon\r\n            },\r\n            {\r\n                name: '回温',\r\n                icon: 'rect'\r\n            },\r\n            {\r\n                name: '压力值(Mpa)',\r\n                icon: 'rect'\r\n            }\r\n        ],\r\n        textStyle: {\r\n            color: '#B4B4B4'\r\n        },\r\n        top: '7%',\r\n        // 选择关闭的legend\r\n        selected: {\r\n            '回温': false\r\n        }\r\n    },\r\n    grid: {\r\n        x: '8%',\r\n        width: '82%',\r\n        y: '12%'\r\n    },\r\n    xAxis: [{\r\n        // type:'category',\r\n        data: [\"1km\",'2km','3km','4km','5km','6km'],\r\n        boundaryGap: true,\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#B4B4B4'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    }],\r\n    yAxis: [{\r\n            name: '供回温度(℃）',            \r\n            nameLocation: 'middle',\r\n            nameTextStyle: {\r\n                padding: [3, 4, 50, 6]\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    type: 'dashed',\r\n                    color: '#eee'\r\n                }\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#333'\r\n                },\r\n                formatter: '{value} '\r\n            }\r\n        },\r\n        {\r\n            name: '压力值(Mpa)',\r\n            nameLocation: 'middle',\r\n            nameTextStyle: {\r\n                padding: [50, 4, 5, 6]\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#333'\r\n                },\r\n                formatter: '{value} '\r\n            }\r\n        }\r\n    ],\r\n    series: [{\r\n            name: '供温',\r\n            type: 'line',\r\n            smooth: true,\r\n            showSymbol: true,\r\n            // 矢量画五角星\r\n            symbol: 'path://M150 0 L80 175 L250 75 L50 75 L220 175 Z',\r\n            symbolSize: 12,\r\n            yAxisIndex: 0,\r\n            areaStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1,[{\r\n                                offset: 0,\r\n                                color: 'rgba(250,180,101,0.3)'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: 'rgba(250,180,101,0)'\r\n                            }\r\n                        ],),\r\n                    shadowColor: 'rgba(250,180,101,0.2)',\r\n                    shadowBlur: 20\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FF8000'\r\n                }\r\n            },\r\n            // data中可以使用对象，value代表相应的值，另外可加入自定义的属性\r\n            data: [{\r\n                value: 1,\r\n                stationName: \"s1\"\r\n            }, {\r\n                value: 3,\r\n                stationName: \"s2\"\r\n            }, {\r\n                value: 4,\r\n                stationName: \"s3\"\r\n            }, {\r\n                value: 9,\r\n                stationName: \"s4\"\r\n            }, {\r\n                value: 3,\r\n                stationName: \"s5\"\r\n            }, {\r\n                value: 2,\r\n                stationName: \"s6\"\r\n            }]\r\n        },\r\n        {\r\n            name: '回温',\r\n            type: 'line',\r\n            smooth: true,\r\n            showSymbol: true,\r\n            symbol: 'emptyCircle',\r\n            symbolSize: 12,\r\n            yAxisIndex: 0,\r\n            areaStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1,\r\n                        [{\r\n                                offset: 0,\r\n                                color: 'rgba(199, 237, 250,0.5)'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: 'rgba(199, 237, 250,0.2)'\r\n                            }\r\n                        ],\r\n                        false\r\n                    )\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#3bbc86'\r\n                }\r\n            },\r\n            data: [{\r\n                value: 31,\r\n                stationName: \"s1\"\r\n            }, {\r\n                value: 36,\r\n                stationName: \"s2\"\r\n            }, {\r\n                value: 54,\r\n                stationName: \"s3\"\r\n            }, {\r\n                value: 89,\r\n                stationName: \"s4\"\r\n            }, {\r\n                value: 73,\r\n                stationName: \"s5\"\r\n            }, {\r\n                value: 22,\r\n                stationName: \"s6\"\r\n            }]\r\n        },\r\n        {\r\n            name: '压力值(Mpa)',\r\n            type: 'bar',\r\n            barWidth: 30,\r\n            yAxisIndex: 1,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(108,80,243,0.3)'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: 'rgba(108,80,243,0)'\r\n                        }\r\n                    ]),\r\n                    //柱状图圆角\r\n                    barBorderRadius: [30,30,0,0],\r\n                }\r\n            },\r\n          \r\n            data: [{\r\n                value: 11,\r\n                stationName: \"s1\"\r\n            }, {\r\n                value: 34,\r\n                stationName: \"s2\"\r\n            }, {\r\n                value: 54,\r\n                stationName: \"s3\"\r\n            }, {\r\n                value: 39,\r\n                stationName: \"s4\"\r\n            }, {\r\n                value: 63,\r\n                stationName: \"s5\"\r\n            }, {\r\n                value: 24,\r\n                stationName: \"s6\"\r\n            }]\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-509072023","theme":"","layout":"","viewCount":7530,"userName":"M***8","commentCount":0,"starCount":28,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqzOOnAEm_.png?v=1599201210888","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"M***8"}}