{"status":0,"data":{"cid":"x70kQPPjsD","authorUid":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","authorUserName":"136******85","title":"柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-24T08:36:19.000Z","lastUpdateTime":"2021-09-24T08:36:19.000Z","auth":2,"uid":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-24T08:36:19.000Z","code":"\r\n  var name = ['仁济医院1', '仁济医院2', '仁济医院3', '仁济医院4', '仁济医院5', '仁济医院6'];\r\n   var data = [200, 100, 200, 200, 100, 123];\r\n  var max = data.map(() => {\r\n    return Math.max(...data);\r\n  });\r\n\r\n  if (data) {\r\n    var databottom = data.map(() => {\r\n      return 0.1;\r\n    });\r\n  }\r\n\r\n  var data2 = max * 1.3;\r\n  option = {\r\n      backgroundColor:'#000',\r\n    tooltip: {\r\n      show: false\r\n    },\r\n    grid: {\r\n      top: '8%',\r\n      left: '13%',\r\n      right: '2%',\r\n      bottom: '22%'\r\n    },\r\n    xAxis: {\r\n      data: name,\r\n      show: true,\r\n      axisTick: {\r\n        show: false\r\n      },\r\n      axisLine: {\r\n        show: false,\r\n        lineStyle: {\r\n          type: 'solid',\r\n          color: 'gray',\r\n          opacity: 1\r\n        }\r\n      },\r\n      axisLabel: {\r\n        interval: 0,\r\n        textStyle: {\r\n          color: '#fff',\r\n          fontSize: 12,\r\n          fontFamily: 'pangmen'\r\n        },\r\n        margin: 5 // 刻度标签与轴线之间的距离。\r\n      }\r\n    },\r\n    yAxis: {\r\n      name: '',\r\n      nameTextStyle: {\r\n        color: 'white',\r\n        fontSize: '12',\r\n        fontWeight: 400,\r\n        align: 'right',\r\n        lineHeight: 46\r\n      },\r\n      splitLine: {\r\n        show: true,\r\n        lineStyle: {\r\n          type: 'solid',\r\n          opacity: 0.1\r\n        }\r\n      },\r\n      axisTick: {\r\n        show: false\r\n      },\r\n      axisLine: {\r\n        show: false\r\n      },\r\n      axisLabel: {\r\n        textStyle: {\r\n          color: '#fff',\r\n          fontSize: 12,\r\n          fontFamily: 'pangmen'\r\n        }\r\n      }\r\n    },\r\n    series: [\r\n      { // 三个最低下的圆片\r\n        name: '',\r\n        type: 'pictorialBar',\r\n        symbolSize: [10, 5],\r\n        symbolOffset: [-2.5, 0],\r\n        z: 12,\r\n\r\n        itemStyle: {\r\n          opacity: 1,\r\n          color: function (params) {\r\n            var a = params.name;\r\n            console.log(a);\r\n            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n              offset: 0,\r\n              color: '#2CBEFF' // 0% 处的颜色\r\n            }, {\r\n              offset: 1,\r\n              color: '#0D7BE1' // 100% 处的颜色\r\n            }], false);\r\n          }\r\n        },\r\n        emphasis: {\r\n          show: false\r\n        },\r\n        data: databottom\r\n      },\r\n      // 下半截柱状图\r\n      {\r\n        name: '',\r\n        type: 'bar',\r\n        barWidth: 10,\r\n        barGap: '-100%',\r\n        lineStyle: {\r\n          color: '#2CBEFF'\r\n        },\r\n        tooltip: {\r\n          show: true,\r\n          trigger: 'item',\r\n          textStyle: {\r\n            fontFamily: 'pangmen'\r\n          },\r\n          formatter: (res) => {\r\n            console.log(res);\r\n            return `<span style=\"width:10px;height:10px;border-radius:10px;background-color:#2CBEFF;display:block;float:left;margin-right:5px;margin-top:5px\"></span>${res.name} : ${res.data}万人`;\r\n          }\r\n        },\r\n        itemStyle: { // lenged文本\r\n          opacity: 0.7,\r\n          color: function () {\r\n            // var a = params.name.slice(0, 2);\r\n            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n              offset: 0,\r\n              color: '#2CBEFF' // 0% 处的颜色\r\n            }, {\r\n              offset: 1,\r\n              color: '#0D7BE1' // 100% 处的颜s色\r\n            }], false);\r\n          }\r\n        },\r\n\r\n        data: data\r\n      },\r\n      {\r\n        name: '',\r\n        type: 'pictorialBar',\r\n        symbolSize: [10, 5],\r\n        symbolOffset: [-2.5, 0],\r\n        z: 12,\r\n        itemStyle: {\r\n          opacity: 1,\r\n          color: function (params) {\r\n            var a = params.name;\r\n            console.log(a);\r\n            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n              offset: 0,\r\n              color: '#2CDFFF' // 0% 处的颜色\r\n            }, {\r\n              offset: 1,\r\n              color: '#2CDFFF' // 100% 处的颜色\r\n            }], false);\r\n          }\r\n        },\r\n        symbolPosition: 'end',\r\n        data: data\r\n      },\r\n      {\r\n        name: '',\r\n        type: 'bar',\r\n        barWidth: 20,\r\n        silent: true, // 不响应鼠标事件\r\n        barGap: '-150%',\r\n        z: 0,\r\n        itemStyle: {\r\n          color: 'rgba(255,255,255,0.06)'\r\n          // opacity: 0.2\r\n        },\r\n        data: data2\r\n      }\r\n    ]\r\n  };\r\n","html":"","externalScripts":"","updaterUID":"obd-o24ymbNi3Yq60yH7vRNH5fWBkdEbxBI","theme":"","layout":"","viewCount":0,"userName":"136******85","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x70kQPPjsD.png?v=1632472579623","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"136******85"}}