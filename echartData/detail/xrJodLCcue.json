{"status":0,"data":{"cid":"xrJodLCcue","authorUid":"bd-1108639900","authorUserName":"a***1","title":"echarts 小程序 - 图片查看器","description":"echarts 小程序 第二波，图片查看器 ","latestVersion":2,"alwaysLatest":1,"createTime":"2017-02-10T05:58:11.000Z","lastUpdateTime":"2017-02-10T05:58:11.000Z","auth":1,"uid":"bd-1108639900","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.4.0","versionCreateTime":"2017-03-17T03:31:15.000Z","code":"  var imgs = [\n      'http://pic43.nipic.com/20140714/1741729_203904425226_2.jpg',\n      'http://i1.mhimg.com/kl688file/2012-2/2012022913021647170.jpg',\n      'http://www.tianshui.com.cn/Files/RoUpFiles/4192533128.jpg'\n  ];\n\n  var currentIndex = 0;\n  var timer;\n\n  function menuFormater(params, label) {\n      let obj = null;\n      if (params instanceof Array) {\n          obj = params[0]\n      } else {\n          obj = params;\n      }\n      return obj.dataIndex !== 0 ? '' : label;\n  }\n\n  var currentMenu;\n\n\n  var option = {\n      title: {\n          text: 'echarts 小程序 - 图片查看器'\n      },\n      xAxis: {\n          position: 'top',\n          type: 'value',\n          axisTick: {\n              show: false\n          },\n          axisLabel: {\n              show: false\n          },\n          axisLine: {\n              show: false\n          },\n          splitLine: {\n              show: false\n          }\n\n      },\n      yAxis: {\n          type: 'category',\n          data: ['', '', '', '', '', '', '', '', '', '', '', ''],\n          axisTick: {\n              show: false\n          },\n          axisLabel: {\n              show: false\n          },\n          axisLine: {\n              show: false\n          },\n          splitLine: {\n              show: false\n          }\n\n      },\n      series: [{\n          name: 'all',\n          type: 'pictorialBar',\n          symbol: 'image://' + imgs[currentIndex],\n          symbolSize: [300, 300],\n          symbolRepeat: true,\n          data: [0, 0, 0, 0, 0, 0, 1],\n          animationEasing: 'elasticOut',\n          symbolPosition: 'center'\n      }, {\n          name: 'previous',\n          type: 'bar',\n          stack: '总量',\n          label: {\n              normal: {\n                  formatter: function(params) {\n                      return menuFormater(params, '')\n                  },\n                  textStyle: {\n                      fontSize: 14,\n                      color: '#000'\n                  },\n                  itemStyle: {\n                      color: '#fff'\n                  },\n                  show: true,\n                  position: [10, 10]\n              }\n          },\n          data: [300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          itemStyle: {\n              normal: {\n                  color: '#99a9bf'\n              }\n          }\n      }, {\n          name: 'previous',\n          type: 'bar',\n          stack: '总量',\n          label: {\n              normal: {\n                  formatter: function(params) {\n                      return menuFormater(params, '上一张')\n                  },\n                  textStyle: {\n                      fontSize: 14,\n                      color: '#000'\n                  },\n                  show: true,\n                  position: [10, 10]\n              }\n          },\n          data: [300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          itemStyle: {\n              normal: {\n                  color: '#99a9bf'\n              }\n          }\n      }, {\n          name: 'play',\n          type: 'bar',\n          stack: '总量',\n          label: {\n              normal: {\n                  formatter: function(params) {\n                      return menuFormater(params, '播放/停止')\n                  },\n                  textStyle: {\n                      fontSize: 14,\n                      color: '#000'\n                  },\n                  show: true,\n                  position: [10, 10]\n              }\n          },\n          data: [300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          itemStyle: {\n              normal: {\n                  color: '#99a9bf'\n              }\n          }\n      }, {\n          name: 'next',\n          type: 'bar',\n          stack: '总量',\n          label: {\n              normal: {\n                  formatter: function(params) {\n                      return menuFormater(params, '下一张')\n                  },\n                  textStyle: {\n                      fontSize: 14,\n                      color: '#000'\n                  },\n                  show: true,\n                  position: [10, 10]\n              }\n          },\n          data: [300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          itemStyle: {\n              normal: {\n                  color: '#99a9bf'\n              }\n          }\n      }, {\n          name: 'about',\n          type: 'bar',\n          stack: '总量',\n          label: {\n              normal: {\n                  formatter: function(params) {\n                      return menuFormater(params, '')\n                  },\n                  textStyle: {\n                      fontSize: 14,\n                      color: '#000'\n                  },\n                  show: true,\n                  position: [10, 10]\n              }\n          },\n          data: [300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          itemStyle: {\n              normal: {\n                  color: '#99a9bf'\n              }\n          },\n          barGap: '1%',\n      }]\n  };\n\n  myChart.on('click', function(params) {\n      if (params.seriesName === 'previous') { //上一张\n          if (timer !== null) {\n              clearInterval(timer);\n              timer = null;\n          }\n          currentIndex--;\n          if (currentIndex < 0) {\n              currentIndex = imgs.length - 1;\n          }\n          option.series[0].symbol = 'image://' + imgs[currentIndex];\n          myChart.setOption(option)\n          return;\n      }\n      if (params.seriesName === 'play') { //上一张\n          if (timer !== null) {\n              clearInterval(timer);\n              timer = null;\n              return ;\n          }\n          timer = setInterval(function() {\n              currentIndex--;\n              if (currentIndex < 0) {\n                  currentIndex = imgs.length - 1;\n              }\n              option.series[0].symbol = 'image://' + imgs[currentIndex];\n              myChart.setOption(option)\n          }, 1000);\n      }\n      if (params.seriesName === 'next') { //上一张\n          if (timer !== null) {\n              clearInterval(timer);\n              timer = null;\n          }\n          currentIndex++;\n          if (currentIndex >= imgs.length) {\n              currentIndex = 0;\n          }\n          option.series[0].symbol = 'image://' + imgs[currentIndex];\n          myChart.setOption(option)\n          return;\n      }\n\n  });","html":"","externalScripts":"","updaterUID":"bd-3123811015","theme":"","layout":"","viewCount":7228,"userName":"a***1","commentCount":0,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJodLCcue.png?v=1486706291572","isCustomThumbnail":1,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","title"],"customTags":[],"updaterUserName":"夺命三叔"}}