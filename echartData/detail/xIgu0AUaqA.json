{"status":0,"data":{"cid":"xIgu0AUaqA","authorUid":"bd-1896067372","authorUserName":"a***6","title":"不同区域显示不同污染程度","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2019-05-06T07:50:54.000Z","lastUpdateTime":"2019-05-06T07:50:54.000Z","auth":2,"uid":"bd-1896067372","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.4.0","versionCreateTime":"2019-10-18T01:45:40.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1557127768277-VykwmqY7O.json\";\nvar util = {\n    //pollutionName 污染物名称,dateType 筛选类型\n    getlevelValueByPollution: function(pollutionName){\n        var num0,\n            num1,\n            num2,\n            num3,\n            num4,\n            num5,\n            num6;\n        switch(pollutionName.toUpperCase()){\n            case\"SO2\":\n                num0=0;num1=75;num2=150;num3=500;num4=650;num5=800;num6=1600\n                break;\n            case\"NO2\":\n                num0=0;num1=50;num2=100;num3=200;num4=700;num5=1200;num6=2340\n                break;\n            case\"CO\":\n                num0=0;num1=2.5;num2=5;num3=10;num4=35;num5=60;num6=90;\n                break;\n            case\"O3\":\n                num0=0;num1=80;num2=160;num3=200;num4=300;num5=400;num6=800;\n                break;\n            case\"PM10\":\n                num0=0;num1=25;num2=50;num3=150;num4=250;num5=350;num6=420;\n                break;\n            case\"PM25\":\n                num0=0;num1=17.5;num2=35;num3=75;num4=115;num5=150;num6=250;\n                break;\n            case\"AQI\":\n                num0=0;num1=25;num2=50;num3=100;num4=150;num5=200;num6=300;\n                break;\n            default: break\n        }\n        return[\n            num0,\n            num1,\n            num2,\n            num3,\n            num4,\n            num5,\n            num6\n        ]\n    },\n    //传入污染物的值\n    getLevelPollution: function(pollutionName,value){\n        var color = '';\n        var num0, num1, num2, num3, num4, num5,num6;\n        var result=this.getlevelValueByPollution(pollutionName);\n        num0=result[0];\n        num1=result[1];\n        num2=result[2];\n        num3=result[3];\n        num4=result[4];\n        num5=result[5];\n        num6=result[6];\n        if (value>num0&&value<=num1){\n            color=\"#79E73C\";\n        } else if (value>=num1&&value<=num2){\n            color=\"#79E73C\";\n        } else if (value>num2&&value<=num3){\n            color=\"#FFD800\";\n        } else if (value>num3&&value<=num4){\n            color=\"#FF9000\";\n        } else if (value>num4&&value<=num5){\n            color=\"#FF2A00\";\n        } else if (value>num5&&value<=num6){\n            color=\"#EB007F\";\n        } else if (value>num6){\n            color=\"#C7021D\";\n        }else{\n            color=\"#666666\";\n        }\n        return color;\n    }\n}\n\n\nvar data = [\n    {\n        PQMC : '渝东北片区',\n        AQI : 118\n    },\n    {\n        PQMC : '渝西片区',\n        AQI : 112\n    },{\n        PQMC : '渝东南片区',\n        AQI : 97\n    },\n    {\n        PQMC : '主城片区',\n        AQI : 97\n    }   \n]\n\n\nvar seriesData = [];\ndata.forEach(function(item){\n    \n    var color = util.getLevelPollution('AQI', item.AQI);\n    var obj = {\n        name: item.PQMC,\n        itemStyle: {\n            normal: {\n                color: color\n            }\n        }\n        \n    }\n    seriesData.push(obj);\n})\n\n\n\nmyChart.showLoading();\n$.get(uploadedDataURL, function(chinaJson) {\n    echarts.registerMap('chongqing', chinaJson);\n    myChart.hideLoading();\n    myChart.setOption({\n\n        series: [{\n            type: 'map',\n            map: 'chongqing',\n            \n            selectedMode:'single',\n            itemStyle:{\n                normal:{\n                    label:{\n                        show:true\n                    }\n                },\n                emphasis:{\n                    areaColor: '#F95B5A',\n                    label:{\n                        show:true\n                    }\n                }\n            },\n            data:seriesData\n        }]\n    });\n});","html":"","externalScripts":"","updaterUID":"bd-1896067372","theme":"","layout":"","viewCount":217,"userName":"a***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIgu0AUaqA.png?v=1571363140438","isCustomThumbnail":0,"builtinTags":["category-work","series-map"],"customTags":[],"updaterUserName":"a***6"}}