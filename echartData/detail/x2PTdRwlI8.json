{"status":0,"data":{"cid":"x2PTdRwlI8","authorUid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","authorUserName":"z***6","title":"3D柱状+折线","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-07-19T14:46:20.000Z","lastUpdateTime":"2021-07-19T14:48:48.000Z","auth":1,"uid":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-19T14:48:48.000Z","code":"// 绘制左侧面\nconst CubeLeft = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    // 会canvas的应该都能看得懂，shape是从custom传入的\n    const xAxisPoint = shape.xAxisPoint;\n    const c0 = [shape.x, shape.y];\n    const c1 = [shape.x - 18, shape.y - 10];\n    const c2 = [xAxisPoint[0] - 18, xAxisPoint[1] - 9];\n    const c3 = [xAxisPoint[0], xAxisPoint[1]];\n    ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath();\n  },\n});\n// 绘制右侧面\nconst CubeRight = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const xAxisPoint = shape.xAxisPoint;\n    const c1 = [shape.x, shape.y];\n    const c2 = [xAxisPoint[0], xAxisPoint[1]];\n    const c3 = [xAxisPoint[0] + 18, xAxisPoint[1] - 9];\n    const c4 = [shape.x + 18, shape.y - 9];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n// 绘制顶面\nconst CubeTop = echarts.graphic.extendShape({\n  shape: {\n    x: 0,\n    y: 0,\n  },\n  buildPath: function (ctx, shape) {\n    const c1 = [shape.x, shape.y];\n    const c2 = [shape.x + 18, shape.y - 9];\n    const c3 = [shape.x, shape.y - 18];\n    const c4 = [shape.x - 18, shape.y - 10];\n    ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath();\n  },\n});\n// 注册三个面图形\necharts.graphic.registerShape('CubeLeft', CubeLeft);\necharts.graphic.registerShape('CubeRight', CubeRight);\necharts.graphic.registerShape('CubeTop', CubeTop);\nconst VALUE = [2012, 1230, 3790, 2349, 1654, 1230, 3790, 2349, 1654, 3790, 2349, 1654];\noption = {\n  backgroundColor: '#012366',\n  // color: ['#02E4FF','#F6AE31'],\n  title: {\n    text: '',\n    top: 32,\n    left: 18,\n    textStyle: {\n      color: '#00F6FF',\n      fontSize: 24,\n    },\n  },\n  grid: {\n    left: 20,\n    right: 40,\n    bottom: '19%',\n    top: 107,\n    containLabel: true,\n  },\n  legend: {\n    tyle: 'plain',\n    show: true,\n    left: '50%',\n    orient: 'horizontal',\n    align: 'left',\n    // data: ['地点','用电量'],\n    data: [\n      {\n        name: '地点',\n        // icon: 'rect',\n        itemStyle: {\n          color: '#02E4FF',\n        },\n        textStyle: {\n          color: '#A9C0FF',\n        },\n      },\n      {\n        name: '用电量',\n      },\n    ],\n  },\n  xAxis: {\n    type: 'category',\n    data: [\n      '德州',\n      '德城区',\n      '陵城区',\n      '禹城市',\n      '乐陵市',\n      '临邑县',\n      '平原县',\n      '夏津县',\n      '武城县',\n      '庆云县',\n      '宁津县',\n      '齐河县',\n    ],\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: 'white',\n      },\n    },\n    offset: 20,\n    axisTick: {\n      show: false,\n      length: 9,\n      alignWithLabel: true,\n      lineStyle: {\n        color: '#F6AE31',\n      },\n    },\n    axisLabel: {\n      show: true,\n      textStyle: {\n        color: '#c3dbff', //更改坐标轴文字颜色\n        fontSize: 14, //更改坐标轴文字大小\n      },\n    },\n  },\n  yAxis: [\n    {\n      type: 'value',\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'white',\n        },\n      },\n      splitLine: {\n        show: true,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        fontSize: 16,\n      },\n      boundaryGap: ['20%', '20%'],\n    },\n    {\n      type: 'value',\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'white',\n        },\n      },\n      splitLine: {\n        show: false,\n      },\n      axisTick: {\n        show: false,\n      },\n      axisLabel: {\n        show: false,\n        fontSize: 16,\n      },\n      boundaryGap: ['20%', '20%'],\n    },\n  ],\n  series: [\n    {\n      name: '地点',\n      type: 'custom',\n      renderItem: (params, api) => {\n        const location = api.coord([api.value(0), api.value(1)]);\n        return {\n          type: 'group',\n          children: [\n            {\n              type: 'CubeLeft',\n              shape: {\n                api,\n                xValue: api.value(0),\n                yValue: api.value(1),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  {\n                    offset: 0,\n                    color: '#00F6FF',\n                    // color: 'transparent',\n                  },\n                  {\n                    offset: 0.5,\n                    color: 'rgba(7, 185, 244, 0.46)',\n                    // color: 'transparent',\n                  },\n                  {\n                    offset: 1,\n                    // color: '#49BEE5',\n                    // color: 'transparent',\n                    color: 'rgba(48, 91, 251, 0.01)',\n                  },\n                ]),\n              },\n            },\n            {\n              type: 'CubeRight',\n              shape: {\n                api,\n                xValue: api.value(0),\n                yValue: api.value(1),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  {\n                    offset: 0,\n                    color: '#00F6FF',\n                    // color: 'transparent',\n                  },\n                  {\n                    offset: 0.5,\n                    color: 'rgba(7, 185, 244, 0.46)',\n                    // color: 'transparent',\n                  },\n                  {\n                    offset: 1,\n                    // color: '#49BEE5',\n                    // color: 'transparent',\n                    color: 'rgba(48, 91, 251, 0.01)',\n                  },\n                ]),\n              },\n            },\n            {\n              type: 'CubeTop',\n              shape: {\n                api,\n                xValue: api.value(0),\n                yValue: api.value(1),\n                x: location[0],\n                y: location[1],\n                xAxisPoint: api.coord([api.value(0), 0]),\n              },\n              style: {\n                fill: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  {\n                    offset: 0,\n                    color: '#2F80ED',\n                  },\n                  {\n                    offset: 1,\n                    color: '#56CCF2',\n                  },\n                ]),\n              },\n            },\n          ],\n        };\n      },\n      data: VALUE,\n    },\n    {\n      name: '用电量',\n      type: 'line',\n      smooth: true, //是否平滑\n      showAllSymbol: true,\n      symbol: 'circle',\n      yAxisIndex: 1,\n      symbolSize: 16,\n      lineStyle: {\n        normal: {\n          color: '#F6AE31',\n          width: 5,\n        },\n      },\n      zlevel: 1,\n      label: {\n        show: false,\n        position: 'top',\n        textStyle: {\n          color: '#6c50f3',\n        },\n      },\n      itemStyle: {\n        // color: '#fff',\n        // borderColor: '#F6AE31',\n        color: '#F6AE31',\n        borderColor: '#fff',\n        borderWidth: 3,\n      },\n      areaStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(\n            0,\n            0,\n            0,\n            1,\n            [\n              {\n                offset: 0,\n                color: 'rgba(251,176,48,0.8)',\n              },\n              {\n                offset: 1,\n                color: 'rgba(239, 170, 52, 0.02)',\n              },\n            ],\n            false\n          ),\n          shadowColor: 'rgba(0, 96, 255, 0.9)',\n          shadowBlur: 10,\n        },\n      },\n      data: [4600, 4790, 4900, 5130, 5600, 5800, 5700, 5600, 5400, 5300, 5200, 5100],\n    },\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oD0ZAj7SYexlF97EeSi1Rg-xZX-mU1s","theme":"","layout":"","viewCount":0,"userName":"z***6","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2PTdRwlI8.png?v=1626706128254","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom","series-line","title"],"customTags":[],"updaterUserName":"z***6"}}