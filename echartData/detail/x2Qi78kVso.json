{"status":0,"data":{"cid":"x2Qi78kVso","authorUid":"bd-2122468014","authorUserName":"南***墨","title":"飞行航班数统计分析","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2018-10-19T03:28:19.000Z","lastUpdateTime":"2018-10-31T03:11:43.000Z","auth":2,"uid":"bd-2122468014","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-01T08:49:33.000Z","code":" var dataInfo = [{\r\n         \"name\": \"real\",\r\n         \"count\": [{\r\n                 \"name\": \"real\",\r\n                 \"point\": \"4-5\",\r\n                 \"total\": 1\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"5-6\",\r\n                 \"total\": 9\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"6-7\",\r\n                 \"total\": 35\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"7-8\",\r\n                 \"total\": 39\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"8-9\",\r\n                 \"total\": 38\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"9-10\",\r\n                 \"total\": 29\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"10-11\",\r\n                 \"total\": 22\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"11-12\",\r\n                 \"total\": 23\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"12-13\",\r\n                 \"total\": 29\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"13-14\",\r\n                 \"total\": 25\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"14-15\",\r\n                 \"total\": 24\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"15-16\",\r\n                 \"total\": 22\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"16-17\",\r\n                 \"total\": 16\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"17-18\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"18-19\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"19-20\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"20-21\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"21-22\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"22-23\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"23-0\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"0-1\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"1-2\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"2-3\",\r\n                 \"total\": 0\r\n             },\r\n             {\r\n                 \"name\": \"real\",\r\n                 \"point\": \"3-4\",\r\n                 \"total\": 0\r\n             }\r\n         ]\r\n     },\r\n     {\r\n         \"name\": \"plan\",\r\n         \"count\": [{\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"4-5\",\r\n                 \"total\": 1\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"5-6\",\r\n                 \"total\": 16\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"6-7\",\r\n                 \"total\": 34\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"7-8\",\r\n                 \"total\": 38\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"8-9\",\r\n                 \"total\": 37\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"9-10\",\r\n                 \"total\": 32\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"10-11\",\r\n                 \"total\": 20\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"11-12\",\r\n                 \"total\": 31\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"12-13\",\r\n                 \"total\": 21\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"13-14\",\r\n                 \"total\": 29\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"14-15\",\r\n                 \"total\": 21\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"15-16\",\r\n                 \"total\": 26\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"16-17\",\r\n                 \"total\": 24\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"17-18\",\r\n                 \"total\": 30\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"18-19\",\r\n                 \"total\": 26\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"19-20\",\r\n                 \"total\": 18\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"20-21\",\r\n                 \"total\": 20\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"21-22\",\r\n                 \"total\": 22\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"22-23\",\r\n                 \"total\": 18\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"23-0\",\r\n                 \"total\": 7\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"0-1\",\r\n                 \"total\": 3\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"1-2\",\r\n                 \"total\": 5\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"2-3\",\r\n                 \"total\": 8\r\n             },\r\n             {\r\n                 \"name\": \"plan\",\r\n                 \"point\": \"3-4\",\r\n                 \"total\": 0\r\n             }\r\n         ]\r\n     }\r\n ];\r\n var legendData = [];\r\n var barData = [];\r\n var lineData = [];\r\n var xAxisData = [];\r\n var bgMaxData = [];\r\n for (let i = 0; i < dataInfo.length; i++) {\r\n     if (dataInfo[i].name == \"real\") {\r\n         dataInfo[i].name = \"实际\";\r\n         legendData.push(dataInfo[i].name);\r\n         for (let j = 0; j < dataInfo[i].count.length; j++) {\r\n             lineData.push(dataInfo[i].count[j].total);\r\n             xAxisData.push(dataInfo[i].count[j].point);\r\n         }\r\n     } else {\r\n         dataInfo[i].name = \"计划\";\r\n         legendData.push(dataInfo[i].name);\r\n         for (let j = 0; j < dataInfo[i].count.length; j++) {\r\n             barData.push(dataInfo[i].count[j].total);\r\n         }\r\n     }\r\n }\r\n var maxpoint = Math.max.apply(null, barData);\r\n if (maxpoint < 50) {\r\n     maxpoint = 50;\r\n } else if (maxpoint < 100) {\r\n     maxpoint = 100;\r\n } else if (maxpoint < 150) {\r\n     maxpoint = 150;\r\n } else if (maxpoint < 300) {\r\n     maxpoint = 300;\r\n } else if (maxpoint < 500) {\r\n     maxpoint = 500;\r\n } else if (maxpoint < 700) {\r\n     maxpoint = 700;\r\n } else if (maxpoint < 1000) {\r\n     maxpoint = 1000;\r\n }\r\n for (var j = 0; j < dataInfo[0].count.length; j++) {\r\n     dataInfo[0].count[j].maxpoint = maxpoint\r\n     bgMaxData.push(dataInfo[0].count[j].maxpoint)\r\n }\r\n var option = {\r\n     backgroundColor: \"#0e2a43\",\r\n     color: [\"#3398DB\", \"#ff733f\"],\r\n     tooltip: {\r\n         trigger: \"axis\", //鼠标经过提示\r\n         formatter: function(params) {\r\n             var rest = params[0].name + \"<br />\";\r\n             var unit = params[0].name.substring(\r\n                 params[0].name.indexOf(\"(\") + 1,\r\n                 params[0].name.indexOf(\")\")\r\n             );\r\n             for (var i = 0; i < params.length - 1; i++) {\r\n                 rest +=\r\n                     params[i].seriesName + \"：\" + params[i].data + unit + \"<br />\";\r\n             }\r\n             return rest;\r\n         }\r\n     },\r\n     grid: {\r\n         left: \"1%\",\r\n         right: \"5%\",\r\n         top: \"15%\",\r\n         bottom: \"10%\",\r\n         containLabel: true\r\n     },\r\n     legend: {\r\n         data: legendData,\r\n         icon: \"rect\",\r\n         top: \"-5\",\r\n         right: \"45\",\r\n         itemWidth: 20,\r\n         itemHeight: 20,\r\n         textStyle: {\r\n             color: \"#fff\",\r\n             fontSize: 16\r\n         }\r\n     },\r\n     xAxis: {\r\n         type: \"category\",\r\n         axisLabel: {\r\n             //坐标轴刻度标签的相关设置。\r\n             interval: 1, //设置为 1，表示『隔一个标签显示一个标签』\r\n             textStyle: {\r\n                 color: \"#9fa49b\"\r\n             }\r\n         },\r\n         axisLine: {\r\n             //坐标轴轴线相关设置\r\n             lineStyle: {\r\n                 color: \"#9fa49b\",\r\n                 opacity: 1\r\n             }\r\n         },\r\n         splitLine: {\r\n             //坐标轴在 grid 区域中的分隔线。\r\n             show: false\r\n         },\r\n         axisTick: {\r\n             show: false\r\n         },\r\n         data: xAxisData\r\n     },\r\n     yAxis: [{\r\n             name: \"实际（架）\",\r\n             type: \"value\",\r\n             min: 0,\r\n             max: maxpoint,\r\n             axisLabel: {\r\n                 //坐标轴刻度标签的相关设置。\r\n                 // interval: 0, //设置为 1，表示『隔一个标签显示一个标签』\r\n                 textStyle: {\r\n                     color: \"#9fa49b\"\r\n                 }\r\n             },\r\n             axisLine: {\r\n                 //坐标轴轴线相关设置\r\n                 onZero: false,\r\n                 lineStyle: {\r\n                     color: \"#9fa49b\",\r\n                     opacity: 1\r\n                 }\r\n             },\r\n             splitLine: {\r\n                 //坐标轴在 grid 区域中的分隔线。\r\n                 show: false\r\n             },\r\n             axisTick: {\r\n                 show: false\r\n             }\r\n         },\r\n         {\r\n             name: \"计划（架）\",\r\n             type: \"value\",\r\n             position: \"right\",\r\n             min: 0,\r\n             max: maxpoint,\r\n             axisLabel: {\r\n                 textStyle: {\r\n                     color: \"#9fa49b\"\r\n                 }\r\n             },\r\n             axisLine: {\r\n                 onZero: false,\r\n                 lineStyle: {\r\n                     color: \"#9fa49b\"\r\n                 }\r\n             },\r\n             axisTick: {\r\n                 show: false\r\n             },\r\n             splitLine: {\r\n                 show: false\r\n             }\r\n         }\r\n     ],\r\n     series: [{\r\n             name: \"计划\",\r\n             type: \"bar\",\r\n             barWidth: 20,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     position: \"top\",\r\n                     textStyle: {\r\n                         color: \"#ffffff\",\r\n                         fontSize: 12\r\n                     }\r\n                 }\r\n             },\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                             offset: 0,\r\n                             color: \"#343cff\"\r\n                         },\r\n                         {\r\n                             offset: 1,\r\n                             color: \"#458efe\"\r\n                         }\r\n                     ])\r\n                 }\r\n             },\r\n             data: barData\r\n         },\r\n         {\r\n             name: \"实际\",\r\n             yAxisIndex: 1, //使用的 y 轴的 index，在单个图表实例中存在多个 y轴的时候有用。\r\n             smooth: true,\r\n             type: \"line\",\r\n             symbol: \"circle\",\r\n             label: {\r\n                 show: true,\r\n                 position: 'top',\r\n                 textStyle: {\r\n                     color: '#ed00c1',\r\n                     fontSize: 14,\r\n                 }\r\n             },\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#ed00c1\"\r\n                 }\r\n             }, //拐点样式\r\n             lineStyle: {\r\n                 // 系列级个性化折线样式\r\n                 width: 2,\r\n                 type: \"solid\",\r\n                 color: \"#ed00c1\"\r\n             },\r\n             data: lineData\r\n         },\r\n         {\r\n             name: \"\",\r\n             type: \"bar\",\r\n             barWidth: 20,\r\n             xAxisIndex: 0,\r\n             // yAxisIndex: 1,\r\n             // barGap: '-135%',\r\n             barGap: \"-100%\",\r\n             // data: [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],\r\n             data: bgMaxData,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#2e3c50\"\r\n                 }\r\n             },\r\n             zlevel: -1\r\n         }\r\n     ]\r\n };","html":"","externalScripts":"","updaterUID":"bd-2122468014","theme":"default","layout":"","viewCount":1289,"userName":"南***墨","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2Qi78kVso.png?v=1541062173299","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"南***墨"}}