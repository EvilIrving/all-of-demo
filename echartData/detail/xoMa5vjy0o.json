{"status":0,"data":{"cid":"xoMa5vjy0o","authorUid":"obd-oP4-ZByoFRNYGFeNalIYF1jQhtdIQ9B","authorUserName":"Y***8","title":"双层圆环图","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-08-05T02:37:56.000Z","lastUpdateTime":"2021-08-05T05:55:20.000Z","auth":2,"uid":"obd-oP4-ZByoFRNYGFeNalIYF1jQhtdIQ9B","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-05T05:55:20.000Z","code":"const sourceData = [ // 内层的数据\n    {\n        name: '小学',\n        value: 210\n    },\n    {\n        name: '初中',\n        value: 240\n    },\n    {\n        name: '高中',\n        value: 330\n    },\n    {\n        name: '大学',\n        value: 580\n    }\n]\n\nconst arr  =[]\nsourceData.map(item => arr.push(item.name))\n\nconst sourceDataOut = [ // 外层的数据\n    {\n        name: '小学一年级',\n        chartType: 1, // 自定义的字段，用于对齐颜色\n        value: 10\n    },\n    {\n        name: '小学二年级',\n        chartType: 1,\n        value: 20\n    },\n    {\n        name: '小学三年级',\n        chartType: 1,\n        value: 30\n    },\n    {\n        name: '小学四年级',\n        chartType: 1,\n        value: 40\n    },\n    {\n        name: '小学五年级',\n        chartType: 1,\n        value: 50\n    },\n    {\n        name: '小学六年级',\n        chartType: 1,\n        value: 60\n    },\n    {\n        name: '初中一年级',\n        chartType: 2,\n        value: 70\n    },\n    {\n        name: '初中二年级',\n        chartType: 2,\n        value: 80\n    },\n    {\n        name: '初中三年级',\n        chartType: 2,\n        value: 90\n    },\n    {\n        name: '高中一年级',\n        chartType: 3,\n        value: 100\n    },\n    {\n        name: '高中二年级',\n        chartType: 3,\n        value: 110\n    },\n    {\n        name: '高中三年级',\n        chartType: 3,\n        value: 120\n    },\n    {\n        name: '大学一年级',\n        chartType: 4,\n        value: 130\n    },\n    {\n        name: '大学二年级',\n        chartType: 4,\n        value: 140\n    },\n    {\n        name: '大学三年级',\n        chartType: 4,\n        value: 150\n    },\n    {\n        name: '大学四年级',\n        chartType: 4,\n        value: 160,\n        itemStyle: {\n            color: '#9013fe'\n        }\n    }\n]\nconst color= ['#d0021b','#f5a623', '#7ed321','#9013fe']\nsourceDataOut.map((item,index) => {\n    item.itemStyle = {\n        color: color[item.chartType - 1]\n    }\n})\n\noption = {\n    title: {\n        text: '双层圆环图'\n    },\n    color,\n    tooltip: {\n        show: true,\n        padding: [10, 20],\n          backgroundColor: 'rgba(0,0,0,0.75)',\n          textStyle: {\n            color: '#fff'\n          },\n          formatter: (params) => {\n               var htmlStr= ''\n              if (arr.indexOf(params.name) !== -1) {\n                 return htmlStr\n              } else {\n                htmlStr = '<div style=\"text-align: left;\">' + params.name + '</div>'\n                htmlStr += '</div>'\n                return htmlStr\n              }\n          },\n          confine: true // 超出的部分不会被遮盖\n        },\n    legend: {\n        show: true,\n        orient: 'vertical',\n        right: '5%',\n        top: '50%',\n        data: ['小学','初中','高中','大学'],\n        itemGap: 20,\n        itemWidth: 12,\n        itemHeight: 12,\n    },\n    series: [\n        { // 内层圆的绘制\n        type: 'pie',\n        data: sourceData,\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        },\n        emphasis: { // 高亮的状态\n            scale: false,\n            scaleSize: 20\n        },\n        radius: ['20%', '30%']\n    },\n    { // 外层圆的绘制\n        type: 'pie',\n        radius: ['31%', '90%'],\n        itemStyle: {\n            opacity: 0.3,\n            borderWidth: 1,\n            borderColor: '#fff'\n        },\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        },\n        emphasis: { // 高亮的状态\n            scale: false,\n            scaleSize: 20\n        },\n        data: sourceDataOut\n    }\n    ]\n};\n","html":"","externalScripts":"","updaterUID":"obd-oP4-ZByoFRNYGFeNalIYF1jQhtdIQ9B","theme":"","layout":"","viewCount":0,"userName":"Y***8","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoMa5vjy0o.png?v=1628142920776","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"Y***8"}}