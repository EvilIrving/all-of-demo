{"status":0,"data":{"cid":"xX1U1empHY","authorUid":"obd-oFuxaYqCvfrZipugKqTqENvUs9IaT5q","authorUserName":"m***1","title":"","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-12-16T05:36:50.000Z","lastUpdateTime":"2021-12-16T06:43:55.000Z","auth":2,"uid":"obd-oFuxaYqCvfrZipugKqTqENvUs9IaT5q","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-16T06:43:55.000Z","code":"\r\n\r\nlet angle = 0;//角度，用来做简单的动画效果的\r\nlet value = 55.33;\r\noption1 = {\r\n    backgroundColor:\"#0B1837\",\r\n    color: [\"#EAEA26\", \"#906BF9\", \"#FE5656\", \"#01E17E\", \"#3DD1F9\", \"#FFAD05\"],\r\n    // title: {\r\n    //     text: '网络/安全设备',\r\n    //     left: '60',\r\n    //     top: 0,\r\n    //     textAlign: 'center',\r\n    //     textStyle: {\r\n    //         color: '#fff',\r\n    //         fontSize: 14,\r\n    //         fontWeight: 0\r\n    //     }\r\n    // },\r\n    grid: {\r\n        left: -100,\r\n        top: -2250,\r\n        bottom: 10000,\r\n        right: 10000,\r\n        containLabel: true\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{b} : {c} ({d}%)\"\r\n    },\r\n    legend: {\r\n        type: \"scroll\",\r\n        orient: \"vartical\",\r\n        // x: \"right\",\r\n        top: \"center\",\r\n        right: \"15\",\r\n        // bottom: \"0%\",\r\n        itemWidth: 16,\r\n        itemHeight: 8,\r\n        itemGap: 16,\r\n        textStyle: {\r\n            color: '#A3E2F4',\r\n            fontSize: 12,\r\n            fontWeight: 0\r\n        },\r\n        data: ['IDS', 'VPN', '交换机', '防火墙', 'WAF', '堡垒机']\r\n    },\r\n    polar: {},\r\n    angleAxis: {\r\n        interval: 1,\r\n        type: 'category',\r\n        data: [],\r\n        z: 10,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: \"#0B4A6B\",\r\n                width: 1,\r\n                type: \"solid\"\r\n            },\r\n                        symbolSize:[10,10]\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            show: true,\r\n            color: \"#0B4A6B\",\r\n            margin: 8,\r\n            fontSize: 16\r\n        },\r\n    },\r\n    radiusAxis: {\r\n        boundaryGap : true,\r\n        radius: [\"70%\", \"75%\"],\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: \"#0B3E5E\",\r\n                width: 1,\r\n                type: \"solid\"\r\n            },\r\n                        symbolSize:[10,10]\r\n        },\r\n        axisLabel: {\r\n            formatter: '{value} %',\r\n            show: false,\r\n            padding: [0, 0, 20, 0],\r\n            color: \"#0B3E5E\",\r\n            fontSize: 16\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: \"#0B3E5E\",\r\n                width: 2,\r\n                type: \"solid\"\r\n            }\r\n        }\r\n    },\r\n    calculable: true,\r\n    series: [  {\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 2,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.6,\r\n                        startAngle: (180+angle) * Math.PI / 180,\r\n                        endAngle: (270+angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, {\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 2,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65,\r\n                        startAngle: (270+-angle) * Math.PI / 180,\r\n                        endAngle: (40+-angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, {\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                return {\r\n                    type: 'arc',\r\n                    shape: {\r\n                        cx: api.getWidth() / 2,\r\n                        cy: api.getHeight() / 2,\r\n                        r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65,\r\n                        startAngle: (90+-angle) * Math.PI / 180,\r\n                        endAngle: (220+-angle) * Math.PI / 180\r\n                    },\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",\r\n                        fill: \"transparent\",\r\n                        lineWidth: 1.5\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, {\r\n            name: \"ring5\",\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 2;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65;\r\n                let point = getCirlPoint(x0, y0, r, (90+-angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",//粉\r\n                        fill: \"#0CD3DB\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        }, {\r\n            name: \"ring5\",  //绿点\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 2;\r\n                let y0 = api.getHeight() / 2;\r\n                let r = Math.min(api.getWidth(), api.getHeight()) / 2 * 0.65;\r\n                let point = getCirlPoint(x0, y0, r, (270+-angle))\r\n                return {\r\n                    type: 'circle',\r\n                    shape: {\r\n                        cx: point.x,\r\n                        cy: point.y,\r\n                        r: 4\r\n                    },\r\n                    style: {\r\n                        stroke: \"#0CD3DB\",      //绿\r\n                        fill: \"#0CD3DB\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },{\r\n        type: 'pie',\r\n        radius: [\"5%\", \"10%\"],\r\n        hoverAnimation: false,\r\n        id:40,\r\n        labelLine: {\r\n            normal: {\r\n                show: false,\r\n                length: 30,\r\n                length2: 55\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        data: [{\r\n            name: '',\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#0B4A6B\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        type: 'pie',\r\n        radius: [\"70%\", \"75%\"],\r\n        hoverAnimation: false,\r\n        id:30,\r\n        labelLine: {\r\n            normal: {\r\n                show: false,\r\n                length: 30,\r\n                length2: 55\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        name: \"\",\r\n        data: [{\r\n            name: '',\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#0B4A6B\"\r\n                }\r\n            }\r\n        }]\r\n    },{\r\n        stack: 'a',\r\n        type: 'pie',\r\n        radius: ['20%', '60%'],\r\n        roseType: 'area',\r\n        zlevel:10,\r\n        id:50,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                formatter: \"{c}\",\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                },\r\n                position: 'outside'\r\n            },\r\n            emphasis: {\r\n                show: true\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: true,\r\n                length: 20,\r\n                length2: 55\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        data: [{\r\n                value: 10,\r\n                name: 'IDS'\r\n            },\r\n            {\r\n                value: 50,\r\n                name: 'VPN'\r\n            },\r\n            {\r\n                value: 15,\r\n                name: '交换机'\r\n            },\r\n            {\r\n                value: 25,\r\n                name: '防火墙'\r\n            },\r\n            {\r\n                value: 20,\r\n                name: 'WAF'\r\n            },\r\n            {\r\n                value: 350,\r\n                name: '堡垒机'\r\n            }\r\n        ]\r\n    }, ]\r\n}\r\n\r\n      \r\n//获取圆上面某点的坐标(x0,y0表示坐标，r半径，angle角度)\r\nfunction getCirlPoint(x0, y0, r, angle) {\r\n    let x1 = x0 + r * Math.cos(angle * Math.PI / 180)\r\n    let y1 = y0 + r * Math.sin(angle * Math.PI / 180)\r\n    return {\r\n        x: x1,\r\n        y: y1\r\n    }\r\n}\r\n\r\nfunction draw(){\r\n    angle = angle+3\r\n    myChart.setOption(option1, true)\r\n   //window.requestAnimationFrame(draw);\r\n}\r\n\r\nsetInterval(function() {\r\n    //用setInterval做动画感觉有问题\r\n    draw()\r\n}, 100);\r\n","html":"","externalScripts":"","updaterUID":"obd-oFuxaYqCvfrZipugKqTqENvUs9IaT5q","theme":"","layout":"","viewCount":0,"userName":"m***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xX1U1empHY.png?v=1639637035687","isCustomThumbnail":0,"builtinTags":["category-work","legend","polar","series-custom","series-pie","tooltip"],"customTags":[],"updaterUserName":"m***1"}}