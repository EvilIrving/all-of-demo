{"status":0,"data":{"cid":"xBJdHzSGff","authorUid":"bd-2802325258","authorUserName":"达***奇","title":"树状图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2017-12-16T06:50:39.000Z","lastUpdateTime":"2017-12-16T06:50:39.000Z","auth":2,"uid":"bd-2802325258","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-16T10:27:34.000Z","code":"myChart.showLoading();\r\n\r\n\r\nvar data2 = [{\r\n    name: \"治安管理工作\",\r\n    label: {\r\n        normal: {\r\n            backgroundColor: '#725bb8'\r\n        }\r\n    },\r\n    children: [{\r\n        name: \"娱乐场所治安管理\",\r\n        children: [{\r\n            name: \"娱乐场所治安管理工作\"\r\n        }]\r\n    }, {\r\n        name: \"安保工作\",\r\n        children: [{\r\n            name: \"输油气管道安保工作\"\r\n        }, {\r\n            name: \"校园安保工作\"\r\n        }, {\r\n            name: \"节假日、重大活动、大型群众性活动安保和敏感期社会面管控工作\"\r\n        }]\r\n    }, {\r\n        name: \"精神病人管控工作\",\r\n        children: [{\r\n            name: \"精神病人肇事肇祸案事件\"\r\n        }]\r\n    }, {\r\n        name: \"物流寄递业\",\r\n        children: [{\r\n            name: \"物流寄递业治安管理工作\"\r\n        }]\r\n    }, {\r\n        name: \"推进基层基础工作创新\",\r\n        children: [{\r\n            name: \"加强派出所建设\"\r\n        }]\r\n    }, {\r\n        name: \"地网建设工作\",\r\n        children: [{\r\n            name: \"加强二轮电动车防盗登记备案装置安装工作\"\r\n        }]\r\n    }, {\r\n        name: \"无人机管理\",\r\n        children: [{\r\n            name: \"加强无人机管理\"\r\n        }]\r\n    }, {\r\n        name: \"加强社会面巡逻防控\",\r\n        children: [{\r\n            name: \"武装联勤巡逻\"\r\n        }]\r\n    }]\r\n}];\r\n\r\nmyChart.hideLoading();\r\n\r\nmyChart.setOption(option = {\r\n    backgroundColor: '#02246d',\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{b}'\r\n    },\r\n    legend: {\r\n        top: '2%',\r\n        left: '3%',\r\n        bottom: '2%',\r\n        orient: 'radial',\r\n        data: [{\r\n            name: '治安管理工作',\r\n            icon: 'rectangle'\r\n        },{\r\n            name: '危爆物品管理工作',\r\n            icon: 'rectangle'\r\n        }],\r\n        selected:{\r\n            '治安管理工作':true,\r\n            '危爆物品管理工作':false\r\n        },\r\n        textStyle:{\r\n            color:'#fff'\r\n        }\r\n    },\r\n    series: [{\r\n            type: 'tree',\r\n            name: '治安管理工作',\r\n            data: data2,\r\n            top: '1%',\r\n            right: '50%',\r\n            symbolSize: 1,\r\n            initialTreeDepth: 10,\r\n            label: {\r\n                normal: {\r\n                    position: 'center',\r\n                    verticalAlign: 'middle',\r\n                    align: 'left',\r\n                    backgroundColor: '#7049f0',\r\n                    color: '#fff',\r\n                    padding: 3,\r\n                    formatter: [\r\n                        '{box|{b}}'\r\n                    ].join('\\n'),\r\n                    rich: {\r\n                        box: {\r\n                            height: 30,\r\n                            color: '#fff',\r\n                            padding: [0, 5],\r\n                            align: 'center'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            leaves: {\r\n                label: {\r\n                    normal: {\r\n                        position: 'center',\r\n                        verticalAlign: 'middle',\r\n                        align: 'left',\r\n                        backgroundColor: '#c44eff',\r\n                        formatter: [\r\n                            '{box|{b}}'\r\n                        ].join('\\n'),\r\n                        rich: {\r\n                            box: {\r\n                                height: 18,\r\n                                color: '#fff',\r\n                                padding: [0, 5],\r\n                                align: 'center'\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            expandAndCollapse: true,\r\n            animationDuration: 550,\r\n            animationDurationUpdate: 750\r\n        },\r\n        {\r\n            type: 'tree',\r\n            name: '危爆物品管理工作',\r\n            data: data2,\r\n            top: '1%',\r\n            right: '50%',\r\n            symbolSize: 1,\r\n            initialTreeDepth: 10,\r\n            label: {\r\n                normal: {\r\n                    position: 'center',\r\n                    verticalAlign: 'middle',\r\n                    align: 'left',\r\n                    backgroundColor: '#7049f0',\r\n                    color: '#fff',\r\n                    padding: 3,\r\n                    formatter: [\r\n                        '{box|{b}}'\r\n                    ].join('\\n'),\r\n                    rich: {\r\n                        box: {\r\n                            height: 30,\r\n                            color: '#fff',\r\n                            padding: [0, 5],\r\n                            align: 'center'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            leaves: {\r\n                label: {\r\n                    normal: {\r\n                        position: 'center',\r\n                        verticalAlign: 'middle',\r\n                        align: 'left',\r\n                        backgroundColor: '#c44eff',\r\n                        formatter: [\r\n                            '{box|{b}}'\r\n                        ].join('\\n'),\r\n                        rich: {\r\n                            box: {\r\n                                height: 18,\r\n                                color: '#fff',\r\n                                padding: [0, 5],\r\n                                align: 'center'\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            expandAndCollapse: true,\r\n            animationDuration: 550,\r\n            animationDurationUpdate: 750\r\n        }\r\n    ]\r\n});\r\nmyChart.on('legendselectchanged', function (params) {\r\n    // 获取点击图例的选中状态\r\n    var isSelected = params.selected[params.name];\r\n    // 在控制台中打印\r\n    console.log((isSelected ? '选中了' : '取消选中了') + '图例' + params.name);\r\n    // 打印所有图例的状态\r\n    console.log(params.selected);\r\n})","html":"","externalScripts":"","updaterUID":"bd-2802325258","theme":"","layout":"","viewCount":12611,"userName":"达***奇","commentCount":0,"starCount":92,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJdHzSGff.png?v=1513420054125","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-tree","tooltip"],"customTags":[],"updaterUserName":"达***奇"}}