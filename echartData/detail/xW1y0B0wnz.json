{"status":0,"data":{"cid":"xW1y0B0wnz","authorUid":"bd-3155085153","authorUserName":"战将莫邪","title":"图表拼接 table","description":"实现 custom类型","latestVersion":1,"alwaysLatest":1,"createTime":"2019-01-15T15:45:25.000Z","lastUpdateTime":"2019-01-15T15:45:25.000Z","auth":2,"uid":"bd-3155085153","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-15T15:45:25.000Z","code":"var max = 10000;\nvar data = [{\n    name: 'value',\n    value: 0,\n    itemStyle: {\n        normal: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                offset: 0,\n                color: '#C96DD8'\n            }, {\n                offset: 1,\n                color: '#3023AE'\n            }])\n        }\n    }\n}];\n\n\nfunction renderItem(params, api) {\n    console.log(params)\n    // window.alert(api.value(1))\n    var start = api.coord([api.value(0), 0]);\n    console.log(start)\n    // 值映射成坐标\n    var end = api.coord([api.value(1), 0]);\n    // 值映射成长度\n    var height = api.size([0, api.value(1)])[1];\n    console.log(api.size([0, api.value(1)])[1])\n    var d = api.size([0, 1000])[1]\n    height -= d;\n    // window.alert(height)\n    return {\n        type: 'rect',\n        shape: {\n            x: params.coordSys.x,\n            y: end[1],\n            // x: 0,\n            // y: 0,\n            width: params.coordSys.width,\n            height: -height\n        },\n        style: api.style()\n    };\n\n}\n\n\noption = {\n    grid: {\n        left: 'middle',\n        width: 70\n    },\n    tooltip: {},\n    xAxis: {\n        show: false,\n        data: [\n            [\n                ['test1']\n            ]\n        ],\n    },\n    yAxis: {\n        // show: false,\n        min: 0,\n        max: max,\n    },\n    series: [{\n        type: 'custom',\n        renderItem: renderItem,\n        encode: {\n            y: 0\n        },\n        data: [{\n            name: 'max',\n            value: max,\n            itemStyle: {\n                normal: {\n                    color: '#000',\n                    opacity: 0.5\n                }\n            }\n        }],\n        silent: true\n    }, {\n        type: 'custom',\n        renderItem: renderItem,\n        encode: {\n            y: 0\n        },\n        data: data,\n    }]\n};\nvar i = 0;\n// setInterval(function() {\n//     if (option1.series[1].data[0].value >= 10000) {\n//         i = 1;\n//     } else if (option1.series[1].data[0].value <= 0) {\n//         i = 0;\n//     }\n//     if (i) {\n//         option1.series[1].data[0].value -= 1000;\n//     } else {\n//         option1.series[1].data[0].value += 1000;\n//     }\n\n//     myChart.setOption(option1);\n//     var left = myChart.convertToPixel({\n//         xAxisIndex: 0\n//     }, [0]);\n//     console.log(left);\n// }, 1000)","html":"","externalScripts":"","updaterUID":"bd-3155085153","theme":"","layout":"","viewCount":38,"userName":"战将莫邪","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xW1y0B0wnz.png?v=1547567125957","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom","tooltip"],"customTags":[],"updaterUserName":"战将莫邪"}}