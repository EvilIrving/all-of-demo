{"status":0,"data":{"cid":"x4iGgc2_a","authorUid":"bd-3491909698","authorUserName":"S***凉","title":"First","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-07T08:51:46.000Z","lastUpdateTime":"2020-02-07T08:51:46.000Z","auth":2,"uid":"bd-3491909698","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-07T08:51:46.000Z","code":"var worldGeoCoordMap = {\r\n\t\t'美国蒙特里': [-121.874729,36.541478 ],\r\n\t\t'荷兰奥特芬': [5.057415,52.735095 ],\r\n\t\t'中国上海': [121.4648, 31.2891]\r\n\t};\r\n\tvar worldDatas = [\r\n\t\t[{\r\n\t\t\tname: '美国蒙特里',\r\n\t\t\tvalue: 0\r\n\t\t}],\t[{\r\n\t\t\tname: \"荷兰奥特芬\",\r\n\t\t\tvalue: 0\r\n\t\t}],\t[{\r\n\t\t\tname: '中国上海',\r\n\t\t\tvalue: 0\r\n\t\t}]\r\n\t];\r\n\r\n\tvar convertData = function(data) {\r\n\t\tvar res = [];\r\n\t\tfor(var i = 0; i < data.length; i++) {\r\n\t\t\tvar dataItem = data[i];\r\n\t\t\tvar fromCoord = worldGeoCoordMap[dataItem[0].name];\r\n\t\t\tvar toCoord = [121.4648, 31.2891];\r\n\t\t\tif(fromCoord && toCoord) {\r\n\t\t\t\tres.push([{\r\n\t\t\t\t\tcoord: fromCoord,\r\n\t\t\t\t\tvalue: dataItem[0].value\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoord: toCoord,\r\n\t\t\t\t}]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\tvar series = [];\r\n\t[['中国上海', worldDatas]].forEach(function(item, i) {\r\n\t    console.log(item)\r\n\t\tseries.push({\r\n\t\t\t\ttype: 'lines',\r\n\t\t\t\tzlevel: 2,\r\n\t\t\t\teffect: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tperiod: 4, //箭头指向速度，值越小速度越快\r\n\t\t\t\t\ttrailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\r\n\t\t\t\t\tsymbol: 'arrow', //箭头图标\r\n\t\t\t\t\tsymbolSize: 5, //图标大小\r\n\t\t\t\t},\r\n\t\t\t\tlineStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\twidth: 1, //尾迹线条宽度\r\n\t\t\t\t\t\topacity: 1, //尾迹线条透明度\r\n\t\t\t\t\t\tcurveness: .3 //尾迹线条曲直度\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdata: convertData(item[1])\r\n\t\t\t}, {\r\n\t\t\t\ttype: 'effectScatter',\r\n\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\tzlevel: 2,\r\n\t\t\t\trippleEffect: { //涟漪特效\r\n\t\t\t\t\tperiod: 4, //动画时间，值越小速度越快\r\n\t\t\t\t\tbrushType: 'stroke', //波纹绘制方式 stroke, fill\r\n\t\t\t\t\tscale: 4 //波纹圆环最大限制，值越大波纹越大\r\n\t\t\t\t},\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tposition: 'right', //显示位置\r\n\t\t\t\t\t\toffset: [5, 0], //偏移设置\r\n\t\t\t\t\t\tformatter: function(params){//圆环显示文字\r\n\t\t\t\t\t\t\treturn params.data.name;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfontSize: 13\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'circle',\r\n\t\t\t\tsymbolSize: function(val) {\r\n\t\t\t\t\treturn 5+ val[2] * 5; //圆环大小\r\n\t\t\t\t},\r\n\t\t\t\titemStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\tcolor: '#f00'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdata: item[1].map(function(dataItem) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: dataItem[0].name,\r\n\t\t\t\t\t\tvalue: worldGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t},\r\n\t\t\t//被攻击点\r\n\t\t\t{\r\n\t\t\t\ttype: 'scatter',\r\n\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\tzlevel: 2,\r\n\t\t\t\trippleEffect: {\r\n\t\t\t\t\tperiod: 4,\r\n\t\t\t\t\tbrushType: 'stroke',\r\n\t\t\t\t\tscale: 4\r\n\t\t\t\t},\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\t//offset:[5, 0],\r\n\t\t\t\t\t\tcolor: '#0f0',\r\n\t\t\t\t\t\tformatter: '{b}',\r\n\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\tcolor: \"#0f0\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tcolor: \"#f60\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsymbol: 'pin',\r\n\t\t\t\tsymbolSize: 50,\r\n\t\t\t\tdata: [{\r\n\t\t\t\t\tname: item[0],\r\n\t\t\t\t\tvalue: worldGeoCoordMap[item[0]].concat([10]),\r\n\t\t\t\t}],\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\toption = {\r\n\t\ttooltip: {\r\n\t\t\ttrigger: 'item',\r\n\t\t\tbackgroundColor: 'rgba(166, 200, 76, 0.82)',\r\n\t\t\tborderColor: '#FFFFCC',\r\n\t\t\tshowDelay: 0,\r\n\t\t\thideDelay: 0,\r\n\t\t\tenterable: true,\r\n\t\t\ttransitionDuration: 0,\r\n\t\t\textraCssText: 'z-index:100',\r\n\t\t\tformatter: function(params, ticket, callback) {\r\n\t\t\t\t//根据业务自己拓展要显示的内容\r\n\t\t\t\tvar res = \"\";\r\n\t\t\t\tvar name = params.name;\r\n\t\t\t\tvar value = params.value[params.seriesIndex + 1];\r\n\t\t\t\tres = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackgroundColor:\"#013954\",\r\n\t\tvisualMap: { //图例值控制\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 1,\r\n\t\t\tcalculable: true,\r\n\t\t\tshow: true,\r\n\t\t\tcolor: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\r\n\t\t\ttextStyle: {\r\n\t\t\t\tcolor: '#fff'\r\n\t\t\t}\r\n\t\t},\r\n\t\tgeo: {\r\n\t\t\tmap: 'world',\r\n\t\t\tzoom: 1.2,\r\n\t\t\tlabel: {\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tshow: false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\troam: true, //是否允许缩放\r\n\t\t\titemStyle: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tcolor: 'rgba(51, 69, 89, .5)', //地图背景色\r\n\t\t\t\t\tborderColor: '#516a89', //省市边界线00fcff 516a89\r\n\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t},\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tcolor: 'rgba(37, 43, 61, .5)' //悬浮背景\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tseries: series\r\n\t};","html":"","externalScripts":"/dep/echarts/map/js/world.js","updaterUID":"bd-3491909698","theme":"","layout":"","viewCount":5785,"userName":"S***凉","commentCount":0,"starCount":25,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4iGgc2_a.png?v=1581065507068","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"S***凉"}}