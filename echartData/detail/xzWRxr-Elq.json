{"status":0,"data":{"cid":"xzWRxr-Elq","authorUid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","authorUserName":"花***n","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-06-06T05:19:11.000Z","lastUpdateTime":"2021-06-06T05:19:11.000Z","auth":2,"uid":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.1","versionCreateTime":"2021-06-06T05:19:11.000Z","code":"var getname =['芙蓉一', '芙蓉二', '芙蓉三', '芙蓉四']\n\nvar getvalue =   [1000, 800, 1200, 500]\n\nvar getvalue1 = [2100, 1000, 200, 1000]\n\n\nvar getvaluesum=[];\n\nfor(var i=0;i<getname.length;i++){\n\n    getvaluesum[i]=getvalue[i]+getvalue1[i];\n\n}\n\n\n\nvar maxnum = Math.max.apply(null, getvaluesum);\n\nvar maxlen = Math.pow(10, String(Math.ceil(maxnum)).length - 2);\n\nif (maxnum >= 50) {\n\n    var max = Math.ceil(maxnum / (.95 * maxlen)) * maxlen;\n\n} else {\n\n    var max = 45;\n\n}\n\n\n\n\n\noption = {\n\n    grid: {\n\n        top: '50',\n\n        right: '4%',\n\n        left: '15%',\n\n        bottom: '50'\n\n    },\n\n    tooltip: {\n\n        trigger: 'axis',\n\n        axisPointer: {\n\n            type: 'none'\n\n        },\n\n        backgroundColor : 'rgba(21, 64, 92, 1)',\n\n        formatter: '<span style=\"color:rgba(0, 255, 252, 1);font-size:15px;font-weight:bold;\">'+'{b0}'+'</span></br>{a0}数量：{c0}</br>{a1}数量：{c1}'\n\n    },\n\n    legend: {\n\n        type: \"scroll\",\n\n        right: '20',\n\n        top: '0',\n        \n         icon:'circle',\n        data:  ['未离校', '已离校'],\n\n        itemGap: 25,\n\n        itemWidth: 16,\n\n        itemHeight: 16,\n\n        textStyle: {\n\n            fontSize: '13',\n\n            color: '#A9C1E5',\n\n        },\n\n\n\n    },\n\n    xAxis: [{\n        data: getname,\n\n        axisLabel: {\n\n            interval: 0,  \n\n            formatter: function(value) {\n\n                var ret = \"\"; //拼接加\\n返回的类目项  \n\n                var maxLength = 6; //每项显示文字个数  \n\n                var valLength = value.length; //X轴类目项的文字个数  \n\n                var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数  \n\n                if (rowN > 1) //如果类目项的文字大于5,\n\n                {\n\n                    for (var i = 0; i < rowN; i++) {\n\n                        var temp = \"\"; //每次截取的字符串  \n\n                        var start = i * maxLength; //开始截取的位置  \n\n                        var end = start + maxLength; //结束截取的位置  \n\n                        //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧  \n\n                        temp = value.substring(start, end) + \"\\n\";\n\n                        ret += temp; //凭借最终的字符串  \n\n                    }\n\n                    return ret;\n\n                } else {\n\n                    return value;\n\n                }\n\n            },\n\n            margin: 10,\n\n            color: '#A9C1E5',\n\n            textStyle: {\n\n                fontSize: 13,\n\n                fontWeight:400\n\n            },\n\n        },\n\n        axisLine: {\n        \n\n            lineStyle: {\n\n                color: '#B0C5DB',\n\n            }\n\n        },\n\n        axisTick: {\n\n        \n\n        },\n\n    }],\n\n    yAxis: [{\n\n        min: 0,\n\n        minInterval: 1,\n\n       // max: 100, // 计算最大值\n\n        //interval: 100 / 5, //  平均分为5份\n\n       // splitNumber: 5,\n\n\n        axisLabel: {\n\n            color: '#A9C1E5',\n\n            textStyle: {\n\n                fontSize: 13\n\n            },\n\n        },\n\n        axisLine: {\n\n            show: false\n\n        },\n\n        axisTick: {\n\n            show: false\n\n        },\n\n        splitLine: {\n\n            lineStyle: {\n\n                color: '#CCDBEB',\n\n                type: 'dashed',\n\n                opacity: 0.5\n\n            }\n\n        }\n\n    }],\n\n    series: [{\n\n        name: '未离校',\n\n        type: 'bar',\n\n        data: getvalue,\n\n        stack: '研究生分布情况',\n\n        barWidth: '18px',\n\n        itemStyle: {\n\n            normal: {\n\n                color: {\n\n                    x: 0,\n\n                    y: 0,\n\n                    x2: 0,\n\n                    y2: 1,\n\n                    colorStops: [{\n\n                        offset: 0,\n\n                        color: '#70F3C2' // 0% 处的颜色\n\n                    }, {\n\n                        offset: 1,\n\n                        color: '#48D69E' // 100% 处的颜色\n\n                    }],\n\n                },\n\n                barBorderRadius: [0, 0, 0, 0],\n\n                label: {\n\n                    show: false,\n\n                    position: 'top',\n\n                    offset: [15, 20],\n\n                    align:'left',\n\n                    formatter: function(params) {\n\n                        return params.value;\n\n                    },\n\n                    textStyle: {\n\n                        fontSize: 12,\n\n                        color: '#666666',\n\n\n\n                    },\n\n                }\n\n            }\n\n        },\n\n    }, {\n\n        name: '已离校',\n\n        type: 'bar',\n\n        data: getvalue1,\n\n        stack: '研究生分布情况',\n\n        barWidth: '18px',\n\n        itemStyle: {\n\n            normal: {\n\n                color: {\n\n                    x: 0,\n\n                    y: 0,\n\n                    x2: 0,\n\n                    y2: 1,\n\n                    colorStops: [{\n\n                        offset: 1,\n\n                        color: '#065ADA' // 0% 处的颜色\n\n                    }, {\n\n                        offset: 0,\n\n                        color: '#22CFF5' // 100% 处的颜色\n\n                    }],\n\n                },\n\n                barBorderRadius: [0, 0, 0, 0],\n\n                label: {\n\n                    show: false,\n\n                    position: 'top',\n\n                    offset: [15, 20],\n\n                    align:'left',\n\n                    formatter: function(params) {\n\n                        return params.value;\n\n                    },\n\n                    textStyle: {\n\n                        fontSize: 12,\n\n                        color: '#666666',\n\n\n\n                    },\n\n                }\n\n            }\n\n        },\n\n\n    \n\n    }]\n\n};\n\nreturn option;\n\n","html":"","externalScripts":"","updaterUID":"obd-oDoa8L5uR364zXRk5QpC_cigut0tw1m","theme":"","layout":"","viewCount":0,"userName":"花***n","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzWRxr-Elq.png?v=1622956751743","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"花***n"}}