{"status":0,"data":{"cid":"xHkcjvZBYM","authorUid":"bd-1196622443","authorUserName":"布***斯","title":"实时数据折线图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-13T08:11:13.000Z","lastUpdateTime":"2018-03-13T08:11:13.000Z","auth":2,"uid":"bd-1196622443","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-13T08:11:13.000Z","code":"var barColor = [];\r\nvar emColor = [];\r\nvar color0 = [\"#089280\", \"#af540b\", \"#17559e\"];\r\nvar color10 = ['#12ffd0', '#ffcc00', '#0cb0ed'];\r\nif (navigator.userAgent.indexOf(\"MSIE 8.0\") > 0) {\r\n    for (var i = 0; i < color0.length; i++) {\r\n        barColor[i] = {\r\n            color: color0[i],\r\n        }\r\n        emColor[i] = {\r\n            color: color10[i]\r\n        }\r\n    }\r\n} else {\r\n    for (var j = 0; j < color0.length; j++) {\r\n        barColor[j] = {\r\n            color: {\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: color0[j] // 0% 处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: color10[j] // 100% 处的颜色\r\n                }]\r\n            }\r\n        }\r\n        emColor[j] = {\r\n            color: {\r\n                colorStops: [{\r\n                    offset: 0,\r\n                    color: color10[j] // 0% 处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: color0[j] // 100% 处的颜色\r\n                }]\r\n            }\r\n        }\r\n    }\r\n}\r\n//图表默认数组\r\nvar xzhou2 = [],\r\n    yzhou2 = [],\r\n    zzhou2 = [],\r\n    xzhou3 = [],\r\n    yzhou3 = [],\r\n    zzhou3 = []; //节拍\r\nfor (var i = 0; i <= 40; i++) {\r\n    xzhou2[i] = 0;\r\n    yzhou2[i] = 0;\r\n    zzhou2[i] = 0;\r\n    xzhou3[i] = 0;\r\n    yzhou3[i] = 0;\r\n    zzhou3[i] = 0;\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor:'#203958',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            lineStyle: {\r\n                color: '#ddd'\r\n            }\r\n        },\r\n        backgroundColor: 'rgba(255,255,255,1)',\r\n        padding: [5, 10],\r\n        textStyle: {\r\n            color: '#7588E4',\r\n        },\r\n        extraCssText: 'box-shadow: 0 0 5px rgba(0,0,0,0.3)'\r\n    },\r\n    legend: {\r\n        show: true,\r\n        shadowColor: \"#fff\",\r\n        shadowBlur: 5,\r\n        shadowOffsetX: 5,\r\n        data: ['X轴', 'Y轴', 'Z轴'],\r\n        top: '5%',\r\n        //\t\t\tleft: \"18%\",\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 14\r\n            //\t\t\t\tpadding: [3, 20, 5, 7]\r\n        },\r\n        //\t\t\titemWidth: 64,\r\n        itemHeight: 10\r\n    },\r\n    grid: {\r\n        top: '30%',\r\n        left: '7%',\r\n        right: '8%',\r\n        bottom: '10%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: (function() {\r\n            var now = new Date();\r\n            var res = [];\r\n            var len = 40; //显示个数\r\n            while (len--) {\r\n                res.unshift(now.toLocaleTimeString().replace(/^\\D*/, ''));\r\n                now = new Date(now - 2000);\r\n            }\r\n            return res;\r\n        })(),\r\n        boundaryGap: false,\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#2d67a7'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            textStyle: {\r\n                fontSize: 14\r\n            }\r\n        }\r\n    }],\r\n    yAxis: {\r\n        type: 'value',\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#2d67a7'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            textStyle: {\r\n                fontSize: 14\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: 'X轴',\r\n            type: 'line',\r\n            smooth: true,\r\n            showSymbol: false,\r\n            symbol: 'circle',\r\n            symbolSize: 1,\r\n            data: xzhou2,\r\n            itemStyle: {\r\n                normal: barColor[0],\r\n                emphasis: emColor[0]\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 2,\r\n                    shadowColor: 'rgba(0,0,0,0.6)',\r\n                    shadowBlur: 10,\r\n                    shadowOffsetY: 5\r\n                }\r\n            }\r\n        }, {\r\n            name: 'Y轴',\r\n            type: 'line',\r\n            smooth: true,\r\n            showSymbol: false,\r\n            symbol: 'circle',\r\n            symbolSize: 1,\r\n            data: yzhou2,\r\n            itemStyle: {\r\n                normal: barColor[1],\r\n                emphasis: emColor[1]\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 2,\r\n                    shadowColor: 'rgba(0,0,0,0.6)',\r\n                    shadowBlur: 10,\r\n                    shadowOffsetY: 5\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'Z轴',\r\n            type: 'line',\r\n            smooth: true,\r\n            showSymbol: false,\r\n            symbol: 'circle',\r\n            symbolSize: 1,\r\n            data: zzhou2,\r\n            itemStyle: {\r\n                normal: barColor[2],\r\n                emphasis: emColor[2]\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 2,\r\n                    shadowColor: 'rgba(0,0,0,0.6)',\r\n                    shadowBlur: 10,\r\n                    shadowOffsetY: 5\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\r\nsetInterval(function() {\r\n    electricityX = Math.random() * 100;\r\n    electricityY = Math.random() * 100;\r\n    electricityZ = Math.random() * 100;\r\n    xzhou2.shift();\r\n    xzhou2.push(electricityX);\r\n    yzhou2.shift();\r\n    yzhou2.push(electricityY);\r\n    zzhou2.shift();\r\n    zzhou2.push(electricityZ);\r\n    axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/, '');\r\n    option.xAxis[0].data.shift();\r\n    option.xAxis[0].data.push(axisData);\r\n    myChart.setOption(option);\r\n}, 1000)","html":"","externalScripts":"","updaterUID":"bd-1196622443","theme":"","layout":"","viewCount":230,"userName":"布***斯","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHkcjvZBYM.png?v=1520928674026","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"布***斯"}}