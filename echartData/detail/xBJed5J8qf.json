{"status":0,"data":{"cid":"xBJed5J8qf","authorUid":"bd-441871429","authorUserName":"牧羊yun","title":"投诉举报受理与不受理对比","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2018-03-26T03:35:04.000Z","lastUpdateTime":"2018-03-26T03:35:04.000Z","auth":2,"uid":"bd-441871429","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-27T11:53:50.000Z","code":"var colors = ['#52dee7', '#eac688'];\nvar data1 = [521, 856, 919,763,836, 719,463,856,1119,863, 756, 919];\nvar data2 = [120, 146, 129,187, 246, 229,187, 116, 329,387, 146, 229,];\nvar xData = function() {\n    var data = [];\n    for (var i = 0; i < 12; i++) {\n        data.push(i + 1 + '月');\n    }\n    return data;\n}();\noption = {\n     backgroundColor:'#fff',\n    title: {\n        text: '投诉举报受理与不受理对比',\n        textStyle: {\n            fontSize: '15'\n        }\n    },\n    \"tooltip\": {\n        \"trigger\": \"axis\",\n        \"axisPointer\": {\n            \"type\": \"shadow\",\n            textStyle: {\n                color: \"#fff\"\n            }\n\n        },\n    },\n    grid: {\n        top: 65,\n        right: '63%',\n        bottom: '73%'\n    },\n    legend: {\n        data: ['投诉举报受理数', '投诉举报不予受理数'],\n        align: 'left',\n        left: 40,\n        top: 30\n    },\n    \"calculable\": true,\n    \"xAxis\": [{\n        \"type\": \"category\",\n        \"axisLine\": {\n            lineStyle: {\n                color: '#000'\n            }\n        },\n        \n        \"splitLine\": {\n            \"show\": false\n        },\n        \"axisTick\": {\n            \"show\": false\n        },\n        \"splitArea\": {\n            \"show\": false\n        },\n         \"axisLabel\": {\n            interval: {default: 0},\n            rotate:50,\n            formatter : function(params){\n               var newParamsName = \"\";// 最终拼接成的字符串\n                var paramsNameNumber = params.length;// 实际标签的个数\n                var provideNumber = 4;// 每行能显示的字的个数\n                var rowNumber = Math.ceil(paramsNameNumber / provideNumber);// 换行的话，需要显示几行，向上取整\n                /**\n                 * 判断标签的个数是否大于规定的个数， 如果大于，则进行换行处理 如果不大于，即等于或小于，就返回原标签\n                 */\n                // 条件等同于rowNumber>1\n                if (paramsNameNumber > provideNumber) {\n                    /** 循环每一行,p表示行 */\n                    var tempStr = \"\";\n                    tempStr=params.substring(0,4);\n                    newParamsName = tempStr+\"...\";// 最终拼成的字符串\n                } else {\n                    // 将旧标签的值赋给新标签\n                    newParamsName = params;\n                }\n                //将最终的字符串返回\n                return newParamsName\n            }\n\n        },\n        \"data\":xData\n    }],\n    yAxis: [{\n        type: 'value',\n        name: '',\n        min: 0,\n        max:2500,\n        position: 'left',\n        axisLine: {\n            lineStyle: {\n                color: '#22769d'\n            }\n        },\n        axisLabel: {\n            formatter: '{value} '\n        }\n    }],\n    series: [{\n            name: '投诉举报受理数',\n            type: 'bar',\n            color: colors[0],\n            \n            data: data1\n        },\n        {\n            name: '投诉举报不予受理数',\n            type: 'bar',\n            color: colors[1],\n            \n            data: data2\n        },\n        {\n            name: '不予受理率',\n            type: 'pie',\n            radius: ['9%', '12%'],\n            color: '#e60033',\n            center: ['35%', '14%'],\n            tooltip: {\n                trigger: 'item',\n                formatter: \" {b} :<br/> {c} ({d}%)\"\n            },\n            label: {\n                normal: {\n                    position: 'center'\n                }\n            },\n            data: [{\n                value: data2[0],\n                name: '投诉举报不予受理数',\n\n                label: {\n                    normal: {\n                        formatter: '{d} %',\n                        textStyle: {\n                            fontSize: 12\n                        }\n                    }\n                }\n            }, {\n                value: data1[0] - data2[0],\n                name: '投诉举报受理数',\n                label: {\n                    normal: {\n                        formatter: '\\n不予受理率',\n                        textStyle: {\n                            color: '#555',\n                            fontSize: 10\n                        }\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#aaa'\n                    },\n                    emphasis: {\n                        color: '#aaa'\n                    }\n                },\n            }]\n        }\n    ]\n};\n// 点击事件\nmyChart.on('click', function(params) {\n    if (params.componentType === 'series' && params.seriesType === 'bar') {\n        var dataIndex = params.dataIndex;\n        myChart.setOption({\n            series: [{\n                    name: '投诉举报受理数',\n                    type: 'bar',\n                    color: colors[0],\n                    data: data1\n                },\n                {\n                    name: '投诉举报不予受理数',\n                    type: 'bar',\n                    color: colors[1],\n                    data: data2\n                },\n                {\n                    name: '不予受理率',\n                    type: 'pie',\n                   radius: ['9%', '12%'],\n                    color: '#e60033',\n                    center: ['35%', '14%'],\n                    tooltip: {\n                        trigger: 'item',\n                        formatter: \"{b} :<br/> {c} ({d}%)\"\n                    },\n                    label: {\n                        normal: {\n                            position: 'center'\n                        }\n                    },\n                    data: [{\n                        value: data2[dataIndex],\n                        name: '投诉举报不予受理数',\n\n                        label: {\n                            normal: {\n                                formatter: '{d} %',\n                                textStyle: {\n                                    fontSize: 12\n                                }\n                            }\n                        }\n                    }, {\n                        value: data1[dataIndex] - data2[dataIndex],\n                        name: '投诉举报受理数',\n                        label: {\n                            normal: {\n                                formatter: '\\n不予受理率',\n                                textStyle: {\n                                    color: '#555',\n                                    fontSize: 10\n                                }\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#aaa'\n                            },\n                            emphasis: {\n                                color: '#aaa'\n                            }\n                        },\n                    }]\n                }\n            ]\n        })\n    }\n});","html":"","externalScripts":"","updaterUID":"bd-441871429","theme":"","layout":"","viewCount":282,"userName":"牧羊yun","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBJed5J8qf.png?v=1522151630501","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"牧羊yun"}}