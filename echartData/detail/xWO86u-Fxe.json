{"status":0,"data":{"cid":"xWO86u-Fxe","authorUid":"bd-3079028567","authorUserName":"金***7","title":"pie1","description":"echart-饼图1","latestVersion":19,"alwaysLatest":1,"createTime":"2021-01-20T02:35:38.000Z","lastUpdateTime":"2021-01-20T02:35:38.000Z","auth":2,"uid":"bd-3079028567","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":19,"parentVersion":18,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-28T05:47:14.000Z","code":"let sData = [{\r\n    name: \"徐汇区\",\r\n    value: 4.00\r\n}, {\r\n    name: \"金山区\",\r\n    value: 22.00\r\n}, {\r\n    name: \"嘉定区\",\r\n    value: 12.67\r\n}, {\r\n    name: \"浦东新区\",\r\n    value: 19.00\r\n}, {\r\n    name: \"闵行区\",\r\n    value: 7.52\r\n}, {\r\n    name: \"松江区\",\r\n    value: 8.00\r\n}, {\r\n    name: \"长宁区\",\r\n    value: 17.92\r\n}, {\r\n    name: \"宝山区\",\r\n    value: 5.96\r\n}, {\r\n    name: \"静安区\",\r\n    value: 5.99\r\n}];\r\nlet angle = 0;\r\nlet data = [];\r\nlet color = ['#35D2FD', '#F56B3C', '#F2A936', '#D8F754', '#76F738', '#40C02D', '#6AE8FE', '#389AFD','#285BF5']\r\nfor (var i = 0; i < sData.length; i++) {\r\n    data.push({\r\n        value: sData[i].value,\r\n        name: sData[i].name,\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 6,\r\n                // shadowBlur: 20,\r\n                borderColor: color[i],\r\n                // shadowColor: color[i]\r\n            }\r\n        }\r\n    }, {\r\n        value: 1,\r\n        name: '',\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                color: 'rgba(0, 0, 0, 0)',\r\n                borderColor: 'rgba(0, 0, 0, 0)',\r\n                borderWidth: 0\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction _pieDashed() {\r\n    let dataArr = [];\r\n    for (var i = 0; i < 100; i++) {\r\n        if (i % 2 === 0) {\r\n            dataArr.push({\r\n                name: (i + 1).toString(),\r\n                value: 25,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: \"rgb(126,190,255)\",\r\n                        borderWidth: 0,\r\n                        borderColor: \"rgba(0,0,0,0)\"\r\n                    }\r\n                }\r\n            })\r\n        } else {\r\n            dataArr.push({\r\n                name: (i + 1).toString(),\r\n                value: 25,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: \"rgba(0,0,0,0)\",\r\n                        borderWidth: 0,\r\n                        borderColor: \"rgba(0,0,0,0)\"\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return dataArr\r\n}\r\n\r\nlet labelData = [];\r\nfor (var i = 0; i < 100; ++i) {\r\n    labelData.push({\r\n        value: 1,\r\n        name: i,\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(0,209,228,0)',\r\n            }\r\n        }\r\n    });\r\n}\r\nfor (var i = 0; i < labelData.length; ++i) {\r\n    if ((labelData[i].name >= 25 && labelData[i].name < 50)||(labelData[i].name >= 75 && labelData[i].name < 100)) {\r\n        if (labelData[i].name % 2 === 0) {\r\n            labelData[i].itemStyle = {\r\n                normal: {\r\n                    color: \"rgb(126,190,255)\",\r\n                    borderWidth: 0,\r\n                    borderColor: \"rgba(0,0,0,0)\"\r\n                }\r\n            }\r\n        } else {\r\n            labelData[i].itemStyle = {\r\n                normal: {\r\n                    color: \"rgba(0,0,0,0)\",\r\n                        borderWidth: 0,\r\n                        borderColor: \"rgba(0,0,0,0)\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nlet seriesOption = [{\r\n    name: '',\r\n    type: 'pie',\r\n    clockWise: true,\r\n    radius: ['64%', '67%'],\r\n    hoverAnimation: false,\r\n    itemStyle: {\r\n        normal: {\r\n            label: {\r\n                show: true,\r\n                position: 'outside',\r\n                color: '#ddd',\r\n                formatter: function(params) {\r\n                    var percent = 0;\r\n                    var total = 0;\r\n                    for (var i = 0; i < sData.length; i++) {\r\n                        total += sData[i].value;\r\n                    }\r\n                    \r\n                    percent = ((params.value / total) * 100).toFixed(2);\r\n                    if (params.name !== '') {\r\n                        return params.name + '\\n' + '\\n' + percent + '%';\r\n                    } else {\r\n                        return '';\r\n                    }\r\n                },\r\n            },\r\n            labelLine: {\r\n                // length: 30,\r\n                // length2: 100,\r\n                show: true,\r\n                color: '#00ffff'\r\n            }\r\n        }\r\n    },\r\n    data: data\r\n},{\r\n    name: '第三层环',\r\n    type: 'pie',\r\n    z: 1,\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    center: ['50%', '50%'],\r\n    radius: ['74%', '76%'],\r\n    hoverAnimation: false,\r\n    clockWise: false,\r\n    itemStyle: {\r\n        normal: {\r\n            borderWidth: 5,\r\n            shadowBlur: 10,\r\n            borderColor:'rgba(53,139,255,.3)',\r\n            shadowColor: 'rgba(53,139,255,.3)',\r\n            color: 'rgba(30,84,120,.95)',\r\n        },\r\n        emphasis: {\r\n            color: 'rgba(30,84,120,.95)',\r\n        }\r\n    },\r\n    label: {\r\n        show: false\r\n    },\r\n    data: [100]\r\n},{\r\n    name: '第二层环',\r\n    type: 'pie',\r\n    z: 1,\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    center: ['50%', '50%'],\r\n    radius: ['54%', '56%'],\r\n    hoverAnimation: false,\r\n    clockWise: false,\r\n    itemStyle: {\r\n        normal: {\r\n            borderWidth: 5,\r\n            // borderColor:'rgba(98,200,249,.3)',\r\n            shadowBlur: 15,\r\n            shadowColor: 'rgba(98,200,249,.3)',\r\n            color: 'rgba(98,200,249,.95)',\r\n        },\r\n        emphasis: {\r\n            color: 'rgba(98,200,249,.95)',\r\n        }\r\n    },\r\n    label: {\r\n        show: false\r\n    },\r\n    data: [100]\r\n},\r\n    {\r\n        name: \"ring5\",\r\n        type: 'custom',\r\n        coordinateSystem: \"none\",\r\n        renderItem: function(params, api) {\r\n            return {\r\n                type: 'arc',\r\n                shape: {\r\n                    cx: api.getWidth() / 2,\r\n                    cy: api.getHeight() / 2,\r\n                    r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.50,\r\n                    startAngle: (275+-angle) * Math.PI / 180,\r\n                    endAngle: (0+-angle) * Math.PI / 180\r\n                },\r\n                style: {\r\n                    stroke: \"#4CA9DD\",\r\n                    fill: \"transparent\",\r\n                    lineWidth: 1.5\r\n                },\r\n                silent: true\r\n            };\r\n        },\r\n        data: [0]\r\n    }, \r\n    {\r\n        name: \"ring5\",\r\n        type: 'custom',\r\n        coordinateSystem: \"none\",\r\n        renderItem: function(params, api) {\r\n            return {\r\n                type: 'arc',\r\n                shape: {\r\n                    cx: api.getWidth() / 2,\r\n                    cy: api.getHeight() / 2,\r\n                    r: Math.min(api.getWidth(), api.getHeight()) / 2 * 0.50,\r\n                    startAngle: (90+-angle) * Math.PI / 180,\r\n                    endAngle: (180+-angle) * Math.PI / 180\r\n                },\r\n                style: {\r\n                    stroke: \"#4CA9DD\",\r\n                    fill: \"transparent\",\r\n                    lineWidth: 1.5\r\n                },\r\n                silent: true\r\n            };\r\n        },\r\n        data: [0]\r\n    },\r\n    {\r\n        hoverAnimation: false,\r\n        type: 'pie',\r\n        z: 2,\r\n        data: labelData,\r\n        radius: ['50%', '49%'],\r\n        zlevel: -2,\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n            }\r\n        },\r\n    },\r\n    {\r\n            name: \"ring5\",  //绿点\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                let x0 = api.getWidth() / 2 - 10;\r\n                let y0 = 0.245*api.getHeight();\r\n                let x1 = x0;\r\n                let y1 = y0 + 10;\r\n                let x2 = x0 + 10;\r\n                let y2 = y0 + 5;\r\n                return {\r\n                  type: 'path',\r\n                    shape: {\r\n                      d: 'M'+x0+' '+y0+' L'+x1+' '+y1+' L'+x2+' '+y2+'  Z', \r\n                    },\r\n                    style: {\r\n                        stroke: \"#4CA9DD\",      //绿\r\n                        fill: \"#4CA9DD\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n        {\r\n            name: \"ring5\",  //绿点\r\n            type: 'custom',\r\n            coordinateSystem: \"none\",\r\n            renderItem: function(params, api) {\r\n                \r\n                let x0 = api.getWidth() / 2 + 5;\r\n                let y0 = 0.745*api.getHeight();\r\n                let x1 = x0 + 10;\r\n                let y1 = y0 - 6;\r\n                let x2 = x0 + 10;\r\n                let y2 = y0 + 5;\r\n                return {\r\n                  type: 'path',\r\n                    shape: {\r\n                      d: 'M'+x0+' '+y0+' L'+x1+' '+y1+' L'+x2+' '+y2+'  Z', \r\n                    },\r\n                    style: {\r\n                        stroke: \"#4CA9DD\",      //绿\r\n                        fill: \"#4CA9DD\"\r\n                    },\r\n                    silent: true\r\n                };\r\n            },\r\n            data: [0]\r\n        },\r\n];\r\noption = {\r\n    backgroundColor: '#0A2E5D',\r\n    color: color,\r\n    series: seriesOption\r\n}","html":"","externalScripts":"","updaterUID":"bd-3079028567","theme":"","layout":"","viewCount":113,"userName":"金***7","commentCount":0,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWO86u-Fxe.png?v=1611812834836","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"金***7"}}