{"status":0,"data":{"cid":"xxvSoEzsgC","authorUid":"obd-oD9FBWNB_YRochzgkyLC2UgfxTJPP1q","authorUserName":"r***n","title":"问卷调查","description":"问卷调查（单选）","latestVersion":16,"alwaysLatest":1,"createTime":"2020-11-22T13:14:25.000Z","lastUpdateTime":"2020-11-22T13:14:25.000Z","auth":2,"uid":"obd-oD9FBWNB_YRochzgkyLC2UgfxTJPP1q","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":16,"parentVersion":15,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-22T15:57:00.000Z","code":"var questionnaires = [{\n    question: '对喝咖啡的看法',\n    answers: [{\n        option: '坚决不喝',\n        juniorGirl: 3,\n        juniorBoy: 3,\n        seniorGirl: 1,\n        seniorBoy: 1\n    }, {\n        option: '一般不喝',\n        juniorGirl: 5,\n        juniorBoy: 5,\n        seniorGirl: 6,\n        seniorBoy: 2\n    }, {\n        option: '有时会喝',\n        juniorGirl: 27,\n        juniorBoy: 13,\n        seniorGirl: 3,\n        seniorBoy: 3\n    }, {\n        option: '频繁会喝',\n        juniorGirl: 8,\n        juniorBoy: 9,\n        seniorGirl: 4,\n        seniorBoy: 2\n    }]\n}, {\n    question: '了解咖啡的制作工艺',\n    answers: [{\n        option: '了解',\n        juniorGirl: 2,\n        juniorBoy: 6,\n        seniorGirl: 1,\n        seniorBoy: 0\n    }, {\n        option: '只知道喝',\n        juniorGirl: 16,\n        juniorBoy: 8,\n        seniorGirl: 2,\n        seniorBoy: 3\n    }, {\n        option: '略有耳闻',\n        juniorGirl: 26,\n        juniorBoy: 16,\n        seniorGirl: 9,\n        seniorBoy: 4\n    }]\n}, {\n    question: '您认为喝咖啡对您的身体',\n    answers: [{\n        option: '非常有害，拒绝喝咖啡',\n        juniorGirl: 2,\n        juniorBoy: 1,\n        seniorGirl: 1,\n        seniorBoy: 1\n    }, {\n        option: '很有害，但有时可用来提神醒脑',\n        juniorGirl: 0,\n        juniorBoy: 0,\n        seniorGirl: 2,\n        seniorBoy: 0\n    }, {\n        option: '害处大于益处，应控制',\n        juniorGirl: 4,\n        juniorBoy: 4,\n        seniorGirl: 2,\n        seniorBoy: 0\n    }, {\n        option: '有益也有害，平时喝点问题不大',\n        juniorGirl: 34,\n        juniorBoy: 16,\n        seniorGirl: 7,\n        seniorBoy: 5\n    }, {\n        option: '有益于身体，要多喝',\n        juniorGirl: 1,\n        juniorBoy: 7,\n        seniorGirl: 1,\n        seniorBoy: 2\n    }]\n}, {\n    question: '是否会提倡大家喝咖啡',\n    answers: [{\n        option: '会',\n        juniorGirl: 8,\n        juniorBoy: 7,\n        seniorGirl: 3,\n        seniorBoy: 1\n    }, {\n        option: '不会',\n        juniorGirl: 8,\n        juniorBoy: 3,\n        seniorGirl: 3,\n        seniorBoy: 2\n    }, {\n        option: '顺其自然',\n        juniorGirl: 27,\n        juniorBoy: 18,\n        seniorGirl: 7,\n        seniorBoy: 5\n    }]\n}, {\n    question: '是否支持我们的研究',\n    answers: [{\n        option: '非常支持',\n        juniorGirl: 38,\n        juniorBoy: 22,\n        seniorGirl: 10,\n        seniorBoy: 8\n    }, {\n        option: '垃圾',\n        juniorGirl: 4,\n        juniorBoy: 4,\n        seniorGirl: 1,\n        seniorBoy: 0\n    }]\n}]\n\nvar questionnaire = questionnaires[4]\noption = {\n    title: {\n        text: questionnaire.question,\n        left: 'center'\n    },\n    toolbox: {\n        show: true,\n        showTitle: false,\n        feature: {\n            saveAsImage: {\n                show: true,\n                title: 'Save As Image'\n            },\n            dataView: {\n                show: true,\n                title: 'Data View'\n            },\n        }\n    },\n    legend: {\n        bottom: 10,\n        left: 'center',\n        data: questionnaire.answers.map(item => {\n            return item.option\n        })\n    },\n    series: [{\n        type: 'pie',\n        radius: ['30%', '50%'],\n        center: ['50%', '50%'],\n        selectedMode: 'single',\n        itemStyle: {\n            normal: {\n                // 每根柱子颜色设置\n                color: function(params) {\n                    let colors = [\n                        '#733938', '#809d87', '#cf9490',\n                        '#f6c094', '#b5ccbd', '#f3e1d5'\n                    ]\n                    let index = params.dataIndex % colors.length\n                    return colors[index]\n                }\n            }\n        },\n        data: questionnaire.answers.map(item => {\n            return {\n                name: item.option,\n                value: item.juniorGirl + item.juniorBoy + item.seniorGirl + item.seniorBoy,\n                label: {\n                    formatter: [\n                        '{title| {b} }{abg|}',\n                        ' {textHead|人群分类}{valueHead|人数}',\n                        '{hr|}',\n                        '{text|18岁以下女}{value|' + item.juniorGirl + '}',\n                        '{text|18岁以下男}{value|' + item.juniorBoy + '}',\n                        '{text|18岁以下女}{value|' + item.seniorGirl + '}',\n                        '{text|18岁以下难}{value|' + item.seniorBoy + '}'\n                    ].join('\\n'),\n                    backgroundColor: '#eee',\n                    borderColor: '#777',\n                    borderWidth: 1,\n                    borderRadius: 4,\n                    rich: {\n                        title: {\n                            color: '#eee',\n                            align: 'center'\n                        },\n                        abg: {\n                            backgroundColor: '#333',\n                            width: '100%',\n                            align: 'right',\n                            height: 25,\n                            borderRadius: [4, 4, 0, 0]\n                        },\n                        iconHead: {\n                            color: '#333',\n                            height: 24,\n                            align: 'left'\n                        },\n                        hr: {\n                            borderColor: '#777',\n                            width: '100%',\n                            borderWidth: 0.5,\n                            height: 0\n                        },\n                        text: {\n                            width: 40,\n                            padding: [0, 20, 0, 30],\n                            align: 'left'\n                        },\n                        textHead: {\n                            color: '#333',\n                            width: 40,\n                            padding: [0, 20, 0, 30],\n                            align: 'center'\n                        },\n                        value: {\n                            width: 20,\n                            align: 'right',\n                            padding: [0, 10, 0, 0]\n                        },\n                        valueHead: {\n                            color: '#333',\n                            width: 20,\n                            align: 'center',\n                            padding: [0, 10, 0, 0]\n                        }\n                    }\n                }\n            }\n        }),\n        emphasis: {\n            itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n        }\n    }]\n}","html":"","externalScripts":"","updaterUID":"obd-oD9FBWNB_YRochzgkyLC2UgfxTJPP1q","theme":"","layout":"","viewCount":119,"userName":"r***n","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxvSoEzsgC.png?v=1606060620940","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"r***n"}}