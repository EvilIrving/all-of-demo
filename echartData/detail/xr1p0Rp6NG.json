{"status":0,"data":{"cid":"xr1p0Rp6NG","authorUid":"bd-1335944923","authorUserName":"锃***6","title":"模拟时钟效果（汉字旋转星期）","description":"By Cool_LYPMEN   http://gallery.echartsjs.com/editor.html?c=xBJd0b_nNf\n作者不支持修改保存，所以新建了一个项目","latestVersion":19,"alwaysLatest":1,"createTime":"2018-01-18T07:37:57.000Z","lastUpdateTime":"2018-01-18T07:37:57.000Z","auth":1,"uid":"bd-1335944923","publishedVersion":1,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-18T07:37:57.000Z","code":"/** 引用Cool_LYPMEN 模拟时钟修改汉字星期\r\n * 代码584-690为添加处\r\n*/\r\n\r\noption = { \r\n    tooltip: { \r\n        // formatter: \"{a}：{c}\"\r\n        backgroundColor: '#fff',\r\n        borderColor: '#f60',\r\n        borderWidth: '1px',\r\n        textStyle: {\r\n            color: '#333'\r\n        },\r\n        formatter: function(param) {\r\n            var time = Math.floor(param.value);\r\n            if(param.seriesIndex === 0){\r\n              return '<em style=\"color:' + param.color + ';\">当前小时:' + time + '</em>' \r\n            }\r\n            if(param.seriesIndex === 1){\r\n              return '<em style=\"color:' + param.color + ';\">当前星期:' + time + '</em>' \r\n            }\r\n            if(param.seriesIndex === 2){\r\n              return '<em style=\"color:' + param.color + ';\">当前月份:' + time + '</em>' \r\n            }\r\n            if(param.seriesIndex === 4){\r\n              return '<em style=\"color:' + param.color + ';\">当前小时:' + time + '</em>' \r\n            }\r\n            if(param.seriesIndex === 5){\r\n              return '<em style=\"color:' + param.color + ';\">当前分钟:' + time + '</em>' \r\n            }\r\n            if(param.seriesIndex === 6){\r\n              return '<em style=\"color:' + param.color + ';\">当前秒:' + time + '</em>' \r\n            }\r\n        }\r\n    },\r\n    backgroundColor: \"rgba(0,0,0,0.1)\",\r\n    series: [{ //小表盘24小时\r\n        name: '小时',\r\n        type: 'gauge',\r\n        center: ['28%', '50%'], // 默认全局居中\r\n        radius: '22%', //仪表盘半径\r\n        min: 0,\r\n        max: 24,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 24,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            show: 1,\r\n            length: '90%',\r\n            width: 3\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#00b0b0',\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 2,\r\n                shadowOffsetY: 2\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            lineStyle: {\r\n                color: [\r\n                    [1, '#337ab7']\r\n                ],\r\n                width: 6\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            length: 6,\r\n            lineStyle: {\r\n                width: 1\r\n            }\r\n        },\r\n        axisTick: { //仪表盘刻度样式\r\n            show: 0,\r\n            splitNumber: 5, //分隔线之间分割的刻度数\r\n            length: 5, //刻度线长\r\n            lineStyle: {\r\n                color: ['#ffffff']\r\n            }\r\n        },\r\n        axisLabel: { //刻度标签\r\n            show: 1,\r\n            distance: 2, //标签与刻度线的距离\r\n            textStyle: {\r\n                color: '#0000ff'\r\n            },\r\n            formatter: function(t) {\r\n                switch (t + '') {\r\n                    case '0':\r\n                        return '';\r\n                    case '1':\r\n                        return '';\r\n                    case '2':\r\n                        return '';\r\n                    case '3':\r\n                        return '3';\r\n                    case '4':\r\n                        return '';\r\n                    case '5':\r\n                        return '';\r\n                    case '6':\r\n                        return '6';\r\n                    case '7':\r\n                        return '';\r\n                    case '8':\r\n                        return '';\r\n                    case '9':\r\n                        return '9';\r\n                    case '10':\r\n                        return '';\r\n                    case '11':\r\n                        return '';\r\n                    case '12':\r\n                        return '12';\r\n                    case '13':\r\n                        return '';\r\n                    case '14':\r\n                        return '';\r\n                    case '15':\r\n                        return '15';\r\n                    case '16':\r\n                        return '';\r\n                    case '17':\r\n                        return '';\r\n                    case '18':\r\n                        return '18';\r\n                    case '19':\r\n                        return '';\r\n                    case '20':\r\n                        return '';\r\n                    case '21':\r\n                        return '21';\r\n                    case '22':\r\n                        return '';\r\n                    case '23':\r\n                        return '';\r\n                    case '24':\r\n                        return '24';\r\n                }\r\n            }\r\n        },\r\n        title: { //仪表盘标题\r\n            show: 1,\r\n            offsetCenter: ['250%', '-250%'],\r\n            textStyle: {\r\n                color: '#333',\r\n                fontSize: 24,\r\n                fontWeight: 'bold'\r\n            }\r\n        },\r\n        detail: { //仪表盘显示数据\r\n            show: 0,\r\n            formatter: '{value}',\r\n            offsetCenter: [0, '60%']\r\n        },\r\n        data: [{\r\n            name: '当前时间:\\n'\r\n        }]\r\n    },{ ///////////////////////////////////////////////小表盘星期\r\n        name: '星期',\r\n        type: 'gauge',\r\n        center: ['72%', '50%'], // 默认全局居中\r\n        radius: '22%', //仪表盘半径\r\n        min: 0,\r\n        max: 7,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 7,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            show: true,\r\n            length: '80%',\r\n            width: 3\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#00b0b0',\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 2,\r\n                shadowOffsetY: 2\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            lineStyle: {\r\n                color: [\r\n                    [0.07, 'rgba(192, 0, 0, 0.5)'],\r\n                    [0.21, 'rgba(0, 0, 192, 0.5)'],\r\n                    [0.35, 'rgba(0, 64, 192, 0.5)'],\r\n                    [0.50, 'rgba(0, 96, 192, 0.5)'],\r\n                    [0.64, 'rgba(0, 164, 192, 0.5)'],\r\n                    [0.78, 'rgba(0, 128, 64, 0.5)'],\r\n                    [0.93, 'rgba(192, 128, 0, 0.5)'],\r\n                    [1, 'rgba(192, 0, 0, 0.5)']\r\n                ],\r\n                width: 18\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            show: 0,\r\n            length: 18,\r\n            lineStyle: {\r\n                width: 1\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: 0\r\n        }, //仪表盘刻度样式\r\n        axisLabel: { //刻度标签\r\n            show: 1,\r\n            distance: -15, //标签与刻度线的距离\r\n            textStyle: {\r\n                color: '#ffffff'\r\n            },\r\n            formatter: function(t) {\r\n                return ''\r\n                // switch (t + '') {\r\n                //     case '0':\r\n                //         return '7';\r\n                //     case '1':\r\n                //         return '1';\r\n                //     case '2':\r\n                //         return '2';\r\n                //     case '3':\r\n                //         return '3';\r\n                //     case '4':\r\n                //         return '4';\r\n                //     case '5':\r\n                //         return '5';\r\n                //     case '6':\r\n                //         return '6';\r\n                //     case '0':\r\n                //         return '{w0|星期日}';\r\n                //     case '1':\r\n                //         return '星期一';\r\n                //     case '2':\r\n                //         return '星期二';\r\n                //     case '3':\r\n                //         return '星期三';\r\n                //     case '4':\r\n                //         return '星期四';\r\n                //     case '5':\r\n                //         return '星期五';\r\n                //     case '6':\r\n                //         return '星期六';    //这里的汉字怎么随着这个圆的弧度显示而不是水平显示\r\n                // }\r\n            },\r\n            // rich: {\r\n            //     w0: {\r\n            //         transtion: 'rotate(30deg)'\r\n            //     }\r\n            // }\r\n        },\r\n        title: {\r\n            show: 0\r\n        }, //仪表盘标题\r\n        detail: {\r\n            show: 0\r\n        }, //仪表盘显示数据\r\n        data: [{}],\r\n        z: 0\r\n    }, { ///////////////////////////////////////////////小表盘月\r\n        name: '月份',\r\n        type: 'gauge',\r\n        center: ['50%', '72%'], // 默认全局居中\r\n        radius: '22%', //仪表盘半径\r\n        min: 0,\r\n        max: 12,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 12,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            show: 1,\r\n            length: '90%',\r\n            width: 3\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#00b0b0',\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 2,\r\n                shadowOffsetY: 2\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            lineStyle: {\r\n                color: [\r\n                    [1, '#337ab7']\r\n                ],\r\n                width: 6\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            show: 1,\r\n            length: 6,\r\n            lineStyle: {\r\n                width: 1\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: 0\r\n        }, //仪表盘刻度样式\r\n        axisLabel: { //刻度标签\r\n            show: 1,\r\n            distance: 1, //标签与刻度线的距离\r\n            textStyle: {\r\n                color: '#0000ff',\r\n                fontFamily: '宋体'\r\n            },\r\n            formatter: function(t) {\r\n                switch (t + '') {\r\n                    case '2':\r\n                        return '2';\r\n                    case '4':\r\n                        return '4';\r\n                    case '6':\r\n                        return '6';\r\n                    case '8':\r\n                        return '8';\r\n                    case '10':\r\n                        return '10';\r\n                    case '12':\r\n                        return '12';\r\n                }\r\n            }\r\n        },\r\n        detail: {\r\n            show: 0\r\n        }, //仪表盘显示数据\r\n        data: [{}]\r\n    }, { ///////////////////////////////////////////////小表盘日\r\n        type: 'gauge',\r\n        center: ['50%', '72%'], // 默认全局居中\r\n        radius: '22%', //仪表盘半径\r\n        animation: 0,\r\n        pointer: {\r\n            width: 0\r\n        }, //仪表盘指针\r\n        axisLine: { //仪表盘轴线样式 \r\n            lineStyle: {\r\n                show: 0,\r\n                width: 0\r\n            }\r\n        },\r\n        splitLine: {\r\n            show: 0\r\n        }, //分割线样式 \r\n        axisTick: {\r\n            show: 0\r\n        }, //仪表盘刻度样式\r\n        axisLabel: {\r\n            show: 0\r\n        }, //刻度标签\r\n        detail: { //仪表盘显示数据\r\n            show: 1,\r\n            formatter: function(e) {\r\n                if (e < 10)\r\n                    e = '0' + e;\r\n                return e;\r\n            },\r\n            offsetCenter: ['160%', 0],\r\n            borderWidth: 2,\r\n            borderColor: '#337ab7',\r\n            backgroundColor: '#fff',\r\n            height: 20,\r\n            width: 28,\r\n            textStyle: {\r\n                color: '#f60',\r\n                fontSize: 16,\r\n                fontWeight: 'bold'\r\n            },\r\n        },\r\n        data: [{}]\r\n    }, { ///////////////////////////////////////////////大表盘时针\r\n        name: '小时',\r\n        type: 'gauge',\r\n        radius: '90%', //仪表盘半径\r\n        min: 0,\r\n        max: 12,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 12,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            length: '70%',\r\n            width: 6\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#109A39',\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 2,\r\n                shadowOffsetY: 2\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            show: 0,\r\n            lineStyle: {\r\n                color: [\r\n                    [1, '#337ab7']\r\n                ],\r\n                width: 10,\r\n                shadowColor: 'rgba(0, 0, 0, 0.8)',\r\n                shadowBlur: 12,\r\n                shadowOffsetX: 3,\r\n                shadowOffsetY: 3\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            length: 10,\r\n            lineStyle: {\r\n                width: 2\r\n            }\r\n        },\r\n        axisTick: { //仪表盘刻度样式\r\n            show: true,\r\n            splitNumber: 5, //分隔线之间分割的刻度数\r\n            length: 5, //刻度线长\r\n            lineStyle: {\r\n                color: ['#ffffff']\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: 0\r\n        }, //刻度标签\r\n        title: {\r\n            show: 0\r\n        }, //仪表盘标题\r\n        detail: {\r\n            show: 0\r\n        }, //仪表盘显示数据\r\n        data: [{}]\r\n    }, { ///////////////////////////////////////////////大表盘分针\r\n        name: '分钟',\r\n        type: 'gauge',\r\n        radius: '90%', //仪表盘半径\r\n        min: 0,\r\n        max: 60,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 12,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            length: '85%',\r\n            width: 6\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#ca8622',\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 2,\r\n                shadowOffsetY: 2\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            show: 0,\r\n            lineStyle: {\r\n                width: 0\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            length: 10,\r\n            lineStyle: {\r\n                width: 2\r\n            }\r\n        },\r\n        axisTick: { //仪表盘刻度样式\r\n            show: true,\r\n            splitNumber: 5, //分隔线之间分割的刻度数\r\n            length: 5, //刻度线长\r\n            lineStyle: {\r\n                color: ['#ffffff']\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: 0\r\n        }, //刻度标签\r\n        title: {\r\n            show: 0\r\n        }, //仪表盘标题\r\n        detail: {\r\n            show: 0\r\n        }, //仪表盘显示数据\r\n        data: [{}]\r\n    }, { ///////////////////////////////////////////////大表盘秒针\r\n        name: '秒',\r\n        type: 'gauge',\r\n        radius: '90%', //仪表盘半径\r\n        min: 0,\r\n        max: 60,\r\n        startAngle: 90,\r\n        endAngle: -269.9999,\r\n        splitNumber: 12,\r\n        animation: 0,\r\n        pointer: { //仪表盘指针\r\n            show: true,\r\n            length: '95%',\r\n            width: 4\r\n        },\r\n        itemStyle: { //仪表盘指针样式\r\n            normal: {\r\n                color: '#00b0b0',\r\n                shadowColor: 'rgba(0, 0, 0, 0.8)',\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 4,\r\n                shadowOffsetY: 4\r\n            }\r\n        },\r\n        axisLine: { //仪表盘轴线样式 \r\n            lineStyle: {\r\n                color: [\r\n                    [1, '#337ab7']\r\n                ],\r\n                width: 10\r\n            }\r\n        },\r\n        splitLine: { //分割线样式 \r\n            length: 10,\r\n            lineStyle: {\r\n                width: 2\r\n            }\r\n        },\r\n        axisTick: { //仪表盘刻度样式\r\n            show: 1,\r\n            splitNumber: 5, //分隔线之间分割的刻度数\r\n            length: 5, //刻度线长\r\n            lineStyle: {\r\n                color: ['#fff']\r\n            }\r\n        },\r\n        axisLabel: { //刻度标签\r\n            show: 1,\r\n            distance: 6, //标签与刻度线的距离\r\n            textStyle: {\r\n                fontWeight: 'bold',\r\n                fontSize: 16\r\n            },\r\n            formatter: function(t) {\r\n                switch (t + '') {\r\n                    case '0':\r\n                        return '';\r\n                    case '5':\r\n                        return '1';\r\n                    case '10':\r\n                        return '2';\r\n                    case '15':\r\n                        return '3';\r\n                    case '20':\r\n                        return '4';\r\n                    case '25':\r\n                        return '5';\r\n                    case '30':\r\n                        return '6';\r\n                    case '35':\r\n                        return '7';\r\n                    case '40':\r\n                        return '8';\r\n                    case '45':\r\n                        return '9';\r\n                    case '50':\r\n                        return '10';\r\n                    case '55':\r\n                        return '11';\r\n                    case '60':\r\n                        return '12';\r\n                }\r\n            }\r\n        },\r\n        title: {\r\n            show: 0\r\n        }, //仪表盘标题\r\n        detail: { //仪表盘显示数据\r\n            show: 0,\r\n            formatter: '{value}',\r\n            offsetCenter: [0, '60%']\r\n        },\r\n        data: [{}]\r\n    },\r\n    { //////// 汉字星期标注\r\n        name: '汉字星期',\r\n        type: 'pie',\r\n        hoverAnimation: false,\r\n        center: ['72%', '50%'],\r\n        radius: ['15%', '22.5%'],\r\n        startAngle: 64.28,\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'inside'\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbolSize: 1,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    formatter: function(t){\r\n                        return t.name\r\n                    }\r\n                }\r\n            },\r\n            data: [\r\n                {\r\n                    name: '星期日',\r\n                    x: '72%',\r\n                    y: '41%'\r\n                },\r\n                {\r\n                    name: '星期一',\r\n                    x: '77.5%',\r\n                    y: '44.5%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: -51.42\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: '星期二',\r\n                    x: '78.7%',\r\n                    y: '52%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: -102.84\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: '星期三',\r\n                    x: '75%',\r\n                    y: '58.5%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: -154.28\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: '星期四',\r\n                    x: '69%',\r\n                    y: '58.5%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: -205.7\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: '星期五',\r\n                    x: '65.5%',\r\n                    y: '52%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: -257.12\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: '星期六',\r\n                    x: '66.8%',\r\n                    y: '44.2%',\r\n                    label: {\r\n                        normal: {\r\n                            rotate: 51.46\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        data: [\r\n            {name: '星期日', value: 1},\r\n            {name: '星期一', value: 1},\r\n            {name: '星期二', value: 1},\r\n            {name: '星期三', value: 1},\r\n            {name: '星期四', value: 1},\r\n            {name: '星期五', value: 1},\r\n            {name: '星期六', value: 1},\r\n        ],\r\n        z: 1\r\n    }\r\n    ]\r\n};\r\nmyChart.setOption(option);\r\nclearInterval(timeTicket);\r\nvar timeTicket = setInterval(function() {\r\n    var datetime = new Date();\r\n    var year = datetime.getFullYear();\r\n    var month = datetime.getMonth() + 1;\r\n    var date = datetime.getDate();\r\n    var h = datetime.getHours();\r\n    var m = datetime.getMinutes();\r\n    var s = datetime.getSeconds();\r\n    var week = datetime.getDay();\r\n    var ms = datetime.getMilliseconds();\r\n    var minutes = m + s / 60;\r\n    var hours_24 = h + m / 60;\r\n    var hours_12;\r\n    if (hours_24 > 12){\r\n        hours_12 = hours_24 - 12;\r\n    }\r\n    else{\r\n        hours_12 = hours_24;\r\n    }\r\n    var seconds = s + ms / 1000;\r\n    var cur_mon = new Date(year, month, 0);\r\n    var cur_mon_count = cur_mon.getDate(); //当前月份总天数\r\n    var month = month + date / cur_mon_count;\r\n    if (month > 12){\r\n        month = month - 12;\r\n    }\r\n    var strmonth = datetime.getMonth() + 1;    \r\n    var str = year + \"-\" + checktime(strmonth) + \"-\" + checktime(date) + \" \"+ checktime(h) + \":\" + checktime(m) + \":\" + checktime(s); \r\n    option.series[0].data[0].name = '当前时间:\\n' + str;\r\n    option.series[0].data[0].value = (hours_24).toFixed(2);\r\n    option.series[1].data[0].value = (week).toFixed(0);\r\n    option.series[2].data[0].value = (month).toFixed(2);\r\n    option.series[3].data[0].value = (date).toFixed(0);\r\n    option.series[4].data[0].value = (hours_12).toFixed(2);\r\n    option.series[5].data[0].value = (minutes).toFixed(2);\r\n    option.series[6].data[0].value = (seconds).toFixed(2);\r\n    myChart.setOption(option, true);\r\n}, 100);\r\nfunction checktime(str){\r\n    if(str < 10){\r\n        return '0' + str;\r\n    }\r\n\treturn str;\r\n}\r\n","html":"","externalScripts":"","updaterUID":"bd-1335944923","theme":"","layout":"","viewCount":11017,"userName":"锃***6","commentCount":1,"starCount":73,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1p0Rp6NG.png?v=1516261077368","isCustomThumbnail":0,"builtinTags":["category-work","markPoint","series-gauge","series-pie","tooltip"],"customTags":[],"updaterUserName":"锃***6"}}