{"status":0,"data":{"cid":"xH1gkBAfkz","authorUid":"bd-1813650783","authorUserName":"y***8","title":"点击button切换数据源","description":"通过点击底部的两个按钮，获取索引值，然后传进来给图表，这里我暂时用定时器模拟点击事件","latestVersion":1,"alwaysLatest":1,"createTime":"2017-11-10T07:27:20.000Z","lastUpdateTime":"2017-11-10T07:27:20.000Z","auth":2,"uid":"bd-1813650783","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-11-10T07:27:20.000Z","code":"var indexs= 0\r\n//indexs 是在点击的时候，传进来的一个值，对应下面的数组里面的内容，\r\n\r\n\r\nsetInterval(function (){\r\n    indexs++;\r\n    if(indexs ==2){\r\n        indexs=0;\r\n    }\r\n    console.log(indexs)\r\n    priceAnalysis(indexs)\r\n},5000)\r\n\r\n\r\n\r\n priceAnalysis(indexs)\r\n\r\nvar indexs= 0\r\n function priceAnalysis(indexs){\r\n\tvar  sisData=[\r\n\t[\r\n        {\r\n            name:'销售量',\r\n            type:'bar',\r\n            barWidth:20,\r\n            data:[222, 129, 120, 233.2, 125.6, 176.7, 135.6, 162.2, 132.6, 120.0, 126.4,123.3]\r\n        },\r\n        {\r\n            name:'实际价格',\r\n            type:'line',\r\n            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]\r\n        },\r\n        {\r\n            name:'预算价格',\r\n            type:'line',\r\n            yAxisIndex: 1,\r\n            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            name:'产销率',\r\n            type:'bar',\r\n            barWidth:20,\r\n            data:[100, 197, 165, 188, 219, 121, 109, 192, 131, 271, 199,129]\r\n        }\r\n         \r\n    ],\r\n    ];\r\n    var legendDate=[['销售量','实际价格','预算价格'], ['产销率']];\r\n    \r\n \r\noption= {\r\n        tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'cross',\r\n            crossStyle: {\r\n                color: '#999'\r\n            }\r\n        }\r\n    },\r\n    color:['#5aade0','#d14a61','#4cc47d'],\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    legend: {\r\n        data:legendDate[indexs]\r\n    },\r\n    xAxis: [\r\n        {\r\n            type: 'category',\r\n            data: ['16/01','16/02','16/03','16/04','16/05','16/06','16/07','16/08','16/09','16/10','16/11','16/12'],\r\n            axisPointer: {\r\n                type: 'shadow'\r\n            },\r\n            axisLabel:{\r\n                rotate:40\r\n            }\r\n        }\r\n    ],\r\n      yAxis: [\r\n        {\r\n            type: 'value',\r\n            name: '万元',\r\n            min: 0,\r\n            max: 250,\r\n            interval: 50,\r\n//          axisLabel: {\r\n//              formatter: '{value}万元'\r\n//          }\r\n        },\r\n        {\r\n            type: 'value',\r\n            name: '万元/吨',\r\n            min: 0,\r\n            max: 25,\r\n            interval: 5,\r\n//          axisLabel: {\r\n//              formatter: '{value} °C'\r\n//          }\r\n        }\r\n    ],\r\n     series: sisData[indexs]\r\n}\r\n myChart.setOption(option,true);\r\n};","html":"","externalScripts":"","updaterUID":"bd-1813650783","theme":"","layout":"","viewCount":226,"userName":"y***8","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1gkBAfkz.png?v=1510298840304","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"y***8"}}