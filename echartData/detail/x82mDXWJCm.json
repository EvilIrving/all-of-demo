{"status":0,"data":{"cid":"x82mDXWJCm","authorUid":"obd-oMpb9U_VJBvIlrVhSp75QWOTO5mV12P","authorUserName":"5***y","title":"四分之三","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-16T07:41:39.000Z","lastUpdateTime":"2020-10-16T07:41:39.000Z","auth":2,"uid":"obd-oMpb9U_VJBvIlrVhSp75QWOTO5mV12P","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-16T07:41:39.000Z","code":"let color = ['#f9fd12', '#5ac918', '#6089fd', '#0d28f4']\nlet chartData = [{\n        name: '一级区',\n        value: 13211,\n        unit: '次',\n    },\n    {\n        name: '二级区',\n        value: 42111,\n        unit: '次',\n    },\n    {\n        name: '三级区',\n        value: 81711,\n        unit: '次',\n    },\n    {\n        name: '四级区',\n        value: 121711,\n        unit: '次',\n    },\n]\nlet arrName = []\nlet arrValue = []\nlet sum = 0\nlet pieSeries = [],\n    lineYAxis = []\n\n// 数据处理\nchartData.forEach((v) => {\n    arrName.push(v.name)\n    arrValue.push(v.value)\n    sum = sum + v.value\n})\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        name: '学历',\n        type: 'pie',\n        clockWise: false,\n        hoverAnimation: false,\n        radius: [65 - i * 15 + '%', 57 - i * 15 + '%'],\n        center: ['50%', '55%'],\n        label: {\n            show: false,\n        },\n        data: [{\n                value: v.value,\n                name: v.name,\n            },\n            {\n                value: sum - v.value,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    })\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [65 - i * 15 + '%', 57 - i * 15 + '%'],\n        center: ['50%', '55%'],\n        label: {\n            show: false,\n        },\n        data: [{\n                value: 7.5,\n                itemStyle: {\n                    color: '#3a4955',\n                },\n            },\n            {\n                value: 2.5,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    })\n    v.percent = ((v.value / sum) * 100).toFixed(1) + '%'\n    lineYAxis.push({\n        value: i,\n        textStyle: {\n            rich: {\n                circle: {\n                    color: color[i],\n                    padding: [0, 5],\n                },\n            },\n        },\n    })\n})\noption = {\n    backgroundColor: '#000',\n    color: color,\n    grid: {\n        top: '20%',\n        bottom: '50%',\n        left: '55%',\n        containLabel: false,\n    },\n    legend: {\n        show: true,\n        top: '15%',\n        // left: '70%',\n        data: arrName,\n        itemWidth: 12,\n        itemHeight: 12,\n        // width: 50,\n        padding: [0, 5],\n        itemGap: 25,\n        formatter: function(name) {\n            return '{title|' + name + '}'\n        },\n        textStyle: {\n            rich: {\n                title: {\n                    fontSize: 10,\n                    lineHeight: 10,\n                    color: '#fff',\n                },\n                value: {\n                    fontSize: 14,\n                    lineHeight: 18,\n                    color: '#fff',\n                },\n            },\n        },\n    },\n    yAxis: [{\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            formatter: function(params) {\n                let item = chartData[params]\n                console.log(item)\n                return (\n                    '{circle|●}{bd|}{value|' + item.value + '}{unit|次}{percent|' + item.percent + '}'\n                )\n            },\n            interval: 0,\n            inside: true,\n            textStyle: {\n                color: '#fff',\n                fontSize: 14,\n                rich: {\n                    bd: {\n                        // color: '#ccc',\n                        fontSize: 14,\n                    },\n                    percent: {\n                        padding: [0, 10],\n                        // color: '#fff',\n                        fontSize: 14,\n                    },\n                    value: {\n                        // color: '#fff',\n                        fontSize: 16,\n                        fontWeight: 500,\n                        padding: [0, 0, 0, 10],\n                    },\n                    unit: {\n                        fontSize: 14,\n                    },\n                },\n            },\n            show: true,\n        },\n        data: lineYAxis,\n    }, ],\n    xAxis: [{\n        show: false,\n    }, ],\n    series: pieSeries,\n}","html":"","externalScripts":"","updaterUID":"obd-oMpb9U_VJBvIlrVhSp75QWOTO5mV12P","theme":"","layout":"","viewCount":200,"userName":"5***y","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x82mDXWJCm.png?v=1602834099248","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-pie"],"customTags":[],"updaterUserName":"5***y"}}