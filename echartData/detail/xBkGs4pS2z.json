{"status":0,"data":{"cid":"xBkGs4pS2z","authorUid":"bd-2198309696","authorUserName":"4***0","title":"地图自定义线标签","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-04-19T07:26:18.000Z","lastUpdateTime":"2018-04-19T07:26:18.000Z","auth":2,"uid":"bd-2198309696","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-09-11T02:54:28.000Z","code":"var mapOption = {\n    bmap: {\n        zoom: 5,\n        scaleLimit: {\n            min: 1,\n            max: 1\n        },\n        roam: false,\n        //silent: true,\n        mapStyle: {\n            styleJson: [{\n                    \"featureType\": \"water\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"color\": \"#044161\"\n                    }\n                },\n                {\n                    \"featureType\": \"land\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"color\": \"#004981\"\n                    }\n                },\n                {\n                    \"featureType\": \"boundary\",\n                    \"elementType\": \"geometry\",\n                    \"stylers\": {\n                        \"color\": \"#064f85\"\n                    }\n                },\n                {\n                    \"featureType\": \"railway\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"highway\",\n                    \"elementType\": \"geometry\",\n                    \"stylers\": {\n                        \"color\": \"#004981\"\n                    }\n                },\n                {\n                    \"featureType\": \"highway\",\n                    \"elementType\": \"geometry.fill\",\n                    \"stylers\": {\n                        \"color\": \"#005b96\",\n                        \"lightness\": 1\n                    }\n                },\n                {\n                    \"featureType\": \"highway\",\n                    \"elementType\": \"labels\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"arterial\",\n                    \"elementType\": \"geometry\",\n                    \"stylers\": {\n                        \"color\": \"#004981\"\n                    }\n                },\n                {\n                    \"featureType\": \"arterial\",\n                    \"elementType\": \"geometry.fill\",\n                    \"stylers\": {\n                        \"color\": \"#00508b\"\n                    }\n                },\n                {\n                    \"featureType\": \"poi\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"green\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"color\": \"#056197\",\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"subway\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"manmade\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"local\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"arterial\",\n                    \"elementType\": \"labels\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                },\n                {\n                    \"featureType\": \"boundary\",\n                    \"elementType\": \"geometry.fill\",\n                    \"stylers\": {\n                        \"color\": \"#029fd4\"\n                    }\n                },\n                {\n                    \"featureType\": \"building\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"color\": \"#1a5787\"\n                    }\n                },\n                {\n                    \"featureType\": \"label\",\n                    \"elementType\": \"all\",\n                    \"stylers\": {\n                        \"visibility\": \"off\"\n                    }\n                }\n            ]\n        }\n    },\n    series: [{\n        type: 'effectScatter',\n        coordinateSystem: 'bmap',\n        data: [],\n        zlevel: 1,\n        showEffectOn: 'emphasis',\n        symbolSize: 35,\n        rippleEffect: {\n            brushType: 'stroke'\n        },\n        hoverAnimation: true,\n        label: {\n            normal: {\n                formatter: '{b}',\n                position: 'right',\n                show: false\n            },\n            emphasis: {\n                show: true\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#f4e925',\n                shadowBlur: 10,\n                shadowColor: '#333'\n            }\n        },\n    }, {\n        coordinateSystem: 'bmap',\n        type: 'lines',\n        lineStyle: {\n            normal: {\n                //color: '#ddd',\n                width: 1.5,\n                curveness: -0.2\n            }\n        },\n        silent: true,\n        data: []\n    }, {\n        coordinateSystem: 'bmap',\n        type: 'lines',\n        lineStyle: {\n            normal: {\n                //color: '#ddd',\n                width: 0,\n                curveness: -0.2\n            }\n        },\n        silent: true,\n        //zlevel: 1,\n        effect: {\n            show: true,\n            symbolSize: 6,\n            symbol: 'arrow',\n            trailLength: 0,\n        },\n        data: []\n    }, {\n        name: 'label',\n        type: 'effectScatter',\n        symbol: 'roundRect',\n        //hoverAnimation:false,\n        symbolSize: [90, 25],\n        coordinateSystem: 'bmap',\n        zlevel: 1,\n        tooltip: {\n            formatter: '{b}'\n        },\n        rippleEffect: {\n            scale: 1.25,\n            //brushType:'stroke'\n        },\n        label: {\n            normal: {\n                show: true,\n                formatter: [\n                    '{title|{b}}{abg|}',\n                ].join('\\n'),\n                rich: {\n                    title: {\n                        color: 'red',\n                        align: 'center',\n                        width: 100,\n                    },\n                    abg: {\n                        //backgroundColor: 'rgba(255,255,255,0.4)',\n                        width: '100%',\n                        align: 'right',\n                        height: 25,\n                        borderRadius: 5\n                    },\n                }\n            }\n        },\n        data: [],\n    }]\n}\nvar color = ['rgba(255,255,255,0.15)', 'rgba(255,255,255,0.2)', 'rgba(255,255,255,0.3)', 'rgba(255,255,255,0.4)', 'rgba(255,255,255,0.45)'];\nvar labelName = [\"a\", 'b', 'c', 'd', 'e'];\nvar labelUrl = [\"#\", \"#\", \"#\", \"#\", \"#\"];\nvar positions = [\n    [11.8, 0.47],\n    [-11.7, 4.47],\n    [-13.7, -5.03],\n    [10.3, -9.03],\n    [8.3, 7.97], \n];\nvar linesPositions = [\n    [8.2, 0.97],\n    [-11.7, 3.82],\n    [-10.05, -5.03],\n    [10.3, -8.23],\n    [8.3, 7.37]\n];\nvar virtualLinesPositions = [\n    [-3.7, -11.73],\n    [-1.7, 7.27]\n];\nvar virtualColor = ['rgba(255,255,255,0.3)', 'rgba(255,255,255,0.4)'];\nvar mapCenter = [\"116.23\",\"39.54\"];\nmapOption.bmap.center = mapCenter;\nmapOption.series[0].data.push(mapCenter);\npositions.forEach(function(item, index) {\n    mapOption.series[3].data.push({\n        itemStyle: {\n            normal: {\n                color: 'rgba(255,255,255,0.2)',\n                borderColor: 'rgba(255,255,255,0.3)',\n                borderWidth: 1,\n                opacity: 0.9\n            }\n        },\n        name: labelName[index],\n        value: [(mapCenter[0] - 0) + item[0], (mapCenter[1] - 0) + item[1], labelUrl[index] + (localStorage.token ? '?token=' + localStorage.token : '')],\n    });\n});\nlinesPositions.forEach(function(item, index) {\n    mapOption.series[1].data.push({\n        coords: [\n            [(mapCenter[0] - 0) + item[0], (mapCenter[1] - 0) + item[1]], mapCenter\n        ],\n        lineStyle: {\n            normal: {\n                color: color[index],\n                opacity: 0.8\n            }\n        },\n        opacity: 1\n    });\n    mapOption.series[2].data.push({\n        coords: [\n            [(mapCenter[0] - 0) + item[0], (mapCenter[1] - 0) + item[1]], mapCenter\n        ],\n        lineStyle: {\n            normal: {\n                color: color[index],\n                opacity: 0.8\n            }\n        },\n    });\n});\nvirtualLinesPositions.forEach(function(item, index) {\n    mapOption.series[1].data.push({\n        coords: [\n            [(mapCenter[0] - 0) + item[0], (mapCenter[1] - 0) + item[1]], mapCenter\n        ],\n        lineStyle: {\n            normal: {\n                type: 'dashed',\n                color: virtualColor[index],\n                opacity: 0.8\n            }\n        }\n    });\n    mapOption.series[2].data.push({\n        lineStyle: {\n            normal: {\n                type: 'dashed',\n                color: virtualColor[index]\n            },\n            opacity: 0.8\n        },\n        coords: [\n            [(mapCenter[0] - 0) + item[0], (mapCenter[1] - 0) + item[1]], mapCenter\n        ]\n    });\n});\n\nmyChart.setOption(mapOption);","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,https://api.map.baidu.com/api?v=2.0&ak=KOmVjPVUAey1G2E8zNhPiuQ6QiEmAwZu&__ec_v__=20190126","updaterUID":"bd-2198309696","theme":"","layout":"","viewCount":443,"userName":"4***0","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkGs4pS2z.png?v=1524122778678","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":["百度地图"],"updaterUserName":"4***0"}}