{"status":0,"data":{"cid":"xPpWnbAOo","authorUid":"bd-624277064","authorUserName":"女***边","title":"广州下钻","description":"广州下钻","latestVersion":3,"alwaysLatest":1,"createTime":"2019-12-20T06:39:19.000Z","lastUpdateTime":"2019-12-20T06:39:19.000Z","auth":2,"uid":"bd-624277064","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-20T07:43:02.000Z","code":"var gz = \"/asset/get/s/data-1576821068997-HGlupX6J.json\";\r\nvar sg = \"/asset/get/s/data-1576821486518-hXiIB3zl.json\";\r\nvar sz = \"/asset/get/s/data-1576823863630-dp3ZR3zA.json\";\r\nvar zh = \"/asset/get/s/data-1576824001581-HGb5qVrI.json\";\r\nvar st = \"/asset/get/s/data-1576824020491-B7h-K2yV.json\";\r\nvar fs = \"/asset/get/s/data-1576824043187-E-xwb0jW.json\";\r\nvar jm = \"/asset/get/s/data-1576824050865-VcmIj6LF.json\";\r\nvar zj = \"/asset/get/s/data-1576824072094-_S1ovhbZ.json\";\r\nvar mm = \"/asset/get/s/data-1576824083659-HUyf5kmu.json\";\r\nvar zq = \"/asset/get/s/data-1576824094572-yuEzuCbC.json\";\r\nvar hz = \"/asset/get/s/data-1576824222099-nELgXb84.json\";\r\nvar mz = \"/asset/get/s/data-1576824237769-_uMBnSG_.json\";\r\nvar sw = \"/asset/get/s/data-1576824251141-jwLw_Xww.json\";\r\nvar hy = \"/asset/get/s/data-1576824260491-fhsmPl4c.json\";\r\nvar jy = \"/asset/get/s/data-1576824277625-fC0b1Dof.json\";\r\nvar qy = \"/asset/get/s/data-1576824295450-lI2psCvK.json\";\r\nvar dg = \"/asset/get/s/data-1576824310416-w16vG8kl.json\";\r\nvar zs = \"/asset/get/s/data-1576824354651-9bwLpzgy.json\";\r\nvar cz = \"/asset/get/s/data-1576824367651-WDNeewJ3.json\";\r\nvar jy = \"/asset/get/s/data-1576824380485-eFPHlFNL.json\";\r\nvar yf = \"/asset/get/s/data-1576824384706-1Brve1Oj.json\";\r\n// 广东省数据\r\nvar qingdao = \"/asset/get/s/data-1576655009916-by_DuGU2.json\";\r\nvar chart = myChart;\r\nvar cityProper = {\r\n    '广州市': gz,\r\n    '韶关市': sg,\r\n    '深圳市': sz,\r\n    '珠海市': zh,\r\n    '汕头市': st,\r\n    '佛山市': fs,\r\n    '江门市': jm,\r\n    '湛江市': zj,\r\n    '茂名市': mm,\r\n    '肇庆市': zq,\r\n    '惠州市': hz,\r\n    '梅州市': mz,\r\n    '汕尾市': sw,\r\n    '河源市': hy,\r\n    '阳江市': jy,\r\n    '清远市': qy,\r\n    '东莞市': dg,\r\n    '中山市': zs,\r\n    '潮州市': cz,\r\n    '揭阳市': jy,\r\n    '云浮市': yf,\r\n};\r\nvar data = [{\r\n    name: '广州市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '韶关市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '深圳市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '珠海市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '汕头市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '佛山市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '江门市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '湛江市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '茂名市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '肇庆市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '惠州市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '梅州市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '汕尾市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '河源市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '阳江市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '清远市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '东莞市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '中山市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '潮州市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '揭阳市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, {\r\n    name: '云浮市',\r\n    value: 1000,\r\n    valueNum: 300,\r\n}, ];\r\n// 随机产生数据   \r\n// for (var i = 0; i < data.length; i++) {\r\n//     data[i].value = Math.round(Math.random() * 10000);\r\n//     data[i].valueNum = Math.round(Math.random() * 1000);\r\n// }\r\nlet option = {\r\n    tooltip: {\r\n        trigger: 'item'\r\n    },\r\n    toolbox: {\r\n        show: true,\r\n        orient: 'vertical',\r\n        x: 'right',\r\n        y: 'center',\r\n        feature: {\r\n            mark: {\r\n                show: true\r\n            },\r\n            dataView: {\r\n                show: true,\r\n                readOnly: false\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        tooltip: {\r\n                trigger: 'item',\r\n                show: true,\r\n                formatter: function(params) {\r\n                    if (params.data) {\r\n                        return `${params.name}</br>\r\n                            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#1197b8\"></span>\r\n                            规划数量：${params.data.value}</br>\r\n                            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#5ba2ff\"></span>\r\n                            发证数量：${params.data.valueNum}`\r\n                    } else {\r\n                        return;\r\n                    }\r\n                }\r\n            },\r\n        name: '选择器',\r\n        type: 'map',\r\n        mapType: '青岛',\r\n        // left: 'left',\r\n        // top: 'top',\r\n        // width: '30%',\r\n        roam: true,\r\n        selectedMode: 'single',\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: true\r\n                }\r\n            },\r\n            emphasis: {\r\n                label: {\r\n                    show: true\r\n                }\r\n            }\r\n        },\r\n        data: data\r\n    }],\r\n    animation: false\r\n};\r\n$.get(qingdao, function(getJSON) {\r\n    echarts.registerMap(\"青岛\", getJSON)\r\n    chart.setOption(option, true);\r\n\r\n    chart.on(\"click\", chartClick);\r\n})\r\n//var ecConfig = echarts.config;\r\nfunction chartClick(param) {\r\n    //var selected = param.selected;\r\n    //console.log(option.series[0].data[1].selected);\r\n    var selectedProvince = param.name;\r\n    if (!cityProper[selectedProvince]) {\r\n        option.series.splice(1);\r\n        option.legend = null;\r\n        option.visualMap = null;\r\n        chart.setOption(option, true);\r\n        return;\r\n    }\r\n    console.log(cityProper[selectedProvince]);\r\n    $.get(cityProper[selectedProvince], function(geojson, data) {\r\n        echarts.registerMap('青岛', geojson);\r\n        // 配置移上去的显示信息\r\n        let cityData = []\r\n        let mapData = JSON.parse(geojson).features\r\n        // 市数据配置\r\n        mapData.map((i, ind) => {\r\n            cityData[ind] = {\r\n                name: i.properties.name,\r\n                value: Math.round(Math.random() * 10000),\r\n                valueNum: Math.round(Math.random() * 1000),\r\n            }\r\n        })\r\n        // 如果要单独配置某个地区的值 请使用以下方法\r\n        // F12 打印出了具体的值 对应位置\r\n        console.log(cityData)\r\n        cityData[0].value = 1000\r\n        cityData[0].valueNum = 10000\r\n        //地图配置\r\n        option.series[0] = {\r\n            name: '选择器',\r\n            type: 'map',\r\n            mapType: '青岛',\r\n            // left: '50%',\r\n            // top: 'top',\r\n            // width: '30%',\r\n            roam: true,\r\n            selectedMode: 'single',\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: true\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    label: {\r\n                        show: true\r\n                    }\r\n                }\r\n            },\r\n            data: cityData\r\n        };\r\n        option.legend = {\r\n            left: 'right',\r\n            data: ['随机数据']\r\n        };\r\n        option.tooltip = {\r\n                trigger: 'item',\r\n                show: true,\r\n                formatter: function(params) {\r\n                    if (params.data) {\r\n                        return `${params.name}</br>\r\n                            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#1197b8\"></span>\r\n                            规划数量：${params.data.value}</br>\r\n                            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#5ba2ff\"></span>\r\n                            发证数量：${params.data.valueNum}`\r\n                    } else {\r\n                        return;\r\n                    }\r\n                }\r\n            },\r\n\r\n            chart.setOption(option, true);\r\n    })\r\n\r\n};","html":"","externalScripts":"","updaterUID":"bd-624277064","theme":"","layout":"","viewCount":435,"userName":"女***边","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPpWnbAOo.png?v=1576827782285","isCustomThumbnail":0,"builtinTags":["category-work","series-map","toolbox","tooltip"],"customTags":[],"updaterUserName":"女***边"}}