{"status":0,"data":{"cid":"x36sORnA43","authorUid":"bd-3793071787","authorUserName":"二***弃","title":"X轴的负轴显示正数，为0的时候也显示在X轴的左侧","description":"X轴的负轴显示正数，为0的时候也显示在X轴的左侧","latestVersion":1,"alwaysLatest":1,"createTime":"2019-04-22T02:46:30.000Z","lastUpdateTime":"2019-04-22T02:46:30.000Z","auth":2,"uid":"bd-3793071787","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-04-22T02:46:30.000Z","code":"//      1、无设备字段需要在X轴的负轴，有数据的情况下显示正常，值为0的时候也要显示\r\n// 在X轴的负轴（实际情况是-0是没有意义的数值，即显示在X轴的正轴）\r\n//      2、当值为0的时候，传的值用-0.01代替0（为了让显示效果位置在X轴的负轴）\r\n//      3、用0代替X轴负轴显示的-0.01\r\n//      4、鼠标移入效果同理，用0代替原来的数值\r\nvar sda={\r\n    a:100,\r\n    b:120,\r\n    c:130,\r\n    d:0,\r\n    e:150\r\n}\r\nif(sda.d==0){\r\n    sda.d=-0.01\r\n}\r\noption = {\r\n\t\t    tooltip : {\r\n\t\t        trigger: 'axis',\r\n\t\t        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\r\n\t\t            type : 'none'        // 默认为直线，可选为：'line' | 'shadow'\r\n\t\t        },\r\n\t\t         formatter:function(params){ // 改鼠标悬浮提示值格式\r\n//\t\t         \talert(params[3].value)\r\n\t\t         \tif(params[3].value == -0.01){\r\n\t\t         \t\tparams[3].value=0\r\n\t\t         \t}\r\n\t\t            var relVal = params[0].seriesName+ ' : ' +params[0].value+'<br/>'+\r\n\t\t            \t\t\t params[1].seriesName+ ' : ' +params[1].value+'<br/>'+\r\n\t\t            \t\t\t params[2].seriesName+ ' : ' +params[2].value+'<br/>'+\r\n\t\t            \t\t\t params[3].seriesName+ ' : ' +(-params[3].value)+'<br/>'+\r\n\t\t            \t\t\t params[4].seriesName+ ' : ' +params[4].value\r\n\t\t            return relVal;\r\n\t\t        }\r\n\t\t    },\r\n\t\t    grid: {\r\n\t\t    \ttop:'8%',\r\n\t\t        left: '6%',\r\n\t\t        right: '25%',\r\n\t\t        bottom: '1%',\r\n\t\t        containLabel: true\r\n\t\t    },\r\n\t\t    xAxis : [\r\n\t\t        {\r\n\t\t            type : 'value',\r\n\t\t            show:false,\r\n//\t\t\t\t\ttype : 'category',\r\n\t\t            axisLabel:{\r\n\t\t                formatter:function(value){\r\n\t\t                    if (value<0) {\r\n\t\t                        return -value;\r\n\t\t                    }\r\n\t\t                }\r\n\t\t            }\r\n\t\t        }\r\n\t\t    ],\r\n\t\t    yAxis : [\r\n\t\t        {\r\n\t\t            show:false,\r\n\t\t            axisTick : {show: false},\r\n\t\t            data : [''],\r\n//\t\t            axisLabel:{\r\n//\t\t            \tformatter:function(value, index){\r\n//\t\t            \t\tif(value<0){\r\n//\t\t            \t\t\treturn -value\r\n//\t\t            \t\t}\r\n//\t\t            \t}\r\n//\t\t            \tformatter:function (value, index) { if(value<0){ return -value;\r\n//\t\t            }\r\n\t\t        }\r\n\t\t    ],\r\n\t\t    series : [\r\n\t\t        {\r\n\t\t            name:'铁塔',\r\n\t\t            type:'bar',\r\n\t\t            stack: '总量1',\r\n\t\t             barMinHeight:34,\r\n\t\t             barWidth:20,\r\n\t\t             barGap:'180%',/*多个并排柱子设置柱子之间的间距*/\r\n\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true,\r\n\t\t                    formatter: '{a}\\n\\n{c}',\r\n\t\t                    position: ['12%','-90%']\r\n\t\t\t\t\t\t\t\r\n\t\t                }\r\n\t\t            },\r\n\t\t            data:[sda.a],\r\n\t\t            itemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: \"#83B2FA\",\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: { \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\t//fontSize: 14\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t        },\r\n\t\t        {\r\n\t\t            name:'自留',\r\n\t\t            type:'bar',\r\n\t\t            stack: '总量1',\r\n\t\t             barMinHeight:34,\r\n\t\t             barWidth:20,\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true,\r\n\t\t                    formatter: '{a}\\n\\n{c}',\r\n\t\t                    position: ['12%','-90%']\r\n\t\t                }\r\n\t\t            },\r\n\t\t            data:[sda.b],\r\n\t\t            itemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: \"#90FB91\",\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: { \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\t//fontSize: 14\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t        },\r\n\t\t        {\r\n\t\t            name:'三方',\r\n\t\t            type:'bar',\r\n\t\t            stack: '总量1',\r\n\t\t             barMinHeight:34,\r\n\t\t             barWidth:20,\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true,\r\n\t\t                    formatter: '{a}\\n\\n{c}',\r\n\t\t                    position: ['12%','-90%']\r\n\t\t                }\r\n\t\t            },\r\n\t\t            data:[sda.c],\r\n\t\t            itemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t shadowColor: '#1B66FF',\r\n\t\t                    shadowBlur:1.5,\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: { \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\t//fontSize: 14\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t        },\r\n\t\t        {\r\n\t\t            name:'无设备',\r\n\t\t            type:'bar',\r\n\t\t            stack: '总量2',\r\n\t\t            barMinHeight:34,\r\n\t\t             barWidth:20,\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true,\r\n\t\t                    position: ['12%','26%'],\r\n\t\t                    formatter: function(value){\r\n\t\t                    \tvar numss = ''\r\n\t\t                    \tif(value.data!=-0.01){\r\n\t\t                    \t\tnumss = -value.data+'\\n\\n无设备';\r\n\t\t                    \t}else if(value.data == -0.01){\r\n\t\t                    \t\tnumss = 0+'\\n\\n无设备';\r\n\t\t                    \t}\r\n\t\t                       \treturn numss;\r\n\t\t                   \t}\r\n//\t\t                    formatter:function (value){\r\n//\t\t                    \tif(value.data<0){\r\n//\t\t                            return -value.data+'\\n\\n无设备';\r\n//\t\t                        }\r\n//\t\t                    }\r\n\t\t                }\r\n\t\t            },\r\n\t\t            data:[sda.d],\r\n//\t\t            data:[2],\r\n\t\t            itemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t shadowColor: '#1B66FF',\r\n\t\t                    shadowBlur:1.5,\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: { \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\t//fontSize: 14\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t        },\r\n\t\t        {\r\n\t\t            name:'有设备',\r\n\t\t            type:'bar',\r\n\t\t            stack: '总量2',\r\n\t\t             barMinHeight:34,\r\n\t\t             barWidth:20,\r\n\t\t            label: {\r\n\t\t                normal: {\r\n\t\t                    show: true,\r\n\t\t                    formatter: '{c}\\n\\n{a}',\r\n\t\t                    position: ['12%','26%']\r\n\t\t                }\r\n\t\t            },\r\n\t\t            data:[sda.e],\r\n\t\t            itemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: \"#83B2FA\",\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\ttextStyle: { \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\t//fontSize: 14\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t        }\r\n\t\t    ]\r\n\t\t};","html":"","externalScripts":"","updaterUID":"bd-3793071787","theme":"","layout":"","viewCount":332,"userName":"二***弃","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x36sORnA43.png?v=1555901190181","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"二***弃"}}