{"status":0,"data":{"cid":"xj-Xl680pN","authorUid":"bd-4145772538","authorUserName":"X***s","title":"桐乡市教育局地图","description":"桐乡市教育局地图","latestVersion":6,"alwaysLatest":0,"createTime":"2021-11-09T06:49:21.000Z","lastUpdateTime":"2021-11-12T06:27:45.000Z","auth":2,"uid":"bd-4145772538","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-12T06:27:45.000Z","code":"var lishui = '/asset/get/s/data-1544543852082-h3S1-o9zM.json';\n\nvar lishui = '/asset/get/s/data-1636440084599-yMQrV2I-i.json';\n$.get(lishui, function (geoJson) {\n    echarts.registerMap('ls', geoJson);\n    var geoCoordMap = {\n        桐乡高级中学: [120.551085, 30.629065],\n        河山中学: [120.460179, 30.497779],\n    };\n    var data = [\n        { name: '桐乡高级中学', value: 250 },\n        { name: '河山中学', value: 330 },\n    ];\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                });\n            }\n        }\n        return res;\n    };\n    myChart.setOption(\n        (option = {\n            title: {\n                text: '桐乡市地图',\n                left: 'center',\n                top: '2%',\n                textStyle: {\n                    color: '#fff',\n                },\n            },\n            backgroundColor: '#070d18',\n            //地图板块\n            geo: {\n                map: 'ls',\n                zoom: 1,\n                aspectScale: 1, //长宽比\n            },\n            series: [\n                //地图板块样式\n                {\n                    type: 'map',\n                    map: 'ls',\n                    geoIndex: 1,\n                    aspectScale: 1, //长宽比\n                    showLegendSymbol: true, // 存在legend时显示\n                    zoom: 1,\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            show: true,\n                            textStyle: {\n                                color: '#fff',\n                            },\n                        },\n                        emphasis: {\n                            show: true,\n                            textStyle: {\n                                color: '#05C3F9',\n                            },\n                        },\n                    },\n                    roam: false,\n                    itemStyle: {\n                        normal: {\n                            areaColor: '#031525',\n                            borderColor: '#3B5077',\n                            borderWidth: 1,\n                        },\n                        emphasis: {\n                            areaColor: '#070d18',\n                            shadowColor: '#1773c3',\n                            shadowBlur: 20,\n                        },\n                    },\n                },\n\n                {\n                    name: '点',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    symbol: 'pin',\n                    symbolSize: function (val) {\n                        return val[2] / 4;\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            formatter: function (value) {\n                                return value.value[2];\n                            },\n                            textStyle: {\n                                color: '#fff',\n                                fontSize: 12,\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#F62157', //标志颜色\n                        },\n                    },\n                    zlevel: 6,\n                    data: convertData(data),\n                },\n                {\n                    name: '',\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    data: convertData(data),\n                    symbolSize: function (val) {\n                        return val[2] / 20;\n                    },\n                    showEffectOn: 'render',\n                    rippleEffect: {\n                        brushType: 'stroke',\n                    },\n                    hoverAnimation: true,\n                    label: {\n                        normal: {\n                            show: false,\n                        },\n                        emphasis: {\n                            formatter: function (value) {\n                                return value.name + ':' + value.value[2];\n                            },\n                            position: 'right',\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#05C3F9',\n                            shadowBlur: 10,\n                            shadowColor: '#05C3F9',\n                        },\n                    },\n                    zlevel: 1,\n                },\n            ],\n        })\n    );\n}).error(function () {\n    alert('地图的geoJSON获取失败，请运行服务器');\n});\n//地图自定义绘制网址：http://geojson.io/#map=14/29.9307/121.8544\n//中国地图选择器：http://datav.aliyun.com/tools/atlas/index.html#&lat=33.797408767572485&lng=104.2822265625&zoom=4\n","html":"","externalScripts":"","updaterUID":"bd-4145772538","theme":"","layout":"","viewCount":0,"userName":"X***s","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xj-Xl680pN.png?v=1636698466030","isCustomThumbnail":0,"builtinTags":["category-work","series-map","title"],"customTags":[],"updaterUserName":"X***s"}}