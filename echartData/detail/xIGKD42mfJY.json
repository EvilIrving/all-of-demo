{"status":0,"data":{"cid":"xIGKD42mfJY","authorUid":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","authorUserName":"谢***s","title":"双环饼图","description":"双环饼图","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-09T07:27:16.000Z","lastUpdateTime":"2021-10-09T07:29:32.000Z","auth":1,"uid":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-09T07:29:32.000Z","code":"const color = [\"#00B3FF\", \"\", \"#FFC633\", \"\", \"#13FFF1\", \"\"];\nconst color1 = [\"#0673D1\", \"\", \"#CD8D30\", \"\", \"#078680\", \"\"];\n\nlet chartdata = [\n        { value: 232, name: \"第一产业\" },\n        { value: 132, name: \"第二产业\" },\n        { value: 100, name: \"第三产业\" },\n      ]\nlet sum = 0;\nlet data1 = [];\nchartdata.forEach((item) => {\n    sum += Number(item.value);\n});\nchartdata.forEach((item) => {\ndata1.push(item, {\n  name: \"\",\n  value: sum / 100,\n  labelLine: {\n    show: false,\n    lineStyle: {\n      color: \"transparent\",\n    },\n  },\n  itemStyle: {\n    color: \"transparent\",\n  },\n});\n});\n\noption = {\nseries: [\n  {\n    type: \"pie\",\n    radius: [\"55%\", \"75%\"],\n    center: [\"50%\", \"50%\"],\n    hoverAnimation: false,\n    startAngle: 180,\n    selectedMode: \"single\",\n    label: {\n      show: false,\n    },\n    itemStyle: {\n      normal: {\n        color: function (params) {\n          return color1[params.dataIndex];\n        },\n      },\n    },\n    data: data1,\n    z: 666,\n  },\n  {\n    type: \"pie\",\n    radius: [\"75%\", \"80%\"],\n    center: [\"50%\", \"50%\"],\n    hoverAnimation: false,\n    startAngle: 180,\n    selectedMode: \"single\",\n    label: {\n      show: false,\n    },\n    itemStyle: {\n      normal: {\n        color: function (params) {\n          return color[params.dataIndex];\n        },\n      },\n    },\n    data: data1,\n    z: 1,\n  },\n],\n};\n\nlet currentIndex = -2;\nconst dataLen = chartdata.length * 2;\nvar timer = setInterval(() => {\n// 取消之前高亮的图形\nmyChart.dispatchAction({\n  type: \"unselect\",\n  seriesIndex: 0,\n  dataIndex: currentIndex,\n});\nmyChart.dispatchAction({\n  type: \"unselect\",\n  seriesIndex: 1,\n  dataIndex: currentIndex,\n});\n\ncurrentIndex += 2;\nif (currentIndex >= dataLen) {\n  currentIndex = 0;\n}\n\n// 高亮当前图形\nmyChart.dispatchAction({\n  type: \"select\",\n  seriesIndex: 0,\n  dataIndex: currentIndex,\n});\nmyChart.dispatchAction({\n  type: \"select\",\n  seriesIndex: 1,\n  dataIndex: currentIndex,\n});\n}, 3000);\n","html":"","externalScripts":"","updaterUID":"obd-ojpPDDTgr2EuNdSrDO-dcYmQylLTqDi","theme":"","layout":"","viewCount":0,"userName":"谢***s","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIGKD42mfJY.png?v=1633764572337","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":[],"updaterUserName":"谢***s"}}