{"status":0,"data":{"cid":"xDwSy8xRJF","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"test","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-31T09:22:07.000Z","lastUpdateTime":"2021-08-31T09:22:07.000Z","auth":2,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-31T09:22:07.000Z","code":"let yData = ['总数', 'EI', 'SCI', 'CSCD', '北大中文核心期刊', 'CSSCI', '其他期刊']\nlet xData = [3050,1200,300,200,900,300,150]\nlet color = ['#EA6D6C','#FE9379','#FFCC85','#02DEF9','#849EF2','#25CF9A','#499FF9']\n\nlet seriesData = xData.map((item,index)=>{\n    let a = new Array(xData.length).fill('');\n    a[index] = xData[index]\n    return {\n        type:'bar',\n        barGap:'-100%',\n        name:yData[index],\n        barWidth:18,\n        data:a,\n        itemStyle:{\n            color: color[index]\n        }\n    }\n})\nconsole.log(seriesData)\noption = {\n    legend:{\n        icon:'circle'\n    },\n    xAxis: {\n        position:'top',\n        axisLine:{\n            show:true,\n            lineStyle:{\n                color:'#31C2FF'\n            }\n        },\n        axisLabel:{\n            color:'#CAEEFF'\n        },\n        splitLine:{\n            show:false\n        }\n    },\n    yAxis: {\n        type:'category',\n        data: yData,\n        axisTick:{\n            show:false\n        },\n        axisLine:{\n            lineStyle:{\n                color:'#31C2FF'\n            }\n        },\n        axisLabel:{\n            color:'#CAEEFF',\n            formatter: name=>{\n                let len = name.length;\n                let time = Math.ceil(len / 5);\n                let newStr = ''\n                for(let i = 0 ; i < time ; i++){\n                    newStr+= name.substring(i*5,(i+1) * 5 )\n                    newStr+= '\\n'\n                }\n                console.log('1',name)\n                console.log('2',time)\n                console.log('3',newStr)\n                return newStr\n            }\n        }\n    },\n    series: seriesData\n};\n","html":"","externalScripts":"","updaterUID":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","theme":"","layout":"","viewCount":0,"userName":"m***h","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDwSy8xRJF.png?v=1630401727226","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"m***h"}}