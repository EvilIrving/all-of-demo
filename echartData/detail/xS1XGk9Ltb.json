{"status":0,"data":{"cid":"xS1XGk9Ltb","authorUid":"bd-167980271","authorUserName":"liujaygood","title":"动态数据 + 时间坐标轴","description":"显示24小时","latestVersion":16,"alwaysLatest":1,"createTime":"2017-09-01T07:40:59.000Z","lastUpdateTime":"2017-09-01T07:40:59.000Z","auth":2,"uid":"bd-167980271","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":16,"parentVersion":15,"echartsVersion":"3.7.1","versionCreateTime":"2017-09-01T09:21:58.000Z","code":"//原文链接：http://blog.csdn.net/yin138/article/details/53730498\r\n// 由于模拟数据较少，所以需要在图中滑动滚轮放大后才能看见效果\r\nvar data = [];\r\n\r\nvar data1 = [];\r\n\r\nvar anchor = [\r\n    {\r\n        name: getToday() + ' 00:00:00', \r\n        value: [\r\n            getToday() + ' 00:00:00', 0\r\n        ]\r\n    },\r\n    {\r\n        name: getTomorrow() + ' 00:00:00', \r\n        value: [\r\n            getTomorrow() + ' 00:00:00', 0\r\n        ]\r\n    }\r\n];\r\n    \r\n\r\noption = {\r\n    title: {\r\n        text: '动态数据 + 时间坐标轴'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            animation: false\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['模拟数据', '模拟数据1']\r\n      },\r\n    xAxis: {\r\n        type: 'time',\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        boundaryGap: [0, '100%'],\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    toolbox: {\r\n        feature: {\r\n            dataZoom: {\r\n                yAxisIndex: 'none'\r\n            },\r\n            restore: {},\r\n            saveAsImage: {}\r\n        }\r\n    },\r\n    dataZoom: [\r\n        {\r\n            type: 'inside'\r\n        }\r\n    ],\r\n    series: [{\r\n        name: '模拟数据',\r\n        type: 'line',\r\n        stack: '总量',\r\n        smooth: true,\r\n        areaStyle: {normal: {}},\r\n        showSymbol: false,\r\n        hoverAnimation: false,\r\n        data: data\r\n    }, \r\n    {\r\n        name: '模拟数据1',\r\n        type: 'line',\r\n        stack: '总量',\r\n        smooth: true,\r\n        areaStyle: {normal: {}},\r\n        showSymbol: false,\r\n        hoverAnimation: false,\r\n        data: data1\r\n    },{\r\n        name: 'anchor',\r\n        type: 'line',\r\n        showSymbol: false,\r\n        data: anchor,\r\n        itemStyle: {\r\n            normal: {\r\n                opacity: 0\r\n            }\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: 0\r\n            }\r\n        }\r\n    }]\r\n};\r\n\r\nfunction randomData() {\r\n    \r\n    data.push({\r\n        name: getToday() + ' ' + getSeconds(),\r\n        value: [\r\n            getToday() + ' ' + getSeconds(), Math.round(Math.random() * 1002)\r\n        ]\r\n    });\r\n    \r\n    data1.push({\r\n        name: getToday() + ' ' + getSeconds(),\r\n        value: [\r\n            getToday() + ' ' + getSeconds(), Math.round(Math.random() * 32)\r\n        ]\r\n    });\r\n    \r\n}\r\n\r\nfunction getToday() {\r\n    var now = new Date();\r\n    var year = now.getFullYear();\r\n    var month = now.getMonth() + 1;\r\n    var date = now.getDate();\r\n    var hour = now.getHours();\r\n    if (hour < 10 && hour > 0) hour = '0' + hour;\r\n    var minute = now.getMinutes();\r\n    if (minute < 10 && minute > 0) minute = '0' + minute;\r\n    var seconds = now.getSeconds();\r\n    if (seconds < 10 && seconds > 0) seconds = '0' + seconds;\r\n    return year + '/' + month + '/' + date;\r\n}\r\n\r\nfunction getTomorrow() {\r\n    var now = new Date();\r\n    var oneday = 1000 * 3600 * 24;\r\n    var tomorrow = new Date(+now + oneday);\r\n    var year = tomorrow.getFullYear();\r\n    var month = tomorrow.getMonth() + 1;\r\n    var date = tomorrow.getDate();\r\n    var hour = tomorrow.getHours();\r\n    if (hour < 10 && hour > 0) hour = '0' + hour;\r\n    var minute = tomorrow.getMinutes();\r\n    if (minute < 10 && minute > 0) minute = '0' + minute;\r\n    var seconds = tomorrow.getSeconds();\r\n    if (seconds < 10 && seconds > 0) seconds = '0' + seconds;\r\n    return year + '/' + month + '/' + date;\r\n}\r\n\r\nfunction getSeconds() {\r\n    var now = new Date();\r\n    var hour = now.getHours();\r\n    if (hour < 10) hour = '0' + hour;\r\n    var minute = now.getMinutes();\r\n    if (minute < 10) minute = '0' + minute;\r\n    var seconds = now.getSeconds();\r\n    if (seconds < 10) seconds = '0' + seconds;\r\n    return hour + ':' + minute + ':' + seconds;\r\n}\r\n\r\nsetInterval(function () {\r\n    randomData();\r\n    console.log(data);\r\n    myChart.setOption({\r\n        series: [\r\n            {\r\n                data: data\r\n            }, \r\n            {\r\n                data: data1\r\n            }\r\n        ]\r\n    });\r\n}, 1000);\r\n","html":"","externalScripts":"","updaterUID":"bd-167980271","theme":"","layout":"","viewCount":191,"userName":"liujaygood","commentCount":1,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS1XGk9Ltb.png?v=1504257718300","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","toolbox","tooltip"],"customTags":["line"],"updaterUserName":"liujaygood"}}