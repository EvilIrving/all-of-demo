{"status":0,"data":{"cid":"xVPwYSKGiw","authorUid":"obd-o-HzVI9rMtiNV9Ore7WPKlZxeP-p6Az","authorUserName":"天***万","title":"复式柱状图","description":"柱状图换色、label数值突出","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-01T08:04:14.000Z","lastUpdateTime":"2021-11-01T08:04:14.000Z","auth":1,"uid":"obd-o-HzVI9rMtiNV9Ore7WPKlZxeP-p6Az","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-01T08:04:14.000Z","code":"/*\n1.关于柱状图不同柱的颜色处理\n2.x轴柱状图转y轴柱状图\n3.label数值颜色突出\n\n备注是个人理解\n*/\n\n\nvar left1 = [\n    { year: 2018, money: 4193.3, percent: 10.5, percentvalue: 210.5 },\n    { year: 2019, money: 4680, percent: 11.6, percentvalue: 210.5 },\n    { year: 2020, money: 5219.6, percent: 11.5, percentvalue: 210.5 },\n];\n\nvar yearlist = [];\nvar value1list = [];\nvar value2list = [];\nvar value3list = [];\n\nvar color = ['#f6ff00', '#0096ff', '#ff4747'];\n\nfor (var i = 0; i < left1.length; i++) {\n    yearlist.push(left1[i].year + '年');\n    value1list.push(left1[i].money);\n    value2list.push(left1[i].percent);\n    value3list.push(left1[i].percentvalue);\n}\n\noption = {\n    backgroundColor: '#231842',\n    tooltip: {\n        show: false,\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n            textStyle: {\n                color: '#fff',\n            },\n        },\n    },\n    grid: {\n        borderWidth: 0,\n        top: '15%',\n        bottom: '10%',\n        right: '40%',\n        textStyle: {\n            color: '#fff',\n        },\n    },\n    legend: {\n        show: false,\n        x: '4%',\n        top: '8%',\n        textStyle: {\n            color: '#90979c',\n        },\n        data: ['内资', '外资'],\n    },\n\n    calculable: true,\n    xAxis: [\n        {\n            type: 'value',//与y轴type: 'category'配套,决定柱状图是x轴起始还是y轴起始\n            show: false,\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    color: '#90979c',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            splitArea: {\n                show: false,\n            },\n            axisLabel: {\n                interval: 0,\n            },\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',//与x轴type: 'value',配套,决定柱状图是x轴起始还是y轴起始\n            splitLine: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n                lineStyle: {\n                    color: '#90979c',\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                interval: 0,\n            },\n            splitArea: {\n                show: false,\n            },\n            data: yearlist,//起始轴需要有data属性\n        },\n    ],\n    series: [\n        {\n            name: '省内',\n            type: 'bar',\n            barMaxWidth: 10,\n            stack: '总量',\n            barGap: '10%',\n            itemStyle: {\n                normal: {\n                    //修改各个柱的颜色\n                    //color不允许绑定集合,妥协方法就是通过判断parms的dataIndex属性值,每个柱赋值\n                    //柱多的话foreach更好吧\n                    color: function (parms) {\n                        if (parms.dataIndex == 0) {\n                            return color[0];\n                        } else if (parms.dataIndex == 1) {\n                            return color[1];\n                        } else if (parms.dataIndex == 2) {\n                            return color[2];\n                        }\n                    },\n                    label: {\n                        show: false,\n                    },\n                },\n            },\n            data: value1list,\n        },\n\n        {\n            //复式柱状图\n            name: '省外',\n            type: 'bar',\n            stack: '总量',\n            itemStyle: {\n                normal: {\n                    color: '#fff',\n                    barBorderRadius: 0,\n                    label: {\n                        show: true,\n                        position: 'right',\n                        //修改label,使数值颜色突出\n                        //formatter和下面rich配套使用\n                        //label的formatter内嵌html大抵是不支持,死心吧\n                        formatter: function (p) {\n                            if (p.dataIndex == 0) {\n                                return (\n                                    '{a|' +\n                                    value1list[p.dataIndex] +\n                                    '}' +\n                                    '亿元 同比增长' +\n                                    '{a|' +\n                                    value2list[p.dataIndex] +\n                                    '%' +\n                                    '}'\n                                );\n                            } else if (p.dataIndex == 1) {\n                                return (\n                                    '{b|' +\n                                    value1list[p.dataIndex] +\n                                    '}' +\n                                    '亿元 同比增长' +\n                                    '{b|' +\n                                    value2list[p.dataIndex] +\n                                    '%' +\n                                    '}'\n                                );\n                            } else if (p.dataIndex == 2) {\n                                return (\n                                    '{c|' +\n                                    value1list[p.dataIndex] +\n                                    '}' +\n                                    '亿元 同比增长' +\n                                    '{c|' +\n                                    value2list[p.dataIndex] +\n                                    '%' +\n                                    '}'\n                                );\n                            }\n                        },\n                        rich: {\n                            a: {\n                                color: '#f6ff00',\n                                fontFamily: 'Microsoft YaHei',\n                                fontSize: 13,\n                            },\n                            b: {\n                                color: '#0096ff',\n                                fontFamily: 'Microsoft YaHei',\n                                fontSize: 13,\n                            },\n                            c: {\n                                color: '#ff4747',\n                                fontFamily: 'Microsoft YaHei',\n                                fontSize: 13,\n                            },\n                        },\n                    },\n                },\n            },\n            data: value3list,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o-HzVI9rMtiNV9Ore7WPKlZxeP-p6Az","theme":"","layout":"","viewCount":0,"userName":"天***万","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVPwYSKGiw.png?v=1635753854902","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"天***万"}}