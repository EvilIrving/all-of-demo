{"status":0,"data":{"cid":"xkPH1uENIX","authorUid":"obd-o2HuWXTQnzFlCQ-M2MUBgZ9EFXULlB8","authorUserName":"浅***殇","title":"桑基图demo","description":"","latestVersion":14,"alwaysLatest":1,"createTime":"2020-05-15T06:25:34.000Z","lastUpdateTime":"2020-05-15T06:25:34.000Z","auth":1,"uid":"obd-o2HuWXTQnzFlCQ-M2MUBgZ9EFXULlB8","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":14,"parentVersion":13,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-20T02:58:02.000Z","code":"// 桑基图数据格式要求如下↓，nodes中的节点需要和links互相对应，node表示图\n// 上的节点，link对应节点间的关系，如需自定义节点颜色需要在数据中单独设置\n// 否则只能设置某层节点的颜色，由于link连线中只有source和target两个节点关系\n// 所以鼠标滑过高亮从第一层到最后一层的节点需求无法实现，在level中可以单独\n// 设置某个层级的样式\n\n// tips：修改代码的话请点击上方↑克隆，莫要在我的版本基础上再改动了哈\n\nvar nodes = [\n    {\n        name: '电网',\n        itemStyle: {\n            color: '#5AAEF4',\n        },\n        label: {\n            position: 'right',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '光伏',\n        itemStyle: {\n            color: '#5B6E96',\n        },\n        label: {\n            position: 'right',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '燃气',\n        itemStyle: {\n            color: '#FFE88E',\n        },\n        label: {\n            position: 'right',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '电',\n        itemStyle: {\n            color: '#61D9AC',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '照明',\n        itemStyle: {\n            color: '#A8E0FB',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '电梯',\n        itemStyle: {\n            color: '#ffdc4c',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: 'OA设备',\n        itemStyle: {\n            color: '#fc9850',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '电脑及实验设备',\n        itemStyle: {\n            color: '#e55a55',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '其他设备',\n        itemStyle: {\n            color: '#6d62e4',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '高效机房',\n        itemStyle: {\n            color: '#6c9ae7',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '自然冷源',\n        itemStyle: {\n            color: '#4a6fe2',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '分布式风冷',\n        itemStyle: {\n            color: '#22c2da',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '空调冷',\n        itemStyle: {\n            color: '#fc6e6c',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '热水',\n        itemStyle: {\n            color: '#f4ec59',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '空调热',\n        itemStyle: {\n            color: '#ffb64d',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '办公',\n        itemStyle: {\n            color: '#5aaef4',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '酒店',\n        itemStyle: {\n            color: '#61d9ac',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '商业',\n        itemStyle: {\n            color: '#5b6e96',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n    {\n        name: '运动',\n        itemStyle: {\n            color: '#a8e0fb',\n        },\n        label: {\n            position: 'left',\n            textStyle: {\n                fontSize: 18,\n                fontWeight: 800,\n                color: '#666666',\n            },\n        },\n    },\n];\nvar links = [\n    {\n        source: '电网',\n        target: '电',\n        value: 50,\n    },\n    {\n        source: '光伏',\n        target: '电',\n        value: 1.5,\n    },\n    {\n        source: '燃气',\n        target: '空调热',\n        value: 3,\n    },\n    {\n        source: '电',\n        target: '照明',\n        value: 10,\n    },\n    {\n        source: '电',\n        target: '电梯',\n        value: 5,\n    },\n    {\n        source: '电',\n        target: 'OA设备',\n        value: 5,\n    },\n    {\n        source: '电',\n        target: '电脑及实验设备',\n        value: 5,\n    },\n    {\n        source: '电',\n        target: '高效机房',\n        value: 5,\n    },\n    {\n        source: '电',\n        target: '分布式风冷',\n        value: 2,\n    },\n    {\n        source: '燃气',\n        target: '热水',\n        value: 2,\n    },\n    {\n        source: '高效机房',\n        target: '空调冷',\n        value: 10,\n    },\n    {\n        source: '空调冷',\n        target: '热水',\n        value: 2,\n    },\n    {\n        source: '分布式风冷',\n        target: '空调冷',\n        value: 5,\n    },\n    {\n        source: '分布式风冷',\n        target: '空调热',\n        value: 2,\n    },\n    {\n        source: '照明',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '电梯',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: 'OA设备',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '电脑及实验设备',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '电',\n        target: '其他设备',\n        value: 2,\n    },\n    {\n        source: '其他设备',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '电',\n        target: '自然冷源',\n        value: 0,\n    },\n    {\n        source: '自然冷源',\n        target: '空调冷',\n        value: 2,\n    },\n    {\n        source: '热水',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '热水',\n        target: '酒店',\n        value: 2,\n    },\n    {\n        source: '热水',\n        target: '商业',\n        value: 2,\n    },\n    {\n        source: '热水',\n        target: '运动',\n        value: 2,\n    },\n    {\n        source: '空调冷',\n        target: '热水',\n        value: 2,\n    },\n    {\n        source: '空调冷',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '空调冷',\n        target: '酒店',\n        value: 2,\n    },\n    {\n        source: '空调冷',\n        target: '商业',\n        value: 2,\n    },\n    {\n        source: '空调冷',\n        target: '运动',\n        value: 2,\n    },\n\n    {\n        source: '空调热',\n        target: '办公',\n        value: 2,\n    },\n    {\n        source: '空调热',\n        target: '酒店',\n        value: 2,\n    },\n    {\n        source: '空调热',\n        target: '商业',\n        value: 2,\n    },\n    {\n        source: '空调热',\n        target: '运动',\n        value: 2,\n    },\n];\nvar option = {\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'mousemove',\n    },\n    series: {\n        type: 'sankey',\n        layout: 'none',\n        top: 50,\n        left: 50,\n        right: 50,\n        nodeGap: 14,\n        layoutIterations: 0, // 自动优化列表，尽量减少线的交叉，为0就是按照数据排列\n        data: nodes, // 节点\n        links: links, // 节点之间的连线\n        draggable: false,\n        focusNodeAdjacency: 'allEdges', // 鼠标划上时高亮的节点和连线，allEdges表示鼠标划到节点上点亮节点上的连线及连线对应的节点\n        // tooltip: {\n        //   formatter: function(params) {\n        //     if (params.data.source) {\n        //       return `${params.data.source}：${params.data.value}`;\n        //     } else {\n        //       return `${params.name}：${params.value}`;\n        //     }\n        //   }\n        // },\n        levels: [\n            {\n                depth: 0,\n                itemStyle: {\n                    color: '#F27E7E',\n                },\n                lineStyle: {\n                    color: 'source',\n                    opacity: 0.2,\n                },\n            },\n            {\n                depth: 1,\n                lineStyle: {\n                    color: 'source',\n                    opacity: 0.2,\n                },\n            },\n            {\n                depth: 2,\n                lineStyle: {\n                    color: 'source',\n                    opacity: 0.2,\n                },\n            },\n            {\n                depth: 3,\n                label: {\n                    fontSize: 12,\n                },\n            },\n        ],\n        label: {\n            fontSize: 14,\n            color: '#666',\n        },\n        itemStyle: {\n            normal: {\n                borderWidth: 0,\n            },\n        },\n    },\n};\n","html":"","externalScripts":"","updaterUID":"obd-oMizjY1mU-CbpswVFgpQbzisxb-UV2k","theme":"","layout":"","viewCount":3466,"userName":"浅***殇","commentCount":1,"starCount":23,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkPH1uENIX.png?v=1621479483136","isCustomThumbnail":0,"builtinTags":["category-work","series-sankey","tooltip"],"customTags":[],"updaterUserName":"鱼***丶"}}