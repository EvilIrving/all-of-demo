{"status":0,"data":{"cid":"xBDIQ6IWwx","authorUid":"obd-oCSn_GYZLXXVFnfDzCDm5H01KiJ0S3c","authorUserName":"我***比","title":"世界地图1","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-02T08:04:57.000Z","lastUpdateTime":"2020-12-02T08:04:57.000Z","auth":2,"uid":"obd-oCSn_GYZLXXVFnfDzCDm5H01KiJ0S3c","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-02T08:04:57.000Z","code":"var data = {\n    \"world_map_dict\": {\n        \"中国\": {\n            \"attack_count\": 4,\n            \"ip_count\": 4\n        },\n        \"哈萨克斯坦\": {\n            \"attack_count\": 4,\n            \"ip_count\": 4\n        },\n        \"波兰\": {\n            \"attack_count\": 4,\n            \"ip_count\": 4\n        },\n        \"挪威\": {\n            \"attack_count\": 4,\n            \"ip_count\": 4\n        },\n        \"乌克兰\": {\n            \"attack_count\": 4,\n            \"ip_count\": 4\n        },\n        \n    }\n}\n\nvar dataToEn = {\n    \"Canada\": \"加拿大\",\n    \"Turkmenistan\": \"土库曼斯坦\",\n    \"Saint Helena\": \"圣赫勒拿\",\n    \"Lao PDR\": \"老挝\",\n    \"Lithuania\": \"立陶宛\",\n    \"Cambodia\": \"柬埔寨\",\n    \"Ethiopia\": \"埃塞俄比亚\",\n    \"Faeroe Is.\": \"法罗群岛\",\n    \"Swaziland\": \"斯威士兰\",\n    \"Palestine\": \"巴勒斯坦\",\n    \"Belize\": \"伯利兹\",\n    \"Argentina\": \"阿根廷\",\n    \"Bolivia\": \"玻利维亚\",\n    \"Cameroon\": \"喀麦隆\",\n    \"Burkina Faso\": \"布基纳法索\",\n    \"Aland\": \"奥兰群岛\",\n    \"Bahrain\": \"巴林\",\n    \"Saudi Arabia\": \"沙特阿拉伯\",\n    \"Fr. Polynesia\": \"法属波利尼西亚\",\n    \"Cape Verde\": \"佛得角\",\n    \"W. Sahara\": \"西撒哈拉\",\n    \"Slovenia\": \"斯洛文尼亚\",\n    \"Guatemala\": \"危地马拉\",\n    \"Guinea\": \"几内亚\",\n    \"Dem. Rep. Congo\": \"刚果（金）\",\n    \"Germany\": \"德国\",\n    \"Spain\": \"西班牙\",\n    \"Liberia\": \"利比里亚\",\n    \"Netherlands\": \"荷兰\",\n    \"Jamaica\": \"牙买加\",\n    \"Solomon Is.\": \"所罗门群岛\",\n    \"Oman\": \"阿曼\",\n    \"Tanzania\": \"坦桑尼亚\",\n    \"Costa Rica\": \"哥斯达黎加\",\n    \"Isle of Man\": \"曼岛\",\n    \"Gabon\": \"加蓬\",\n    \"Niue\": \"纽埃\",\n    \"Bahamas\": \"巴哈马\",\n    \"New Zealand\": \"新西兰\",\n    \"Yemen\": \"也门\",\n    \"Jersey\": \"泽西岛\",\n    \"Pakistan\": \"巴基斯坦\",\n    \"Albania\": \"阿尔巴尼亚\",\n    \"Samoa\": \"萨摩亚\",\n    \"Czech Rep.\": \"捷克\",\n    \"United Arab Emirates\": \"阿拉伯联合酋长国\",\n    \"Guam\": \"关岛\",\n    \"India\": \"印度\",\n    \"Azerbaijan\": \"阿塞拜疆\",\n    \"N. Mariana Is.\": \"北马里亚纳群岛\",\n    \"Lesotho\": \"莱索托\",\n    \"Kenya\": \"肯尼亚\",\n    \"Belarus\": \"白俄罗斯\",\n    \"Tajikistan\": \"塔吉克斯坦\",\n    \"Turkey\": \"土耳其\",\n    \"Afghanistan\": \"阿富汗\",\n    \"Bangladesh\": \"孟加拉国\",\n    \"Mauritania\": \"毛里塔尼亚\",\n    \"Dem. Rep. Korea\": \"朝鲜\",\n    \"Saint Lucia\": \"圣卢西亚\",\n    \"Br. Indian Ocean Ter.\": \"英属印度洋领地\",\n    \"Mongolia\": \"蒙古\",\n    \"France\": \"法国\",\n    \"Cura?ao\": \"库拉索岛\",\n    \"S. Sudan\": \"南苏丹\",\n    \"Rwanda\": \"卢旺达\",\n    \"Slovakia\": \"斯洛伐克\",\n    \"Somalia\": \"索马里\",\n    \"Peru\": \"秘鲁\",\n    \"Vanuatu\": \"瓦努阿图\",\n    \"Norway\": \"挪威\",\n    \"Malawi\": \"马拉维\",\n    \"Benin\": \"贝宁\",\n    \"St. Vin. and Gren.\": \"圣文森特和格林纳丁斯\",\n    \"Korea\": \"韩国\",\n    \"Singapore\": \"新加坡\",\n    \"Montenegro\": \"黑山共和国\",\n    \"Cayman Is.\": \"开曼群岛\",\n    \"Togo\": \"多哥\",\n    \"China\": \"中国\",\n    \"Heard I. and McDonald Is.\": \"赫德岛和麦克唐纳群岛\",\n    \"Armenia\": \"亚美尼亚\",\n    \"Falkland Is.\": \"马尔维纳斯群岛（福克兰）\",\n    \"Ukraine\": \"乌克兰\",\n    \"Ghana\": \"加纳\",\n    \"Tonga\": \"汤加\",\n    \"Finland\": \"芬兰\",\n    \"Libya\": \"利比亚\",\n    \"Dominican Rep.\": \"多米尼加\",\n    \"Indonesia\": \"印度尼西亚\",\n    \"Mauritius\": \"毛里求斯\",\n    \"Eq. Guinea\": \"赤道几内亚\",\n    \"Sweden\": \"瑞典\",\n    \"Vietnam\": \"越南\",\n    \"Mali\": \"马里\",\n    \"Russia\": \"俄罗斯\",\n    \"Bulgaria\": \"保加利亚\",\n    \"United States\": \"美国\",\n    \"Romania\": \"罗马尼亚\",\n    \"Angola\": \"安哥拉\",\n    \"Chad\": \"乍得\",\n    \"South Africa\": \"南非\",\n    \"Fiji\": \"斐济\",\n    \"Liechtenstein\": \"列支敦士登\",\n    \"Malaysia\": \"马来西亚\",\n    \"Austria\": \"奥地利\",\n    \"Mozambique\": \"莫桑比克\",\n    \"Uganda\": \"乌干达\",\n    \"Japan\": \"日本\",\n    \"Niger\": \"尼日尔\",\n    \"Brazil\": \"巴西\",\n    \"Kuwait\": \"科威特\",\n    \"Panama\": \"巴拿马\",\n    \"Guyana\": \"圭亚那\",\n    \"Madagascar\": \"马达加斯加\",\n    \"Luxembourg\": \"卢森堡\",\n    \"American Samoa\": \"美属萨摩亚\",\n    \"Andorra\": \"安道尔\",\n    \"Ireland\": \"爱尔兰\",\n    \"Italy\": \"意大利\",\n    \"Nigeria\": \"尼日利亚\",\n    \"Turks and Caicos Is.\": \"特克斯和凯科斯群岛\",\n    \"Ecuador\": \"厄瓜多尔\",\n    \"U.S. Virgin Is.\": \"美属维尔京群岛\",\n    \"Brunei\": \"文莱\",\n    \"Australia\": \"澳大利亚\",\n    \"Iran\": \"伊朗\",\n    \"Algeria\": \"阿尔及利亚\",\n    \"El Salvador\": \"萨尔瓦多\",\n    \"C?te d'Ivoire\": \"科特迪瓦\",\n    \"Chile\": \"智利\",\n    \"Puerto Rico\": \"波多黎各\",\n    \"Belgium\": \"比利时\",\n    \"Thailand\": \"泰国\",\n    \"Haiti\": \"海地\",\n    \"Iraq\": \"伊拉克\",\n    \"S?o Tomé and Principe\": \"圣多美和普林西比\",\n    \"Sierra Leone\": \"塞拉利昂\",\n    \"Georgia\": \"格鲁吉亚\",\n    \"Denmark\": \"丹麦\",\n    \"Philippines\": \"菲律宾\",\n    \"S. Geo. and S. Sandw. Is.\": \"南乔治亚岛和南桑威奇群岛\",\n    \"Moldova\": \"摩尔多瓦\",\n    \"Morocco\": \"摩洛哥\",\n    \"Namibia\": \"纳米比亚\",\n    \"Malta\": \"马耳他\",\n    \"Guinea-Bissau\": \"几内亚比绍\",\n    \"Kiribati\": \"基里巴斯\",\n    \"Switzerland\": \"瑞士\",\n    \"Grenada\": \"格林纳达\",\n    \"Seychelles\": \"塞舌尔\",\n    \"Portugal\": \"葡萄牙\",\n    \"Estonia\": \"爱沙尼亚\",\n    \"Uruguay\": \"乌拉圭\",\n    \"Antigua and Barb.\": \"安提瓜和巴布达\",\n    \"Lebanon\": \"黎巴嫩\",\n    \"Uzbekistan\": \"乌兹别克斯坦\",\n    \"Tunisia\": \"突尼斯\",\n    \"Djibouti\": \"吉布提\",\n    \"Greenland\": \"格陵兰\",\n    \"Timor-Leste\": \"东帝汶\",\n    \"Dominica\": \"多米尼克\",\n    \"Colombia\": \"哥伦比亚\",\n    \"Burundi\": \"布隆迪\",\n    \"Bosnia and Herz.\": \"波斯尼亚和黑塞哥维那\",\n    \"Cyprus\": \"塞浦路斯\",\n    \"Barbados\": \"巴巴多斯\",\n    \"Qatar\": \"卡塔尔\",\n    \"Palau\": \"帕劳\",\n    \"Bhutan\": \"不丹\",\n    \"Sudan\": \"苏丹\",\n    \"Nepal\": \"尼泊尔\",\n    \"Micronesia\": \"密克罗尼西亚\",\n    \"Bermuda\": \"百慕大\",\n    \"Suriname\": \"苏里南\",\n    \"Venezuela\": \"委内瑞拉\",\n    \"Israel\": \"以色列\",\n    \"St. Pierre and Miquelon\": \"圣皮埃尔和密克隆群岛\",\n    \"Central African Rep.\": \"中非\",\n    \"Iceland\": \"冰岛\",\n    \"Zambia\": \"赞比亚\",\n    \"Senegal\": \"塞内加尔\",\n    \"Papua New Guinea\": \"巴布亚新几内亚\",\n    \"Trinidad and Tobago\": \"特立尼达和多巴哥\",\n    \"Zimbabwe\": \"津巴布韦\",\n    \"Jordan\": \"约旦\",\n    \"Gambia\": \"冈比亚\",\n    \"Kazakhstan\": \"哈萨克斯坦\",\n    \"Poland\": \"波兰\",\n    \"Eritrea\": \"厄立特里亚\",\n    \"Kyrgyzstan\": \"吉尔吉斯斯坦\",\n    \"Montserrat\": \"蒙特塞拉特\",\n    \"New Caledonia\": \"新喀里多尼亚\",\n    \"Macedonia\": \"马其顿\",\n    \"Paraguay\": \"巴拉圭\",\n    \"Latvia\": \"拉脱维亚\",\n    \"Hungary\": \"匈牙利\",\n    \"Syria\": \"叙利亚\",\n    \"Honduras\": \"洪都拉斯\",\n    \"Myanmar\": \"缅甸\",\n    \"Mexico\": \"墨西哥\",\n    \"Egypt\": \"埃及\",\n    \"Nicaragua\": \"尼加拉瓜\",\n    \"Cuba\": \"古巴\",\n    \"Serbia\": \"塞尔维亚\",\n    \"Comoros\": \"科摩罗\",\n    \"United Kingdom\": \"英国\",\n    \"Fr. S. Antarctic Lands\": \"南极洲\",\n    \"Congo\": \"刚果（布）\",\n    \"Greece\": \"希腊\",\n    \"Sri Lanka\": \"斯里兰卡\",\n    \"Croatia\": \"克罗地亚\",\n    \"Botswana\": \"博茨瓦纳\",\n    \"Siachen Glacier\": \"锡亚琴冰川地区\"\n}\n\n\nvar newData = []\n\nfor (var a in data.world_map_dict) {\n    for (var s in dataToEn) {\n        if (dataToEn[s].indexOf(a) > -1) {\n            newData.push({\n                name: s,\n                nameToCH: a,\n                value: data.world_map_dict[a].attack_count,\n                ip_count: data.world_map_dict[a].ip_count\n            })\n        }\n    }\n}\n\n\nvar countrys = function(country, data, name) {\n    return {\n        name: country,\n        value: name,\n        data: data,\n        itemStyle: {\n            // borderColor: '#918597',\n            areaColor: \"rgba(0,0,0,0)\"\n        },\n\n        label: {\n            show: true,\n            formatter: function(params) {\n                return params.data.data.nameToCH;\n            },\n            color: '#fff',\n            fontSize: 15,\n        },\n\n        emphasis: {\n            itemStyle: {\n                areaColor: 'rgba(0,0,0,0)'\n            },\n            label: {\n                show: false,\n                color: '#333',\n            }\n        },\n        // zlevel:11\n    }\n\n}\n\nvar countryData = [];\nfor (var i = 0; i < newData.length; i++) {\n    countryData.push(countrys(newData[i].name, newData[i], newData[i].value));\n}\n\n\n\noption = {\n  backgroundColor: '#404a59',\n \n    roam: true,\n\n    tooltip: {\n        show: true,\n        formatter: function(params) {\n            if (params.data) {\n                var toolTiphtml = ''\n                toolTiphtml = params.data.data.nameToCH \n                return toolTiphtml\n            }\n        },\n        borderWidth: 1,\n        borderColor: '#fff',\n        alwaysShowContent: true,\n    },\n    visualMap: {\n        orient: 'horizontal',\n        min: 1,\n        max: newData.sort(function(a, b) {\n            b.value - a.value\n        })[0].value,\n        bottom: 30,\n        calculable: true,\n        seriesIndex: [0],\n        inRange: {\n            color: ['#1BC8CC', '#5F7AFF '] // 蓝绿\n        },\n        left: 'center',\n        show:false\n    },\n    series: [{\n        type: 'map',\n        mapType: 'world',\n        itemStyle: {\n            areaColor: 'rgba(0,0,0,0)',\n            borderColor: '#72a8ff',\n\n        },\n        emphasis: {\n            itemStyle: {\n                areaColor: 'rgba(0,0,0,0)'\n            },\n            label: {\n                normal: {\n                    show: false,\n\n                },\n\n            }\n        },\n        label: {\n            normal: {\n                show: false,\n\n            }\n        },\n        data: countryData\n    }]\n};\nvar n = 0;\nsetInterval(function() {\n    // console.log(countryData)\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        show: true,\n        name:countryData[n].name\n    })\n    myChart.dispatchAction({\n        type: 'visualMap',\n        seriesIndex: 0,\n        name: countryData[n].name,\n\n    })\n    n++;\n    if (n == countryData.length) {\n        n = 0;\n    }\n}, 1500);","html":"","externalScripts":"","updaterUID":"obd-oCSn_GYZLXXVFnfDzCDm5H01KiJ0S3c","theme":"","layout":"","viewCount":57,"userName":"我***比","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBDIQ6IWwx.png?v=1606896297505","isCustomThumbnail":0,"builtinTags":["category-work","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"我***比"}}