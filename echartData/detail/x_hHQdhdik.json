{"status":0,"data":{"cid":"x_hHQdhdik","authorUid":"obd-o2LLJ3HnfCDuXIBOUe1ARmZF4qcvx60","authorUserName":"沉***梦","title":"浅色充电图","description":"","latestVersion":5,"alwaysLatest":0,"createTime":"2021-09-14T00:48:01.000Z","lastUpdateTime":"2021-09-14T02:27:03.000Z","auth":2,"uid":"obd-o2LLJ3HnfCDuXIBOUe1ARmZF4qcvx60","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"3.8.5","versionCreateTime":"2021-09-14T02:27:03.000Z","code":"let nameList = ['a', 'b', 'c', 'd'];\nlet valueList = [100, 200, 300, 400];\nlet total = 400; // 数据总数\nvar category = nameList.map((item, index) => {\n    return {\n        value: valueList[index],\n        itemStyle: {\n            color: new echarts.graphic.LinearGradient(\n                1,\n                0,\n                0,\n                1,\n                [\n                    {\n                        offset: 0,\n                        color: 'rgba(81, 193, 156, 1)',\n                    },\n                    {\n                        offset: 1,\n                        color: 'rgba(234, 177, 100, 1)',\n                    },\n                ],\n                false\n            ),\n        },\n    };\n});\nvar totalList = [];\nvar totalBorderList = [];\nnameList.map((item, index) => {\n    totalList.push({\n        value: total,\n        itemStyle: {\n            color: 'rgba(51, 147, 236, 0.29)',\n        },\n    });\n    totalBorderList.push({\n        value: total,\n        itemStyle: {\n            borderColor: 'rgba(51, 147, 236, 0.29)',\n            color: 'transparent',\n        },\n    });\n});\nvar datas = [];\ncategory.forEach((value) => {\n    datas.push(value.value);\n});\noption = {\n    backgroundColor: 'rgb(231,238,249)',\n    xAxis: {\n        max: total,\n        splitLine: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n    },\n    grid: {\n        left: '5%',\n        top: '15%', // 设置条形图的边距\n        right: '15%',\n        bottom: '5%',\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: false,\n            data: nameList,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n        },\n    ],\n    series: [\n        {\n            // 内\n            type: 'bar',\n            barWidth: 16,\n            barGap: '20%',\n            silent: true,\n            label: {\n                normal: {\n                    formatter: (item) => {\n                        return `${item['name']}：${item['value']} `;\n                    },\n                    textStyle: {\n                        color: 'rgba(105, 120, 136, 1)',\n                        fontSize: 14,\n                    },\n                    position: [0, '-25px'],\n                    show: true,\n                },\n            },\n            data: category,\n            z: 1,\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(\n                        1,\n                        0,\n                        0,\n                        1,\n                        [\n                            {\n                                offset: 0,\n                                color: 'rgba(81, 193, 156, 1)',\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(234, 177, 100, 1)',\n                            },\n                        ],\n                        false\n                    ),\n                },\n            },\n            animationEasing: 'elasticOut',\n        },\n\n        {\n            // 分隔\n            type: 'pictorialBar',\n            itemStyle: {\n                normal: {\n                    color: 'rgb(231,238,249)',\n                },\n            },\n            symbolRepeat: 'fixed',\n            symbolMargin: 8,\n            symbol: 'rect',\n            symbolClip: false,\n            symbolSize: [4, 17],\n            symbolPosition: 'start',\n            symbolOffset: [1, -2],\n            symbolBoundingData: total,\n            data: [total, total, total, total],\n            z: 2,\n            animationEasing: 'elasticOut',\n        },\n        {\n            // label\n            type: 'pictorialBar',\n            symbolBoundingData: total,\n            itemStyle: {\n                normal: {\n                    color: 'none',\n                },\n            },\n            label: {\n                normal: {\n                    formatter: (params) => {\n                        console.log(params);\n                        var text;\n                        text = `${((params['data'] * 100) / total).toFixed(2)}%`;\n                        return text;\n                    },\n                    position: 'right',\n                    offset: [0, -3],\n                    distance: 10, // 向右偏移位置\n                    show: true,\n                    color: 'rgba(42, 82, 200, 1)',\n                },\n            },\n            data: datas,\n            z: 0,\n        },\n        {\n            name: '外框',\n            type: 'bar',\n            barGap: '-130%', // 设置外框粗细\n            data: totalBorderList,\n            barWidth: 26,\n            itemStyle: {\n                normal: {\n                    // barBorderRadius: [5, 5, 5, 5],\n                    borderWidth: 1, // 边框宽度\n                    borderColor: 'rgb(51, 147, 236)', // 边框色\n                    color: 'rgb(231,238,249)'\n                },\n            },\n            z: 0,\n        },\n        {\n            type: 'scatter',\n            name: '条形',\n            symbol: 'roundRect',\n            symbolSize: [4, 12],\n            symbolOffset: [3, -3],\n            symbolKeepAspect: true,\n            data: totalList,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 5,\n                    color: 'rgba(51, 147, 236, 0.29)',\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o2LLJ3HnfCDuXIBOUe1ARmZF4qcvx60","theme":"","layout":"","viewCount":0,"userName":"沉***梦","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_hHQdhdik.png?v=1631586423842","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","series-scatter"],"customTags":[],"updaterUserName":"沉***梦"}}