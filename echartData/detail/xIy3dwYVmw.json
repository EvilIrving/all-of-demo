{"status":0,"data":{"cid":"xIy3dwYVmw","authorUid":"obd-oAc5LxAAekxKaXAogSF-Cfmw8c3CE7V","authorUserName":"188*****931","title":"自定义饼图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-07-21T04:35:37.000Z","lastUpdateTime":"2020-07-21T04:35:37.000Z","auth":2,"uid":"obd-oAc5LxAAekxKaXAogSF-Cfmw8c3CE7V","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-21T04:35:55.000Z","code":" const colorList = ['#6aa8ff', '#5b61b6', '#3bd0fc', '#7ce1d2', '#ff7d5a'];\r\n const xAxis = [{\r\n         value: 300,\r\n         name: '判断题'\r\n     },\r\n     {\r\n         value: 351,\r\n         name: '成语纠错'\r\n     },\r\n     {\r\n         value: 300,\r\n         name: '名著题目'\r\n     },\r\n     {\r\n         value: 200,\r\n         name: '古诗词'\r\n     },\r\n     {\r\n         value: 200,\r\n         name: '作文'\r\n     },\r\n ];\r\n const yAxis = ['判断题', '成语纠错', '古诗词', '名著题目', '作文'];\r\n const options = {\r\n     tooltip: {\r\n         trigger: 'item',\r\n         formatter: \"{b}: {d}%\"\r\n     },\r\n     legend: {\r\n         bottom: '3%',\r\n         itemGap: 25,\r\n         textStyle: {\r\n             color: '#444',\r\n             fontWeight: 700\r\n         },\r\n         x: 'center',\r\n         formatter: (name) => {\r\n             let total = 0;\r\n             let target;\r\n             for (var i = 0, l = xAxis.length; i < l; i++) {\r\n                 total += xAxis[i].value;\r\n                 if (xAxis[i].name == name) {\r\n                     target = xAxis[i].value;\r\n                 }\r\n             }\r\n             let tempName;\r\n             if (name.length > 6) {\r\n                 tempName = name.slice(0, 6) + \"...\";\r\n             } else {\r\n                 tempName = name;\r\n             }\r\n             return tempName + \" \" + ((target / total) * 100).toFixed(2) + \"%\";\r\n         },\r\n         data: yAxis\r\n     },\r\n     series: [{\r\n             type: 'pie',\r\n             radius: ['30%', '55%'],\r\n             center: ['50%', '35%'],\r\n             clockwise: false,\r\n             z: 10,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: function(params) {\r\n                         return colorList[params.dataIndex]\r\n                     },\r\n                     shadowBlur: 20,\r\n                     shadowColor: 'rgba(0, 0, 0, 0.3)'\r\n                 }\r\n             },\r\n             label: {\r\n                 normal: {\r\n                     formatter: function(params) {\r\n                         let str = `${params.percent + '%'}`\r\n                         str = '{pera|' + params.percent + '%}'\r\n                         return str\r\n                     },\r\n                     rich: {\r\n                         pera: {\r\n                             color: '#444',\r\n                             fontWeight: 700,\r\n                             backgroundColor: '#fff',\r\n                             padding: [4, 10],\r\n                             lineHeight: 20,\r\n                             fontSize: 14,\r\n                             height: 20,\r\n                             borderRadius: 7,\r\n                             borderWidth: 2,\r\n                             borderColor: '#d9e4ff'\r\n                         },\r\n                     }\r\n                 }\r\n             },\r\n             labelLine: {\r\n                 normal: {\r\n                     length: 0,\r\n                     length2: 0,\r\n                     lineStyle: {\r\n                         width: 0\r\n                     }\r\n                 }\r\n             },\r\n             data: xAxis\r\n         },\r\n         // 边框的设置\r\n         {\r\n             name: '外边框',\r\n             type: 'pie',\r\n             clockWise: false, //顺时加载\r\n             hoverAnimation: false, //鼠标移入变大\r\n             center: ['50%', '35%'],\r\n             radius: ['65%', '65%'],\r\n             label: {\r\n                 normal: {\r\n                     show: false\r\n                 }\r\n             },\r\n             data: [{\r\n                 value: 9,\r\n                 name: '',\r\n                 itemStyle: {\r\n                     normal: {\r\n                         borderWidth: 2,\r\n                         borderColor: '#e4edff'\r\n                     }\r\n                 }\r\n             }]\r\n         }\r\n     ]\r\n };","html":"","externalScripts":"","updaterUID":"obd-oAc5LxAAekxKaXAogSF-Cfmw8c3CE7V","theme":"","layout":"","viewCount":43,"userName":"188*****931","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIy3dwYVmw.png?v=1595306137533","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"188*****931"}}