{"status":0,"data":{"cid":"x8JWvzmKDV","authorUid":"bd-2673609924","authorUserName":"185*****769","title":"饼图legend富文本","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-11-11T01:33:56.000Z","lastUpdateTime":"2020-11-11T01:33:56.000Z","auth":2,"uid":"bd-2673609924","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-12T05:57:54.000Z","code":"option = {\r\n    \"title\": {\r\n        \"text\": \"\",\r\n        \"left\": \"center\",\r\n        \"textStyle\": {\r\n            \"fontSize\": 20,\r\n            \"color\": \"rgb(85,85,85)\"\r\n        }\r\n    },\r\n    \"legend\": {\r\n        \"show\": true,\r\n        \"type\": \"scroll\",\r\n        \"orient\": \"vertical\",\r\n        \"x\": \"right\",\r\n        \"y\": \"center\",\r\n        \"icon\": \"rect\",\r\n        \"align\":\"left\",\r\n        \"itemWidth\":14,\r\n        \"formatter\": function(name) {\r\n            let target = 0;\r\n            let sum = 0;\r\n            let data = option.series[0].data;\r\n            data.forEach(item => {\r\n                sum += item.value;\r\n                if (item.name === name) {\r\n                    target = item.value;\r\n                }\r\n            })\r\n            let ratio = (target / sum * 100).toFixed(2);\r\n            let arr = [\r\n                '{a|'+name+' }',\r\n                '{b|'+  ratio +'%}',\r\n            ];\r\n            return  arr.join('');\r\n        },\r\n        \"textStyle\":{\r\n                \"rich\":{\r\n                    a:{\r\n                        color: 'red'\r\n                    },\r\n                    b:{\r\n                        \"fontSize\":18,\r\n                        \"fontStyle\": 'italic',\r\n                    }\r\n                }\r\n            \r\n        },\r\n        \"data\": [\"男\", \"女\"]\r\n    },\r\n    \"color\": [\"#2f81f2\", \"#bc58ef\", \"rgba(255,255,255,.5)\"],\r\n    \"series\": [\r\n    {\r\n        \"name\": \"xbmc\",\r\n        \"type\": \"pie\",\r\n        radius: ['30%', '46%'],\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"show\": false\r\n            }\r\n        },\r\n        \"data\": [{\r\n            \"name\": \"男\",\r\n            \"value\": 72537\r\n        },\r\n        {\r\n            \"name\": \"女\",\r\n            \"value\": 43990\r\n        }]\r\n    },\r\n    {\r\n        \"type\": \"pie\",\r\n         radius: ['30%', '36%'],\r\n         silent: true,\r\n        \"data\": [{\r\n            \"name\": \"\",\r\n            \"value\": 1\r\n        }]\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"bd-2673609924","theme":"","layout":"","viewCount":50,"userName":"185*****769","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8JWvzmKDV.png?v=1605160674462","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"185*****769"}}