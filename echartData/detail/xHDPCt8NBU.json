{"status":0,"data":{"cid":"xHDPCt8NBU","authorUid":"obd-oPT-yDC3CvaG_mfJTF74y80FD7nIA9P","authorUserName":"比***地","title":"某年春节假期不同省份返赣人员流动图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-25T09:00:04.000Z","lastUpdateTime":"2021-12-23T09:24:07.000Z","auth":1,"uid":"obd-oPT-yDC3CvaG_mfJTF74y80FD7nIA9P","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-23T09:24:07.000Z","code":"var chinaGeoCoordMap = {\n 黑龙江: [127.9688, 45.368],\n 内蒙古: [110.3467, 41.4899],\n 吉林: [125.8154, 44.2584],\n 北京市: [116.4551, 40.2539],\n 辽宁: [123.1238, 42.1216],\n 河北: [114.4995, 38.1006],\n 天津: [117.4219, 39.4189],\n 山西: [112.3352, 37.9413],\n 陕西: [109.1162, 34.2004],\n 甘肃: [103.5901, 36.3043],\n 宁夏: [106.3586, 38.1775],\n 青海: [101.4038, 36.8207],\n 新疆: [87.9236, 43.5883],\n 西藏: [91.11, 29.97],\n 四川: [103.9526, 30.7617],\n 重庆: [108.384366, 30.439702],\n 山东: [117.1582, 36.8701],\n 河南: [113.4668, 34.6234],\n 江苏: [118.8062, 31.9208],\n 安徽: [117.29, 32.0581],\n 湖北: [114.3896, 30.6628],\n 浙江: [119.5313, 29.8773],\n 福建: [119.4543, 25.9222],\n 江西: [116.0046, 28.6633],\n 湖南: [113.0823, 28.2568],\n 贵州: [106.6992, 26.7682],\n 云南: [102.9199, 25.4663],\n 广东: [113.12244, 23.009505],\n 广西: [108.479, 23.1152],\n 海南: [110.3893, 19.8516],\n 上海: [121.4648, 31.2891],\n};\n\n \nvar chinaDatas = [\n [\n  {\n   name: '黑龙江',\n   value:5,\n  },\n ],\n [\n  {\n   name: '内蒙古',\n   value: 3,\n  },\n ],\n [\n  {\n   name: '北京市',\n   value: 20,\n  },\n ],\n [\n  {\n   name: '吉林',\n   value: 3,\n  },\n ],\n [\n  {\n   name: '辽宁',\n   value:5,\n  },\n ],\n [\n  {\n   name: '河北',\n   value: 6,\n  },\n ],\n [\n  {\n   name: '天津',\n   value: 5,\n  },\n ],\n [\n  {\n   name: '山西',\n   value: 7,\n  },\n ],\n [\n  {\n   name: '陕西',\n   value: 6,\n  },\n ],\n [\n  {\n   name: '甘肃',\n   value: 5,\n  },\n ],\n [\n  {\n   name: '宁夏',\n   value: 5,\n  },\n ],\n [\n  {\n   name: '青海',\n   value: 7,\n  },\n ],\n [\n  {\n   name: '新疆',\n   value: 3,\n  },\n ],\n [\n  {\n   name: '西藏',\n   value: 3,\n  },\n ],\n [\n  {\n   name: '四川',\n   value: 10,\n  },\n ],\n [\n  {\n   name: '重庆',\n   value: 9,\n  },\n ],\n  [\n  {\n   name: '广东',\n   value: 30,\n  },\n ],\n [\n  {\n   name: '山东',\n   value: 6,\n  },\n ],\n [\n  {\n   name: '河南',\n   value: 8,\n  },\n ],\n [\n  {\n   name: '江苏',\n   value: 10,\n  },\n ],\n [\n  {\n   name: '安徽',\n   value: 9,\n  },\n ],\n [\n  {\n   name: '湖北',\n   value: 10,\n  },\n ],\n [\n  {\n   name: '浙江',\n   value: 16,\n  },\n ],\n [\n  {\n   name: '福建',\n   value:9,\n  },\n ],\n\n [\n  {\n   name: '湖南',\n   value: 14,\n  },\n ],\n [\n  {\n   name: '贵州',\n   value: 8,\n  },\n ],\n [\n  {\n   name: '广西',\n   value: 7,\n  },\n ],\n [\n  {\n   name: '海南',\n   value: 7,\n  },\n ],\n [\n  {\n   name: '上海',\n   value: 17,\n  },\n ],\n];\n\n\nvar convertData = function (data) {\n var res = [];\n for (var i = 0; i < data.length; i++) {\n  var dataItem = data[i];\n  var fromCoord = chinaGeoCoordMap[dataItem[0].name];\n  var toCoord = [116.0046, 28.6633];\n  if (fromCoord && toCoord) {\n   res.push([\n    {\n     coord: fromCoord,\n     value: dataItem[0].value,\n    },\n    {\n     coord: toCoord,\n    },\n   ]);\n  }\n }\n return res;\n};\n\n \nvar series = [];\n[['江西', chinaDatas]].forEach(function (item, i) {\n console.log(item);\n series.push(\n  {\n   type: 'lines',\n   zlevel: 1,\n   effect: {\n    show: true,\n    period: 4, //箭头指向速度，值越小速度越快\n    trailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\n    symbol: 'arrow', //箭头图标\n    symbolSize: 5, //图标大小\n   },\n   lineStyle: {\n    normal: {\n     width: 1, //尾迹线条宽度\n     opacity: 1, //尾迹线条透明度\n     curveness: 0.3, //尾迹线条曲直度\n    },\n   },\n   data: convertData(item[1]),\n  },\n  {\n   type: 'effectScatter',\n   coordinateSystem: 'geo',\n   zlevel: 2,\n   rippleEffect: {\n    //涟漪特效\n    period: 4, //动画时间，值越小速度越快\n    brushType: 'stroke', //波纹绘制方式 stroke, fill\n    scale: 4, //波纹圆环最大限制，值越大波纹越大\n   },\n   label: {\n    normal: {\n     show: true,\n     position: 'right', //显示位置\n     offset: [5, 0], //偏移设置\n     formatter: function (params) {\n      //圆环显示文字\n      return params.data.name;\n     },\n     fontSize: 10,\n    },\n    emphasis: {\n     show: true,\n    },\n   },\n   symbol: 'circle',\n   symbolSize: function (val) {\n    return 3 + val[2] * 1; //圆环大小\n   },\n   itemStyle: {\n    normal: {\n     show: false,\n     color: '#FFA54F',\n    },\n   },\n   data: item[1].map(function (dataItem) {\n    return {\n     name: dataItem[0].name,\n     value: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value]),\n    };\n   }),\n  },\n  //被攻击点\n  {\n   type: 'scatter',\n   coordinateSystem: 'geo',\n   zlevel: 2,\n   rippleEffect: {\n    period: 4,\n    brushType: 'stroke',\n    scale: 4,\n   },\n   label: {\n    normal: {\n     show: true,\n     position: 'right',\n     //offset:[5, 0],\n     color: '#0f0',\n     formatter: '{b}',\n     textStyle: {\n      color: '#0f0',\n     },\n    },\n    emphasis: {\n     show: true,\n     color: '#FFA54F',\n    },\n   },\n   symbol: 'pin',\n   symbolSize: 50,\n   data: [\n    {\n     name: item[0],\n     value: chinaGeoCoordMap[item[0]].concat([10]),\n    },\n   ],\n  }\n );\n});\n\noption = {\n tooltip: {\n  trigger: 'item',\n  backgroundColor: 'rgba(166, 200, 76, 0.82)',\n  borderColor: '#FFFFCC',\n  showDelay: 0,\n  hideDelay: 0,\n  enterable: true,\n  transitionDuration: 0,\n  extraCssText: 'z-index:100',\n  formatter: function (params, ticket, callback) {\n   //根据业务自己拓展要显示的内容\n   var res = '';\n   var name = params.name;\n   var value = params.value[params.seriesIndex + 1];\n   res = \"<span style='color:#fff;'>\" + name + '</span><br/>数据：' + value;\n   return res;\n  },\n },\n backgroundColor: '#013954',\n visualMap: {\n  //图例值控制\n  min: 1,\n  max: 30,\n  calculable: true,\n  show: true,\n  color: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\n  textStyle: {\n   color: '#fff',\n  },\n },\n geo: {\n  map: 'china',\n  zoom: 1.2,\n  label: {\n   emphasis: {\n    show: false,\n   },\n  },\n  roam: true, //是否允许缩放\n  itemStyle: {\n   normal: {\n    color: 'rgba(51, 69, 89, .5)', //地图背景色\n    borderColor: '#516a89', //省市边界线00fcff 516a89\n    borderWidth: 1,\n   },\n   emphasis: {\n    color: 'rgba(37, 43, 61, .5)', //悬浮背景\n   },\n  },\n },\n series: series,\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-2684789164","theme":"","layout":"","viewCount":0,"userName":"比***地","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHDPCt8NBU.png?v=1640251448086","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"s***d"}}