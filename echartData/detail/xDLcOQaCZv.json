{"status":0,"data":{"cid":"xDLcOQaCZv","authorUid":"bd-2167902842","authorUserName":"free梦伽蓝","title":"动态柱状图","description":"动态柱状图","latestVersion":2,"alwaysLatest":1,"createTime":"2019-04-16T02:07:20.000Z","lastUpdateTime":"2019-04-16T02:07:20.000Z","auth":2,"uid":"bd-2167902842","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-08T07:19:21.000Z","code":"var provincialData = [{\r\n        id: \"089\",\r\n        name: \"a\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"088\",\r\n        name: \"r\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"070\",\r\n        name: \"r\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"087\",\r\n        name: \"r\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"084\",\r\n        name: \"r\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"079\",\r\n        name: \"h\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"086\",\r\n        name: \"3\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"085\",\r\n        name: \"rt\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"081\",\r\n        name: \"y\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"083\",\r\n        name: \"hf\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"050\",\r\n        name: \"dhf\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"059\",\r\n        name: \"dh\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"051\",\r\n        name: \"df\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"074\",\r\n        name: \"dh\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"071\",\r\n        name: \"q\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"075\",\r\n        name: \"w\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"038\",\r\n        name: \"x\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"030\",\r\n        name: \"c\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"036\",\r\n        name: \"k\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"034\",\r\n        name: \"l\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"031\",\r\n        name: \"oi\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"000\",\r\n        name: \"\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"076\",\r\n        name: \"p\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"017\",\r\n        name: \"i\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"097\",\r\n        name: \"u\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"090\",\r\n        name: \"y\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"091\",\r\n        name: \"t\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"010\",\r\n        name: \"r\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"019\",\r\n        name: \"e\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"018\",\r\n        name: \"f\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"013\",\r\n        name: \"g\",\r\n        value: 0\r\n    },\r\n    {\r\n        id: \"011\",\r\n        name: \"h\",\r\n        value: 0\r\n    }\r\n];\r\noption = {\r\n    // backgroundColor: \"#000\",\r\n    grid: [{\r\n        y2: \"60%\",\r\n    }, {\r\n        y: \"42%\",\r\n\r\n    }],\r\n    xAxis: [{\r\n        type: 'category',\r\n        show: false,\r\n        boundaryGap: true,\r\n        gridIndex: 0,\r\n        data: (() => {\r\n            const res = [];\r\n            for (let len = 0; len < 30; len += 1) {\r\n                res.push(len);\r\n            }\r\n            return res;\r\n        })()\r\n    }, {\r\n        type: 'value',\r\n        show: false,\r\n        gridIndex: 1,\r\n        boundaryGap: [0, 0.2],\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        scale: true,\r\n        show: false,\r\n        gridIndex: 0,\r\n        boundaryGap: [0, 0.2]\r\n    }, {\r\n        type: 'category',\r\n        gridIndex: 1,\r\n        data: provincialData.map(item => item.name),\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n            color: '#fff',\r\n            interval: 0\r\n        }\r\n    }],\r\n    series: [{\r\n        name: '',\r\n        type: 'bar',\r\n        barWidth: 12,\r\n        xAxisIndex: 0,\r\n        yAxisIndex: 0,\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: 30,\r\n                color: new echarts.graphic.LinearGradient(\r\n                    0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#00feff'\r\n                        },\r\n                        {\r\n                            offset: 0.5,\r\n                            color: '#027eff'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: '#0286ff'\r\n                        }\r\n                    ]\r\n                )\r\n            }\r\n        },\r\n        data: (() => {\r\n            const res = [];\r\n            for (let len = 30; len > 0; len -= 1) {\r\n                res.push(0);\r\n            }\r\n            return res;\r\n        })()\r\n    }, {\r\n        barWidth: 12,\r\n        type: 'pictorialBar',\r\n        symbol: 'roundRect',\r\n        xAxisIndex: 1,\r\n        yAxisIndex: 1,\r\n        symbolRepeat: true,\r\n        symbolSize: [12, 8],\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: [0, 30, 30, 0],\r\n                color: new echarts.graphic.LinearGradient(\r\n                    0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#00feff'\r\n                        },\r\n                        {\r\n                            offset: 0.5,\r\n                            color: '#027eff'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: '#0286ff'\r\n                        }\r\n                    ]\r\n                )\r\n            }\r\n        },\r\n        data: provincialData.map(item => item.value),\r\n    }]\r\n};\r\nsetInterval(() => {\r\n    const axisData = option.xAxis[0].data;\r\n    option.series[0].data.shift();\r\n    option.series[0].data.push(Math.random() * 1000);\r\n    option.xAxis[0].data.shift();\r\n    option.xAxis[0].data.push(axisData[axisData.length - 1] + 1);\r\n    for (var i = 0; i < provincialData.length; i++) {\r\n        if (provincialData[i].name !== '') {\r\n            provincialData[i].value = Math.random() * 1000;\r\n        }\r\n    }\r\n    option.series[1].data = provincialData;\r\n\r\n    myChart.setOption(option);\r\n}, 300);","html":"","externalScripts":"","updaterUID":"bd-2167902842","theme":"","layout":"","viewCount":1640,"userName":"free梦伽蓝","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDLcOQaCZv.png?v=1559978362019","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"free梦伽蓝"}}