{"status":0,"data":{"cid":"xSy4pLSOku","authorUid":"obd-oMZ897aaM_c6bLXIWmPsGtDThCLj12j","authorUserName":"安***听","title":"象形柱状图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-03-31T03:44:46.000Z","lastUpdateTime":"2021-12-02T09:30:59.000Z","auth":2,"uid":"obd-oMZ897aaM_c6bLXIWmPsGtDThCLj12j","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-12-02T09:30:59.000Z","code":" const barData = {\r\n    xaxis: [\"1月\",\"2月\",\"3月\",\"4月\",],\r\n    series: [{\r\n        name: \"金额\",\r\n        data: [90, 19,68, 98,]\r\n    }],\r\n    legend: [\"金额\"],\r\n    yName: \"mm\",\r\n    unit: \"\",\r\n    legendShow: true,\r\n    colorArr: [\r\n      {\r\n        start: \"rgba(124,225,255, 0.80)\",\r\n        end: \"rgba(40,203,252,0.50)\",\r\n      }\r\n    ],\r\n    xLabelWidth: 160,\r\n    xLabelheight: 48,\r\n    splitNumber: 4,\r\n    xLabelBg: `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAwCAYAAAAfHSRCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAb6ADAAQAAAABAAAAMAAAAABXoqNQAAABSklEQVR4Ae2cMW7CUADFGgaEOneiGzt35BA9Ta/RterGEYoQAzBlRF+qi5zBLERKnBfZgjHTx/ft9jL4HH5O74NLOv3PBg671+PolqvRBZ1froHiLbfN8Mmmt8/f7XzVdbPez8er8+VrPu7bNfCoS788twtaLx7S58LFc/2j9eIhfS5cPNc/Wi8e0ufCxXP9o/XiIX0uXDzXP1ovHtLnwsVz/aP14iF9Llw81z9aLx7S58LFc/2j9eIhfS5cPNc/Wi8e0ufCxXP9o/XiIX0uXDzXP1ovHtLnwsVz/aP14iF9Llw81z9aLx7S58LFc/2j9eIhfS5cPNc/Wi8e0ufCxXP9o/XiIX0uXDzXP1ovHtLnwsVz/aP14iF9Llw81z9aLx7S58LFc/2j9eIhfS5cPNc/Wp96cRzy9zS4F8c9Te0ybtzf5jI6/Okp7jqFGRdvmgByAAAAAElFTkSuQmCC`,\r\n    grid: {\r\n      left: \"100px\",\r\n      top: \"116px\",\r\n      right: \"70px\",\r\n      bottom: \"84px\",\r\n      containLabel: false,\r\n    },\r\n    namePadding: [0, 10, 30, 0],\r\n }\r\n  let normalColor = \"rgba(236,248,255,0.70)\";\r\n  let barBg = [];\r\n  let list = [];\r\n  let seriesData = barData.series.map((item, index) => {\r\n    list = [...list, ...item.data];\r\n    barBg.push({\r\n      type: \"pictorialBar\",\r\n      itemStyle: {\r\n        normal: {\r\n          opacity: 0.6,\r\n          color:'#6494db'\r\n        },\r\n      },\r\n      barGap: \"-30%\",\r\n      symbolRepeat: \"fixed\", //使图形元素重复order\r\n      symbolSize: [45, 10],\r\n      symbolMargin: 2,\r\n      symbol: `image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAKCAYAAAD7CH02AAAAO0lEQVRIiWPkTl34n4E4wPhlVhwDAwMDA0/aIgYGBoZBqY+JSMOHDBj10GAHox4a7GDUQ4MdjHposAMAHHwOJKeijY8AAAAASUVORK5CYII=`,\r\n      data: barData.series[0] && barData.series[0].data,\r\n    });\r\n\r\n    let markPoint = item.data.map((item, index) => {\r\n      return {\r\n        coord: [index, item],\r\n        symbolSize: [57, 3],\r\n        symbolOffset: [0, -5],\r\n        symbol:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAADCAYAAAAp+adOAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOaADAAQAAAABAAAAAwAAAABcACqHAAAAKElEQVQoFWOc/ez/fwYoSJViZISxkcVhYoOdxuV+psHucGq4b0R4EgAU2guFUrWCeQAAAABJRU5ErkJggg=='\r\n      };\r\n    });\r\n    return {\r\n      name: barData.legend[index],\r\n      type: \"bar\",\r\n      data: item.data,\r\n      barGap: \"45%\",\r\n      barWidth: \"45px\",\r\n      itemStyle: {\r\n        normal: {\r\n          color: {\r\n            type: \"linear\",\r\n            x: 0,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1,\r\n            colorStops: [\r\n              {\r\n                offset: 0,\r\n                color: barData.colorArr[index].start,\r\n              },\r\n              {\r\n                offset: 1,\r\n                color: barData.colorArr[index].end,\r\n              },\r\n            ],\r\n            globalCoord: false,\r\n          },\r\n        },\r\n      },\r\n      markPoint: {\r\n        data: markPoint,\r\n      },\r\n    };\r\n  });\r\n  seriesData = [...seriesData, ...barBg];\r\n  option = {\r\n    backgroundColor: \"#0B1321\",\r\n    legend: {\r\n      show: barData.legendShow,\r\n      x: \"right\",\r\n      y: \"top\",\r\n      selectedMode: false,\r\n      icon: \"rect\",\r\n      padding: [0, 0, 0, 0],\r\n      itemGap: 32,\r\n      itemWidth: 26,\r\n      itemHeight: 18,\r\n      textStyle: {\r\n        height: 30,\r\n        rich: {\r\n          a: {\r\n            color: normalColor,\r\n            fontSize: 36,\r\n            fontFamily: \"PingFangSC-Regular\",\r\n          },\r\n        },\r\n      },\r\n      formatter: (name) => {\r\n        return \"{a|\" + name + \" \" + \"}\";\r\n      },\r\n      data: barData.legend,\r\n    },\r\n    grid: barData.grid,\r\n    tooltip: {\r\n      textStyle: {\r\n        fontSize: 48,\r\n      },\r\n      trigger: \"axis\",\r\n      formatter: function (params) {\r\n        let str = \"\";\r\n        for (let i = 0; i < params.length - 1; i++) {\r\n          if (i < 2) {\r\n            if (\r\n              (!!params[i].value || params[i].value === 0) &&\r\n              params[i].seriesName !== \"\"\r\n            ) {\r\n              let value;\r\n              if (i === params.length - 2) {\r\n                value = params[i].value + params[0].value;\r\n              } else [(value = params[i].value)];\r\n              str += params[i].seriesName + \": \" + value + barData.unit + \"<br/>\";\r\n            } else if (params[i].seriesName !== \"\") {\r\n              str += params[i].seriesName + \": \" + \"无数据\" + \"<br/>\";\r\n            }\r\n          }\r\n        }\r\n        return str;\r\n      },\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: \"category\",\r\n        data: barData.xaxis,\r\n        axisPointer: {\r\n          type: \"shadow\",\r\n        },\r\n        axisLabel: {\r\n          interval: 0,\r\n          margin: 15,\r\n          formatter: (value) => {\r\n            return `{a|${value}}`;\r\n          },\r\n          width: barData.xLabelWidth,\r\n          height: barData.xLabelheight,\r\n          align: \"center\",\r\n          backgroundColor: {\r\n            image: barData.xLabelBg,\r\n          },\r\n          rich: {\r\n            a: {\r\n              fontFamily: \"DINAlternate-Bold\",\r\n              color: normalColor,\r\n              fontSize: 42,\r\n              lineHeight: 54,\r\n            },\r\n          },\r\n        },\r\n        axisLine: {\r\n          show: false,\r\n        },\r\n        axisTick: {\r\n          show: false,\r\n        },\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n      },\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: \"value\",\r\n        name: barData.yName,\r\n        splitNumber: barData.splitNumber,\r\n        nameTextStyle: {\r\n          fontFamily: \"PingFangSC-Regular\",\r\n          color: normalColor,\r\n          fontSize: 42,\r\n          align: \"right\",\r\n          padding: barData.namePadding,\r\n        },\r\n        axisLabel: {\r\n          showMinLabel: false,\r\n          formatter: \"{value}\",\r\n          align: \"right\",\r\n          textStyle: {\r\n            fontFamily: \"PingFangSC-Regular\",\r\n            color: normalColor,\r\n            fontSize: 42,\r\n          }\r\n        },\r\n        axisLine: {\r\n          show: false,\r\n        },\r\n        axisTick: {\r\n          show: false,\r\n        },\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n      },\r\n    ],\r\n    series: seriesData,\r\n  };\r\n  myChart.setOption(option);","html":"","externalScripts":"","updaterUID":"obd-oMZ897aaM_c6bLXIWmPsGtDThCLj12j","theme":"","layout":"","viewCount":43,"userName":"安***听","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSy4pLSOku.png?v=1638437459639","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markPoint","series-bar","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"安***听"}}