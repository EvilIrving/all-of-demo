{"status":0,"data":{"cid":"xlgrByVSs_","authorUid":"obd-oAlFYQdyTUHX0d0BP55WUmEUCTu6W7D","authorUserName":"范***e","title":"点击创建3d热力图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-15T02:58:04.000Z","lastUpdateTime":"2021-07-15T02:58:04.000Z","auth":1,"uid":"obd-oAlFYQdyTUHX0d0BP55WUmEUCTu6W7D","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-15T02:58:04.000Z","code":"\nlet olddata = []\nfor(var i=0;i<100;i++){\n    for(var j=0;j<100;j++){\n        olddata.push([-50+i,-50+j,0])\n    }\n}\nlet NowValue = []\noption = {\n    tooltip: {\n        formatter: function (NowValues, ticket, callback){\n            NowValue = NowValues.value\n        }\n    },\n    backgroundColor: '#fff',\n    visualMap: {\n        show: false,\n        dimension: 2,\n        min: -1,\n        max: 1,\n        inRange: {\n            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n        }\n    },\n    xAxis3D: {\n        type: 'value'\n    },\n    yAxis3D: {\n        type: 'value'\n    },\n    zAxis3D: {\n        type: 'value'\n    },\n    grid3D: {\n        viewControl: {\n            // projection: 'orthographic'\n        }\n    },\n    series: [{\n        type: 'surface',\n        wireframe: {\n            // show: false\n        },\n        data:olddata\n    }]\n}\nlet newdata = []\n\nfor(var i=0;i<100;i++){\n    let HenData = []\n    for(var j = 0; j<100;j++){\n        HenData.push([0])\n    }\n    newdata.push(HenData)\n}\n// console.log(newdata)\n\nwindow.onclick = function () {\n    if(newdata[NowValue[0]+50] && newdata[NowValue[0]+50][NowValue[1]+50]){\n        console.log(newdata[NowValue[0]+50][NowValue[1]+50] )\n        newdata[NowValue[0]+50][NowValue[1]+50] = moreOne(newdata[NowValue[0]+50][NowValue[1]+50]*1 + 0.1)\n    }\n    if(newdata[NowValue[0]+49] && newdata[NowValue[0]+49][NowValue[1]+50]){\n        newdata[NowValue[0]+49][NowValue[1]+50] = moreOne(newdata[NowValue[0]+49][NowValue[1]+50]*1*1 + 0.1)\n    }\n    if(newdata[NowValue[0]+51] && newdata[NowValue[0]+51][NowValue[1]+50]){\n        newdata[NowValue[0]+51][NowValue[1]+50] = moreOne(newdata[NowValue[0]+51][NowValue[1]+50]*1 + 0.1)\n    }\n    if(newdata[NowValue[0]+50] && newdata[NowValue[0]+50][NowValue[1]+48]){\n        newdata[NowValue[0]+50][NowValue[1]+48] = moreOne(newdata[NowValue[0]+50][NowValue[1]+48]*1 + 0.1)\n    }\n    if(newdata[NowValue[0]+50] && newdata[NowValue[0]+50][NowValue[1]+51]){\n        newdata[NowValue[0]+50][NowValue[1]+51] = moreOne(newdata[NowValue[0]+50][NowValue[1]+51]*1 + 0.1)\n    }\n    console.log(newdata)\n    let mynewData = []\n    for(var i=0;i<newdata.length;i++){\n        for(var j=0;j<newdata[i].length;j++){\n            mynewData.push([i-50,j-50,newdata[i][j]])\n        }\n    }\n    console.log(mynewData)\n    option.series[0].data = mynewData\n     myChart.setOption(option);\n    console.log(NowValue)\n}\n\nfunction moreOne(data){\n    return data>1?1:data\n}\n\n\n\n\n\n\n\n\n\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js,https://cdn.jsdelivr.net/npm/echarts-gl@1/dist/echarts-gl.min.js,https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js,https://cdn.jsdelivr.net/npm/papaparse/papaparse.min.js","updaterUID":"obd-oAlFYQdyTUHX0d0BP55WUmEUCTu6W7D","theme":"","layout":"","viewCount":0,"userName":"范***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlgrByVSs_.png?v=1626317884994","isCustomThumbnail":0,"builtinTags":["category-work","grid3D","series-surface","tooltip","visualMap"],"customTags":[],"updaterUserName":"范***e"}}