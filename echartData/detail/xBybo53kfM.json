{"status":0,"data":{"cid":"xBybo53kfM","authorUid":"bd-1664726201","authorUserName":"鬼事佛","title":"各年龄阶段占比","description":"单维度下多饼图展示维度分类情况","latestVersion":7,"alwaysLatest":1,"createTime":"2017-12-14T08:47:21.000Z","lastUpdateTime":"2017-12-14T08:47:21.000Z","auth":2,"uid":"bd-1664726201","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":5,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-14T09:52:08.000Z","code":"//使用markPoint，上一个使用legend，上上一个使用x轴\r\nvar colorList = ['#fa5f7d','grey'];\r\nvar data=[{\r\n\t\t\"name\":'未成年未成年未成年未成年未成年未成年未成年未成年',\r\n\t\t\"value\":10\r\n     },{\r\n\t\t\"name\":'青年',\r\n\t\t\"value\":46\r\n     },{\r\n\t\t\"name\":'中年',\r\n\t\t\"value\":20\r\n     },{\r\n\t\t\"name\":'老年',\r\n\t\t\"value\":14\r\n     }];\r\nvar create=function(data){\r\n    var result = [];\r\n   for(var i=0;i<data.length;i++){\r\n        result.push({\r\n        name:'',\r\n        center: [\r\n            (i * 25 + 12.5+ '%'),\r\n            '50%'\r\n        ],\r\n        radius: [\r\n            '40',\r\n            '41'\r\n        ],\r\n        type: 'pie',\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n          markPoint: {\r\n            data: [{\r\n                        symbol: 'triangle',\r\n                        symbolSize: 15,\r\n                        symbolRotate: 0,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: 'transparent'\r\n                            }\r\n                        },\r\n                        name: '',\r\n                        value: data[i].name,\r\n                        x:( myChart.getWidth() * (i+((+0.52-(data[i].name.length)*0.025)>0?(+0.52-(data[i].name.length)*0.025):0)) / 4),\r\n                        y: myChart.getHeight() * 0.45 + 80,\r\n                        label: {\r\n                            normal: {\r\n                                show: true,\r\n                                position: 'center',\r\n                                formatter: function(params) {\r\n                                    return params.value;\r\n                                },\r\n                                textStyle: {\r\n                                    color: colorList[1]\r\n                                }\r\n                            }\r\n                        },\r\n                    }\r\n            ]\r\n        },\r\n        /* markLine:{\r\n            silent: true,\r\n            symbolSize:0,\r\n            data:[{ \r\n                \r\n               0: {\r\n                x: i* 25 + '%', \r\n                y:  '40%',\r\n                lineStyle: {\r\n                    normal: {\r\n                        color:!!i ?'#ccc':'transparent' ,\r\n                        width: 1,\r\n                        type: 'solid'\r\n                    }\r\n                 }\r\n                    \r\n                },\r\n                 1: {\r\n                    \r\n                 x: i* 25  + '%',  \r\n                y:  '70%',\r\n                lineStyle: {\r\n                    normal: {\r\n                        color: !!i ?'#ccc':'transparent' ,\r\n                        width: 1,\r\n                        type: 'solid'\r\n                    }\r\n                 }\r\n                    \r\n                }\r\n               \r\n               \r\n                \r\n            }]\r\n        },*/\r\n        data: [{\r\n            value: data[i].value,\r\n            name: data[i].name,\r\n             itemStyle: {\r\n                normal: {\r\n                    color:colorList[0],\r\n                    borderColor: colorList[0],\r\n                    borderWidth: 5\r\n                },\r\n                emphasis: {\r\n                    color: colorList[0],\r\n                    borderColor: colorList[0],\r\n                    borderWidth: 5\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{d} %',\r\n                    position: 'center',\r\n                    show: true,\r\n                    textStyle: {\r\n                        fontSize: '16',\r\n                        fontWeight: 'bold',\r\n                        color:'black'\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            value: (100-data[i].value),\r\n            name: '',\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: colorList[1],\r\n                    borderColor: colorList[1],\r\n                    borderWidth: 1\r\n                },\r\n                emphasis: {\r\n                    color: colorList[1],\r\n                    borderColor: colorList[1],\r\n                    borderWidth: 1\r\n                }\r\n            },\r\n            hoverAnimation: false\r\n        }]\r\n    });\r\n   }\r\n     return result;\r\n};\r\n\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(params, ticket, callback) {\r\n            var res= params.name + ' : ' + params.percent + '%';\r\n            return res;\r\n        }\r\n    },\r\n    series:create(data)\r\n};","html":"","externalScripts":"","updaterUID":"bd-1664726201","theme":"","layout":"","viewCount":1497,"userName":"鬼事佛","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBybo53kfM.png?v=1513241241300","isCustomThumbnail":1,"builtinTags":["category-work","markPoint","series-pie","tooltip"],"customTags":[],"updaterUserName":"鬼事佛"}}