{"status":0,"data":{"cid":"xSygyb9wVb","authorUid":"bd-2131774980","authorUserName":"最后的霜","title":"eChart演示-->快速排序<--过程","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2017-07-03T09:39:36.000Z","lastUpdateTime":"2017-07-03T09:39:36.000Z","auth":2,"uid":"bd-2131774980","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.6.2","versionCreateTime":"2017-07-03T09:50:26.000Z","code":"/**\r\n * \r\n */\r\n\r\n\r\n//每次移动的数据数组\r\nvar dataArray = [];\r\n//每次移动的数据x轴\r\nvar arrayIndex = [];\r\n//每次移动的数据索引\r\nvar arrayMovePoint = [];\r\n//原始数组\r\nvar subDataArray = [];\r\n//存储每次排序数组的寄存器\r\nvar arrayTemp = [];\r\n//存储每次排序索引的寄存器\r\narrayIndexTemp = [];\r\n//图例\r\nvar legendData = [];\r\n//时间轴数组，记录移动的次数\r\nvar timelineData = [];\r\n//每次移动的数据数组放到时间轴\r\nvar optionsData = [];\r\n\r\n\r\n//数据生成\r\nfor (var j = 0; j < 10; j++) {\r\n    subDataArray.push(Math.floor(Math.random() * 10 + 1));\r\n}\r\n//将生成的数组存储到寄存器当中\r\nfor (var i = 0; i < subDataArray.length; i++) {\r\n    arrayTemp.push(subDataArray[i]);\r\n    arrayIndexTemp.push(i);\r\n}\r\n//寄存器的数据添加到最终的数组中\r\ndataArray.push(arrayTemp);\r\narrayIndex.push(arrayIndexTemp);\r\n//快速排序\r\nsort(subDataArray);\r\n//标记每次数据移动的索引\r\nfor (var i = 1; i < arrayIndex.length; i++) {\r\n    arrayIndex[i][arrayMovePoint[i - 1].left] = {\r\n        'value': '-->' + arrayIndex[i][arrayMovePoint[i - 1].left] + '<--',\r\n    };\r\n    if (arrayMovePoint[i - 1].left != arrayMovePoint[i - 1].right) {\r\n        arrayIndex[i][arrayMovePoint[i - 1].right] = {\r\n            'value': '-->' + arrayIndex[i][arrayMovePoint[i - 1].right] + '<--',\r\n        };\r\n    }\r\n}\r\n//将记录排序过程数组\r\nfor (var i = 0; i < dataArray.length; i++) {\r\n    legendData = ['数据'];\r\n    timelineData.push('第' + (i + 1) + '次')\r\n    optionsData.push(\r\n        {\r\n            'series':{\r\n                'data':dataArray[i],\r\n            },\r\n            'xAxis':{\r\n                'data':arrayIndex[i],\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\noption = {\r\n    baseOption: {\r\n        timeline: {\r\n            // y: 0,\r\n            axisType: 'category',\r\n            autoPlay: true,\r\n            playInterval: 1000,\r\n            data: timelineData,\r\n            width: '90%',\r\n            bottom: 10,\r\n            left: 30,\r\n            symbolSize: 16,\r\n            label: {\r\n                normal: {\r\n                    textStyle: {\r\n                        color: '#999',\r\n                        fontSize: 15\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    textStyle: {\r\n                        color: '#999',\r\n                        fontSize: 20\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        title: {\r\n            text: \"eChart演示-->快速排序<--过程\",\r\n        },\r\n        legend: {\r\n            orient: 'vetical',\r\n            x: 'right',\r\n            y: 'top',\r\n            data: legendData\r\n        },\r\n        grid: {\r\n            top: 80,\r\n            bottom: 100,\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow',\r\n                    label: {\r\n                        show: true,\r\n                        formatter: function(params) {\r\n                            return params.value.replace('\\n', '');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            boundaryGap: true,\r\n            data: [],\r\n        },\r\n        yAxis: [{\r\n            type: 'value'\r\n        }],\r\n        series: [{\r\n            type: 'bar',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 3,\r\n                    borderColor: '#ffffff',\r\n                },\r\n                emphasis: {\r\n                    borderWidth: 0,\r\n                    shadowBlur: 10,\r\n                    shadowOffsetX: 0,\r\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                },\r\n                data: [],\r\n            },\r\n        }],\r\n    },\r\n    options: optionsData,\r\n\r\n}\r\n\r\nfunction sort(array) {\r\n    quickSort(array, 0, array.length - 1);\r\n}\r\n\r\nfunction quickSort(array, start, end) {\r\n    //当前指针和后指针相遇或者前在后之后时不作结束当前排序\r\n    if (start >= end)\r\n        return\r\n    var left = start;\r\n    var right = end;\r\n    var pivotIndex = parseInt((left + right) / 2);\r\n    var pivot = array[pivotIndex];\r\n    //当前指针没与右指针相遇时继续对比\r\n    if (left <= right) {\r\n        while (left <= right && array[left] < pivot) {\r\n            left++;\r\n        }\r\n        while (left <= right && array[right] > pivot) {\r\n            right--;\r\n        }\r\n        if (left <= right) {\r\n            var arrayTemp = [];\r\n            var temp = array[left];\r\n            array[left] = array[right];\r\n            array[right] = temp;\r\n            if (array[left] != array[right]) {\r\n                var arrayIndexTemp = [];\r\n                for (var i = 0; i < arrayIndex[arrayIndex.length - 1].length; i++) {\r\n                    arrayIndexTemp.push(arrayIndex[arrayIndex.length - 1][i]);\r\n                }\r\n                var arrayIndexTempRight = arrayIndexTemp[right];\r\n                var arrayIndexTempLeft = arrayIndexTemp[left];\r\n                for (var i = 0; i < array.length; i++) {\r\n                    arrayTemp.push(array[i]);\r\n                    if (i == left) {\r\n                        arrayIndexTemp[i] = arrayIndexTempRight;\r\n                    } else if (i == right) {\r\n                        arrayIndexTemp[i] = arrayIndexTempLeft;\r\n                    }\r\n                }\r\n                arrayMovePoint.push({\r\n                    'left': left,\r\n                    'right': right\r\n                });\r\n                arrayIndex.push(arrayIndexTemp);\r\n                dataArray.push(arrayTemp);\r\n            }\r\n            left++;\r\n            right--;\r\n        }\r\n    }\r\n    quickSort(array, start, right);\r\n    quickSort(array, left, end)\r\n\r\n}","html":"","externalScripts":"","updaterUID":"bd-2131774980","theme":"macarons","layout":"","viewCount":14790,"userName":"最后的霜","commentCount":1,"starCount":20,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSygyb9wVb.png?v=1499075426594","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","timeline","title"],"customTags":[],"updaterUserName":"最后的霜"}}