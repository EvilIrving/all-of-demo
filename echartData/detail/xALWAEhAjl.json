{"status":0,"data":{"cid":"xALWAEhAjl","authorUid":"obd-ojGzVRdfrvFQ3IT5jCSeLtd_jXT5EEd","authorUserName":"V***y","title":"多图表汇总","description":"一个canvas绘制多个多种图表","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-28T08:43:47.000Z","lastUpdateTime":"2021-01-28T08:43:47.000Z","auth":2,"uid":"obd-ojGzVRdfrvFQ3IT5jCSeLtd_jXT5EEd","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-28T08:43:47.000Z","code":"var color = [{\n    color: '#2EE67D',\n    step: 4\n}, {\n    color: '#FFD54A',\n    step: 5\n}];\nvar colors = color.map(({\n    color,\n    step\n}, i) => {\n    return new gradientColor(color, '#ffffff', step);\n});\n\n//获取两颜色区间渐变色\nfunction gradientColor(startColor, endColor, step) {\n    const startRGB = hexToRgb(startColor), //转换为rgb数组模式\n        startR = startRGB.r,\n        startG = startRGB.g,\n        startB = startRGB.b,\n        endRGB = hexToRgb(endColor),\n        endR = endRGB.r,\n        endG = endRGB.g,\n        endB = endRGB.b,\n        sR = (endR - startR) / step, //总差值\n        sG = (endG - startG) / step,\n        sB = (endB - startB) / step;\n    var colorSteps = [];\n    for (var i = 0; i < step; i++) {\n        var hex = rgbToHex('rgb(' + parseInt((sR * i + startR)) + ',' + parseInt((sG * i + startG)) + ',' + parseInt((sB * i + startB)) + ')');\n        colorSteps.push(hex);\n    }\n\n    function hexToRgb(hex, opacity = 1) {\n        return {\n            r: parseInt(\"0x\" + hex.slice(1, 3)),\n            g: parseInt(\"0x\" + hex.slice(3, 5)),\n            b: parseInt(\"0x\" + hex.slice(5, 7)),\n            rgb: \"rgb(\" + parseInt(\"0x\" + hex.slice(1, 3)) + \",\" + parseInt(\"0x\" + hex.slice(3, 5)) + \",\" + parseInt(\"0x\" + hex.slice(5, 7)) + \")\",\n            rgba: \"rgba(\" + parseInt(\"0x\" + hex.slice(1, 3)) + \",\" + parseInt(\"0x\" + hex.slice(3, 5)) + \",\" + parseInt(\"0x\" + hex.slice(5, 7)) + \",\" + opacity + \")\",\n        };\n    }\n\n    function rgbToHex(color) {\n        var rgb = color.split(',')\n        var r = parseInt(rgb[0].split('(')[1])\n        var g = parseInt(rgb[1])\n        var b = parseInt(rgb[2].split(')')[0])\n        var hex = \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n        return hex\n    }\n    return colorSteps;\n}\n\noption = {\n    backgroundColor: '#161C27',\n    tooltip: {\n        trigger: 'item'\n    },\n    title: [{\n        text: '病理分型',\n        subtext: '总计 1015',\n        top: '5%',\n        left: '8%',\n        textAlign: 'center',\n        textStyle: {\n            color: '#fff'\n        },\n        subtextStyle: {\n            color: '#fff'\n        }\n    }, {\n        text: '分期',\n        subtext: '总计 862',\n        top: '5%',\n        left: '67%',\n        textAlign: 'center',\n        textStyle: {\n            color: '#fff'\n        },\n        subtextStyle: {\n            color: '#fff'\n        }\n    }, {\n        text: '转移',\n        subtext: '总计 1015',\n        left: '8%',\n        top: '53%',\n        textAlign: 'center',\n        textStyle: {\n            color: '#fff'\n        },\n        subtextStyle: {\n            color: '#fff'\n        }\n    }, {\n        text: '治疗方案',\n        subtext: '总计 672',\n        left: '67%',\n        top: '53%',\n        textAlign: 'center',\n        textStyle: {\n            color: '#fff'\n        },\n        subtextStyle: {\n            color: '#fff'\n        }\n    }],\n    grid: [{\n            left: '35%',\n            top: '15%',\n            width: '220px',\n            height: '200px'\n        },\n        {\n            left: '35%',\n            top: '65%',\n            width: '220px',\n            height: '200px'\n        },\n    ],\n    xAxis: [{\n            type: 'value',\n            gridIndex: 0,\n            axisTick: {\n                show: false\n            },\n            splitLine: {\n                show: false\n            },\n            axisLabel: {\n                show: false\n            },\n            axisLine: {\n                show: false,\n            },\n        },\n        {\n            type: 'category',\n            gridIndex: 1,\n            data: ['骨', '多发', '肺', '肝', '其他'],\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                color: '#8597A5'\n            },\n        }\n    ],\n    yAxis: [{\n            type: 'category',\n            gridIndex: 0,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false\n            },\n            splitLine: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                color: '#8597A5'\n            },\n            data: ['尿路上皮癌', '原位癌', '鳞状细胞癌', '腺癌'],\n        },\n        {\n            type: 'value',\n            gridIndex: 1,\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            splitLine: {\n                show: false\n            },\n        }\n    ],\n    series: [{\n            name: '病理分型',\n            type: 'bar',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            data: [{\n                    value: 1048,\n                    name: '尿路上皮癌',\n                    itemStyle: {\n                        color: colors[0][0]\n                    }\n                },\n                {\n                    value: 735,\n                    name: '原位癌',\n                    itemStyle: {\n                        color: colors[0][1]\n                    }\n                },\n                {\n                    value: 580,\n                    name: '鳞状细胞癌',\n                    itemStyle: {\n                        color: colors[0][2]\n                    }\n                },\n                {\n                    value: 484,\n                    name: '腺癌',\n                    itemStyle: {\n                        color: colors[0][3]\n                    }\n                },\n            ]\n        },\n        {\n            name: '转移',\n            type: 'bar',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            data: [{\n                    value: 1048,\n                    name: '骨',\n                    itemStyle: {\n                        color: colors[1][0]\n                    }\n                },\n                {\n                    value: 1735,\n                    name: '多发',\n                    itemStyle: {\n                        color: colors[1][1]\n                    }\n                },\n                {\n                    value: 580,\n                    name: '肺',\n                    itemStyle: {\n                        color: colors[1][2]\n                    }\n                },\n                {\n                    value: 484,\n                    name: '肝',\n                    itemStyle: {\n                        color: colors[1][3]\n                    }\n                },\n                {\n                    value: 1484,\n                    name: '其他',\n                    itemStyle: {\n                        color: colors[1][4]\n                    }\n                },\n            ]\n        },\n        {\n            name: '病理分型',\n            type: 'pie',\n            radius: [60, 100],\n            center: ['14%', '27%'],\n            color: colors[0],\n            label: {\n                show: false,\n                position: 'center'\n            },\n            itemStyle: {\n                borderRadius: 5,\n                borderColor: '#161C27',\n                borderWidth: 2\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    fontSize: '12',\n                    fontWeight: 'bold'\n                }\n            },\n            labelLine: {\n                show: false\n            },\n            data: [{\n                    value: 1048,\n                    name: '尿路上皮癌'\n                },\n                {\n                    value: 735,\n                    name: '原位癌'\n                },\n                {\n                    value: 580,\n                    name: '鳞状细胞癌'\n                },\n                {\n                    value: 484,\n                    name: '腺癌'\n                },\n            ]\n        },\n        {\n            name: '转移',\n            type: 'pie',\n            radius: [60, 100],\n            center: ['14%', '77%'],\n            color: colors[1],\n            label: {\n                show: false,\n                position: 'center'\n            },\n            itemStyle: {\n                borderRadius: 5,\n                borderColor: '#161C27',\n                borderWidth: 2\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    fontSize: '12',\n                    fontWeight: 'bold'\n                }\n            },\n            labelLine: {\n                show: false\n            },\n            data: [{\n                    value: 1048,\n                    name: '骨'\n                },\n                {\n                    value: 1735,\n                    name: '多发'\n                },\n                {\n                    value: 580,\n                    name: '肺'\n                },\n                {\n                    value: 484,\n                    name: '肝'\n                },\n                {\n                    value: 1484,\n                    name: '其他'\n                },\n            ]\n        },\n        {\n            name: '分期',\n            type: 'treemap',\n            roam: false,\n            nodeClick: false,\n            breadcrumb: {\n                show: false\n            },\n            width: '25%',\n            height: '22%',\n            right: '10%',\n            top: '15%',\n            label: {\n                fontSize: 16,\n                textShadowColor: '#000',\n                textShadowBlur: 2,\n\n            },\n            itemStyle: {\n                color: ['#2EE67D'],\n            },\n            levels: [{\n                    itemStyle: {\n                        borderColor: '#fff',\n                        borderWidth: 0,\n                        gapWidth: 0\n                    }\n                },\n                {\n                    colorSaturation: [0.8, 0.5],\n                    itemStyle: {\n                        color: ['#2EE67D'],\n                        gapWidth: 3,\n                        borderWidth: 0,\n                        borderColor: '#161C27'\n                    }\n                }\n            ],\n            data: [{\n                name: '分期',\n                children: [{\n                    name: 'T1',\n                    value: 500\n                }, {\n                    name: 'T2',\n                    value: 200\n                }, {\n                    name: 'T3',\n                    value: 132\n                }, {\n                    name: 'T4',\n                    value: 68\n                }]\n            }]\n        },\n        {\n            name: '治疗方案',\n            type: 'treemap',\n            roam: false,\n            nodeClick: false,\n            breadcrumb: {\n                show: false\n            },\n            width: '25%',\n            height: '22%',\n            right: '10%',\n            top: '65%',\n            label: {\n                fontSize: 16,\n                textShadowColor: '#000',\n                textShadowBlur: 2,\n\n            },\n            itemStyle: {\n                color: ['#FFD54A'],\n            },\n            levels: [{\n                    itemStyle: {\n                        borderColor: '#fff',\n                        borderWidth: 0,\n                        gapWidth: 0\n                    }\n                },\n                {\n                    colorSaturation: [0.8, 0.5],\n                    itemStyle: {\n                        color: ['#FFD54A'],\n                        gapWidth: 3,\n                        borderWidth: 0,\n                        borderColor: '#161C27'\n                    }\n                }\n            ],\n            data: [{\n                name: '治疗方案',\n                children: [{\n                    name: '手术',\n                    value: 500\n                }, {\n                    name: '治疗',\n                    value: 200\n                }, {\n                    name: '放疗',\n                    value: 132\n                }]\n            }]\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"obd-ojGzVRdfrvFQ3IT5jCSeLtd_jXT5EEd","theme":"default","layout":"","viewCount":276,"userName":"V***y","commentCount":0,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xALWAEhAjl.png?v=1611823427383","isCustomThumbnail":1,"builtinTags":["category-work","grid","series-bar","series-pie","series-treemap","title","tooltip"],"customTags":[],"updaterUserName":"V***y"}}