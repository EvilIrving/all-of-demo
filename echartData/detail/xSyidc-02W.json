{"status":0,"data":{"cid":"xSyidc-02W","authorUid":"bd-3877834531","authorUserName":"f102102","title":"可拖动折线图","description":"拖动下面手柄可获得对应的数据，鼠标放到曲线上可获取对应信息","latestVersion":1,"alwaysLatest":1,"createTime":"2017-10-13T09:42:11.000Z","lastUpdateTime":"2017-10-13T09:42:11.000Z","auth":2,"uid":"bd-3877834531","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.7.2","versionCreateTime":"2017-10-13T09:42:11.000Z","code":"var testData = [\n    [\n        [\"x\", \"y\", \"z\"], 53.261555017, 0.0\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 46.5886461681, 2.39046239694\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 43.5878980454, 5.88349383965\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 43.6748358495, 10.1373454323\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 46.2649847811, 14.810268279\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 50.773870041, 19.5605134839\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 56.61701683, 24.0463321512\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 63.2099503486, 27.9259753849\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 69.9681957978, 30.8576942893\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 76.3072783781, 32.4997399685\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 81.6427232903, 32.5103635266\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 85.4605047198, 30.7419560517\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 87.5283927913, 27.8234685677\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 87.684606614, 24.5779920823\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 85.7673652973, 21.8286176034\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 81.6148879504, 20.3984361387\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 75.298878366, 20.8461982248\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 67.82497907, 22.6732925135\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 60.4323172716, 25.1167671852\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 54.3600201801, 27.4136704206\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 50.8472150047, 28.8010504001\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 50.7272784018, 28.7303045371\n    ],\n    [\n        [\"x\", \"y\", \"z\"], 53.2105848166, 27.5102271756\n    ],\n];\n\nvar maxRadius = [];\nvar minRadius = [];\n\n$.each(testData, function(index, val) {\n    //\t\t\t\txAxisData.push(index);\n    var maxlist = [index, val[1]];\n    var minlist = [index, val[2]];\n    maxRadius.push(maxlist);\n    minRadius.push(minlist);\n});\n\noption = {\n    tooltip: {\n        trigger: 'axis',\n        triggerOn: 'none',\n        formatter: function(params) {\n            console.log(params)\n            console.log(params[0].dataIndex)\n            console.log(testData[params[0].dataIndex])\n            return params[0].dataIndex + \"<br/>\" + params[0].seriesName + \":\" + params[0].data[1] + \"<br/>\" + params[1].seriesName + \":\" + params[1].data[1];\n        }\n    },\n    legend: {\n        data: ['maxRadius', 'minRadius'],\n        selected: {\n            maxRadius: true,\n            minRadius: true\n        }\n    },\n    grid: {\n        top: 40,\n        left: 40,\n        right: 20,\n        bottom: 40,\n        containLabel: true\n    },\n    xAxis: {\n        type: 'value',\n        axisPointer: {\n            value: 0,\n            type: 'line',\n            lineStyle: {\n                color: 'red'\n            },\n            handle: {\n                show: true,\n                color: 'red',\n                margin: 16,\n                size: 30\n            },\n            snap: true,\n        },\n        //\t\t\t        data: xAxisData\n    },\n    yAxis: {\n        type: 'value',\n        name: 'mm',\n        min: 0,\n        max: 100\n    },\n    series: [{\n        name: 'maxRadius',\n        type: 'line',\n        data: maxRadius,\n        //\t\t\t            showSymbol:false,\n    }, {\n        name: 'minRadius',\n        type: 'line',\n        data: minRadius,\n        //\t\t\t            showSymbol:false,\n    }, {\n        type: 'line',\n        lineStyle: {\n            normal: {\n                type: 'dashed'\n            }\n        },\n        data: []\n    }]\n};\n\nmyChart.on(\"click\", function(params) {\n    var opt = myChart.getOption();\n    opt.tooltip[0].triggerOn = 'click';\n    myChart.setOption(opt)\n});\n\nmyChart.on(\"mousemove\", function(params) {\n    $(\"#test .Rmodule\").remove();\n    var dataIndex = params.dataIndex;\n    var maxpoint = testData[dataIndex][1];\n    var minpoint = testData[dataIndex][2];\n    var startPoint = [dataIndex, maxpoint];\n    var endPoint = [dataIndex, minpoint];\n    var opt = myChart.getOption();\n    var html = '<div class=\"Rmodule\">maxRadius:' + maxpoint + '<br/>minRadius:' + minpoint + '</div>';\n    $(\"#test\").append(html);\n    $(\"#test .Rmodule\").css({\n        top: params.event.offsetY + 10,\n        left: params.event.offsetX + 10\n    });\n    if (opt.legend[0].selected.minRadius && opt.legend[0].selected.maxRadius) {\n        opt.series[2].data = [];\n        opt.series[2].data.push(startPoint);\n        opt.series[2].data.push(endPoint);\n        myChart.setOption(opt);\n    }\n});\n\nmyChart.on(\"mouseout\", function(params) {\n    var opt = myChart.getOption();\n    opt.series[2].data = [];\n    myChart.setOption(opt);\n    $(\"#test .Rmodule\").remove();\n});","html":"","externalScripts":"","updaterUID":"bd-3877834531","theme":"","layout":"","viewCount":2960,"userName":"f102102","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyidc-02W.png?v=1507887731590","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"f102102"}}