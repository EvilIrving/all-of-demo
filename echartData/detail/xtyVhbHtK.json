{"status":0,"data":{"cid":"xtyVhbHtK","authorUid":"bd-1394971004","authorUserName":"L***_","title":"goldencis-正负值带选区柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-29T01:24:16.000Z","lastUpdateTime":"2020-02-29T01:24:16.000Z","auth":2,"uid":"bd-1394971004","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-29T01:24:16.000Z","code":"// Generate data\r\nvar category = [];\r\nvar dottedBase = +new Date();\r\nvar lineData = [];\r\nvar barData1 = [];\r\nvar barData2 = [];\r\n//更改for循环次数改变数据量\r\nfor (var i = 0; i < 100; i++) {\r\n    var date = new Date(dottedBase += 1000 * 3600 * 24);\r\n    category.push([\r\n        date.getMonth() + 1,\r\n        date.getDate()\r\n    ].join('-') + '\\n' + [\r\n        date.getHours(),\r\n        date.getMinutes()\r\n    ].join(':'));\r\n    var b = Math.floor(Math.random() * (60 + 20 + 1)) + -20;\r\n    if (b < 0) {\r\n        barData1.push(b);\r\n        barData2.push(0)\r\n    } else {\r\n        barData1.push(0);\r\n        barData2.push(b)\r\n    }\r\n}\r\n\r\noption = {\r\n    backgroundColor: \"#18283d\",\r\n    grid: {\r\n        top: 10,\r\n        right: 40,\r\n        left: 60,\r\n        bottom: 50\r\n    },\r\n    dataZoom: [{\r\n        bottom: 0,\r\n        type: 'slider',\r\n        height: '16px',\r\n        show: true,\r\n        zoomLock: true,\r\n        start: 60,\r\n        end: 100,\r\n        backgroundColor: 'rgba(24,42,64)',\r\n        borderColor: 'rgba(0,0,0,0)',\r\n        handleIcon: 'image:///asset-hub/images/1.png',\r\n        handleStyle: {\r\n            borderWidth: 0,\r\n        },\r\n        textStyle: {\r\n            color: 'rgba(0,0,0,0)',\r\n            height: '10px'\r\n        },\r\n        fillerColor: 'rgba(119,212,245,0.4)',\r\n        dataBackground: {\r\n            // 填充阴影\r\n            areaStyle: {\r\n                color: 'rgba(0,0,0,0)'\r\n            },\r\n            // 填充线条\r\n            lineStyle: {\r\n                color: 'rgba(0,0,0,0)'\r\n            }\r\n        }\r\n    }],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow',\r\n            shadowStyle: {\r\n                color: 'rgba(119,212,245,0.1)'\r\n            },\r\n        },\r\n        formatter: function(params, ticket, callback) {\r\n            var htmlStr = '';\r\n            for (var i = 0; i < params.length; i++) {\r\n                var param = params[i];\r\n                var xName = param.name; //x轴的名称\r\n                var seriesName = param.seriesName; //图例名称\r\n                var value = param.value; //y轴值\r\n                var color = param.color; //图例颜色\r\n                if (i === 0) {\r\n                    htmlStr += \"时间：\" + xName + '<br/>'; //x轴的名称\r\n                }\r\n                htmlStr += '<div>';\r\n\r\n                // 具体显示的数据【字段名称：seriesName，值：value】\r\n                // 这里判断一下name，如果是我们需要特殊处理的，就处理\r\n                // 正常显示的数据，走默认\r\n                if (value !== 0) {\r\n                    htmlStr += '<span style=\"margin-right:5px;display:inline-block;width:10px;height:10px;border-radius:5px;background-color:' + color + ';\"></span>';\r\n                    htmlStr += seriesName + '：' + value + '℃';\r\n                }\r\n                htmlStr += '</div>';\r\n            }\r\n            return htmlStr;\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        data: category,\r\n        axisTick: {\r\n            alignWithLabel: true\r\n        },\r\n\r\n        splitLine: {\r\n            show: false,\r\n\r\n        },\r\n        axisLabel: {\r\n            //fontWeight:10,\r\n            //interval:2,\r\n            fontsize: 2,\r\n            align: 'center',\r\n            color: 'rgba(200,231,242,1)'\r\n        }\r\n    },\r\n    yAxis: [{\r\n        type: 'value',\r\n        maxInterval: 10,\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: 'rgba(119,212,245,0.2)'\r\n            }\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            fontWeight: 10,\r\n            fontsize: 5,\r\n            color: 'rgba(200,231,242,0.6)',\r\n            formatter: '{value}℃'\r\n        },\r\n        max: 60\r\n\r\n    }],\r\n    series: [{\r\n        name: '温度',\r\n        type: 'bar',\r\n        stack: '℃',\r\n        barMinWidth: 10,\r\n        barCategoryGap: '10%',\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: 50,\r\n                color: \"rgba(119,212,245,1)\"\r\n            }\r\n        },\r\n        data: barData1\r\n    }, {\r\n        name: '温度',\r\n        type: 'bar',\r\n        stack: '℃',\r\n        barWidth: 10,\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: 50,\r\n                color: \"rgba(245,166,35,1)\"\r\n            }\r\n        },\r\n        data: barData2,\r\n\r\n        markLine: {\r\n            symbol: 'none',\r\n            silent: true,\r\n\r\n            data: [{\r\n                name: 'Y 轴值为 40 的水平线',\r\n                yAxis: 40,\r\n\r\n            }, {\r\n                name: 'Y 轴值为 0 的水平线',\r\n                yAxis: 0,\r\n\r\n            }],\r\n            lineStyle: {\r\n                color: \"rgba(119,212,245,1)\",\r\n                width: 1\r\n            }\r\n\r\n        },\r\n        markArea: {\r\n            zlevel: 100,\r\n            silent: true,\r\n            data: [\r\n                [{\r\n                        yAxis: 0,\r\n\r\n\r\n                    },\r\n                    {\r\n                        yAxis: 40\r\n                    }\r\n                ],\r\n            ],\r\n            itemStyle: {\r\n                color: \"rgba(119,212,245,0.3)\",\r\n                borderColor: \"rgba(119,212,245,1)\",\r\n                borderType: \"dashed\"\r\n            }\r\n        },\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-1394971004","theme":"","layout":"","viewCount":292,"userName":"L***_","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xtyVhbHtK.png?v=1582939456692","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markArea","markLine","series-bar","tooltip"],"customTags":[],"updaterUserName":"L***_"}}