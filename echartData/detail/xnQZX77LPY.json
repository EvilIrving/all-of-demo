{"status":0,"data":{"cid":"xnQZX77LPY","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"pie ","description":"lable 背景图","latestVersion":2,"alwaysLatest":0,"createTime":"2021-04-27T08:28:20.000Z","lastUpdateTime":"2021-04-27T08:28:20.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.1","versionCreateTime":"2021-04-27T08:29:32.000Z","code":"let dataPie = [\n    {\n        value: 2,\n        name: '一级告警',\n    },\n    {\n        value: 3,\n        name: '二级告警',\n    },\n    {\n        value: 5,\n        name: '三级告警',\n    },\n];\nlet colorWrap = ['#b60606', '#002e49', '#173852'];\nlet colorPie = ['#b60606', '#ff7723', '#ffea5b'];\nlet colorPie2 = ['#680a10', '#884620', '#89823d'];\nlet baseDataPie = [],\n    baseDataPie2 = [],\n    legendData = [];\nfor (var i = 0; i < dataPie.length; i++) {\n    legendData.push(dataPie[i].name);\n    baseDataPie.push(\n        {\n            value: dataPie[i].value,\n            name: dataPie[i].name,\n            itemStyle: {\n                normal: {\n                    color: colorPie[i],\n                    borderWidth: 10,\n                    borderColor: colorPie[i],\n                },\n            },\n            labelLine: {\n                show: false,\n                length: 50,\n            },\n            label: {\n                show: true,\n                formatter: function (params) {\n                    // console.log(params);\n                    let arr = '';\n                    if (params.name == '一级告警') {\n                        arr = '{one|' + params.data.name + '}' + '\\n' + params.data.value;\n                    } else if (params.name == '二级告警') {\n                        arr = '{two|' + params.data.name + '}' + '\\n' + params.data.value;\n                    } else if (params.name == '三级告警') {\n                        arr = '{three|' + params.data.name + '}' + '\\n' + params.data.value;\n                    }\n\n                    return arr;\n                },\n                lineHeight: 20,\n                color: '#fff',\n                fontStyle: 'Microsoft YaHei',\n                rich: {\n                    one: {\n                        color: '#ee2a2a',\n                        backgroundColor: {\n                            image: 'https://i.loli.net/2021/04/26/kK1LJtmiPwETMjQ.png',\n                        },\n                        padding: [5, 0, 0, 0],\n                        width: 50,\n                        height: 30,\n                    },\n                    two: {\n                        color: '#ff7723',\n                        backgroundColor: {\n                            image: 'https://i.loli.net/2021/04/26/Q3NEwol6cVXAjbY.png',\n                        },\n                        padding: [5, 0, 0, 0],\n                        width: 50,\n                        height: 30,\n                    },\n                    three: {\n                        color: '#ffea5b',\n                        backgroundColor: {\n                            image: 'https://i.loli.net/2021/04/26/hXSmvBbN2F3sVk1.png',\n                        },\n                        padding: [5, 0, 0, 0],\n                        width: 50,\n                        height: 30,\n                    },\n                },\n            },\n        },\n        {\n            value: 0.3,\n            name: '留白',\n            itemStyle: {\n                normal: {\n                    color: 'transparent',\n                    borderWidth: 10,\n                    borderColor: 'transparent',\n                },\n            },\n            label: {\n                show: false,\n            },\n        }\n    );\n    baseDataPie2.push(\n        {\n            value: dataPie[i].value,\n            name: dataPie[i].name + '内框',\n            itemStyle: {\n                normal: {\n                    color: colorPie2[i],\n                    borderWidth: 10,\n                    borderColor: colorPie2[i],\n                },\n            },\n        },\n        {\n            value: 0.3,\n            name: '留白',\n            itemStyle: {\n                normal: {\n                    color: 'transparent',\n                    borderWidth: 10,\n                    borderColor: 'transparent',\n                },\n            },\n        }\n    );\n}\n\noption = {\n    backgroundColor: '#021228',\n    graphic: {\n        elements: [\n            {\n                type: 'image',\n                style: {\n                    image: 'https://i.loli.net/2021/04/26/eN8npPuLZ2dcfCy.png',\n                    width: 24,\n                    height: 24,\n                },\n                left: 'center',\n                top: 'center',\n            },\n        ],\n    },\n    tooltip: {\n        show: true,\n        trigger: 'item',\n        formatter: '{a}：{b} <br/>占比：{d}%',\n    },\n\n    grid: {\n        left: '1%', // 与容器左侧的距离\n        right: '1%', // 与容器右侧的距离\n        top: '1%', // 与容器顶部的距离\n        bottom: '1%', // 与容器底部的距离\n    },\n    series: [\n        {\n            name: '外框',\n            type: 'pie',\n            clockWise: false,\n            hoverAnimation: false,\n            center: ['50%', '50%'],\n            radius: ['55%', '59%'],\n            tooltip: {\n                show: false,\n            },\n            label: {\n                show: false,\n            },\n            color: {\n                type: 'linear',\n                x: 0,\n                y: 0,\n                x2: 1,\n                y2: 1,\n                colorStops: [\n                    {\n                        offset: 0,\n                        color: '#762536', // 0% 处的颜色\n                    },\n                    {\n                        offset: 0.5,\n                        color: '#47372e', // 100% 处的颜色\n                    },\n                    {\n                        offset: 1,\n                        color: 'transparent', // 100% 处的颜色\n                    },\n                ],\n                global: false, // 缺省为 false\n            },\n            data: [{ name: '外框', value: 10 }],\n        },\n        {\n            name: '告警',\n            type: 'pie',\n            clockWise: false, //顺时加载\n            hoverAnimation: false, //鼠标移入变大\n            center: ['50%', '50%'],\n            radius: ['46%', '49%'],\n            tooltip: {\n                show: false,\n            },\n\n            data: baseDataPie,\n        },\n        {\n            name: '',\n            type: 'pie',\n            clockWise: false, //顺时加载\n            hoverAnimation: false, //鼠标移入变大\n            center: ['50%', '50%'],\n            radius: ['43%', '46%'],\n            tooltip: {\n                show: false,\n            },\n            label: {\n                show: false,\n            },\n            data: baseDataPie2,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":0,"userName":"绿***绿","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnQZX77LPY.png?v=1619512172304","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"绿***绿"}}