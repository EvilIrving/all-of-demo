{"status":0,"data":{"cid":"xKnUa-WxVW","authorUid":"bd-1895925720","authorUserName":"心***阔","title":"气泡图测试_自动轮播","description":"每个气泡自动轮播并显示tooltip","latestVersion":1,"alwaysLatest":1,"createTime":"2018-11-02T07:25:48.000Z","lastUpdateTime":"2018-11-02T07:25:48.000Z","auth":1,"uid":"bd-1895925720","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-02T07:25:48.000Z","code":"function tooltipCharts() {\n\tconsole.log(arguments[0]);\n\tvar myChart = echarts.init(document.getElementById('tooltipBarId'));\n\tvar option = {\n\t\ttooltip: {},\n\t\tdataset: {\n\t\t\tsource: [\n\t\t\t\t['xAxis', '201701', '201702', '201703', '201704', '201705', '201706', '201707', '201708', '201709', '20170', '201710', '20170', '201801'],\n\t\t\t\t['amount', 41.1, 30.4, 65.1, 53.3, 83.8, 98.7, 65.1, 53.3, 41.1, 30.4, 53.3, 41.1, 53.3, 83.8]\n\t\t\t]\n\t\t},\n\t\txAxis: { type: 'category', interval: true, axisLabel: { rotate: 45 }, axisTick: { show: false } },\n\t\tyAxis: {}, color: ['#4FA8F9', '#F5A623'],\n\t\tgrid: { show: true, backgroundColor: '#FAFAFA', left: 30, right: 20, top: 20 },\n\t\tseries: [\n\t\t\t{ type: 'bar', smooth: true, seriesLayoutBy: 'row', barWidth: 10 }\n\t\t]\n\t};\n\tmyChart.setOption(option);\n}\n\noption = {\n    title: {\n        text: '气泡图测试',\n        right:'center',\n        top:'1%'\n    },\n    legend: {\n        right: 10,\n        data: ['1990', '2015']\n    },\n    tooltip: {\n\t\t\talwaysShowContent: true,\n\t\t\t//position: ['50%', '50%'],\n\t\t\t//triggerOn: 'none',\n\t\t\t//trigger: 'item',\n\t\t\t//confine:true,\t//设置tooltip在图形区域内\n\t\t\tpadding: 0,\n\t\t\tenterable: true,\n\t\t\ttransitionDuration: 1,\n\t\t\ttextStyle: {\n\t\t\t\tcolor: '#000',\n\t\t\t\tdecoration: 'none',\n\t\t\t},\n\t\t\tposition: function (point, params, dom, rect, size) {\n\t\t\t\treturn [point[0], point[1]];\n\t\t\t},\n\t\t\tformatter: function (params) {\n\t\t\t\t console.log(params.name)\n\t\t\t\tvar tipHtml = '';\n\t\t\t\ttipHtml = '<div style=\"height:360px;width:400px;border-radius:5px;background:#fff;box-shadow:0 0 10px 5px #aaa\">' +\n\t\t\t\t\t'    <div style=\"height:50px;width:100%;border-radius:5px;background:#F8F9F9;border-bottom:1px solid #F0F0F0\">' +\n\t\t\t\t\t'        <span style=\"line-height:50px;margin-left:18px\">' + params.name + '</span>' +\n\t\t\t\t\t'        <span style=\"float:right;line-height:50px;margin-right:18px;color:#5396E3;cursor:pointer\" onclick=\"mapTooltipClick(this);\">点击查看详情</span>' +\n\t\t\t\t\t'    </div>' +\n\t\t\t\t\t'    <div style=\"height:110px;width:100%;background:#fff\">' +\n\t\t\t\t\t'        <div style=\"padding-left:18px;padding-top:22px\">' +\n\t\t\t\t\t'            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:rgba(92,169,235,1)\"></span> ' +\n\t\t\t\t\t'            <span>上传表格数量</span>' +\n\t\t\t\t\t'            <span style=\"float:right;margin-right:18px\">' + params.data[0] + '</span>' +\n\t\t\t\t\t'        </div>' +\n\t\t\t\t\t'        <div style=\"padding-left:18px;padding-top:14px\">' +\n\t\t\t\t\t'            <span style=\"display:inline-block;margin-right:5px;width:10px;height:10px;background-color:rgba(92,169,235,1)\"></span> ' +\n\t\t\t\t\t'            <span>上传数据条数</span>' +\n\t\t\t\t\t'            <span style=\"float:right;margin-right:18px\">' + params.data[1] + '</span>' +\n\t\t\t\t\t'        </div>' +\n\t\t\t\t\t'    </div>' +\n\t\t\t\t\t'    <div id=\"tooltipBarId\" style=\"height:200px;width:100%;border-radius:0 0 5px 0;background:#fff\"></div>' +\n\t\t\t\t\t'</div>';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\ttooltipCharts(params.name);\n\t\t\t\t}, 10);\n\t\t\t\treturn tipHtml;\n\t\t\t}\n\t\t},\n    xAxis: {\n        data: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n        /*splitLine: {\n            lineStyle: {\n                type: 'dashed'\n            }\n        }*/\n    },\n    yAxis: {},\n    series: [{\n        type: 'scatter',\n        name:'1990',\n        symbol: 'circle',//'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow'\n        symbolSize: function (data) {\n            return Math.sqrt(data[1]) * 2;\n        },\n        label: {\n            emphasis: {\n                show: true,\n                formatter: function (param) {\n                    return param.data[2];\n                },\n                position: 'top'\n            }\n        },\n        data:[\n            ['Sun',50],\n            ['Mon',210],\n            ['Tue',90],\n            ['Wed',234],\n            ['Thu',100],\n            ['Fri',330],\n            ['Sat',400]\n        ],\n        animationDelay: function(idx) { //延迟展现效果\n            return idx * 2000;\n        },\n        progressive: 3000\n    }],\n    animationDelayUpdate: function(idx) {\n        return idx * 1500;\n    }\n};\n\nmyChart.setOption(option);\n    \n    var data = [['Sun', 50],\n\t\t['Mon', 210],\n\t\t['Tue', 90],\n\t\t['Wed', 234],\n\t\t['Thu', 100],\n\t\t['Fri', 330],\n\t\t['Sat', 400]\n\t];\n    var count = 0;\n\tvar dataLength = data.length;\n\tvar dataIndex_ = (count) % dataLength;\n\tvar timeTicket = null;\n\ttimeTicket && clearInterval(timeTicket);\n\ttimeTicket = setInterval(function () {\n\t\tmyChart.dispatchAction({\n\t\t\ttype: 'downplay',\n\t\t\tseriesIndex: 0,\n\t\t});\n\t\tmyChart.dispatchAction({\n\t\t\ttype: 'highlight',\n\t\t\tseriesIndex: 0,\n\t\t\tdataIndex: (count) % dataLength\n\t\t});\n\t\tmyChart.dispatchAction({\n\t\t\ttype: 'showTip',\n\t\t\tseriesIndex: 0,\n\t\t\tdataIndex: (count) % dataLength\n\t\t});\n\t\t\n\t\tcount++;\n\t}, 2000);","html":"","externalScripts":"","updaterUID":"bd-1895925720","theme":"","layout":"","viewCount":256,"userName":"心***阔","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKnUa-WxVW.png?v=1541143548790","isCustomThumbnail":1,"builtinTags":["category-work","grid","legend","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"心***阔"}}