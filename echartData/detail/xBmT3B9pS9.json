{"status":0,"data":{"cid":"xBmT3B9pS9","authorUid":"obd-o2cTMraUdFE2heJWXypMCrKpGo8Ro6N","authorUserName":"惟***殇","title":"legend 增加占比","description":"增加对应城市占比","latestVersion":2,"alwaysLatest":1,"createTime":"2020-09-17T03:15:20.000Z","lastUpdateTime":"2020-09-17T03:15:20.000Z","auth":1,"uid":"obd-o2cTMraUdFE2heJWXypMCrKpGo8Ro6N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-25T09:57:25.000Z","code":"const colorList = ['#6055d8', '#976ced', '#e3b380']\nlet data = [{\n        name: '深睡比例',\n        value: 19,\n        label: '偏低',\n        status: 'low'\n    },\n    {\n        name: '浅睡比例',\n        value: 80,\n        label: '正常',\n        status: 'normal'\n    },\n    {\n        name: '清醒比例',\n        value: 1,\n        label: '正常',\n        status: 'normal'\n\n\n    },\n]\noption = {\n    tooltip: {\n        trigger: 'item',\n    },\n    legend: {\n        orient: 'vertical',\n        right: '10%',\n        top: 'center',\n        itemGap: 10,\n        itemHeight: 8,\n        itemWidth: 8,\n        icon: 'rect',\n        textStyle: {\n            color: 'transformable',\n            rich: {\n                'name': {\n                    color: '#777',\n                    fontSize: 14\n                },\n                'percent': {\n                    color: '#777',\n                    fontSize: 16,\n                    fontWeight: 'bold'\n\n                },\n                'normal': {\n                    color: '#60dd94',\n                    borderColor: '#60dd94',\n                    borderRadius: 2,\n                    borderWidth: 1,\n                    width: 30,\n                    height: 18,\n                    align: 'center',\n                    verticalAlign: 'middle'\n                },\n                'low': {\n                    color: '#f16866',\n                    borderColor: '#f16866',\n                    borderRadius: 2,\n                    borderWidth: 1,\n                    width: 30,\n                    height: 18,\n                    align: 'center',\n                    verticalAlign: 'middle'\n                }\n\n            }\n        },\n        formatter: function(name) {\n            console.log(name)\n            // 获取legend显示内容\n            let total = 0;\n            let tarValue = 0;\n            let item = ''\n            for (let i = 0, l = data.length; i < l; i++) {\n                total += data[i].value;\n                if (data[i].name == name) {\n                    tarValue = data[i].value;\n                    item = data[i]\n                }\n            }\n            let p = (tarValue / total * 100).toFixed(2);\n            return '{name|' + name + '}{percent|' + ' ' + p + '%} {'+item.status+'|' + item.label + '}';\n        },\n\n    },\n    color: colorList,\n    series: [{\n        type: 'pie',\n        radius: [0, '70%'],\n        center: ['30%', '50%'],\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        },\n        data: data,\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-2083624178","theme":"","layout":"","viewCount":91,"userName":"惟***殇","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBmT3B9pS9.png?v=1601027845327","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"霸***7"}}