{"status":0,"data":{"cid":"xR9-8_6ljp","authorUid":"bd-2218016047","authorUserName":"洛***夫","title":"饼柱结合","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-21T09:05:06.000Z","lastUpdateTime":"2021-08-21T09:05:06.000Z","auth":2,"uid":"bd-2218016047","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-21T09:05:06.000Z","code":"//  数据配置\nconst source = [\n    ['出入口', '入场', '离场', '黑名单车辆'],\n    ['A14', 416,293, 716], \n    ['A13', 315,173, 412], \n    ['A12', 292,84, 353], \n    ['A11', 183,63, 234],\n    ['A10', 252,94, 253], \n    ['A09', 316,26, 484], \n    ['A08', 245,93, 327], \n    ['A07', 184,78, 284], \n    ['A06', 152,263, 495], \n    ['A05', 261,93, 317],\n    ['A04', 135,129, 295], \n    ['A03', 252,146, 359], \n    ['A02', 231,98, 318], \n    ['A01', 338, 63, 438],\n];\nconst colorArr = ['#49CCFFee', '#20D3ABee', '#FDD56Aee'];\nconst colorAlpha = ['#49CCFF88', '#20D3AB88', '#FDD56A88'];\nconst title = '合计';\nconst piedata = [{\n        name: '入场',\n        value: 1834,\n        itemStyle: {\n            normal: {\n                borderWidth: 5,\n                shadowBlur: 20,\n                borderColor: colorAlpha[0],\n                shadowColor: colorArr[0],\n                color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                    offset: 0,\n                    color: colorArr[0],\n                },\n                {\n                    offset: 1,\n                    color: colorAlpha[0],\n                },\n            ])\n            }\n        }\n    },\n    {\n        name: '离场',\n        value: 325,\n        itemStyle: {\n            normal: {\n                borderWidth: 5,\n                shadowBlur: 20,\n                borderColor: colorAlpha[1],\n                shadowColor: colorArr[1],\n                color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                    offset: 0,\n                    color: colorArr[1],\n                },\n                {\n                    offset: 1,\n                    color: colorAlpha[1],\n                },\n            ])\n            }\n        }\n    },\n    // {\n    //     name: '黑名单车辆',\n    //     value: 123,\n    //     itemStyle: {\n    //         normal: {\n    //             borderWidth: 5,\n    //             shadowBlur: 20,\n    //             borderColor: colorAlpha[2],\n    //             shadowColor: colorArr[2],\n    //             color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n    //             {\n    //                 offset: 0,\n    //                 color: colorArr[2],\n    //             },\n    //             {\n    //                 offset: 1,\n    //                 color: colorAlpha[2],\n    //             },\n    //         ])\n    //         }\n    //     }\n    // }\n];\nmyChart.resize({\n    height: 320,\n    width: 1112\n})\n\n// 图表配置\n\noption = {\n    // backgroundColor: '#fff',\n    dataset: {\n        source: source\n    },\n  dataZoom: [{\n        type: 'slider',\n        yAxisIndex: 0,\n        left: '700',\n        top: '100',\n        zoomLock: true,\n        width: 10,\n        height: 150,\n        handleSize: 0,\n        showDetail: false,\n        start: 100,\n        end: 70,\n    }, {\n        type: 'inside',\n        id: 'insideY',\n        yAxisIndex: 0,\n        start: 0,\n        end: 30,\n        zoomOnMouseWheel: false,\n        moveOnMouseMove: true,\n        moveOnMouseWheel: true\n    }],\n    grid: {\n        left: 350,\n        right: 440,\n        top: 95,\n        bottom: 70\n    },\n    title: [{\n        text: title,\n        subtext: '1350',\n        left: '155',\n        top: '150', \n        subtextStyle: { \n                    fontSize: 14,\n                    fontWeight: 'normal',\n                    color: '#fff',\n                    padding: [10, 0] \n            } , \n        textStyle: { \n                    fontSize: 18,\n                    fontWeight: 'bolder',\n                    color: '#fff',\n                    padding: [10, 0] \n            } \n    }],\n    tooltip: {\n        show: false,\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross'\n        }, \n        padding:16, \n    },\n    legend: {\n        show: true,\n        left: 293,\n        top: 45,\n        itemWidth: 12,\n        itemHeight: 12,\n        textStyle: {\n            color:'#fff',\n                    fontWeight: 'bolder',\n        },\n    }, \n    color: colorArr,\n    yAxis: {\n        type: 'category',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel:{\n            color:'#fff',\n                    fontWeight: 'bolder',\n        },\n    },\n    xAxis: {\n        type: 'value',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        splitNumber:3,\n        axisLabel:{\n            color:'#fff',\n                    fontWeight: 'bolder',\n        },\n        splitLine:{\n            lineStyle:{\n                type:'dashed'\n            }\n        }\n    },\n    series: [{\n            type: 'bar',\n            name:source[0][1],\n            barWidth:20,\n            stack:true,\n            encode: {\n                y: 0,\n                x: 1\n            },\n            itemStyle: {\n                normal: {\n                    borderWidth: 2,\n                    shadowBlur: 20,\n                    borderColor: colorAlpha[0],\n                    shadowColor: colorArr[0],\n                    color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                        {\n                            offset: 0,\n                            color: colorArr[0],\n                        },\n                        {\n                            offset: 1,\n                            color: colorAlpha[0],\n                        },\n                    ])\n                }\n            },\n            label: {\n                normal: {\n                    show: true, \n                    color:'#fff',\n                    fontWeight: 'bolder',\n                },\n            },\n        },{\n            type: 'bar',\n            name:source[0][2],\n            barWidth:20,\n            stack:true,\n            encode: {\n                y: 0,\n                x: 2\n            },\n            itemStyle: {\n                normal: {\n                    borderWidth: 2,\n                    shadowBlur: 20,\n                    borderColor: colorAlpha[1],\n                    shadowColor: colorArr[1],\n                    color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                        {\n                            offset: 0,\n                            color: colorArr[1],\n                        },\n                        {\n                            offset: 1,\n                            color: colorAlpha[1],\n                        },\n                    ])\n                }\n            },\n            label: {\n                normal: {\n                    show: true, \n                    color:'#fff',\n                    fontWeight: 'bolder',\n                },\n            },\n        },\n        // {\n        //     type: 'bar',\n        //     name:source[0][3],\n        //     barWidth:20,\n        //     stack:true,\n        //     encode: {\n        //         y: 0,\n        //         x: 3\n        //     },\n        //     itemStyle: {\n        //         normal: {\n        //             borderWidth: 2,\n        //             shadowBlur: 20,\n        //             borderColor: colorAlpha[2],\n        //             shadowColor: colorArr[2],\n        //             color:  new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n        //                 {\n        //                     offset: 0,\n        //                     color: colorArr[2],\n        //                 },\n        //                 {\n        //                     offset: 1,\n        //                     color: colorAlpha[2],\n        //                 },\n        //             ])\n        //         }\n        //     },\n        //     label: {\n        //         normal: {\n        //             show: true, \n        //             color:'#fff',\n        //             fontWeight: 'bolder',\n        //         },\n        //     },\n        // },\n        { \n            type: 'pie',\n            z: 100,\n            radius: ['30%', '50%'],\n            center: [180, '55%'],\n            data: piedata, \n            tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>{b} : {c}\"\n            },\n            label: {\n                show: true,\n                fontSize: 12,\n                formatter: \"{b}\\n{c}辆\",\n                    fontWeight: 'bolder',\n                color:'#fff'\n            },\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-2218016047","theme":"dark","layout":"","viewCount":0,"userName":"洛***夫","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xR9-8_6ljp.png?v=1629536707083","isCustomThumbnail":0,"builtinTags":["category-work","dataset","dataZoom","grid","legend","series-bar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"洛***夫"}}