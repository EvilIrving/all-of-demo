{"status":0,"data":{"cid":"xqp93FQhx3","authorUid":"bd-2307958024","authorUserName":"小***啊","title":"折线图和graphic图表结合","description":"折线图和graphic图表结合，在一张图上同时看趋势和表格数据","latestVersion":2,"alwaysLatest":1,"createTime":"2020-08-28T05:54:21.000Z","lastUpdateTime":"2020-08-28T05:54:21.000Z","auth":2,"uid":"bd-2307958024","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-28T05:54:52.000Z","code":"var timeList =[\"07-29\", \"07-30\", \"07-31\", \"08-01\", \"08-02\", \"08-03\", \"08-04\", \"08-05\", \"08-06\", \"08-07\", \"08-08\", \"08-09\", \"08-10\", \"08-11\", \"08-12\", \"08-13\", \"08-14\", \"08-15\", \"08-16\", \"08-17\", \"08-18\", \"08-19\", \"08-20\", \"08-21\", \"08-22\", \"08-23\", \"08-24\", \"08-25\", \"08-26\", \"08-27\"],\r\n    data1 =[245.6, 238, 229.2, 247.1, 280.8, 273.5, 263.8, 251.7, 268.8, 273.2, 276.1, 259.4, 257.7, 247.6, 249.1, 247.7, 251.6, 248.5, 247.3, 239.2, 233.1, 235.4, 234, 231.3, 228.2, 228.4, 254.5, 271.5, 269.6, 262.2],\r\n    data2=[234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9, 234.9],\r\n    data3=[387.1, 390.8, 393.2, 346.3, 357.8, 358.2, 372.4, 376.2, 380.4, 384.3, 386.4, 383.4, 375.6, 380.4, 377.5, 381.1, 383.8, 384.9, 390.6, 390, 390, 382.4, 375.9, 384.8, 393, 395, 391.4, 404.8, 412.1, 389.6];\r\nvar lineList = getTableLine(4);\r\noption = {\r\n    backgroundColor:'#fff',\r\n    title: {\r\n        textStyle:{\r\n            color:'#333',\r\n            fontSize:'14',\r\n            lineHeight: 24,\r\n            formatter: function(value) {\r\n                return '{table|' + value + '}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    align: 'center'\r\n                }\r\n            }\r\n        },\r\n        text:'item1\\nitem2\\nitem3',\r\n        bottom: 120, //控制表格Y轴方向\r\n        left: 25\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis'\r\n    },\r\n    legend: {\r\n        data: ['item1', 'item2', 'item3'],\r\n        padding:[5,10],\r\n        top:'5%'\r\n    },\r\n    grid: {\r\n        top:'15%',\r\n        left: '5%',\r\n        right: '4%',\r\n        bottom: '20%',\r\n        containLabel: true\r\n    },\r\n    dataZoom: [{\r\n        show: true,\r\n        realtime: true,\r\n        bottom: 50,\r\n        start: 20,\r\n        end: 80\r\n    },\r\n        {\r\n            type: 'inside',\r\n            realtime: true,\r\n            bottom: 50,\r\n            start: 20, // dataZoom百分比\r\n            end: 100\r\n        }\r\n    ],\r\n    toolbox: {\r\n        feature: {\r\n            saveAsImage: {}\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data:timeList ,\r\n        axisTick: {\r\n            length: 104//竖线的长度\r\n        },\r\n        axisLabel: {\r\n            formatter: function(value, index) {\r\n                var indexNum = 0;\r\n                for(var i = 0; i < timeList.length; i++){\r\n                    if(value == timeList[i]){\r\n                        indexNum = i;\r\n                    }\r\n                }\r\n                return '{table|' + value +\r\n                    '}\\n{table|' + data1[indexNum] +\r\n                    '}\\n{table|' + data2[indexNum] +\r\n                    '}\\n{table|' + data3[indexNum] +'}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    lineHeight: 24,\r\n                    align: 'center'\r\n                }\r\n            }\r\n        }\r\n    },\r\n    yAxis: {\r\n        name:'(吨)',\r\n        type: 'value'\r\n    },\r\n    series: [\r\n        {\r\n            name: 'item1',\r\n            type: 'line',\r\n            data: data1\r\n        },\r\n        {\r\n            name: 'item2',\r\n            type: 'line',\r\n            data: data2\r\n        },\r\n        {\r\n            name: 'item3',\r\n            type: 'line',\r\n            data: data3\r\n        }\r\n    ],\r\n    graphic: lineList\r\n}\r\n\r\n  function getTableLine(num) {\r\n        var list = [];\r\n        var bottom = 195; //控制线的位置\r\n        var height = 24;\r\n        for (var i = 0; i < num; i++) {\r\n            list.push({\r\n                type: 'line',\r\n                bottom: bottom - i * height,\r\n                // right: 200,\r\n                left:30,\r\n                style: {\r\n                    fill: '#333'\r\n                },\r\n                shape: {\r\n                    x1: 0,\r\n                    y1: 0,\r\n                    x2: 1503,\r\n                    y2: 0\r\n                }\r\n\r\n            });\r\n        }\r\n        return list;\r\n    }\r\n                   ","html":"","externalScripts":"","updaterUID":"bd-2307958024","theme":"","layout":"","viewCount":230,"userName":"小***啊","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqp93FQhx3.png?v=1598594061994","isCustomThumbnail":1,"builtinTags":["category-work","dataZoom","graphic","grid","legend","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"小***啊"}}