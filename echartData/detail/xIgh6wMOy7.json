{"status":0,"data":{"cid":"xIgh6wMOy7","authorUid":"obd-o-WSxtW8i10muVN-fGvypxP_ZFl9SAL","authorUserName":"j***g","title":"动态时序","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-06-28T10:21:46.000Z","lastUpdateTime":"2020-06-28T10:21:46.000Z","auth":2,"uid":"obd-o-WSxtW8i10muVN-fGvypxP_ZFl9SAL","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-28T10:25:04.000Z","code":" var data_in = [\n            918.32,\n            902.51,\n            900.41,\n            873.43,\n            885.39,\n            897.63,\n            892.44,\n            879.04,\n            850.83,\n            848.52,\n            844.87,\n            834.54,\n            832.48,\n            815.48,\n            811.23,\n            821.20,\n            805.10,\n            794.49,\n            801.23,\n            788.80,\n            769.70,\n            789.80,\n            763.46,\n            758.57,\n            773.49,\n            764.45,\n            739.66,\n            757.55,\n            731.12,\n            724.06,\n            732.70,\n            723.80,\n            714.91,\n            723.46,\n            705.10,\n            708.90,\n            723.75,\n            703.06,\n            684.51,\n            692.63,\n            683.14,\n            671.95,\n            691.97,\n            684.04,\n            667.59,\n            688.56,\n            659.01,\n            652.39,\n            670.98,\n            638.10,\n            655.85,\n            627.21,\n            648.82,\n            631.68,\n            614.94,\n            642.69,\n            626.22,\n            613.44,\n            641.15,\n            613.90,\n            601.39,\n            623.22,\n            602.94,\n            589.90,\n            612.01,\n            590.85,\n            591.51,\n            585.67,\n            559.47,\n            557.43,\n            518.20,\n            504.63,\n            506.67,\n            512.66,\n            440.93,\n            614.94,\n            642.69,\n            626.22,\n            613.44,\n            641.15,\n            613.90,\n            601.39,\n            623.22,\n            602.94,\n            598.28,\n            593.18,\n            625.85,\n            625.43,\n            611.52,\n            660.33,\n            669.41,\n            707.86,\n            729.56,\n            728.72,\n            770.35,\n            800.78,\n            791.52,\n            797.62,\n            808.94,\n            625.43,\n            611.52,\n            660.33,\n            669.41,\n            707.86,\n            729.56,\n            728.72,\n            770.35,\n            800.78,\n            676.64,\n            598.28,\n            593.18,\n            625.85,\n            625.43,\n            611.52,\n            660.33,\n            669.41,\n            707.86,\n            729.56,\n            728.72,\n            770.35,\n            800.78,\n            791.52,\n            797.62,\n            808.94,\n            817.76,\n            797.77,\n            806.65,\n            763.81,\n            771.01,\n            796.27,\n            777.58,\n            776.37,\n            821.18,\n            814.54,\n            832.37,\n            853.91,\n            870.55,\n            861.75,\n            888.66,\n            888.60,\n            910.95,\n            934.58,\n            920.79,\n            923.61,\n            921.88,\n            1096.03,\n            1041.94,\n            951.67,\n            932.29,\n            935.73,\n            941.29,\n            944.34,\n            965.24,\n            928.95,\n            943.34,\n            968.91,\n            977.17,\n            941.77,\n            964.47,\n            964.86,\n            926.30,\n            929.23,\n            934.07,\n            974.39,\n            977.48,\n            953.90,\n            929.79,\n            948.32,\n            943.09,\n            933.89,\n            948.30,\n            934.66,\n            936.59,\n            958.61,\n            930.23,\n            927.04,\n            966.15,\n            923.08,\n            887.60,\n            924.59,\n            909.70,\n            889.48,\n            892.51,\n            906.88,\n            907.99,\n            927.54,\n            902.11,\n            902.41,\n            940.20,\n            937.34,\n            952.79,\n            952.53,\n            944.37,\n            952.09,\n            924.20,\n            924.65,\n            939.26,\n            967.97,\n            988.18,\n            1017.07,\n            1007.07,\n            1014.48,\n            1016.72,\n            1007.58,\n            974.98,\n            1053.01,\n            1044.22,\n            1038.93,\n            1029.50,\n            1093.14,\n            1124.30,\n            1120.13,\n            1123.74,\n            1105.22,\n            1132.26,\n            1124.54,\n            1137.46,\n            1177.16,\n            1114.36,\n            1087.06,\n            1096.11,\n            1083.61,\n            1096.21,\n            1069.42,\n            1090.59,\n            1081.66,\n            1095.27,\n            1105.93,\n            1098.18,\n            1102.24,\n            1115.35,\n            1127.81,\n            1139.65,\n            1159.92,\n            1180.29,\n            1157.27,\n            1201.08,\n            1186.57,\n            1200.80,\n            1244.75,\n            1216.21,\n            1199.90,\n            1224.75,\n            1188.85,\n            1180.26,\n            1151.10,\n            1173.41,\n            1156.91,\n            1160.99,\n            1160.67,\n            1158.08,\n            1129.06,\n            1100.04,\n            1068.78,\n            1102.13,\n            1079.86,\n            1029.01,\n            1032.81,\n            995.74,\n            979.22,\n            924.57,\n            901.16,\n            868.52,\n            964.42,\n            902.96,\n            899.91,\n            902.52,\n            926.63,\n            899.92,\n            911.75,\n            879.48,\n            857.78,\n            862.70,\n            868.01,\n            868.61,\n            867.72,\n            831.92,\n            841.49,\n            828.46,\n            918.32,\n            902.51,\n            900.41,\n            873.43,\n            885.39,\n            897.63,\n            892.44,\n            879.04,\n            850.83,\n            848.52,\n            918.32,\n            902.51,\n            900.41,\n            873.43,\n            885.39,\n            897.63,\n            892.44,\n            879.04,\n            850.83,\n            848.52,\n            844.87,\n            834.54,\n            832.48,\n            815.48,\n            811.23,\n            821.20,\n            805.10,\n            794.49,\n            801.23,\n            788.80,\n            769.70,\n            789.80,\n            763.46,\n            758.57,\n            773.49,\n            764.45,\n            739.66,\n            757.55,\n            731.12,\n            724.06,\n            732.70,\n            723.80,\n            714.91,\n            723.46,\n            705.10,\n            708.90,\n            723.75,\n            703.06,\n            684.51,\n            692.63,\n            683.14,\n        ];\n        var oneDay = 24 * 3600 *1000;\n        var fiveMinutes = 300 * 1000;\n        var timestr = '2016/2/18 00:00:00';\n        var startTime = +new Date(timestr)-fiveMinutes;\n \n        //把new Date出来的时间格式转换为data123中的日期格式\n        function riqigeshi(now){\n            return now.toLocaleDateString() + ' ' + now.getHours() + now.toLocaleTimeString().substr(-6,6)\n        }\n \n        //用来返回data123一样的数据格式\n        function chartData(i,data,now) {\n            return {\n                value: [\n                    riqigeshi(now),\n                    data[i]/1024,\n                ]\n            }\n        }\n \n        //把原数据改成data123一样的格式\n        function changeData(datain) {\n            var liuru = [];\n            for (var i = 0; i < 289; i++) {\n                startTime = new Date(+startTime + fiveMinutes);\n                liuru.push(chartData(i,datain,startTime));\n            }\n            return liuru;\n        }\n        var liuru = changeData(data_in);\n\n        // var chart = echarts.init(document.getElementById(\"chart\"));\n        option = {\n            grid:{\n                x:'3.6%',\n                y:'5%',\n                x2:'2.4%',\n                y2:'12%',\n            },\n            xAxis:{\n                type:'time',\n                splitNumber:24\n            },\n            yAxis:{\n                type:'value',\n                axisLabel:{\n                    formatter:'{value} G'       //给Y轴上的刻度加上单位\n                },\n            },\n            dataZoom: [\n                {\n                    type: 'slider',//数据滑块\n                    start:0,\n                    minSpan:8,    //5min\n                    // minSpan:16,   //10min\n                    // minSpan:24,   //15min\n                    // minSpan:50,   //30min\n                    dataBackground:{\n                        lineStyle:{\n                            color:'#95BC2F'\n                        },\n                        areaStyle:{\n                            color:'#95BC2F',\n                            opacity:1,\n                        }\n                    },\n                    // fillerColor:'rgba(255,255,255,.6)'\n                },\n                {\n                    type:'inside'//使鼠标在图表中时滚轮可用\n                }\n            ],\n            tooltip:{\n                trigger: 'axis',\n                formatter : function(params) {\n                    var result = params[0].value[0];\n                    params.forEach(function(item) {\n                        result += '<br/>';\n                        result += '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + item.color + '\"></span>';\n                        result += item.seriesName + \"：\";\n                        result += isNaN(item.value[1]) ? 0 : (item.value[1]*1024).toFixed(2) + \"M\";\n                    });\n                    return result;\n                },\n            },\n            series:{\n                name: '流入',\n                type: 'line',\n                showSymbol: false,\n                symbolSize:12,\n                data: liuru,\n            }\n        };\n \n        function refresh() {\n            // liuru先shift(),再push()\n            var liuruShift = liuru.shift();\n            var liuruShiftVal = liuruShift.value[1];\n            var newlrtime = riqigeshi(new Date(+new Date(liuruShift.value[0])+oneDay+fiveMinutes));\n            liuru.push({value:[newlrtime,liuruShiftVal]});\n            myChart.setOption({\n                series:{\n                    data:liuru,\n                }\n            });\n        }\n \n        setInterval(function () {\n            refresh();\n        },1000);","html":"","externalScripts":"","updaterUID":"obd-o-WSxtW8i10muVN-fGvypxP_ZFl9SAL","theme":"","layout":"","viewCount":535,"userName":"j***g","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIgh6wMOy7.png?v=1593339904493","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-line","tooltip"],"customTags":[],"updaterUserName":"j***g"}}