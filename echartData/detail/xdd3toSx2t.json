{"status":0,"data":{"cid":"xdd3toSx2t","authorUid":"bd-2013481626","authorUserName":"じ***ゞ","title":"折线图(表格数据视图)","description":"Y轴加箭头，数据视图修改成表格显示","latestVersion":4,"alwaysLatest":1,"createTime":"2020-06-12T01:46:33.000Z","lastUpdateTime":"2021-11-11T08:11:34.000Z","auth":2,"uid":"bd-2013481626","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-11T08:11:34.000Z","code":"option = {\n  color: ['#458FE3', '#48C964', '#FFAE37', '#FB8989', '#CA89FB'],\n  title: {\n    text: '2017年1月1日-2018年12月31日短时强降水个例统计图',\n    x: 'center',\n    top: '10%',\n    textStyle: { color: '#2D527C', fontSize: '16', fontWeight: 'bold' }\n  },\n  legend: {\n    // type: 'scroll',\n    top: '14%',\n    // formatter: (name) => {\n    //   return name.length > 4 ? name.substr(0, 2) + '...' : name;\n    // }\n  },\n  grid: {\n    left: '10%',\n    right: '10%',\n    top: '20%',\n    bottom: '20%',\n    containLabel: true\n  },\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: { type: 'shadow' }, // cross 十字准星指示器 / shadow 阴影指示器\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    formatter: (params) => {\n      let Htm = `<span>${params[0].name}</span><br>`;\n      params.forEach((item, index) => {\n        let { marker, seriesName, value } = item;\n        Htm += `${marker}\n        <span style=\"display:inline-block;margin-right:4px;width:70px;height:18px;line-height:24px;font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;\">${seriesName}</span>\n        <span style=\"display:inline-block;margin-right:12px;\">${String(value) == 'NaN' ? '-' : value}</span>\n        ${(index + 1) % 2 === 0 ? '<br>' : ''}`;\n      })\n      return Htm\n    }\n  },\n  toolbox: {\n    show: true,\n    top: '10%',\n    right: '4%',\n    feature: {\n      dataView: {\n        // 数据视图\n        optionToContent: (opt) => {\n          var axisData = opt.xAxis[0].data;\n          var series = opt.series;\n          var table = `<div class=\"echartstableview\"><table style=\"width:100%;text-align:center\">\n                        <thead><tr><th>时间</th>`;\n          series.forEach((element, index) => {\n            table += `<th>${element.name}</th>`;\n          });\n          table += `</tr></thead><tbody>`;\n          axisData.forEach((date, index) => {\n            table += `<tr><td>${date}</td>`;\n            series.forEach((series_, index_) => {\n              table += `<td>${series_.data[index]}</td>`;\n            });\n            table += `</tr>`;\n          });\n          table += '</tbody></table></div>';\n          return table;\n        },\n      },\n      magicType: { type: ['line', 'bar'] },\n      restore: {},\n      saveAsImage: {}\n    },\n  },\n  xAxis: {\n    axisTick: { show: false },\n    axisLabel: {\n      textStyle: { color: '#707070', fontSize: 14 }\n    },\n    axisLine: {\n      // onZero: false, // X轴脱离Y轴0刻度\n      lineStyle: { color: '#707070', type: 'dashed'}\n    },\n    data: ['2017/1/1', '2017/2/1', '2017/3/1', '2017/4/1', '2017/5/1']\n  },\n  yAxis: {\n    name: '气温（℃）',\n    nameTextStyle: { color: '#707070', fontSize: 14 },\n    axisLabel: {\n      textStyle: { color: '#707070', fontSize: 14 },\n      // 箭头旁y轴不显示最大值\n      showMaxLabel: false\n    },\n    axisLine: {\n      show: true,\n      symbol: ['none', 'arrow'],\n      symbolOffset: [0, 4],\n      lineStyle: { color: '#707070' }\n    },\n    splitLine: { show:false },\n    boundaryGap: [0, 0.1]\n  },\n  series: [\n    {\n      name: '500hPa',\n      type: 'line',\n      symbolSize: 14,\n      data: [-10, -2, 12, 0, 5]\n    },\n    {\n      name: '700hPa',\n      type: 'line',\n      symbolSize: 14,\n      data: [7, 8, 9, 7, 19]\n    },\n    {\n      name: '850hPa',\n      type: 'line',\n      symbolSize: 14,\n      data: [5, 3, 6, 5, 14]\n    },\n    {\n      name: '925hPa',\n      type: 'line',\n      symbolSize: 14,\n      data: [0, -3, 0, 5, 10]\n    },\n    {\n      name: '地面',\n      type: 'line',\n      symbolSize: 14,\n      data: [1, 5, 5, 9, 4]\n    },\n  ],\n};\n\n/* <style>\n.echartstableview {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 0 6px 0 16px;\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n    background-color: transparent;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    width: 10px;\n    height: 10px;\n    background-color: rgba(0, 0, 0, 0.3);\n    border-radius: 4px;\n  }\n\n  table {\n    box-sizing: border-box;\n    width: 100%;\n\n    thead {\n      tr {\n        background-color: #f1f1f1;\n\n        th {\n          line-height: 30px;\n          text-align: center;\n          border: 1px solid #d9d9d9;\n\n          &:nth-child(1) {\n            width: 216px;\n          }\n        }\n      }\n    }\n\n    tbody {\n      tr {\n        td {\n          line-height: 30px;\n          text-align: center;\n          border: 1px solid #d9d9d9;\n        }\n      }\n    }\n  }\n}\n</style> */\n","html":"","externalScripts":"","updaterUID":"bd-2013481626","theme":"","layout":"","viewCount":5631,"userName":"じ***ゞ","commentCount":0,"starCount":15,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdd3toSx2t.png?v=1636618294420","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","toolbox","tooltip"],"customTags":["dataView"],"updaterUserName":"じ***ゞ"}}