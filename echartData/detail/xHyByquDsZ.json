{"status":0,"data":{"cid":"xHyByquDsZ","authorUid":"bd-1245979803","authorUserName":"d***t","title":"深湛高铁线路","description":"bmap","latestVersion":7,"alwaysLatest":1,"createTime":"2017-09-26T06:55:25.000Z","lastUpdateTime":"2017-09-26T06:55:25.000Z","auth":2,"uid":"bd-1245979803","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"3.8.0","versionCreateTime":"2019-01-21T01:52:04.000Z","code":"var geodata = [{\r\n    name: '广州市',\r\n    value: [113.43, 23.26]\r\n}, {\r\n    name: '佛山市',\r\n    value: [112.98, 23.01]\r\n}, {\r\n    name: '东莞市',\r\n    value: [113.85, 23.01]\r\n}, {\r\n    name: '中山市',\r\n    value: [113.38, 22.52]\r\n}, {\r\n    name: '江门市',\r\n    value: [112.70, 22.31]\r\n}, {\r\n    name: '阳江市',\r\n    value: [111.90, 21.95]\r\n}, {\r\n    name: '茂名市',\r\n    value: [110.99, 21.68]\r\n}, {\r\n    name: '湛江市',\r\n    value: [110.24, 21.25]\r\n}, {\r\n    name: '深圳市',\r\n    value: [114.06, 22.68]\r\n}];\r\n\r\n\r\n\r\n\r\nvar option = {\r\n    title: {\r\n        text: '深湛高铁线路',\r\n        subtext: '数据来源百科',\r\n        textStyle: {\r\n            color: '#7bbfea'\r\n        }\r\n    },\r\n    bmap: {\r\n        roam: true,\r\n        center: [112.275, 22.117],\r\n        zoom: 7,\r\n        mapStyle: {\r\n            styleJson: [{\r\n                    'featureType': 'land',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#081734'\r\n                    }\r\n                }, {\r\n                    'featureType': 'building',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#04406F'\r\n                    }\r\n                }, {\r\n                    'featureType': 'building',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'highway',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#081734'\r\n                    }\r\n                }, {\r\n                    'featureType': 'highway',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'arterial',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#003051'\r\n                    }\r\n                }, {\r\n                    'featureType': 'arterial',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'green',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'water',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'color': '#044161'\r\n                    }\r\n                }, {\r\n                    'featureType': 'subway',\r\n                    'elementType': 'geometry.stroke',\r\n                    'stylers': {\r\n                        'color': '#003051'\r\n                    }\r\n                }, {\r\n                    'featureType': 'subway',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'railway',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'railway',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'all',\r\n                    'elementType': 'labels.text.stroke',\r\n                    'stylers': {\r\n                        //'color': '#313131'\r\n\r\n                    }\r\n                }, {\r\n                    'featureType': 'all',\r\n                    'elementType': 'labels.text.fill',\r\n                    'stylers': {\r\n                        //'color': '#FFFFFF'\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'manmade',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'manmade',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'local',\r\n                    'elementType': 'geometry',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    'featureType': 'local',\r\n                    'elementType': 'labels',\r\n                    'stylers': {\r\n                        'visibility': 'off'\r\n                    }\r\n                }, {\r\n                    \"featureType\": \"boundary\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": {\r\n                        \"color\": \"#6fa8dc\"\r\n                    }\r\n                },\r\n\r\n            ]\r\n        }\r\n\r\n    },\r\n\r\n    series: [\r\n\r\n        {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'bmap',\r\n            zlevel: 2,\r\n            symbolSize: 5,\r\n            rippleEffect: {\r\n                brushType: 'fill',\r\n                period: 2,\r\n                scale: 5\r\n            },\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'right',\r\n                    offset: [1, 6],\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: \"yellow\"\r\n                    }\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: 'yellow'\r\n                }\r\n            },\r\n            data: geodata\r\n        }, {\r\n            type: 'lines',\r\n            coordinateSystem: 'bmap',\r\n            //polyline:true,\r\n            symbol: ['none', 'triangle'],\r\n            zlevel: 1,\r\n            effect: {\r\n                show: true,\r\n                symbol: 'roundRect',\r\n                period: 2,\r\n                delay: 100,\r\n                trailLength: 0.6,\r\n                symbolSize: 6,\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#ed1941'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#ffce7b'\r\n                        }],\r\n                        globalCoord: false\r\n                    },\r\n                    width: 1,\r\n                    opacity: 0.8,\r\n                    //type: 'dotted',\r\n                    curveness: 0.2,\r\n                }\r\n            },\r\n            data: [{\r\n                coords: [ //sz-东莞\r\n                    [114.06, 22.68],\r\n                    [113.85, 23.01],\r\n                ]\r\n            }, {\r\n                coords: [ //dg-广州\r\n                    [113.85, 23.01],\r\n                    [113.43, 23.26],\r\n                ]\r\n            }, {\r\n                coords: [ //sz-中山\r\n                    [114.06, 22.68],\r\n                    [113.38, 22.52],\r\n                ]\r\n            }, {\r\n                coords: [ //gz-佛山\r\n                    [113.43, 23.26],\r\n                    [112.98, 23.01],\r\n                ]\r\n            }, {\r\n                coords: [ //fs-江门\r\n                    [112.98, 23.01],\r\n                    [112.70, 22.31],\r\n                ]\r\n            }, {\r\n                coords: [ //zs-江门\r\n                    [113.38, 22.52],\r\n                    [112.70, 22.31],\r\n                ]\r\n            }, {\r\n                coords: [ //jm-阳江\r\n                    [112.70, 22.31],\r\n                    [111.90, 21.95],\r\n                ]\r\n            }, {\r\n                coords: [ //yj-茂名\r\n                    [111.90, 21.95],\r\n                    [110.99, 21.68],\r\n                ]\r\n            }, {\r\n                coords: [ //mm-湛江\r\n                    [110.99, 21.68],\r\n                    [110.24, 21.25],\r\n                ]\r\n            }]\r\n        },\r\n\r\n    ]\r\n\r\n};\r\nvar gd = ['广州市', '深圳市', '东莞市', '中山市', '佛山市', '江门市', '阳江市', '茂名市', '湛江市'];\r\n\r\n\r\n\r\n\r\nfunction getBoundary() {\r\n    var bmap;\r\n    bmap = myChart.getModel().getComponent('bmap').getBMap();\r\n    var bdary = new BMap.Boundary();\r\n    for (var i = 0; i < gd.length; i++) {\r\n        bdary.get(gd[i], function(rs) { //获取行政区域\r\n            //bmap.clearOverlays();        //清除地图覆盖物       \r\n            var count = rs.boundaries.length; //行政区域的点有多少个\r\n            for (var i = 0; i < count; i++) {\r\n                var ply = new BMap.Polygon(rs.boundaries[i], {\r\n                    strokeWeight: 1,\r\n                    strokeColor: \"#C6E2FF\",\r\n                    fillColor: \"#B23AEE\"\r\n                }); //建立多边形覆盖物\r\n                bmap.addOverlay(ply); //添加覆盖物\r\n                //bmap.setViewport(ply.getPath());    //调整视野         \r\n            }\r\n        });\r\n    }\r\n}\r\nsetTimeout(getBoundary, 0);","html":"","externalScripts":"https://api.map.baidu.com/api?v=2.0&ak=CP0iNotqTseHqmfzLVyn7HIHbde300PL,/dep/echarts/latest/extension/bmap.min.js","updaterUID":"bd-1245979803","theme":"","layout":"","viewCount":241,"userName":"d***t","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHyByquDsZ.undefined?v=","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"d***t"}}