{"status":0,"data":{"cid":"x7OIeIf7m2","authorUid":"bd-2148545645","authorUserName":"5***1","title":"","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-25T10:19:20.000Z","lastUpdateTime":"2021-11-25T10:20:48.000Z","auth":2,"uid":"bd-2148545645","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-25T10:20:48.000Z","code":"\nlet get_gradual_by_horizontal = (c1,c2) => {\n    return new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n        {\n            offset: 0,\n            color: c1\n        }, {\n            offset: 1,\n            color: c2\n        }\n    ])\n}\nlet  get_arr_by_key = (data, k) => {\n    let key = k || \"value\"\n    if (data.length) {\n        return data.map(item => {\n            return item[key]\n        })\n    }\n    return [];\n}\nlet  get_symbol_data = (data) => {\n    return data.map(item => {\n        return {\n            value: item.value,\n            symbolPosition: 'end'\n        }\n    })\n}\ndata = [{\n        name: '尾随',\n        value: 10,\n        sum: 10,\n        c1: 'rgba(212, 22, 22, .2)',\n        c2: 'rgba(212, 22, 22, 1)'\n    },\n    {\n        name: '反传',\n        value: 15,\n        sum: 10,\n        c1: 'rgba(255, 126, 0, 0.2)',\n        c2: 'rgba(255, 126, 0, 1)'\n    },\n    {\n        name: '胁迫',\n        value: 16,\n        sum: 10,\n        c1: 'rgba(255, 216, 0, 0.2)',\n        c2: 'rgba(255, 216, 0, 1)'\n    },\n    {\n        name: '多卡刷门',\n        value: 12,\n        sum: 10,\n        c1: 'rgba(0, 147, 255, 0.2)',\n        c2: 'rgba(0, 147, 255, 1)'\n    },\n    {\n        name: '陪同卡',\n        value: 8,\n        sum: 10,\n        c1: 'rgba(45, 254, 235, 0.2)',\n        c2: 'rgba(45, 254, 235, 1)'\n    }\n]\noption = {\n    grid: {\n        top: '5%',\n        bottom: '5%',\n        right: '0%',\n        left: '15%',\n        containLabel: true\n    },\n    xAxis: {\n        show: false\n    },\n    yAxis: [{\n        triggerEvent: true,\n        show: true,\n        inverse: true,\n        data: get_arr_by_key(data, 'name'),\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false,\n            interval: 0,\n            color: '#A5B8B9',\n            align: 'left',\n            margin: 80,\n            fontSize: 13,\n            formatter: function(value, index) {\n                return '{title|' + value + '}'\n            },\n            rich: {\n                title: {\n                    width: 165\n                }\n            }\n        },\n    }, {\n        triggerEvent: true,\n        show: true,\n        inverse: true,\n        data: get_arr_by_key(data, 'name'),\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            shadowOffsetX: '-20px',\n            color: '#A5B8B9',\n            align: 'right',\n            verticalAlign: 'center',\n            lineHeight: 30,\n            fontSize: 12,\n            margin: 30,\n            formatter: function(value, index) {\n                return (data[index].value / data[index].sum) * 100\n            },\n        }\n    }],\n    series: [{\n        name: 'XXX',\n        type: 'pictorialBar',\n        symbol: 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAZlBMVEUAAABe3uVe3+Vf3uVf3+Zf3uVg3+Zg3+Zf3+Vi4OZh4OZg3+Z86/Bh3+Zi4Odj4Odi4OZ86/B76/B86/Bj4ed56+9x5+xn4umB7/N87PB36e+A7/N+7fF/7vJ/7vJ+7fGA7/OB7/PReX+lAAAAIXRSTlMABQkVDREmIhk3MR10LEFFPHh7cUprXE35h2XnqMLAp+mHAG9cAAAB5ElEQVRIx83WjU7CMBQFYIoiKMqU/XUboHv/l/Tce7t2XamDNSacETEmX86tlK2rx4py150o+MstMBLwWRfHKo6JCVxLnvmFGBjFQ58oF1//sUZhGy/ClSTWObgnL4O+bkeN4nY2okfNMbkRt9/vtxz8InoTsWplJSCzFxPmO8+GpSIByX3YQAuGDWtRKhKjCnxDXhF6Z4yxnZ20Wgko7BMRDmxtSGVaI4kdTIgb+zTYoJQlIMlDlmUFgrcDWWC201qSayqlTkiCddWWeV62VU0YlnpRi9VOKaSUsiyq/N0krwq2Ugt7lVpZl5BfHNiytjagMi+XYp0kCR45hMlivVQrE/uU5pXSrCB5bM6d1t2lOZItMqmliT3q5uVxqxzyW/ccfYLNKx7ZTeykMvNyac2yt2Fbc61MHLSC0rwoxbiNdlQ3GBm1NLHQsHUrtEXppR/ljNpW6DbSCoqlFiVoN6YdaFlgsSFVPs1BdT8OaB5QyQzVcaqWDows/zepxR8ObLglTrdtCRVuRNj4Rrxh+//0ke2f8KVL+Kon3GCSbmsJN9OUW3j6g0Ns+LgCij2u0h+Sghc8mlMPBMgdx5DFh59VmOVHrvmDnoNxCz3J7MFWsMuaLyR089xz/xhlfijvwutR8gv3zk6BLUUeCgAAAABJRU5ErkJggg==',\n        symbolSize: [50, 50],\n        symbolOffset: [25, 0],\n        z: 12,\n        data: get_symbol_data(data)\n    }, \n    {\n        name: '条',\n        type: 'bar',\n        showBackground: true,\n        yAxisIndex: 0,\n        barWidth: 7,\n        data:  data.map((item)=>{\n            let {c1,c2} = item\n            return {\n                value: item.value,\n                itemStyle: {\n                    color: get_gradual_by_horizontal(c1,c2)\n                },\n                label: {\n                    color: '#A5B8B9',\n                    show: true,\n                    position: ['-40px', '0px'],\n                    textStyle: {\n                        fontSize: 12\n                    },\n                    formatter: function(a, b) {\n                        return a.name\n                    }\n                }\n                \n            }\n        }),\n        label: {\n            normal: {\n                color: '#A5B8B9',\n                show: true,\n                position: ['-40px', '0px'],\n                textStyle: {\n                    fontSize: 12\n                },\n                formatter: function(a, b) {\n                    return a.name\n                }\n            }\n        }\n    }\n    ]\n}\n","html":"","externalScripts":"","updaterUID":"bd-2148545645","theme":"","layout":"","viewCount":0,"userName":"5***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7OIeIf7m2.png?v=1637835648651","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"5***1"}}