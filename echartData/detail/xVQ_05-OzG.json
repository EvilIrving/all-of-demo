{"status":0,"data":{"cid":"xVQ_05-OzG","authorUid":"bd-624055021","authorUserName":"我***爱","title":"thtfCharts(类似D3的bar)","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2018-12-21T03:36:22.000Z","lastUpdateTime":"2018-12-21T03:36:22.000Z","auth":2,"uid":"bd-624055021","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-24T11:14:05.000Z","code":"//背景图片(可自定义)\r\nvar backgroundImage1 = \"/asset/get/s/data-1538983605419-vjzCmKaF7.png\";\r\nvar backgroundImage2 = \"/asset/get/s/data-1538983620994-62zf692O6.png\";\r\n\r\n//亮色图片(可自定义)\r\nvar uploadedDataURL1 = \"/asset/get/s/data-1514970761653-ByzqAf9XG.png\";\r\nvar uploadedDataURL2 = \"/asset/get/s/data-1514970765660-B1I50M5QM.png\";\r\n\r\napp.title = '热门产品';\r\n\r\nvar baifenbi = [0.111, 0.333, 0.444, 0.555, 0.777, 0.888, 0.922];\r\nvar grayBar = [1, 1, 1, 1, 1, 1, 1];\r\n//hou\r\nvar paiming = [7, 6, 5, 4, 3, 2, 1];\r\n//总金额\r\nvar zongjine = [91230000, 20000000, 30000000, 40000000, 50000000, 60000000, 70000000];\r\n//分配金额\r\nvar fenpeijine = [11100000, 200000, 300000, 400000, 500000, 600000, 700000];\r\n//类目\r\nvar city = ['项目名7    ',\r\n    '项目名6    ',\r\n    '项目名5    ',\r\n    '项目名4    ',\r\n    '项目名3    ',\r\n    '项目名2    ',\r\n    '项目名1    '\r\n];\r\noption = {\r\n    // title: {\r\n    //     text: 'thtfCharts(类似D3的bar)',\r\n    //     left: 'center'\r\n    // },\r\n    legend: {\r\n        data:['背景', '百分比', '项目名', '总金额','icon']\r\n    },\r\n    color: ['#61A8FF'], //进度条颜色\r\n    /* grid: {\r\n         left: '-10%',  //如果离左边太远就用这个......\r\n         //right: '14%',\r\n         bottom: '5%',\r\n         top: '5%',\r\n         containLabel: true\r\n     },*/\r\n    xAxis: [{\r\n            show: false,\r\n        },\r\n        //由于下边X轴已经是百分比刻度了,所以需要在顶部加一个X轴,刻度是金额,也隐藏掉\r\n        {\r\n            show: false,\r\n        }\r\n    ],\r\n    yAxis: {\r\n        type: 'category',\r\n        axisLabel: {\r\n            show: false, //让Y轴数据不显示\r\n            color: '#00C5CD',\r\n            backgroundColor: { //这里可以添加你想自定义的图片\r\n                image: backgroundImage1,\r\n            },\r\n            rich: {\r\n                start2: {\r\n                    width: 18,\r\n                    height: 22,\r\n                    align: 'center',\r\n                    backgroundColor: { //这里可以添加你想自定义的图片\r\n                        image: backgroundImage1,\r\n                    },\r\n                },\r\n                start1: {\r\n                    width: 18,\r\n                    height: 22,\r\n                    align: 'center',\r\n                    backgroundColor: {\r\n                        image: backgroundImage2,\r\n                    }\r\n                }\r\n            },\r\n            formatter: function(value) {\r\n                //富文本固定格式{colorName|这里填你想要写的内容}\r\n                //return value <= 3 ? '{start2|' + value + '}' : '{start1|' + value + '}';\r\n            },\r\n            fontSize: 20,\r\n            padding: [5, 5, 5, 5]\r\n        },\r\n        itemStyle: {\r\n\r\n        },\r\n        axisTick: {\r\n            show: false, //隐藏Y轴刻度\r\n        },\r\n        axisLine: {\r\n            show: false, //隐藏Y轴线段\r\n        },\r\n\r\n        data: paiming,\r\n    },\r\n    series: [\r\n        //背景色--------------------我是分割线君------------------------------//\r\n        {\r\n            name:'背景',\r\n            show: true,\r\n            type: 'bar',\r\n            barGap: '-100%',\r\n            barWidth: '35%', //统计条宽度\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 20,\r\n                    color: 'rgba(102, 102, 102,0.5)'\r\n                },\r\n            },\r\n            z: 1,\r\n            data: grayBar,\r\n        },\r\n        //条--------------------我是分割线君------------------------------//\r\n        {\r\n            name:'百分比',\r\n            show: true,\r\n            type: 'bar',\r\n            barGap: '-100%',\r\n            barWidth: '35%', //统计条宽度\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 20, //统计条弧度\r\n                    color: {\r\n                        //颜色渐变\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#f00' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#f60' // 100% 处的颜色\r\n                        }],\r\n                        globalCoord: false, // 缺省为 false\r\n\r\n                    }\r\n                },\r\n            },\r\n            max: 1,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#fff', //百分比颜色\r\n                    },\r\n                    position: 'inside',\r\n                    //百分比格式\r\n                    formatter: function(data) {\r\n                        return (baifenbi[data.dataIndex] * 100).toFixed(1) + '%';\r\n                    },\r\n                }\r\n            },\r\n            labelLine: {\r\n                show: false,\r\n            },\r\n            z: 2,\r\n            data: baifenbi,\r\n        },\r\n        //数据条--------------------我是分割线君------------------------------//\r\n        {\r\n            name:'项目名',\r\n            show: true,\r\n            type: 'bar',\r\n            xAxisIndex: 1, //代表使用第二个X轴刻度!!!!!!!!!!!!!!!!!!!!!!!!\r\n            barGap: '-100%',\r\n            barWidth: '25%', //统计条宽度\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 20,\r\n                    color: 'rgba(22,203,115,0)'\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\r\n                    //在这里需要上下统一对齐,所以用固定值\r\n                    position: [0, '-100%'],\r\n                    rich: { //富文本\r\n                        black: { //自定义颜色\r\n                            color: '#000',\r\n                        },\r\n                        start2: {\r\n                            backgroundColor: { //这里可以添加你想自定义的图片\r\n                                image: uploadedDataURL2,\r\n                            },\r\n                        },\r\n                        start1: {\r\n                            backgroundColor: {\r\n                                image: uploadedDataURL1,\r\n                            }\r\n                        },\r\n                        green: {\r\n                            color: '#70DDA7',\r\n                        },\r\n                        yellow: {\r\n                            color: '#FEC735',\r\n                        },\r\n                    },\r\n                    formatter: function(data) {\r\n                        return '' + //' {start2|}'+\r\n                            '{black|' + \r\n                            //paiming[data.dataIndex] + '  ' +\r\n                            city[data.dataIndex] + '}' //+\r\n                            //'{black|总金额:}{yellow|' + zongjine[data.dataIndex] / 10000 + '}'+\r\n                            //'{black|万元,已分配金额:}' + '{green|'+\r\n                            //fenpeijine[data.dataIndex] / 10000 + '万元}';\r\n\r\n                    }\r\n                }\r\n            },\r\n            data: zongjine\r\n        },\r\n        //数据条--------------------我是分割线君------------------------------//\r\n        {\r\n            name:'总金额',\r\n            show: true,\r\n            type: 'bar',\r\n            barGap: '-100%',\r\n            barWidth: '25%', //统计条宽度\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 20,\r\n                    color: 'rgba(222,203,115,0)'\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\r\n                    //在这里需要上下统一对齐,所以用固定值\r\n                    position: ['70%', '-100%'],\r\n                    rich: { //富文本\r\n                        black: { //自定义颜色\r\n                            color: '#000',\r\n                        },\r\n                        start2: {\r\n                            backgroundColor: { //这里可以添加你想自定义的图片\r\n                                image: uploadedDataURL2,\r\n                            },\r\n                        },\r\n                        start1: {\r\n                            backgroundColor: {\r\n                                image: uploadedDataURL1,\r\n                            }\r\n                        },\r\n                        green: {\r\n                            color: '#70DDA7',\r\n                        },\r\n                        yellow: {\r\n                            color: '#FEC735',\r\n                        },\r\n                    },\r\n                    formatter: function(data) {\r\n                        return '{black|总金额:}{yellow|' + \r\n                        zongjine[data.dataIndex] / 10000 + '}{black|万元,已分配金额:}' + \r\n                        '{green|' + fenpeijine[data.dataIndex] / 10000 + '万元}';\r\n                    }\r\n                }\r\n            },\r\n            data: grayBar\r\n        },\r\n        //数据条--------------------我是分割线君------------------------------//\r\n        {\r\n            name:'icon',\r\n            show: true,\r\n            type: 'bar',\r\n            xAxisIndex: 1, //代表使用第二个X轴刻度!!!!!!!!!!!!!!!!!!!!!!!!\r\n            barGap: '-100%',\r\n            barWidth: '25%', //统计条宽度\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: 20,\r\n                    color: 'rgba(22,203,115,0)'\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\r\n                    //在这里需要上下统一对齐,所以用固定值\r\n                    position: ['-30px', '50%'],\r\n                    rich: { //富文本\r\n                        black: { //自定义颜色\r\n                            color: '#000',\r\n                        },\r\n                        start2: {\r\n                            backgroundColor: { //这里可以添加你想自定义的图片\r\n                                image: uploadedDataURL2,\r\n                            },\r\n                        },\r\n                        start1: {\r\n                            backgroundColor: {\r\n                                image: uploadedDataURL1,\r\n                            }\r\n                        }\r\n                    },\r\n                    formatter: function(data) {\r\n                        //富文本固定格式{colorName|这里填你想要写的内容}\r\n                        return ' {start1|}{black|' + paiming[data.dataIndex];\r\n\r\n                    }\r\n                }\r\n            },\r\n            data: zongjine\r\n        }\r\n\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-624055021","theme":"","layout":"","viewCount":115,"userName":"我***爱","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xVQ_05-OzG.png?v=1545650045870","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"我***爱"}}