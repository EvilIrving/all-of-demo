{"status":0,"data":{"cid":"xDOrZUNrFs","authorUid":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","authorUserName":"g***y","title":"1980-2019年中国人口总数排名前十省份变化情况","description":"单位:万人","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-23T01:33:18.000Z","lastUpdateTime":"2020-12-23T01:33:18.000Z","auth":2,"uid":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-23T01:33:18.000Z","code":" var data = [{\n    \"time\": 1980,\n    \"data\": [{\n        \"name\": \"四川\",\n        \"value\": [9838, 10.01, \"四川\"]\n    }, {\n        \"name\": \"山东\",\n        \"value\": [7316, 8.45, \"山东\"]\n    }, {\n        \"name\": \"江苏\",\n        \"value\": [5953, 6.01, \"江苏\"]\n    }, {\n        \"name\": \"湖南\",\n        \"value\": [5297, 5.39, \"湖南\"]\n    }, {\n        \"name\": \"河北\",\n        \"value\": [5186, 5.28, \"河北\"]\n    }, {\n        \"name\": \"安徽\",\n        \"value\": [4906, 4.99, \"安徽\"]\n    }, {\n        \"name\": \"广东\",\n        \"value\": [5392, 5.49, \"广东\"]\n    }, {\n        \"name\": \"湖北\",\n        \"value\": [4696, 4.78, \"湖北\"]\n    }, {\n        \"name\": \"河南\",\n        \"value\": [7308, 7.43, \"河南\"]\n    }, {\n        \"name\": \"浙江\",\n        \"value\": [3836, 3.9, \"浙江\"]\n    }]\n}, {\n    \"time\": 1990,\n    \"data\": [{\n        \"name\": \"四川\",\n        \"value\": [10804, 9.45, \"四川\"]\n    }, {\n        \"name\": \"山东\",\n        \"value\": [8493, 7.43, \"山东\"]\n    }, {\n        \"name\": \"江苏\",\n        \"value\": [6766.9, 5.92, \"江苏\"]\n    }, {\n        \"name\": \"湖南\",\n        \"value\": [6110, 5.34, \"湖南\"]\n    }, {\n        \"name\": \"河北\",\n        \"value\": [6159, 5.39, \"河北\"]\n    }, {\n        \"name\": \"安徽\",\n        \"value\": [5675, 4.96, \"安徽\"]\n    }, {\n        \"name\": \"广东\",\n        \"value\": [6347.19, 5.55, \"广东\"]\n    }, {\n        \"name\": \"湖北\",\n        \"value\": [5439, 4.76, \"湖北\"]\n    }, {\n        \"name\": \"河南\",\n        \"value\": [8649, 7.456, \"河南\"]\n    }, {\n        \"name\": \"广西\",\n        \"value\": [4261, 3.73, \"广西\"]\n    }]\n},{\n    \"time\": 2000,\n    \"data\": [{\n       \"name\": \"四川\",\n        \"value\": [8602, 6.79, \"四川\"]\n    }, {\n        \"name\": \"山东\",\n        \"value\": [8998, 7.10, \"山东\"]\n    }, {\n        \"name\": \"江苏\",\n        \"value\": [7327, 5.78, \"江苏\"]\n    }, {\n        \"name\": \"湖南\",\n        \"value\": [6562, 5.18, \"湖南\"]\n    }, {\n        \"name\": \"河北\",\n        \"value\": [6674, 5.27, \"河北\"]\n    }, {\n        \"name\": \"安徽\",\n        \"value\": [6286, 4.96, \"安徽\"]\n    }, {\n        \"name\": \"广东\",\n        \"value\": [7707, 6.08, \"广东\"]\n    }, {\n        \"name\": \"湖北\",\n        \"value\": [5960, 4.70, \"湖北\"]\n    }, {\n        \"name\": \"河南\",\n        \"value\": [9488, 7.49, \"河南\"]\n    }, {\n        \"name\": \"广西\",\n        \"value\": [4750, 3.75, \"广西\"]\n    }]\n} ,{\n    \"time\": 2010,\n    \"data\": [{\n        \"name\": \"四川\",\n        \"value\": [8045, 6.00, \"四川\"]\n    }, {\n        \"name\": \"山东\",\n        \"value\": [9588, 7.15, \"山东\"]\n    }, {\n        \"name\": \"江苏\",\n        \"value\": [7869, 5.87, \"江苏\"]\n    }, {\n        \"name\": \"湖南\",\n        \"value\": [6570, 4.90, \"湖南\"]\n    }, {\n        \"name\": \"河北\",\n        \"value\": [7194, 4.9, \"河北\"]\n    }, {\n        \"name\": \"安徽\",\n        \"value\": [5957, 4.44, \"安徽\"]\n    }, {\n        \"name\": \"广东\",\n        \"value\": [10441, 7.79, \"广东\"]\n    }, {\n        \"name\": \"湖北\",\n        \"value\": [5728, 4.27, \"湖北\"]\n    }, {\n        \"name\": \"河南\",\n        \"value\": [9405, 7.01, \"河南\"]\n    }, {\n        \"name\": \"浙江\",\n        \"value\": [5447, 4.06, \"浙江\"]\n    }]\n} ,{\n    \"time\": 2019,\n    \"data\": [{\n        \"name\": \"广东\",\n        \"value\": [11521, 8.23, \"广东\"]\n    }, {\n        \"name\": \"江苏\",\n        \"value\": [8070, 5.76, \"江苏\"]\n    }, {\n        \"name\": \"山东\",\n        \"value\": [10070, 7.19, \"山东\"]\n    }, {\n        \"name\": \"浙江\",\n        \"value\": [5850, 4.18, \"浙江\"]\n    }, {\n        \"name\": \"河南\",\n        \"value\": [9640, 6.89, \"河南\"]\n    }, {\n        \"name\": \"安徽\",\n        \"value\": [6366, 4.55, \"安徽\"]\n    }, {\n        \"name\": \"四川\",\n        \"value\": [8375, 5.98, \"四川\"]\n    }, {\n        \"name\": \"河北\",\n        \"value\": [7592, 5.42, \"河北\"]\n    }, {\n        \"name\": \"湖北\",\n        \"value\": [5927, 4.23, \"湖北\"]\n    }, {\n        \"name\": \"湖南\",\n        \"value\": [6918, 4.94, \"湖南\"]\n    }]\n} ]\n\n\nvar option = {\n    backgroundColor: '#2B54B7',\n    baseOption: {\n        animationDurationUpdate: 1000,\n        animationEasingUpdate: 'quinticInOut',\n        timeline: {\n            axisType: 'category',\n            orient: 'vertical',\n            autoPlay: true,\n            inverse: true,\n            playInterval: 5000,\n            left: null,\n            right: 5,\n            top: 20,\n            bottom: 20,\n            width: 46,\n            height: null,\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            symbol: 'none',\n            lineStyle: {\n                color: '#555'\n            },\n            checkpointStyle: {\n                color: '#bbb',\n                borderColor: '#777',\n                borderWidth: 1\n            },\n            controlStyle: {\n                showNextBtn: false,\n                showPrevBtn: false,\n                normal: {\n                    color: '#666',\n                    borderColor: '#666'\n                },\n                emphasis: {\n                    color: '#aaa',\n                    borderColor: '#aaa'\n                }\n            },\n            data: data.map(function(ele) {\n                return ele.time\n            })\n        },\n        backgroundColor: '#333399',\n        title: {\n            text: '1980-2019年中国人口总数排名前十省份变化情况',\n            subtext: '单位:万人',\n            left: 'center',\n            top: 'top',\n            textStyle: {\n                fontSize: 25,\n                color: 'rgba(255,255,255, 0.9)'\n            }\n        },\n        tooltip: {\n            formatter: function(params) {\n                if ('value' in params.data) {\n                    return params.data.value[2] + ': ' + params.data.value[0];\n                }\n            }\n        },\n        grid: {\n            left: 10,\n            right: '45%',\n            top: '70%',\n            bottom: 5\n        },\n        xAxis: {},\n        yAxis: {},\n        series: [{\n            id: 'map',\n            type: 'map',\n            mapType: 'china',\n            top: '10%',\n            //bottom: '25%',\n            //left: '5%',\n            //right: '10%',\n            itemStyle: {\n                normal: {\n                    areaColor: '#526276',\n                    borderColor: '#BFB5A6'\n                },\n                emphasis: {\n                    label: {\n                        show: true\n                    },\n                    areaColor: 'rgba(255,255,255, 0.5)'\n                }\n            },\n            data: []\n        }, {\n            id: 'bar',\n            type: 'bar',\n            tooltip: {\n                show: false\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            data: []\n        }, {\n            id: 'pie',\n            type: 'pie',\n            radius: ['12%', '20%'],\n            center: ['75%', '85%'],\n            //roseType: 'area',\n            tooltip: {\n                formatter: '{b} {d}%'\n            },\n            data: [],\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            labelLine: {\n                normal: {\n                    lineStyle: {\n                        color: '#ddd'\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderColor: 'rgba(0,0,0,0.3)',\n                    borderSize: 1\n                }\n            }\n        }]\n    },\n    options: []\n}\n\nfor (var i = 0; i < data.length; i++) {\n    //计算其余省份人口\n    var restPercent = 100;\n    var restValue = 0;\n    data[i].data.forEach(function(ele) {\n        restPercent = restPercent - ele.value[1];\n    });\n    restValue = data[i].data[0].value[0] * (restPercent / data[i].data[0].value[1]);\n    console.log(restPercent);\n    console.log(restValue);\n    option.options.push({\n        visualMap: [{\n            //type:'continous',\n            //type: 'continuous',\n            calculable: true,\n            dimension: 0,\n            left: 10,\n            top: 'center',\n            itemWidth: 12,\n            min: data[i].data[9].value[0],\n            max: data[i].data[0].value[0],\n            text: ['High', 'Low'],\n            textStyle: {\n                color: '#ddd'\n            },\n            inRange: {\n//                color: ['lightskyblue', 'yellow', 'orangered', 'red']\n                color: ['lightskyblue', 'yellow', 'orangered']\n            }\n        }],\n        xAxis: {\n            type: 'value',\n            boundaryGap: [0, 0.1],\n            axisLabel: {\n                show: false,\n            },\n            splitLine: {\n                show: false\n            }\n        },\n        yAxis: {\n            type: 'category',\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#ddd'\n                }\n            },\n\n            data: data[i].data.map(function(ele) {\n                return ele.value[2]\n            }).reverse()\n        },\n        series: [{\n            id: 'map',\n            data: data[i].data\n        }, {\n            id: 'bar',\n            label: {\n                normal: {\n                    position: 'right',\n                    formatter: '{b} : {c}'\n                }\n            },\n            data: data[i].data.map(function(ele) {\n                return ele.value[0]\n            }).sort(function(a, b) {\n                return a > b\n            })\n        }, {\n            id: 'pie',\n            data: data[i].data.map(function(ele) {\n                return {\n                    name: ele.value[2],\n                    value: ele.value\n                }\n            }).concat({\n                name: '其他省份',\n                value: restValue\n            }),\n        }]\n    })\n}","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-o-3SqGd4RSnpr7jbFzMffeXuaxvG3AZ","theme":"","layout":"","viewCount":159,"userName":"g***y","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDOrZUNrFs.png?v=1608687198665","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-map","series-pie","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"g***y"}}