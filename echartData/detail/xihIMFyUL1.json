{"status":0,"data":{"cid":"xihIMFyUL1","authorUid":"obd-oFywMxOTC0LpUlk0zoQqAnIExMwvJ5r","authorUserName":"硬***人","title":"地图标注","description":"","latestVersion":8,"alwaysLatest":1,"createTime":"2020-06-30T05:21:23.000Z","lastUpdateTime":"2020-06-30T05:21:23.000Z","auth":2,"uid":"obd-oFywMxOTC0LpUlk0zoQqAnIExMwvJ5r","publishedVersion":1,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-30T05:21:23.000Z","code":"myChart.showLoading();\nvar uploadedDataURL = \"/asset/get/s/data-1593486529294-SRyGZ7brP.json\";\nconst COORDS_LINE = {\n    '东城区': [\n        [116.43726800000002, 39.87083700000005],\n        [117.2, 39.94]\n    ],\n    '延庆区': [\n        [116.1, 40.485325],\n        [115.6, 40.8]\n    ]\n\n}\nlet activeAreaName = '';\nmyChart.on('mouseover', ({\n    name\n}) => {\n    if (activeAreaName !== name) {\n        activeAreaName = name;\n        handleChangeOption();\n    }\n})\nmyChart.on('globalout', () => {\n    activeAreaName = '';\n    handleChangeOption();\n});\nlet data = [{\n    name: '东城区',\n    value: 5\n}, {\n    name: '延庆区',\n    value: 0\n}];\nfunction handleChangeOption () {\n    option = {\n        backgroundColor: '#ccc',\n        series: [{\n                type: 'map',\n                zoom: 1.2,\n                z: 2,\n                mapType: 'beijing',\n                label: {\n                    show: false\n                },\n                emphasis: {\n                    label: {\n                        show: false\n                    },\n                    itemStyle: {\n                        borderColor: '#EBF3F3',\n                        borderWidth: 2,\n                        areaColor: '#fff'\n                    }\n                },\n                itemStyle: {\n                    borderColor: '#ccc',\n                    borderWidth: 2,\n                    areaColor: '#fff'\n                },\n                data: data\n            },\n            {\n                type: 'lines',\n                z: 3,\n                coordinateSystem: 'geo',\n                symbol: 'circle',\n                symbolSize: [6, 0],\n                color: '#17A597',\n                opacity: 1,\n                label: {\n                    show: true,\n                    position: 'end',\n                    formatter: [\n                        `{title|{b}}`,\n                        `{value|{c} 例}`\n                    ].join('\\n'),\n                    backgroundColor: '#eee',\n                    borderColor: '#17A597',\n                    borderWidth: 1,\n                    borderRadius: 4,\n                    align: 'center',\n                    width: 64,\n                    rich: {\n                        title: {\n                            align: 'center',\n                            lineHeight: 17,\n                            fontSize: 12,\n                            color: '#fff',\n                            backgroundColor: '#17A597',\n                            width: 64,\n                            height: 20,\n                            borderRadius: [4, 4, 0, 0]\n                        },\n                        value: {\n                            height: 25,\n                            width: 64,\n                            color: '#17A597',\n                            backgroundColor: '#fff',\n                            borderRadius: [0, 0, 4, 4]\n                        }\n                    }\n                },\n                lineStyle: {\n                    type: 'solid',\n                    opacity: 1,\n                    color: '#17A597',\n                    curveness: 0.1\n                },\n                data: data.map((item) => {\n                    let label = {};\n                    if (item.name === activeAreaName) {\n                        let width = 92;\n                        label = {\n                            formatter: [\n                                `{title_active|{b}}`,\n                                `{value_active|{c} 例}`\n                            ].join('\\n'),\n                            backgroundColor: '#eee',\n                            borderColor: '#FFB569',\n                            width,\n                            rich: {\n                                title_active: {\n                                    align: 'center',\n                                    lineHeight: 17,\n                                    fontSize: 12,\n                                    color: '#fff',\n                                    backgroundColor: '#FFB569',\n                                    width,\n                                    height: 26,\n                                    borderRadius: [4, 4, 0, 0]\n                                },\n                                value_active: {\n                                    height: 32,\n                                    lineHeight: 32,\n                                    width,\n                                    color: '#FFB569',\n                                    backgroundColor: '#fff',\n                                    borderRadius: [0, 0, 4, 4]\n                                }\n                            }\n                        };\n                    }\n                    return Object.assign({\n                        coords: COORDS_LINE[item.name],\n                        label\n                    }, item);\n                })\n            }\n        ],\n        visualMap: {\n            seriesIndex: 0,\n            min: 0,\n            max: 1000000,\n            right: 20,\n            bottom: 20,\n            type: 'piecewise',\n            align: 'left',\n            itemWidth: 22,\n            itemHeight: 14,\n            textStyle: {\n                color: '#FFFF',\n                fontSize: 14,\n                lineHeight: 20\n            },\n            color: 'green',\n            pieces: [{\n                    gte: 41,\n                    color: '#BF464D',\n                    label: '40例以上'\n\n                },\n                {\n                    gte: 31,\n                    lte: 40,\n                    color: '#D47E6D',\n                    label: '31 - 40例'\n                },\n                {\n                    gte: 21,\n                    lte: 30,\n                    color: '#DE977C',\n                    label: '21 - 30例'\n                },\n                {\n                    gte: 11,\n                    lte: 20,\n                    color: '#F3CF9C',\n                    label: '11 - 20例'\n                },\n                {\n                    gte: 1,\n                    lte: 10,\n                    color: '#FAF4E0',\n                    label: '1 - 10例'\n                },\n                {\n                    value: 0,\n                    color: '#fff',\n                    label: '0 例'\n                }\n            ]\n        },\n        geo: {\n            geoIndex: 1,\n            map: 'beijing',\n            label: {\n                show: false\n            },\n            zoom: 1.2,\n            animation: false\n        }\n    };\n    myChart.setOption(option, true);\n}\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('beijing', geoJson);\n    handleChangeOption();\n    myChart.hideLoading();\n});","html":"","externalScripts":"","updaterUID":"obd-oFywMxOTC0LpUlk0zoQqAnIExMwvJ5r","theme":"","layout":"","viewCount":8020,"userName":"硬***人","commentCount":2,"starCount":30,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xihIMFyUL1.png?v=1593494483537","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-lines","series-map","visualMap"],"customTags":[],"updaterUserName":"硬***人"}}