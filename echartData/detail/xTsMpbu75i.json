{"status":0,"data":{"cid":"xTsMpbu75i","authorUid":"bd-2680668432","authorUserName":"C***酱","title":"自定义图标示例1","description":"自定义一组图标","latestVersion":3,"alwaysLatest":1,"createTime":"2020-07-30T03:36:36.000Z","lastUpdateTime":"2020-07-30T03:36:36.000Z","auth":2,"uid":"bd-2680668432","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-31T07:54:52.000Z","code":"let icon = '<svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9125\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\"><defs><style type=\"text/css\"></style></defs><path d=\"M874.044235 149.955765L873.411765 361.411765l150.588235 150.588235-150.588235 150.588235 0.63247 211.456L662.588235 873.411765l-150.588235 150.588235-150.588235-150.588235-211.456 0.63247L150.588235 662.588235l-150.588235-150.588235 150.588235-150.588235-0.63247-211.456L361.411765 150.588235l150.588235-150.588235 150.588235 150.588235z\" fill=\"#__color\" p-id=\"9126\"></path><path d=\"M512 512m-271.058824 0a271.058824 271.058824 0 1 0 542.117648 0 271.058824 271.058824 0 1 0-542.117648 0Z\" fill=\"#0C0058\" p-id=\"9127\"></path></svg>'\r\nicon = encodeURIComponent(icon)\r\nicon = 'data:image/svg+xml;utf8,' + icon\r\n\r\nconst xAxisData = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\nconst colors = ['#1576d2', '#d14a82', '#26c1f2']\r\n\r\nlet myTag = '#__color'\r\nmyTag = encodeURIComponent(myTag) // 显示为'%23__color'\r\nconst getCurrentIcon = function(color, addPrefix) {\r\n    color = encodeURIComponent(color)\r\n    let resIcon = addPrefix ? 'image://' + icon : icon\r\n    return resIcon.replace(myTag, color)\r\n}\r\n\r\nlet series = []\r\nlet group = []\r\nconst seriesLength = 3\r\nfor (let i = 0; i < seriesLength; i++) {\r\n    const currentColor = colors[i]\r\n    const symbol = getCurrentIcon(currentColor, true)\r\n    const data = xAxisData.map(d => ~~(Math.random() * 100))\r\n    group.push('折线' + i)\r\n    series.push({\r\n        name: group[i],\r\n        type: 'line',\r\n        data: data,\r\n        symbol: symbol,\r\n        symbolSize: 30,\r\n    })\r\n}\r\n\r\noption = {\r\n    color: colors,\r\n    legend: {\r\n        data: group\r\n    },\r\n    tooltip: {\r\n        show: true,\r\n        formatter: (p) => {\r\n            const markerURl = getCurrentIcon(p.color, false) // 这里需要的是url本身，不加image://\r\n            const marker = `<img src=\"${markerURl}\" height=\"12\" width=\"12\" />`\r\n            const title = `<span>${p.seriesName}</span><br/>`\r\n            const content = `<span style=\"margin-left: 10px;\">${p.name}: ${p.value}</span>`\r\n            return title + marker + content\r\n        }\r\n    },\r\n    xAxis: {\r\n        data: xAxisData\r\n    },\r\n    yAxis: {},\r\n    series: series\r\n};","html":"","externalScripts":"","updaterUID":"bd-2680668432","theme":"","layout":"","viewCount":211,"userName":"C***酱","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTsMpbu75i.png?v=1596182092605","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"C***酱"}}