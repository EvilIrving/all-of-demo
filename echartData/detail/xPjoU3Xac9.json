{"status":0,"data":{"cid":"xPjoU3Xac9","authorUid":"obd-oPvKXcSGmLpm8qcAiYnaWMErxKKQJ9c","authorUserName":"182*****270","title":"立体圆柱","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-12-27T07:20:15.000Z","lastUpdateTime":"2021-12-28T01:07:56.000Z","auth":2,"uid":"obd-oPvKXcSGmLpm8qcAiYnaWMErxKKQJ9c","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-12-28T01:07:56.000Z","code":"var barWidth = 300;\n\n//安全 最高 当前的百分比值\nvar safeStock = 50;\nvar maxStock = 110;\nvar value = 80;\nvar maxNum = 150;\nvar safeStockPer = parseInt((safeStock / maxNum) * 100);\nvar maxStockPer = parseInt((maxStock / maxNum) * 100);\nvar valuePer = parseInt(((value > maxNum ? maxNum : value) / maxNum) * 100);\n\noption = {\n    backgroundColor: 'transparent',\n    title: {\n        show: true,\n        text: '大标题',\n        subtext: '副标题',\n        left: '8%',\n        bottom: '50%',\n        textStyle: {\n            fontSize: 14,\n            fontWeight: 'bold',\n            fontFamily: 'Microsoft YaHei',\n        },\n        subtextStyle: {\n            fontStyle: 'italic',\n            fontSize: 14,\n        },\n    },\n    tooltip: {\n        trigger: 'item',\n    },\n    xAxis: {\n        data: ['百分比'],\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n            textStyle: {\n                color: '#e54035',\n            },\n        },\n    },\n    yAxis: {\n        splitLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    series: [\n        {\n            //圆柱底部的立体圆,  修改后位置\n            name: '圆柱底部的立体圆',\n            type: 'pictorialBar',\n            symbolSize: [barWidth, (barWidth / 5) * 2], //图形的大小，[宽，高]\n            symbolOffset: [0, '50%'], //图形相对于原本位置的偏移，[0, '-50%'] 就是把图形向上移动了自身尺寸的一半的位置\n            z: 12,\n            //zIndex: 15,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: valuePer,\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(86,177,213, 1)',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            //最下层外圈的立体元    修改后\n            name: '最下层外圈的立体元',\n            type: 'pictorialBar',\n            // symbol: 'image://./imgs/pictorialBar.png',\n            symbolSize: [barWidth * 1.6, (barWidth / 5) * 2 * 1.9],\n            symbolOffset: [0, '48%'],\n            //\"z\": 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: valuePer,\n                    \t\t\t\t\t\t\t\"itemStyle\": {\n                    \t\t\t\t\t\t\t\t\"normal\": {\n                    \t\t\t\t\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    \t\t\t\t\t\t\t\t\t\t\toffset: 0,\n                    \t\t\t\t\t\t\t\t\t\t\tcolor: \"rgba(89,211,255,.3)\"\n                    \t\t\t\t\t\t\t\t\t\t},\n                    \t\t\t\t\t\t\t\t\t\t{\n                    \t\t\t\t\t\t\t\t\t\t\toffset: 1,\n                    \t\t\t\t\t\t\t\t\t\t\tcolor: \"rgba(23,237,194,.3)\"\n                    \t\t\t\t\t\t\t\t\t\t}\n                    \t\t\t\t\t\t\t\t\t])\n                    \t\t\t\t\t\t\t\t}\n                    \t\t\t\t\t\t\t}\n                },\n            ],\n        },\n\n        //下半截柱状图\n        {\n            name: '占比柱状图',\n            type: 'bar',\n            barWidth: barWidth,\n            barGap: '-100%', //不同系列的柱间距离，为'-100%'时柱子做背景\n            z: 11,\n            tooltip: {\n                show: false,\n            },\n            \t\t\t\t\t\titemStyle: { //lenged文本\n            \t\t\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n            \t\t\t\t\t\t\t\t\toffset: 0,\n            \t\t\t\t\t\t\t\t\tcolor: \"rgba(55,255,249,1)\"\n            \t\t\t\t\t\t\t\t},\n            \t\t\t\t\t\t\t\t{\n            \t\t\t\t\t\t\t\t\toffset: 1,\n            \t\t\t\t\t\t\t\t\tcolor: \"rgba(0,222,215,0.2)\"\n            \t\t\t\t\t\t\t\t}\n            \t\t\t\t\t\t\t])\n            \t\t\t\t\t\t},\n\n            data: [\n                {\n                    name: '',\n                    value: valuePer,\n                    itemStyle: {\n                        //修改后\n                        normal: {\n                            color: {\n                                x: 1,\n                                y: 1,\n                                x2: 0,\n                                y2: 0,\n                                type: 'linear',\n                                global: false,\n                                colorStops: [\n                                    {\n                                        //第一节下面\n                                        offset: 0,\n                                        color: 'rgba(120,201,230,.7)',\n                                    },\n                                    {\n                                        //第一节下面\n                                        offset: 0.3,\n                                        color: 'rgba(74,166,203,.9)',\n                                    },\n                                    {\n                                        //第一节下面\n                                        offset: 0.7,\n                                        color: 'rgba(74,166,203,.9)',\n                                    },\n                                    {\n                                        offset: 1,\n                                        //\"color\": \"#43bafe\",\n                                        color: 'rgba(120,201,230,.7)',\n                                    },\n                                ],\n                            },\n                        },\n                    },\n                },\n            ],\n        },\n\n        {\n            // 替代柱状图 默认不显示颜色，是最下方柱图的value值 - 20\n            type: 'bar',\n            barWidth: barWidth,\n            barGap: '-100%',\n            stack: 'a',\n            z: 8,\n            tooltip: {\n                show: false,\n            },\n            itemStyle: {\n                color: 'transparent',\n            },\n            data: [valuePer],\n        },\n\n        {\n            name: '柱状图头部外层立体圆', //头部\n            type: 'pictorialBar',\n            symbolSize: [barWidth, (barWidth / 5) * 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: '100',\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .5)', //修改后\n                            borderColor: 'rgba(104,136,183)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '柱状图头部中间立体圆', //头部\n            type: 'pictorialBar',\n            symbolSize: [barWidth / 2, ((barWidth / 5) * 2) / 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: '100',\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .5)', //修改后\n                            borderColor: 'rgba(104,136,183)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '柱状图头部内部立体圆', //头部\n            type: 'pictorialBar',\n            symbolSize: [(barWidth / 5) * 1.5, (((barWidth / 5) * 2) / 5) * 1.5],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: '100',\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .5)', //修改后\n                            borderColor: 'rgba(104,136,183)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '最高库存外层立体圆', //最高库存\n            type: 'pictorialBar',\n            symbolSize: [barWidth, (barWidth / 5) * 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: maxStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '最高库存中间立体圆', //最高库存\n            type: 'pictorialBar',\n            symbolSize: [barWidth / 2, ((barWidth / 5) * 2) / 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: maxStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '最高库存内部立体圆', //最高库存\n            type: 'pictorialBar',\n            symbolSize: [(barWidth / 5) * 1.5, (((barWidth / 5) * 2) / 5) * 1.5],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: maxStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '最高库存圆心', //最高库存圆心\n            type: 'pictorialBar',\n            symbolSize: [5, 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            label: {\n                show: true,\n                position: 'top',\n                //color: '#02040D',\n                color: \"#fff\",\n                fontSize: 12,\n                formatter: '最高',\n            },\n            data: [\n                {\n                    name: '',\n                    value: maxStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(91,154,174)',\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n\n        {\n            name: '安全库存外层立体圆', //安全库存\n            type: 'pictorialBar',\n            symbolSize: [barWidth, (barWidth / 5) * 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: safeStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '安全库存中间立体圆', //安全库存\n            type: 'pictorialBar',\n            symbolSize: [barWidth / 2, ((barWidth / 5) * 2) / 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: safeStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '安全库存内部立体圆', //安全库存\n            type: 'pictorialBar',\n            symbolSize: [(barWidth / 5) * 1.5, (((barWidth / 5) * 2) / 5) * 1.5],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            data: [\n                {\n                    name: '',\n                    value: safeStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(22,75,119, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '安全库存圆心', //安全库存圆心\n            type: 'pictorialBar',\n            symbolSize: [5, 2],\n            symbolOffset: [0, '-50%'],\n            z: 12,\n            tooltip: {\n                show: false,\n            },\n            label: {\n                show: true,\n                position: 'top',\n                color: \"#fff\",\n                fontSize: 12,\n                formatter: '安全',\n            },\n            data: [\n                {\n                    name: '',\n                    value: safeStockPer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(91,154,174, .3)', //修改后\n                            borderColor: 'rgba(91,154,174)', //修改后\n                            borderWidth: 2,\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            name: '库存量立体圆',\n            type: 'pictorialBar',\n            symbolSize: [barWidth, (barWidth / 5) * 2],\n            symbolOffset: [0, '-50%'],\n            z: 13,\n            tooltip: {\n                formatter: '当前库存量为' + value,\n            },\n            data: [\n                {\n                    name: '',\n                    value: valuePer,\n                    symbolPosition: 'end',\n                    itemStyle: {\n                        normal: {\n                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [\n                                {\n                                    //修改前\n                                    offset: 0,\n                                    color: 'rgba(74,166,203,.7)',\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(74,166,203,.7)',\n                                },\n                            ]),\n                        },\n                    },\n                },\n            ],\n        },\n\n        {\n            name: '上部柱状图',\n            type: 'bar',\n            barWidth: barWidth,\n            barGap: '-100%',\n            tooltip: {\n                show: false,\n            },\n            z: 10,\n            stack: 'a',\n            itemStyle: {\n                // barBorderRadius: 20,\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                    {\n                        offset: 1,\n                        color: 'rgba(0,255,100,0.5)',\n                    },\n                    {\n                        offset: 1,\n                        color: 'rgba(0,255,100,0.5)',\n                    },\n                ]),\n            },\n            data: [\n                {\n                    name: '',\n                    value: '100' - valuePer,\n                    //\"trueVal\": \"22\",\n                    itemStyle: {\n                        normal: {\n                            color: {\n                                x: 0,\n                                y: 1,\n                                x2: 0,\n                                y2: 0,\n                                type: 'linear',\n                                global: false,\n                                colorStops: [\n                                    {\n                                        offset: 0,\n                                        color: 'rgba(91,154,174,.3)',\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: 'rgba(91,154,174,.7)',\n                                    },\n                                ],\n                            },\n                        },\n                    },\n                },\n            ],\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oPvKXcSGmLpm8qcAiYnaWMErxKKQJ9c","theme":"","layout":"","viewCount":0,"userName":"182*****270","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPjoU3Xac9.png?v=1640653676507","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar","title","tooltip"],"customTags":[],"updaterUserName":"182*****270"}}