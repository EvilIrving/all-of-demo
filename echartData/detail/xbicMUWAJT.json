{"status":0,"data":{"cid":"xbicMUWAJT","authorUid":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","authorUserName":"c***9","title":"跑步数据","description":"2021/10/25","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-24T17:35:22.000Z","lastUpdateTime":"2021-10-24T17:35:22.000Z","auth":2,"uid":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-24T17:35:22.000Z","code":" // 数据\r\n  var dateBase = new Date();\r\n  var year = dateBase.getFullYear();\r\n  var dottedBase = +dateBase + 1000 * 3600 * 24;\r\n  var weekCategory = [];\r\n\r\n  var radarData = [];\r\n  var radarDataAvg = [];\r\n  var maxData = 12000;\r\n  var weekMaxData = [];\r\n  var weekLineData = [];\r\n\r\n\r\n  // 周数据\r\n  // for (var i = 0; i < 7; i++) {\r\n  //   // 日期\r\n  //   var date = new Date(dottedBase -= 1000 * 3600 * 24);\r\n  //   weekCategory.unshift([\r\n  //     date.getMonth() + 1,\r\n  //     date.getDate()\r\n  //   ].join('/'));\r\n\r\n  //   // 折线图数据\r\n  //   weekMaxData.push(maxData);\r\n  //   var distance = Math.round(Math.random() * 11000 + 500);\r\n  //   weekLineData.push(distance);\r\n\r\n  //   // 雷达图数据\r\n  //   // 我的指标\r\n  //   var averageSpeed = +(Math.random() * 5 + 3).toFixed(3);\r\n  //   var maxSpeed = averageSpeed + (+(Math.random() * 3).toFixed(2));\r\n  //   var hour = +(distance / 1000 / averageSpeed).toFixed(1);\r\n  //   var radarDayData = [distance, averageSpeed, maxSpeed, hour];\r\n  //   radarData.unshift(radarDayData);\r\n\r\n  //   // 平均指标\r\n  //   var distanceAvg = Math.round(Math.random() * 8000 + 4000);\r\n  //   var averageSpeedAvg = +(Math.random() * 4 + 4).toFixed(3);\r\n  //   var maxSpeedAvg = averageSpeedAvg + (+(Math.random() * 2).toFixed(2));\r\n  //   var hourAvg = +(distance / 1000 / averageSpeed).toFixed(1);\r\n  //   var radarDayDataAvg = [distanceAvg, averageSpeedAvg, maxSpeedAvg, hourAvg];\r\n  //   radarDataAvg.unshift(radarDayDataAvg);\r\n  // }\r\n// 月数据\r\n  for (var i = 0; i < 7; i++) {\r\n    // 日期\r\n    var date = new Date(dottedBase -= 1000 * 3600 * 24);\r\n    weekCategory.unshift([\r\n      date.getMonth() + 1,\r\n      date.getDate()\r\n    ].join('/'));\r\n\r\n    // 折线图数据\r\n    weekMaxData.push(maxData);\r\n    var distance = Math.round(Math.random() * 11000 + 500);\r\n    weekLineData.push(distance);\r\n\r\n    // 雷达图数据\r\n    // 我的指标\r\n    var averageSpeed = +(Math.random() * 5 + 3).toFixed(3);\r\n    var maxSpeed = averageSpeed + (+(Math.random() * 3).toFixed(2));\r\n    var hour = +(distance / 1000 / averageSpeed).toFixed(1);\r\n    var radarDayData = [distance, averageSpeed, maxSpeed, hour];\r\n    radarData.unshift(radarDayData);\r\n\r\n    // 平均指标\r\n    var distanceAvg = Math.round(Math.random() * 8000 + 4000);\r\n    var averageSpeedAvg = +(Math.random() * 4 + 4).toFixed(3);\r\n    var maxSpeedAvg = averageSpeedAvg + (+(Math.random() * 2).toFixed(2));\r\n    var hourAvg = +(distance / 1000 / averageSpeed).toFixed(1);\r\n    var radarDayDataAvg = [distanceAvg, averageSpeedAvg, maxSpeedAvg, hourAvg];\r\n    radarDataAvg.unshift(radarDayDataAvg);\r\n  }\r\n  // weekCategory=[\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\",]\r\n  \r\n  \r\n  // 颜色设置\r\n  var color = {\r\n    linearYtoG: {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 0,\r\n      x2: 1,\r\n      y2: 1,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#f5b44d'\r\n      }, {\r\n        offset: 1,\r\n        color: '#28f8de'\r\n      }]\r\n    },\r\n    linearGtoB: {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 0,\r\n      x2: 1,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#43dfa2'\r\n      }, {\r\n        offset: 1,\r\n        color: '#28f8de'\r\n      }]\r\n    },\r\n    linearBtoG: {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 0,\r\n      x2: 1,\r\n      y2: 0,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: '#1c98e8'\r\n      }, {\r\n        offset: 1,\r\n        color: '#28f8de'\r\n      }]\r\n    },\r\n    areaBtoG: {\r\n      type: 'linear',\r\n      x: 0,\r\n      y: 0,\r\n      x2: 0,\r\n      y2: 1,\r\n      colorStops: [{\r\n        offset: 0,\r\n        color: 'rgba(35,184,210,.2)'\r\n      }, {\r\n        offset: 1,\r\n        color: 'rgba(35,184,210,0)'\r\n      }]\r\n    }\r\n  };\r\n\r\n  var option = {\r\n  \r\n    title: {\r\n      text: '',\r\n      textStyle: {\r\n        color: '#fff',\r\n        fontSize: 32,\r\n        fontWeight: 'normal'\r\n      },\r\n      subtext: year + '/' + weekCategory[6],\r\n      subtextStyle: {\r\n        color: '#fff',\r\n        fontSize: 16,\r\n      },\r\n      top: 50,\r\n      left: 80\r\n    },\r\n    legend: {\r\n      top: 220,\r\n      left: 80,\r\n      orient: 'vertical',\r\n      itemGap: 15,\r\n      itemWidth: 12,\r\n      itemHeight: 12,\r\n      data: ['危房改造', '我的指标'],\r\n      textStyle: {\r\n        color: '#fff',\r\n        fontSize: 14,\r\n      },\r\n    },\r\n    tooltip: {\r\n      trigger: 'item'\r\n    },\r\n    radar: {\r\n      center: ['68%', '27%'],\r\n      radius: '40%',\r\n      name: {\r\n        color: '#fff'\r\n      },\r\n      splitNumber: 8,\r\n      axisLine: {\r\n        lineStyle: {\r\n          color: color.linearYtoG,\r\n          opacity: .6\r\n        }\r\n      },\r\n      splitLine: {\r\n        lineStyle: {\r\n          color: color.linearYtoG,\r\n          opacity: .6\r\n        }\r\n      },\r\n      splitArea: {\r\n        areaStyle: {\r\n          color: '#fff',\r\n          opacity: .1,\r\n          shadowBlur: 25,\r\n          shadowColor: '#000',\r\n          shadowOffsetX: 0,\r\n          shadowOffsetY: 5,\r\n        }\r\n      },\r\n      indicator: [{\r\n        name: '抗震宜居评定(户)',\r\n        max: maxData\r\n      }, {\r\n        name: '房屋灾害普查(户)',\r\n        max: 10\r\n      }, {\r\n        name: '重点关注家庭(户)',\r\n        max: 12\r\n      }, {\r\n        name: '农房安全巡检(户)',\r\n        max: 3.5\r\n      }]\r\n    },\r\n    grid: {\r\n      left: 90,\r\n      right: 80,\r\n      bottom: 40,\r\n      top: '60%',\r\n    },\r\n    xAxis: {\r\n      type: 'category',\r\n      position: 'bottom',\r\n      axisLine: true,\r\n      axisLabel: {\r\n        color: 'rgba(255,255,255,.8)',\r\n        fontSize: 12\r\n      },\r\n      data: weekCategory,\r\n    },\r\n    yAxis: {\r\n      name: 'km/h',\r\n      nameLocation: 'end',\r\n      nameGap: 24,\r\n      nameTextStyle: {\r\n        color: 'rgba(255,255,255,.5)',\r\n        fontSize: 14\r\n      },\r\n      max: maxData,\r\n      splitNumber: 4,\r\n\r\n      axisLine: {\r\n        lineStyle: {\r\n          opacity: 0\r\n        }\r\n      },\r\n      splitLine: {\r\n        show: true,\r\n        lineStyle: {\r\n          color: '#fff',\r\n          opacity: .1\r\n        }\r\n      },\r\n      axisLabel: {\r\n        color: 'rgba(255,255,255,.8)',\r\n        fontSize: 12\r\n\r\n      }\r\n    },\r\n    series: [{\r\n      name: '每日跑步指标分布与比较',\r\n      type: 'radar',\r\n      symbolSize: 0,\r\n      data: [\r\n      //   {\r\n      //   value: radarDataAvg[6],\r\n      //   name: '平均指标',\r\n      //   itemStyle: {\r\n      //     normal: {\r\n      //       color: '#f8d351',\r\n      //     }\r\n      //   },\r\n      //   lineStyle: {\r\n      //     normal: {\r\n      //       opacity: 0,\r\n      //     }\r\n      //   },\r\n      //   areaStyle: {\r\n      //     normal: {\r\n      //       color: '#f8d351',\r\n      //       shadowBlur: 25,\r\n      //       shadowColor: 'rgba(248,211,81,.3)',\r\n      //       shadowOffsetX: 0,\r\n      //       shadowOffsetY: -10,\r\n      //       opacity: 1\r\n      //     }\r\n      //   },\r\n      // }, \r\n      {\r\n        value: radarData[6],\r\n        name: '危房改造',\r\n        itemStyle: {\r\n          normal: {\r\n            color: '#43dfa2',\r\n          }\r\n        },\r\n        lineStyle: {\r\n          normal: {\r\n            opacity: 0,\r\n          }\r\n        },\r\n        //     areaStyle: {\r\n        //   normal: {\r\n        //     color: '#f8d351',\r\n        //     shadowBlur: 25,\r\n        //     shadowColor: 'rgba(248,211,81,.3)',\r\n        //     shadowOffsetX: 0,\r\n        //     shadowOffsetY: -10,\r\n        //     opacity: 1\r\n        //   }\r\n        // },\r\n        areaStyle: {\r\n          normal: {\r\n            color: color.linearGtoB,\r\n            shadowBlur: 15,\r\n            shadowColor: 'rgba(0,0,0,.2)',\r\n            shadowOffsetX: 0,\r\n            shadowOffsetY: 5,\r\n            opacity: .8\r\n          }\r\n        },\r\n      }]\r\n    }, {\r\n      name: '危房改造',\r\n      type: 'line',\r\n      smooth: true,\r\n      symbol: 'emptyCircle',\r\n      symbolSize: 8,\r\n      itemStyle: {\r\n        normal: {\r\n          color: '#fff'\r\n        }\r\n      },\r\n      lineStyle: {\r\n        normal: {\r\n          color: color.linearBtoG,\r\n          width: 2\r\n        }\r\n      },\r\n      areaStyle: {\r\n        normal: {\r\n          color: color.areaBtoG,\r\n        }\r\n      },\r\n      data: weekLineData,\r\n      lineSmooth: true,\r\n      markLine: {\r\n        silent: true,\r\n        data: [{\r\n          type: 'average',\r\n          name: '新建房屋'\r\n        }],\r\n        precision: 0,\r\n        label: {\r\n          normal: {\r\n            formatter: '新建房屋 \\n {c}'\r\n          }\r\n        },\r\n        lineStyle: {\r\n          normal: {\r\n            color: 'rgba(248,211,81,.7)'\r\n          }\r\n        }\r\n      },\r\n      tooltip: {\r\n        position: 'top',\r\n        formatter: '{c} m',\r\n        backgroundColor: 'rgba(28,152,232,.2)',\r\n        padding: 6\r\n      }\r\n    }, {\r\n      name: '占位背景',\r\n      type: 'bar',\r\n      itemStyle: {\r\n        normal: {\r\n          show: true,\r\n          color: '#000',\r\n          opacity: 0\r\n        }\r\n      },\r\n      silent: true,\r\n      barWidth: '50%',\r\n      data: weekMaxData,\r\n      animation: false\r\n    }, {\r\n      name: '占位背景',\r\n      type: 'bar',\r\n      itemStyle: {\r\n        normal: {\r\n          show: true,\r\n          color: '#000',\r\n          opacity: .1\r\n        }\r\n      },\r\n      silent: true,\r\n      barWidth: '50%',\r\n      barGap: 0,\r\n      data: weekMaxData,\r\n      animation: false\r\n    }],\r\n  backgroundColor:'#083238',\r\n  };\r\n\r\n// 点击事件\r\n  myChart.on('click', function(params) {\r\n    if (params.componentType === 'series' && params.seriesType === 'line') {\r\n\r\n      var dataIndex = params.dataIndex;\r\n      myChart.setOption({\r\n        series: [\r\n        {\r\n      name: '每日跑步指标分布与比较',\r\n      type: 'radar',\r\n      symbolSize: 0,\r\n      data: [\r\n      //   {\r\n      //   name: '平均指标',\r\n      //   value: radarDataAvg[dataIndex],\r\n      //   itemStyle: {\r\n      //     normal: {\r\n      //       color: '#f8d351',\r\n      //     }\r\n      //   },\r\n      //   lineStyle: {\r\n      //     normal: {\r\n      //       opacity: 0,\r\n      //     }\r\n      //   },\r\n      //   areaStyle: {\r\n      //     normal: {\r\n      //       color: '#f8d351',\r\n      //       shadowBlur: 25,\r\n      //       shadowColor: 'rgba(248,211,81,.3)',\r\n      //       shadowOffsetX: 0,\r\n      //       shadowOffsetY: -10,\r\n      //       opacity: 1\r\n      //     }\r\n      //   },\r\n      // },\r\n      {\r\n        name: '我的指标',\r\n        value: radarData[dataIndex],\r\n        itemStyle: {\r\n          normal: {\r\n            color: '#43dfa2',\r\n          }\r\n        },\r\n        lineStyle: {\r\n          normal: {\r\n            opacity: 0,\r\n          }\r\n        },\r\n        areaStyle: {\r\n          normal: {\r\n            color: color.linearGtoB,\r\n            shadowBlur: 15,\r\n            shadowColor: 'rgba(0,0,0,.2)',\r\n            shadowOffsetX: 0,\r\n            shadowOffsetY: 5,\r\n            opacity: .8\r\n          }\r\n        },\r\n      }]\r\n    }]\r\n      })\r\n    }\r\n  });","html":"","externalScripts":"","updaterUID":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","theme":"","layout":"","viewCount":0,"userName":"c***9","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xbicMUWAJT.png?v=1635096922265","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","radar","series-bar","series-line","series-radar","title","tooltip"],"customTags":[],"updaterUserName":"c***9"}}