{"status":0,"data":{"cid":"xymF3jIPvf","authorUid":"obd-oEV_LrYDGjMqUojCrZDqGcXQjTady4x","authorUserName":"忘***地","title":"测试品","description":"测试用品,多叠层,自己实现log轴","latestVersion":1,"alwaysLatest":1,"createTime":"2021-09-03T09:55:30.000Z","lastUpdateTime":"2021-09-03T09:55:30.000Z","auth":2,"uid":"obd-oEV_LrYDGjMqUojCrZDqGcXQjTady4x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-03T09:55:31.000Z","code":"function data_pow(value) {\n    if (value > 0) {\n        value = Math.pow(10, value).toFixed(2);\n    } else if (value < 0) {\n        value = Math.pow(10, -value).toFixed(2);\n    } else {\n        value = 0.0;\n    }\n    if (value / 100000000 >= 1) {\n        amount_label = value / 100000000 + '亿元';\n    } else if (value / 10000 >= 1) {\n        amount_label = value / 10000 + '万元';\n    } else {\n        amount_label = value + '元';\n    }\n\n    return amount_label;\n}\n\noption = {\n    legend: { data: ['北京收入', '北京支出', '河南收入', '河南支出'], left: 'center', type: 'scroll' },\n    title: {\n        subtext: '数据来自国家统计局',\n    },\n    grid: {\n        top: 80,\n        bottom: 100,\n    },\n    dataZoom: [\n        {\n            show: true,\n            start: 0,\n            end: 100,\n        },\n        {\n            type: 'inside',\n            start: 50,\n            end: 100,\n        },\n        {\n            show: true,\n            yAxisIndex: 0,\n            filterMode: 'empty',\n            width: 30,\n            height: '80%',\n            showDataShadow: true,\n            left: '93%',\n        },\n    ],\n    brush: {\n        toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],\n        xAxisIndex: 0,\n    },\n    toolbox: {\n        show: 'true',\n        feature: {\n            dataView: {\n                readOnly: 'true',\n            },\n            magicType: {\n                type: ['line', 'stack', 'tiled', 'bar'],\n            },\n            restore: { show: true },\n            saveAsImage: { show: true },\n        },\n    },\n\n    tooltip: {\n        trigger: 'item',\n        formatter: function (params) {\n            var color = params.color; //图例颜色\n            var htmlStr = '<div>';\n            htmlStr += params.name + '<br/>'; //x轴的名称\n            htmlStr +=\n                '<span style=\"margin-right:5px;display:inline-block;width:10px;height:10px;border-radius:5px;background-color:' +\n                color +\n                ';\"></span>';\n\n            //将数据转换后带单位的金额\n            htmlStr += params.seriesName + '：' + data_pow(params.value);\n            htmlStr += '</div>';\n\n            return htmlStr;\n        },\n    },\n    xAxis: {\n        'name': '年份',\n        data: ['2015', '2016', '2017', '2018', '2019', '2020', '2021'],\n        type: 'category',\n    },\n    yAxis: {\n        // show:false,\n        type: 'value',\n        splitNumber: 20,\n        // max: (value) => {\n        //     max = value.max;\n        //     return (value.max * 1.5).toFixed(0); // 乘的目的是不想让图表顶到最顶部\n        // },\n        axisLabel: {\n            formatter: function (value) {\n                value = data_pow(value)\n                return value\n            },\n        },\n    },\n\n    series: [\n        {\n            name: '北京',\n            data: [\n                10.096386929167862,\n                8.913310414655754,\n                7.4156076226641465,\n                8.60356165255235,\n                6.286231854028553,\n                5.0,\n                0.0,\n            ],\n            type: 'bar',\n            stack: 'one',\n        },\n        {\n            name: '北京',\n            data: [\n                -10.096386929167862,\n                -8.913310414655754,\n                -7.4156076226641465,\n                -8.60356165255235,\n                -6.286231854028553,\n                -5.0,\n                -0.0,\n            ],\n            type: 'bar',\n            stack: 'one',\n        },\n        {\n            name: '河南收入',\n            data: [\n                10.096386929167862,\n                8.913310414655754,\n                7.4156076226641465,\n                8.60356165255235,\n                6.286231854028553,\n                5.0,\n                0.0,\n            ],\n            type: 'bar',\n            stack: 'two',\n        },\n        {\n            data: [\n                -10.096386929167862,\n                -8.913310414655754,\n                -7.4156076226641465,\n                -8.60356165255235,\n                -6.286231854028553,\n                -5.0,\n                -0.0,\n            ],\n            type: 'bar',\n            stack: 'two',\n        },\n    ],\n};\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/papaparse/papaparse.min.js,https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js","updaterUID":"obd-oEV_LrYDGjMqUojCrZDqGcXQjTady4x","theme":"","layout":"","viewCount":0,"userName":"忘***地","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xymF3jIPvf.png?v=1630662931126","isCustomThumbnail":0,"builtinTags":["brush","category-work","dataZoom","grid","legend","series-bar","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"忘***地"}}