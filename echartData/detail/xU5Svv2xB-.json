{"status":0,"data":{"cid":"xU5Svv2xB-","authorUid":"bd-1411513722","authorUserName":"xueboren001","title":"wy-manpower-time-stack","description":"人力日报 - 3个维度: 日期、人力类型、分公司","latestVersion":3,"alwaysLatest":1,"createTime":"2018-11-27T14:52:31.000Z","lastUpdateTime":"2018-11-27T14:52:31.000Z","auth":2,"uid":"bd-1411513722","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.0","versionCreateTime":"2018-11-29T02:01:27.000Z","code":"\nfunction generateData(count) {\n  var baseValue = Math.random() * 1000\n  var time = +new Date()\n  var smallBaseValue\n\n  function next(idx) {\n    smallBaseValue = idx % 30 === 0\n      ? Math.random() * 700\n      : (smallBaseValue + Math.random() * 500 - 250)\n    baseValue += Math.random() * 20 - 10\n    return Math.max(\n      0,\n      Math.round(baseValue + smallBaseValue) + 3000\n    )\n  }\n\n  var categoryData = []\n  var valueData = []\n\n  for (var i = 0; i < count; i++) {\n    const category = echarts.format.formatTime('yyyy-MM-dd', time)\n    categoryData.push(category)\n    valueData.push(next(i).toFixed(2))\n    // const datas = []\n    // for (let j = 0; j < count; j++) {\n    //   datas.push(next(j).toFixed(2))\n    // }\n    // valueData.push({\n    //   name: category,\n    //   type: 'bar',\n    //   data: datas\n    // })\n    time -= 24 * 60 * 60 * 1000\n  }\n\n  return {\n    categoryData: categoryData.reverse(),\n    valueDataOne: valueData.reverse(),\n    valueDataTwo: valueData.reverse().map(item => item * 1.1),\n    valueDataThree: valueData.reverse().map(item => item * 1.5),\n    valueData1: valueData.reverse().map(item => item * 0.2),\n    valueData2: valueData.reverse().map(item => item * 0.3),\n    valueData3: valueData.reverse().map(item => item * 0.15),\n    valueData4: valueData.reverse().map(item => item * 0.26),\n    valueData5: valueData.reverse().map(item => item * 0.08),\n    valueData6: valueData.reverse().map(item => item * 0.12),\n    valueData7: valueData.reverse().map(item => item * 0.18),\n    valueData8: valueData.reverse().map(item => item * 0.17)\n  }\n}\nvar count = 7\nvar data = generateData(count)\n\nvar timeToday = echarts.format.formatTime('yyyy-MM-dd', new Date())\nvar timeTodayBefore7 = echarts.format.formatTime('yyyy-MM-dd', new Date(Date.now() - 24 * 60 * 60 * 1000 * 7))\n\noption = {\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: { // 坐标轴指示器，坐标轴触发有效\n      type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n    }\n  },\n  legend: {\n    type: 'scroll',\n    data: [\n      { name: '上岗人力', icon: 'circle', textStyle: { color: 'red' }},\n      { name: '出单人力', icon: 'circle', textStyle: { color: 'red' }},\n      { name: '在职人力', icon: 'circle', textStyle: { color: 'red' }},\n      { name: '浙江分公司', icon: 'triangle' },\n      { name: '江苏分公司', icon: 'triangle' },\n      { name: '云南分公司', icon: 'triangle' },\n      { name: '安徽分部', icon: 'triangle' },\n      { name: '山西分公司', icon: 'triangle' },\n      { name: '上海分公司', icon: 'triangle' },\n      { name: '广州分公司', icon: 'triangle' },\n      { name: '河北分公司', icon: 'triangle' }\n    ]\n  },\n  xAxis: [{\n    type: 'category',\n    data: data.categoryData\n  }],\n  yAxis: [{\n    type: 'value'\n  }],\n  series: [\n    { name: '上岗人力', type: 'bar', data: data.valueDataOne },\n    { name: '出单人力', type: 'bar', data: data.valueDataTwo },\n    { name: '在职人力', type: 'bar', data: data.valueDataThree },\n    { name: '浙江分公司', type: 'bar', data: data.valueData1, stack: '上岗人力' },\n    { name: '江苏分公司', type: 'bar', data: data.valueData2, stack: '上岗人力' },\n    { name: '云南分公司', type: 'bar', data: data.valueData3, stack: '上岗人力' },\n    { name: '安徽分部', type: 'bar', data: data.valueData4, stack: '上岗人力' },\n    { name: '山西分公司', type: 'bar', data: data.valueData5, stack: '上岗人力' },\n    { name: '上海分公司', type: 'bar', data: data.valueData6, stack: '上岗人力' },\n    { name: '广州分公司', type: 'bar', data: data.valueData7, stack: '上岗人力' },\n    { name: '河北分公司', type: 'bar', data: data.valueData8, stack: '上岗人力' }\n  ]\n}\n","html":"","externalScripts":"","updaterUID":"bd-1411513722","theme":"","layout":"","viewCount":88,"userName":"xueboren001","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xU5Svv2xB-.png?v=1543456887156","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":["brokerage","wy"],"updaterUserName":"xueboren001"}}