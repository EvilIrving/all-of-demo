{"status":0,"data":{"cid":"xry5ie-gUQ","authorUid":"bd-2720940282","authorUserName":"猴***9","title":"球赛技术统计","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-08-14T07:11:29.000Z","lastUpdateTime":"2018-08-14T07:11:29.000Z","auth":2,"uid":"bd-2720940282","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-08-14T07:11:29.000Z","code":"\n\nvar data = {\n    \"_type\": \"statistics\",\n    \"_title\": \"中超#2018-05-13#江苏苏宁vs大连一方\",\n    \"_data\": [\n        {\n            \"_name\": \"进球\",\n            \"_left\": \"1\",\n            \"_right\": \"0\"\n        },\n        {\n            \"_name\": \"控球率\",\n            \"_left\": \"42.5%\",\n            \"_right\": \"57.5%\"\n        },\n        {\n            \"_name\": \"助攻\",\n            \"_left\": \"1\",\n            \"_right\": \"0\"\n        },\n        {\n            \"_name\": \"射正\",\n            \"_left\": \"4\",\n            \"_right\": \"1\"\n        },\n        {\n            \"_name\": \"射门\",\n            \"_left\": \"15\",\n            \"_right\": \"13\"\n        },\n        {\n            \"_name\": \"传球\",\n            \"_left\": \"281\",\n            \"_right\": \"369\"\n        },\n        {\n            \"_name\": \"抢断\",\n            \"_left\": \"21\",\n            \"_right\": \"13\"\n        },\n        {\n            \"_name\": \"角球\",\n            \"_left\": \"2\",\n            \"_right\": \"8\"\n        },\n        {\n            \"_name\": \"任意球\",\n            \"_left\": \"20\",\n            \"_right\": \"13\"\n        },\n        {\n            \"_name\": \"越位\",\n            \"_left\": \"1\",\n            \"_right\": \"0\"\n        },\n        {\n            \"_name\": \"犯规\",\n            \"_left\": \"13\",\n            \"_right\": \"20\"\n        },\n        {\n            \"_name\": \"黄牌\",\n            \"_left\": \"2\",\n            \"_right\": \"4\"\n        },\n        {\n            \"_name\": \"红牌\",\n            \"_left\": \"3\",\n            \"_right\": \"3\"\n        }\n    ],\n    \"_teams\": [\n        \"江苏苏宁\",\n        \"大连一方\"\n    ],\n    \"_league_name\": \"中超\"\n}\n\n\n\n\nvar uploadedDataURL1 = \"/asset/get/s/data-1534230068281-ry3ERxeU7.jpg\";\nvar uploadedDataURL2 = \"/asset/get/s/data-1534230056221-B1xEAgxU7.jpg\"\nvar zongjine = [0];\nvar team = [];\nvar myData = [];\nvar myData_l = [];\nvar myData_r = [];\nvar garybar = [];\nvar data_l = [];\nvar data_r = [];\nvar colorList1 = [];\nvar colorList2 = [];\n\nfunction dataConvert(data) {\n    team = data['_teams'];\n    for(var i = 0;i < data['_data'].length;i++) {\n        myData.push(data['_data'][i]['_name']);\n        var l = parseFloat(data['_data'][i]['_left']);\n        var r = parseFloat(data['_data'][i]['_right']);\n        myData_l.push(data['_data'][i]['_left']);\n        myData_r.push(data['_data'][i]['_right']);\n        garybar.push(1);\n        var l2 = l/(l+r);\n        var r2 = r/(l+r);\n        data_l.push(l2);\n        data_r.push(r2);\n        if(l2 > r2) {\n            colorList1.push('#53a748');\n            colorList2.push('#888888');\n        }\n        else if(l2 == r2) {\n            colorList1.push('#53a748');\n            colorList2.push('#53a748');\n        }\n        else {\n            colorList1.push('#888888');\n            colorList2.push('#53a748');\n        };\n\n    }\n    console.log(colorList1);\n    \n}\ndataConvert(data);\noption = {\n    textStyle: {\n        fontFamily: 'PingFangSC-Medium, sans-serif'\n    },\n    title : {\n        text: '技术统计',\n        x: 'center',\n        align: 'right',\n        textStyle: {\n            fontSize: 24,\n            color: '#4a4a4a',\n        }\n\n\n    },\n        \n    grid: [{\n        show: false,\n        left: '3%',\n        top: 120,\n        bottom: 10,\n        width: '0%',\n    }, {\n        show: false,\n        left: '10%',\n        top: 120,\n        bottom: 10,\n        containLabel: true,\n        width: '34%',\n    }, {\n        show: false,\n        left: '49%',\n        top: 120,\n        bottom: 10,\n        width: '0%',\n    }, {\n        show: false,\n        right: '10%',\n        top: 120,\n        bottom: 10,\n        containLabel: true,\n        width: '34%',\n    }, {\n        show: false,\n        right: '3%',\n        top: 120,\n        bottom: 10,\n        width: '0%',\n    },\n    {\n        show: false,\n        left: '23%',\n        top: 5,\n        bottom: 10,\n        containLabel: true,\n        width: '10%',\n    },\n    {\n        show: false,\n        left: '68%',\n        top: 5,\n        bottom: 10,\n        containLabel: true,\n        width: '10%',\n    }],\n\n    xAxis: [\n        {\n\n            show: false,\n        },\n        {\n            gridIndex: 1,\n            type: 'value',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'top',\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#B2B2B2',\n                    fontSize: 12,\n                },\n            },\n            splitLine: {\n                show: false,\n                lineStyle: {\n                    color: '#1F2022',\n                    width: 1,\n                    type: 'solid',\n                },\n            },\n        }, {\n            gridIndex: 2,\n            show: false,\n        }, {\n            gridIndex: 3,\n            type: 'value',\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            position: 'top',\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#B2B2B2',\n                    fontSize: 12,\n                },\n            },\n            splitLine: {\n                show: false,\n                lineStyle: {\n                    color: '#1F2022',\n                    width: 1,\n                    type: 'solid',\n                },\n            },\n        }, {\n            gridIndex: 4,\n            show: false,\n        },{\n            gridIndex: 5,\n            show: false,\n        },{\n            gridIndex: 6,\n            show: false,\n        }],\n    yAxis: [\n        {\n\n            type: 'category',\n            inverse: true,\n            position: 'right',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 16,\n                },\n\n            },\n            data: myData_l.map(function (value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        }, \n        {\n            gridIndex: 1,\n            type: 'category',\n            inverse: true,\n            position: 'right',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                margin: 8,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 12,\n                },\n\n            },\n            data: myData,\n        }, \n        {\n            gridIndex: 2,\n            type: 'category',\n            inverse: true,\n            position: 'right',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 16,\n                },\n\n            },\n            data: myData.map(function (value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        }, \n        {\n            gridIndex: 3,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 12,\n                },\n\n            },\n            data: myData,\n        }, \n        {\n            gridIndex: 4,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 16,\n                },\n\n            },\n            data: myData_r.map(function (value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        },\n        {\n            gridIndex: 5,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 16,\n                },\n\n            },\n            data: myData_r.map(function (value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        },\n        {\n            gridIndex: 6,\n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false,\n                textStyle: {\n                    color: '#4b4b4b',\n                    fontSize: 16,\n                },\n\n            },\n            data: myData_r.map(function (value) {\n                return {\n                    value: value,\n                    textStyle: {\n                        align: 'center',\n                    }\n                }\n            }),\n        }\n    ],\n    series: [\n        {\n            type: 'bar',\n            itemStyle: {\n                normal: {\n                    color: '#ddd'\n                }\n            },\n            silent: true,\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            barWidth: 20,\n            barGap: '-100%', // Make series be overlap\n            data: garybar\n        }, {\n            type: 'bar',\n            itemStyle: {\n                color: function (params){\n                    var colorList = colorList1;\n                    return colorList[params.dataIndex];\n                }\n            },\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n\n            barWidth: 20,\n            z: 10,\n            data: data_l\n        },\n\n        {\n            type: 'bar',\n            itemStyle: {\n                normal: {\n                    color: '#ddd'\n                }\n            },\n            silent: true,\n            barWidth: 20,\n            barGap: '-100%', // Make series be overlap\n            xAxisIndex: 3,\n            yAxisIndex: 3,\n            data: garybar\n        }, {\n            type: 'bar',\n            itemStyle: {\n                color: function (params){\n                    var colorList = colorList2;\n                    return colorList[params.dataIndex];\n                }\n            },\n            barWidth: 20,\n            xAxisIndex: 3,\n            yAxisIndex: 3,\n            z: 10,\n            data: data_r\n        },\n        {\n            type: 'bar',\n            xAxisIndex: 5, \n            yAxisIndex: 5,\n            barGap: '-100%',\n            barWidth: '25%', //统计条宽度\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 20,\n                    color: '#fff'\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\n                    //在这里需要上下统一对齐,所以用固定值\n                    position: [0, '-100%'],\n                    rich: { //富文本\n                        \n                        start1: {\n                            backgroundColor: {\n                                image: uploadedDataURL1,\n                            },\n                            width: 60,\n                            height: 60,\n                            align: 'center',\n                        },\n                        black: {\n                            color: '#4b4b4b',\n                            lineHeight: 50,\n                            align: 'center',\n                            fontSize: 18,\n                        },\n                    },\n                    formatter: function(value) {\n                        //富文本固定格式{colorName|这里填你想要写的内容}\n                        return '{start1|}\\n{black|' + team[0]+'}';\n                    },\n                }\n            },\n            data: zongjine\n        },\n        {\n            type: 'bar',\n            xAxisIndex: 6, \n            yAxisIndex: 6,\n            barGap: '-100%',\n            barWidth: '25%', //统计条宽度\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 20,\n                    color: '#fff'\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\n                    //在这里需要上下统一对齐,所以用固定值\n                    position: [0, '-100%'],\n                    rich: { //富文本\n                        \n                        start1: {\n                            backgroundColor: {\n                                image: uploadedDataURL2,\n                            },\n                            width: 60,\n                            height: 60,\n                            align: 'center',\n                        },\n                        black: {\n                            color: '#4b4b4b',\n                            lineHeight: 50,\n                            align: 'center',\n                            fontSize: 18,\n                        },\n                    },\n                    formatter: function(value) {\n                        //富文本固定格式{colorName|这里填你想要写的内容}\n                        return '{start1|}\\n{black|' + team[1]+'}';\n                    },\n                }\n            },\n            data: zongjine\n        }\n\n    ]\n\n};\n","html":"","externalScripts":"","updaterUID":"bd-2720940282","theme":"","layout":"","viewCount":3467,"userName":"猴***9","commentCount":0,"starCount":21,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xry5ie-gUQ.png?v=1534230690016","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"猴***9"}}