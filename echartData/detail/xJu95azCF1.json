{"status":0,"data":{"cid":"xJu95azCF1","authorUid":"bd-2724980533","authorUserName":"l***9","title":"桑基图颜色设置","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-07-02T08:16:11.000Z","lastUpdateTime":"2019-07-02T08:16:11.000Z","auth":2,"uid":"bd-2724980533","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-02T08:16:11.000Z","code":"var population= [\n                {\"source\": \"惠城区\", \"target\": \"商服用地\",  \"value\": 712359.3},\n                {\"source\": \"惠城区\", \"target\": \"商住用地\",  \"value\": 12500.2},\n                {\"source\": \"惠城区\", \"target\": \"科教用地\",  \"value\": 50241.4},\n                {\"source\": \"惠城区\", \"target\": \"仓储用地\",  \"value\": 42212.9},\n                {\"source\": \"惠城区\", \"target\": \"工业用地\",  \"value\": 180555.06},\n                {\"source\": \"惠城区\", \"target\": \"其他用地\",  \"value\": 8560.2},\n\n                {\"source\": \"仲恺区\", \"target\": \"商服用地\",  \"value\": 618180.6},\n                {\"source\": \"仲恺区\", \"target\": \"商住用地\",  \"value\": 436696.23},\n                {\"source\": \"仲恺区\", \"target\": \"科教用地\",  \"value\": 213535},\n                {\"source\": \"仲恺区\", \"target\": \"工业用地\",  \"value\": 1856227.4},\n\n                {\"source\": \"惠阳区\", \"target\": \"商服用地\",  \"value\": 8950},\n                {\"source\": \"惠阳区\", \"target\": \"商住用地\",  \"value\": 177577.6},\n                {\"source\": \"惠阳区\", \"target\": \"工业用地\",  \"value\": 523499},\n                {\"source\": \"惠阳区\", \"target\": \"其他用地\",  \"value\": 110113},\n\n                {\"source\": \"大亚湾\", \"target\": \"商服用地\",  \"value\": 145857},\n                {\"source\": \"大亚湾\", \"target\": \"商住用地\",  \"value\": 413287.5},\n                {\"source\": \"大亚湾\", \"target\": \"住宅用地\",  \"value\": 73910.8},\n                {\"source\": \"大亚湾\", \"target\": \"工业用地\",  \"value\": 442695},\n                {\"source\": \"大亚湾\", \"target\": \"其他用地\",  \"value\": 2764.4},\n\n                {\"source\": \"博罗县\", \"target\": \"商服用地\",  \"value\": 134172},\n                {\"source\": \"博罗县\", \"target\": \"商住用地\",  \"value\": 294527},\n                {\"source\": \"博罗县\", \"target\": \"住宅用地\",  \"value\": 6851},\n                {\"source\": \"博罗县\", \"target\": \"科教用地\",  \"value\": 121422},\n                {\"source\": \"博罗县\", \"target\": \"工业用地\",  \"value\": 989856.58},\n                {\"source\": \"博罗县\", \"target\": \"其他用地\",  \"value\": 9134},\n\n                {\"source\": \"惠东县\", \"target\": \"商服用地\",  \"value\": 33732.97},\n                {\"source\": \"惠东县\", \"target\": \"商住用地\",  \"value\": 65556.41},\n                {\"source\": \"惠东县\", \"target\": \"住宅用地\",  \"value\": 295348.5},\n                {\"source\": \"惠东县\", \"target\": \"商业用地\",  \"value\": 7391.31},\n                {\"source\": \"惠东县\", \"target\": \"工业用地\",  \"value\": 549721.16},\n\n                {\"source\": \"龙门县\", \"target\": \"商服用地\",  \"value\": 146022.81},\n                {\"source\": \"龙门县\", \"target\": \"住宅用地\",  \"value\": 146422.47},\n                {\"source\": \"龙门县\", \"target\": \"商业用地\",  \"value\": 49587.21},\n                {\"source\": \"龙门县\", \"target\": \"仓储用地\",  \"value\": 36218.96},\n                {\"source\": \"龙门县\", \"target\": \"工业用地\",  \"value\": 267393.02},\n                {\"source\": \"龙门县\", \"target\": \"其他用地\",  \"value\": 4131.95},\n            ]\n\nvar city={\n    '惠城区':'#e9bae8',\n    '仲恺区':'#3dc5e7',\n    '惠阳区':'#2aa12d',\n    '大亚湾':'#e88886',\n    '博罗县':'#feda66',\n    '惠东县':'#c92123',\n    '龙门县':'#8bc77b',\n\n    '商服用地':'#fb7f10',\n    '商住用地':'#e492d0',\n    '住宅用地':'#2aa12d',\n    '商业用地':'#fb7f10',\n    '科教用地':'#98c0fd',\n    '仓储用地':'#4393c3',\n    '工业用地':'#2166ac',\n    '其他用地':'#f97494',\n\n}\nvar citylist=[];\n//遍历city\nfor(var key in city){\n    citylist.push(\n            {name: key,itemStyle: {normal:  {color:city[key]}}}   //构造节点对象，包括name和itemStyle\n    )\n}\nconsole.log(citylist)\nvar data=[];\nfor(var i=0;i<population.length;i++){\n    var color = new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: city[population[i].source]  //获取起始节点的颜色属性\n            },{\n                offset: 1,\n                color: city[population[i].target]  //获取结尾节点的颜色属性\n            }]\n    )\n    data.push({\n                source: population[i].source,\n                target: population[i].target,\n                value: population[i].value,\n                lineStyle: {   //添加样式配置\n                    normal: {\n                        color:color\n                    }\n\n                }\n            }\n    )\n}\n\n\nvar option = {\n    backgroundColor:'#000',\n    title: {\n        text: '区域成交用地性质占比',\n        textStyle: {\n            fontWeight: 'normal',\n            fontSize: 20,\n            color: '#F1F1F3'\n        },\n        top: \"3%\",\n        x: 'center'\n    },\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'mousemove'\n    },\n    series: [\n        {\n            type: 'sankey',\n            data: citylist,\n            links: data,\n            top:'10%',\n            right:'10%',\n            bottom:'5%',\n            focusNodeAdjacency: 'allEdges',\n            itemStyle: {\n                normal: {\n                    borderWidth: 0,\n                    borderColor: '#fff',\n                    opacity:1\n                }\n            },\n            label:{\n                normal: {\n                    fontSize:'14',\n                    color: '#fff'\n                }\n            },\n            lineStyle: {\n                normal: {\n                    curveness: 0.5,\n                    opacity:0.5\n                }\n            }\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-2724980533","theme":"","layout":"","viewCount":2009,"userName":"l***9","commentCount":0,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJu95azCF1.png?v=1562055371604","isCustomThumbnail":0,"builtinTags":["category-work","series-sankey","title","tooltip"],"customTags":[],"updaterUserName":"l***9"}}