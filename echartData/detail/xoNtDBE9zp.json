{"status":0,"data":{"cid":"xoNtDBE9zp","authorUid":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","authorUserName":"s***姊","title":"斌崽膏嘚","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2022-01-04T02:39:02.000Z","lastUpdateTime":"2022-01-04T02:39:02.000Z","auth":2,"uid":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-04T02:39:02.000Z","code":"let series = [];\nlet pieDatas = [\n    {\n        \"value\": 100,\n        \"name\": \"系列一\"\n    },\n    {\n        \"value\": 76,\n        \"name\": \"系列二\"\n    },\n    {\n        \"value\": 66,\n        \"name\": \"系列三\"\n    },\n    {\n        \"value\": 54,\n        \"name\": \"系列四\"\n    },\n    {\n        \"value\": 43,\n        \"name\": \"系列五\"\n    },\n    {\n        \"value\": 32,\n        \"name\": \"系列六\"\n    },\n    {\n        \"value\": 28,\n        \"name\": \"系列7\"\n    },\n    {\n        \"value\": 20,\n        \"name\": \"系列8\"\n    },\n    {\n        \"value\": 16,\n        \"name\": \"系列9\"\n    }\n];\nlet maxRadius =  90,\n    barWidth = 5,\n    barGap =  5;\nlet sumValue = 0;\nlet showValue = true,showPercent = true;\npieDatas.map(item => {\n    sumValue += item.value;\n})\nlet barColor =  [\n        {\n            \"color1\": \"rgba(222, 125, 255, 1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(250, 118, 121, 1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(53, 198, 215, 1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(101, 223, 138, 1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(253, 161, 79, 1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(68,165,255,1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(68,165,24,1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(68,245,255,1)\",\n            \"color2\": \"\"\n        },\n        {\n            \"color1\": \"rgba(13,165,225,1)\",\n            \"color2\": \"\"\n        }\n    ];\npieDatas.map((item, i) => {\n    series.push({\n        type: 'pie',\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [(maxRadius - i * (barGap + barWidth)) + '%', (maxRadius - (i + 1) * barWidth - i * barGap) + '%'],\n        center: [ \"50%\", \"50%\"],\n        label: {\n            show: false\n        },\n        itemStyle: {\n            label: {\n                show: false,\n            },\n            labelLine: {\n                show: false\n            },\n            borderWidth: 5,\n        },\n        data: [{\n            value: item.value,\n            name: item.name,\n            itemStyle: {\n                color: barColor[i]&&barColor[i].color1 || 'rgba(68,165,255,1)'\n            }\n        }, {\n            value: sumValue - item.value,\n            name: '',\n            itemStyle: {\n                color: \"transparent\",\n            },\n            tooltip: {\n                show: false\n            },\n            hoverAnimation: false\n        }]\n    })\n    series.push({\n        name: 'blank',\n        type: 'pie',\n        silent: true,\n        z: 0,\n        clockWise: false, //顺时加载\n        hoverAnimation: false, //鼠标移入变大\n        radius: [(maxRadius - i * (barGap + barWidth)) + '%', (maxRadius - (i + 1) * barWidth - i * barGap) + '%'],\n        center: [ \"50%\", \"50%\"],\n        label: {\n            show: false\n        },\n        itemStyle: {\n            label: {\n                show: false,\n            },\n            labelLine: {\n                show: false\n            },\n            borderWidth: 5,\n        },\n        data: [{\n            value: 1,\n            itemStyle: {\n                color: \"rgba(255, 255, 255,.13)\",\n                borderWidth: 0\n            },\n            tooltip: {\n                show: false\n            },\n            hoverAnimation: false\n        }]\n    });\n})\noption = {\n    grid: {\n        left:  0,\n        right:  0,\n        top:  0,\n        bottom:  0,\n    },\n    backgroundColor: 'transparent',\n    tooltip: {\n        show: true,\n        trigger: \"item\",\n    },\n    legend: {\n        show: false,\n        left: '60%',\n        top: 'middle',\n        icon: \"circle\",\n        itemWidth: 10,\n        itemHeight: 10,\n        itemGap:  20,\n        textStyle: {\n            fontSize:  16,\n            color:  '#fff',\n        },\n        formatter: (name) => {\n                var datas = pieDatas;\n                let total = 0;\n                datas.map(item => {\n                    total += (item.value - 0)\n                })\n                let valueIndex = datas.map(item => item.name).indexOf(name);\n                return name + \"  \" + (showValue ? datas[valueIndex].value + (option.legendValueUnit || '') + ' ' : '') + (showPercent ? ((datas[valueIndex].value / total) * 100).toFixed(2) + \"%\" : '');\n            } ,\n    },\n    series: series,\n};\n","html":"","externalScripts":"","updaterUID":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","theme":"","layout":"","viewCount":0,"userName":"s***姊","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoNtDBE9zp.png?v=1641263942609","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"s***姊"}}