{"status":0,"data":{"cid":"x0_XaVQqPu","authorUid":"obd-oNtFYK2yJiRtj5gkanWTbzwqbh3abCn","authorUserName":"愤***师","title":"柱图 自动轮播 自动判断最大最小值","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-12-01T06:10:25.000Z","lastUpdateTime":"2020-12-01T06:10:25.000Z","auth":2,"uid":"obd-oNtFYK2yJiRtj5gkanWTbzwqbh3abCn","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-01T06:12:06.000Z","code":"var areaList = [\r\n    \"a\", \"b\", \"c\", \"d\", \"e\",\r\n    \"f\", \"g\", \"h\", \"i\", \"j\",\r\n    \"k\", \"l\", \"m\", \"n\", \"o\",\r\n    \"p\", \"q\", \"r\", \"s\", \"t\",\r\n    \"u\", \"v\", \"w\", \"x\", \"y\",\r\n    \"z\", \"ab\", \"bc\", \"cd\", \"de\",\r\n    \"ef\", \"fg\", \"gh\", \"hi\", \"ij\",\r\n    \"jk\", \"kl\", \"lm\", \"mn\"\r\n];\r\n\r\nvar arr = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200,\r\n    210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390\r\n];\r\n//var sort = eval(zb_val2);   //排序\r\n\r\nvar displayNum = 5; //screen.width > 1500 ? 25 : 15;//每次显示数据条数\r\nvar groupNum = Math.ceil(arr.length / displayNum);\r\nvar arrGroup = [];\r\nfor (var i = 0; i < arr.length; i += displayNum) { //数据按个数分组存储\r\n    arrGroup.push(arr.slice(i, i + displayNum));\r\n}\r\nvar areaGroup = [];\r\nfor (var i = 0; i < areaList.length; i += displayNum) { //区域名称按个数分组存储\r\n    areaGroup.push(areaList.slice(i, i + displayNum));\r\n}\r\nvar groupOption = [];\r\nfor (var i = 0; i < groupNum; i++) {\r\n    var temp = {\r\n\r\n        xAxis: [{\r\n            type: 'category',\r\n            show: true,\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: '#3d5269'\r\n                }\r\n            },\r\n            axisLabel: {\r\n                rotate: -45,\r\n                color: '#fff',\r\n                fontSize: 11\r\n            },\r\n            data: areaGroup[i],\r\n        }],\r\n        series: [{\r\n            data: arrGroup[i]\r\n        }, ]\r\n    };\r\n    groupOption.push(temp);\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor: 'rgba(128, 128, 228)', //rgba设置透明度0.1\r\n    baseOption: {\r\n        timeline: {\r\n            show: false,\r\n            axisType: 'category',\r\n            autoPlay: true,\r\n            data: areaGroup,\r\n            label: {\r\n                formatter: function(s) {\r\n                    return '';\r\n                }\r\n            }\r\n        },\r\n        title: {\r\n            subtext: ''\r\n        },\r\n        tooltip: {},\r\n        calculable: true,\r\n        grid: {\r\n            x: '15%',\r\n            x2: '10%',\r\n            y: '10%',\r\n            y2: '30%'\r\n        },\r\n        xAxis: [{\r\n            type: 'category',\r\n            boundaryGap: true,\r\n            show: true,\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: '#3d5269'\r\n                }\r\n            },\r\n            axisLabel: {\r\n                rotate: -45,\r\n                color: '#fff',\r\n                fontSize: 11\r\n            },\r\n            /*data: xData*/\r\n        }],\r\n        yAxis: [{\r\n                type: 'value',\r\n                scale: true,\r\n                name: '',\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                //min:min,\r\n                // max:max,\r\n                min: function(value) {\r\n                    var num = parseInt(value.min);\r\n                    if ((num - 5) > 0) {\r\n                        return num - 5;\r\n                    } else if ((num - 3) > 0) {\r\n                        return num - 3;\r\n                    } else if (num == 1) {\r\n                        return 0;\r\n                    } else {\r\n                        return num;\r\n                    }\r\n\r\n                },\r\n                max: function(value) {\r\n                    if (value.max <= 1) {\r\n                        return value.max;\r\n                    }\r\n                    return Math.ceil(value.max);\r\n                },\r\n\r\n                //minInterval: 100,\r\n\r\n                splitNumber: 5,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        // 使用深浅的间隔色\r\n                        color: '#4e608b'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    fontSize: 12, //window.FS.chartLabel*1.45,\r\n                    color: '#fff',\r\n                    margin: 12,\r\n                },\r\n\r\n                boundaryGap: [0.2, 0.2]\r\n            }\r\n\r\n        ],\r\n        series: [{\r\n            name: '异常总数',\r\n            type: 'bar',\r\n            barWidth: 15,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'top',\r\n                    color: '#D0D8E2',\r\n\r\n                    /*formatter: function(sort) {\r\n\t\t\t                            \tconsole.log(params);\r\n\t\t\t    \t\t                \treturn sort[params.dataIndex];   \r\n\t\t\t    \t\t                }*/\r\n                }\r\n            },\r\n            data: arr,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0, 0, 0, 1, [{\r\n                                offset: 0,\r\n                                color: '#75c0ea'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#3b85dc'\r\n                            }\r\n                        ]\r\n                    )\r\n                }\r\n            },\r\n        }]\r\n    },\r\n    options: groupOption,\r\n};\r\n","html":"","externalScripts":"","updaterUID":"obd-oNtFYK2yJiRtj5gkanWTbzwqbh3abCn","theme":"dark","layout":"","viewCount":194,"userName":"愤***师","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0_XaVQqPu.png?v=1606803126441","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","timeline","title","tooltip"],"customTags":[],"updaterUserName":"愤***师"}}