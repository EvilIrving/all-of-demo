{"status":0,"data":{"cid":"x25Mrw4vjI","authorUid":"bd-2567567083","authorUserName":"青***染","title":"大转盘","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-09T12:01:30.000Z","lastUpdateTime":"2020-11-09T12:01:30.000Z","auth":2,"uid":"bd-2567567083","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-09T12:01:30.000Z","code":"var fxdata = [{\r\n        name: \"监控风险点数量\",\r\n        value: 754,\r\n        color:'#2768BF',\r\n    },\r\n    {\r\n        name: \"已发生风险数\",\r\n        value: 611,\r\n        color:'#6888F0',\r\n    },\r\n    {\r\n        name: \"未发生风险数\",\r\n        value: 400,\r\n        color:'#337EFC',\r\n    },\r\n    {\r\n        name: \"已处置风险数\",\r\n        value: 200,\r\n        color:'#21E9B9',\r\n    },\r\n    {\r\n        name: \"未处置风险数\",\r\n        value: 200,\r\n        color:'#27A1BF',\r\n    }\r\n];\r\n\r\n\r\narrName = getArrayValue(fxdata, \"name\");\r\narrValue = getArrayValue(fxdata, \"value\");\r\nsumValue = 1000;\r\nobjData = array2obj(fxdata, \"name\");\r\noptionData = getData(fxdata)\r\n\r\nfunction getArrayValue(array, key) {\r\n    var key = key || \"value\";\r\n    var res = [];\r\n    if (array) {\r\n        array.forEach(function(t) {\r\n            res.push(t[key]);\r\n        });\r\n    }\r\n    return res;\r\n}\r\n\r\nfunction array2obj(array, key) {\r\n    var resObj = {};\r\n    for (var i = 0; i < array.length; i++) {\r\n        resObj[array[i][key]] = array[i];\r\n    }\r\n    return resObj;\r\n}\r\n\r\nfunction getData(fxdata) {\r\n    var res = {\r\n        series: [\r\n            \r\n        ],\r\n        yAxis: []\r\n    };\r\n    for (let i = 0; i < fxdata.length; i++) {\r\n        res.series.push({\r\n            name: '学历',\r\n            type: 'pie',\r\n            clockWise: true,\r\n            color: fxdata[i].color,\r\n            z: 2,\r\n            hoverAnimation: false,\r\n            radius: [73 - i * 15 + '%', 68 - i * 15 + '%'],\r\n            center: [\"50%\", \"55%\"],\r\n            label: {\r\n                show: false,\r\n                formatter: '{d}%',\r\n                color: 'RGB(246,175,101)',\r\n                fontSize: 25,\r\n                position: 'inside'\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            data: [{\r\n                value: fxdata[i].value,\r\n                name: fxdata[i].name,\r\n                \r\n            }, {\r\n                value: sumValue - fxdata[i].value,\r\n                name: '',\r\n                itemStyle: {\r\n                    color: \"rgba(0,0,0,0)\",\r\n                    borderWidth: 0\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                label: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }]\r\n        });\r\n        res.series.push({\r\n            name: '背景线',\r\n            type: 'pie',\r\n            silent: true,\r\n            z: 1,\r\n            clockWise: true,\r\n            hoverAnimation: false,\r\n            radius: [73 - i * 15 + '%', 68 - i * 15 + '%'],\r\n            center: [\"50%\", \"55%\"],\r\n            label: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                label: {\r\n                    show: false,\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                borderWidth: 5,\r\n            },\r\n            data: [{\r\n                value: 100,\r\n                itemStyle: {\r\n                    color: \"RGB(12,64,128)\",\r\n                    borderWidth: 0\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }]\r\n        });\r\n        res.yAxis.push(fxdata[i].name);\r\n    }\r\n    return res;\r\n}\r\n\r\noption = {\r\n    title: {\r\n        text: '',\r\n        textStyle:{\r\n\t\t\t\tcolor:'white',  //坐标的字体颜色\r\n\t\t\t},\r\n    },\r\n     legend: {\r\n        orient: 'horizontal',\r\n        left: 'center',\r\n        bottom:\"0\",\r\n        data: ['监控风险点数量', '已发生风险数', '未发生风险数', '已处置风险数', '未处置风险数']\r\n    },\r\n    backgroundColor: 'RGB(8,20,67)',\r\n    \r\n    grid: {\r\n        top: '16%',\r\n        bottom: '54%',\r\n        left: \"50%\",\r\n        containLabel: false\r\n    },\r\n    \r\n    xAxis: [{\r\n        show: false\r\n    }],\r\n    series: optionData.series\r\n};","html":"","externalScripts":"","updaterUID":"bd-2567567083","theme":"","layout":"","viewCount":136,"userName":"青***染","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x25Mrw4vjI.png?v=1604923291104","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"青***染"}}