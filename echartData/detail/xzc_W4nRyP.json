{"status":0,"data":{"cid":"xzc_W4nRyP","authorUid":"obd-oDCQKM5wnL0yNYeWq4hmZJOSENvgZ1u","authorUserName":"适***止","title":"04安全服务-投诉分析","description":"04安全服务-投诉分析","latestVersion":1,"alwaysLatest":1,"createTime":"2020-08-22T02:18:07.000Z","lastUpdateTime":"2020-08-22T02:18:07.000Z","auth":1,"uid":"obd-oDCQKM5wnL0yNYeWq4hmZJOSENvgZ1u","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-22T02:18:07.000Z","code":"var xData = function() {\r\n    var data = [\"新福利\", \"溢通公司\", \"南沙巴士\", \"从化分公司\", \"花都恒通\", \"二巴一分\", \"二巴二分\", \"番禺片区\", \"佛广集团\", \"客运旅包\"];\r\n    return data;\r\n}();\r\n\r\nvar data = [16,\r\n    11,\r\n    8,\r\n    14,\r\n    17,\r\n    16,\r\n    11,\r\n    8,\r\n    14,\r\n    17\r\n]\r\n\r\nvar filterData = function() {\r\n    const max = Math.max(...data)\r\n    const notMaxData = []\r\n    const maxData = []\r\n    data.forEach(it => {\r\n        if (it === max) {\r\n            notMaxData.push(0)\r\n            maxData.push(it)\r\n        } else {\r\n            notMaxData.push(it)\r\n            maxData.push(0)\r\n        }\r\n\r\n    })\r\n    return {\r\n        'notMaxData': notMaxData,\r\n        'maxData': maxData\r\n    }\r\n}\r\n\r\noption = {\r\n    backgroundColor: \"RGBA(7, 28, 51, 1)\",\r\n    legend: {\r\n        data: ['投诉频次', '最高'],\r\n        right: \"10%\",\r\n        top: 20,\r\n        itemWidth: 60,\r\n        itemHeight: 30,\r\n        type: \"plain\",\r\n        textStyle: {\r\n            color: \"RGBA(154, 209, 253, 1)\",\r\n            fontSize: 30\r\n        }\r\n    },\r\n    \"tooltip\": {\r\n        \"show\":false,\r\n        \"trigger\": \"axis\",\r\n        \"axisPointer\": {\r\n            \"type\": \"shadow\",\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            }\r\n        },\r\n        formatter:function(params){\r\n            const tip=params[0].marker + ':' + params[0].seriesName + (params[0].value+params[1].value)\r\n            return tip\r\n        }\r\n    },\r\n    \"grid\": {\r\n        \"borderWidth\": 0,\r\n        \"top\": 110,\r\n        \"bottom\": 95,\r\n        textStyle: {\r\n            color: \"#fff\"\r\n        }\r\n    },\r\n    \"calculable\": true,\r\n    \"xAxis\": [{\r\n        \"type\": \"category\",\r\n        \"axisLine\": {\r\n            lineStyle: {\r\n                color: 'rgba(255,255,255,.5)'\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": false\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLabel\": {\r\n            \"interval\": 0,\r\n            color: 'rgba(255,255,255,0.7)',\r\n            fontSize: 18\r\n        },\r\n        \"data\": xData,\r\n    }],\r\n    \"yAxis\": [{\r\n        \"type\": \"value\",\r\n        \"splitLine\": {\r\n            \"show\": true,\r\n            lineStyle: {\r\n                type: 'dashed',\r\n                color: \"RGBA(3, 75, 97, 1)\"\r\n            }\r\n        },\r\n        \"axisLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLabel\": {\r\n            \"interval\": 0,\r\n            color: 'rgba(255,255,255,0.5)',\r\n            fontSize: 20\r\n\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false\r\n        },\r\n\r\n    }],\r\n    \"series\": [{\r\n            \"name\": \"投诉频次\",\r\n            \"type\": \"bar\",\r\n            \"stack\": \"1\",\r\n            \"barMaxWidth\": 35,\r\n            \"barGap\": \"10%\",\r\n            \"label\":{\r\n                \"show\":true,\r\n                \"color\":'#fff',\r\n                \"position\":'top',\r\n                \"fontSize\":15,\r\n                  \"formatter\":(params)=>{\r\n                    if(filterData().maxData[params.dataIndex]===0){\r\n                          return params.data\r\n                    } else {\r\n                        return ''\r\n                    }\r\n                },\r\n            },\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'rgba(0, 214, 255, 0.6)' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(83, 14, 224, 0.15)' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n                    opacity: 1,\r\n                   \r\n                },\r\n\r\n\r\n            },\r\n            \"data\": filterData().notMaxData,\r\n        },\r\n        {\r\n            \"name\": \"最高\",\r\n            \"type\": \"bar\",\r\n            \"stack\": \"1\",\r\n            \"barMaxWidth\": 35,\r\n            \"barGap\": \"10%\",\r\n             \"label\":{\r\n                \"show\":true,\r\n                \"color\":'#fff',\r\n                \"position\":'top',\r\n                 \"fontSize\":15,\r\n                  \"formatter\":(params)=>{\r\n                    if(params.data!==0){\r\n                          return params.data\r\n                    } else {\r\n                        return ''\r\n                    }\r\n                },\r\n            },\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'rgba(191,0,253, 1)' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(83,14,224, 0.2)' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n                    opacity: 1\r\n                    \r\n                },\r\n\r\n\r\n            },\r\n            \"data\": filterData().maxData,\r\n        }\r\n\r\n    ]\r\n}","html":"","externalScripts":"","updaterUID":"obd-oDCQKM5wnL0yNYeWq4hmZJOSENvgZ1u","theme":"","layout":"","viewCount":55,"userName":"适***止","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzc_W4nRyP.png?v=1598062687656","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"适***止"}}