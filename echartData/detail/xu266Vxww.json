{"status":0,"data":{"cid":"xu266Vxww","authorUid":"bd-135386625","authorUserName":"橙***料","title":"label显示右边","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-04T09:38:09.000Z","lastUpdateTime":"2020-02-04T09:38:09.000Z","auth":2,"uid":"bd-135386625","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-04T09:38:09.000Z","code":"var data = [\r\n    {name: '0-10', value: '142', untis: '人'},\r\n    {name: '11-20', value: '52', untis: '人'},\r\n    {name: '21-30', value: '107', untis: '人'},\r\n    {name: '31-40', value: '171', untis: '人'},\r\n    {name: '41-50', value: '282', untis: '人'},\r\n    {name: '51-60', value: '228', untis: '人'},\r\n    {name: '61-70', value: '199', untis: '人'},\r\n    {name: '71-80', value: '125', untis: '人'},\r\n    {name: '80以上', value: '16', untis: '人'}\r\n];\r\n\r\nvar getYAxisData = function(sdata) {\r\n    var yAxisData = [];\r\n    \r\n    sdata.forEach(function(item, index) {\r\n        yAxisData.push(item.name);\r\n    });\r\n    \r\n    return yAxisData;\r\n}\r\n\r\nvar getShadowData = function(sdata) {\r\n    var shadowData = [];\r\n    \r\n    var maxShadow;\r\n    sdata.forEach(function(item, index) {\r\n        if(!maxShadow || (maxShadow<item.value)) {\r\n            maxShadow = Math.ceil(item.value);\r\n        }\r\n    });\r\n    \r\n    sdata.forEach(function(item, index) {\r\n        shadowData.push(maxShadow);\r\n    });\r\n    \r\n    return shadowData;\r\n}\r\n\r\n var option = {\r\n     backgroundColor: '#fff',\r\n     tooltip: {\r\n         trigger: 'axis',\r\n         axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n             type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n         }\r\n     },\r\n     grid: {\r\n         left: '4%',\r\n         right: '4%',\r\n         bottom: '2',\r\n         top: '2',\r\n         containLabel: true\r\n     },\r\n     xAxis: {\r\n         type: 'value',\r\n         axisLine: {\r\n             show: false\r\n         },\r\n         axisLabel: {\r\n             show: false\r\n         },\r\n         splitLine: {\r\n             show: false\r\n         }\r\n     },\r\n     yAxis: {\r\n         type: 'category',\r\n         max: '1200',\r\n         axisLine: {\r\n             show: false,\r\n             lineStyle: {\r\n                 color: 'rgba(10, 10, 10, .8)'\r\n             }\r\n         },\r\n         axisTick: {\r\n             show: false\r\n         },\r\n         axisPointer: {\r\n             show:false\r\n         },\r\n         splitLine: {\r\n             show: false\r\n         },\r\n         data: getYAxisData(data),\r\n         axisLabel: {}\r\n     },\r\n     series: [{\r\n         type: 'bar',\r\n         barWidth: '15%',\r\n         itemStyle: {\r\n             normal: {\r\n                 color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{\r\n                     offset: 0,\r\n                     color: '#8bd46e'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#09bcb7'\r\n                 }]),\r\n                 barBorderRadius: [0, 11, 11, 0]\r\n             }\r\n         },\r\n         zlevel:2,\r\n         data: data\r\n     }, {\r\n         type: 'bar',\r\n         barWidth: '15%',\r\n         barGap: '-100%',\r\n         itemStyle: {\r\n             normal: {\r\n                 color: 'transparent',\r\n                 barBorderRadius: 0\r\n             }\r\n         },\r\n         label: {\r\n            show: true,\r\n            position: 'right',\r\n            color: 'rgba(10, 10, 10, .8)',\r\n            formatter: function(params) {\r\n                var label = '';\r\n                for(var i=0; i<data.length; i++) {\r\n                    if(data[i].name == params.name) {\r\n                        label = data[i].value+(data[i].untis||'')\r\n                        break;\r\n                    }\r\n                }\r\n                \r\n                return label;\r\n            }\r\n         },\r\n         zlevel:1,\r\n         data: getShadowData(data)\r\n     }]\r\n };","html":"","externalScripts":"","updaterUID":"bd-135386625","theme":"","layout":"","viewCount":100,"userName":"橙***料","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xu266Vxww.png?v=1580809089494","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"橙***料"}}