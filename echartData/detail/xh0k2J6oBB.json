{"status":0,"data":{"cid":"xh0k2J6oBB","authorUid":"obd-oMLb5msA439bJGSC6grvaJuiu7eiK2I","authorUserName":"l***心","title":"自定义饼图","description":"美化饼图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-30T09:27:36.000Z","lastUpdateTime":"2021-07-30T09:27:36.000Z","auth":2,"uid":"obd-oMLb5msA439bJGSC6grvaJuiu7eiK2I","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-30T09:27:36.000Z","code":"var trafficWay = [\n                {value: 735, name: '国家级'},\n                {value: 580, name: '省级'},\n                {value: 484, name: '市级'}\n            ];\nvar data = [];\nvar data2 = [];\nvar color=['#00ffd5','#0083ff','#e0b808'];\nfor (var i = 0; i < trafficWay.length; i++) {\n    data.push({\n        value: trafficWay[i].value,\n        name: trafficWay[i].name,\n        itemStyle: {\n            normal: {\n                borderWidth: 5,\n                shadowBlur: 20,\n                borderColor:color[i],\n                shadowColor: color[i]\n            }\n        },\n        label: {\n                show: false,\n                position: 'center'\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    fontSize: '40',\n                    fontWeight: 'bold'\n                }\n            },\n            labelLine: {\n                show: false\n            },\n    });\n}\nfor (var i = 0; i < 4; i++) {\n    data2.push({\n        value: 100,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: false\n                },\n                labelLine: {\n                    show: false\n                },\n                color: '#77b5b0'\n            }\n        }\n    }, {\n        value: 30,\n        name: '',\n        itemStyle: {\n            normal: {\n                label: {\n                    show: false\n                },\n                labelLine: {\n                    show: false\n                },\n                color: 'rgba(0, 0, 0, 0)'\n            }\n        }\n    });\n}\nvar seriesOption = [{\n    name: '',\n    type: 'pie',\n    radius: ['65%', '70%'],\n    center:['35%', '50%'],\n    itemStyle: {\n        normal: {\n            label: {\n                show: false,\n                position: 'center',\n                textStyle: {\n                     rich: {\n                         numText: {\n                             color: '#0ff8e5',\n                             fontSize: 40,\n                             fontWeight: 'bold',\n                             width: 30,\n                             textAlign: 'center'\n                         },\n                         text: {\n                             color: '#ccc',\n                             fontSize: 18,\n                             padding: [5, 0, 0, 0],\n                             width: 30,\n                             textAlign: 'center'\n                         }\n                     }\n                 },\n                formatter: function(params){\n                    console.log(params);\n                    // for (var i = 0; i < data.length; i++) {\n                    //      if (data[i].name == name) {\n                    //          target = data[i].value;\n                    //          title = data[i].label\n                    //          index = i < 6 ? i : 5\n                    //      }\n                    //  }\n                    return `{numText| ${params.percent}%}\\n{text| ${params.name}}`\n                }\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    fontSize: '20',\n                    fontWeight: 'bold',\n                }\n            },\n            labelLine: {\n                show: false\n            }\n        }\n    },\n    data: data\n},{\n            name: '访问来源',\n            type: 'pie',\n            radius: ['52%', '54%'],\n            center:['35%', '50%'],\n            hoverAnimation: false,\n            // avoidLabelOverlap: false,\n            label: {\n                show: false\n            },\n            labelLine: {\n                show: false\n            },\n            data: data2\n        }];\noption = {\n    color : color,\n    legend: {\n        icon: \"circle\",\n        orient: 'horizontal',\n        right: 10,\n        // top: 'center',\n        width: '100px',\n        align: 'left',\n        textStyle: {\n          color: \"#fff\",\n          fontSize:14,\n        },\n        itemGap: 15,\n        formatter: function(name) {\n          var total = 0;\n          var target;\n          for (var i = 0, l = data.length; i < l; i++) {\n            total += data[i].value;\n            if (data[i].name == name) {\n              target = data[i].value;\n            }\n          }\n          return (\n            name +\n            \" \" +\n            target +\n            \" | \" +\n            ((target / total) * 100).toFixed(2) +\n            \"%\"\n          );\n        },\n    },\n    toolbox: {\n        show: false\n    },\n    series: seriesOption\n}\n\n","html":"","externalScripts":"","updaterUID":"obd-oMLb5msA439bJGSC6grvaJuiu7eiK2I","theme":"dark","layout":"","viewCount":0,"userName":"l***心","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xh0k2J6oBB.png?v=1627637256562","isCustomThumbnail":1,"builtinTags":["category-work","legend","series-pie","toolbox"],"customTags":[],"updaterUserName":"l***心"}}