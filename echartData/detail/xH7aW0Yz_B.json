{"status":0,"data":{"cid":"xH7aW0Yz_B","authorUid":"bd-3913771301","authorUserName":"因***凡","title":"多图示例","description":"多图示例","latestVersion":4,"alwaysLatest":1,"createTime":"2021-01-27T11:25:43.000Z","lastUpdateTime":"2021-01-27T11:25:43.000Z","auth":2,"uid":"bd-3913771301","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-01T03:41:55.000Z","code":"   function formatTime(shijianchuo){\n        var date = new Date(shijianchuo);\n        var seperator1 = \"-\";\n        var seperator2 = \":\";\n        var month = date.getMonth() + 1;\n        var strDate = date.getDate();\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var second = date.getSeconds();\n        if (month >= 1 && month <= 9) {\n          month = \"0\" + month;\n        }\n        if (strDate >= 0 && strDate <= 9) {\n          strDate = \"0\" + strDate;\n        }\n        if (hours >= 0 && hours <= 9) {\n          hours = \"0\" + hours;\n        }\n        if (minutes >= 0 && minutes <= 9) {\n          minutes = \"0\" + minutes;\n        }\n        if (second >= 0 && second <= 9) {\n          second = \"0\" + second;\n        }\n        var currentdate = hours + seperator2 + minutes;\n        return currentdate;\n    };\n    \n    function formatY(v){\n        let str;\n        if(v == \"1\"){\n            str = \"一级\";\n        }else if(v == \"2\"){\n            str = \"二级\";\n        }else if(v == \"3\"){\n            str = \"三级\";\n        }else if(v == \"4\"){\n            str = \"四级\";\n        }else if(v == \"5\"){\n            str = \"五级\";\n        }else{\n            str = \"开始\";\n        }\n        return str;\n        // return 1;\n    }\n    var datax = [\"10:00\",\"10:05\",\"10:10\",\"10:15\",\"10:20\",\"10:25\",\"10:30\",\"10:35\",\"10:40\",\"10:45\",\n    \"10:50\"];\n    var startTime = \"1611715974\";    //开始时间\n    var statusStr = \"饱满,无,一般|饱满,无,较好|较好,明显,一般|饱满,无,较好|饱满,无,一般|饱满,无,一般|饱满,无,正常|饱满,无,较好|饱满,无,很好|饱满,无,差|较好,轻微,差|较好,有,差|较好,隐性,一般|饱满,无,很好|饱满,无,差|饱满,无,很好|中等,轻微,一般|饱满,无,一般|饱满,无,一般|中等,轻微,差|饱满,无,较好|饱满,无,差|饱满,无,一般|饱满,无,正常|饱满,无,很好|饱满,无,差|较好,有,一般|较好,隐性,很好|饱满,无,很好|饱满,无,很好|饱满,无,一般|饱满,轻微,一般|饱满,无,正常|中等,轻微,差|较好,轻微,一般|饱满,无,一般|饱满,无,正常|较好,隐性,正常|饱满,轻微,一般|较差,轻微,差|饱满,轻微,正常|饱满,轻微,差|饱满,轻微,一般|中等,轻微,一般|饱满,无,一般|饱满,无,一般|中等,轻微,差|饱满,轻微,一般\";\n    statusStr = statusStr.split(\"|\");\n    \n    //拿值\n    let flag = 0;\n    let js=[];\n    let pl=[];\n    let gz=[];\n    let timeList = [];\n    for(let j=0;j<statusStr.length;j++){\n        let blockList = statusStr[j].split(\",\");\n        for(let g=0;g<blockList.length;g++){\n            let stastr = blockList[g];\n            if(g == \"0\"){\n              if (stastr == \"较差\") {\n                  js.push(1);\n                } else if (stastr == \"略差\") {\n                  js.push(2);\n                } else if (stastr == \"中等\") {\n                  js.push(3);\n                } else if (stastr == \"较好\") {\n                  js.push(4);\n                } else {\n                  js.push(5);\n                }  \n            }else if(g == \"1\"){\n                 if (stastr == \"无\") {\n                  pl.push(1);\n                } else if (stastr == \"隐性\") {\n                  pl.push(2);\n                } else if (stastr == \"轻微\") {\n                  pl.push(3);\n                } else if (stastr == \"有\") {\n                  pl.push(4);\n                } else {\n                  pl.push(5);\n                }\n            }else{\n                if (stastr == \"差\") {\n                  gz.push(1);\n                } else if (stastr == \"一般\") {\n                  gz.push(2);\n                } else if (stastr == \"正常\") {\n                  gz.push(3);\n                } else if (stastr == \"较好\") {\n                  gz.push(4);;\n                } else {\n                  gz.push(5);\n                }\n            }\n        }\n        timeList.push(startTime*1);\n        startTime=startTime*1+60;\n    }\n    \n    let stackjs=[],stackpl=[],stackgz=[],demodata=[];\n    for(let j=0; j<js.length;j++){\n        stackjs.push(js[j]*1 -1);\n        stackpl.push(pl[j]*1 - 1);\n        stackgz.push(gz[j]*1 - 1);\n        demodata.push(1);\n    }\n    console.log(js,pl);\n    let demodatapl = [];\n    for(let h=0;h<demodata.length;h++){\n        let obj;\n        if(h%2 == \"0\"){\n            obj = {\n                value: 1,\n                itemStyle: {\n                    color: '#a90000',\n                    borderColor:\"#a90000\"\n                }\n            }\n        }else{\n            obj = {\n                value: 1,\n                itemStyle: {\n                    color: '#ff6000',\n                    borderColor:\"#ff6000\"\n                }\n            }\n        }\n        demodatapl.push(obj);\n    }\n    option = {\n        title: {\n            text: '指标示例',\n            left: 'left',\n            top: 0\n        },\n        legend:{\n            show:true\n        },\n        dataZoom:[\n            {type:\"inside\",xAxisIndex:[0,1,2],zoomLock:true},\n            // {type:\"inside\",xAxisIndex:1},\n            // {type:\"inside\",xAxisIndex:2},\n            // {type:\"inside\",xAxisIndex:3},\n        ],\n        grid: [\n            {left: '4%', top: '4%', width: '90%', height: '22%',containLabel:\"true\"},\n            {left: '4%', top: '34%', width: '90%', height: '22%',containLabel:\"true\"},\n            {left: '4%', top: '64%', width: '90%', height: '22%',containLabel:\"true\"}\n        ],\n        tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n                type: 'cross'\n            },\n            textStyle:{\n                color:'red'\n            },\n            backgroundColor: 'rgba(255, 255, 255, 1)',\n            borderColor:\"#b6d88e\",\n            borderWidth:1,\n            // position: function (pos, params, el, elRect, size) {\n            //     var obj = {top: 10};\n            //     obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;\n            //     return obj;\n            // },\n            extraCssText: 'width: 140px'\n        },\n        axisPointer: {\n            link: {xAxisIndex: 'all'},\n            label: {\n                backgroundColor: 'red',\n                formatter:function(res){\n                    console.log(\"res\",res);\n                    if(res.axisDimension == \"x\"){\n                        return formatTime(res.value*1000);\n                    }else{\n                         console.log(res);\n                        if(res.value*1 <=1){\n                            return \"一级\";\n                        }else if(res.value <=2){\n                            return \"二级\";\n                        }else if(res.value <=3){\n                            return \"三级\";\n                        }else if(res.value <=4){\n                            return \"四级\";\n                        }else if(res.value <=5){\n                            return \"五级\";\n                        }\n                    }\n                }\n            },\n            borderColor:\"#b6d88e\",\n        },\n        xAxis: [\n            {gridIndex: 0,splitLine:{show:true}, data:timeList,axisLabel:{formatter:function(v){return formatTime(v*1000)}}},\n            {gridIndex: 1, data:timeList,axisLabel:{formatter:function(v){return formatTime(v*1000)}}},\n            {gridIndex: 2, data:timeList,axisLabel:{formatter:function(v){return formatTime(v*1000)}}}\n        ],\n        yAxis: [\n            {gridIndex: 0,min: 0, max: 5,axisLabel:{\n                formatter:function(v){return formatY(v)},\n            },\n            splitLine:{\n             \n            },\n            },\n            {gridIndex: 1, min: 0, max: 5,axisLabel:{formatter:function(v){return formatY(v)}}},\n            {gridIndex: 2, min: 0, max: 5,axisLabel:{formatter:function(v){return formatY(v)}}}\n        ],\n        series: [\n            {\n                name: '',\n                type: 'line',\n                xAxisIndex: 0,\n                yAxisIndex: 0,\n                stack:\"js\",\n                data: stackjs,\n                barWidth:\"100%\",\n                symbol:false,\n                symbolSize:0,\n                smooth:0.5,\n                tooltip:{\n                    show:false\n                },\n                itemStyle:{\n                   \n                },\n                areaStyle: {\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                        offset: 0,\n                        color: 'rgb(255, 158, 68)'\n                    }, {\n                        offset: 1,\n                        color: 'rgb(255, 70, 131)'\n                    }])\n                },\n            },\n            // {\n            //     name: 'I',\n            //     type: 'bar',\n            //     xAxisIndex: 0,\n            //     yAxisIndex: 0,\n            //     stack:\"js\",\n            //     data: demodata,\n            //     // barWidth:\"100%\",\n            //     // symbol:'rect',\n            //     // symbolSize:[30,10],\n            //     itemStyle:{\n            //         color:\"#366fab\",\n            //         borderColor:\"#366fab\"\n            //     },\n            //     // lineStyle:{\n            //     //     color:'rgba(0,0,0,0)'\n            //     // }\n            //     // markLine: markLineOpt\n            // },\n             {\n                name: '',\n                type: 'bar',\n                xAxisIndex: 1,\n                yAxisIndex: 1,\n                data: stackpl,\n                stack:\"pl\",\n                barWidth:\"100%\",\n                tooltip:{\n                    show:false\n                },\n                itemStyle:{\n                  color:\"rgba(0,0,0,0)\",\n                  borderColor:\"rgba(0,0,0,0)\"\n                }\n            },\n            {\n                name: 'II',\n                type: 'bar',\n                xAxisIndex: 1,\n                yAxisIndex: 1,\n                data: demodatapl,\n                stack:\"pl\",\n                barWidth:\"100%\",\n            },\n            {\n                name: '',\n                type: 'bar',\n                xAxisIndex: 2,\n                yAxisIndex: 2,\n                data: stackgz,\n                tooltip:{\n                    show:false\n                },\n                stack:\"gz\",\n                barWidth:\"100%\",\n                itemStyle:{\n                    color:\"rgba(0,0,0,0)\",\n                    borderColor:\"rgba(0,0,0,0)\"\n                },\n            },\n            {\n                name: 'III',\n                type: 'bar',\n                xAxisIndex: 2,\n                yAxisIndex: 2,\n                data: demodata,\n                stack:\"gz\",\n                barWidth:\"100%\",\n                itemStyle:{\n                    color:\"#366fab\",\n                    borderColor:\"#366fab\"\n                },\n            },\n            // {\n            //     name: 'IV',\n            //     type: 'bar',\n            //     xAxisIndex: 3,\n            //     yAxisIndex: 3,\n            //     data: dataAll[3],\n            //     barWidth:\"100%\",\n            //     // markLine: markLineOpt\n            //     // symbol:'rect',\n            //     // symbolSize:[30,10],\n            //     itemStyle:{\n            //         color:\"#366fab\",\n            //         borderColor:\"#366fab\"\n            //     },\n            //     // lineStyle:{\n            //     //     color:'rgba(0,0,0,0)'\n            //     // }\n            // }\n        ]\n    };","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-3913771301","theme":"","layout":"","viewCount":108,"userName":"因***凡","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH7aW0Yz_B.png?v=1612150915198","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","series-line","title","tooltip"],"customTags":["grid","line"],"updaterUserName":"因***凡"}}