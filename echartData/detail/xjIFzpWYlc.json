{"status":0,"data":{"cid":"xjIFzpWYlc","authorUid":"obd-o2Rd7z3PHbkvmhgpb2-yzF5tdrKstBq","authorUserName":"9***者","title":"折线图","description":"图例控制折线图","latestVersion":5,"alwaysLatest":1,"createTime":"2021-01-13T09:37:44.000Z","lastUpdateTime":"2021-01-13T09:37:44.000Z","auth":2,"uid":"obd-o2Rd7z3PHbkvmhgpb2-yzF5tdrKstBq","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-14T09:48:20.000Z","code":"option = {\n    title: {\n        // 标题居中显示\n        left: 'center',\n        // 标题名称\n        text: 'Awesome Chart'\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross'\n        },\n        formatter: function(params) {\n            var htmlHeader = '<div>时间：2020-12-12 01:00:00</div>'\n                + '<div>单位：(MW)</div>';\n            var htmlList = ''\n            for (var i = 0; i < params.length; i++) {\n                const item = params[i]\n                htmlList = (\n                    htmlList \n                    + '<div>'\n                    + item.marker\n                    + '<span>'+ item.name \n                    +':'+item.value[1]\n                    +'</span>（'+ item.value[2] +'MW）'\n                    +'</div>'\n                )\n            }\n            return (htmlHeader + htmlList)\n        }\n    },\n    grid: {\n        bottom: 80\n    },\n    legend: {\n        data: [],\n        left: 70,\n        bottom: 0\n    },\n    xAxis: {\n        type: 'time',\n        // x 轴单位标注\n        name: '时间',\n        axisTick: {\n            // x 轴线上的刻度点在轴线内显示\n            inside: true\n        },\n        axisLine: {\n            // x 轴线两端的形状\n            symbol: ['none', 'arrow']\n        }\n    },\n    yAxis: {\n        type: 'value',\n        name: '单位: 元',\n        axisTick: {\n            // y 轴线上的刻度点在轴线内显示\n            inside: true\n        },\n        // max: 120,\n        max: 2000,\n        axisLine: {\n            // y 轴线两端的形状\n            symbol: ['none', 'arrow']\n        }\n    },\n    series: [{\n        type: 'line',\n        name: '江苏',\n        // 标准线\n        markLine: {\n            show: true,\n            // 标准线两端的形状\n            symbol: ['none', 'none'],\n            label: {\n                // 标准线上数字显示的位置\n                position: 'middle',\n            },\n            data: [\n                // 标准线大小位置\n                { name: '额定', yAxis: 30 }    \n            ]\n        },\n        data:[]\n    }]\n};\nconst city = [\n    { name: '江苏' },\n    { name: '南京' },\n    { name: '无锡' },\n    // { name: '泰州' },\n    // { name: '扬州' },\n    // { name: '苏州' },\n    // { name: '徐州' },\n    // { name: '连云港' },\n    // { name: '盐城' },\n    // { name: '淮安' },\n    // { name: '宿迁' },\n    // { name: '镇江' },\n    // { name: '南通' },\n    // { name: '常州' },\n]\nfunction setSeriesItemData (name) {\n    const data = []\n    const legend = []\n    for (let i = 0; i < city.length; i++) {\n        const name = city[i].name\n        legend.push(name)\n        data.push({\n            type: 'line',\n            name,\n            // 折线每个点上的形状\n            symbol: 'none',\n            smooth: true,\n            markLine: {\n                show: true,\n                data: [\n                    { name: '标准线', yAxis: 1300 }    \n                ]\n            },\n            data: getLineData(name)\n        })\n    }\n    option.legend.data = legend\n    option.series = data\n}\nfunction getLineData (name) {\n    const data = []\n    const date = '2020/01/01 00:00:00'\n    let datetime = 1577808000000 - 86400000\n    for (let i =0; i < 120; i++) {\n        datetime = datetime + 86400000\n        data.push({\n            name,\n            value: [\n                moment(new Date(datetime)).format('YYYY-MM-DD hh:mm:ss'),\n                (Math.random() * 1000).toFixed(2),\n                (Math.random() * 1000).toFixed(2)\n            ]\n        })\n    }\n    return data\n}\nsetSeriesItemData()\nmyChart.setOption(option);","html":"","externalScripts":"https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js","updaterUID":"obd-o2Rd7z3PHbkvmhgpb2-yzF5tdrKstBq","theme":"default","layout":"","viewCount":72,"userName":"9***者","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xjIFzpWYlc.png?v=1610617700866","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"9***者"}}