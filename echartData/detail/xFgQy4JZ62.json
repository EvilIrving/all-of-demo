{"status":0,"data":{"cid":"xFgQy4JZ62","authorUid":"bd-2552167583","authorUserName":"z***g","title":"折线标准区域","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-08-25T12:47:21.000Z","lastUpdateTime":"2020-08-25T12:47:21.000Z","auth":2,"uid":"bd-2552167583","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-28T08:21:44.000Z","code":"var data = {\n    type: \"\", // 01=> 血氧\n    text: \"心率趋势图\", //标题\n    markUp: \"182\", //标准上限\n    markDown: \"100\", //标准上下限\n    min: \"135\", //最小值\n    max: \"140\" //最大值\n};\n\nfunction min(array) {\n    var min = array[0];\n    var len = array.length;\n    for (var i = 1; i < len; i++) {\n        if (array[i] && array[i] < min) {\n            min = array[i];\n        }\n    }\n    return min;\n}\n\nfunction max(array) {\n    var max = array[0];\n    var len = array.length;\n    for (var i = 1; i < len; i++) {\n        if (array[i] && array[i] > max) {\n            max = array[i];\n        }\n    }\n    return max;\n}\n\nvar art = [Number(data.markUp), Number(data.markDown), Number(data.min), Number(data.max)];\nvar minarr = Number(min(art)),\n    maxarr = Number(max(art)),\n    min, max;\nif (maxarr - minarr <= 0.5) {\n    min = minarr / 1.02, max = maxarr * 1.02;\n} else if (maxarr - minarr <= 1) {\n    min = minarr / 1.04, max = maxarr * 1.04;\n} else if (maxarr - minarr <= 1.5) {\n    min = minarr / 1.06, max = maxarr * 1.06;\n} else if (maxarr - minarr <= 2) {\n    min = minarr / 1.08, max = maxarr * 1.08;\n} else if (maxarr - minarr <= 2.5) {\n    min = minarr / 1.1, max = maxarr * 1.1;\n} else if (maxarr - minarr <= 3) {\n    min = minarr / 1.12, max = maxarr * 1.12;\n} else if (maxarr - minarr <= 3.5) {\n    min = minarr / 1.14, max = maxarr * 1.14;\n} else if (maxarr - minarr <= 4) {\n    min = minarr / 1.16, max = maxarr * 1.16;\n} else if (maxarr - minarr <= 10) {\n    min = minarr / 1.18, max = maxarr * 1.18;\n} else if (maxarr - minarr <= 20) {\n    min = minarr / 1.2, max = maxarr * 1.2;\n} else {\n    min = minarr / 1.4, max = maxarr * 1.4;\n}\n/*if(data.type==\"01\"){\n     min=80,max=110;\n}*/\nvar minPointColor = \"\",\n    maxPointColor = \"\";\nif (data.min >= data.markDown && data.min <= data.markUp) { //if(data.minPointColor){\n    minPointColor = \"#1F9B21\";\n} else {\n    minPointColor = \"#EB6100\";\n}\nif (data.max >= data.markDown && data.max <= data.markUp) { //if(data.maxPointColor){\n    maxPointColor = \"#1F9B21\";\n} else {\n    maxPointColor = \"#EB6100\";\n}\n\nvar option = {\n    backgroundColor: \"#FFFFFF\",\n    title: {\n        text: data.text,\n        textStyle: {\n            color: \"#666666\",\n            fontSize: 18,\n            fontWeight: \"normal\"\n        },\n        top: \"0\",\n        left: \"2%\"\n    },\n    grid: {\n        left: '5%',\n        right: '5%',\n        top: '30px',\n        bottom: '0',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'category',\n        splitLine: {\n            show: false\n        },\n        boundaryGap: true,\n        data: [1, 2],\n        axisLabel: {\n            formatter: function(xVal) {\n                return \"\";\n            }\n        },\n        axisLine: {\n            lineStyle: {\n                color: \"#e4e4e4\"\n            }\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    yAxis: [{\n            type: 'value',\n            position: 'left',\n            splitLine: {\n                show: false\n            },\n            splitNumber: 10,\n            axisLine: {\n                lineStyle: {\n                    color: \"#e4e4e4\"\n                }\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                formatter: ''\n            },\n            min: Number(min).toFixed(1),\n            max: Number(max).toFixed(1)\n        },\n        {\n            type: 'value',\n            position: 'right',\n            splitLine: {\n                show: false\n            },\n            splitNumber: 10,\n            axisLine: {\n                lineStyle: {\n                    color: \"#e4e4e4\"\n                }\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                formatter: ''\n            },\n            min: min.toFixed(0) < 10 ? 0 : min.toFixed(0),\n            max: max.toFixed(0) < 10 ? 10 : max.toFixed(0)\n        }\n\n    ],\n    /*         dataZoom: [\n                 {\n                     type: 'inside'\n                 }\n             ],*/\n    series: [{\n        type: 'line',\n        symbol: \"circle\",\n        symbolSize: 10,\n        showAllSymbol: true,\n        smooth: false,\n        data: [{\n            value: data.min,\n            itemStyle: {\n                color: minPointColor\n            }\n        }, {\n            value: data.max,\n            itemStyle: {\n                color: maxPointColor\n            }\n        }],\n        markPoint: {\n            symbolSize: 80,\n            label: {\n                fontSize: 18\n            },\n            data: [\n\n                {\n                    coord: [0, data.min],\n                    value: data.min,\n                    itemStyle: {\n                        color: minPointColor\n                    }\n                },\n                {\n                    coord: [1, data.max],\n                    value: data.max,\n                    itemStyle: {\n                        color: maxPointColor\n                    }\n                },\n\n            ]\n        },\n        /*markPoint: {\n            label:{\n                fontSize:\"14\"\n            },\n            data: [\n                {\n                    type: 'min',\n                    name: '最小值',\n                    value:data.min,\n                    itemStyle : {\n                        color : minpointColor\n                    }\n                },\n                {\n                    type: 'max',\n                    name: '最大值',\n                    value:data.max,\n                    itemStyle : {\n                        color : pointColor\n                    }\n                }\n            ]\n        },*/\n        lineStyle: {\n            opacity: \"0\"\n        },\n        itemStyle: {\n            normal: {\n                color: 'red',\n                opacity: '1'\n            }\n        },\n        markArea: {\n            silent: true,\n            show: true,\n            itemStyle: {\n                normal: {\n                    color: \"#DEF0DE\",\n                    opacity: '1'\n                }\n            },\n\n            data: [\n                [{\n                    yAxis: data.markUp\n                }, {\n                    yAxis: data.markDown\n                }]\n            ]\n        },\n        markLine: {\n            silent: true,\n            show: true,\n            animation: false,\n            symbol: 'none',\n            lineStyle: {\n                normal: {\n                    type: 'solid',\n                    color: '#C3E4C3',\n                    width: '0.5'\n                }\n            },\n            tooltip: {\n                formatter: ''\n            },\n            data: [\n\n                {\n                    xAxis: 0,\n                    yAxis: data.markUp,\n                    lineStyle: {\n                        color: '#999999',\n                        width: \"0\"\n                    },\n                    label: {\n                        formatter: data.markUp,\n                        position: 'start'\n                    }\n                },\n                {\n                    xAxis: 0,\n                    yAxis: data.markUp,\n                    lineStyle: {\n                        color: '#999999',\n                        width: \"0\"\n                    },\n                    label: {\n                        formatter: data.markUp,\n                        position: 'end'\n                    }\n                },\n                {\n                    xAxis: 0,\n                    yAxis: data.markDown,\n                    lineStyle: {\n                        color: '#999999',\n                        width: \"0\"\n                    },\n                    label: {\n                        formatter: data.markDown,\n                        position: 'start'\n                    }\n                },\n                {\n                    xAxis: 0,\n                    yAxis: data.markDown,\n                    lineStyle: {\n                        color: '#999999',\n                        width: \"0\"\n                    },\n                    label: {\n                        formatter: data.markDown,\n                        position: 'end'\n                    }\n                }\n            ]\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-2552167583","theme":"","layout":"","viewCount":107,"userName":"z***g","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFgQy4JZ62.png?v=1598602904390","isCustomThumbnail":0,"builtinTags":["category-work","grid","markArea","markLine","markPoint","series-line","title"],"customTags":[],"updaterUserName":"z***g"}}