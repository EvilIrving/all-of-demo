{"status":0,"data":{"cid":"xR2CY3oZgf","authorUid":"bd-2687908434","authorUserName":"健***才","title":"X轴限制字数换行","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-08-27T03:10:15.000Z","lastUpdateTime":"2019-08-27T03:10:15.000Z","auth":2,"uid":"bd-2687908434","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-27T03:10:15.000Z","code":"\r\noption ={\r\n        grid: {\r\n            borderWidth: 1,\r\n            borderColor: \"#ccc\",\r\n            x: 163,\r\n            y: 20,\r\n            x2: 80,\r\n            y2: 80\r\n        },\r\n        tooltip: {\r\n            trigger: \"axis\"\r\n        },\r\n        toolbox: {\r\n            show: false,\r\n            feature: {\r\n                mark: {\r\n                    show: true\r\n                },\r\n                dataView: {\r\n                    show: true,\r\n                    readOnly: true\r\n                },\r\n                magicType: {\r\n                    show: false,\r\n                    type: [\"line\", \"bar\"]\r\n                },\r\n                restore: {\r\n                    show: true\r\n                },\r\n                saveAsImage: {\r\n                    show: true\r\n                }\r\n            }\r\n        },\r\n        calculable: true,\r\n        yAxis: [\r\n          {\r\n            show:false,\r\n            type: \"value\",\r\n            boundaryGap: [0, 0.01],\r\n            splitArea: {\r\n                areaStyle: {\r\n                    type: \"default\"\r\n                },\r\n                show: true\r\n            },\r\n            axisTick: {\r\n                show: false\r\n              },\r\n              axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: \"rgb(79, 88, 104)\",\r\n                    width: 1\r\n                }\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: \"#fff\",\r\n                    fontSize: 24\r\n                },\r\n                margin: 10,\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            splitNumber: 11,\r\n             splitArea : {show : false}\r\n        }],\r\n        xAxis: [{\r\n\r\n            type: \"category\",\r\n            data: [\"疑难事件01\", \"疑难事件02\", \"疑难事件03\", \"疑难事件04\", \"疑难事件05\", \"疑难事件06\", \"疑难事件07\", \"疑难事件08\", \"疑难事件09\", \"疑难事件010\"],\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            \r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: \"rgb(79, 88, 104)\",\r\n                    width: 1\r\n                }\r\n            },\r\n            splitArea: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: \"#fff\",\r\n                    fontSize: 24\r\n                },\r\n                                   interval: 0, //标签设置为全部显示\r\n    formatter: function (params) {\r\n        //粘贴以下function内未注释的代码\r\n        var newParamsName = \"\"; // 最终拼接成的字符串\r\n        var paramsNameNumber = params.length; // 实际标签的个数\r\n        var provideNumber = 3; // 每行能显示的字的个数\r\n        var rowNumber = Math.ceil(paramsNameNumber / provideNumber); // 换行的话，需要显示几行，向上取整\r\n\r\n        // 条件等同于rowNumber>1\r\n        if (paramsNameNumber > provideNumber) {\r\n\r\n            for (var p = 0; p < rowNumber; p++) {\r\n                var tempStr = \"\"; // 表示每一次截取的字符串\r\n                var start = p * provideNumber; // 开始截取的位置\r\n                var end = start + provideNumber; // 结束截取的位置\r\n                // 此处特殊处理最后一行的索引值\r\n                if (p == rowNumber - 1) {\r\n                    // 最后一次不换行\r\n                    tempStr = params.substring(start, paramsNameNumber);\r\n                } else {\r\n                    // 每一次拼接字符串并换行\r\n                    tempStr = params.substring(start, end) + \"\\n\";\r\n                }\r\n                newParamsName += tempStr; // 最终拼成的字符串\r\n            }\r\n\r\n        } else {\r\n            // 将旧标签的值赋给新标签\r\n            newParamsName = params;\r\n        }\r\n        //将最终的字符串返回\r\n        return newParamsName\r\n    },\r\n                margin: 35,\r\n            },\r\n            splitLine:{\r\n                show:false     \r\n             },\r\n              splitArea : {show : false},\r\n        }],\r\n        series: [{\r\n            \r\n            name: \"\",\r\n            type: \"bar\",\r\n            data: [50,100,150,200, 250, 300, 350, 400,450,500],\r\n            barWidth : 40,\r\n            itemStyle: {\r\n                normal: {\r\n                                  label: {\r\n                show: true, //开启显示\r\n                position: 'top', //在上方显示\r\n                textStyle: { //数值样式\r\n                  color: '#fff',\r\n                  fontSize: 36\r\n                }\r\n              },\r\n                  color: function (params){\r\n                    var colorList = [\r\n                      ['rgb(255,198,99)','rgb(236,185,94)'],\r\n                      ['rgb(255,231,99)','rgb(236,218,94)'],\r\n                      ['rgb(249,255,81)','rgb(230,236,76)'],\r\n                      ['rgb(220,255,81)','rgb(201,236,76)'],\r\n                      ['rgb(148,255,95)','rgb(129,236,90)'],\r\n                      ['rgb(95,255,136)','rgb(76,236,131)'],\r\n                      ['rgb(80,255,178)','rgb(61,236,173)'],\r\n                      ['rgb(80,255,249)','rgb(61,236,244)'],\r\n                      ['rgb(0,204,255)','rgb(0,185,250)'],\r\n                      ['rgb(0,186,255)','rgb(0,167,250)'],\r\n    \r\n    \r\n                  ];\r\n                  var index = params.dataIndex;\r\n                  if (params.dataIndex >= colorList.length) {\r\n                    index = params.dataIndex - colorList.length;\r\n                }\r\n                return new echarts.graphic.LinearGradient(0, 0, 0, 1,\r\n                  [{\r\n                          offset: 0,\r\n                          color: colorList[index][0]\r\n                      },\r\n                      {\r\n                          offset: 1,\r\n                          color: colorList[index][1]\r\n                      }\r\n                  ]);\r\n                },\r\n                    borderWidth: 1,\r\n                    barBorderRadius: [0, 2, 2, 0]\r\n                },\r\n                 emphasis: {\r\n                                barBorderRadius:[0, 2, 2, 0]\r\n                            },\r\n    \r\n            },\r\n        }]\r\n        };\r\n    ","html":"","externalScripts":"","updaterUID":"bd-2687908434","theme":"","layout":"","viewCount":42,"userName":"健***才","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xR2CY3oZgf.png?v=1566875415226","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","toolbox","tooltip"],"customTags":[],"updaterUserName":"健***才"}}