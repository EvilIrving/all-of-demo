{"status":0,"data":{"cid":"xInlTng2m2","authorUid":"bd-1275983109","authorUserName":"D***哥","title":"全国疫情每日累计确诊数据","description":"每日更新","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-07T11:44:26.000Z","lastUpdateTime":"2020-04-07T11:44:26.000Z","auth":2,"uid":"bd-1275983109","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-07T11:44:26.000Z","code":"//var name_title = \"新型冠状病毒累计确诊·中国\"\r\nvar name_title = \"全国疫情每日累计确诊数据\"\r\n//var subname = '信科学生居住地分布图'\r\nvar subname = '截止至2020-04-07'\r\nvar nameColor = \" rgb(0, 0, 0)\"\r\nvar name_fontFamily = '汉仪简菱心'\r\nvar subname_fontSize = 15\r\nvar name_fontSize = 30\r\nvar mapName = 'china'\r\nvar data = [\r\n    {name:\"湖北\",value:67803},\r\n    {name:\"广东\",value:1533},\r\n    {name:\"河南\",value:1276},\r\n    {name:\"浙江\",value:1265},\r\n    {name:\"湖南\",value:1019},\r\n    {name:\"安徽\",value:990},\r\n    {name:\"江西\",value:937},\r\n    {name:\"江苏\",value:651},\r\n    {name:\"重庆\",value:579},\r\n    {name:\"山东\",value:781},\r\n    {name:\"四川\",value:560},\r\n    {name:\"黑龙江\",value:544},\r\n    {name:\"北京\",value:587},\r\n    {name:\"上海\",value:538},\r\n    {name:\"河北\",value:327},\r\n    {name:\"福建\",value:351},\r\n    {name:\"广西\",value:254},\r\n    {name:\"陕西\",value:256},\r\n    {name:\"云南\",value:184},\r\n    {name:\"海南\",value:168},\r\n    {name:\"贵州\",value:147},\r\n    {name:\"山西\",value:138},\r\n    {name:\"天津\",value:180},\r\n    {name:\"辽宁\",value:144},\r\n    {name:\"甘肃\",value:139},\r\n    {name:\"吉林\",value:98},\r\n    {name:\"新疆\",value:76},\r\n    {name:\"内蒙古\",value:1213},\r\n    {name:\"宁夏\",value:75},\r\n    {name:\"香港\",value:914},\r\n    {name:\"台湾\",value:373},\r\n    {name:\"青海\",value:18},\r\n    {name:\"澳门\",value:44},\r\n    {name:\"西藏\",value:1},\r\n    ];\r\n    \r\nvar geoCoordMap = {};\r\nvar toolTipData = []\r\n/*\r\nvar toolTipData = [ \r\n    {name:\"北京\",value:[{name:\"文科\",value:95},{name:\"理科\",value:82}]},\r\n    {name:\"天津\",value:[{name:\"文科\",value:22},{name:\"理科\",value:20}]},\r\n    {name:\"河北\",value:[{name:\"文科\",value:60},{name:\"理科\",value:42}]},\r\n    {name:\"山西\",value:[{name:\"文科\",value:40},{name:\"理科\",value:41}]},\r\n    {name:\"内蒙古\",value:[{name:\"文科\",value:23},{name:\"理科\",value:24}]},\r\n    {name:\"辽宁\",value:[{name:\"文科\",value:39},{name:\"理科\",value:28}]},\r\n    {name:\"吉林\",value:[{name:\"文科\",value:41},{name:\"理科\",value:41}]},\r\n    {name:\"黑龙江\",value:[{name:\"文科\",value:35},{name:\"理科\",value:31}]},\r\n    {name:\"上海\",value:[{name:\"文科\",value:12},{name:\"理科\",value:12}]},\r\n    {name:\"江苏\",value:[{name:\"文科\",value:47},{name:\"理科\",value:45}]},\r\n    {name:\"浙江\",value:[{name:\"文科\",value:57},{name:\"理科\",value:57}]},\r\n    {name:\"安徽\",value:[{name:\"文科\",value:57},{name:\"理科\",value:52}]},\r\n    {name:\"福建\",value:[{name:\"文科\",value:59},{name:\"理科\",value:57}]},\r\n    {name:\"江西\",value:[{name:\"文科\",value:49},{name:\"理科\",value:42}]},\r\n    {name:\"山东\",value:[{name:\"文科\",value:67},{name:\"理科\",value:52}]},\r\n    {name:\"河南\",value:[{name:\"文科\",value:69},{name:\"理科\",value:68}]},\r\n    {name:\"湖北\",value:[{name:\"文科\",value:60},{name:\"理科\",value:56}]},\r\n    {name:\"湖南\",value:[{name:\"文科\",value:62},{name:\"理科\",value:52}]},\r\n    {name:\"重庆\",value:[{name:\"文科\",value:47},{name:\"理科\",value:44}]},\r\n    {name:\"四川\",value:[{name:\"文科\",value:65},{name:\"理科\",value:60}]},\r\n    {name:\"贵州\",value:[{name:\"文科\",value:32},{name:\"理科\",value:30}]},\r\n    {name:\"云南\",value:[{name:\"文科\",value:42},{name:\"理科\",value:41}]},\r\n    {name:\"西藏\",value:[{name:\"文科\",value:5},{name:\"理科\",value:4}]},\r\n    {name:\"陕西\",value:[{name:\"文科\",value:38},{name:\"理科\",value:42}]},\r\n    {name:\"甘肃\",value:[{name:\"文科\",value:28},{name:\"理科\",value:28}]},\r\n    {name:\"青海\",value:[{name:\"文科\",value:5},{name:\"理科\",value:5}]},\r\n    {name:\"宁夏\",value:[{name:\"文科\",value:10},{name:\"理科\",value:8}]},\r\n    {name:\"新疆\",value:[{name:\"文科\",value:36},{name:\"理科\",value:31}]},\r\n    {name:\"广东\",value:[{name:\"文科\",value:63},{name:\"理科\",value:60}]},\r\n    {name:\"广西\",value:[{name:\"文科\",value:29},{name:\"理科\",value:30}]},\r\n    {name:\"海南\",value:[{name:\"文科\",value:8},{name:\"理科\",value:6}]},\r\n];\r\n*/\r\n\r\n/*获取地图数据*/\r\nmyChart.showLoading();\r\nvar mapFeatures = echarts.getMap(mapName).geoJson.features;\r\nmyChart.hideLoading();\r\nmapFeatures.forEach(function(v) {\r\n    // 地区名称\r\n    var name = v.properties.name;\r\n    // 地区经纬度\r\n    geoCoordMap[name] = v.properties.cp;\r\n\r\n});\r\n\r\n// console.log(\"============geoCoordMap===================\")\r\n// console.log(geoCoordMap)\r\n// console.log(\"================data======================\")\r\nconsole.log(data)\r\nconsole.log(toolTipData)\r\nvar max = 44,\r\n    min = 0; // todo \r\nvar maxSize4Pin = 50,\r\n    minSize4Pin = 0;\r\n\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n    \r\n        // document.write(data[i].value[0]);\r\n        // document.write('\\t');\r\n        // document.write(data[i].value[1]);\r\n        // document.write('\\t\\t');\r\n        var geoCoord = geoCoordMap[data[i].name];\r\n        if (geoCoord) {\r\n            res.push({\r\n                name: data[i].name,\r\n                value: geoCoord.concat(data[i].value),\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\noption = {\r\n    backgroundColor: '#FFFFFF', //背景色\r\n    title: {\r\n        text: name_title,\r\n        subtext: subname,\r\n        //x: 'center',\r\n        left: 20,\r\n        top: 20,\r\n        textStyle: {\r\n            color: nameColor,\r\n            fontFamily: name_fontFamily,\r\n            fontSize: name_fontSize,\r\n            fontWeight: 'bolder',\r\n        },\r\n        subtextStyle:{\r\n            fontSize:subname_fontSize,\r\n            fontFamily:name_fontFamily\r\n        }\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(params) {\r\n            \r\n            \r\n            if (typeof(params.value)[2] == \"undefined\") {\r\n                var toolTiphtml = ''\r\n                for(var i = 0;i<toolTipData.length;i++){\r\n                    if(params.name==toolTipData[i].name){\r\n                        toolTiphtml += toolTipData[i].name+':<br>'\r\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\r\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\r\n                        }\r\n                    }\r\n                }\r\n                console.log(toolTiphtml)\r\n                return toolTiphtml;\r\n            } else {\r\n                var toolTiphtml = ''\r\n                for(var i = 0;i<toolTipData.length;i++){\r\n                    if(params.name==toolTipData[i].name){\r\n                        toolTiphtml += toolTipData[i].name+':<br>'\r\n                        for(var j = 0;j<toolTipData[i].value.length;j++){\r\n                            toolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\r\n                        }\r\n                    }\r\n                }\r\n                console.log(toolTiphtml)\r\n                return toolTiphtml;\r\n            }\r\n        }\r\n    },\r\n    // legend: {\r\n    //     orient: 'vertical',\r\n    //     y: 'bottom',\r\n    //     x: 'right',\r\n    //     data: ['credit_pm2.5'],\r\n    //     textStyle: {\r\n    //         color: '#fff'\r\n    //     }\r\n    // },\r\n    visualMap: {\r\n        show: true,\r\n        min: 1,\r\n        max: 3000,\r\n        left: 26,\r\n        bottom: 40,\r\n        showLabel: !0,\r\n        //text: ['高', '低'], // 文本，默认为数值文本\r\n        \r\n        //calculable: true,\r\n        \r\n        seriesIndex: [1],\r\n        /*\r\n        inRange: {\r\n            color: ['#FFFFFF', '#FF0000']\r\n            // color: ['#3B5077', '#031525'] // 蓝黑\r\n            // color: ['#ffc0cb', '#800080'] // 红紫\r\n            // color: ['#3C3B3F', '#605C3C'] // 黑绿\r\n            // color: ['#FFFF00', '#ff0000', '#5A0D43'] // 黑紫黑\r\n            // color: ['#23074d', '#cc5333'] // 紫红\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#1488CC', '#2B32B2'] // 浅蓝\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n            // color: ['#00467F', '#A5CC82'] // 蓝绿\r\n\r\n        }\r\n        */\r\n        \r\n        pieces:[\r\n            {min: 1001, label: \"> 1001 \", color:\"#800000\"},\r\n            {min: 501, max: 1000, label: '501 - 1000 ', color:\"#ff0000\"},\r\n            {min: 101, max: 500, label: '101 - 500 ', color:\"#cd5c5c\"},\r\n            {min: 11, max: 100, label: '11 - 100 ', color:\"#f08080\"},\r\n            {min: 0, max: 10, label: '0 - 10 ', color:\"#ffe4e1\"},\r\n            ]\r\n        \r\n        /*\r\n        pieces: [{\r\n            gt: 1001,\r\n            label: \"> 1000 人\",\r\n            color: \"#8f0000\"\r\n        }, {\r\n            gte: 500,\r\n            lte: 1000,\r\n            label: \"500 - 1000 人\",\r\n            color: \"#ff4444\"\r\n        }, {\r\n            gte: 101,\r\n            lt: 499,\r\n            label: \"101 - 499 人\",\r\n            color: \"#ff8888\"\r\n        }, {\r\n            gt: 10,\r\n            lt: 100,\r\n            label: \"10 - 100 人\",\r\n            color: \"#ffcccc\"\r\n        }, {\r\n            gt: 0,\r\n            lt: 9,\r\n            label: \"0 - 9 人\",\r\n            color: \"#ffffff\"\r\n        }],\r\n        */\r\n    },\r\n    /*工具按钮组*/\r\n    // toolbox: {\r\n    //     show: true,\r\n    //     orient: 'vertical',\r\n    //     left: 'right',\r\n    //     top: 'center',\r\n    //     feature: {\r\n    //         dataView: {\r\n    //             readOnly: false\r\n    //         },\r\n    //         restore: {},\r\n    //         saveAsImage: {}\r\n    //     }\r\n    // },\r\n    geo: {\r\n        show: true,\r\n        map: mapName,\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n            }\r\n        },\r\n        roam: true,\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: '#031525',\r\n                borderColor: '#3B5077',\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2B91B7', // 地图\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: '散点',\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            data: convertData(data),\r\n            symbolSize: 25,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    //position: 'right',\r\n                    color:'#000000',\r\n                    textStyle:{\r\n            \t\t    fontSize: '10',\t\t//字体大小\r\n            \t\t    fontWeight: 'bolder'\t\t//字体加粗\r\n            \t\t},\r\n\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#FFFF00',\r\n                    // color: '#05C3F9', // 无效 //有效了\r\n                    show: false\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: 'map',\r\n            map: mapName,\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: true, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    color:'#ff00ff',\r\n                    show: true\r\n                    \r\n                },\r\n                emphasis: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: '#000000'\r\n                    }\r\n                }\r\n            },\r\n            \r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                    \r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7'\r\n                }\r\n            },\r\n            animation: true,\r\n            data: convertData(data)\r\n        }\r\n    ]\r\n};\r\nmyChart.setOption(option);","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-1275983109","theme":"","layout":"","viewCount":960,"userName":"D***哥","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xInlTng2m2.png?v=1586259867140","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"D***哥"}}