{"status":0,"data":{"cid":"xZvMD7EBY1","authorUid":"obd-o2KqXmgX0339WtTSxnJtgImERQoWm69","authorUserName":"s***8","title":"肺癌知识图谱","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-05-29T16:10:53.000Z","lastUpdateTime":"2020-05-29T16:10:53.000Z","auth":2,"uid":"obd-o2KqXmgX0339WtTSxnJtgImERQoWm69","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-05-29T16:12:23.000Z","code":"var size = 60;\r\nvar size1 = 30;\r\nvar yy = 200;\r\nvar yy1 = 250;\r\n\r\nvar listdata = [];\r\nvar links = [];\r\n\r\nvar med = \"药品\";\r\nvar ope = \"症状\";\r\nvar che = \"号源\";\r\n\r\n//著需要设定一下四个参数\r\n//设定疾病名称\r\nvar diease = \"肺癌\";\r\n//设定传入的药品数组\r\nvar meds = [\"PD1\", \"奥希替尼\", \"特罗凯\", \"克唑替尼\"];\r\n//设定传入的操作数组\r\n//咳嗽，胸痛，气喘，痰中带血\r\nvar opes = [\"咳嗽\", \"气喘\", \"痰中带血\", \"胸闷胸疼\"];\r\n//设定传入的检查数组\r\n//https://www.zhihu.com/question/35696825\r\nvar ches = [\"王俊\", \"王洁\", \"朱广迎\", \"杨帆\"];\r\n\r\nfunction setData(arr, n) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        listdata.push({\r\n            x: i * 50,\r\n            y: size + i * 10,\r\n            \"name\": arr[i],\r\n            \"symbolSize\": size,\r\n            \"category\": n,\r\n            \"draggable\": \"true\"\r\n        })\r\n    }\r\n}\r\n\r\nfunction setLinkData(arr, title) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        links.push({\r\n            \"source\": arr[i],\r\n            \"target\": title,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: 'source',\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nvar legendes = [\"药物\", \"症状\", \"号源\", \"疾病\"];\r\nvar texts = [];\r\nfor (var i = 0; i < legendes.length; i++) {\r\n    texts.push({\r\n        \"name\": legendes[i],\r\n    })\r\n}\r\n\r\nvar cat1 = [\"药物\"];\r\nfor (var i = 0; i < meds.length; i++) {\r\n    cat1.push(meds[i]);\r\n}\r\nvar cat2 = [\"症状\"];\r\nfor (var i = 0; i < opes.length; i++) {\r\n    cat2.push(opes[i]);\r\n}\r\nvar cat3 = [\"号源\"];\r\nfor (var i = 0; i < ches.length; i++) {\r\n    cat3.push(ches[i]);\r\n}\r\nvar cat4 = [];\r\ncat4.push(diease);\r\n\r\nsetData(cat1, 0);\r\nsetData(cat2, 1);\r\nsetData(cat3, 2);\r\nsetData(cat4, 3);\r\n\r\nsetLinkData(cat1, cat1[0]);\r\nsetLinkData(cat2, cat2[0]);\r\nsetLinkData(cat3, cat3[0]);\r\nsetLinkData(legendes, cat4[0]);\r\n\r\noption = {\r\n    title: {\r\n        text: \"肺癌知识图谱\",\r\n        top: \"top\",\r\n        left: \"left\",\r\n        textStyle: {\r\n            color: '#f7f7f7'\r\n        }\r\n    },\r\n    tooltip: {\r\n        formatter: '{b}'\r\n    },\r\n    toolbox: {\r\n        show: true,\r\n        feature: {\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    backgroundColor: '#00000',\r\n    legend: {\r\n        data: legendes,\r\n        textStyle: {\r\n            color: '#fff'\r\n        },\r\n        icon: 'circle',\r\n        type: 'scroll',\r\n        orient: 'vertical',\r\n        left: 10,\r\n        top: 20,\r\n        bottom: 20,\r\n        itemWidth: 10,\r\n        itemHeight: 10\r\n    },\r\n    animationDuration: 1000,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    series: [{\r\n        name: '知识图谱',\r\n        type: 'graph',\r\n        layout: 'force',\r\n        force: {\r\n            repulsion: 60,\r\n            gravity: 0.1,\r\n            edgeLength: 15,\r\n            layoutAnimation: true,\r\n        },\r\n        data: listdata,\r\n        links: links,\r\n        categories: texts,\r\n        roam: false,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'inside',\r\n                formatter: '{b}',\r\n                fontSize: 16,\r\n                fontStyle: '600',\r\n            }\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: 0.9,\r\n                width: 1.5,\r\n                curveness: 0\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o2KqXmgX0339WtTSxnJtgImERQoWm69","theme":"","layout":"","viewCount":159,"userName":"s***8","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZvMD7EBY1.png?v=1590768743434","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","title"],"customTags":[],"updaterUserName":"s***8"}}