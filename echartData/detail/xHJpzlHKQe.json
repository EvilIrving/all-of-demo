{"status":0,"data":{"cid":"xHJpzlHKQe","authorUid":"bd-3311514982","authorUserName":"135*****540","title":"销售量曲线图","description":"在有促销和无促销的区域标记不同颜色","latestVersion":1,"alwaysLatest":1,"createTime":"2016-12-10T08:43:00.000Z","lastUpdateTime":"2016-12-10T08:43:00.000Z","auth":2,"uid":"bd-3311514982","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.3.2","versionCreateTime":"2016-12-10T08:43:00.000Z","code":"var effectDTOList = [{\n    \"date\": \"10-30\",\n    \"salesCnt\": 22,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-10-31\",\n    \"salesCnt\": 27,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-11-01\",\n    \"salesCnt\": 44,\n    \"status\": 0\n}, {\n    \"date\": \"2016-11-02\",\n    \"salesCnt\": 64,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-11-03\",\n    \"salesCnt\": 77,\n    \"status\": 1\n}, {\n\n    \"date\": \"2016-11-04\",\n    \"salesCnt\": 99,\n    \"status\": 1\n}, {\n\n    \"date\": \"2016-11-05\",\n    \"salesCnt\": 102,\n    \"status\": 1\n}, {\n\n    \"date\": \"2016-11-06\",\n    \"salesCnt\": 116,\n    \"status\": 1\n}, {\n\n    \"date\": \"2016-11-07\",\n    \"salesCnt\": 99,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-11-08\",\n    \"salesCnt\": 77,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-11-09\",\n    \"salesCnt\": 64,\n    \"status\": 0\n}, {\n\n    \"date\": \"2016-11-10\",\n    \"salesCnt\": 70,\n    \"status\": 0\n}];\nvar xAxis = [],\n    yAxis = [],\n    data = [],\n    series = [],\n    seriesItem;\nvar st = effectDTOList[0].status;\nfor (var i = 0; i < effectDTOList.length; i++) {\n    var date = effectDTOList[i].date.substring(5);\n    xAxis.push(date);\n    yAxis.push(effectDTOList[i].salesCnt);\n    data.push([date, effectDTOList[i].salesCnt]);\n    if (st != effectDTOList[i].status || (i == effectDTOList.length - 1)) {\n        var color = st == 1 ? '#ff8c66' : \"#e2e2e2\";\n        var name1 = st == 1 ? '有促销' : \"无促销\";\n        seriesItem = {\n            name: name1,\n            type: 'line',\n            smooth: true,\n            symbolSize: 7,\n            data: data,\n            areaStyle: {\n                normal: {\n                    color: color,\n                    opacity: 1\n                }\n            },\n            lineStyle: {\n                normal: {\n                    color: '#ff8c66'\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: color,\n                    borderWidth: 2,\n                    borderType: 'solid'\n                }\n            }\n        };\n        series.push(seriesItem);\n        data = [\n            [date, effectDTOList[i].salesCnt]\n        ];\n        st = effectDTOList[i].status;\n    }\n}\n\noption = {\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    title: {\n        text: '销售量曲线图',\n        subtext: '不同时间段面积标记不同颜色'\n    },\n    legend: {\n        right: 50,\n        top: 20,\n        data: [{\n                name: '无促销',\n                icon: 'circle',\n                textStyle: {\n                    color: '#333',\n                    fontSize: '14'\n                }\n            }, {\n                name: '有促销',\n                icon: 'circle',\n                textStyle: {\n                    color: '#333',\n                    fontSize: '14'\n                }\n            }\n\n        ]\n    },\n    toolbox: {\n        feature: {\n            saveAsImage: {}\n        }\n    },\n    dataZoom: [{\n        type: 'inside',\n        xAxisIndex: [0]\n    }],\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(params) {\n            for (let i = 0; i < params.length; i++) {\n                if (params[i].value) {\n                    return params[i].value[1];\n                }\n            }\n            return 'loading';\n        },\n        backgroundColor: '#ff6633',\n        padding: [10],\n        axisPointer: {\n            lineStyle: {\n                color: '#ddd'\n            }\n        }\n\n    },\n    xAxis: {\n        axisTick: {\n            show: true\n        },\n        type: 'category',\n        boundaryGap: false,\n        data: xAxis,\n        axisLine: {\n            lineStyle: {\n                color: '#ddd'\n            }\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#333'\n            }\n        }\n    },\n    yAxis: {\n        axisTick: {\n            show: false\n        },\n        type: 'value',\n        axisLine: {\n            show: false\n        },\n        splitLine: {\n            lineStyle: {\n                color: '#ddd'\n            }\n        }\n    },\n    series: series\n};","html":"","externalScripts":"","updaterUID":"bd-3311514982","theme":"","layout":"","viewCount":1434,"userName":"135*****540","commentCount":1,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJpzlHKQe.png?v=1481359381157","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"135*****540"}}