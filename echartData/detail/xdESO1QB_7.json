{"status":0,"data":{"cid":"xdESO1QB_7","authorUid":"obd-oMmVgYjzB50Xt-n57QwUKkfNi6WhY2E","authorUserName":"伯***生","title":"折线图图例事件","description":"纯属虚构","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-01T08:52:01.000Z","lastUpdateTime":"2021-07-01T08:52:01.000Z","auth":2,"uid":"obd-oMmVgYjzB50Xt-n57QwUKkfNi6WhY2E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-01T08:52:01.000Z","code":"\nvar selected = {\n    '最高气温': false,\n    '最低气温': false\n};\nvar test = [];\noption = {\n    title: {\n        text: '未来一周气温变化',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    legend: {\n        data: ['最高气温', '最低气温'],\n        selected: selected\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataZoom: {\n                yAxisIndex: 'none'\n            },\n            dataView: {readOnly: false},\n            magicType: {type: ['line', 'bar']},\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']\n    },\n    yAxis: {\n        type: 'value',\n        axisLabel: {\n            formatter: '{value} °C'\n        }\n    },\n    series: [\n        {\n            name: '最高气温',\n            type: 'line',\n            data: [10, 11, 13, 11, 12, 12, 9],\n            markPoint: {\n                data: [\n                    {type: 'max', name: '最大值'},\n                    {type: 'min', name: '最小值'}\n                ]\n            },\n            markLine: {\n                data: [\n                    {type: 'average', name: '平均值'}\n                ]\n            }\n        },\n        {\n            name: '最低气温',\n            type: 'line',\n            data: [1, -2, 2, 5, 3, 2, 0],\n            markPoint: {\n                data: [\n                    {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}\n                ]\n            },\n            markLine: {\n                data: [\n                    {type: 'average', name: '平均值'},\n                    [{\n                        symbol: 'none',\n                        x: '90%',\n                        yAxis: 'max'\n                    }, {\n                        symbol: 'circle',\n                        label: {\n                            position: 'start',\n                            formatter: '最大值'\n                        },\n                        type: 'max',\n                        name: '最高点'\n                    }]\n                ]\n            }\n        }\n    ]\n};\n\nmyChart.on('highlight', (params)=>{\n    if (!test.includes(params['seriesName']) && params.excludeSeriesId && params.excludeSeriesId.length === 0) {\n        myChart.dispatchAction({\n            type: 'legendSelect',\n            name: params['seriesName']\n        })\n    }\n})\n\nmyChart.on('downplay', (params)=>{\n    if (!test.includes(params['seriesName']) && params.excludeSeriesId && params.excludeSeriesId.length === 0) {\n        console.log(test,params['seriesName']);\n        if (!test[params['seriesName']]) {\n            myChart.dispatchAction({\n            type: 'legendUnSelect',\n            name: params['seriesName']\n        })\n    }\n    }\n})\nmyChart.on('legendselectchanged', (params)=>{\n    console.log(13);\n    test[params['name']] = true;\n    if (test.includes(params['name']) && !params['selected'][params['name']]) {\n        test = test.filter((item)=>{return item != params['name'] })\n    }\n    if (!test.includes(params['name']) && params['selected'][params['name']]) {\n        test.push(params['name'])\n    }\n})","html":"","externalScripts":"","updaterUID":"obd-oMmVgYjzB50Xt-n57QwUKkfNi6WhY2E","theme":"","layout":"","viewCount":0,"userName":"伯***生","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdESO1QB_7.png?v=1625129522029","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","markLine","markPoint","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"伯***生"}}