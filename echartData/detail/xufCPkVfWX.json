{"status":0,"data":{"cid":"xufCPkVfWX","authorUid":"bd-3626886291","authorUserName":"l***u","title":"多图表Grid布局算法-图表0","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2022-01-19T07:06:03.000Z","lastUpdateTime":"2022-01-19T07:06:03.000Z","auth":2,"uid":"bd-3626886291","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-19T07:06:03.000Z","code":"function genGrid(option) {\n    let opt = {\n        length: 1,\n        cols: 1,\n        gutterX: 10,\n        gutterY: 10,\n    };\n    opt = Object.assign(opt, option);\n    let grids = [];\n    let rows = Math.ceil(opt.length / opt.cols); //获取总行数\n    let width = Math.floor((100 - (opt.cols + 1) * opt.gutterX) / opt.cols); //每列图表宽度\n    let height = Math.floor((100 - (rows + 1) * opt.gutterY) / rows); //每行图表高度\n    for (let i = 0; i < opt.length; i++) {\n        let rowIndex = Math.floor(i / opt.cols); //行索引\n        let colIndex = i % opt.cols; //列索引\n        let left = colIndex * width + (colIndex + 1) * opt.gutterX;\n        let right = 100 - left - width;\n        let top = rowIndex * height + (rowIndex + 1) * opt.gutterY;\n        let bottom = 100 - top - height;\n        let center = [Math.floor(left + width / 2), Math.floor(top + height / 2 + opt.gutterX)];\n\n        let gird = {\n            index: i,\n            center: [center[0] + '%', center[1] + '%'],\n            left: left + '%',\n            right: right + '%',\n            top: top + '%',\n            bottom: bottom + '%',\n            _width: width,\n            _height: height,\n            _center: center,\n            _left: left,\n            _right: right,\n            _top: top,\n            _bottom: bottom,\n        };\n        grids.push(gird);\n    }\n    return grids;\n}\n\nlet grid = genGrid({ length: 15, cols: 5, gutterY: 8, gutterX: 5 });\nconsole.log(grid);\nlet xAxis = [],\n    yAxis = [],\n    series = [],\n    title = [];\nfor (let i = 0; i < grid.length; i++) {\n    title.push({\n        text: '多图表Grid布局算法-图表' + i,\n        left: grid[i]._left + grid[i]._width / 2 + '%',\n        top: grid[i]._top + '%',\n        textAlign: 'center',\n    });\n    xAxis.push({\n        gridIndex: i,\n        name: '' + i,\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    });\n    yAxis.push({\n        gridIndex: i,\n        name: i + '',\n    });\n    series.push({\n        data: [150, 230, 224, 218, 135, 147, 260],\n        type: ['line', 'bar'][Math.floor(Math.random() * 2)],\n        xAxisIndex: i,\n        yAxisIndex: i,\n        // center: grid[i].center,\n        // radius: grid[i].radius,\n    });\n}\ngrid = grid.map((m) => {\n    m.top = m._top + 10 + '%';\n    return m;\n});\noption = {\n    title,\n    xAxis,\n    yAxis,\n    grid,\n    series,\n};\nconsole.log(option);\n","html":"","externalScripts":"","updaterUID":"bd-3626886291","theme":"","layout":"","viewCount":0,"userName":"l***u","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xufCPkVfWX.png?v=1642575963637","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-line","title"],"customTags":[],"updaterUserName":"l***u"}}