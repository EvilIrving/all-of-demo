{"status":0,"data":{"cid":"xiA5UijL1T","authorUid":"bd-7382906384","authorUserName":"满***6","title":"纵向刻度尺 显示进度","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-05T03:19:03.000Z","lastUpdateTime":"2020-06-05T03:19:03.000Z","auth":2,"uid":"bd-7382906384","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-05T03:19:03.000Z","code":" var TP_value = 40;\r\n var kd = [];\r\n var Gradient = [];\r\n var leftColor = '';\r\n var showValue = '';\r\n var boxPosition = [65, 0];\r\n var TP_txt = ''\r\n // 刻度使用柱状图模拟，短设置1，长的设置3；构造一个数据\r\n for (var i = 0, len = 100; i <= len; i++) {\r\n     if (i <= 0 || i >= 100) {\r\n         kd.push('-2')\r\n     } else {\r\n         if ((i - 10) % 20 === 0) {\r\n             kd.push('-2');\r\n         } else if ((i - 10) % 4 === 0) {\r\n             kd.push('-1');\r\n         } else {\r\n             kd.push('');\r\n         }\r\n     }\r\n\r\n }\r\n  Gradient.push({\r\n         offset: 0,\r\n         color: 'rgb(0, 76, 245)'\r\n     }, {\r\n         offset: 0.5,\r\n         color: 'rgba(33, 120, 246,1)'\r\n     }, {\r\n         offset: 1,\r\n         color: 'rgba(69, 174, 249,11)'\r\n     })\r\n if (TP_value > 100) {\r\n     showValue = 100\r\n } else {\r\n     if (TP_value < -0) {\r\n         showValue =0\r\n     } else {\r\n         showValue = TP_value\r\n     }\r\n }\r\n leftColor = Gradient[Gradient.length - 1].color;\r\n // 因为柱状初始化为0，温度存在负值，所以加上负值60和空出距离10\r\n var option = {\r\n     backgroundColor: '#000',\r\n     title: {\r\n         text: '温度计',\r\n         show: false\r\n     },\r\n     yAxis: [{\r\n         show: true,\r\n         data: [],\r\n         min: 0,\r\n         max:100,\r\n         axisLine: {\r\n             show: false\r\n         }\r\n     }, {\r\n         show: false,\r\n         min: 0,\r\n         max: 100,\r\n         \r\n     }, {\r\n         type: 'category',\r\n         data: ['', '', '', '', '', '', '', '', '', '', ''],\r\n         position: 'right',\r\n         offset: -5,\r\n         axisLabel: {\r\n             fontSize: 10,\r\n             color: 'white'\r\n         },\r\n         axisLine: {\r\n             show: false\r\n         },\r\n         axisTick: {\r\n             show: false\r\n         },\r\n     }],\r\n     xAxis: [{\r\n         show: false,\r\n         min: -10,\r\n         max: 80,\r\n         data: []\r\n     }, {\r\n         show: false,\r\n         min: -10,\r\n         max: 80,\r\n         data: []\r\n     }, {\r\n         show: false,\r\n         min: -10,\r\n         max: 80,\r\n         data: []\r\n     }, {\r\n         show: false,\r\n         min: -8,\r\n         max: 80,\r\n         splitLine:{\r\n             lineStyle:{\r\n                 color:'rgba(56, 128, 138,1)',\r\n             }\r\n         }\r\n\r\n     }],\r\n     series: [{\r\n         name: '条',\r\n         type: 'bar',\r\n         // 对应上面XAxis的第一个对)象配置\r\n         xAxisIndex: 0,\r\n         data: [{\r\n             value: showValue,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     position: \"top\",\r\n                     backgroundColor: {\r\n                        //  image: 'plugin/subway_beijing/images/power/bg5Valuebg.png', //文字框背景图\r\n                     },\r\n                     width: 10,\r\n                     height:50,\r\n                     formatter: '{back| ' + TP_value + ' }',\r\n                     rich: {\r\n                         back: {\r\n                             align: 'center',\r\n                             lineHeight: 50,\r\n                             fontSize: 16,\r\n                             fontFamily: 'digifacewide',\r\n                             color: leftColor\r\n                         },\r\n                        //  unit: {\r\n                        //      fontFamily: '微软雅黑',\r\n                        //      fontSize: 15,\r\n                        //      lineHeight: 50,\r\n                        //      color: leftColor\r\n                        //  },\r\n                        //  downTxt: {\r\n                        //      lineHeight: 50,\r\n                        //      fontSize: 25,\r\n                        //      align: 'center',\r\n                        //      color: '#fff'\r\n                        //  }\r\n                     }\r\n                 }\r\n             }\r\n         }],\r\n\r\n         barWidth: 25,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: new echarts.graphic.LinearGradient(0, 1, 0, 0, Gradient)\r\n             }\r\n         },\r\n         z: 2\r\n     }, {\r\n         name: '白框',\r\n         type: 'bar',\r\n         xAxisIndex: 1,\r\n         barGap: '-100%',\r\n         data: [99],\r\n         barWidth:25,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: '#000',\r\n                 barBorderRadius: 0,\r\n             }\r\n         },\r\n         z: 1\r\n     }, {\r\n         name: '外框',\r\n         type: 'bar',\r\n         xAxisIndex: 2,\r\n         barGap: '-100%',\r\n         data: [100],\r\n         barWidth: 33,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: 'rgba(56, 128, 138,1)',\r\n                 barBorderRadius: 0,\r\n             }\r\n         },\r\n         z: 0\r\n     },   {\r\n         name: '刻度',\r\n         type: 'bar',\r\n         yAxisIndex: 0,\r\n         xAxisIndex: 3,\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 position: 'left',\r\n                 distance: 10,\r\n                 color: 'rgba(56, 128, 138,1)',\r\n                 fontSize: 16,\r\n                 formatter: function(params) {\r\n                         if (params.dataIndex % 10 === 0) {\r\n                             return params.dataIndex ;\r\n                         } else if( params.dataIndex==100){\r\n                             return params.dataIndex;\r\n                         }else{\r\n                             return \"\"\r\n                         }\r\n                 }\r\n             }\r\n         },\r\n         barGap: '-40%',\r\n         data: kd,\r\n         barWidth: 2,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: 'rgba(56, 128, 138,1)',\r\n                //  barBorderRadius: 120,\r\n             }\r\n         },\r\n         z: 0\r\n     }]\r\n };","html":"","externalScripts":"","updaterUID":"bd-7382906384","theme":"","layout":"","viewCount":490,"userName":"满***6","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xiA5UijL1T.png?v=1591327143740","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"满***6"}}