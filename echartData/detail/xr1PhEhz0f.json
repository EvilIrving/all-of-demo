{"status":0,"data":{"cid":"xr1PhEhz0f","authorUid":"bd-1766413141","authorUserName":"後***楷","title":"饼状图点击生成柱状图","description":"饼状图点击每一个分区都会实时更新柱状图信息","latestVersion":2,"alwaysLatest":1,"createTime":"2018-05-11T06:14:06.000Z","lastUpdateTime":"2018-05-11T06:14:06.000Z","auth":2,"uid":"bd-1766413141","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-11T06:16:26.000Z","code":" var radarDataAvg =  [\n        {value:922, name:'参数及功能咨询',itemStyle: {normal:{color: '#EA9294'}}},\n        {value:480, name:'爆照',itemStyle: {normal:{color: '#949494'}}},\n        {value:418, name:'电脑',itemStyle: {normal:{color: '#A4D2D5'}}},\n        {value:357, name:'重启死机',itemStyle: {normal:{color: '#F1C0B1'}}},\n        {value:228, name:'声音与震动',itemStyle: {normal:{color: '#BAD7CB'}}},\n        {value:203, name:'屏幕',itemStyle: {normal:{color: '#8B99A1'}}},\n        {value:138, name:'按键',itemStyle: {normal:{color: '#E6B9C0'}}},\n        {value:126, name:'无线',itemStyle: {normal:{color: '#A9B9C6'}}},\n        {value:106, name:'相机',itemStyle: {normal:{color: '#EEA8A9'}}},\n        {value:35, name:'传感器',itemStyle: {normal:{color: '#A9A9A9'}}},\n        {value:12, name:'图库',itemStyle: {normal:{color: '#B6DBDD'}}},\n        {value:6, name:'音乐与视频',itemStyle: {normal:{color: '#A9A9A9'}}},\n        {value:5, name:'手机管家',itemStyle: {normal:{color: '#EEA8A9'}}},\n        {value:577, name:'其他故障',itemStyle: {normal:{color: '#A9B9C6'}}},\n    ];\n    var hotDatas={\n        922:[18,20,30],\n        480:[1,8,6],\n        418:[2,54,88],\n        357:[34,12,23],\n        228:[11,23,33],\n        203:[54,22,44],\n        138:[11,23,33],\n        126:[1,8,6],\n        106:[11,23,33],\n        35:[1,8,6],\n        12:[1,8,6],\n        6:[1,2,6],\n        5:[1,8,6],\n        577:[11,28,6],\n    }\n    var decData =  ['无法开机', '无法上网', '第三方软件故障',];\n    var option = {\n        title: [{\n            text: 'note3咨询数据',\n            left: 'center',\n            textStyle: {\n                color: '#5a687B'\n            }\n        }],\n        color: ['#4472c4', ],\n        grid: {\n            left: '1%',\n            right: '30%',\n            top: '20%',\n//            bottom: '6%',\n            containLabel: true\n        },\n        xAxis: {\n            type: 'category',\n            data: decData,\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    type: 'solid',\n                    color: '#7c7c7c',//左边线的颜色\n\n                }\n            },\n        },\n        yAxis: {\n            //设置Y轴不显示数值\n            axisLabel : {\n                formatter: function(){\n                    return \"\";\n                }\n            },\n            //  控制y轴线是否显示\n            axisLine: {show: false},\n            // 控制网格线是否显示\n            splitLine: {\n                show: false\n            },\n            // 去除y轴上的刻度线\n            axisTick: {\n                show: false\n            }\n        },\n        series: [{\n            name: 'note3咨询状况',\n            type: 'bar',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    formatter: '{c}'\n                }\n            },\n//            barMaxWidth: 35, //柱状宽\n//            data:radarDataAvg[13] ,\n        }, {\n            type: 'pie',\n            radius : '35%',\n            top:15,\n            startAngle: -235,\n            center: ['40%', '30%'],\n            data:radarDataAvg,\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right', //标签的位置\n                    textStyle: {\n                        color: '#4c4c4c',\n                        fontSize: 12,\n\n                    },\n//                       设置饼状图上的文字\n                    formatter:'{b}\\n{c}'\n                }\n            },\n            itemStyle: {\n                normal: {\n                    borderWidth: 2,\n                    borderColor: '#ffffff',\n                },\n                emphasis: {\n                    // shadowBlur: 2,\n                    shadowOffsetX: 0,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            }\n        }]\n    };\n\n\n    function getHotData(value){\n        return hotDatas[value]\n    }\n\n    // 点击事件\n    myChart.on('click', function(params) {\n        if (params.componentType === 'series' && params.seriesType === 'pie') {\n            var dataIndex = params.dataIndex;\n            var val = params.value;\n            var hotData = getHotData(val);//通过value获取柱形图的数据\n            myChart.setOption({\n                series: [{\n                    name: '1',\n                    type: 'bar',\n                    \"barMaxWidth\": 35, //柱状宽\n                    data: hotData\n                },{\n                    type: 'pie',\n                    radius : '35%',\n                    top:15,\n                    startAngle: -235,\n                    center: ['40%', '30%'],\n                    data:radarDataAvg,\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'right', //标签的位置\n                            textStyle: {\n                                color: '#4c4c4c',\n                                fontSize: 12,\n\n                            },\n//                       设置饼状图上的文字\n                            formatter:'{b}\\n{c}'\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            borderWidth: 2,\n                            borderColor: '#ffffff',\n                        },\n                        emphasis: {\n                            // shadowBlur: 2,\n                            shadowOffsetX: 0,\n                            shadowColor: 'rgba(0, 0, 0, 0.5)'\n                        }\n                    }\n                }]\n\n            })\n        }\n    });","html":"","externalScripts":"","updaterUID":"bd-1766413141","theme":"","layout":"","viewCount":137,"userName":"後***楷","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1PhEhz0f.png?v=1526019386166","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pie","title"],"customTags":[],"updaterUserName":"後***楷"}}