{"status":0,"data":{"cid":"xJS60up2Vw","authorUid":"bd-2646425411","authorUserName":"s***g","title":"3d立体渐变柱状图","description":"自定义每个柱图的颜色","latestVersion":2,"alwaysLatest":1,"createTime":"2021-03-30T02:06:21.000Z","lastUpdateTime":"2021-03-30T02:06:21.000Z","auth":2,"uid":"bd-2646425411","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-30T03:30:04.000Z","code":" // 绘制左侧面\r\n        const CubeLeft = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                // 会canvas的应该都能看得懂，shape是从custom传入的\r\n                const xAxisPoint = shape.xAxisPoint\r\n                const c0 = [shape.x + 7, shape.y]\r\n                const c1 = [shape.x - 23, shape.y - 6]\r\n                const c2 = [xAxisPoint[0] - 23, xAxisPoint[1] - 13]\r\n                const c3 = [xAxisPoint[0] + 7, xAxisPoint[1]]\r\n                ctx.moveTo(c0[0], c0[1]).lineTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).closePath()\r\n            }\r\n        })\r\n        // 绘制右侧面\r\n        const CubeRight = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                const xAxisPoint = shape.xAxisPoint\r\n                const c1 = [shape.x + 7, shape.y]\r\n                const c2 = [xAxisPoint[0] + 7, xAxisPoint[1]]\r\n                const c3 = [xAxisPoint[0] + 25, xAxisPoint[1] - 15]\r\n                const c4 = [shape.x + 25, shape.y - 15]\r\n                ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n            }\r\n        })\r\n        // 绘制顶面\r\n        const CubeTop = echarts.graphic.extendShape({\r\n            shape: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            buildPath: function(ctx, shape) {\r\n                const c1 = [shape.x + 7, shape.y]\r\n                const c2 = [shape.x + 25, shape.y - 15] //右点\r\n                const c3 = [shape.x - 5, shape.y - 20]\r\n                const c4 = [shape.x - 23, shape.y - 6]\r\n                ctx.moveTo(c1[0], c1[1]).lineTo(c2[0], c2[1]).lineTo(c3[0], c3[1]).lineTo(c4[0], c4[1]).closePath()\r\n            }\r\n        })\r\n        // 注册三个面图形\r\n        echarts.graphic.registerShape('CubeLeft', CubeLeft)\r\n        echarts.graphic.registerShape('CubeRight', CubeRight)\r\n        echarts.graphic.registerShape('CubeTop', CubeTop)\r\n        const VALUE = [200,300,350,400]\r\n         option = {\r\n            backgroundColor: \"transparent\",\r\n            title: {\r\n                text: '单位：个',\r\n                textStyle: {\r\n                    color: '#7ebaf2',\r\n                    fontWeight: '800',\r\n                    fontSize: 12,\r\n                },\r\n                left: '18px',\r\n                top: '1%'\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                formatter: function(params, ticket, callback) {\r\n                    const item = params[1]\r\n                    return item.name + ' : ' + item.value;\r\n                }\r\n            },\r\n            grid: {\r\n                left: '5%',\r\n                right: '5%',\r\n                top: '12%',\r\n                bottom: '5%',\r\n                containLabel: true\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: ['海淀','朝阳','丰台','石景山'],\r\n                axisLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#7ebaf2'\r\n                    }\r\n                },\r\n                axisTick: {\r\n                    show: false,\r\n                    length: 9,\r\n                    alignWithLabel: true,\r\n                    lineStyle: {\r\n                        color: '#7DFFFD'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    fontSize: 12\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                min:0,\r\n                axisLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#7ebaf2'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                    show: false\r\n                },\r\n                splitArea: {\r\n                    show: true,\r\n                    areaStyle: {\r\n                        color: [\r\n                            \"rgba(26,50,83,1)\",\r\n                            \"rgba(30,57,92,1)\",\r\n                        ]\r\n                    }\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    fontSize: 12\r\n                },\r\n                boundaryGap: ['20%', '20%']\r\n            },\r\n            series: [{\r\n                type: 'custom',\r\n                renderItem: (params, api) => {\r\n                    let cubeLeftStyle = ''\r\n                    let cubeRightStyle = ''\r\n                    let cubeTopStyle = ''\r\n                    if(params.dataIndex == 0){\r\n                        cubeLeftStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(0,255,186,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,148,109,1)'\r\n                        }])\r\n                        cubeRightStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(0,255,186,0.3)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,148,109,0.3)'\r\n                        }])\r\n                        cubeTopStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(189,255,237,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(189,255,237,1)'\r\n                        }])\r\n                    }else if(params.dataIndex == 1){\r\n                        cubeLeftStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(222,231,235,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(141,153,165,1)'\r\n                        }])\r\n                        cubeRightStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(222,231,235,0.3)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(222,231,235,0.3)'\r\n                        }])\r\n                        cubeTopStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(255,255,255,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(255,255,2555,1)'\r\n                        }])\r\n                    \r\n                    }else if(params.dataIndex == 2){\r\n                       cubeLeftStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(62,255,255,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,126,191,1)'\r\n                        }])\r\n                        cubeRightStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(23,176,255,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,138,255,0.3)'\r\n                        }])\r\n                        cubeTopStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(163,232,255,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(163,232,255,1)'\r\n                        }])\r\n                    }else if(params.dataIndex == 3){\r\n                       cubeLeftStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(255,217,217,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(180,97,97,1)'\r\n                        }])\r\n                        cubeRightStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(178,95,95,0.3)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(89,47,47,0.3)'\r\n                        }])\r\n                        cubeTopStyle=new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: 'rgba(255,217,217,1)'\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(255,217,217,1)'\r\n                        }])\r\n                    }\r\n                    const location = api.coord([api.value(0), api.value(1)])\r\n                    return {\r\n                        type: 'group',\r\n                        children: [{\r\n                            type: 'CubeLeft',\r\n                            shape: {\r\n                                api,\r\n                                xValue: api.value(0),\r\n                                yValue: api.value(1),\r\n                                x: location[0],\r\n                                y: location[1],\r\n                                xAxisPoint: api.coord([api.value(0), 0])\r\n                            },\r\n                            style: {\r\n                                fill: cubeLeftStyle\r\n                            }\r\n                        }, {\r\n                            type: 'CubeRight',\r\n                            shape: {\r\n                                api,\r\n                                xValue: api.value(0),\r\n                                yValue: api.value(1),\r\n                                x: location[0],\r\n                                y: location[1],\r\n                                xAxisPoint: api.coord([api.value(0), 0])\r\n                            },\r\n                            style: {\r\n                                fill:cubeRightStyle\r\n                            }\r\n                        },\r\n                         {\r\n                            type: 'CubeTop',\r\n                            shape: {\r\n                                api,\r\n                                xValue: api.value(0),\r\n                                yValue: api.value(1),\r\n                                x: location[0],\r\n                                y: location[1],\r\n                                xAxisPoint: api.coord([api.value(0), 0])\r\n                            },\r\n                            style: {\r\n                                fill: cubeTopStyle\r\n                            }\r\n                        },\r\n                        \r\n                        \r\n                        ]\r\n                    }\r\n                },\r\n                data: VALUE\r\n            }, {\r\n                type: 'bar',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        position: 'top',\r\n                        fontSize: 14,\r\n                        color: '#fff',\r\n                        offset: [2, -25]\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    color: 'transparent'\r\n                },\r\n                tooltip: {\r\n\r\n                },\r\n                data: VALUE\r\n            }]\r\n        }","html":"","externalScripts":"","updaterUID":"bd-2646425411","theme":"","layout":"","viewCount":89,"userName":"s***g","commentCount":1,"starCount":24,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xJS60up2Vw.png?v=1617075004168","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-custom","title","tooltip"],"customTags":[],"updaterUserName":"s***g"}}