{"status":0,"data":{"cid":"xDm_Q-RqsT","authorUid":"obd-oD-aiDbWLHmiAivXtgP3of1rlElo111","authorUserName":"R***n","title":"地图描边文字及色块","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-12-23T10:20:11.000Z","lastUpdateTime":"2021-12-23T10:20:45.000Z","auth":1,"uid":"obd-oD-aiDbWLHmiAivXtgP3of1rlElo111","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-23T10:20:46.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1605510661041-oDutJVlSC.json\";\n\t\tvar nameMap = '山东省';\n\t\twindow.dataList = [  { name: '济南市', value: 396 },\n        { name: '青岛市', value: 66 },\n        { name: '烟台市', value: 222 },\n        { name: '潍坊市', value: 688 },\n        { name: '菏泽市', value: 75 },\n        { name: '日照市', value: 121 },\n        { name: '威海市', value: 91 },\n        { name: '枣庄市', value: 479 },\n        { name: '临沂市', value: 34 },\n        { name: '滨州市', value: 631 },\n        { name: '东营市', value: 1203 },\n        { name: '淄博市', value: 988 },\n        { name: '泰安市', value: 693 },\n        { name: '聊城市', value: 934 },\n        { name: '济宁市', value: 748 },\n        { name: '德州市', value: 1267 }\n\t\t];\n\t\tvar geoCoordMap = {};\n\t\tvar convertData = function(data) {\n\t\t    console.log('data', data)\n\t\t    var res = [];\n\t\t    for (var i = 0; i < data.length; i++) {\n\t\t        var geoCoord = geoCoordMap[data[i].name];\n\t\t        if (geoCoord) {\n\t\t            res.push({\n\t\t                name: data[i].name,\n\t\t                value: geoCoord.concat(data[i].value),\n\t\t            });\n\t\t        }\n\t\t    }\n\t\t    console.log('res', res)\n\t\t    return res;\n\t\t};\n\t\nlet textStyle = {}\n\n                  textStyle.textBorderColor='red'\n                  textStyle.textBorderType='solid'\n                  textStyle.textBorderWidth=5\n                  textStyle.fontSize= 16\n                  textStyle.fontWeight='bolder'\n                  textStyle.color= '#ddd'\n\n\n\t\t$.get(uploadedDataURL, function(gdMap) {\n\t\t    debugger\n\t\t    echarts.registerMap(nameMap, gdMap);\n\t\t    /*获取地图数据*/\n\t\t    myChart.showLoading();\n\t\t    var mapFeatures = echarts.getMap(nameMap).geoJson.features;\n\t\t    myChart.hideLoading();\n\t\t    mapFeatures.forEach(function(v) {\n\t\t        // 地区名称\n\t\t        var name = v.properties.name;\n\t\t        // 地区经纬度\n\t\t        geoCoordMap[name] = v.properties.center;\n\n\t\t    });\n\t\t    console.log(geoCoordMap)\n\t\t    //GDP\n\t\t  var optionMap = {\n\t\t        title: {\n          text: '地图',\n          top: '2%',\n          textStyle: {\n            color: '#000',\n            fontSize: 16\n          }\n        },\n        visualMap: [{\n          min: 0,\n          max:  1000,\n          show: false,\n          //   text: ['High', 'Low'],\n          realtime: false,\n          calculable: false,\n          seriesIndex: [0],\n          inRange: {\n            color: ['rgb(202,249,130)', 'rgb(129,211,248)', 'rgb(255,255,128)', 'rgb(128,255,255)', 'rgb(0,255,255)', 'rgb(128,128,255)', 'rgb(236,128,141)', 'rgb(194,128,255)', 'rgb(245,154,35)', 'rgb(112,182,3)', 'rgb(0,182,128)', 'rgb(99,0,191)']\n          }\n        },\n        {\n          min: 0,\n          max: 1000,\n          seriesIndex: 1,\n          show: true,\n          splitNumber: 4,\n          right: '2%',\n          inRange: {\n            color: ['#FF6464', '#FFA85A', '#FFEC6F', '#8BBCFE'].reverse()\n          },\n          formatter: function (value) {\n            return ''\n          }\n        }],\n        geo: {\n          map: nameMap,\n          show: false,\n          roam: true,\n        \n          label: {\n             \n            normal: {\n               color:'#ddd',\n              show: true\n            },\n            emphasis: {\n              show: false\n            }\n          }\n        },\n        series: [\n          { // 地图块的相关信息\n            type: 'map',\n            map: nameMap,\n            itemStyle:{\n              show:true,\n              color:'#ddd'\n            },\n            label: {\n              normal: {\n                show: true,\n                formatter:\"{b}\",\n                position:'right',\n                textStyle: textStyle\n              }\n            },\n            data: window.dataList\n          },\n          {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            symbol: 'circle',\n            symbolSize: 10,\n           \n            label: {\n               emphasis:{\n              show:true\n            },\n              normal: {\n                show: true,\n                position:'right',\n                textStyle: textStyle,\n                formatter (value) {\n                  return value.data.value[2]\n                }\n              }\n            },\n            rippleEffect:{\n              period:4,\n              brushStyle:'stroke',\n              scale:4\n            },\n           // hoverAnimation: true,\n            itemStyle: {\n              normal: {\n                show:true,\n                color: '#ddd' // 标志颜色\n              }\n            },\n            zlevel: 2,\n            data: convertData(window.dataList)\n          }\n        ]\n\n\t\t    };\n\t\t    myChart.setOption(optionMap, true);\n\t\t});","html":"","externalScripts":"","updaterUID":"obd-oD-aiDbWLHmiAivXtgP3of1rlElo111","theme":"","layout":"","viewCount":0,"userName":"R***n","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDm_Q-RqsT.png?v=1640254846235","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","title","visualMap"],"customTags":[],"updaterUserName":"R***n"}}