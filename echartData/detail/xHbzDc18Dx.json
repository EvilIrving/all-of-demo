{"status":0,"data":{"cid":"xHbzDc18Dx","authorUid":"bd-1939112099","authorUserName":"长***离","title":"波动预警图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-08-23T07:21:45.000Z","lastUpdateTime":"2019-08-23T07:21:45.000Z","auth":2,"uid":"bd-1939112099","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-23T07:21:45.000Z","code":"    var eventWaveData = [{\n            \"level\": \"正常\",\n            \"real\": 1,\n            \"up\": 1,\n            \"pointTime\": \"2019-07-01 15:00:00\",\n            \"down\": 1,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-02 06:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 1,\n            \"up\": 2.621320343559643,\n            \"pointTime\": \"2019-07-02 21:00:00\",\n            \"down\": -1.6213203435596428,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 2.398717474235544,\n            \"pointTime\": \"2019-07-03 12:00:00\",\n            \"down\": -1.0653841409022111,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 1,\n            \"up\": 2.232050807568877,\n            \"pointTime\": \"2019-07-04 03:00:00\",\n            \"down\": -1.2320508075688772,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 1,\n            \"up\": 2.2431676725154985,\n            \"pointTime\": \"2019-07-04 18:00:00\",\n            \"down\": -1.0431676725154984,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 2.2158600051496333,\n            \"pointTime\": \"2019-07-05 09:00:00\",\n            \"down\": -0.8825266718163002,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 1,\n            \"up\": 2.1749960229031178,\n            \"pointTime\": \"2019-07-06 00:00:00\",\n            \"down\": -1.032138880045975,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 2.177647508520297,\n            \"pointTime\": \"2019-07-06 15:00:00\",\n            \"down\": -0.9276475085202969,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 2.1366943856397453,\n            \"pointTime\": \"2019-07-07 06:00:00\",\n            \"down\": -1.0255832745286342,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 2.08113883008419,\n            \"pointTime\": \"2019-07-07 21:00:00\",\n            \"down\": -1.0811388300841898,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.9491933384829667,\n            \"pointTime\": \"2019-07-08 12:00:00\",\n            \"down\": -1.149193338482967,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.9491933384829667,\n            \"pointTime\": \"2019-07-09 03:00:00\",\n            \"down\": -1.149193338482967,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.7491376746189438,\n            \"pointTime\": \"2019-07-09 18:00:00\",\n            \"down\": -1.1491376746189437,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.7491376746189438,\n            \"pointTime\": \"2019-07-10 09:00:00\",\n            \"down\": -1.1491376746189437,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.464911064067352,\n            \"pointTime\": \"2019-07-11 00:00:00\",\n            \"down\": -1.064911064067352,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.0486832980505139,\n            \"pointTime\": \"2019-07-11 15:00:00\",\n            \"down\": -0.8486832980505138,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 1.0486832980505139,\n            \"pointTime\": \"2019-07-12 06:00:00\",\n            \"down\": -0.8486832980505138,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-12 21:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-13 12:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-14 03:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-14 18:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-15 09:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-16 00:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-16 15:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-17 06:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-17 21:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-18 12:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-19 03:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-19 18:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-20 09:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-21 00:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-21 15:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-22 06:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-22 21:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-23 12:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-24 03:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-24 18:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-25 09:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-26 00:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-26 15:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-27 06:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-27 21:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-28 12:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-29 03:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-29 18:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-30 09:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        },\n        {\n            \"level\": \"正常\",\n            \"real\": 0,\n            \"up\": 0,\n            \"pointTime\": \"2019-07-31 00:00:00\",\n            \"down\": 0,\n            \"lowerlimit\": 0,\n            \"upperlimit\": 100\n        }\n    ]\n\n    var data = eventWaveData.map(v => {\n        return {\n            value: v.real,\n            date: v.pointTime,\n            l: v.down,\n            u: v.up\n        }\n    })\n\n    var base = -data.reduce(function(min, val) {\n        return Math.floor(Math.min(min, val.l));\n    }, Infinity);\n\n    console.log(base)\n\n\n    var option = {\n        backgroundColor: 'white',\n        color: ['#4ECB73', '#FBD338'],\n        tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n                type: 'cross',\n                animation: false\n            },\n            formatter: function(params) {\n                return params[2].name + '<br />' + params[2].value\n            }\n        },\n        grid: {\n            left: '3%',\n            right: '3%',\n            bottom: '1px',\n            top: '5px',\n            containLabel: true\n        },\n        xAxis: [{\n            type: 'category',\n            data: data.map(function(item) {\n                return item.date\n            }),\n            boundaryGap: false,\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            nameTextStyle: {\n                fontSize: 14\n            },\n            axisLabel: {\n                // interval: 0,\n                formatter: function(value) {\n                    const rs = value\n                        .split(' ')\n                        .reverse()\n                        .join('\\n')\n                    return rs\n                }\n            }\n        }],\n        yAxis: [{\n            show: true,\n            type: 'value',\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: true,\n                textStyle: {\n                    color: '#485465'\n                },\n                formatter: function(val) {\n                    return (val - base);\n                }\n            },\n            axisLine: {\n                show: false\n            },\n            splitLine: {\n                show: true\n            }\n        }],\n        series: [{\n                name: 'L',\n                type: 'line',\n                data: data.map(function(item) {\n                    return item.l + base;\n                }),\n                lineStyle: {\n                    normal: {\n                        opacity: 0\n                    }\n                },\n                stack: 'confidence-band',\n                symbol: 'none'\n            }, {\n                name: 'U',\n                type: 'line',\n                data: data.map(function(item) {\n                    return item.u - item.l;\n                }),\n                lineStyle: {\n                    normal: {\n                        opacity: 0\n                    }\n                },\n                areaStyle: {\n                    normal: {\n                        color: 'rgb(236,246,230)'\n                    }\n                },\n                stack: 'confidence-band',\n                symbol: 'none'\n            },\n            {\n                type: 'line',\n                data: data.map(function(item) {\n                    return item.value + base;\n                }),\n                hoverAnimation: false,\n                symbolSize: 6,\n                itemStyle: {\n                    normal: {\n                        color: 'rgb(73,246,240)'\n                    }\n                },\n                showSymbol: false\n            }\n        ]\n\n    }\n\n    myChart.setOption(option);","html":"","externalScripts":"","updaterUID":"bd-1939112099","theme":"","layout":"","viewCount":92,"userName":"长***离","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHbzDc18Dx.png?v=1566544905220","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","tooltip"],"customTags":[],"updaterUserName":"长***离"}}