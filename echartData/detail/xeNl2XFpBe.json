{"status":0,"data":{"cid":"xeNl2XFpBe","authorUid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","authorUserName":"S***l","title":"双向双柱图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-12-15T07:08:19.000Z","lastUpdateTime":"2020-12-15T07:08:19.000Z","auth":2,"uid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-31T06:45:45.000Z","code":" var xData = [\r\n     \"A高速公路建设项目\",\r\n     \"B高速公路建设项目\",\r\n     \"C高速公路建设项目\",\r\n ];\r\n\r\n var lineData = [100, 100, 100];\r\n\r\n var lastYearData = [57, 18, 32];\r\n var thisYearData = [40, 25, 32];\r\n var timeLineData = [1];\r\n var Y = thisYearData.map((item) => {\r\n     return 100 - item;\r\n });\r\n\r\n var a = [45, 36, 25];\r\n var b = [72, 31, 32];\r\n var t = lastYearData.map((item) => {\r\n     return 100 - item;\r\n });\r\n var z = a.map((item) => {\r\n     return 100 - item;\r\n });\r\n var h = b.map((item) => {\r\n     return 100 - item;\r\n });\r\n\r\n let colors = [{\r\n         borderColor: \"#1BCC98\",\r\n         start: \"#1BCC98\",\r\n         end: \"#1BCC98\",\r\n     },\r\n     {\r\n         borderColor: \"#3185FF\",\r\n         start: \"#3185FF\",\r\n         end: \"#3185FF\",\r\n     },\r\n ];\r\n let borderData = [];\r\n let scale = 2;\r\n borderData = xData.map((item) => {\r\n     return scale;\r\n });\r\n option = {\r\n\r\n     baseOption: {\r\n         backgroundColor: '#000E1A',\r\n         timeline: {\r\n             show: false,\r\n             top: 0,\r\n             data: [],\r\n         },\r\n         //  tooltip: {\r\n         //      show: true,\r\n         //      trigger: \"axis\",\r\n         //      axisPointer: {\r\n         //          type: \"shadow\",\r\n         //      },\r\n         //  },\r\n         tooltip: {\r\n             formatter: function(parms) {\r\n                 var str;\r\n                 if (parms.color != \"#171D71\") {\r\n                     console.log(parms.marker);\r\n                     str =\r\n\r\n                         parms.name +\r\n                         \"</br>\" +\r\n                         \"<span style='display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:\" +\r\n                         parms.color.colorStops[0].color +\r\n                         \";'></span>\" +\r\n                         \"\" +\r\n                         parms.seriesName +\r\n                         \" : \" +\r\n                         parms.value +\r\n                         \"%\";\r\n\r\n                 }\r\n                 return str;\r\n             },\r\n         },\r\n         legend: [{\r\n                 top: \"5%\",\r\n                 //   bottom: \"5%\",\r\n                 left: \"18%\",\r\n                 itemWidth: 20,\r\n                 itemHeight: 10,\r\n\r\n                 // icon: \"horizontal\",\r\n                 textStyle: {\r\n                     color: \"#c9c9c9\",\r\n                     fontSize: 12,\r\n                 },\r\n                 data: [\"安全风险完工率\", \"污染源工点完工率\"],\r\n             },\r\n             {\r\n                 top: \"5%\",\r\n                 //   bottom: \"5%\",\r\n                 right: \"16%\",\r\n                 itemWidth: 20,\r\n                 itemHeight: 10,\r\n\r\n                 // icon: \"horizontal\",\r\n                 textStyle: {\r\n                     color: \"#c9c9c9\",\r\n                     fontSize: 12,\r\n                 },\r\n                 data: [\"安全风险源开工率\", \"污染源工点开工率\"],\r\n             },\r\n         ],\r\n         grid: [{\r\n                 show: false,\r\n                 left: \"5%\",\r\n                 right: \"10%\",\r\n                 top: \"15%\",\r\n                 bottom: \"5%\",\r\n                 containLabel: true,\r\n                 width: \"37%\",\r\n             },\r\n             {\r\n                 show: false,\r\n                 left: \"52%\",\r\n                 top: \"15%\",\r\n                 bottom: \"5%\",\r\n                 width: \"0%\",\r\n             },\r\n             {\r\n                 show: false,\r\n                 right: \"4%\",\r\n                 top: \"15%\",\r\n                 bottom: \"5%\",\r\n                 containLabel: true,\r\n                 width: \"37%\",\r\n             },\r\n         ],\r\n         xAxis: [{\r\n                 type: \"value\",\r\n                 inverse: true,\r\n                 min: 0,\r\n                 max: 100,\r\n                 axisLine: {\r\n                     show: false,\r\n                 },\r\n                 axisTick: {\r\n                     show: false,\r\n                 },\r\n                 position: \"top\",\r\n                 axisLabel: {\r\n                     show: true,\r\n                     color: \"#c9c9c9\",\r\n                 },\r\n                 splitLine: {\r\n                     show: true,\r\n                     lineStyle: {\r\n                         color: \"#324785\",\r\n                     },\r\n                 },\r\n                 axisLabel: {\r\n                     formatter: \"{value}%\",\r\n                     textStyle: {\r\n                         color: \"#c9c9c9\",\r\n                         fontSize: 12,\r\n                     },\r\n                 },\r\n             },\r\n             {\r\n                 gridIndex: 1,\r\n                 show: false,\r\n             },\r\n             {\r\n                 min: 0,\r\n                 max: 100,\r\n                 gridIndex: 2,\r\n                 axisLine: {\r\n                     show: false,\r\n                 },\r\n                 axisTick: {\r\n                     show: false,\r\n                 },\r\n                 position: \"top\",\r\n                 axisLabel: {\r\n                     show: true,\r\n                     color: \"#c9c9c9\",\r\n                 },\r\n                 splitLine: {\r\n                     show: true,\r\n                     lineStyle: {\r\n                         color: \"#324785\",\r\n                     },\r\n                 },\r\n                 axisLabel: {\r\n                     formatter: \"{value}%\",\r\n                     textStyle: {\r\n                         color: \"#c9c9c9\",\r\n                         fontSize: 12,\r\n                     },\r\n                 },\r\n             },\r\n         ],\r\n         yAxis: [{\r\n                 type: \"category\",\r\n                 inverse: true,\r\n                 position: \"right\",\r\n                 axisLine: {\r\n                     show: true,\r\n                     lineStyle: {\r\n                         color: \"#324785\",\r\n                         fontSize: 12,\r\n                     },\r\n                 },\r\n\r\n                 axisTick: {\r\n                     show: false,\r\n                 },\r\n                 axisLabel: {\r\n                     show: false,\r\n                 },\r\n                 data: xData,\r\n             },\r\n             {\r\n                 gridIndex: 1,\r\n                 type: \"category\",\r\n                 inverse: true,\r\n                 position: \"left\",\r\n                 axisLine: {\r\n                     show: false,\r\n                 },\r\n                 axisTick: {\r\n                     show: false,\r\n                 },\r\n                 axisLabel: {\r\n                     show: true,\r\n                     padding: [30, 0, 0, 0],\r\n                     textStyle: {\r\n                         color: \"#ffffff\",\r\n                         fontSize: 12,\r\n                     },\r\n                     align: \"center\",\r\n                 },\r\n                 data: xData.map(function(value) {\r\n                     return {\r\n                         value: value,\r\n                         textStyle: {\r\n                             align: \"center\",\r\n                         },\r\n                     };\r\n                 }),\r\n             },\r\n             {\r\n                 gridIndex: 2,\r\n                 type: \"category\",\r\n                 inverse: true,\r\n                 position: \"left\",\r\n                 axisLine: {\r\n                     show: true,\r\n                     lineStyle: {\r\n                         color: \"#324785\",\r\n                     },\r\n                 },\r\n                 axisTick: {\r\n                     show: false,\r\n                 },\r\n                 axisLabel: {\r\n                     show: false,\r\n                 },\r\n                 data: xData,\r\n             },\r\n         ],\r\n         series: [],\r\n     },\r\n     options: [],\r\n };\r\n\r\n option.baseOption.timeline.data.push(timeLineData[0]);\r\n option.options.push({\r\n     series: [{\r\n             name: \"安全风险完工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             stack: \"1\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     fontSize: 12,\r\n                     color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                             offset: 0,\r\n                             color: colors[0].start,\r\n                         },\r\n                         {\r\n                             offset: 1,\r\n                             color: colors[0].end,\r\n                         },\r\n                     ]),\r\n                 },\r\n             },\r\n             label: {\r\n                 normal: {\r\n                     show: false,\r\n                 },\r\n             },\r\n             data: lastYearData,\r\n             animationEasing: \"elasticOut\",\r\n         },\r\n\r\n         {\r\n             name: \"安全风险完工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             stack: \"1\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#171D71\",\r\n                     fontSize: 12,\r\n                 },\r\n             },\r\n             data: t,\r\n         },\r\n         {\r\n             name: \"污染源工点完工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             stack: \"3\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     fontSize: 12,\r\n                     color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                             offset: 0,\r\n                             color: \"#76CF5B\",\r\n                         },\r\n                         {\r\n                             offset: 1,\r\n                             color: \"#76CF5B\",\r\n                         },\r\n                     ]),\r\n                 },\r\n             },\r\n             label: {\r\n                 normal: {\r\n                     show: false,\r\n                 },\r\n             },\r\n             data: a,\r\n             animationEasing: \"elasticOut\",\r\n         },\r\n         {\r\n             name: \"污染源工点完工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             stack: \"3\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#171D71\",\r\n                     fontSize: 12,\r\n                 },\r\n             },\r\n             data: z,\r\n         },\r\n         {\r\n             name: \"安全风险源开工率\",\r\n             type: \"bar\",\r\n             stack: \"2\",\r\n             barWidth: 40,\r\n             xAxisIndex: 2,\r\n             yAxisIndex: 2,\r\n             itemStyle: {\r\n                 normal: {\r\n                     fontSize: 12,\r\n                     color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                             offset: 0,\r\n                             color: colors[1].start,\r\n                         },\r\n                         {\r\n                             offset: 1,\r\n                             color: colors[1].end,\r\n                         },\r\n                     ]),\r\n                 },\r\n             },\r\n             label: {\r\n                 normal: {\r\n                     show: false,\r\n                 },\r\n             },\r\n             data: thisYearData,\r\n             animationEasing: \"elasticOut\",\r\n         },\r\n         {\r\n             name: \"安全风险源开工率\",\r\n             type: \"bar\",\r\n             xAxisIndex: 2,\r\n             yAxisIndex: 2,\r\n             barWidth: 40,\r\n             stack: \"2\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#171D71\",\r\n                     fontSize: 12,\r\n                 },\r\n             },\r\n             data: Y,\r\n         },\r\n         {\r\n             name: \"污染源工点开工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             xAxisIndex: 2,\r\n             yAxisIndex: 2,\r\n             stack: \"4\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     fontSize: 12,\r\n                     color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                             offset: 0,\r\n                             color: \"#60DDF9\",\r\n                         },\r\n                         {\r\n                             offset: 1,\r\n                             color: \"#60DDF9\",\r\n                         },\r\n                     ]),\r\n                 },\r\n             },\r\n             label: {\r\n                 normal: {\r\n                     show: false,\r\n                 },\r\n             },\r\n             data: b,\r\n             animationEasing: \"elasticOut\",\r\n         },\r\n         {\r\n             name: \"污染源工点开工率\",\r\n             type: \"bar\",\r\n             barWidth: 40,\r\n             xAxisIndex: 2,\r\n             yAxisIndex: 2,\r\n             stack: \"4\",\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: \"#171D71\",\r\n                     fontSize: 12,\r\n                 },\r\n             },\r\n             data: h,\r\n         },\r\n     ],\r\n });","html":"","externalScripts":"","updaterUID":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","theme":"","layout":"","viewCount":1128,"userName":"S***l","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeNl2XFpBe.png?v=1609397145505","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","timeline","tooltip"],"customTags":[],"updaterUserName":"S***l"}}