{"status":0,"data":{"cid":"xeqo7NNCOl","authorUid":"obd-oNxO_0pSiX4Qhzuy4VZap5faODTirCs","authorUserName":"梦***呢","title":"折现柱状图","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-07-27T09:55:20.000Z","lastUpdateTime":"2021-07-29T02:43:39.000Z","auth":2,"uid":"obd-oNxO_0pSiX4Qhzuy4VZap5faODTirCs","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-29T02:43:39.000Z","code":"var tbzf = [12, -20, 30, 49, 18, 90, 48, 39, 27, 49, 58, 28, 38, 19, 60, 30];\nvar value = [\n  {\n    thisEnd: 23,\n    orgName: '山东',\n  },\n  {\n    thisEnd: 123,\n    orgName: '浙江',\n  },\n  {\n    thisEnd: 203,\n    orgName: '河南',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: 423,\n    orgName: '河北',\n  },\n  {\n    thisEnd: 993,\n    orgName: '湖北',\n  },\n  {\n    thisEnd: 203,\n    orgName: '湖南',\n  },\n  {\n    thisEnd: 723,\n    orgName: '四川',\n  },\n  {\n    thisEnd: 230,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n  {\n    thisEnd: -23,\n    orgName: '福建',\n  },\n];\nvar name = [\n  '山东',\n  '浙江',\n  '河南',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n  '福建',\n];\nvar year = '2021';\nvar date = '0727';\noption = {\n  //标题\n  title: {\n    show: true,\n    text: '(元)',\n    x: 3,\n    y: 15,\n    textStyle: {\n      color: '#222222',\n      fontSize: 10,\n      fontWeight: '400',\n    },\n  },\n  graphic: {\n    type: 'text',\n    top: '5.5%',\n    right: '3%',\n    style: {\n      fill: '#222222',\n      text: year + '/' + data,\n      fontSize: 10,\n    },\n  },\n  // 背景色\n  backgroundColor: '#ffffff',\n  //提示框\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'line',\n      lineStyle: {\n        type: 'dashed',\n        color: '#ffffff',\n      },\n      label: {\n        show: false,\n      },\n    },\n    formatter: function (params) {\n      let sndParams;\n      let text;\n      let firstParams = params[0];\n      if (params.length > 1) {\n        sndParams = params[1];\n        text =\n          \"<div style='min-width:94px;padding:0px 5px;border-radius:5px'>\" +\n          \"<div style='font-size:12px'>\" +\n          firstParams.name +\n          '</div>' +\n          \"<div style='display:flex;justify-content: space-between;font-size:12px'><div>\" +\n          firstParams.seriesName +\n          ':</div><div>' +\n          firstParams.value +\n          '亿</div></div>' +\n          \"<div style='display:flex;justify-content: space-between;font-size:12px'><div>\" +\n          sndParams.seriesName +\n          ':</div><div>' +\n          sndParams.value +\n          '%</div></div>' +\n          '</div>';\n      } else {\n        let dw;\n        if (firstParams.seriesName == '柱状图') {\n          dw = '亿';\n        } else {\n          dw = '%';\n        }\n        text =\n          \"<div style='width:94px;padding:0px 5px;border-radius:5px'>\" +\n          \"<div style='font-size:12px'>\" +\n          firstParams.name +\n          '</div>' +\n          \"<div style='display:flex;justify-content: space-between;font-size:12px'><div>\" +\n          firstParams.seriesName +\n          ':</div><div>' +\n          firstParams.value +\n          dw;\n        '</div></div>' + '</div>';\n      }\n\n      return text;\n    },\n  },\n  // 图例\n  color: ['#2855FF', '#FF6800'],\n  legend: {\n    data: ['柱状图', '折线'],\n    // selectedMode: false,\n    textStyle: {\n      color: '#222222',\n      fontSize: 10,\n      fontWeight: 300,\n    },\n    icon: 'circle',\n    top: '3%',\n    right: '18%',\n    itemWidth: 5,\n    itemHeight: 5,\n  },\n  grid: {\n    left: '11%',\n    right: '1%',\n    top: '20%',\n    bottom: '22%',\n  },\n  xAxis: {\n    data: name,\n    axisLine: {\n      lineStyle: {\n        type: 'dashed', //虚线\n        color: 'rgba(255,22,43,1)',\n        width: 1, //设置线条粗细\n      },\n    },\n    axisTick: {\n      show: false,\n    },\n    axisLabel: {\n      interval: 0,\n      textStyle: {\n        color: '#222222',\n        fontWeight: 400,\n        fontSize: 10,\n      },\n      formatter: function (value) {\n        return value.split('').join('\\n');\n      },\n    },\n  },\n  yAxis: [\n    {\n      splitLine: {\n        show: true,\n        lineStyle: {\n          type: 'dashed', //虚线\n          color: 'rgba(255,22,43,0.2)',\n          width: 1, //设置线条粗细\n        },\n      },\n      axisLine: {\n        show: false,\n        lineStyle: {\n          color: '#B4B4B4',\n        },\n      },\n      axisLabel: {\n        show: true,\n        textStyle: {\n          color: '#222222',\n          fontWeight: 500,\n          fontSize: 10,\n        },\n        formatter: '{value} ',\n      },\n      axisTick: {\n        show: false,\n      },\n    },\n    {\n      splitLine: {\n        show: false,\n        lineStyle: {\n          type: 'dashed', //虚线\n          color: 'rgba(255,22,43,0.2)',\n          width: 1, //设置线条粗细\n        },\n      },\n      axisLine: {\n        show: false,\n        lineStyle: {\n          color: '#B4B4B4',\n        },\n      },\n      axisLabel: {\n        show: false,\n        textStyle: {\n          color: '#222222',\n          fontWeight: 500,\n          fontSize: 10,\n        },\n        formatter: '{value} ',\n      },\n      axisTick: {\n        show: false,\n      },\n    },\n  ],\n  series: [\n    {\n      name: '柱状图',\n      type: 'bar',\n      barWidth: 10,\n      data: value.map((item, index) => {\n        return {\n          value: item.thisEnd,\n          itemStyle: {\n            normal: {\n              barBorderRadius: item.thisEnd > 0 ? [5, 5, 0, 0] : [0, 0, 5, 5], //左上角参数1, 右上角参数2, 右下角参数3, 左下角参数4\n              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                {\n                  offset: 0,\n                  color:\n                    item.orgName == '山东' || item.orgName == '中行'\n                      ? item.thisEnd > 0\n                        ? 'rgba(255,22,43,1)'\n                        : 'rgba(255,22,43,0.2)'\n                      : item.thisEnd > 0\n                      ? 'rgba(22,69,255,1)'\n                      : 'rgba(22,69,255,0.2)',\n                },\n                {\n                  offset: 1,\n                  color:\n                    item.orgName == '山东' || item.orgName == '中行'\n                      ? item.thisEnd > 0\n                        ? 'rgba(255,22,43,0.2)'\n                        : 'rgba(255,22,43,1)'\n                      : item.thisEnd > 0\n                      ? 'rgba(22,69,255,0.2)'\n                      : 'rgba(22,69,255,1)',\n                },\n              ]),\n            },\n          },\n        };\n      }),\n    },\n    {\n      name: '折线',\n      type: 'line',\n      smooth: 0,\n      showAllSymbol: true,\n      showSymbol: false,\n      hoverAnimation: false,\n      symbol: 'emptyCircle',\n      symbolSize: 6,\n      yAxisIndex: 1,\n      itemStyle: {\n        normal: {\n          color: \"#FF6800\",\n        },\n        emphasis: {\n          // 鼠标经过时：\n          // symbolSize: 4,\n        },\n      },\n      data: tbzf,\n    },\n  ],\n};\n      //图例切换\n   myChart.on(\"legendselectchanged\", function (obj) {\n        const { selected, name } = obj;\n        let yAxisIndex, x;\n          if (selected[\"柱状图\"]) {\n            yAxisIndex = 1;\n            option.title.text = \"(元)\";\n            x = 3;\n          } else if (!selected[\"柱状图\"] && !selected[\"折线\"]) {\n            yAxisIndex = 1;\n            option.title.text = \"\";\n          } else {\n            yAxisIndex = 0;\n            option.title.text = \"%\";\n            x = 15;\n          }\n        option.series[1].yAxisIndex = yAxisIndex;\n        option.title.x = x;\n        myChart.setOption(option);\n      });\n","html":"","externalScripts":"","updaterUID":"obd-oNxO_0pSiX4Qhzuy4VZap5faODTirCs","theme":"","layout":"","viewCount":0,"userName":"梦***呢","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeqo7NNCOl.png?v=1627526619358","isCustomThumbnail":0,"builtinTags":["category-work","graphic","grid","legend","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"梦***呢"}}