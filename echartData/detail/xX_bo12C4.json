{"status":0,"data":{"cid":"xX_bo12C4","authorUid":"bd-3342206826","authorUserName":"小***琪","title":"地图城区合并","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-03-09T09:30:53.000Z","lastUpdateTime":"2020-08-19T04:46:59.000Z","auth":2,"uid":"bd-3342206826","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-03-09T09:30:53.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1583746126012-U68oV3t9.json\";\r\n// var uploadedDataURL = \"/asset/get/s/data-1525844720391-Skugj-g0f.json\";\r\nmyChart.showLoading();\r\n$.getJSON(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('tianjin', geoJson);\r\n    myChart.hideLoading();\r\n    var geoCoordMap = {\r\n        '和平': [117.2, 30],\r\n        '河东': [117.22, 30],\r\n        '河西': [117.22, 30],\r\n        '南开': [117.15, 30],\r\n        '河北': [117.18, 30],\r\n        '红桥': [117.15, 30],\r\n        '塘沽': [117.65, 30],\r\n        '汉沽': [117.8, 30],\r\n        '大港': [117.45, 30],\r\n        '东丽': [117.3, 30],\r\n        '西青': [117, 30],\r\n        '津南': [117.38, 30],\r\n        '北辰': [117.13, 30],\r\n        '武清': [117.03, 30],\r\n        '宝坻': [117.3, 30],\r\n        '宁河': [117.82, 30],\r\n        '静海': [116.92, 330],\r\n        '蓟县': [117.4, 30],\r\n    }\r\n    var max = 480,\r\n        min = 9;\r\n\r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n\r\n\r\n    option = {\r\n        backgroundColor: '#0F2848',\r\n        legend: {\r\n            show: false\r\n        },\r\n        visualMap: {\r\n            show: false,\r\n            min: 0,\r\n            max: 500,\r\n            left: 'left',\r\n            top: 'bottom',\r\n            text: ['高', '低'], // 文本，默认为数值文本\r\n            calculable: true,\r\n            seriesIndex: [1],\r\n            inRange: {\r\n                color: ['#01D8FF', '#02D0E6']\r\n            }\r\n        },\r\n        geo: {\r\n            show: true,\r\n            map: 'tianjin',\r\n            label: {\r\n                \"show\": true,\r\n                \"formatter\": function(params) {\r\n                    return \"{a|\" + params.name + \"}\\n{b|59}{d| / }{c|598}\";\r\n                },\r\n                \"textStyle\": {\r\n                    color: '#fff',\r\n                    fontSize: 14,\r\n                    rich: {\r\n                        a: {\r\n                            color: '#fff',\r\n                            padding: [3, 0]\r\n                        },\r\n                        b: {\r\n                            color: '#3DD6FF'\r\n                        },\r\n                        c: {\r\n                            color: '#86F028'\r\n                        },\r\n                        d: {\r\n                            color:'#fff'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: {\r\n                        type: 'radial',\r\n                        x: 0.5,\r\n                        y: 0.5,\r\n                        r: 0.8,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'rgba(0,136,241, 0)' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(0,136,241, .4)' // 100% 处的颜色\r\n                        }],\r\n                        globalCoord: false // 缺省为 false\r\n                    },\r\n                    borderColor: '#0088F1',\r\n                    shadowColor: 'rgba(0,136,241, .4)',\r\n                    shadowOffsetX: -4,\r\n                    shadowOffsetY: 4,\r\n                    shadowBlur: 10\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#02D0E6',\r\n                }\r\n            }\r\n        },\r\n        // series: [{\r\n        //         name: '办理进度',\r\n        //         type: 'scatter',\r\n        //         coordinateSystem: 'geo',\r\n        //         data: data,\r\n        //         symbolSize: 1,\r\n        //         zlevel: 1,\r\n        //         label: {\r\n        //             normal: {\r\n        //                 show: true,\r\n        //                 formatter: function(params) {\r\n        //                     console.log(params)\r\n        //                     return '{a|' + params.name + '}\\n{b|' + params.value + '}/{c|' + params.value + '}';\r\n        //                 },\r\n        //                 position: 'inside',\r\n        //                 backgroundColor: '#fff',\r\n        //                 padding: [4, 5],\r\n        //                 borderRadius: 3,\r\n        //                 borderWidth: 1,\r\n        //                 borderColor: 'rgba(0,0,0,0.5)',\r\n        //                 color: '#777',\r\n        //                 rich: {\r\n        //                     a: {\r\n        //                         color: '#fff',\r\n        //                         padding: [3, 0]\r\n        //                     },\r\n        //                     b: {\r\n        //                         color: '#3DD6FF'\r\n        //                     },\r\n        //                     c: {\r\n        //                         color: '#86F028'\r\n        //                     }\r\n        //                 },\r\n        //                 emphasis: {\r\n        //                     show: true\r\n        //                 }\r\n        //             },\r\n        //             itemStyle: {\r\n        //                 normal: {\r\n        //                     color: '#fff'\r\n        //                 }\r\n        //             }\r\n        //         }\r\n\r\n        //     }]\r\n    };\r\n    myChart.setOption(option);\r\n});","html":"","externalScripts":"","updaterUID":"bd-3342206826","theme":"default","layout":"","viewCount":60,"userName":"小***琪","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xX_bo12C4.png?v=1583746253474","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","visualMap"],"customTags":[],"updaterUserName":"小***琪"}}