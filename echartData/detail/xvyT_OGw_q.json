{"status":0,"data":{"cid":"xvyT_OGw_q","authorUid":"bd-136292181","authorUserName":"f***花","title":"geo3D中国地图","description":"geo3D,map3D","latestVersion":7,"alwaysLatest":1,"createTime":"2021-10-26T06:27:11.000Z","lastUpdateTime":"2021-10-28T03:05:17.000Z","auth":2,"uid":"bd-136292181","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-28T03:05:17.000Z","code":"var mapData = echarts.getMap('china').geoJson;\nvar data = [];\nvar cpdata = [];\nmapData.features.forEach((item, i) => {\n    // console.log(item);\n    var value = 10 + i * 3; //Math.floor(Math.random() * 100);\n    data.push({\n        name: item.properties.name,\n        value: value,\n    });\n    cpdata.push({\n        name: item.properties.name,\n        value: [item.properties.cp[0], item.properties.cp[1], value],\n    });\n});\n// console.log(data);\noption = {\n    globe: {\n        viewControl: {\n            autoRotate: false,\n        },\n    },\n    geo3D: {\n        map: 'china',\n        boxHeight: 10,\n        regionHeight: 2,\n        show: false,\n        instancing: true,\n        regions: [\n            {\n                name: '新疆',\n                regionHeight: 6, //建筑数据才有效\n                itemStyle: {\n                    color: '#ff89f0',\n                    opacity: 1,\n                },\n            },\n            {\n                name: '西藏',\n                itemStyle: {\n                    color: '#9089f0',\n                    opacity: 1,\n                },\n            },\n        ],\n        light: {\n            main: {\n                intensity: 1,\n                shadow: true,\n                shadowQuality: 'high',\n                alpha: 40,\n                beta: 77,\n            },\n\n            ambient: {\n                intensity: 0.2,\n            },\n        },\n        emphasis: {\n            label: {\n                show: false,\n            },\n        },\n        groundPlane: {\n            show: true,\n        },\n    },\n    visualMap: {\n        show: true,\n        min: 0,\n        max: 100,\n        inRange: {\n            color: ['rgba(13,144,95,1)', 'rgba(163,214,5,1)'],\n            // colorAlpha:0.3\n        },\n    },\n    series: [\n        {\n            type: 'map3D',\n            coordinateSystem: 'geo3D',\n            zlevel: 1,\n            instancing: true,\n            map: 'china',\n            regionHeight: 2, //地图厚度\n            shading: 'lambert',\n            postEffect: {\n                enabled: true,\n                bloom: {\n                    enabled: true,\n                },\n            },\n            data: data,\n            itemStyle: {\n                color: '#1d5e98',\n                opacity: 1,\n                borderWidth: 0.8,\n                borderColor: '#fff',\n            },\n            label: {\n                show: false,\n                formatter: function (params) {\n                    return [params.name, params.data.value].join(':');\n                },\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 12,\n                    opacity: 1,\n                    backgroundColor: 'rgba(0,23,11,0)',\n                },\n            },\n            emphasis: {\n                label: {\n                    show: false,\n                },\n            },\n        },\n        {\n            type: 'bar3D',\n            zlevel: 2,\n            coordinateSystem: 'geo3D',\n            // map: 'china',\n            data: cpdata,\n            shading: 'lambert',\n            label: {\n                show: false,\n                formatter: function (params) {\n                    return [params.name, params.data.value[2]].join(':');\n                },\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    color: '#fff',\n                    formatter: function (params) {\n                        return [params.name, params.data.value[2]].join(':');\n                    },\n                },\n                itemStyle:{\n                    color:'#ff0000'\n                }\n            },\n            light: {\n                //主光源\n                main: {\n                    intensity: 1,\n                    shadow: true,\n                    shadowQuality: 'high',\n                    alpha: 40,\n                    beta: 77,\n                },\n                //全局环境光\n                ambient: {\n                    intensity: 0.2,\n                },\n            },\n        },\n    ],\n};\nlet _t = -1;\n//map3d 不支持 dispatchAction的一些api \nsetInterval(() => {\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 1,\n        dataIndex: _t % data.length,\n    });\n    _t++;\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 1,\n        dataIndex: _t % data.length,\n    });\n}, 200);\n","html":"","externalScripts":"/dep/echarts/map/js/china.js,https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js","updaterUID":"bd-136292181","theme":"","layout":"","viewCount":0,"userName":"f***花","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xvyT_OGw_q.png?v=1635390318010","isCustomThumbnail":0,"builtinTags":["category-work","geo3D","series-bar3D","series-map3D","visualMap"],"customTags":[],"updaterUserName":"f***花"}}