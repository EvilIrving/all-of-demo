{"status":0,"data":{"cid":"xQPrhzQosF","authorUid":"bd-3613795525","authorUserName":"F***0","title":"伪直方图","description":"","latestVersion":6,"alwaysLatest":1,"createTime":"2020-12-03T10:19:03.000Z","lastUpdateTime":"2020-12-03T10:19:03.000Z","auth":2,"uid":"bd-3613795525","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-03T11:44:32.000Z","code":"function group(array, subGroupLength) {\n    let index = 0;\n    let newArray = [];\n    while(index < array.length) {\n        newArray.push(array.slice(index, index += subGroupLength));\n    }\n    return newArray;\n}\nlet grouping = 2;\nlet data=[\n    {name:'2010',value:1},\n    {name:'2011',value:1},\n    {name:'2012',value:1},\n    {name:'2013',value:1},\n    {name:'2014',value:1},\n    {name:'2015',value:1},\n    {name:'2016',value:1},\n    {name:'2017',value:1},\n    {name:'2018',value:1},\n    {name:'2019',value:1},\n    {name:'2020',value:1},\n]\nlet xData = [];\nlet sData = [];\nlet new_data = group(data, grouping);\nfor (const item_group of new_data) {\n    let count = 0;\n    let name = '';\n    item_group.forEach((item,index) => {\n        if(!index){\n            name = item.name;\n        } else if(index===item_group.length-1) {\n            name += ' ~ ' + item.name;\n        }\n        count += item.value;\n    });\n    xData.push(item_group[0].name,null);\n    sData.push(null,{\n        name:name,\n        value:count\n    });\n}\nlet last_group = new_data[new_data.length-1];\nlet last_item = last_group[last_group.length-1];\nxData.push(last_item.name);\n\noption = {\n    color:[\"#5C7BD9\"],\n    tooltip:{\n       show:true\n    },\n    xAxis: {\n        type: 'category',\n        data: xData,\n        axisTick: {\n            alignWithLabel: true,\n            interval:1,\n        },\n        axisLabel:{\n            interval:1,\n        }\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [{\n        data: sData,\n        type: 'bar',\n        barWidth: \"200%\"\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-3613795525","theme":"","layout":"","viewCount":32,"userName":"F***0","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQPrhzQosF.png?v=1606995872708","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"F***0"}}