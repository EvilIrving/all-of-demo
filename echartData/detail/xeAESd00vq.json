{"status":0,"data":{"cid":"xeAESd00vq","authorUid":"bd-681420634","authorUserName":"一枚美丽的河豚","title":"2018豆瓣中国大陆影视剧评分排行","description":"201601213031何俊睿","latestVersion":2,"alwaysLatest":1,"createTime":"2019-01-10T02:56:17.000Z","lastUpdateTime":"2019-01-10T02:56:17.000Z","auth":2,"uid":"bd-681420634","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-10T02:57:47.000Z","code":" var colors = ['#FFAE57', '#FF7853', '#EA5151', '#CC3F57', '#9A2555'];\n var bgColor = '#2E2733';\n\n var itemStyle = {\n     star5: {\n         color: colors[0]\n     },\n     star4: {\n         color: colors[1]\n     },\n     star3: {\n         color: colors[2]\n     },\n     star2: {\n         color: colors[3]\n     }\n };\n\n var data = [{\n     name: '电视剧',\n     itemStyle: {\n         normal: {\n             color: colors[1]\n         }\n     },\n     children: [{\n         name: '现代',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '大江大河'\n             }, {\n                 name: '疯人院'\n             }, {\n                 name: '天坑鹰猎'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: 'SCI谜案集'\n             }, {\n                 name: '古董局中局'\n             }, {\n                 name: '乡村爱情协奏曲'\n             }]\n         }, {\n             name: '3☆',\n             children: [{\n                 name: '上海女子图鉴'\n             }]\n         }]\n     }, {\n         name: '古装',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '天盛长歌'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: '小戏骨：水浒传'\n             }, {\n                 name: '香蜜沉沉烬如霜'\n             }]\n         }, {\n             name: '3☆',\n             children: [{\n                 name: '知否知否应是绿肥红瘦'\n             }]\n         }]\n     }]\n }, {\n     name: '电影',\n     itemStyle: {\n         color: colors[2]\n     },\n     children: [{\n         name: '喜剧',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '我不是药神'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: '无名之辈'\n             }, {\n                 name: '阿浪的远方'\n             }]\n         }, {\n             name: '3☆',\n             children: [{\n                 name: '一出好戏'\n             }]\n         }]\n     }, {\n         name: '剧情',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '无双'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: '大象席地而坐'\n             }, {\n                 name: '风中有朵雨做的云'\n             }, {\n                 name: '过春天',\n             }]\n         }, {\n             name: '3☆',\n             children: [{\n                 name: '无问西东'\n             }]\n         }]\n     }, {\n         name: '爱情',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '江湖儿女'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: '地球最后的夜晚'\n             }, {\n                 name: '你好之华'\n             }]\n         }, {\n             name: '3☆',\n         }, {\n             name: '2☆',\n             children: [{\n                 name: '后来的我们'\n             }]\n         }]\n     }, {\n         name: '动作',\n         children: [{\n             name: '4☆',\n             children: [{\n                 name: '红海行动'\n             }, {\n                 name: '影'\n             }, {\n                 name: '动物世界'\n             }]\n         }]\n     }, {\n         name: '动画',\n         children: [{\n             name: '5☆',\n             children: [{\n                 name: '夜思'\n             }]\n         }, {\n             name: '4☆',\n             children: [{\n                 name: '切尔诺贝利之春'\n             }, {\n                 name: '女他'\n             }]\n         }, {\n             name: '3☆',\n             children: [{\n                 name: '风雨咒'\n             }]\n         }]\n     }, {\n         name: '惊悚',\n         children: [{\n             name: '4☆',\n             children: [{\n                 name: '灵魂摆渡·黄泉'\n             }]\n         }]\n     }, {\n         name: '武侠',\n         children: [{\n             name: '3☆',\n             children: [{\n                 name: '夺命剑之风云再起'\n             }]\n         }, {\n             name: '2☆',\n             children: [{\n                 name: '狄仁杰之四大天王'\n             }]\n         }]\n     }]\n }];\n\n for (var j = 0; j < data.length; ++j) {\n     var level1 = data[j].children;\n     for (var i = 0; i < level1.length; ++i) {\n         var block = level1[i].children;\n         var bookScore = [];\n         var bookScoreId;\n         for (var star = 0; star < block.length; ++star) {\n             var style = (function(name) {\n                 switch (name) {\n                     case '5☆':\n                         bookScoreId = 0;\n                         return itemStyle.star5;\n                     case '4☆':\n                         bookScoreId = 1;\n                         return itemStyle.star4;\n                     case '3☆':\n                         bookScoreId = 2;\n                         return itemStyle.star3;\n                     case '2☆':\n                         bookScoreId = 3;\n                         return itemStyle.star2;\n                 }\n             })(block[star].name);\n\n             block[star].label = {\n                 color: style.color,\n                 downplay: {\n                     opacity: 0.5\n                 }\n             };\n\n             if (block[star].children) {\n                 style = {\n                     opacity: 1,\n                     color: style.color\n                 };\n                 block[star].children.forEach(function(book) {\n                     book.value = 1;\n                     book.itemStyle = style;\n\n                     book.label = {\n                         color: style.color\n                     };\n\n                     var value = 1;\n                     if (bookScoreId === 0 || bookScoreId === 3) {\n                         value = 5;\n                     }\n\n                     if (bookScore[bookScoreId]) {\n                         bookScore[bookScoreId].value += value;\n                     } else {\n                         bookScore[bookScoreId] = {\n                             color: colors[bookScoreId],\n                             value: value\n                         };\n                     }\n                 });\n             }\n         }\n\n         level1[i].itemStyle = {\n             color: data[j].itemStyle.color\n         };\n     }\n }\n\n option = {\n     backgroundColor: bgColor,\n     color: colors,\n     series: [{\n         type: 'sunburst',\n         center: ['50%', '48%'],\n         data: data,\n         sort: function(a, b) {\n             if (a.depth === 1) {\n                 return b.getValue() - a.getValue();\n             } else {\n                 return a.dataIndex - b.dataIndex;\n             }\n         },\n         label: {\n             rotate: 'radial',\n             color: bgColor\n         },\n         itemStyle: {\n             borderColor: bgColor,\n             borderWidth: 2\n         },\n         levels: [{}, {\n             r0: 0,\n             r: 40,\n             label: {\n                 rotate: 0\n             }\n         }, {\n             r0: 40,\n             r: 105\n         }, {\n             r0: 115,\n             r: 140,\n             itemStyle: {\n                 shadowBlur: 2,\n                 shadowColor: colors[2],\n                 color: 'transparent'\n             },\n             label: {\n                 rotate: 'tangential',\n                 fontSize: 10,\n                 color: colors[0]\n             }\n         }, {\n             r0: 140,\n             r: 145,\n             itemStyle: {\n                 shadowBlur: 80,\n                 shadowColor: colors[0]\n             },\n             label: {\n                 position: 'outside',\n                 textShadowBlur: 5,\n                 textShadowColor: '#333',\n             },\n             downplay: {\n                 label: {\n                     opacity: 0.5\n                 }\n             }\n         }]\n     }]\n };","html":"","externalScripts":"","updaterUID":"bd-681420634","theme":"macarons","layout":"","viewCount":19892,"userName":"一枚美丽的河豚","commentCount":2,"starCount":81,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeAESd00vq.png?v=1547089067184","isCustomThumbnail":0,"builtinTags":["category-work","series-sunburst"],"customTags":[],"updaterUserName":"一枚美丽的河豚"}}