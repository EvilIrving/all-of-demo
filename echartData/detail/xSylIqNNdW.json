{"status":0,"data":{"cid":"xSylIqNNdW","authorUid":"bd-1245979803","authorUserName":"d***t","title":"广东省茂名市各县(区)人口，GDP(2017)","description":"增加一个图表","latestVersion":7,"alwaysLatest":1,"createTime":"2017-08-18T09:58:32.000Z","lastUpdateTime":"2017-08-18T09:58:32.000Z","auth":2,"uid":"bd-1245979803","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"3.8.0","versionCreateTime":"2018-07-05T06:44:11.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1503046655395-rkvb3QV_-.json\";\n\nvar ppdata = [{\n    name: '茂南区',\n    value: '84'\n}, {\n    name: '电白区',\n    value: '197'\n}, {\n    name: '高州市',\n    value: '173'\n}, {\n    name: '化州市',\n    value: '165'\n}, {\n    name: '信宜市',\n    value: '142'\n}];\nvar gdpdata = [{\n    name: '茂南区',\n    value: '205'\n}, {\n    name: '电白区',\n    value: '516'\n}, {\n    name: '高州市',\n    value: '437'\n}, {\n    name: '化州市',\n    value: '385'\n}, {\n    name: '信宜市',\n    value: '350'\n}];\nvar seriesdata = [\n    //人口\n    {\n        name: '人口',\n        type: 'map',\n        map: '茂名',\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true\n                },\n\n                emphasis: {\n                    label: {\n                        show: true\n                    }\n                }\n            }\n        },\n        data: ppdata\n    },\n    //GDP\n    {\n        name: 'GDP',\n        type: 'map',\n        map: '茂名',\n        itemStyle: {\n            normal: {\n                label: {\n                    show: true\n                },\n\n                emphasis: {\n                    label: {\n                        show: true\n                    }\n                }\n            }\n        },\n        data: gdpdata\n    },\n\n    //右边图表人口\n    {\n        name: '人口',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        barWidth: '45%',\n        itemStyle: {\n            normal: {\n                color: '#F4A460'\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"right\",\n                textStyle: {\n                    color: \"#9EA7C4\"\n                }\n            }\n        },\n        data: ppdata\n    },\n    //图表GDP\n    {\n        name: 'GDP',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        barWidth: '45%',\n        itemStyle: {\n            normal: {\n                color: '#F4A460'\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"right\",\n                textStyle: {\n                    color: \"#9EA7C4\"\n                }\n            }\n        },\n        data: gdpdata\n    },\n];\nvar yname = [];\nfor (var i = 0; i < 5; i++) {\n    yname.push(seriesdata[1].data[i].name);\n}\n\n//人口\nvar option = {\n    title: {\n        text: '广东省茂名市各县(区)人口(2017)',\n        subtext: '数据来源网络（单位：万）',\n        left: 'center',\n        textStyle: {\n            color: '#000'\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b} : {c}万\"\n    },\n    legend: {\n        orient: 'vertical',\n        top: '7%',\n        left: '20%',\n        data: ['人口', 'GDP'],\n        selectedMode: 'single',\n        selected: {\n            '人口': true,\n            'gdp': false\n        }\n\n    },\n    visualMap: {\n        min: 80,\n        max: 200,\n        text: ['高', '低'],\n        realtime: false,\n        calculable: true,\n        left: '10%',\n        inRange: {\n            color: ['LightSkyBlue', 'Yellow', 'orangered']\n        },\n        dimension: 0\n    },\n\n    grid: {\n        x: '80%',\n        y: '27%',\n        width: '15%',\n        height: '50%'\n    },\n\n    xAxis: {\n        gridIndex: 0,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        gridIndex: 0,\n        interval: 0,\n        data: yname,\n        axisTick: {\n            show: true\n        },\n        axisLabel: {\n            show: true\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: \"#6173a3\"\n            }\n        }\n    },\n\n    toolbox: {\n        feature: {\n            dataView: {\n                readOnly: false\n            },\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    series: seriesdata\n};\n//GDP\nvar option1 = {\n    title: {\n        text: '广东省茂名市各县(区)GDP(2017)',\n        subtext: '数据来源网络（单位：亿）',\n        left: 'center',\n        textStyle: {\n            color: '#000'\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b} : {c}亿\"\n    },\n    legend: {\n        orient: 'vertical',\n        top: '7%',\n        left: '20%',\n        data: ['人口', 'GDP'],\n        selectedMode: 'single',\n        selected: {\n            '人口': false,\n            'gdp': true\n        }\n\n    },\n    visualMap: {\n        min: 200,\n        max: 520,\n        text: ['高', '低'],\n        realtime: false,\n        calculable: true,\n        left: '10%',\n        inRange: {\n            color: ['SkyBlue', 'Yellow', 'orangered']\n        },\n        dimension: 0\n    },\n\n    grid: {\n        x: '80%',\n        y: '27%',\n        width: '15%',\n        height: '50%'\n    },\n\n    xAxis: {\n        gridIndex: 0,\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        gridIndex: 0,\n        interval: 0,\n        data: yname,\n        axisTick: {\n            show: true\n        },\n        axisLabel: {\n            show: true\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: \"#6173a3\"\n            }\n        }\n    },\n\n    toolbox: {\n        feature: {\n            dataView: {\n                readOnly: false\n            },\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    series: seriesdata\n};\n\n$.get(uploadedDataURL, function(gdMap) {\n    echarts.registerMap('茂名', gdMap);\n    myChart.setOption(option, true);\n});\n\nmyChart.on('legendselectchanged', function(params) {\n    if (params.name == '人口') {\n        //$.get(uploadedDataURL, function(gdMap) {\n            //echarts.registerMap('茂名', gdMap);\n            myChart.setOption(option, true);\n        //});\n    } else {\n        //$.get(uploadedDataURL, function(gdMap) {\n            //echarts.registerMap('茂名', gdMap);\n            myChart.setOption(option1, true);\n        //});\n    }\n});","html":"","externalScripts":"","updaterUID":"bd-1245979803","theme":"","layout":"","viewCount":1994,"userName":"d***t","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSylIqNNdW.png?v=1530773051370","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-map","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"d***t"}}