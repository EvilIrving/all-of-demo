{"status":0,"data":{"cid":"xryX101sGb","authorUid":"bd-2024714134","authorUserName":"enrio94","title":"南丁格尔图变形","description":"与南丁格尔图相似，不过每个数据项半径都不同。","latestVersion":1,"alwaysLatest":1,"createTime":"2017-06-11T16:20:43.000Z","lastUpdateTime":"2017-06-11T16:20:43.000Z","auth":2,"uid":"bd-2024714134","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.6.1","versionCreateTime":"2017-06-11T16:20:43.000Z","code":"option = {\r\n    series: []\r\n}\r\n\r\n//模拟数据，并排序\r\nvar data = []\r\nvar cnt = Math.ceil(Math.random() * 5) + 3\r\nfor (var i = 0; i < cnt; i++) {\r\n    data.push({\r\n        name: \"data\" + Math.ceil(Math.random() * 1000),\r\n        value: Math.ceil(Math.pow(2, Math.random() * 5))\r\n    })\r\n}\r\nfor (var i = 0; i < data.length; i++) {\r\n    for (var j = i + 1; j < data.length; j++) {\r\n        if (data[j].value > data[i].value) {\r\n            var temp = data[j]\r\n            data[j] = data[i]\r\n            data[i] = temp\r\n        }\r\n    }\r\n}\r\n\r\n//计算总值，用来算出各数据项的半径\r\nvar sum = 0\r\nfor (var i = 0; i < data.length; i++) {\r\n    sum += data[i].value\r\n}\r\n\r\n//最大半径与最小半径\r\nvar maxR = 60,\r\n    minR = 20\r\nfor (var i = 0; i < data.length; i++) {\r\n    var serie = {\r\n        type: \"pie\",\r\n        data: [{\r\n            name: \"front\",\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0,0,0,0)\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            },\r\n            silent: true\r\n        }, {\r\n            name: data[i].name,\r\n            value: data[i].value,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    position: \"center\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            }\r\n        }, {\r\n            name: \"back\",\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0,0,0,0)\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            }\r\n        }]\r\n    }\r\n    for (var j = 0; j < data.length; j++) {\r\n        if (j < i) {\r\n            serie.data[0].value += data[j].value\r\n        }\r\n        if (j > i) {\r\n            serie.data[2].value += data[j].value\r\n        }\r\n    }\r\n    var radius = [(minR + (maxR - minR) / sum * serie.data[2].value) + \"%\", (maxR - (maxR - minR) / sum * serie.data[0].value) + \"%\"]\r\n    serie.radius = radius\r\n    option.series.push(serie)\r\n}","html":"","externalScripts":"","updaterUID":"bd-2024714134","theme":"","layout":"","viewCount":336,"userName":"enrio94","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryX101sGb.png?v=1497198043977","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":[],"updaterUserName":"enrio94"}}