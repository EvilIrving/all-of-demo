{"status":0,"data":{"cid":"xIArwgRQGA","authorUid":"bd-1801852221","authorUserName":"J***乐","title":"带动画完成图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-07-15T01:01:26.000Z","lastUpdateTime":"2020-07-15T01:01:26.000Z","auth":2,"uid":"bd-1801852221","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-15T01:01:26.000Z","code":"let angle = 0; //角度，用来做简单的动画效果的\r\n            let value = 12;\r\noption = {\r\n    backgroundColor:'#000',\r\n                title: {\r\n                    text: value + \"%\",\r\n                    x: \"center\",\r\n                    y: \"center\",\r\n                    textStyle: {\r\n                        fontSize: 24,\r\n                        color: \"#FF4953\"\r\n                    }\r\n                },\r\n                series: [\r\n                    {\r\n                        name: \"内线\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            return {\r\n                                type: \"arc\",\r\n                                shape: {\r\n                                    cx: api.getWidth() / 2,\r\n                                    cy: api.getHeight() / 2,\r\n                                    r:\r\n                                        Math.min(\r\n                                            api.getWidth(),\r\n                                            api.getHeight()\r\n                                        ) / 2.3,\r\n                                    startAngle: ((0 + angle) * Math.PI) / 180,\r\n                                    endAngle: ((90 + angle) * Math.PI) / 180\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\",\r\n                                    fill: \"transparent\",\r\n                                    lineWidth: 1.5\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"内线\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            return {\r\n                                type: \"arc\",\r\n                                shape: {\r\n                                    cx: api.getWidth() / 2,\r\n                                    cy: api.getHeight() / 2,\r\n                                    r:\r\n                                        Math.min(\r\n                                            api.getWidth(),\r\n                                            api.getHeight()\r\n                                        ) / 2.3,\r\n                                    startAngle: ((180 + angle) * Math.PI) / 180,\r\n                                    endAngle: ((270 + angle) * Math.PI) / 180\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\",\r\n                                    fill: \"transparent\",\r\n                                    lineWidth: 1.5\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"外线\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            return {\r\n                                type: \"arc\",\r\n                                shape: {\r\n                                    cx: api.getWidth() / 2,\r\n                                    cy: api.getHeight() / 2,\r\n                                    r:\r\n                                        Math.min(\r\n                                            api.getWidth(),\r\n                                            api.getHeight()\r\n                                        ) / 2.1,\r\n                                    startAngle:\r\n                                        ((270 + -angle) * Math.PI) / 180,\r\n                                    endAngle: ((40 + -angle) * Math.PI) / 180\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\",\r\n                                    fill: \"transparent\",\r\n                                    lineWidth: 1.5\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"外线\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            return {\r\n                                type: \"arc\",\r\n                                shape: {\r\n                                    cx: api.getWidth() / 2,\r\n                                    cy: api.getHeight() / 2,\r\n                                    r:\r\n                                        Math.min(\r\n                                            api.getWidth(),\r\n                                            api.getHeight()\r\n                                        ) / 2.1,\r\n                                    startAngle: ((90 + -angle) * Math.PI) / 180,\r\n                                    endAngle: ((220 + -angle) * Math.PI) / 180\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\",\r\n                                    fill: \"transparent\",\r\n                                    lineWidth: 1.5\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"线头点\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            let x0 = api.getWidth() / 2;\r\n                            let y0 = api.getHeight() / 2;\r\n                            let r =\r\n                                Math.min(api.getWidth(), api.getHeight()) / 2.1;\r\n                            let point = getCirlPoint(x0, y0, r, 90 + -angle);\r\n                            return {\r\n                                type: \"circle\",\r\n                                shape: {\r\n                                    cx: point.x,\r\n                                    cy: point.y,\r\n                                    r: 5\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\",\r\n                                    fill: \"#FF4953\"\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"线头点\",\r\n                        type: \"custom\",\r\n                        coordinateSystem: \"none\",\r\n                        renderItem: function(params, api) {\r\n                            let x0 = api.getWidth() / 2;\r\n                            let y0 = api.getHeight() / 2;\r\n                            let r =\r\n                                Math.min(api.getWidth(), api.getHeight()) / 2.1;\r\n                            let point = getCirlPoint(x0, y0, r, 270 + -angle);\r\n                            return {\r\n                                type: \"circle\",\r\n                                shape: {\r\n                                    cx: point.x,\r\n                                    cy: point.y,\r\n                                    r: 5\r\n                                },\r\n                                style: {\r\n                                    stroke: \"#FF4953\", //绿\r\n                                    fill: \"#FF4953\"\r\n                                },\r\n                                silent: true\r\n                            };\r\n                        },\r\n                        data: [0]\r\n                    },\r\n                    {\r\n                        name: \"当月任务故障率\",\r\n                        type: \"pie\",\r\n                        radius: [\"80%\", \"60%\"],\r\n                        silent: true,\r\n                        clockwise: true,\r\n                        startAngle: 90,\r\n                        z: 0,\r\n                        zlevel: 0,\r\n                        label: {\r\n                            normal: {\r\n                                position: \"center\"\r\n                            }\r\n                        },\r\n                        data: [\r\n                            {\r\n                                value: value,\r\n                                name: \"\",\r\n                                itemStyle: {\r\n                                    normal: {\r\n                                        color: \"#FF4953\"\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                value: 100 - value,\r\n                                name: \"\",\r\n                                label: {\r\n                                    normal: {\r\n                                        show: false\r\n                                    }\r\n                                },\r\n                                itemStyle: {\r\n                                    normal: {\r\n                                        color: \"#FAC1D0\"\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: \"\",\r\n                        type: \"gauge\",\r\n                        radius: \"80%\",\r\n                        center: [\"50%\", \"50%\"],\r\n                        startAngle: 0,\r\n                        endAngle: 359.9,\r\n                        splitNumber: 8,\r\n                        hoverAnimation: true,\r\n                        axisTick: {\r\n                            show: false\r\n                        },\r\n                        splitLine: {\r\n                            length: \"26%\",\r\n                            lineStyle: {\r\n                                width: 3,\r\n                                color: \"#061740\"\r\n                            }\r\n                        },\r\n                        axisLabel: {\r\n                            show: false\r\n                        },\r\n                        pointer: {\r\n                            show: false\r\n                        },\r\n                        axisLine: {\r\n                            lineStyle: {\r\n                                opacity: 0\r\n                            }\r\n                        },\r\n                        detail: {\r\n                            show: false\r\n                        },\r\n                        data: [\r\n                            {\r\n                                value: 0,\r\n                                name: \"\"\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            };\r\n            \r\n            function getCirlPoint(x0, y0, r, angle) {\r\n                let x1 = x0 + r * Math.cos((angle * Math.PI) / 180);\r\n                let y1 = y0 + r * Math.sin((angle * Math.PI) / 180);\r\n                return {\r\n                    x: x1,\r\n                    y: y1\r\n                };\r\n            }\r\n            function draw() {\r\n                angle = angle + 3;\r\n                myChart.setOption(option);\r\n            }\r\n            setInterval(function() {\r\n                draw();\r\n            }, 100);    ","html":"","externalScripts":"","updaterUID":"bd-1801852221","theme":"","layout":"","viewCount":693,"userName":"J***乐","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIArwgRQGA.png?v=1594774886393","isCustomThumbnail":0,"builtinTags":["category-work","series-custom","series-gauge","series-pie","title"],"customTags":[],"updaterUserName":"J***乐"}}