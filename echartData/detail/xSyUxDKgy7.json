{"status":0,"data":{"cid":"xSyUxDKgy7","authorUid":"bd-1006967428","authorUserName":"w***7","title":"线图数据连通性展示","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-05-21T17:50:37.000Z","lastUpdateTime":"2018-05-21T17:50:37.000Z","auth":2,"uid":"bd-1006967428","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-22T04:37:08.000Z","code":"var data = [\"象山社保\", \"职业鉴定\", \"劳动监察\"];\r\nvar uploadedDataURL = \"/asset/get/s/data-1526891266407-B19bm-lJQ.json\";\r\nvar allData = {\r\n    \"citys\": [{\r\n            name: \"职业鉴定\",\r\n            value: [\r\n                125.44335937499999,\r\n                36.38591277287651\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"人才中心\",\r\n            value: [\r\n                107.12695312499999,\r\n                37.16031654673677\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"top\",\r\n                    offset: [0, 6]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"阳光政务\",\r\n            value: [\r\n                115.5,\r\n                42.48830197960227\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"right\",\r\n                    offset: [-6, 0]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"社保卡\",\r\n            value: [\r\n                124.00390625,\r\n                40.176808565702355\r\n            ]\r\n        },\r\n        {\r\n            name: \"五险统征\",\r\n            value: [\r\n                113.99414062499999,\r\n                55.92458580482951\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"象山社保\",\r\n            value: [\r\n                111.26953125,\r\n                47.15984001304432\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"left\",\r\n                    offset: [6, 0],\r\n                    //backgroundColor: \"red\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"人事人才\",\r\n            value: [\r\n                98.61328125,\r\n                55.1286490684888\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"劳动监察\",\r\n            value: [\r\n                94.779296875,\r\n                48.83798245308484\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"top\",\r\n                    offset: [0, 6]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"宁海社保\",\r\n            value: [\r\n                88.087890625,\r\n                56.84897198026975\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"left\",\r\n                    offset: [8, 0]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"慈溪社保\",\r\n            value: [\r\n                83.154296875,\r\n                42.61779143282346\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"就业同步\",\r\n            value: [\r\n                75.44140625,\r\n                46.13417004624326\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"left\",\r\n                    offset: [8, 0]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"自助服务一体机\",\r\n            value: [\r\n                86.044921875,\r\n                51.890053935216926\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"left\",\r\n                    offset: [8, 0]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"全民参保\",\r\n            value: [\r\n                76.595703125,\r\n                61.897577621605016\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"left\",\r\n                    offset: [6, 0]\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"公共服务内网\",\r\n            value: [\r\n                124.8046875,\r\n                52.96187505907603\r\n            ]\r\n        },\r\n        {\r\n            name: \"公共服务外网\",\r\n            value: [\r\n                121.46484375,\r\n                62.103882522897855\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"\",\r\n            value: [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"center\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: \"医保\",\r\n            value: [\r\n                109.248046875,\r\n                60.326947742998414\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        },\r\n        {\r\n            name: \"12333\",\r\n            value: [\r\n                90.703125,\r\n                59.44507509904714\r\n            ],\r\n            label: {\r\n                normal: {}\r\n            }\r\n        }\r\n    ],\r\n    \"cityLine\": [{\r\n        name: \"医保\",\r\n        coords: [\r\n\r\n            [\r\n                109.248046875,\r\n                60.326947742998414\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {}\r\n        }\r\n    }, {\r\n        name: \"职业鉴定\",\r\n        coords: [\r\n            [\r\n                125.44335937499999,\r\n                36.38591277287651\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: 0.35\r\n            }\r\n        }\r\n    }, {\r\n        name: \"人才中心\",\r\n        coords: [\r\n            [\r\n                107.12695312499999,\r\n                37.16031654673677\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ]\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: 0.1\r\n            }\r\n        }\r\n    }, {\r\n        name: \"阳光政务\",\r\n        coords: [\r\n            [\r\n                115.5,\r\n                42.48830197960227\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ]\r\n        ],\r\n        lineStyle: {\r\n            normal: {}\r\n        }\r\n    }, {\r\n        name: \"社保卡\",\r\n        coords: [\r\n\r\n            [\r\n                124.00390625,\r\n                40.176808565702355\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: 0.3\r\n            }\r\n        }\r\n    }, {\r\n        name: \"五险统征\",\r\n        coords: [\r\n            [\r\n                113.99414062499999,\r\n                55.92458580482951\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {}\r\n        }\r\n    }, {\r\n        name: \"象山社保\",\r\n        coords: [\r\n            [\r\n                111.26953125,\r\n                47.15984001304432\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                // color: \"red\",\r\n                // width: 2,\r\n                // type: \"dashed\",\r\n                curveness: 0.1\r\n            }\r\n        }\r\n    }, {\r\n        name: \"人事人才\",\r\n        coords: [\r\n            [\r\n                98.61328125,\r\n                55.1286490684888\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.1\r\n            }\r\n        }\r\n    }, {\r\n        name: \"劳动监察\",\r\n        coords: [\r\n            [\r\n                94.779296875,\r\n                48.83798245308484\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.18\r\n            }\r\n        }\r\n    }, {\r\n        name: \"宁海社保\",\r\n        coords: [\r\n            [\r\n                88.087890625,\r\n                56.84897198026975\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.2\r\n            }\r\n        }\r\n    }, {\r\n        name: \"慈溪社保\",\r\n        coords: [\r\n            [\r\n                83.154296875,\r\n                42.61779143282346\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.2\r\n            }\r\n        }\r\n    }, {\r\n        name: \"就业同步\",\r\n        coords: [\r\n            [\r\n                75.44140625,\r\n                46.13417004624326\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.35\r\n            }\r\n        }\r\n    }, {\r\n        name: \"自助服务一体机\",\r\n        coords: [\r\n            [\r\n                86.044921875,\r\n                51.890053935216926\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.2\r\n            }\r\n        }\r\n    }, {\r\n        name: \"全民参保\",\r\n        coords: [\r\n            [\r\n                76.595703125,\r\n                61.897577621605016\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.4\r\n            }\r\n        }\r\n    }, {\r\n        name: \"公共服务内网\",\r\n        coords: [\r\n            [\r\n                124.8046875,\r\n                52.96187505907603\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: 0.3\r\n            }\r\n        }\r\n    }, {\r\n        name: \"公共服务外网\",\r\n        coords: [\r\n            [\r\n                121.46484375,\r\n                62.103882522897855\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: 0.3\r\n            }\r\n        }\r\n    }, {\r\n        name: \"12333\",\r\n        coords: [\r\n            [\r\n                90.703125,\r\n                59.44507509904714\r\n            ],\r\n            [\r\n                104.442382625,\r\n                25.895892559415024\r\n            ],\r\n        ],\r\n        lineStyle: {\r\n            normal: {\r\n                curveness: -0.2\r\n            }\r\n        }\r\n    }]\r\n};\r\ndata.forEach(function(t) {\r\n    var warnOpt = t;\r\n    console.log(allData);\r\n    allData.citys.forEach(function(p1, index1) {\r\n        if (p1.name === warnOpt) {\r\n            allData[\"citys\"][index1][\"label\"][\"normal\"][\"backgroundColor\"] = \"red\";\r\n        }\r\n    });\r\n    allData.cityLine.forEach(function(p2, index2) {\r\n        if (p2.name === warnOpt) {\r\n            allData[\"cityLine\"][index2][\"lineStyle\"][\"normal\"][\"color\"] = \"red\";\r\n            allData[\"cityLine\"][index2][\"lineStyle\"][\"normal\"][\"width\"] = 2;\r\n            allData[\"cityLine\"][index2][\"lineStyle\"][\"normal\"][\"type\"] = \"dashed\";\r\n        }\r\n    });\r\n    console.log(allData);\r\n});\r\nvar option2 = {\r\n    geo: {\r\n        zoom: 1.2,\r\n        map: 'ditu',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        silent: true,\r\n        roam: false,\r\n        itemStyle: {\r\n            normal: {\r\n                areaColor: 'rgba(0,0,0,0)',\r\n                borderColor: 'rgba(0,0,0,0)'\r\n            },\r\n            emphasis: {\r\n                areaColor: '#2a333d'\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '地点',\r\n        type: 'scatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        rippleEffect: {\r\n            brushType: 'stroke',\r\n            period: 7,\r\n            scale: 26\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                color: \"#fff\",\r\n                offset: [-8, 0],\r\n                position: 'right',\r\n                formatter: '{b}',\r\n                backgroundColor: \"rgb(24,171,154)\",\r\n                padding: [5, 10],\r\n                borderRadius: 20\r\n            }\r\n        },\r\n        symbolSize: 1,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#46bee9'\r\n            }\r\n        },\r\n        data: allData.citys\r\n    }, {\r\n        name: '线路',\r\n        type: 'lines',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 2,\r\n        large: true,\r\n        effect: {\r\n            show: true,\r\n            constantSpeed: 30,\r\n            symbol: 'arrow', //ECharts 提供的标记类型包括 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow'\r\n            symbolSize: 6,\r\n            trailLength: 0,\r\n        },\r\n        lineStyle: {\r\n            normal: {\r\n                // color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //     offset: 0,\r\n                //     color: '#58B3CC'\r\n                // }, {\r\n                //     offset: 1,\r\n                //     color: '#F58158'\r\n                // }], false),\r\n                color: \"rgb(24,171,154)\",\r\n                width: 1,\r\n                opacity: 0.6,\r\n                curveness: 0.2\r\n            }\r\n        },\r\n        data: allData.cityLine\r\n    }]\r\n};\r\n$.get(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('ditu', geoJson);\r\n    myChart.setOption(option2);\r\n});","html":"","externalScripts":"","updaterUID":"bd-1006967428","theme":"","layout":"","viewCount":2367,"userName":"w***7","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyUxDKgy7.png?v=1526963828619","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-lines","series-scatter"],"customTags":[],"updaterUserName":"w***7"}}