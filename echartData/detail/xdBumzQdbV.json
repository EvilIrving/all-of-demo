{"status":0,"data":{"cid":"xdBumzQdbV","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"容量统计/已用(占比)","description":"bar","latestVersion":3,"alwaysLatest":1,"createTime":"2020-11-04T11:33:17.000Z","lastUpdateTime":"2020-11-04T11:33:17.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-04T11:57:14.000Z","code":"let xAxisDAGdata = [],seriesLineData = [];\n        let dag = [\n            {\n                \"机柜名称\": \"16\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"10\"\n            },\n            {\n                \"机柜名称\": \"A01\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"50\"\n            },\n            {\n                \"机柜名称\": \"A02\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"45\"\n            },\n            {\n                \"机柜名称\": \"A03\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"99\"\n            },\n            {\n                \"机柜名称\": \"A04\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"0\"\n            },\n\n            {\n                \"机柜名称\": \"B01\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"10\"\n            },\n            {\n                \"机柜名称\": \"B02\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"10\"\n            },\n            {\n                \"机柜名称\": \"B03\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"1\"\n            },\n            {\n                \"机柜名称\": \"B06\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"20\"\n            },\n            {\n                \"机柜名称\": \"B07\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"0\"\n            },\n            {\n                \"机柜名称\": \"B08\",\n                \"机柜总容量\": \"100\",\n                \"机柜已用容量\": \"90\"\n            }\n        ];\n\n        let LineData = [{\n            name: '容量',\n            data: [],\n            color: ['#ff0042','yellow','#53a3ff','#54c693']\n        }];\n\n        for (let i=0;i<dag.length;i++){\n            xAxisDAGdata.push(dag[i][\"机柜名称\"]);\n            LineData[0].data.push(Math.round((Number(dag[i][\"机柜已用容量\"])/Number(dag[i][\"机柜总容量\"]))*100));\n        }\n\n        for (let i = 0; i < LineData.length; i++) {\n            seriesLineData.push({\n                name: LineData[i].name,\n                type: 'bar',\n                barWidth: 5,\n\n                z: 1,\n                label: {\n                    show: true,\n                    position: 'top',\n                    textStyle: {\n                        color: '#c8d8e3'\n                    }\n                },\n                itemStyle: {\n                    color: function(params) {\n                        let co\n                        if (params.data > 79 &&  params.data < 90) {\n                            co = LineData[0].color[1]\n                        } else if(params.data > 89 ) {\n                            co = LineData[0].color[0]\n                        } else if(params.data > 20 && params.data < 80 ) {\n                            co = LineData[0].color[2]\n                        } else{\n                            co = LineData[0].color[3]\n                        }\n                        return co\n                    }\n\n                },\n                data: LineData[i].data,\n            })\n        }\n\n\n\noption = {\n            //  backgroundColor: '#010d14',\n            title: {\n                text: '容量统计/已用(占比)',\n                textStyle: {\n                    fontSize: 12,\n                    fontWeight: 'normal',\n                    color: '#606e76' //标题颜色\n                },\n                left: '0',\n                top: '0px',\n            },\n            tooltip: {\n                trigger: 'axis',\n                axisPointer: {\n                    type: 'cross',\n                    label: {\n                        backgroundColor: '#6a7985'\n                    },\n                }\n            },\n            grid: {\n                left: '0px',\n                top: '40px',\n                right: '0px',\n                bottom: '0px',\n                containLabel: true\n            },\n            xAxis: [{\n                type: 'category',\n                data: xAxisDAGdata,\n                axisLabel: {\n                    interval: 0, //文字过多\n                    // rotate: 15, //倾斜角度\n                    show: true,\n                    textStyle: {\n                        color: '#606e76'\n                    }\n                },\n                axisLine: {\n                    lineStyle: {\n                        color: '#606e76',\n                        width: 0.5, //这里是为了突出显示加上的\n                    }\n                },\n                axisTick:{\n                    lineStyle: {\n                        color: '#606e76',\n                        width: 1, //这里是为了突出显示加上的\n                    }\n                },\n            }],\n            yAxis: [{\n                type: 'value',\n                interval: 20,\n                max: 100,\n                axisTick:{\n                    lineStyle: {\n                        color: '#606e76',\n                        width: 1, //这里是为了突出显示加上的\n                    }\n                },\n                axisLine: {\n                    onZero: false,\n                    lineStyle: {\n                        color: '#606e76',\n                        width: 1, //这里是为了突出显示加上的\n                    }\n                },\n                axisLabel: {\n\n                    show: true,\n                    textStyle: {\n                        color: '#606e76' //字体颜色\n                    }\n                },\n                splitLine: { //保留网格线\n                    show: true,\n\n                    lineStyle: { //y轴网格线设置\n                        color: '#606e76',\n                        width: 1,\n                        type: 'dotted'\n                    }\n                },\n            }],\n            series: seriesLineData\n        };","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":18,"userName":"绿***绿","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdBumzQdbV.png?v=1604491034427","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}