{"status":0,"data":{"cid":"xphzXhpvlq","authorUid":"obd-oDTabqEYGCsdFGwRSDclyg_rm4E071E","authorUserName":"w***5","title":"饼图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-14T13:57:03.000Z","lastUpdateTime":"2021-09-15T07:43:23.000Z","auth":2,"uid":"obd-oDTabqEYGCsdFGwRSDclyg_rm4E071E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-15T07:43:23.000Z","code":"let color = ['#ff4343', '#f69846', '#f6d54a', '#45dbf7', '#f69846', '#44aff0', '#4777f5', '#5045f6', '#ad46f3', '#f845f1'];\r\nlet names = [\"居住\", \"生产\", \"经营\", \"办公\", \"仓储\", \"其他\"];\r\nlet data1 = [1114, 444, 501, 468, 478, 431]\r\nlet list = []\r\nlet total = 0\r\nfor (let i in data1) {\r\n    total += data1[i]\r\n}\r\n\r\nlet placeHolderStyle = {\r\n    normal: {\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        },\r\n        color: 'rgba(0, 0, 0, 0)',\r\n        borderColor: 'rgba(0, 0, 0, 0)',\r\n        borderWidth: 0\r\n    }\r\n};\r\n\r\nlet rich = {\r\n    white: {\r\n        align: 'center',\r\n        padding: [3, 0]\r\n    }\r\n};\r\n\r\nfor (let i in data1) {\r\n    list.push({\r\n        value: data1[i],\r\n        name: names[i],\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 5,\r\n                shadowBlur: 20,\r\n                borderColor: color[i],\r\n                shadowColor: color[i],\r\n                color: color[i]\r\n            }\r\n        }\r\n    }, {\r\n        value: total / 30,\r\n        name: '',\r\n        itemStyle: placeHolderStyle\r\n    })\r\n}\r\n\r\nlet func = (params) => {\r\n    let percent = ((params.value / total) * 100).toFixed(1)\r\n    let name = params.name.replace(/\\n/g, '')\r\n    if (params.name !== '') {\r\n        return name + '\\n{white|' + percent + '%}'\r\n    } else {\r\n        return ''\r\n    }\r\n}\r\n\r\n\r\n\r\noption = {\r\n    backgroundColor: '#04243E',\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        data: names,\r\n        icon: 'circle',\r\n        right: '5px',\r\n        top: '10px',\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 20\r\n        }\r\n    },\r\n    series: [{\r\n            name: '',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            startAngle: '90',\r\n            center: ['50%', '50%'],\r\n            radius: ['50%', '51%'],\r\n            hoverAnimation: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: true,\r\n                        position: 'outside',\r\n                        formatter: func,\r\n                        rich: rich\r\n                    },\r\n                    labelLine: {\r\n                        length: 40,\r\n                        length2: 100,\r\n                        show: true,\r\n                        color: '#00ffff'\r\n                    }\r\n                }\r\n            },\r\n            data: list,\r\n            animationType: 'scale',\r\n            animationEasing: 'elasticOut',\r\n            animationDelay: function(idx) {\r\n                return idx * 50;\r\n            }\r\n        },\r\n        {\r\n            name: '',\r\n            type: 'pie',\r\n            center: ['50%', '50%'],\r\n            radius: ['49%', '49%'],\r\n            itemStyle: {\r\n                color: 'transparant'\r\n            },\r\n            startAngle: '90',\r\n            data: [{\r\n                value: total,\r\n                name: '',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: '{c|{c}} {b|条记录}',\r\n                        rich: {\r\n                            c: {\r\n                                color: 'rgb(98,137,169)',\r\n                                fontSize: 50,\r\n                                fontWeight: 'bold',\r\n                                lineHeight: 5\r\n                            },\r\n                            b: {\r\n                                color: 'rgb(98,137,169)',\r\n                                fontSize: 40,\r\n                                lineHeight: 5\r\n                            }\r\n                        },\r\n                        textStyle: {\r\n                            fontSize: 28,\r\n                            fontWeight: 'bold'\r\n                        },\r\n                        position: 'center'\r\n                    }\r\n                }\r\n            }]\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oDTabqEYGCsdFGwRSDclyg_rm4E071E","theme":"","layout":"","viewCount":7617,"userName":"w***5","commentCount":0,"starCount":28,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xphzXhpvlq.png?v=1631691803270","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"w***5"}}