{"status":0,"data":{"cid":"x9IJ8DIhil","authorUid":"obd-olnpAYwLa94yisc0pClcfEeAYr6-B0y","authorUserName":"张***冷","title":"分时段平均值","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-03-31T02:28:24.000Z","lastUpdateTime":"2021-03-31T02:28:24.000Z","auth":2,"uid":"obd-olnpAYwLa94yisc0pClcfEeAYr6-B0y","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-31T02:28:24.000Z","code":"data = [{\n        startTime: \"2021-03-01\",\n        endTime: \"2021-03-02\",\n        value: 100\n    },\n    {\n        startTime: \"2021-03-02\",\n        endTime: \"2021-03-03\",\n        value: 120\n    },\n    {\n        startTime: \"2021-03-03\",\n        endTime: \"2021-03-04\",\n        value: 150\n    },\n    {\n        startTime: \"2021-03-04\",\n        endTime: \"2021-03-05\",\n        value: 160\n    },\n    {\n        startTime: \"2021-03-05\",\n        endTime: \"2021-03-06\",\n        value: 140\n    },\n];\nxAxisData1 = [];\nxAxisData2 = [];\nseriesData1 = [];\nseriesData2 = [];\n\ndata.forEach((item, i) => {\n    xAxisData1.push(item.startTime);\n    xAxisData2.push(item.startTime);\n    seriesData1.push(item.value);\n    seriesData2.push(1);\n\n    if (i === data.length - 1) {\n        xAxisData2.push(item.endTime);\n    }\n});\noption = {\n    color: ['#ffae00'],\n    title: {\n        text: '分时段平均值',\n        top: 20,\n        left: 'center',\n        textStyle: {\n            // color:'#fff',\n            fontSize: 20\n        }\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        formatter: function(params) {\n            params.map(i => {});\n            let str = '';\n            // str = params[0].name + '<br />';\n            // params.forEach(item => {\n            str +=\n                params[1].marker +\n                params[1].seriesName +\n                ':' +\n                params[0].data;\n            // });\n            return str;\n        }\n    },\n    grid: {\n        top: '25%',\n        bottom: '15%'\n    },\n    legend: {\n        data: ['入库流量'],\n        top: 50,\n        textStyle: {\n            // color: '#1FC3CE',\n            fontSize: 14,\n        },\n    },\n    xAxis: [{ //  双坐标轴 显示\n        type: 'category',\n        data: xAxisData1,\n        show: false,\n    }, {\n        type: 'category',\n        data: xAxisData2,\n        boundaryGap: false,\n        position: 'bottom',\n        axisPointer: {\n            type: 'none'\n        },\n    }],\n    yAxis: {\n        type: 'value',\n        name: '流量(m³/s)',\n    },\n    series: [{\n            name: '',\n            type: 'bar',\n            stack: 'A',\n            xAxisIndex: 0,\n            // barWidth: '100%',\n            data: seriesData1,\n            itemStyle: {\n                barBorderColor: 'rgba(0, 0, 0, 0)',\n                color: 'rgba(0, 0, 0, 0)'\n            },\n        },\n        {\n            name: '入库流量',\n            type: 'bar',\n            stack: 'A',\n            // xAxisIndex: 0,\n            // barWidth: '100%',\n            data: seriesData2,\n            itemStyle: {\n                // barBorderColor: '#ffae00',\n                // color: '#ffae00',\n                barBorderRadius: 5\n            },\n        }\n    ],\n};","html":"","externalScripts":"","updaterUID":"obd-olnpAYwLa94yisc0pClcfEeAYr6-B0y","theme":"","layout":"","viewCount":16,"userName":"张***冷","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9IJ8DIhil.png?v=1617157705120","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"张***冷"}}