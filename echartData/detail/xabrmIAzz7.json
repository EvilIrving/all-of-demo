{"status":0,"data":{"cid":"xabrmIAzz7","authorUid":"bd-1195210646","authorUserName":"a***o","title":"3D 地球配色","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2019-01-21T02:43:38.000Z","lastUpdateTime":"2019-01-21T02:43:38.000Z","auth":2,"uid":"bd-1195210646","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.1","versionCreateTime":"2019-02-19T06:51:34.000Z","code":"var psa = [{\n        name: 'Afghanistan',\n        value: 28397.812\n    },\n    {\n        name: 'Angola',\n        value: 19549.124\n    },\n    {\n        name: 'Albania',\n        value: 3150.143\n    },\n    {\n        name: 'United Arab Emirates',\n        value: 8441.537\n    },\n    {\n        name: 'Argentina',\n        value: 40374.224\n    },\n    {\n        name: 'Armenia',\n        value: 2963.496\n    },\n    {\n        name: 'French Southern and Antarctic Lands',\n        value: 268.065\n    },\n    {\n        name: 'Australia',\n        value: 22404.488\n    },\n    {\n        name: 'Austria',\n        value: 8401.924\n    },\n    {\n        name: 'Azerbaijan',\n        value: 9094.718\n    },\n    {\n        name: 'Burundi',\n        value: 9232.753\n    },\n    {\n        name: 'Belgium',\n        value: 10941.288\n    },\n    {\n        name: 'Benin',\n        value: 9509.798\n    },\n    {\n        name: 'Burkina Faso',\n        value: 15540.284\n    },\n    {\n        name: 'Bangladesh',\n        value: 151125.475\n    },\n    {\n        name: 'Bulgaria',\n        value: 7389.175\n    },\n    {\n        name: 'The Bahamas',\n        value: 66402.316\n    },\n    {\n        name: 'Bosnia and Herzegovina',\n        value: 3845.929\n    },\n    {\n        name: 'Belarus',\n        value: 9491.07\n    },\n    {\n        name: 'Belize',\n        value: 308.595\n    },\n    {\n        name: 'Bermuda',\n        value: 64.951\n    },\n    {\n        name: 'Bolivia',\n        value: 716.939\n    },\n    {\n        name: 'Brazil',\n        value: 195210.154\n    },\n    {\n        name: 'Brunei',\n        value: 27.223\n    },\n    {\n        name: 'Bhutan',\n        value: 716.939\n    },\n    {\n        name: 'Botswana',\n        value: 1969.341\n    },\n    {\n        name: 'Central African Republic',\n        value: 4349.921\n    },\n    {\n        name: 'Canada',\n        value: 34126.24\n    },\n    {\n        name: 'Switzerland',\n        value: 7830.534\n    },\n    {\n        name: 'Chile',\n        value: 17150.76\n    },\n    {\n        name: 'China',\n        value: 1359821.465\n    },\n    {\n        name: 'Ivory Coast',\n        value: 60508.978\n    },\n    {\n        name: 'Cameroon',\n        value: 20624.343\n    },\n    {\n        name: 'Democratic Republic of the Congo',\n        value: 62191.161\n    },\n    {\n        name: 'Republic of the Congo',\n        value: 3573.024\n    },\n    {\n        name: 'Colombia',\n        value: 46444.798\n    },\n    {\n        name: 'Costa Rica',\n        value: 4669.685\n    },\n    {\n        name: 'Cuba',\n        value: 11281.768\n    },\n    {\n        name: 'Northern Cyprus',\n        value: 1.468\n    },\n    {\n        name: 'Cyprus',\n        value: 1103.685\n    },\n    {\n        name: 'Czech Republic',\n        value: 10553.701\n    },\n    {\n        name: 'Germany',\n        value: 83017.404\n    },\n    {\n        name: 'Djibouti',\n        value: 834.036\n    },\n    {\n        name: 'Denmark',\n        value: 5550.959\n    },\n    {\n        name: 'Dominican Republic',\n        value: 10016.797\n    },\n    {\n        name: 'Algeria',\n        value: 37062.82\n    },\n    {\n        name: 'Ecuador',\n        value: 15001.072\n    },\n    {\n        name: 'Egypt',\n        value: 78075.705\n    },\n    {\n        name: 'Eritrea',\n        value: 5741.159\n    },\n    {\n        name: 'Spain',\n        value: 46182.038\n    },\n    {\n        name: 'Estonia',\n        value: 1298.533\n    },\n    {\n        name: 'Ethiopia',\n        value: 87095.281\n    },\n    {\n        name: 'Finland',\n        value: 5367.693\n    },\n    {\n        name: 'Fiji',\n        value: 860.559\n    },\n    {\n        name: 'Falkland Islands',\n        value: 49.581\n    },\n    {\n        name: 'France',\n        value: 63230.866\n    },\n    {\n        name: 'Gabon',\n        value: 1556.222\n    },\n    {\n        name: 'United Kingdom',\n        value: 62066.35\n    },\n    {\n        name: 'Georgia',\n        value: 4388.674\n    },\n    {\n        name: 'Ghana',\n        value: 24262.901\n    },\n    {\n        name: 'Guinea',\n        value: 10876.033\n    },\n    {\n        name: 'Gambia',\n        value: 1680.64\n    },\n    {\n        name: 'Guinea Bissau',\n        value: 10876.033\n    },\n    {\n        name: 'Equatorial Guinea',\n        value: 696.167\n    },\n    {\n        name: 'Greece',\n        value: 11109.999\n    },\n    {\n        name: 'Greenland',\n        value: 56.546\n    },\n    {\n        name: 'Guatemala',\n        value: 14341.576\n    },\n    {\n        name: 'French Guiana',\n        value: 231.169\n    },\n    {\n        name: 'Guyana',\n        value: 786.126\n    },\n    {\n        name: 'Honduras',\n        value: 7621.204\n    },\n    {\n        name: 'Croatia',\n        value: 4338.027\n    },\n    {\n        name: 'Haiti',\n        value: 9896.4\n    },\n    {\n        name: 'Hungary',\n        value: 10014.633\n    },\n    {\n        name: 'Indonesia',\n        value: 240676.485\n    },\n    {\n        name: 'India',\n        value: 1205624.648\n    },\n    {\n        name: 'Ireland',\n        value: 4467.561\n    },\n    {\n        name: 'Iran',\n        value: 240676.485\n    },\n    {\n        name: 'Iraq',\n        value: 30962.38\n    },\n    {\n        name: 'Iceland',\n        value: 318.042\n    },\n    {\n        name: 'Israel',\n        value: 7420.368\n    },\n    {\n        name: 'Italy',\n        value: 60508.978\n    },\n    {\n        name: 'Jamaica',\n        value: 2741.485\n    },\n    {\n        name: 'Jordan',\n        value: 6454.554\n    },\n    {\n        name: 'Japan',\n        value: 127352.833\n    },\n    {\n        name: 'Kazakhstan',\n        value: 15921.127\n    },\n    {\n        name: 'Kenya',\n        value: 40909.194\n    },\n    {\n        name: 'Kyrgyzstan',\n        value: 5334.223\n    },\n    {\n        name: 'Cambodia',\n        value: 14364.931\n    },\n    {\n        name: 'South Korea',\n        value: 51452.352\n    },\n    {\n        name: 'Kosovo',\n        value: 97.743\n    },\n    {\n        name: 'Kuwait',\n        value: 2991.58\n    },\n    {\n        name: 'Laos',\n        value: 6395.713\n    },\n    {\n        name: 'Lebanon',\n        value: 4341.092\n    },\n    {\n        name: 'Liberia',\n        value: 3957.99\n    },\n    {\n        name: 'Libya',\n        value: 6040.612\n    },\n    {\n        name: 'Sri Lanka',\n        value: 20758.779\n    },\n    {\n        name: 'Lesotho',\n        value: 2008.921\n    },\n    {\n        name: 'Lithuania',\n        value: 3068.457\n    },\n    {\n        name: 'Luxembourg',\n        value: 507.885\n    },\n    {\n        name: 'Latvia',\n        value: 2090.519\n    },\n    {\n        name: 'Morocco',\n        value: 31642.36\n    },\n    {\n        name: 'Moldova',\n        value: 103.619\n    },\n    {\n        name: 'Madagascar',\n        value: 21079.532\n    },\n    {\n        name: 'Mexico',\n        value: 117886.404\n    },\n    {\n        name: 'Macedonia',\n        value: 507.885\n    },\n    {\n        name: 'Mali',\n        value: 13985.961\n    },\n    {\n        name: 'Myanmar',\n        value: 51931.231\n    },\n    {\n        name: 'Montenegro',\n        value: 620.078\n    },\n    {\n        name: 'Mongolia',\n        value: 2712.738\n    },\n    {\n        name: 'Mozambique',\n        value: 23967.265\n    },\n    {\n        name: 'Mauritania',\n        value: 3609.42\n    },\n    {\n        name: 'Malawi',\n        value: 15013.694\n    },\n    {\n        name: 'Malaysia',\n        value: 28275.835\n    },\n    {\n        name: 'Namibia',\n        value: 2178.967\n    },\n    {\n        name: 'New Caledonia',\n        value: 246.379\n    },\n    {\n        name: 'Niger',\n        value: 15893.746\n    },\n    {\n        name: 'Nigeria',\n        value: 159707.78\n    },\n    {\n        name: 'Nicaragua',\n        value: 5822.209\n    },\n    {\n        name: 'Netherlands',\n        value: 16615.243\n    },\n    {\n        name: 'Norway',\n        value: 4891.251\n    },\n    {\n        name: 'Nepal',\n        value: 26846.016\n    },\n    {\n        name: 'New Zealand',\n        value: 4368.136\n    },\n    {\n        name: 'Oman',\n        value: 2802.768\n    },\n    {\n        name: 'Pakistan',\n        value: 173149.306\n    },\n    {\n        name: 'Panama',\n        value: 3678.128\n    },\n    {\n        name: 'Peru',\n        value: 29262.83\n    },\n    {\n        name: 'Philippines',\n        value: 93444.322\n    },\n    {\n        name: 'Papua New Guinea',\n        value: 6858.945\n    },\n    {\n        name: 'Poland',\n        value: 38198.754\n    },\n    {\n        name: 'Puerto Rico',\n        value: 3709.671\n    },\n    {\n        name: 'North Korea',\n        value: 1.468\n    },\n    {\n        name: 'Portugal',\n        value: 10589.792\n    },\n    {\n        name: 'Paraguay',\n        value: 6459.721\n    },\n    {\n        name: 'Qatar',\n        value: 1749.713\n    },\n    {\n        name: 'Romania',\n        value: 21861.476\n    },\n    {\n        name: 'Russia',\n        value: 21861.476\n    },\n    {\n        name: 'Rwanda',\n        value: 10836.732\n    },\n    {\n        name: 'Western Sahara',\n        value: 514.648\n    },\n    {\n        name: 'Saudi Arabia',\n        value: 27258.387\n    },\n    {\n        name: 'Sudan',\n        value: 35652.002\n    },\n    {\n        name: 'South Sudan',\n        value: 9940.929\n    },\n    {\n        name: 'Senegal',\n        value: 12950.564\n    },\n    {\n        name: 'Solomon Islands',\n        value: 526.447\n    },\n    {\n        name: 'Sierra Leone',\n        value: 5751.976\n    },\n    {\n        name: 'El Salvador',\n        value: 6218.195\n    },\n    {\n        name: 'Somaliland',\n        value: 9636.173\n    },\n    {\n        name: 'Somalia',\n        value: 9636.173\n    },\n    {\n        name: 'Republic of Serbia',\n        value: 3573.024\n    },\n    {\n        name: 'Suriname',\n        value: 524.96\n    },\n    {\n        name: 'Slovakia',\n        value: 5433.437\n    },\n    {\n        name: 'Slovenia',\n        value: 2054.232\n    },\n    {\n        name: 'Sweden',\n        value: 9382.297\n    },\n    {\n        name: 'Swaziland',\n        value: 1193.148\n    },\n    {\n        name: 'Syria',\n        value: 7830.534\n    },\n    {\n        name: 'Chad',\n        value: 11720.781\n    },\n    {\n        name: 'Togo',\n        value: 6306.014\n    },\n    {\n        name: 'Thailand',\n        value: 66402.316\n    },\n    {\n        name: 'Tajikistan',\n        value: 7627.326\n    },\n    {\n        name: 'Turkmenistan',\n        value: 5041.995\n    },\n    {\n        name: 'East Timor',\n        value: 10016.797\n    },\n    {\n        name: 'Trinidad and Tobago',\n        value: 1328.095\n    },\n    {\n        name: 'Tunisia',\n        value: 10631.83\n    },\n    {\n        name: 'Turkey',\n        value: 72137.546\n    },\n    {\n        name: 'United Republic of Tanzania',\n        value: 44973.33\n    },\n    {\n        name: 'Uganda',\n        value: 33987.213\n    },\n    {\n        name: 'Ukraine',\n        value: 46050.22\n    },\n    {\n        name: 'Uruguay',\n        value: 3371.982\n    },\n    {\n        name: 'United States of America',\n        value: 312247.116\n    },\n    {\n        name: 'Uzbekistan',\n        value: 27769.27\n    },\n    {\n        name: 'Venezuela',\n        value: 236.299\n    },\n    {\n        name: 'Vietnam',\n        value: 89047.397\n    },\n    {\n        name: 'Vanuatu',\n        value: 236.299\n    },\n    {\n        name: 'West Bank',\n        value: 13.565\n    },\n    {\n        name: 'Yemen',\n        value: 22763.008\n    },\n    {\n        name: 'South Africa',\n        value: 51452.352\n    },\n    {\n        name: 'Zambia',\n        value: 13216.985\n    },\n    {\n        name: 'Zimbabwe',\n        value: 13076.978\n    }\n]\n\n\n/*\n    图中相关城市经纬度,根据你的需求添加数据\n    关于国家的经纬度，可以用首都的经纬度或者其他城市的经纬度\n    */\nvar geoCoordMap = {\n    'BeiJing': [116.3, 39.9],\n    'NanNing': [108.479, 23.1152],\n    'GuangZhou': [113.5107, 23.2196],\n    'ChongQing': [107.7539, 30.1904],\n    'Finland': [24.909912, 60.169095],\n    'USA': [-100.696295, 33.679979],\n    'Japan': [139.710164, 35.706962],\n    'Korea': [126.979208, 37.53875],\n    'Switzerland': [7.445147, 46.956241],\n    'Southeast Asia': [117.53244, 5.300343],\n    'Australia': [135.193845, -25.304039],\n    'Germany': [13.402393, 52.518569],\n    'UK': [-0.126608, 51.208425],\n    'Canada': [-102.646409, 59.994255]\n};\n\n/* \n    记录下起点城市和终点城市的名称，以及权重\n    数组第一位为终点城市，数组第二位为起点城市，以及该城市的权重，就是图上圆圈的大小\n*/\nvar BJData = [\n    [{\n        name: 'BeiJing'\n    }, {\n        name: \"NanNing\",\n        value: 80\n    }],\n    [{\n        name: 'BeiJing'\n    }, {\n        name: \"GuangZhou\",\n        value: 100\n    }],\n    [{\n        name: 'BeiJing'\n    }, {\n        name: \"ChongQing\",\n        value: 95\n    }],\n    [{\n        name: 'BeiJing'\n    }, {\n        name: \"Finland\",\n        value: 50\n    }]\n   \n];\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var toCoord = geoCoordMap[dataItem[1].name];\n        var fromCoord = geoCoordMap[dataItem[0].name];\n        if (fromCoord && toCoord) {\n            res.push([fromCoord, toCoord])\n        }\n    }\n    console.log(res)\n    return res;\n}\n\nvar series = []; // 3D飞线\nvar dser = []; // 2D散点坐标\n[\n    ['BeiJing', BJData]\n].forEach(function(item, i) {\n    dser.push({\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n\n        zlevel: 0,\n        rippleEffect: {\n            brushType: 'fill'\n        },\n        label: {\n            fontSize: 5,\n            show: true,\n            position: 'right',\n            formatter: '{b}',\n            color: '#000'\n        },\n      itemStyle: {\n       color: {\n    type: 'radial',\n    x: 0.5,\n    y: 0.5,\n    r: 0.5,\n    colorStops: [{\n        offset: 0, color: '#ffd400' // 0% 处的颜色\n    }, {\n        offset: 1, color: '#d8b400' // 100% 处的颜色\n    }],\n    global: false // 缺省为 false\n},\n      },\n\n        data: item[1].map(function(dataItem) {\n            return {\n                name: dataItem[1].name,\n                value: geoCoordMap[dataItem[1].name],\n                symbolSize: dataItem[1].value / 4\n            };\n        })\n    }, {\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n        zlevel: 0,\n        rippleEffect: {\n            brushType: 'stroke'\n        },\n        label: {\n            normal: {\n                show: true,\n                position: 'left',\n                fontSize: 14,\n                formatter: '{b}',\n                color: '#009688'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#fff'\n            }\n        },\n        data: [{\n            name: item[0],\n            value: geoCoordMap[item[0]],\n            symbolSize: parseInt(Math.random() * 20 + 10),\n            label: {\n                normal: {\n                    position: 'right',\n                    color: '#009688 '\n                }\n            }\n        }]\n    }, {\n        type: 'map',\n        map: 'china',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        boundingCoords: [\n            [-180, 90],\n            [180, -90]\n        ],\n        itemStyle: {\n            normal: {\n                areaColor: 'rgba(0,150,136,1)',\n            },\n            emphasis: {\n                areaColor: 'rgba(255,158,44,1)',\n                label: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff',\n                        fontWeight: 100,\n                        fontSize: 16,\n                    }\n                }\n            },\n        },\n        data: psa\n    })\n    series.push({\n        type: 'lines3D',\n        effect: {\n            show: true,\n            period: 3, //速度\n            trailLength: 0.1 //尾部阴影          \n        },\n        lineStyle: { //航线的视图效果\n            color: '#9ae5fc',\n            width: 1,\n            opacity: 0.6\n        },\n        data: convertData(item[1]) // 特效的起始、终点位置，一个二维数组，相当于coords: convertData(item[1])\n    })\n});\n\n// 使用 echarts 绘制世界地图的实例作为纹理\nvar canvas = document.createElement('canvas');\nvar mapChart = echarts.init(canvas, null, {\n    width: 4096,\n    height: 2048\n});\nmapChart.setOption({\n    backgroundColor: 'rgba(0,0,0,0.9)',//地球海洋颜色 \n    visualMap: {\n        min: 0,\n        max: 100000,\n        inRange: {\n            //color: ['#9fe129', '#e9f3cd', '#bedc68', '#d4e79a', '#a9d035']\n        }\n    },\n    geo: {\n        type: 'map',\n        map: 'world',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        boundingCoords: [\n            [-180, 90],\n            [180, -90]\n        ],\n        itemStyle: {\n            normal: {\n                areaColor: 'rgba(0,0,0,1)',\n            },\n            emphasis: {\n                areaColor: 'rgba(255,158,44,1)',\n                label: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff',\n                        fontWeight: 100,\n                        fontSize: 16,\n                    }\n                }\n            },\n        },\n    },\n    series: dser\n});\n// 指定图表的配置项和数据\n\noption = {\n    globe: {\n        baseTexture: mapChart,\n        //displacementTexture: '/asset/get/s/data-1545104240896-CXP5p8FwT.jpg',\n        //heightTexture: '/asset/get/s/data-1545104240896-CXP5p8FwT.jpg',\n        displacementScale: 0.06,\n        //displacementQuality: 'high',\n        environment: '/asset/get/s/data-1545104248951-mtfBOvOb9.jpg',\n        shading: 'realistic',\n        realisticMaterial: {\n            roughness: 0.3,\n            metalness: 0.6\n        },\n        postEffect: {\n            enable: true,\n            //\t\t\t\tdepthOfField: {\n            //                    focalRange: 15,\n            //                    enable: true,\n            //                    focalDistance: 100\n            //                  }\n        },\n        temporalSuperSampling: {\n            enable: true\n        },\n        light: {\n            ambient: {\n                intensity: 0.1,\n                color: '#000',\n            },\n            main: {\n                intensity: 0.2,\n                shadow: false\n            },\n            ambientCubemap: {//地球光晕\n                texture: '/asset/get/s/data-1545104257737-uGSQq3F_8.hdr',\n                exposure: 2,\n                diffuseIntensity: 0.9,\n                specularIntensity: 3\n            }\n        },\n        viewControl: {//控制地球自转\n            autoRotate: false,\n            damping: 0.9,\n            //minDistance: 1000,//地球缩放最小尺寸\n            maxDistance: 3000,//地球缩放最大尺寸\n            targetCoord: [106.46, 29.92],//地球默认焦点坐标\n        },\n    },\n    series: series\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/world.js,/dep/echarts/map/js/china.js","updaterUID":"bd-1195210646","theme":"","layout":"","viewCount":509,"userName":"a***o","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xabrmIAzz7.png?v=1550559094369","isCustomThumbnail":0,"builtinTags":["category-work","globe","series-lines3D"],"customTags":[],"updaterUserName":"a***o"}}