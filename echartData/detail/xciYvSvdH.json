{"status":0,"data":{"cid":"xciYvSvdH","authorUid":"bd-3342206826","authorUserName":"小***琪","title":"饼图label带图标","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-02-16T14:10:55.000Z","lastUpdateTime":"2020-02-16T14:10:55.000Z","auth":2,"uid":"bd-3342206826","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-16T14:10:55.000Z","code":"let img1 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAh1BMVEUAAAC+6nm+6nq28na+6nq/63nD7Ha+6nq+6nq+63q/6Xq+63u/6nqh/2u+6nq+6nq/6nq+6nq/63q/6Xq96nm97X656H++63q/63m+6Xq+6nq/6nq/6nq/63q+6ni97Hm+6Hy+6nq+6nq96Xq+6nm+6nq/6nq+6nq/6nm/6nq+6ny/6Xu+6nrEFxhlAAAALHRSTlMAqt0G0kwN9vDXIqF2AuvMtoV9LRwRC5Rj+cfBvXBHNBXlmYxqXFP4jlZDOrUCCSwAAAEoSURBVDjL3dFZtoIwDAbgH6hCoWUUEUHBecr+13eptHhQcQH3eyFJc2jTQsm3eJMVEY9XjkmF62MkJX5NrZItdO6werR+pI3sPj7jS1150AkvrZf0wcJLTW0f5his3LmODrap5bsAg0NkojM5QGIpnKyBHfZfHzfVkLmeyhjFpqFS4ZoKoGDPLen8PFAy7BcWWLLIge+K/oSeuoZNmUE7URJ0tcbumhQnYt28MlrL1xzEiorqVue+p2ZoyuNw024cV8FMwpjRSo3n6atd8rWDseTSdHXb6rMg9PFG1nYO3M/6Kbb40O5iORwgwRePUj/MnFcOvtnoH1vhAp/Miun7ZIZrLikmZe41t2uJaSdiuxa/7OmOn2Y0//cNQoiAUiFumMDtXjCq/gEGGBP31YkXRgAAAABJRU5ErkJggg==';\r\nlet img2 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAolBMVEUAAADz6ir16yr06yr06ir16ir16yr07Cn06yn06in16yr06Sr16Sn06yr06ir06yn06ir16irv7Cj06ir16ir06yn06yn16in16in16yn06ir16ir37Cr//y/16yn06yr16ir06ir06in06in06Sny6ir26Sr16in06in06inz6irz6yn27Cr16yj06ir06ir06in26Sn06CL16in26ir06ipiqh6XAAAANXRSTlMA3bz77NHnKrn2lfn41IxvVEgP8NzHs6p5ZF8wHQTk4cOedFxEPCIY2JqCPzUzpJCIUAuzbO5G2rgAAAE7SURBVDjLrZLZcoIwGIV/IChR2XcFQcR9qbU97/9qrYQSRjpe+d1kMvMlOTkJvRlbVY3NKyHgCj5eChG9EG4A9gSAu/8LKjtgRGBXVDTECRTOSPsV9AxMMcfPwkRTtZkQxmAh5gNhSqwTjMXbhUpRfG3TEyaPnAspRDw2kOjLTjD5l4q1FOIlUaGr5p8QwqINHCmsfKIUo07gfkYuXOonJLLA7dnyAv2AaU30iZMULOSPMvdo0KItEa1xlsIRXjOeLbU0vjN6kKLXdoLd8O9g+zy5p3HAwcxJ3V8ktzsxsGhlXUsNpSeOFbSB7qxw82bmJdpKBG8RV8pwoBavKJurd4hSYoT2Zedt69tIc5ryOkSteVK0PYS1qF9yaR9mMa+OtiPSRwFJxkiHX1gnSYa9+owfkiQ3lCEVvYkfYd4lVwfZiRoAAAAASUVORK5CYII=';\r\n// 数据及颜色设置\r\nlet bgColor = '#051234';\r\nlet scale = 1;\r\nlet echartData = [{\r\n        name: 'A类',\r\n        value: 30,\r\n        unit: '元',\r\n        detail: [{name: 'TypeA', value: 22},{name: 'TypeB', value: 8}]\r\n    },\r\n    {\r\n        name: 'B类',\r\n        value: 20,\r\n        unit: '元',\r\n        detail: [{name: 'TypeA', value: 12},{name: 'TypeB', value: 8}]\r\n    }, {\r\n        name: 'C类',\r\n        value: 30,\r\n        unit: '元',\r\n        detail: [{name: 'TypeA', value: 12},{name: 'TypeB', value: 18}]\r\n    }, {\r\n        name: 'D类',\r\n        value: 20,\r\n        unit: '元',\r\n        detail: [{name: 'TypeA', value: 3},{name: 'TypeB', value: 17}]\r\n    }\r\n];\r\nlet total = echartData.reduce((a, b) => {\r\n    return a + b.value * 1\r\n}, 0)\r\n\r\n\r\noption = {\r\n    backgroundColor: bgColor,\r\n    color: ['#2EB2FA', '#43CC31', '#FFC145', '#FFA8A8'],\r\n    title: [{\r\n        text: '异常分布情况',\r\n        x: 'center',\r\n        y: 20,\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 24 * scale,\r\n            color: \"#fff\",\r\n        }\r\n    },{\r\n        text: '分类统计',\r\n        x: 'center',\r\n        y: 'center',\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 20 * scale,\r\n            color: \"#ccc\",\r\n        }\r\n    }],\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    legend: {\r\n        icon: 'square',\r\n        itemWidth: 12 * scale,\r\n        itemGap: 25,\r\n        top: 20,\r\n        right: 30,\r\n        textStyle: {\r\n            color: '#fff'\r\n        },\r\n        data: [{\r\n            name: 'TypeA',\r\n            icon: 'image://'+img1\r\n        }, {\r\n            name: 'TypeB',\r\n            icon: 'image://'+img2\r\n        }]\r\n    },\r\n    series: [{\r\n            type: 'pie',\r\n            name: 'TypeB',  // 内层细圆环2\r\n            radius: ['45%', '46%'],\r\n            hoverAnimation: false,\r\n            clockWise: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 0.05,\r\n                        color: 'rgba(0,117,255, 1)'\r\n                    }, {\r\n                        offset: 0.5,\r\n                        color: 'rgba(0,117,255, 0.1)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(0,117,255, 1)'\r\n                    }]),\r\n                }\r\n            },\r\n            label: {\r\n                show: false\r\n            },\r\n            data: [100]\r\n        },\r\n        {\r\n            type: 'pie',\r\n            name: 'TypeA',  // 外层圆环1（用于遮挡labelLine）\r\n            radius: ['56%', '60%'],\r\n            hoverAnimation: false,\r\n            clockWise: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: bgColor,\r\n                }\r\n            },\r\n            label: {\r\n                show: false\r\n            },\r\n            data: [100]\r\n        },\r\n        {\r\n            type: 'pie',\r\n            name: 'TypeB', // 最外层细圆环\r\n            hoverAnimation: false,\r\n            clockWise: false,\r\n            radius: ['60%', '61%'],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 0.05,\r\n                        color: 'rgba(0,117,255, 1)'\r\n                    }, {\r\n                        offset: 0.5,\r\n                        color: 'rgba(0,117,255, 0.1)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(0,117,255, 1)'\r\n                    }]),\r\n                }\r\n            },\r\n            label: {\r\n                show: false\r\n            },\r\n            data: [100]\r\n        },\r\n        {\r\n            name: '饼图内容区',\r\n            type: 'pie',\r\n            clockWise: false,\r\n            radius: ['50%', '56%'],\r\n            hoverAnimation: false,\r\n            data: echartData,\r\n            label: {\r\n                normal: {\r\n                    formatter: function(params, ticket, callback) {\r\n                        return '{normal|' + params.name + '}\\n{A|}{value|' + params.data.detail[0].value + '个}\\n{B|}{value|' + params.data.detail[1].value + '个}';\r\n                    },\r\n                    padding: [0, -80],\r\n                    rich: {\r\n                        normal: {\r\n                            color: '#fff',\r\n                            fontSize: 14 * scale,\r\n                            padding: [20, 4],\r\n                            align: 'left'\r\n                        },\r\n                        value: {\r\n                            color: '#fff',\r\n                            align: 'left',\r\n                            fontSize: 14 * scale,\r\n                            padding: [2, 4],\r\n                        },\r\n                        A: {\r\n                            width: 14,\r\n                            height: 14,\r\n                            align: 'left',\r\n                            backgroundColor: {\r\n                                image: img1\r\n                            }\r\n                        },\r\n                        B: {\r\n                            width: 14,\r\n                            height: 14,\r\n                            align: 'left',\r\n                            backgroundColor: {\r\n                                image: img2\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            },\r\n            labelLine: {\r\n                length: 30,\r\n                length2: 100\r\n            }\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-3342206826","theme":"","layout":"","viewCount":2410,"userName":"小***琪","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xciYvSvdH.png?v=1581862255216","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"小***琪"}}