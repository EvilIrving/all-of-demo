{"status":0,"data":{"cid":"x96JpJAUqG","authorUid":"obd-oteApcC0c5NhgeyBzUJh7KVdROwJH84","authorUserName":"爱***n","title":"hover饼图","description":"默认中间显示总量，hover悬浮则显示该悬浮的数量值","latestVersion":1,"alwaysLatest":1,"createTime":"2020-07-31T09:17:29.000Z","lastUpdateTime":"2020-07-31T09:17:29.000Z","auth":2,"uid":"obd-oteApcC0c5NhgeyBzUJh7KVdROwJH84","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-31T09:17:29.000Z","code":"let pieData = [{\n        value: 1224,\n        name: '正常排污企业'\n    },\n    {\n        value: 415,\n        name: '异常排放企业'\n    },\n    {\n        value: 224,\n        name: '临界达标企业'\n    },\n];\n\nlet totalNum = 0;\n\npieData.forEach(item => {\n    totalNum += item.value\n})\n\noption = {\n    backgroundColor: '#2c3e50',\n    //设置主副标题\n    title: {\n        show: true,\n        text: '企业数量',\n        subtext: totalNum,\n        left: 'center',\n        top: 'center',\n        z: 0,\n        zlevel: 100,\n        textStyle: {\n            textAlign: 'center',\n            color: '#BAE7FF',\n            fontSize: 14,\n        },\n        subtextStyle: {\n            textAlign: 'center',\n            color: '#fff',\n            fontSize: 30,\n            fontWeight: 600,\n        },\n    },\n\n    tooltip: {\n        show: false,\n        trigger: 'item',\n        alwaysShowContent: true,\n        formatter: '{a} <br/>{b}: {c} ({d}%)',\n    },\n    //图例\n    legend: {\n        show: false,\n    },\n    //设置图表撑满整个画布\n    grid: {\n        left: '0%',\n        right: '0%',\n        bottom: '0%',\n        containLabel: true,\n    },\n\n    series: [{\n        name: '企业数量',\n        type: 'pie',\n        //自定义颜色\n        color: ['#06B716', '#F5222D', '#FAAD14'],\n        radius: ['60%', '90%'], //饼图大小\n        avoidLabelOverlap: false,\n        legendHoverLink: false, //移入leged不显示在中间\n        textAlign: 'center',\n\n        label: {\n            normal: {\n                show: true,\n                position: 'center', //文字显示在中间\n                align: 'center',\n                verticalAlign: 'middle',\n                textStyle: {\n                    //设置文字样式\n                    fontSize: '0',\n                },\n            },\n            emphasis: {\n                show: true, //文字至于中间时，这里需为true\n                textStyle: {\n                    //设置文字样式\n                    fontSize: '14',\n                    color: '#BAE7FF',\n                },\n                formatter: '{b|{b}} \\n {c|{c}} {d|{d}%}', //图形外文字上下显示\n                //样式设置\n                rich: {\n                    b: {\n                        //name 文字样式\n                        lineHeight: 20,\n                        fontSize: 14,\n                        textAlign: 'center',\n                        color: '#BAE7FF',\n                    },\n                    c: {\n                        //value 文字样式\n                        lineHeight: 36,\n                        color: '#fff',\n                        fontSize: 30,\n                        fontWeight: 600,\n                    },\n                    d: {\n                        //百分比样式\n                        fontSize: 12,\n                        color: '#BAE7FF',\n                    },\n                },\n            },\n        },\n        itemStyle: {\n            borderWidth: 2,\n            borderColor: '#2E3E62',\n        },\n        labelLine: {\n            show: false,\n        },\n        data: pieData,\n    }, ],\n};\n\n// 自动渲染echarts\nwindow.addEventListener('resize', () => {\n    myChart.resize()\n})\n\n//自定义事件\nmyChart.on('mouseover', (params) => {\n    myChart.setOption({\n        title: {\n            show: false,\n        },\n        series: {\n            label: {\n                emphasis: {\n                    rich: {\n                        c: {\n                            //value 文字样式\n                            color: params.color,\n\n                        }\n                    }\n                }\n            }\n        }\n    })\n})\n\n//自定义事件\nmyChart.on('mouseout', (params) => {\n    myChart.setOption({\n        title: {\n            show: true,\n        },\n    })\n})","html":"","externalScripts":"","updaterUID":"obd-oteApcC0c5NhgeyBzUJh7KVdROwJH84","theme":"","layout":"","viewCount":121,"userName":"爱***n","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x96JpJAUqG.png?v=1596187049794","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":["饼图"],"updaterUserName":"爱***n"}}