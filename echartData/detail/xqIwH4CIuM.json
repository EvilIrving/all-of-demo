{"status":0,"data":{"cid":"xqIwH4CIuM","authorUid":"bd-1464931953","authorUserName":"承***生","title":"金字塔占比图","description":"金字塔占比图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-16T11:49:25.000Z","lastUpdateTime":"2021-11-16T11:49:25.000Z","auth":2,"uid":"bd-1464931953","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-16T11:49:25.000Z","code":"data = [\n    {value: 53, name: '投运'},\n    {value: 38, name: '潜力'}\n]\nlet sum = 0;\ndata.forEach(item => {\n    sum += item.value\n})\n\nlet addUp = 0;\nlet minHeight = 2;\nlet top = 5;\nlet color = ['RGBA(34,230,111, 1)','RGBA(209,155,16,1)'];\n\ndata = data.map((item,index) => {\n    let itemValue = 0\n    if (item.value / sum * 100 < minHeight) itemValue = minHeight\n    else itemValue = (item.value / sum * 100)\n    top += itemValue\n    return {\n        value: addUp += itemValue,\n        name: item.name,\n        realValue: item.value,\n        label: {\n            show: true,\n            color: '#fff',\n            fontSize: 30,\n            position:'inside',\n            formatter:()=>{\n                return `${item.name} ${item.value} 个`\n            }\n        },\n        itemStyle: {\n            height: `${itemValue}%`,\n            borderColor:color[index],\n            borderWidth:5,\n            shadowColor: color[index],\n            shadowBlur: 100\n        }\n    }\n});\n\noption = {\n    backgroundColor: '#0d3059',\n    color: [{\n      type: 'linear',\n      x: 0,\n      y: 0,\n      x2: 0,\n      y2: 1,\n      colorStops: [{\n          offset: 0, color: 'RGBA(34,230,111, 0.5)' // 0% 处的颜色\n      }, {\n          offset: 1, color: 'RGBA(34,230,111, 0.2)' // 100% 处的颜色\n      }],\n      global: false // 缺省为 false\n    },{\n      type: 'linear',\n      x: 0,\n      y: 0,\n      x2: 0,\n      y2: 1,\n      colorStops: [{\n          offset: 0, color: 'RGBA(209,155,16,0.5)' // 0% 处的颜色\n      }, {\n          offset: 1, color: 'RGBA(209,155,16,0.2)' // 100% 处的颜色\n      }],\n      global: false // 缺省为 false\n    },],\n    series: [{\n        type: 'funnel',\n        sort: 'ascending',\n        data:data\n    }]\n}\n","html":"","externalScripts":"","updaterUID":"bd-1464931953","theme":"","layout":"","viewCount":0,"userName":"承***生","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqIwH4CIuM.png?v=1637063365870","isCustomThumbnail":0,"builtinTags":["category-work","series-funnel"],"customTags":[],"updaterUserName":"承***生"}}