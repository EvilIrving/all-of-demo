{"status":0,"data":{"cid":"xBEa3XyVD","authorUid":"bd-2674457144","authorUserName":"低***h","title":"3d","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2019-11-05T06:59:42.000Z","lastUpdateTime":"2019-11-05T06:59:42.000Z","auth":2,"uid":"bd-2674457144","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-03T03:16:39.000Z","code":"\r\n//各省份的数据\r\nvar allData = [{\r\n    name: '北京'\r\n}, {\r\n    name: '天津'\r\n}, {\r\n    name: '上海'\r\n}, {\r\n    name: '重庆'\r\n}, {\r\n    name: '河北'\r\n}, {\r\n    name: '河南'\r\n}, {\r\n    name: '云南'\r\n}, {\r\n    name: '辽宁'\r\n}, {\r\n    name: '黑龙江'\r\n}, {\r\n    name: '湖南'\r\n}, {\r\n    name: '安徽'\r\n}, {\r\n    name: '山东'\r\n}, {\r\n    name: '新疆'\r\n}, {\r\n    name: '江苏'\r\n}, {\r\n    name: '浙江'\r\n}, {\r\n    name: '江西'\r\n}, {\r\n    name: '湖北'\r\n}, {\r\n    name: '广西'\r\n}, {\r\n    name: '甘肃'\r\n}, {\r\n    name: '山西'\r\n}, {\r\n    name: '内蒙古'\r\n}, {\r\n    name: '陕西'\r\n}, {\r\n    name: '吉林'\r\n}, {\r\n    name: '福建'\r\n}, {\r\n    name: '贵州'\r\n}, {\r\n    name: '广东'\r\n}, {\r\n    name: '青海'\r\n}, {\r\n    name: '西藏'\r\n}, {\r\n    name: '四川'\r\n}, {\r\n    name: '宁夏'\r\n}, {\r\n    name: '海南'\r\n}, {\r\n    name: '台湾'\r\n}, {\r\n    name: '香港'\r\n}, {\r\n    name: '澳门'\r\n}];\r\nfor (var i = 0; i < allData.length; i++) {\r\n    allData[i].value = Math.round(Math.random() * 100);\r\n}\r\n\r\n\r\nloadMap('/asset/get/s/data-1527045631990-r1dZ0IM1X.json', 'china'); //初始化全国地图\r\n\r\nvar timeFn = null;\r\n\r\n\r\n\r\n\r\n// 绑定双击事件，返回全国地图\r\nmyChart.on('dblclick', function(params) {\r\n    //当双击事件发生时，清除单击事件，仅响应双击事件\r\n    clearTimeout(timeFn);\r\n\r\n    //返回全国地图\r\n    loadMap('/asset/get/s/data-1527045631990-r1dZ0IM1X.json', 'china');\r\n});\r\n\r\n/**\r\n 获取对应的json地图数据，然后向echarts注册该区域的地图，最后加载地图信息\r\n @params {String} mapCode:json数据的地址\r\n @params {String} name: 地图名称\r\n */\r\nfunction loadMap(mapCode, name) {\r\n    $.get(mapCode, function(data) {\r\n        if (data) {\r\n            echarts.registerMap(name, data);\r\n            var option = {\r\n                backgroundColor: '#020c4b',\r\n                tooltip: {\r\n                    show: true,\r\n                    formatter: function(params) {\r\n                        if (params.data) return params.name + '：' + params.data['value']\r\n                    },\r\n                },\r\n                visualMap: {\r\n                    type: 'continuous',\r\n                    text: ['', ''],\r\n                    showLabel: true,\r\n                    left: '50',\r\n                    min: 0,\r\n                    max: 100,\r\n                    inRange: {\r\n                        color: ['#2e6bc2', '#3b76c3', '#1c4096']\r\n                    },\r\n                    splitNumber: 0,\r\n                    show: false,\r\n                },\r\n                geo: {\r\n                    map: 'china',\r\n                    aspectScale: 0.75,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'white',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'linear',\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 0,\r\n                                y2: 1,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: 'rgba(46,107,194,0.3)' // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 0.5,\r\n                                        color: 'rgba(59,118,195,0.5)' // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: 'rgba(28,64,150,0.5)' // 50% 处的颜色\r\n                                    }\r\n                                ],\r\n                                global: true // 缺省为 false\r\n                            },\r\n                        },\r\n\r\n                        emphasis: {\r\n                            areaColor: '#2a333d'\r\n                        }\r\n                    },\r\n                    z: 2\r\n                },\r\n                series: [\r\n                    {\r\n\r\n                        name: 'MAP',\r\n                        type: 'map',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                borderColor: 'rgba(147, 235, 248, 0.6)',\r\n                                borderWidth: 0.8,\r\n                                opacity: 1\r\n                            }\r\n                        },\r\n                        mapType: name,\r\n                        data: allData,\r\n                        top: '11%',\r\n                        left: '10%',\r\n                    },\r\n                   \r\n                ]\r\n            };\r\n            myChart.setOption(option);\r\n            // curMap = {\r\n            //     mapCode: mapCode,\r\n            //     mapName: name\r\n            // };\r\n        } else {\r\n            alert('无法加载该地图');\r\n        }\r\n    });\r\n}","html":"","externalScripts":"https://gallery.echartsjs.com/editor.html?c=xiRjaMdKg","updaterUID":"bd-2674457144","theme":"","layout":"","viewCount":2809,"userName":"低***h","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBEa3XyVD.png?v=1575342999692","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"低***h"}}