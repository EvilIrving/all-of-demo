{"status":0,"data":{"cid":"xSJOHQEagM","authorUid":"bd-1795978381","authorUserName":"小丑獨白","title":"年度协议完成情况","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2017-11-30T07:29:04.000Z","lastUpdateTime":"2017-11-30T07:29:04.000Z","auth":2,"uid":"bd-1795978381","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2017-11-30T07:29:04.000Z","code":"var actualAndPlanDataA = [181, 220, '协议总量'];\nvar actualAndPlanDataB = [95, 120, '汽车冷轧板协议量'];\nvar actualAndPlanDataC = [86, 100, '酸洗协议量'];\nvar timeData = ['1701', '1702', '1703', '1704', '1705', '1706', '1707', '1708', '1709', '1710', '1711', '1712'];\ntimeData = timeData.map(function(str) {\n    return str.replace('17', '') + '月';\n});\nvar typeData = ['数据A', '数据B', '数据C'];\nvar dataA = [67, 68, 67, 68, 69, 70, 71, 72, 73, 72, 70, 71];\nvar dataB = [55, 60, 70, 75, 73, 72, 70, 71, 70, 69, 68, 67];\nvar dataC = [45, 54, 64, 80, 57, 66, 62, 49, 55, 59, 63, 59];\noption = {\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        },\n        formatter: function(data) {\n            var _str = \"\";\n            var nameX = data[0].axisValue;\n            var seriesX = data[0].seriesType;\n            console.log(data);\n            if (seriesX == 'line') {\n                _str = nameX + \"<br>\" + data[0].seriesName + \"：\" + data[0].data + \"<br>\" + data[1].seriesName + \"：\" + data[1].data + \"<br>\" + data[2].seriesName + \"：\" + data[2].data;\n            } else {\n                var dataX = [];\n                if (nameX == actualAndPlanDataA[2]) {\n                    dataX = actualAndPlanDataA;\n                } else if (nameX == actualAndPlanDataB[2]) {\n                    dataX = actualAndPlanDataB;\n                } else if (nameX == actualAndPlanDataC[2]) {\n                    dataX = actualAndPlanDataC;\n                }\n                _str = dataX[2] + \"<br>\";\n                _str += \"实际量： \" + dataX[0] + \" 万吨<br>\";\n                _str += \"计划量： \" + dataX[1] + \" 万吨<br>\";\n                _str += \"完成率： \" + (dataX[0] * 100 / dataX[1]).toFixed(2) + \" %<br>\";\n            }\n            return _str;\n        }\n    },\n    legend: [{\n        show: true,\n        bottom: '1%',\n        data: typeData\n    }],\n    grid: [{\n        left: '5%',\n        right: '5%',\n        bottom: '82%',\n        top: '10%'\n    }, {\n        left: '5%',\n        right: '5%',\n        bottom: '69%',\n        top: '23%'\n    }, {\n        left: '5%',\n        right: '5%',\n        bottom: '56%',\n        top: '36%'\n    }, {\n        left: '5%',\n        right: '5%',\n        bottom: '8%',\n        top: '50%'\n    }],\n    xAxis: [{\n        type: 'value',\n        show: false,\n        gridIndex: 0\n    }, {\n        type: 'value',\n        show: false,\n        gridIndex: 1\n    }, {\n        type: 'value',\n        show: false,\n        gridIndex: 2\n    }, {\n        type: 'category',\n        show: true,\n        gridIndex: 3,\n        data: timeData\n    }],\n    yAxis: [{\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 0,\n        data: [actualAndPlanDataA[2]]\n    }, {\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 0,\n        data: [actualAndPlanDataA[2]]\n    }, {\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 1,\n        data: [actualAndPlanDataB[2]]\n    }, {\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 1,\n        data: [actualAndPlanDataB[2]]\n    }, {\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 2,\n        data: [actualAndPlanDataC[2]]\n    }, {\n        type: 'category',\n        show: false,\n        position: \"left\",\n        gridIndex: 2,\n        data: [actualAndPlanDataC[2]]\n    }, {\n        type: 'value',\n        show: true,\n        gridIndex: 3\n    }],\n    graphic: [{\n            type: 'text',\n            z: 100,\n            top: '7%',\n            right: '5%',\n            style: {\n                fill: '#000000',\n                text: actualAndPlanDataA[2] + '：' + actualAndPlanDataA[1] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }, {\n            type: 'text',\n            z: 100,\n            top: '7%',\n            left: '5%',\n            style: {\n                fill: '#000000',\n                text: '当前完成：' + actualAndPlanDataA[0] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }, {\n            type: 'text',\n            z: 100,\n            top: '20%',\n            right: '5%',\n            style: {\n                fill: '#000000',\n                text: actualAndPlanDataB[2] + '：' + actualAndPlanDataB[1] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }, {\n            type: 'text',\n            z: 100,\n            top: '20%',\n            left: '5%',\n            style: {\n                fill: '#000000',\n                text: '当前完成：' + actualAndPlanDataB[0] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }, {\n            type: 'text',\n            z: 100,\n            top: '33%',\n            right: '5%',\n            style: {\n                fill: '#000000',\n                text: actualAndPlanDataC[2] + '：' + actualAndPlanDataC[1] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }, {\n            type: 'text',\n            z: 100,\n            top: '33%',\n            left: '5%',\n            style: {\n                fill: '#000000',\n                text: '当前完成：' + actualAndPlanDataC[0] + '万吨',\n                font: 'bolder 14px Microsoft YaHei'\n            }\n        }\n\n    ],\n    series: [{\n        name: '计划量',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        label: {\n            normal: {\n                show: true,\n                formatter: '100%',\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#aaa'\n            }\n        },\n        data: [100]\n    }, {\n        name: '实际量',\n        type: 'bar',\n        xAxisIndex: 0,\n        yAxisIndex: 1,\n        label: {\n            normal: {\n                show: true,\n                formatter: function(data) {\n                    return actualAndPlanDataA[0] + \" 万吨 (\" + (actualAndPlanDataA[0] * 100 / actualAndPlanDataA[1]).toFixed(2) + \" %) \";\n                },\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#FF7500'\n            }\n        },\n        data: [parseInt(actualAndPlanDataA[0] / actualAndPlanDataA[1] * 100)]\n    }, {\n        name: '计划量',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 2,\n        label: {\n            normal: {\n                show: true,\n                formatter: '100%',\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#aaa'\n            }\n        },\n        data: [100]\n    }, {\n        name: '实际量',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 3,\n        label: {\n            normal: {\n                show: true,\n                formatter: function(data) {\n                    return actualAndPlanDataB[0] + \" 万吨 (\" + (actualAndPlanDataB[0] * 100 / actualAndPlanDataB[1]).toFixed(2) + \" %) \";\n                },\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#4ABFBF'\n            }\n        },\n        data: [parseInt(actualAndPlanDataB[0] / actualAndPlanDataB[1] * 100)]\n    }, {\n        name: '计划量',\n        type: 'bar',\n        xAxisIndex: 2,\n        yAxisIndex: 4,\n        label: {\n            normal: {\n                show: true,\n                formatter: '100%',\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#aaa'\n            }\n        },\n        data: [100]\n    }, {\n        name: '实际量',\n        type: 'bar',\n        xAxisIndex: 2,\n        yAxisIndex: 5,\n        label: {\n            normal: {\n                show: true,\n                formatter: function(data) {\n                    return actualAndPlanDataC[0] + \" 万吨 (\" + (actualAndPlanDataC[0] * 100 / actualAndPlanDataC[1]).toFixed(2) + \" %) \";\n                },\n                position: 'insideRight'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#FFB800'\n            }\n        },\n        data: [parseInt(actualAndPlanDataC[0] / actualAndPlanDataC[1] * 100)]\n    }, {\n        name: typeData[0],\n        type: 'line',\n        symbolSize: 8,\n        xAxisIndex: 3,\n        yAxisIndex: 6,\n        hoverAnimation: false,\n        data: dataA,\n        itemStyle: {\n            normal: {\n                barBorderRadius: 0,\n            }\n        }\n    }, {\n        name: typeData[1],\n        type: 'line',\n        symbolSize: 8,\n        xAxisIndex: 3,\n        yAxisIndex: 6,\n        hoverAnimation: false,\n        data: dataB,\n        itemStyle: {\n            normal: {\n                barBorderRadius: 0,\n            }\n        }\n    }, {\n        name: typeData[2],\n        type: 'line',\n        symbolSize: 8,\n        xAxisIndex: 3,\n        yAxisIndex: 6,\n        hoverAnimation: false,\n        data: dataC,\n        itemStyle: {\n            normal: {\n                barBorderRadius: 0,\n            }\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1795978381","theme":"default","layout":"","viewCount":260,"userName":"小丑獨白","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJOHQEagM.png?v=1512026944219","isCustomThumbnail":0,"builtinTags":["category-work","graphic","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"小丑獨白"}}