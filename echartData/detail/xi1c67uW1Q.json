{"status":0,"data":{"cid":"xi1c67uW1Q","authorUid":"bd-136977688","authorUserName":"kosmos1991","title":"单条柱状图测试","description":"单条柱状图","latestVersion":1,"alwaysLatest":1,"createTime":"2019-06-13T02:13:57.000Z","lastUpdateTime":"2019-06-13T02:13:57.000Z","auth":2,"uid":"bd-136977688","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-13T02:13:57.000Z","code":"option = {\n    title: {\n        text: '单条柱状图测试',\n        subtext: '单条柱状图'\n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    legend: {\n        data: ['测试']\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            mark: {\n                show: true\n            },\n            dataView: {\n                show: true,\n                readOnly: false\n            },\n            magicType: {\n                show: true,\n                type: ['line', 'bar']\n            },\n            restore: {\n                show: true\n            },\n            saveAsImage: {\n                show: true\n            }\n        }\n    },\n    calculable: true,\n    xAxis: [{\n        type: 'category',\n        data: getDateArr(14)\n    }],\n    yAxis: [{\n        type: 'value'\n    }],\n    series: [{\n        name: '数据',\n        type: 'bar',\n        data: getRndArr(14),\n        markPoint: {\n            data: [{\n                    type: 'max',\n                    name: '最大值'\n                },\n                {\n                    type: 'min',\n                    name: '最小值'\n                }\n            ]\n        },\n        markLine: {\n            data: [{\n                type: 'average',\n                name: '平均值'\n            }]\n        }\n    }]\n};\n\n// 获取日期集合\nfunction getDateArr(day) {\n    dateArr = [];\n    for (i = 0; i < day; i++) {\n        dateArr.unshift(getDay(-i))\n    }\n    return dateArr;\n}\n\n// 获取日期\nfunction getDay(day) {\n    var today = new Date();\n    var targetday_milliseconds = today.getTime() + 1000 * 60 * 60 * 24 * day;\n    today.setTime(targetday_milliseconds); //注意，这行是关键代码\n    var tYear = today.getFullYear();\n    var tMonth = today.getMonth();\n    var tDate = today.getDate();\n    tMonth = doHandleMonth(tMonth + 1);\n    tDate = doHandleMonth(tDate);\n    return tMonth + \"-\" + tDate;\n}\n\n// 日期补0\nfunction doHandleMonth(month) {\n    var m = month;\n    if (month.toString().length == 1) {\n        m = \"0\" + month;\n    }\n    return m;\n}\n\n// 获取随机数集合\nfunction getRndArr(day) {\n    dateArr = [];\n    for (i = 0; i < day; i++) {\n        dateArr.unshift(RndNum(3))\n    }\n    return dateArr;\n}\n\n//产生随机数函数\nfunction RndNum(n) {\n    var rnd = \"\";\n    for (var i = 0; i < n; i++)\n        rnd += Math.floor(Math.random() * 10);\n    return rnd;\n}","html":"","externalScripts":"","updaterUID":"bd-136977688","theme":"","layout":"","viewCount":94,"userName":"kosmos1991","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xi1c67uW1Q.png?v=1560392038106","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","markPoint","series-bar","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"kosmos1991"}}