{"status":0,"data":{"cid":"xSyTNy2v_m","authorUid":"bd-1031056","authorUserName":"小***米","title":"","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-09-13T09:34:45.000Z","lastUpdateTime":"2018-09-13T09:34:45.000Z","auth":2,"uid":"bd-1031056","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-21T01:24:05.000Z","code":"\tvar uploadedDataURL = \"https://www.easy-mock.com/mock/5b23695ff3c9fb2931a37f75/example/ruzhou\";\r\n \r\n\t\t$.getJSON(uploadedDataURL, function(geoJson) {\r\n\t\t\techarts.registerMap('shanghai', geoJson);\r\n\t\t\tmyChart.hideLoading();\r\n\t\t\tvar geoCoordMap = {\r\n\t\t\t\t'汝州市': [112.7275390625,33.95703125],\r\n\t\t\t\t \r\n\t\t\t}\r\n\t\t\tvar data = [{\r\n\t\t\t\tname: '汝州市',\r\n\t\t\t\tvalue: 219\r\n\t\t\t}];\r\n\t\t\tvar max = 1000,\r\n\t\t\t\tmin = 0; // todo \r\n\t\t\tvar maxSize4Pin = 100,\r\n\t\t\t\tminSize4Pin = 0;\r\n\r\n\t\t\tvar convertData = function(data) {\r\n\t\t\t\tvar res = [];\r\n\t\t\t\tfor(var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tvar geoCoord = geoCoordMap[data[i].name];\r\n\t\t\t\t\tif(geoCoord) {\r\n\t\t\t\t\t\tres.push({\r\n\t\t\t\t\t\t\tname: data[i].name,\r\n\t\t\t\t\t\t\tvalue: geoCoord.concat(data[i].value)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn res;\r\n\t\t\t};\r\n\r\n\t\t\toption = {\r\n\t\t\t\tbackgroundColor: '#173b84',\r\n\t\t\t\t \r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'item',\r\n\t\t\t\t\tbackgroundColor: 'rgba(12, 204, 104, 0.92)',\r\n\t\t\t\t\tborderColor: '#FFFFCC',\r\n\t\t\t\t\tshowDelay: 0,\r\n\t\t\t\t\thideDelay: 0,\r\n\t\t\t\t\tenterable: true,\r\n\t\t\t\t\ttransitionDuration: 0,\r\n\t\t\t\t\textraCssText: 'z-index:100',\r\n\t\t\t\t\tformatter: function(params, ticket, callback) {\r\n\t\t\t\t\t\t//根据业务自己拓展要显示的内容\r\n\t\t\t\t\t\tvar res = \"\";\r\n\t\t\t\t\t\tvar name = params.name;\r\n\t\t\t\t\t\tvar value = params.value;\r\n\t\t\t\t\t\tres = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\torient: 'vertical',\r\n\t\t\t\t\ttop: 'top',\r\n\t\t\t\t\tleft: 'right',\r\n\t\t\t\t\tdata: ['credit_pm2.5'],\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tvisualMap: {\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tmin: 0,\r\n\t\t\t\t\tmax: 1000,\r\n\t\t\t\t\tleft: 'left',\r\n\t\t\t\t\ttop: 'bottom',\r\n\t\t\t\t\ttext: ['高', '低'], // 文本，默认为数值文本\r\n\t\t\t\t\tcalculable: true,\r\n\t\t\t\t\tseriesIndex: [1],\r\n\t\t\t\t\tdimension: 0,\r\n\t\t\t\t\tinRange: {\r\n\t\t\t\t\t\tcolor: ['#9074c3', '#4487d5', '#7e9e8e', '#51a2c2'] // 随机区域颜色\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgeo: {\r\n\t\t\t\t\tmap: 'shanghai',\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\troam: true, //是否允许缩放\r\n\t\t\t\t\tlayoutCenter: ['50%', '50%'], //地图位置\r\n\t\t\t\t\tlayoutSize: \"80%\",\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tborderColor: '#173b84'\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tareaColor: '#f9d24d' // 经过颜色\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tseries: [{\r\n\t\t\t\t\tname: 'credit_pm2.5',\r\n\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\tdata: convertData(data),\r\n\t\t\t\t\tsymbolSize: function(val) {\r\n\t\t\t\t\t\treturn val[2] / 30;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tformatter: '{b}',\r\n\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\tcolor: '#000',\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: '#05C3F9'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttype: 'map',\r\n\t\t\t\t\tmap: 'shanghai',\r\n\t\t\t\t\tgeoIndex: 0,\r\n\t\t\t\t\taspectScale: 0.75, //长宽比\r\n\t\t\t\t\tshowLegendSymbol: false, // 存在legend时显示\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\troam: true,\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tareaColor: '#031525',\r\n\t\t\t\t\t\t\tborderColor: '#3B5077',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tareaColor: '#2B91B7'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tanimation: false,\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t\tmyChart.setOption(option);\r\n\r\n\t\t});\r\n\t","html":"","externalScripts":"https://www.easy-mock.com/mock/5b23695ff3c9fb2931a37f75/example/ruzhou","updaterUID":"bd-1031056","theme":"","layout":"","viewCount":255,"userName":"小***米","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyTNy2v_m.png?v=1561080245973","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-map","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"小***米"}}