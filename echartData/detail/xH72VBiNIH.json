{"status":0,"data":{"cid":"xH72VBiNIH","authorUid":"bd-3259090913","authorUserName":"b***m","title":"深度分析","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-09-19T07:55:29.000Z","lastUpdateTime":"2019-09-19T07:55:29.000Z","auth":2,"uid":"bd-3259090913","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.3.0","versionCreateTime":"2019-09-19T07:55:29.000Z","code":"// 左右两侧的数据个数要一样(positive 和 negative), 如果不一样会排列不整齐, 数量少的用空字符串代替 \nvar positive = ['未汇总前确认疑点数量', '未汇总前指向分析确认情况' ];\nvar negative = ['汇总后确认疑点数量', '汇总后疑点描述异常数量'];\nvar good = [50, 28];\nvar bad = [-50, -28];\n\nfunction xAxisFn(i) {\n    return {\n        type: 'value',\n        gridIndex: i || 0,\n        // min: 0,\n        // max: 100,\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        }\n    }\n}\n\n// 控制文字显示的和对齐方法之一\nfunction yAxisFn(idx, data, bool) {\n    // 这种对齐方法，自适应方面无适应, 需要另外写, 因此最好用第二种方法 typesetting()\n    function isWho() {\n        var obj = {\n            show: true,\n            color: '#fff',\n            fontSize: 14,\n        };\n        if (bool) {\n            // 右对齐\n            obj.align = 'right';\n            obj.padding = [0, -380, 0, 0];\n            obj.verticalAlign = 'bottom';\n            obj.lineHeight = 58;\n        } else {\n            // 左对齐\n            obj['align'] = 'left';\n            obj['padding'] = [0, 0, 0, 25];\n            obj['verticalAlign'] = 'bottom';\n            obj['lineHeight'] = 58;\n        }\n        return obj\n    }\n    return {\n        type: 'category',\n        gridIndex: idx || 0,\n        inverse: true,\n        data: data || '',\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisLabel: isWho()\n    }\n}\noption = {\n    backgroundColor: '#0e4b86',\n    color: ['#46b2d5', '#c165e3'],\n    title: {\n        text: '行为看板',\n        top: 15,\n        left: 20,\n        padding: [7, 21],\n        backgroundColor: '#3256a9',\n        borderColor: '#3c62c0',\n        borderWidth: 1,\n        textStyle: {\n            color: '#fff',\n            fontSize: 14\n        }\n    },\n    legend: {\n        orient: 'horizontal', // 'vertical'\n        top: 15,\n        right: '5%',\n        data: ['未汇总前', '汇总后'],\n        itemWidth: 20,\n        itemHeight: 20,\n        itemGap: 25, // 例间距\n        textStyle: {\n            fontSize: 14,\n            color: '#fff'\n        }\n    },\n    tooltip: {\n        show: true,\n        trigger: 'axis',\n        axisPointer: {\n            type: \"none\" // shadow\n        },\n        textStyle: {\n            fontSize: 20\n        },\n        formatter: function(a) {\n            var v = a[0];\n            if (!v.name) return\n            return v.name + '<br/>' + v.marker + v.seriesName + '：' + Math.abs(v.value);\n        }\n    },\n    // 滚动条\n    xAxis: [xAxisFn(0), xAxisFn(1)],\n    yAxis: [yAxisFn(0, positive, 1), yAxisFn(1, negative, 0)],\n    grid: [{\n            width: '40%',\n            left: '8%',\n            height: '80%',\n            gridIndex: 0,\n        },\n        {\n            width: '40%',\n            left: '50%',\n            height: '80%',\n            gridIndex: 1,\n        }\n    ],\n    series: [\n        seriesFn('未汇总前', 0, bad, [30, 0, 0, 30], 1),\n        seriesFn('汇总后', 1, good, [0, 30, 30, 0], 0)\n    ]\n};\n\n/**\n * \n * @param name    name\n * @param idx     xAxisIndex / yAxisIndex\n * @param data    data 数据\n * @param radius  barBorderRadius\n * @param bool    布尔值 1 / 0, 控制文字顶部左 / 右对齐显示\n */\nfunction seriesFn(name, idx, data, radius, bool) {\n    return {\n        name: name || '',\n        type: 'bar',\n        barGap: '30%',\n        barWidth: '20',\n        xAxisIndex: idx || 0,\n        yAxisIndex: idx || 0,\n        itemStyle: {\n            normal: {\n                barBorderRadius: radius,\n                borderWidth: 0\n            }\n        },\n        label: typesetting(bool),\n        data: data || '',\n        // zlevel: 5\n    }\n}\n\n// 定义文字排版方式之方法二\nfunction typesetting(bool) {\n    var obj = {\n        show: true,\n        color: 'red',\n        fontSize: 15,\n        formatter: '{b}',\n    };\n    if (bool) {\n        // 右边\n        obj.align = 'right';\n        obj.padding = [0, 10, 100, 0];\n        obj.position = 'right';\n        // obj.formatter = function(v) {}\n    } else {\n        // 左边\n        obj['align'] = 'left';\n        obj['padding'] = [0, 0, 100, 10];\n        obj['position'] = 'left';\n        // obj['formatter'] = function(v) {}\n    }\n    return obj\n}","html":"","externalScripts":"","updaterUID":"bd-3259090913","theme":"","layout":"","viewCount":106,"userName":"b***m","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH72VBiNIH.png?v=1568879729923","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"b***m"}}