{"status":0,"data":{"cid":"xlbjLnL0t","authorUid":"bd-3695957236","authorUserName":"剔***j","title":"多个饼图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-01-06T07:56:46.000Z","lastUpdateTime":"2020-01-06T07:56:46.000Z","auth":2,"uid":"bd-3695957236","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-06T08:00:54.000Z","code":"\r\nlet chart = [\r\n  {\r\n    name: '城区大队',\r\n    value: 40.6 // 百分比\r\n  },\r\n  {\r\n    name: '江东大队',\r\n    value: 30 // 百分比\r\n  },\r\n  {\r\n    name: '滨海大队',\r\n    value: 40 // 百分比\r\n  },\r\n  {\r\n    name: '江北大队',\r\n    value: 60 // 百分比\r\n  },\r\n  {\r\n    name: '滨海大队',\r\n    value: 80 // 百分比\r\n  },\r\n  {\r\n    name: '江北大队',\r\n    value: 10.9 // 百分比\r\n  }\r\n]\r\nlet startAngle = [90, 270, 90, 270] // 起始角度\r\nlet centerX = [12.5, 37.5, 62.5, 87.5] // 每个圆心的x位置\r\nlet centerY = [50, 40, 50, 40] // 每个圆心的Y位置\r\n\r\nlet seriesAll = []\r\nchart.forEach((item, i) => {\r\n  if (i < 4) {\r\n    let pie = {\r\n      name: '',\r\n      type: 'pie',\r\n      z: 10,\r\n      radius: ['20%', '22%'],\r\n      center: [`${centerX[i]}%`, `${centerY[i]}%`],\r\n      startAngle: startAngle[i],\r\n      avoidLabelOverlap: false,\r\n      data: [{\r\n        value: chart[i].value,\r\n        name: chart[i].name,\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '{b} : {c} ({d}%)'\r\n        },\r\n        label: {\r\n          show: false\r\n        },\r\n        labelLine: {\r\n          show: false\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: false\r\n          },\r\n          labelLine: {\r\n            show: false\r\n          }\r\n        }\r\n      },\r\n      {\r\n        value: 100 - chart[i].value,\r\n        name: '',\r\n        itemStyle: {\r\n          color: 'transparent'\r\n        },\r\n        tooltip: {\r\n          show: false\r\n        },\r\n        label: {\r\n          show: false\r\n        },\r\n        labelLine: {\r\n          show: false\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: false\r\n          },\r\n          labelLine: {\r\n            show: false\r\n          }\r\n        }\r\n      },\r\n      {\r\n      // 指示线\r\n        name: chart[i].name,\r\n        value: 0,\r\n        tooltip: {\r\n          show: false\r\n        },\r\n        itemStyle: {\r\n          color: 'transparent'\r\n        },\r\n        labelLine: {\r\n          show: true,\r\n          length: 30,\r\n          length2: 3,\r\n          color: '#B1BCD2',\r\n          lineStyle: {\r\n            color: '#B1BCD2'\r\n          }\r\n        },\r\n        label: {\r\n          color: '#B1BCD2',\r\n          fontSize: 12,\r\n          position: 'outside'\r\n        }\r\n      }\r\n      ]\r\n\r\n    }\r\n    let gauge = {\r\n      name: '',\r\n      z: -1,\r\n      type: 'gauge',\r\n      radius: '22%',\r\n      center: [`${centerX[i]}%`, `${centerY[i]}%`],\r\n      startAngle: 0,\r\n      endAngle: 359.9,\r\n      splitNumber: 30,\r\n      title: {\r\n        show: false\r\n      },\r\n      // 中间的百分比\r\n      detail: {\r\n        formatter: '{value}%',\r\n        offsetCenter: [0, 0],\r\n        color: '#fff',\r\n        fontSize: 16,\r\n        fontStyle: 'italic',\r\n        fontFamily: 'DINPro-Light'\r\n      },\r\n      pointer: {\r\n        show: false\r\n      },\r\n      axisTick: {\r\n        show: false\r\n      },\r\n      axisLine: {\r\n        show: false\r\n      },\r\n      splitLine: {\r\n        show: true,\r\n        length: 1,\r\n        lineStyle: {\r\n          width: 6,\r\n          color: '#fff'\r\n        }\r\n      },\r\n      axisLabel: {\r\n        show: false\r\n      },\r\n      data: [{\r\n        value: chart[i].value,\r\n        name: chart[i].name\r\n      }]\r\n    }\r\n\r\n    seriesAll.push(pie)\r\n    seriesAll.push(gauge)\r\n  }\r\n})\r\n\r\noption = {\r\n    backgroundColor: '#000',\r\n  color: '#fff',\r\n  tooltip: {\r\n    trigger: 'item',\r\n    formatter: '{b} : {c} ({d}%)'\r\n  },\r\n  title: {\r\n    left: '10%',\r\n    bottom: '8%',\r\n    text: [`{a|${chart[4].name}}{b|${chart[4].value}}{c|%}`, `{d|${chart[5].name}}{b|${chart[5].value}}{c|%}`].join(''),\r\n    textStyle: {\r\n      rich: {\r\n        a: {\r\n          color: '#fff',\r\n          fontSize: 12,\r\n          padding: [0, 10, 0, 0]\r\n        },\r\n        b: {\r\n          color: '#fff',\r\n          fontSize: 16,\r\n          fontStyle: 'italic',\r\n          fontFamily: 'DINPro-Light',\r\n          padding: [0, 3, 0, 0]\r\n        },\r\n        c: {\r\n          color: '#fff',\r\n          fontSize: 12\r\n        },\r\n        d: {\r\n          color: '#fff',\r\n          fontSize: 12,\r\n          padding: [0, 10, 0, 100]\r\n        }\r\n      }\r\n    }\r\n  },\r\n  // calculable: true,\r\n  series: seriesAll\r\n  // [\r\n  //   {\r\n  //     name: '',\r\n  //     type: 'pie',\r\n  //     radius: ['35%', '37%'],\r\n  //     center: ['12.5%', '50%'],\r\n  //     startAngle: startAngle[0],\r\n  //     data: [{\r\n  //       value: chart[0].value,\r\n  //       name: chart[0].name,\r\n  //       label: {\r\n  //         color: '#B1BCD2',\r\n  //         fontSize: 12,\r\n  //         position: 'indide'\r\n  //       }\r\n  //     },\r\n  //     {\r\n  //       value: 100 - chart[0].value,\r\n  //       name: '',\r\n  //       itemStyle: {\r\n  //         color: 'transparent'\r\n  //       }\r\n  //     },\r\n    // {\r\n    //   // 指示线\r\n    //     name: chart[0].name,\r\n    //     value: 0,\r\n    //     tooltip: {\r\n    //       show: false\r\n    //     },\r\n    //     itemStyle: {\r\n    //       color: 'transparent'\r\n    //     },\r\n    //     labelLine: {\r\n    //       show: true,\r\n    //       length: 30,\r\n    //       length2: 3,\r\n    //       color: '#B1BCD2',\r\n    //       lineStyle: {\r\n    //         color: '#B1BCD2'\r\n    //       }\r\n    //     },\r\n    //     label: {\r\n    //       color: '#B1BCD2',\r\n    //       fontSize: 12,\r\n    //       position: 'outside'\r\n    //     }\r\n    //   }\r\n  //     ]\r\n  //   },\r\n  //   {\r\n  //     name: '',\r\n  //     z: -1,\r\n  //     type: 'gauge',\r\n  //     radius: '37%',\r\n  //     center: ['12.5%', '50%'],\r\n  //     startAngle: 0,\r\n  //     endAngle: 359.9,\r\n  //     splitNumber: 30,\r\n  //     title: {\r\n  //       show: false\r\n  //     },\r\n  //     // 中间的百分比\r\n  //     detail: {\r\n  //       formatter: '{value}%',\r\n  //       offsetCenter: [0, 0],\r\n  //       color: '#fff',\r\n  //       fontSize: 16,\r\n  //       fontStyle: 'italic',\r\n  //       fontFamily: 'DINPro-Light'\r\n  //     },\r\n  //     pointer: {\r\n  //       show: false\r\n  //     },\r\n  //     axisTick: {\r\n  //       show: false\r\n  //     },\r\n  //     axisLine: {\r\n  //       show: false\r\n  //     },\r\n  //     splitLine: {\r\n  //       show: true,\r\n  //       length: 1,\r\n  //       lineStyle: {\r\n  //         width: 6,\r\n  //         color: '#fff'\r\n  //       }\r\n  //     },\r\n  //     axisLabel: {\r\n  //       show: false\r\n  //     },\r\n  //     data: [{\r\n  //       value: chart[0].value,\r\n  //       name: chart[0].name\r\n  //     }]\r\n  //   }\r\n  // ]\r\n}\r\n","html":"","externalScripts":"","updaterUID":"bd-3695957236","theme":"","layout":"","viewCount":1062,"userName":"剔***j","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlbjLnL0t.png?v=1578297654168","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"剔***j"}}