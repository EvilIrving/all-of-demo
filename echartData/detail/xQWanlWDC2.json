{"status":0,"data":{"cid":"xQWanlWDC2","authorUid":"bd-1006967428","authorUserName":"w***7","title":"完美金字塔效果漏斗图（通过高度展示数据差异）","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2021-03-30T08:23:15.000Z","lastUpdateTime":"2021-11-04T08:21:14.000Z","auth":2,"uid":"bd-1006967428","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-04T08:21:14.000Z","code":"data = [\n    {value: (Math.random()*100).toFixed(0), name: '访问'},\n    {value: (Math.random()*100).toFixed(0), name: '咨询'},\n    {value: (Math.random()*100).toFixed(0), name: '订单'},\n    {value: (Math.random()*100).toFixed(0), name: '点击'},\n    {value: (Math.random()*100).toFixed(0), name: '展现'}\n]\nlet sum = eval(data.map(item => item.value).join('+'))\nlet addUp = 0\nlet minHeight = 2 //最小高度\nlet top = 5\ndata = data.map(item => {\n    let itemValue = 0\n    if (item.value / sum * 100 < minHeight) itemValue = minHeight\n    else itemValue = (item.value / sum * 100)\n    top += itemValue\n    return {\n        value: addUp += itemValue,\n        name: item.name,\n        realValue: item.value,\n        itemStyle: {\n            height: `${itemValue}%`\n        }\n    }\n})\noption = {\n    backgroundColor: '#2b2a38',\n    color: [\"#5470c6\", \"#91cc75\", \"#fac858\", \"#ee6666\", \"#73c0de\", \"#3ba272\", \"#fc8452\", \"#9a60b4\", \"#ea7ccc\"],\n    series: [{\n        type: 'funnel',\n        sort: 'ascending',\n        top: `${top - 100}%`,\n        label: {\n            show: true,\n            color: '#eee',\n            fontSize: 16,\n            overflow: 'break',\n        },\n        labelLine: {\n            length: 20,\n            lineStyle: {\n                width: 1,\n                type: 'solid'\n            }\n        },\n        data\n    }]\n}","html":"","externalScripts":"","updaterUID":"bd-1006967428","theme":"","layout":"","viewCount":69,"userName":"w***7","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQWanlWDC2.png?v=1636014074450","isCustomThumbnail":0,"builtinTags":["category-work","series-funnel"],"customTags":[],"updaterUserName":"w***7"}}