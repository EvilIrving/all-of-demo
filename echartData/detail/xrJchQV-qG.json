{"status":0,"data":{"cid":"xrJchQV-qG","authorUid":"bd-442035385","authorUserName":"小***了","title":"Contribution to debt-at-risk by sector","description":"In percent of total debt-at-risk","latestVersion":6,"alwaysLatest":1,"createTime":"2018-03-22T13:46:26.000Z","lastUpdateTime":"2018-03-22T13:46:26.000Z","auth":2,"uid":"bd-442035385","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.0.4","versionCreateTime":"2018-04-10T14:58:13.000Z","code":"var mydata=[100,22,20,15,13,11,9,4,3,2,1];//请在这里填入你的数据，一个是总的，其余是子项\n//注意！！mydata中的数据应满足关系mydata[0]=sum(mydata[1:1+len(mydata)\n//也就是第一项等于后面所有数据之和，否则会出错\nvar auxdata=[0];\nfunction sum(data){\n    var x=0;\n    for(var i=0;i<data.length;i++){\n        x=x+data[i]\n    };\n    return x\n}\n\n// });\nfor(var i=1;i<mydata.length;i++){\n    auxdata.push(mydata[0]-sum(mydata.slice(1,i+1)))\n};\nvar xAxisdata=['Overal','Real estate','Manufacturing','Retail','Mining','Steel','Transportation','IT','Construction Material','Utilities','Energy']\n\noption = {\n    title: [{\n        text: 'Contribution to debt-at-risk by sector',\n        subtext: 'In percent of total debt-at-risk',\n        // sublink: 'http://e.weibo.com/1341556070/AjQH99che'\n    },\n    {\n        text:'Data source: Wojciech Maliszewski, et al., 2016',\n        textStyle:{\n            fontWeight:'light'\n        },\n        top:'bottom'\n    }],\n    toolbox:{\n        \n        feature:{\n            magicType:{\n                type:['line','bar']\n            },\n            saveAsImage:{\n                show:true,\n                pixelRatio:5\n            }\n        }\n    },\n    tooltip : {\n        trigger: 'axis',\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n        },\n        formatter: function (params) {\n            var tar = params[1];\n            return tar.name  + ' : ' + tar.value+'%';\n        }\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis: {\n        type : 'category',\n        splitLine: {show:false},\n        axisLabel:{\n            interval:0,\n            rotate:45\n        },\n        data:xAxisdata\n        // data : ['总费用','房租','水电费','交通费','伙食费','日用品数']\n    },\n    yAxis: {\n        type : 'value'\n    },\n    series: [\n        {\n            name: '辅助',\n            type: 'bar',\n            stack:  '总量',\n            itemStyle: {\n                normal: {\n                    barBorderColor: 'rgba(0,0,0,0)',\n                    color: 'rgba(0,0,0,0)'\n                },\n                emphasis: {\n                    barBorderColor: 'rgba(0,0,0,0)',\n                    color: 'rgba(0,0,0,0)'\n                }\n            },\n            data:auxdata\n        },\n        {\n            // name: '',\n            type: 'bar',\n            stack: '总量',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'inside',\n                    formatter:\"{c}%\"\n                }\n            },\n            data:mydata\n        }\n    ]\n};\n","html":"","externalScripts":"","updaterUID":"bd-442035385","theme":"","layout":"","viewCount":170,"userName":"小***了","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrJchQV-qG.png?v=1523372293896","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"小***了"}}