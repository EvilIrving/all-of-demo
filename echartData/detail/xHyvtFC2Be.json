{"status":0,"data":{"cid":"xHyvtFC2Be","authorUid":"bd-185067617","authorUserName":"x***m","title":"单数据展示","description":"单个数据展示，同时展示环比增长","latestVersion":4,"alwaysLatest":1,"createTime":"2017-01-06T08:46:54.000Z","lastUpdateTime":"2017-01-06T10:46:15.000Z","auth":2,"uid":"bd-185067617","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"3.3.2","versionCreateTime":"2017-01-06T11:02:02.000Z","code":"var mainData = [];\nmainData.push({\n    name: '充值收入',\n    value: 342305,\n    prevalue: 382305,\n    hismax: 455898\n});\nmainData.push({\n    name: '包月收入',\n    value: 1332042,\n    prevalue: 1552305,\n    hismax: 1896900\n});\nmainData.push({\n    name: '道具消费',\n    value: 305652,\n    prevalue: 323305,\n    hismax: 446783\n});\nmainData.push({\n    name: '新增用户',\n    value: 31861,\n    prevalue: 30805,\n    hismax: 77598\n});\nmainData.push({\n    name: '活跃用户',\n    value: 114553,\n    prevalue: 120105,\n    hismax: 145898\n});\n\nfunction createSeries(mainData) {\n    var result = [];\n    var insideLabel = {\n        normal: {\n            position: 'center',\n            formatter: function(params) {\n                if (params.name == \"other\")\n                    return \"\";\n                return params.value + '\\n' + params.name;\n            },\n            textStyle: {\n                fontStyle: 'normal',\n                fontWeight: 'normal',\n                fontSize: 18\n            }\n        }\n    };\n    var outsideLabel = {\n        normal: {\n            show: false\n        }\n    };\n    var itemOthers = {\n        normal: {\n            color: '#ccc'\n        }\n    };\n    for (var i = 0; i < mainData.length; i++) {\n    \t\tvar increase = mainData[i].value > mainData[i].prevalue;\n        result.push({\n            type: 'pie',\n            center: [i * 20 + 10 + '%', '30%'],\n            radius: ['15%', '18%'],\n            label: insideLabel,\n            data: [{\n                name: 'other',\n                value: mainData[i].hismax - mainData[i].value,\n                itemStyle: itemOthers\n            }, {\n                name: mainData[i].name,\n                value: mainData[i].value,\n                prevalue: mainData[i].prevalue\n            }],\n            markPoint: {\n            data: [{\n                        symbol: 'triangle',\n                        symbolSize: 15,\n                        symbolRotate: increase ? 0 : 180,\n                        itemStyle: {\n                            normal: {\n                                color: increase ? 'red' : 'green'\n                            }\n                        },\n                        name: mainData[i].name,\n                        value: ((mainData[i].value - mainData[i].prevalue) * 100 / mainData[i].prevalue).toFixed(2) + '%',\n                        x: myChart.getWidth() * (i + 0.5) / 5 - 15,\n                        y: myChart.getHeight() * 0.45 + 15,\n                        label: {\n                            normal: {\n                                show: true,\n                                position: 'right',\n                                formatter: function(params) {\n                                    return params.value;\n                                },\n                                textStyle: {\n                                    color: increase ? 'red' : 'green'\n                                }\n                            }\n                        },\n                    }\n            ]\n        }\n        });\n    }\n    return result;\n}\noption = {\n    title: {\n        text: '关键指标',\n        subtext: '这是你最关心的数据了吧？',\n        x: 'left'\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataView: {\n                show: true,\n                readOnly: true\n            },\n            restore: {\n                show: true\n            },\n            saveAsImage: {\n                show: true\n            }\n        }\n    },\n    series: createSeries(mainData)\n}","html":"","externalScripts":"","updaterUID":"bd-185067617","theme":"macarons","layout":"","viewCount":22808,"userName":"x***m","commentCount":4,"starCount":69,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHyvtFC2Be.png?v=1483700523434","isCustomThumbnail":0,"builtinTags":["category-work","markPoint","series-pie","title","toolbox"],"customTags":["markpoint","pie","单数据"],"updaterUserName":"x***m"}}