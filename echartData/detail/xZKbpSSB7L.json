{"status":0,"data":{"cid":"xZKbpSSB7L","authorUid":"bd-2890925003","authorUserName":"Y***D","title":"定时切换视图","description":"使用定时器实现toolbox切换视图效果","latestVersion":3,"alwaysLatest":1,"createTime":"2018-10-16T10:26:27.000Z","lastUpdateTime":"2018-10-16T10:26:27.000Z","auth":2,"uid":"bd-2890925003","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-04T02:15:36.000Z","code":"  var option = {\r\n    backgroundColor:'#000',  \r\n    color:['#6D54F4','#00B0FF','#EFE722','#FFA21D','#00D386','#59EBE8','#2CC4C6','#95706D','#F57474','#FF9080','#E5AFA7'],\r\n    tooltip : {\r\n        trigger: 'axis'\r\n    },\r\n    calculable : true,\r\n    legend: {\r\n        bottom:'5%',\r\n        itemGap:16,\r\n        textStyle:{\r\n            color:'#fff',\r\n            fontSize:12\r\n        },\r\n        data:['项目申报','咨询洽谈','项目代办','项目服务','项目初审','联合评审','项目发布']\r\n    },\r\n    xAxis : [\r\n        {\r\n            type : 'category',\r\n            splitLine : {show : false},\r\n            axisLabel: {\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                    color: '#fff'\r\n                }\r\n            },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle:{\r\n                    color:'#ADAFB7'\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            data :[\"02月\",\"03月\",\"04月\",\"05月\",\"06月\",\"07月\",\"08月\",\"09月\"]\r\n        }\r\n    ],\r\n    yAxis : [\r\n        {\r\n            type : 'value',\r\n            splitLine : {show : false},\r\n            axisLabel: {\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                    color: '#fff'\r\n                }\r\n            },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle:{\r\n                    color:'#ADAFB7'\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            position: 'right'\r\n        }\r\n    ],\r\n    grid: {\r\n        left: '1%',\r\n        right: '3.2%',\r\n        bottom: '15%',\r\n        top: '25%',\r\n        containLabel: true\r\n    },\r\n    series : [\r\n        {\r\n            name:'项目申报',\r\n            type:'bar',\r\n            barMaxWidth:60,\r\n            itemStyle:{\r\n                normal:{\r\n                    barBorderRadius:10\r\n                }\r\n            },\r\n            data:[0,0,0,0,24,38,4,1]\r\n        },\r\n        {\r\n            name:'咨询洽谈',\r\n            type:'bar',\r\n            barMaxWidth:60,\r\n            itemStyle:{\r\n                normal:{\r\n                    barBorderRadius:10\r\n                }\r\n            },\r\n            stack: '咨询洽谈',\r\n            tooltip : {trigger: 'item'},\r\n            data:[1,3,10,12,4,3,1,4]\r\n        },\r\n        {\r\n            name:'项目代办',\r\n            type:'bar',\r\n            barMaxWidth:60,\r\n            itemStyle:{\r\n                normal:{\r\n                    barBorderRadius:10\r\n                }\r\n            },\r\n            tooltip : {trigger: 'item'},\r\n            stack: '咨询洽谈',\r\n            data:[1,3,10,12,4,3,1,4]\r\n        },\r\n        {\r\n            name:'项目服务',\r\n            type:'bar',\r\n            barMaxWidth:60,\r\n            itemStyle:{\r\n                normal:{\r\n                    barBorderRadius:10\r\n                }\r\n            },\r\n            tooltip : {trigger: 'item'},\r\n            stack: '咨询洽谈',\r\n            data:[1,3,10,12,4,3,1,4]\r\n        },\r\n        {\r\n            name:'项目初审',\r\n            type:'line',\r\n            barMaxWidth:60,\r\n            data:[13,2,0,32,3,4,1,4]\r\n        },\r\n        {\r\n            name:'联合评审',\r\n            type:'line',\r\n            barMaxWidth:60,\r\n            data:[1,3,10,12,4,3,1,4]\r\n        },\r\n        {\r\n            name:'项目发布',\r\n            type:'line',\r\n            barMaxWidth:60,\r\n            data:[1,3,13,12,21,3,2,4]\r\n        }\r\n    ]\r\n};\r\n var key = 0;\r\n setInterval(function() {\r\n    if(key>3){\r\n        key=0;\r\n    }\r\n    switch (key){\r\n        case 0:\r\n            $.each(option.series,function (index, value) {\r\n                if(index<4){\r\n                    value.type = 'line'\r\n                }\r\n            });\r\n            break;\r\n        case 1:\r\n            $.each(option.series,function (index, value) {\r\n                if(index<4){\r\n                    value.type = 'bar';\r\n                    value.stack='项目申报';\r\n                }\r\n            });\r\n            break;\r\n        case 2:\r\n            $.each(option.series,function (index, value) {\r\n                if(index<4){\r\n                    value.stack = '';\r\n                    value.type = 'bar'\r\n                }\r\n            });\r\n            break;\r\n        case 3:\r\n            $.each(option.series,function (index, value) {\r\n                if(index==0){\r\n                    value.stack = '';\r\n                    value.type = 'bar'\r\n                }else if(index<4){\r\n                    value.stack = '咨询洽谈';\r\n                    value.type = 'bar'\r\n                }\r\n            });\r\n            break\r\n    }\r\n    key++;\r\n    myChart.setOption(option, true);\r\n},3000);","html":"","externalScripts":"","updaterUID":"bd-2890925003","theme":"","layout":"","viewCount":260,"userName":"Y***D","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZKbpSSB7L.png?v=1562206536270","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"Y***D"}}