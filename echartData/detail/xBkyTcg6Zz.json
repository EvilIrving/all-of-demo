{"status":0,"data":{"cid":"xBkyTcg6Zz","authorUid":"bd-2166094446","authorUserName":"乔***1","title":"测试          ","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2017-12-12T06:44:06.000Z","lastUpdateTime":"2017-12-12T06:44:06.000Z","auth":2,"uid":"bd-2166094446","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.8.0","versionCreateTime":"2017-12-12T07:22:02.000Z","code":"var timelist = ['0:01', '0:02', '0:03', '0:04', '0:05', '0:06', '0:07', '0:08', '0:09', '1:00', '1:01', '1:02', '1:03', '1:04', '1:05', '1:06', '1:07', '1:08', '1:09', '1:10'];\r\nvar vallist = [0, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 1, 1.5, 1.6, 2, 2.5, 2.3, -2.5, -1.5, -1.2, -0.8, -0.9, -1, -0];\r\nvar normalSpeed = 2.5;\r\nvar obj = {\r\n    \"timeList\": [\"13:42:26\", \"13:43:06\", \"13:42:30\", \"13:42:32\", \"13:42:34\", \"13:42:36\", \"13:42:38\", \"13:42:40\", \"13:42:42\", \"13:42:44\", \"13:42:28\", \"13:42:48\", \"13:42:50\", \"13:42:52\", \"13:42:54\", \"13:42:56\", \"13:42:58\", \"13:43:00\", \"13:43:02\", \"13:43:04\", \"13:42:46\"],\r\n    \"dataList\": [{\r\n        \"value\": \"0.37\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 3,\r\n        \"doorStr\": \"关门\",\r\n        \"time\": \"13:42:26\"\r\n    }, {\r\n        \"value\": \"1.44\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 14,\r\n        \"doorStr\": \"正在开\",\r\n        \"time\": \"13:43:06\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"2.37\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 23,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:42:30\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"1.89\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 18,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:42:32\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"0.61\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 6,\r\n        \"doorStr\": \"关门\",\r\n        \"time\": \"13:42:34\"\r\n    }, {\r\n        \"value\": \"0.81\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 8,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:36\"\r\n    }, {\r\n        \"value\": \"1.31\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 13,\r\n        \"doorStr\": \"正在开\",\r\n        \"time\": \"13:42:38\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"2.35\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 23,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:42:40\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"1.25\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 12,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:42\"\r\n    }, {\r\n        \"value\": \"1.61\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 16,\r\n        \"doorStr\": \"正在开\",\r\n        \"time\": \"13:42:44\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"0.78\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 7,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:28\"\r\n    }, {\r\n        \"value\": \"2.35\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 23,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:42:48\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"1.02\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 10,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:50\"\r\n    }, {\r\n        \"value\": \"1.67\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 16,\r\n        \"doorStr\": \"正在开\",\r\n        \"time\": \"13:42:52\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"0.84\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 8,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:54\"\r\n    }, {\r\n        \"value\": \"1.14\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 11,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:42:56\"\r\n    }, {\r\n        \"value\": \"0.21\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 2,\r\n        \"doorStr\": \"关门\",\r\n        \"time\": \"13:42:58\"\r\n    }, {\r\n        \"value\": \"0.85\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 8,\r\n        \"doorStr\": \"正在关\",\r\n        \"time\": \"13:43:00\"\r\n    }, {\r\n        \"value\": \"2.24\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 22,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:43:02\",\r\n        \"symbol\": \"circle\"\r\n    }, {\r\n        \"value\": \"0.38\",\r\n        \"hasPeople\": \"无人\",\r\n        \"floor\": 3,\r\n        \"doorStr\": \"关门\",\r\n        \"time\": \"13:43:04\"\r\n    }, {\r\n        \"value\": \"2.27\",\r\n        \"hasPeople\": \"有人\",\r\n        \"floor\": 22,\r\n        \"doorStr\": \"开门\",\r\n        \"time\": \"13:42:46\",\r\n        \"symbol\": \"circle\"\r\n    }],\r\n    \"markPointList\": [{\r\n        \"value\": 3,\r\n        \"coord\": [\"13:42:26\", \"0.37\"]\r\n    }, {\r\n        \"value\": 14,\r\n        \"coord\": [\"13:43:06\", \"1.44\"]\r\n    }, {\r\n        \"value\": 23,\r\n        \"coord\": [\"13:42:30\", \"2.37\"]\r\n    }, {\r\n        \"value\": 18,\r\n        \"coord\": [\"13:42:32\", \"1.89\"]\r\n    }, {\r\n        \"value\": 6,\r\n        \"coord\": [\"13:42:34\", \"0.61\"]\r\n    }, {\r\n        \"value\": 8,\r\n        \"coord\": [\"13:42:36\", \"0.81\"]\r\n    }, {\r\n        \"value\": 13,\r\n        \"coord\": [\"13:42:38\", \"1.31\"]\r\n    }, {\r\n        \"value\": 23,\r\n        \"coord\": [\"13:42:40\", \"2.35\"]\r\n    }, {\r\n        \"value\": 12,\r\n        \"coord\": [\"13:42:42\", \"1.25\"]\r\n    }, {\r\n        \"value\": 16,\r\n        \"coord\": [\"13:42:44\", \"1.61\"]\r\n    }, {\r\n        \"value\": 7,\r\n        \"coord\": [\"13:42:28\", \"0.78\"]\r\n    }, {\r\n        \"value\": 23,\r\n        \"coord\": [\"13:42:48\", \"2.35\"]\r\n    }, {\r\n        \"value\": 10,\r\n        \"coord\": [\"13:42:50\", \"1.02\"]\r\n    }, {\r\n        \"value\": 16,\r\n        \"coord\": [\"13:42:52\", \"1.67\"]\r\n    }, {\r\n        \"value\": 8,\r\n        \"coord\": [\"13:42:54\", \"0.84\"]\r\n    }, {\r\n        \"value\": 11,\r\n        \"coord\": [\"13:42:56\", \"1.14\"]\r\n    }, {\r\n        \"value\": 2,\r\n        \"coord\": [\"13:42:58\", \"0.21\"]\r\n    }, {\r\n        \"value\": 8,\r\n        \"coord\": [\"13:43:00\", \"0.85\"]\r\n    }, {\r\n        \"value\": 22,\r\n        \"coord\": [\"13:43:02\", \"2.24\"]\r\n    }, {\r\n        \"value\": 3,\r\n        \"coord\": [\"13:43:04\", \"0.38\"]\r\n    }, {\r\n        \"value\": 22,\r\n        \"coord\": [\"13:42:46\", \"2.27\"]\r\n    }, {\r\n        \"symbol\": \"rect\",\r\n        \"coord\": [\"13:42:46\", \"0.37\"],\r\n        \"symbolSize\": [35, 20],\r\n        \"value\": \"有人\"\r\n    }]\r\n}\r\n\r\nvar option = {\r\n    grid: {\r\n        left: '1%',\r\n        right: '10%',\r\n        bottom: '3%',\r\n        top: '4%',\r\n        containLabel: true\r\n    },\r\n    dataZoom: {\r\n        maxValueSpan: 2,\r\n        minValueSpan: 2,\r\n        startValue: obj.timeList[0],\r\n        endValue: obj.timeList[2],\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        name: '时间',\r\n        boundaryGap: false,\r\n        nameGap: 5,\r\n        axisLine: {\r\n            onZero: false,\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        // data: timelist\r\n        data:obj.timeList,\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        name: '速度\\n m/s',\r\n        boundaryGap: false,\r\n        nameGap: 5,\r\n        min: (-normalSpeed*1.25).toFixed(2),\r\n        max: (normalSpeed*1.25).toFixed(2),\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            formatter: '{value}'\r\n        }\r\n    },\r\n    series: [{\r\n        type: 'line',\r\n        lineStyle: {\r\n            normal: {\r\n                color: \"blue\",\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: \"red\",\r\n            }\r\n        },\r\n        data:obj.dataList,\r\n        markPoint: {\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: true,\r\n                        position: 'inside',\r\n                        distance: 0,\r\n                        fontSize: 12,\r\n                        color:'#000',\r\n                        //backgroundColor: 'transparent',\r\n                        formatter: function(param) {\r\n                            if (param.value)\r\n                                return param.value;\r\n                            else\r\n                                return 'B';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            data: [],\r\n        }\r\n    }, ]\r\n};\r\n\r\nmyChart.on('dataZoom', function(param) {\r\n    var i = Math.ceil(param.start / 100 *obj.timeList.length)\r\n    var e = parseInt(param.end / 100 *obj.timeList.length)\r\n    console.log(e)\r\n    console.log([obj.timeList[e], obj.dataList[e]]);\r\n    myChart.setOption({\r\n        series: [{\r\n            markPoint: {\r\n                data: [{\r\n                    coord: [obj.timeList[i], obj.dataList[i].value],\r\n                    value: obj.dataList[i].floor,\r\n                    symbol: 'circle',\r\n                    symbolSize: 20,\r\n                    itemStyle:{\r\n                        normal:{\r\n                            borderColor:'rgb(255,0,0)',\r\n                            color:obj.dataList[i].hasPeople=='有人'?'rgba(255,0,0,1)':'rgba(255,255,255,1)',\r\n                        }\r\n                    }\r\n                },{\r\n                    coord: [obj.timeList[e], (normalSpeed*1.25).toFixed(2)],\r\n                    value:obj.dataList[e].doorStr,\r\n                    symbol: 'rect',\r\n                    symbolSize: [40,25],\r\n                }]\r\n            }\r\n        }]\r\n    })\r\n})","html":"","externalScripts":"","updaterUID":"bd-2166094446","theme":"","layout":"","viewCount":323,"userName":"乔***1","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkyTcg6Zz.png?v=1513063322230","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","markPoint","series-line"],"customTags":[],"updaterUserName":"乔***1"}}