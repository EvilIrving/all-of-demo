{"status":0,"data":{"cid":"xyKb5--Gwg","authorUid":"bd-2400219193","authorUserName":"t***哥","title":"武汉市天气预报","description":"武汉市天气预报","latestVersion":3,"alwaysLatest":1,"createTime":"2018-12-26T12:56:12.000Z","lastUpdateTime":"2018-12-26T12:56:12.000Z","auth":2,"uid":"bd-2400219193","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-26T17:21:58.000Z","code":"var data = {\r\n    \"time\": \"2018-12-26 13:20:01\",\r\n    \"cityInfo\": {\r\n        \"city\": \"武汉市\",\r\n        \"cityId\": \"101200101\",\r\n        \"parent\": \"湖北\",\r\n        \"updateTime\": \"13:04\"\r\n    },\r\n    \"date\": \"20181226\",\r\n    \"message\": \"Success !\",\r\n    \"status\": 200,\r\n    \"data\": {\r\n        \"shidu\": \"95%\",\r\n        \"pm25\": 63.0,\r\n        \"pm10\": 70.0,\r\n        \"quality\": \"良\",\r\n        \"wendu\": \"4\",\r\n        \"ganmao\": \"极少数敏感人群应减少户外活动\",\r\n        \"yesterday\": {\r\n            \"date\": \"25\",\r\n            \"sunrise\": \"07:17\",\r\n            \"high\": \"高温 7.0℃\",\r\n            \"low\": \"低温 5.0℃\",\r\n            \"sunset\": \"17:27\",\r\n            \"aqi\": 98.0,\r\n            \"ymd\": \"2018-12-25\",\r\n            \"week\": \"星期二\",\r\n            \"fx\": \"北风\",\r\n            \"fl\": \"<3级\",\r\n            \"type\": \"小雨\",\r\n            \"notice\": \"雨虽小，注意保暖别感冒\"\r\n        },\r\n        \"forecast\": [{\r\n            \"date\": \"26\",\r\n            \"sunrise\": \"07:18\",\r\n            \"high\": \"高温 7.0℃\",\r\n            \"low\": \"低温 4.0℃\",\r\n            \"sunset\": \"17:28\",\r\n            \"aqi\": 54.0,\r\n            \"ymd\": \"2018-12-26\",\r\n            \"week\": \"星期三\",\r\n            \"fx\": \"北风\",\r\n            \"fl\": \"4-5级\",\r\n            \"type\": \"小雨\",\r\n            \"notice\": \"雨虽小，注意保暖别感冒\"\r\n        }, {\r\n            \"date\": \"27\",\r\n            \"sunrise\": \"07:18\",\r\n            \"high\": \"高温 5.0℃\",\r\n            \"low\": \"低温 0.0℃\",\r\n            \"sunset\": \"17:29\",\r\n            \"aqi\": 43.0,\r\n            \"ymd\": \"2018-12-27\",\r\n            \"week\": \"星期四\",\r\n            \"fx\": \"北风\",\r\n            \"fl\": \"4-5级\",\r\n            \"type\": \"小雨\",\r\n            \"notice\": \"雨虽小，注意保暖别感冒\"\r\n        }, {\r\n            \"date\": \"28\",\r\n            \"sunrise\": \"07:18\",\r\n            \"high\": \"高温 2.0℃\",\r\n            \"low\": \"低温 -2.0℃\",\r\n            \"sunset\": \"17:29\",\r\n            \"aqi\": 40.0,\r\n            \"ymd\": \"2018-12-28\",\r\n            \"week\": \"星期五\",\r\n            \"fx\": \"东北风\",\r\n            \"fl\": \"4-5级\",\r\n            \"type\": \"阴\",\r\n            \"notice\": \"不要被阴云遮挡住好心情\"\r\n        }, {\r\n            \"date\": \"29\",\r\n            \"sunrise\": \"07:19\",\r\n            \"high\": \"高温 1.0℃\",\r\n            \"low\": \"低温 -2.0℃\",\r\n            \"sunset\": \"17:30\",\r\n            \"aqi\": 67.0,\r\n            \"ymd\": \"2018-12-29\",\r\n            \"week\": \"星期六\",\r\n            \"fx\": \"北风\",\r\n            \"fl\": \"3-4级\",\r\n            \"type\": \"阴\",\r\n            \"notice\": \"不要被阴云遮挡住好心情\"\r\n        }, {\r\n            \"date\": \"30\",\r\n            \"sunrise\": \"07:19\",\r\n            \"high\": \"高温 1.0℃\",\r\n            \"low\": \"低温 -5.0℃\",\r\n            \"sunset\": \"17:31\",\r\n            \"aqi\": 110.0,\r\n            \"ymd\": \"2018-12-30\",\r\n            \"week\": \"星期日\",\r\n            \"fx\": \"北风\",\r\n            \"fl\": \"3-4级\",\r\n            \"type\": \"多云\",\r\n            \"notice\": \"阴晴之间，谨防紫外线侵扰\"\r\n        }]\r\n    }\r\n};\r\n\r\n//console.log(data);\r\n//console.log(data.data.forecast);\r\n//console.log(data.data.forecast.map(x=>x.week));\r\nconsole.log(data.data.forecast.map(x=>x.low));\r\nvar h = data.data.forecast.map(x=>parseInt(x.low.substr(3)));\r\nconsole.log(h);\r\n\r\n//parseFloat(\"07:18\".replace(/:/g,'.'))\r\n\r\noption = {\r\n    backgroundColor: '#424956',\r\n    title: {\r\n        text: data.cityInfo.city +'天气预报',\r\n        textStyle: {\r\n            fontWeight: 'normal',\r\n            fontSize: 16,\r\n            color: '#F1F1F3'\r\n        },\r\n        left: '6%'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        }\r\n    },\r\n    legend: {\r\n        icon: 'rect',\r\n        itemWidth: 20,\r\n        itemHeight: 16,\r\n        itemGap: 13,\r\n        data: ['空气质量', '高温', '低温', '日出', '日落'],\r\n        right: '4%',\r\n        textStyle: {\r\n            fontSize: 16,\r\n            color: '#292f39'\r\n        }\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        axisLine: {\r\n            onZero:false,\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n        data: data.data.forecast.map(x=>x.week)\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        //min: -10,\r\n        max: 40,\r\n        name: '单位（℃）',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            margin: 10,\r\n            textStyle: {\r\n                fontSize: 14\r\n            }\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        }\r\n    },{\r\n            type: 'value',//'time',\r\n            name: '单位（PPI）',\r\n            //max: 500,\r\n            //min: 0,\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        }],\r\n    series: [{\r\n        name: '空气质量',\r\n        type: 'line',\r\n        yAxisIndex: 1,\r\n        smooth: true,\r\n        symbol: 'circle',\r\n        symbolSize: 5,\r\n        showSymbol: false,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 2\r\n            }\r\n        },\r\n        areaStyle: {\r\n            normal: {\r\n                origin:'end',\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: 'rgba(235,235,21, 0.8)'\r\n                }, {\r\n                    offset: 0.8,\r\n                    color: 'rgba(16,97,204, 0.8)'\r\n                }], false),\r\n                shadowColor: 'rgba(0, 0, 0, 0.1)',\r\n                shadowBlur: 10\r\n            }\r\n        },\r\n        itemStyle: {\r\n                normal: {\r\n                    \r\n                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                        offset: 0,\r\n                        color: 'rgba(16,97,204,1)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(235,235,21,1)'\r\n                    }])\r\n                },\r\n                emphasis: {\r\n                color: 'rgb(0,196,132)',\r\n                borderColor: 'rgba(0,196,132,0.2)',\r\n                extraCssText: 'box-shadow: 8px 8px 8px rgba(0, 0, 0, 1);',\r\n                borderWidth: 10\r\n            }\r\n            },\r\n        data:data.data.forecast.map(x=>x.aqi)\r\n    }, {\r\n        name: '高温',\r\n        type: 'line',\r\n        //stack: '温度',\r\n        smooth: true,\r\n        symbol: 'circle',\r\n        symbolSize: 5,\r\n        showSymbol: false,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 2\r\n            }\r\n        },\r\n        areaStyle: {\r\n            normal: {\r\n                origin:'start',//填充x轴到线段的区域，非y=0到线的区域\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: 'rgba(205,52,42, 0.8)'\r\n                }, {\r\n                    offset: 1,\r\n                    color: 'rgba(235,235,21, 0)'\r\n                }], false),\r\n                //shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                //shadowBlur: 10\r\n            },\r\n        },\r\n        itemStyle: {\r\n                normal: {\r\n                     \r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 0,\r\n                        color: 'rgba(205,52,42,1)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(235,235,21,1)'\r\n                    }])\r\n                },\r\n                emphasis: {\r\n                color: 'rgb(99,250,235)',\r\n                borderColor: 'rgba(99,250,235,0.2)',\r\n                extraCssText: 'box-shadow: 8px 8px 8px rgba(0, 0, 0, 1);',\r\n                borderWidth: 10\r\n            }\r\n            },\r\n        data:data.data.forecast.map(x=>parseInt(x.high.substr(3)))\r\n    },{\r\n        name: '低温',\r\n        type: 'line',\r\n        //stack: '温度',\r\n        smooth: true,\r\n        symbol: 'circle',\r\n        symbolSize: 5,\r\n        showSymbol: false,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 2\r\n            }\r\n        },\r\n        areaStyle: {\r\n            normal: {\r\n                origin:'start',\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: '#424956'//填充背景色//'rgba(205,52,42, 1)'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#424956'//'rgba(235,235,21, 0)'\r\n                }], false),\r\n                //shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                //shadowBlur: 10\r\n            },\r\n        },\r\n        itemStyle: {\r\n                normal: {\r\n                     \r\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                        offset: 0,\r\n                        color: 'rgba(205,52,42,1)'\r\n                    }, {\r\n                        offset: 1,\r\n                        color: 'rgba(235,235,21,1)'\r\n                    }])\r\n                },\r\n                emphasis: {\r\n                color: 'rgb(99,250,235)',\r\n                borderColor: 'rgba(99,250,235,0.2)',\r\n                extraCssText: 'box-shadow: 8px 8px 8px rgba(0, 0, 0, 1);',\r\n                borderWidth: 10\r\n            }\r\n            },\r\n        data:data.data.forecast.map(x=>parseInt(x.low.substr(3)))\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2400219193","theme":"","layout":"","viewCount":118,"userName":"t***哥","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyKb5--Gwg.png?v=1545844918800","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":["天气预报"],"updaterUserName":"t***哥"}}