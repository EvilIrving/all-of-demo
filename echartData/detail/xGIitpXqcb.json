{"status":0,"data":{"cid":"xGIitpXqcb","authorUid":"bd-2633018513","authorUserName":"阿***y","title":"AxisLabel过长解决方案 - 悬浮显示","description":"超出部分显示...,鼠标移入悬浮框显示全部","latestVersion":3,"alwaysLatest":1,"createTime":"2019-06-14T07:41:48.000Z","lastUpdateTime":"2019-06-14T07:41:48.000Z","auth":2,"uid":"bd-2633018513","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-06-18T04:19:07.000Z","code":"//1、设置triggerEvent: true,\n//2、设置axisLabel->formatter指定显示...\n//3、调用hAxisLabel(myChart,\"bottom | top\",\"y | x | xy\");\n\nlet option = {\n    xAxis: {\n        triggerEvent: true,\n        type: 'value'\n\n    },\n    yAxis: {\n        triggerEvent: true,\n        type: 'category',\n        data: ['测试列名测试萨达萨达', '哈哈哈哈哈哈哈哈哈', '巴巴爸爸巴巴爸爸', '发反反复复反反复复', '发反反复复反反复复反复发啊', '萨达萨达萨达萨达', '萨达萨达其实达阿斯顿'],\n        axisLabel: {\n            formatter: function(value) {\n                var res = value;\n                if (res.length > 5) {\n                    res = res.substring(0, 4) + \"...\";\n                }\n                return res;\n            }\n        }\n\n    },\n    series: [{\n        data: [120, 200, 150, 80, 70, 110, 130],\n        type: 'bar'\n    }]\n};\nmyChart.setOption(option);\n\n//调用方法启用悬浮框\nhAxisLabel(myChart, \"bottom\", \"y\");\n\n\nfunction hAxisLabel(mychart, position, axis) {\n    var id = document.getElementById(\"hAxisLabelContainer\");\n    if (!id) {\n        var div = \"<div id='hAxisLabelContainer' sytle='display:none'></div>\"\n        $('html').append(div);\n    }\n    mychart.on('mouseover', function(params) {\n        if (axis == \"x\" ? params.componentType == \"xAxis\" : (axis == \"y\" ? params.componentType == \"yAxis\" : (params.componentType == \"yAxis\" || params.componentType == \"xAxis\"))) {\n            $('#hAxisLabelContainer').css({\n                \"position\": \"absolute\",\n                \"color\": \"white\",\n                \"font-size\": \"14px\",\n                \"padding\": \"4px 8px\",\n                \"display\": \"inline\",\n                \"background\": \"#2b2a2a\",\n                \"border-radius\": \"4px\",\n                \"opacity\": \"0.9\",\n                \"transition\": \"all .2s ease\"\n            }).text(params.value);\n\n            $(\"html\").mousemove(function(event) {\n\n                var _x = event.pageX - 30;\n                var _y = 0;\n                switch (position) {\n                    case 'top':\n                        _y = event.pageY - 40;\n                        break;\n                    case 'bottom':\n                        _y = event.pageY + 20;\n                        break;\n                    default:\n                        _y = event.pageY + 20;\n                        break;\n                }\n                $('#hAxisLabelContainer').css('top', _y).css('left', _x);\n            });\n        }\n    });\n\n    mychart.on('mouseout', function(params) {\n        if (axis == \"x\" ? params.componentType == \"xAxis\" : (axis == \"y\" ? params.componentType == \"yAxis\" : (params.componentType == \"yAxis\" || params.componentType == \"xAxis\"))) {\n            $('#hAxisLabelContainer').css('display', 'none');\n        }\n    });\n\n};","html":"","externalScripts":"","updaterUID":"bd-2633018513","theme":"","layout":"","viewCount":143,"userName":"阿***y","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xGIitpXqcb.png?v=1560498109102","isCustomThumbnail":1,"builtinTags":["category-work","grid","series-bar"],"customTags":["axislabel","柱状图"],"updaterUserName":"阿***y"}}