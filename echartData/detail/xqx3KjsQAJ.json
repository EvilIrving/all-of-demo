{"status":0,"data":{"cid":"xqx3KjsQAJ","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"学分完成度总览","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2020-12-10T06:57:59.000Z","lastUpdateTime":"2020-12-10T06:57:59.000Z","auth":1,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-10T08:01:44.000Z","code":"var legendPic = [\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAoUlEQVQoU3WQMQ7CMAxFv3uKngpGRNodjgRCDAxMDExIDCycpjlFP3JsV0klssSJv5+/LeOXG8w4A+gJQADorUdjABkdDjJ+OBHoIxEi11qBIMvwpuW8vMSB1m/6c3iRS68as4olPZ3Y+mp8lgbpYcQyRD1JY1KF94pY+6y9KijdTLieNuBRK/srJ/Ed/p1F17O7cCszTipehIGx1WR2OP4AFEs5r21vmJwAAAAASUVORK5CYII=',\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAo0lEQVQoU2NkYGBg+H+h+ygDA4PVfwYGBkaQAAQcYzQotQYxwGL/z7b/R1YAYoMAk3ElWB5M/DvZ+J+RgZEBovA/w3+QMON/BiazeoSi/0erwSbBAEgGxGeybkUy6UDJf5gEkloGJoceJEW7c6EGITmb4T8Dk+tkJEXb0iGK0Ixj8pqJpGhTIrKT4DYy+c1HUrQ+BhxOYFmwF8FGHmMKXAIOJwASljQK0K70AgAAAABJRU5ErkJggg==',\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABz0lEQVQ4T21STUsbURQ9dzIJVjTB+BWDJbiogqsmWUjVAVPtKqDi2i4U/R2O/8OPhd36CVmptH5EXdjElRBcSKiIRtswKiJJZm55b2bQSN5m5t1zz33n3nsItY6uKxjtD0lo6+gGum69T6OqQGY3AsIciCbAHJAYkQHGGpjnERvOu/mvxOz2EEAbAAfADixQ8S+zyAB4HNFvv+RNpqRTEXzwZMFocoMtXp8EC+WSXUVcCEWwGUUsmbeJv1NLxJgSYKe3Dj+6PkNrCEro4OkfJi/PcFV6cZRj2YonpwmsK3QaKwLsF8hezwC0xuaq1vcf/yKRS9sdEBkczwQJp6sdikXXItas+nAbTTr6X7mCEMqmcF+xZVsKh21ixZTEFtWHm/hYbWJmE/dOv5bqCUupnpPuIgC/6P5n71do/rYqqQcPBSTOd50hkWH25YJyOMrxypLCPCUkdfrqsfJpEJq/XSYePhQweXGIq9KzO91l88v3aWcdCxEP1CyB5TrEafXWye9d2Z6mOAwqmqhEMTDjrEOWXkyowIYt2XWA+wjABKNi8Ti02TcGcEumFyJei+cYPAEg4NjGIMJ6mRRdvOSmVnvVjQqTj3y0Tb7zp6bJ/wPnvaE10CeFfwAAAABJRU5ErkJggg==',\n]\n\nvar color = [\n    new echarts.graphic.LinearGradient(0,1,0,0,[{\n        offset:0,\n        color:'#5998FF'\n    },{\n        offset:1,\n        color:'#5CC0FF'\n    }]),\n    new echarts.graphic.LinearGradient(0,0,1,0,[{\n        offset:0,\n        color:'transparent'\n    },{\n        offset:0.33,\n        color:'transparent'\n    },{\n        offset:0.33,\n        color:'#FFD18C'\n    },{\n        offset:0.66,\n        color:'#FFD18C'\n    },{\n        offset:0.66,\n        color:'transparent'\n    },{\n        offset:1,\n        color:'transparent'\n    }]),\n    new echarts.graphic.LinearGradient(0,1,0,0,[{\n        offset:0,\n        color:'#05C399'\n    },{\n        offset:1,\n        color:'#00D0BF'\n    }])\n]\nvar data = [\n    {\n        name:'公必',\n        barValue1:85,\n        barValue2:70,\n    },\n    {\n        name:'公选',\n        barValue1:90,\n        barValue2:66,\n    },\n    {\n        name:'专必',\n        barValue1:95,\n        barValue2:88,\n    },\n    {\n        name:'专选',\n        barValue1:80,\n        barValue2:10,\n    }\n]\n\n\nvar barData1 = []\nvar barData2 = []\nvar lineData = []\nvar xData = []\ndata.map((item,index)=>{\n    xData.push(item.name)\n    barData1.push(item.barValue1)\n    barData2.push(item.barValue2)\n    let percent = item.barValue2 / item.barValue1 * 100\n    lineData.push(parseInt(percent))\n})\n\n\noption = {\n    tooltip:{\n        trigger:'axis',\n        axisPointer:{type:'shadow'},\n        formatter:params=>{\n            let colorList= ['#5998FF','#FEAD5A','#05C399']\n            console.log(params)\n            let html = `${params[0].axisValue}<br/>`\n            params.map((item,index)=>{\n                html+=`\n                <span style='display:inline-block;width:10px;height:10px;\n                border-radius:5px;background-color:${colorList[index]};\n                margin-right:10px'></span>${item.seriesName}：${item.value}${item.seriesName == '完成度'?'%':''}<br/>`\n            })\n            return html\n        }\n    },\n    grid:{\n        left:0,\n        right:0,\n        bottom:0,\n        top:100,\n        containLabel:true\n    },\n    legend:{\n        right:0,\n        top:16,\n        itemWidth:10,\n        itemHeight:10,\n        data:[{\n            name:'毕业要求',\n            icon:'image://' + legendPic[0]\n        },{\n            name:'已获学分',\n            icon:'image://' + legendPic[1]\n        },{\n            name:'完成度',\n            icon:'image://' + legendPic[2]\n        }]\n    },\n    title: {\n        text: 'Awesome Chart',\n        show:false\n    },\n    xAxis: {\n        data: xData,\n        axisTick:{\n            show:false\n        }\n    },\n    yAxis: [\n        {\n        name:'学分',\n        nameTextStyle:{\n            align:'left'\n        },\n        axisTick:{\n            show:false\n        },\n        position:'left',\n    },\n    {\n        name:'完成度（%）',\n        nameTextStyle:{\n            align:'right'\n        },\n        max:100,\n        axisTick:{\n            show:false\n        },\n        position:'right',\n        axislabel:{\n            show:true,\n            formatter:name=>{\n                return name\n            }\n        }\n    }],\n    series: [\n        {\n        name:'毕业要求',\n        type: 'bar',\n        barWidth:18,\n        data:barData1,\n        yAxisIndex:0,\n        itemStyle:{\n            normal:{\n                barBorderRadius:[4,4,0,0],\n                color:color[0]\n            }\n        },\n        silent:true,\n    },\n    {\n        name:'已获学分',\n        type: 'bar',\n        yAxisIndex:0,\n        barWidth:18,\n        barGap:'-100%',\n        data:barData2,\n        itemStyle:{\n            normal:{\n                color:color[1]\n            }\n        },\n        silent:true,\n    },\n    {\n        name:'完成度',\n        type: 'line',\n        barWidth:18,\n        yAxisIndex:1,\n        symbolSize:10,\n        data:lineData,\n        itemStyle:{\n            normal:{\n                barBorderRadius:[4,4,0,0],\n                color:color[2],\n                borderColor:color[2],\n                borderWidth:3,\n                shadowColor:'#79FFDB',\n                shadowBlur:10,\n            }\n        },\n        lineStyle:{\n            shadowBlur:10,\n            shadowColor:'#79FFDB',\n        },\n        silent:true,\n    }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1275590612","theme":"","layout":"","viewCount":83,"userName":"m***h","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqx3KjsQAJ.png?v=1607587304234","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title"],"customTags":[],"updaterUserName":"n***2"}}