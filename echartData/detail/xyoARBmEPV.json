{"status":0,"data":{"cid":"xyoARBmEPV","authorUid":"obd-oCutVpdOdxqlXJT8JCaC62Xw9FpNk3X","authorUserName":"d***_","title":"自定义箱线（盒须）图","description":"median中间线显示红色","latestVersion":1,"alwaysLatest":1,"createTime":"2020-04-09T07:43:55.000Z","lastUpdateTime":"2020-04-09T07:43:55.000Z","auth":2,"uid":"obd-oCutVpdOdxqlXJT8JCaC62Xw9FpNk3X","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-09T07:43:55.000Z","code":"var categoriesData = [\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"10-11\",\n    \"12-13\",\n    \"14-15\",\n    \"16-17\",\n    \"18-19\",\n    \"20-21\",\n    \"22-23\",\n    \"24-25\",\n    \"26-27\",\n    \"28-29\",\n    \"30-31\",\n    \"32-33\",\n    \"34-35\",\n    \"36-37\",\n    \"38-39\",\n    \"40-41\",\n    \"42-43\",\n    \"44-45\",\n    \"46-47\",\n    \"48-49\",\n    \"50-51\",\n    \"52-53\",\n    \"54-55\",\n    \"56-57\",\n    \"58-59\",\n    \"60-61\",\n    \"62-63\",\n    \"64-65\",\n    \"66-67\",\n    \"68-69\",\n    \"70-71\",\n    \"72-73\",\n    \"74-75\",\n    \"76-77\",\n    \"78-79\",\n    \"80-81\",\n    \"82-83\",\n    \"84-85\",\n    \"86-87\",\n    \"88-89\",\n    \"90-91\",\n    \"92-93\",\n    \"94-95\",\n    \"96-97\",\n    \"98-99\",\n    \"100\"\n];\n\nvar linData = [\n    35.15688695,\n    35.05785223,\n    35.41450258,\n    35.31449621,\n    35.29405077,\n    35.29098498,\n    35.25484405,\n    35.32074449,\n    35.33945524,\n    35.34495752,\n    35.33298174,\n    35.34450173,\n    35.25584673,\n    35.25009758,\n    35.25760263,\n    35.25029594,\n    35.25357455,\n    35.25292988,\n    35.24190923,\n    35.24855361,\n    35.25751518,\n    35.24395406,\n    35.21913497,\n    35.23429356,\n    35.22799208,\n    35.21981542,\n    35.17491939,\n    35.19809343,\n    35.16045844,\n    35.17314991,\n    35.12567705,\n    35.08522805,\n    35.13668647,\n    35.13086139,\n    35.10383238,\n    35.09184483,\n    35.0377321,\n    35.05584316,\n    35.03669199,\n    35.0111326,\n    34.99126164,\n    34.95815795,\n    34.92552087,\n    34.90279856,\n    34.89361009,\n    34.86985957,\n    34.80858431,\n    34.79667853,\n    34.76920976,\n    34.73779041,\n    34.70014761,\n    34.66465765,\n    34.57309265,\n    34.59683816,\n    34.4193949\n\n];\n\nvar plotData = [\n    [\"1\",30, 35, 37, 37, 38],\n    [\"2\",30, 35, 37, 37, 37],\n    [\"3\",31, 36, 37, 37, 38],\n    [\"4\",31, 36, 37, 37, 38],\n    [\"5\",37, 37, 37, 37, 37],\n    [\"6\",31, 36, 37, 37, 38],\n    [\"7\",31, 36, 37, 37, 38],\n    [\"8\",31, 36, 37, 37, 38],\n    [\"9\",31, 36, 37, 37, 38],\n    [\"10-11\",31, 36, 37, 37, 38],\n    [\"12-13\",31, 36, 37, 37, 38],\n    [\"14-15\",31, 36, 37, 37, 38],\n    [\"16-17\",31, 36, 37, 37, 38],\n    [\"18-19\",31, 36, 37, 37, 38],\n    [\"20-21\",31, 36, 37, 37, 38],\n    [\"22-23\",31, 36, 37, 37, 38],\n    [\"24-25\",31, 36, 37, 37, 38],\n    [\"26-27\",31, 36, 37, 37, 38],\n    [\"28-29\",31, 36, 37, 37, 38],\n    [\"30-31\",31, 36, 37, 37, 38],\n    [\"32-33\",31, 36, 37, 37, 38],\n    [\"34-35\",31, 36, 37, 37, 38],\n    [\"36-37\",31, 36, 37, 37, 38],\n    [\"38-39\",31, 36, 37, 37, 38],\n    [\"40-41\",31, 36, 37, 37, 38],\n    [\"42-43\",31, 36, 37, 37, 38],\n    [\"44-45\",30, 36, 37, 37, 38],\n    [\"46-47\",30, 36, 37, 37, 38],\n    [\"48-49\",30, 36, 37, 37, 38],\n    [\"50-51\",30, 36, 37, 37, 38],\n    [\"52-53\",30, 36, 37, 37, 38],\n    [\"54-55\",30, 35, 37, 37, 38],\n    [\"56-57\",30, 35, 37, 37, 38],\n    [\"58-59\",30, 35, 37, 37, 38],\n    [\"60-61\",30, 35, 37, 37, 38],\n    [\"62-63\",30, 35, 37, 37, 38],\n    [\"64-65\",30, 35, 37, 37, 38],\n    [\"66-67\",30, 35, 37, 37, 38],\n    [\"68-69\",30, 35, 37, 37, 38],\n    [\"70-71\",30, 35, 37, 37, 38],\n    [\"72-73\",30, 35, 37, 37, 38],\n    [\"74-75\",30, 35, 37, 37, 38],\n    [\"76-77\",29.5, 35, 37, 37, 38],\n    [\"78-79\",29, 35, 37, 37, 38],\n    [\"80-81\",29, 35, 37, 37, 38],\n    [\"82-83\",29, 35, 37, 37, 38],\n    [\"84-85\",29, 35, 37, 37, 38],\n    [\"86-87\",29, 35, 37, 37, 38],\n    [\"88-89\",29, 35, 37, 37, 38],\n    [\"90-91\",29, 35, 37, 37, 38],\n    [\"92-93\",29, 35, 37, 37, 38],\n    [\"94-95\",29, 35, 37, 37, 38],\n    [\"96-97\",28, 35, 37, 37, 38],\n    [\"98-99\",28, 35, 37, 37, 38],\n    [\"100\",28, 34, 35, 37, 38]\n];\noption = {\n    title: [{\n        text: 'Per base sequence quality',\n        left: 'center',\n    }],\n    grid: {\n        top: 25\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(param) {\n            if (!param || !param[0]) return \"\";\n            var result = [\"Base:\" + param[0].axisValue];\n            $.each(param, function(i, p) {\n                if (p.seriesType == \"line\") {\n                    result.push(getLineTips(p));\n                } else {\n                    result.push(getBoxplotTips(p));\n                }\n            });\n            return result.join(\"<br/>\");\n        }\n    },\n    xAxis: {\n        type: 'category',\n        data: categoriesData,\n        boundaryGap: [1, 1],\n        nameGap: 30,\n        splitArea: {\n            show: true,\n            interval: 0\n        },\n        axisTick: {\n            show: false\n        }\n\n    },\n    yAxis: {\n        type: 'value',\n        min: 0,\n        max: 38,\n        interval: 2,\n        splitLine: {\n            show: false\n        }\n    },\n\n    series: [{\n            name: 'Mean',\n            type: 'line',\n            data: linData,\n            animation: false,\n            showSymbol: false,\n            lineStyle: {\n                width: 1,\n                color: \"blue\"\n            },\n            z: 9,\n            markArea: {\n                data: [\n                    [{\n                        yAxis: 0,\n                        itemStyle: {\n                            color: 'red',\n                            opacity: 0.3\n                        }\n                    }, {\n                        yAxis: 20\n                    }],\n                    [{\n                        yAxis: 20,\n                        itemStyle: {\n                            color: 'yellow',\n                            opacity: 0.3\n                        }\n                    }, {\n                        yAxis: 28\n                    }],\n                    [{\n                        yAxis: 28,\n                        itemStyle: {\n                            color: '#33ff00',\n                            opacity: 0.3\n                        }\n                    }, {\n                        yAxis: 100\n                    }]\n                ]\n            }\n        },\n        {\n            name: 'box',\n            type: 'custom',\n            showSymbol: false,\n            encode: {\n                x: 0,\n                y: [1, 2, 3, 4, 5],\n                tooltip: [1, 2, 3, 4, 5]\n            },\n            itemStyle: {\n                borderColor: \"#666\",\n                color: \"yellow\"\n            },\n            renderItem: renderCustomBoxPlotItem,\n            animation: false,\n            data: plotData\n        }\n\n    ]\n};\nvar customBoxPlotMedianColor = \"red\";\n\nfunction renderCustomBoxPlotItem(params, api) {\n    //[min,  Q1,  median (or Q2),  Q3,  max]\n\n    var xValue = api.value(0);\n    var minPoint = api.coord([xValue, api.value(1)]);\n    var q1 = api.coord([xValue, api.value(2)]);\n    var median = api.coord([xValue, api.value(3)]);\n    var q3 = api.coord([xValue, api.value(4)]);\n    var maxPoint = api.coord([xValue, api.value(5)]);\n    var width = api.size([1, 0])[0] * 0.8;\n    var halfWidth = width * 0.5;\n    var itemStyle = api.style();\n    var medianStyle = api.style({\n        stroke: customBoxPlotMedianColor,\n        fill: null\n    });\n\n    var x1 = maxPoint[0] - halfWidth;\n    var x2 = maxPoint[0] + halfWidth;\n\n\n    return {\n        type: 'group',\n        children: [{\n                type: 'line',\n                shape: {\n                    x1: x1,\n                    y1: maxPoint[1],\n                    x2: x2,\n                    y2: maxPoint[1]\n                },\n                style: itemStyle\n            }, {\n                type: 'line', //上面连接线\n                shape: {\n                    x1: maxPoint[0],\n                    y1: maxPoint[1],\n                    x2: q3[0],\n                    y2: q3[1]\n                },\n                style: itemStyle\n            },\n            {\n                type: 'rect', //box\n                shape: {\n                    x: q3[0] - halfWidth,\n                    y: q3[1],\n                    width: width,\n                    height: q1[1] - q3[1]\n                },\n                style: itemStyle\n            },\n            {\n                type: 'line', //下面连接线\n                shape: {\n                    x1: q1[0],\n                    y1: q1[1],\n                    x2: minPoint[0],\n                    y2: minPoint[1]\n                },\n                style: itemStyle\n            }, {\n                type: 'line', //底部线\n                shape: {\n                    x1: x1,\n                    y1: minPoint[1],\n                    x2: x2,\n                    y2: minPoint[1]\n                },\n                style: itemStyle\n            },\n            {\n                type: 'line', //中间线median\n                shape: {\n                    x1: x1,\n                    y1: median[1],\n                    x2: x2,\n                    y2: median[1]\n                },\n                style: medianStyle\n            }\n        ]\n    };\n}\n\nfunction getBoxplotTips(param) {\n    return [\n        '90th: ' + param.data[5],\n        'Upper: ' + param.data[4],\n        'Median: ' + param.data[3],\n        'Lower: ' + param.data[2],\n        '10th: ' + param.data[1]\n    ].join('<br/>');\n}\n\nfunction getLineTips(param) {\n    return [\n        'Mean: ' + param.data\n    ].join('<br/>');\n}","html":"","externalScripts":"","updaterUID":"obd-oCutVpdOdxqlXJT8JCaC62Xw9FpNk3X","theme":"","layout":"","viewCount":258,"userName":"d***_","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyoARBmEPV.png?v=1586418235801","isCustomThumbnail":0,"builtinTags":["category-work","grid","markArea","series-custom","series-line","title","tooltip"],"customTags":[],"updaterUserName":"d***_"}}