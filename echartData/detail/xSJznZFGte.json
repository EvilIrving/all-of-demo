{"status":0,"data":{"cid":"xSJznZFGte","authorUid":"bd-621044197","authorUserName":"jackshao","title":"终端数量","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2017-02-16T01:34:34.000Z","lastUpdateTime":"2017-02-16T01:34:34.000Z","auth":2,"uid":"bd-621044197","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.4.0","versionCreateTime":"2017-02-16T02:20:08.000Z","code":"var TmpData = (function(){\r\n    var data = [];\r\n    Date.prototype.getHM = function (format) {\r\n        return this.getHours()+\":\"+this.getMinutes();\r\n    }\r\n    var date=new Date(); \r\n    for(var i=1;i<21;i++){\r\n        var tmp = {};\r\n        date.setMinutes(date.getMinutes()+1);\r\n        tmp['time'] = date.getHM();\r\n        tmp['client'] = Math.floor(Math.random()*20)+30;//30~50个\r\n        tmp['fair'] =  Math.floor(tmp['client']*(Math.random()/10));//不大于10%\r\n        tmp['good'] = Math.floor((tmp['client']-tmp['fair'])*(Math.random()/3));//剩余部分不大于1/3\r\n        tmp['best'] = tmp['client']-tmp['good']-tmp['fair'];//剩下的\r\n        data.push(tmp);\r\n    }\r\n    return data;\r\n})();\r\n\r\n\r\nvar xData = function() {\r\n    var data = [];\r\n    for (var i = 1; i < TmpData.length; i++) {\r\n        data.push(TmpData[i]['time']);\r\n    }\r\n    return data;\r\n}();\r\n\r\nvar clientData = function() {\r\n    var data = [];\r\n    for (var i = 1; i < TmpData.length; i++) {\r\n        data.push(TmpData[i]['client']);\r\n    }\r\n    return data;\r\n}();\r\n\r\nvar bestData = function() {\r\n    var data = [];\r\n    for (var i = 1; i < TmpData.length; i++) {\r\n        data.push(TmpData[i]['best']);\r\n    }\r\n    return data;\r\n}();\r\n\r\nvar goodData = function() {\r\n    var data = [];\r\n    for (var i = 1; i < TmpData.length; i++) {\r\n        data.push(TmpData[i]['good']);\r\n    }\r\n    return data;\r\n}();\r\n\r\nvar fairData = function() {\r\n    var data = [];\r\n    for (var i = 1; i < TmpData.length; i++) {\r\n        data.push(TmpData[i]['fair']);\r\n    }\r\n    return data;\r\n}();\r\n\r\noption = {\r\n    //backgroundColor: \"#344b58\",\r\n    \"title\": {\r\n        \"text\": \"终端数量\",\r\n        x: \"4%\",\r\n\r\n        textStyle: {\r\n            color: '#446699',\r\n            fontSize: '14'\r\n        }\r\n    },\r\n    \"tooltip\": {\r\n        \"trigger\": \"axis\",\r\n        \"axisPointer\": {\r\n            \"type\": \"shadow\",\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            }\r\n\r\n        },\r\n    },\r\n    toolbox: {\r\n            feature: {\r\n                dataView: {show: true, readOnly: false},\r\n                restore: {show: true},\r\n                saveAsImage: {show: true}\r\n            }\r\n        },\r\n    \"grid\": {\r\n        \"borderWidth\": 0,\r\n        \"top\": '25%',\r\n        \"bottom\": '15%',\r\n        textStyle: {\r\n            color: \"#fff\"\r\n        }\r\n    },\r\n    \"legend\": {\r\n        x: '30%',\r\n        //top: '2%',\r\n        textStyle: {\r\n            color: '#90979c',\r\n        },\r\n        \"data\": ['Best', 'Good', 'Fair', '总数']\r\n    },\r\n     \r\n\r\n    \"calculable\": true,\r\n    \"xAxis\": [{\r\n        \"type\": \"category\",\r\n        \"axisLine\": {\r\n            lineStyle: {\r\n                color: '#90979c'\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": false\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLabel\": {\r\n            \"interval\": 0,\r\n        },\r\n        \"data\": xData,\r\n    }],\r\n    \"yAxis\": [{\r\n        \"type\": \"value\",\r\n        \"splitLine\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLine\": {\r\n            lineStyle: {\r\n                color: '#90979c'\r\n            }\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": false\r\n        },\r\n        \"axisLabel\": {\r\n            \"interval\": 0,\r\n\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false\r\n        },\r\n\r\n    }],\r\n    \r\n    \"series\": [{\r\n            \"name\": \"Best\",\r\n            \"type\": \"bar\",\r\n            \"stack\": \"总数\",\r\n            \"barMaxWidth\": 25,\r\n            \"barGap\": \"20%\",\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": \"#1F77B4\",\r\n                    \"label\": {\r\n                        \"show\": true,\r\n                        \"textStyle\": {\r\n                            \"color\": \"#fff\"\r\n                        },\r\n                        \"position\": \"insideTop\",\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            \"data\": bestData,\r\n        },{\r\n            \"name\": \"Good\",\r\n            \"type\": \"bar\",\r\n            \"stack\": \"总数\",\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": \"#FF7F0E\",\r\n                    \"barBorderRadius\": 0,\r\n                    \"label\": {\r\n                        \"show\": true,\r\n                        \"position\": \"inside\",\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            \"data\": goodData\r\n        }, {\r\n            \"name\": \"Fair\",\r\n            \"type\": \"bar\",\r\n            \"stack\": \"总数\",\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": \"#2CA02C\",\r\n                    \"barBorderRadius\": 0,\r\n                    \"label\": {\r\n                        \"show\": true,\r\n                        \"position\": \"top\",\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            \"data\": fairData\r\n        },{\r\n            \"name\": \"总数\",\r\n            \"type\": \"line\",\r\n            \"stack\": \"总数\",\r\n            symbolSize:8,\r\n            symbol:'circle',\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"color\": \"#6ca7e2\",\r\n                    \"barBorderRadius\": 0,\r\n                    \"label\": {\r\n                        \"show\": true,\r\n                        \"position\": \"top\",\r\n                        formatter: function(p) {\r\n                            return p.value > 0 ? (p.value) : '';\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            \"data\": clientData\r\n        },\r\n    ]\r\n}","html":"","externalScripts":"","updaterUID":"bd-621044197","theme":"","layout":"","viewCount":5660,"userName":"jackshao","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJznZFGte.png?v=1487211608821","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"jackshao"}}