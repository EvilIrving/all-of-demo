{"status":0,"data":{"cid":"xP_V8ICrwN","authorUid":"obd-otFkG2fGpj16HBljOVKkhLBNLvirR80","authorUserName":"l***4","title":"专项监督","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-21T15:45:43.000Z","lastUpdateTime":"2020-10-21T15:45:43.000Z","auth":2,"uid":"obd-otFkG2fGpj16HBljOVKkhLBNLvirR80","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-21T15:45:43.000Z","code":"var chartData = [\r\n        {name:'三务公开', value: 65, value1: 15, value2: 6},\r\n        {name:'扶贫领域', value: 79, value1: 32, value2: 11},\r\n        {name:'扫黑除恶', value: 39, value1: 5, value2: 1},\r\n        {name:'民生领域', value: 72, value1: 6, value2: 2},\r\n        {name:'耕地问题', value: 45, value1: 7, value2: 2}\r\n    ];\r\n\r\n    option= {\r\n        backgroundColor: '#000f4e',//背景色\r\n        title:{\r\n           show: true,\r\n           text: '专项监督',\r\n           textStyle: {\r\n                color: '#fff', // 主标题文字颜色\r\n                fontFamily:'Simsun',\r\n                fontSize: 14\r\n            },\r\n            x:'center',\r\n            y:'top'\r\n        },\r\n        tooltip: {\r\n            show: true,\r\n            trigger: 'axis',  //axis , item\r\n            backgroundColor:'rgba(0,15,78,0.6)',\r\n            borderColor:'#00afff',\r\n            borderWidth: 1,\r\n            borderRadius: 0,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 13,\r\n                align:'left'\r\n            },\r\n            axisPointer:{\r\n                type: 'line', //'line' | 'cross' | 'shadow' | 'none\r\n                lineStyle: {\r\n                    width: 1,\r\n                    type: 'dotted',\r\n                    color: 'rgba(46,149,230,.9)'\r\n                }\r\n            }\r\n        },\r\n        legend:{\r\n            show: true,\r\n            orient:'horizontal', //'vertical' \r\n            data: ['检查', '发现', '整改'],\r\n            icon: 'circle',\r\n            selectedMode: true,\r\n            itemWidth: 10,\r\n            itemHeight: 10,\r\n            itemGap:20,\r\n            textStyle:{\r\n                fontSize: 13,\r\n                color: '#9bc8ff'\r\n            },\r\n            x: 'center',\r\n            y: '25'\r\n        },\r\n        grid: {\r\n            top: '25%',\r\n            right: '3%',\r\n            bottom: '10%',\r\n            left: '10%'\r\n        },\r\n        xAxis:{\r\n            type: 'category',\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0, //类目间隔 设置为 1，表示『隔一个标签显示一个标签』\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: 13\r\n                },\r\n                formatter: '{value}'\r\n            },\r\n            axisLine:{\r\n                lineStyle:{\r\n                    color:'rgba(15,45,134,.9)'\r\n                }\r\n            },\r\n            axisTick:{\r\n                show: false //坐标轴小标记\r\n            },\r\n            data: (function(data){\r\n                var arr=[];\r\n                data.forEach(function(items){\r\n                    arr.push(items.name);   //name\r\n                });\r\n                return arr;\r\n            })(chartData)  //载入横坐标数据\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: '（次）',\r\n            nameTextStyle:{\r\n                color:'#93d3fc',\r\n                fontSize: 12,\r\n                align: 'right'\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                textStyle: {\r\n                    color: '#9bc8ff',\r\n                    fontSize: 13\r\n                },\r\n                interval: 0, //类目间隔 设置为 1，表示『隔一个标签显示一个标签』\r\n                margin: 10,\r\n                //formatter: '{value}'\r\n            },\r\n            splitNumber: 5, //y轴刻度设置(值越大刻度越小)\r\n            axisLine:{ //y轴线\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: 'rgba(15,45,134,.6)', //横向网格线颜色\r\n                    width: 1\r\n                }\r\n            },\r\n            axisTick:{\r\n                show: false //坐标轴小标记\r\n            }\r\n        },\r\n        series:[\r\n            {\r\n                name:'检查',\r\n                type:'scatter',\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(255,55,135,1)', //颜色\r\n                    }\r\n                },\r\n                symbol: 'circle', //circle, rect, roundRect, triangle,  pin, diamond, arrow\r\n                symbolPosition: 'end',\r\n                symbolSize: 30,\r\n                symbolOffset: [0, '-120%'],\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){ \r\n                        var itemName = items.name,\r\n                            itemValue = items.value,\r\n                            itemStyle = itemValue/10; //console.log(itemStyle)\r\n                        arr.push({\r\n                            name: itemName,\r\n                            value: itemValue,\r\n                            symbolSize: itemStyle\r\n                        })\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据并设置图形尺寸\r\n            },\r\n            {\r\n                name:'发现',\r\n                type:'pictorialBar',\r\n                barWidth: 40,\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: {\r\n                            type: 'linear',\r\n                            x: 0,\r\n                            y: 0,\r\n                            x2: 0,\r\n                            y2: 1,\r\n                            colorStops: [{\r\n                                offset: 0, color: 'rgba(142,48,255,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1, color: 'rgba(142,48,255,.2)' // 100% 处的颜色\r\n                            }],\r\n                            globalCoord: false // 缺省为 false\r\n                        }, //渐变颜色\r\n                    }\r\n                },\r\n                symbol: 'path://M12.000,-0.000 C12.000,-0.000 16.074,60.121 22.731,60.121 C26.173,60.121 -3.234,60.121 0.511,60.121 C7.072,60.121 12.000,-0.000 12.000,-0.000 Z',\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){\r\n                        arr.push(items.value1);   //value\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据\r\n            },\r\n            {\r\n                name:'整改',\r\n                type:'pictorialBar',\r\n                barWidth: 40,\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: {\r\n                            type: 'linear',\r\n                            x: 0,\r\n                            y: 0,\r\n                            x2: 0,\r\n                            y2: 1,\r\n                            colorStops: [{\r\n                                offset: 0, color: 'rgba(0,236,150,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1, color: 'rgba(0,236,150,.2)' // 100% 处的颜色\r\n                            }],\r\n                            globalCoord: false // 缺省为 false\r\n                        }, //渐变颜色\r\n                    }\r\n                },\r\n                symbol: 'path://M12.000,-0.000 C12.000,-0.000 16.074,60.121 22.731,60.121 C26.173,60.121 -3.234,60.121 0.511,60.121 C7.072,60.121 12.000,-0.000 12.000,-0.000 Z',\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){\r\n                        arr.push(items.value2);   //value\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据\r\n            }\r\n        ]   \r\n    };\r\n\r\n    var app = {\r\n            curIndex: -1,\r\n    };\r\n    setInterval(()=> {\r\n        var dataLen = chartData.length;\r\n        \r\n        // 取消之前高亮的图形\r\n        myChart.dispatchAction({\r\n            type: 'downplay',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex\r\n        });\r\n    \r\n        app.curIndex = (app.curIndex + 1) % dataLen;\r\n    \r\n        // 高亮当前图形\r\n        myChart.dispatchAction({\r\n            type: 'highlight',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex,\r\n        });\r\n    \r\n        // 显示 tooltip\r\n        myChart.dispatchAction({\r\n            type: 'showTip',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex\r\n        });\r\n    \r\n    }, 3000);\r\n","html":"","externalScripts":"","updaterUID":"obd-otFkG2fGpj16HBljOVKkhLBNLvirR80","theme":"","layout":"","viewCount":80,"userName":"l***4","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xP_V8ICrwN.png?v=1603295143848","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-pictorialBar","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"l***4"}}