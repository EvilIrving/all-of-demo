{"status":0,"data":{"cid":"xFXijYQ2Do","authorUid":"bd-960630","authorUserName":"s***3","title":"柱状图+标线","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-24T05:27:50.000Z","lastUpdateTime":"2020-10-24T05:27:50.000Z","auth":2,"uid":"bd-960630","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-24T05:27:50.000Z","code":"// 颜色设置\r\nvar backgroundColor = '#021547';\r\nvar fontColor = '#B3B3B3';\r\nvar lineColor = 'rgba(50, 68, 73, 1)';\r\nvar color2 = ['#36D7FF', '#39CF80'];\r\n\r\nvar result = {\r\n    \"time\": [\r\n        \"00\",\r\n        \"01\",\r\n        \"02\",\r\n        \"03\",\r\n        \"04\",\r\n        \"05\",\r\n        \"06\",\r\n        \"07\",\r\n        \"08\",\r\n        \"09\",\r\n        \"10\",\r\n        \"11\",\r\n        \"12\",\r\n        \"13\",\r\n        \"14\",\r\n        \"15\",\r\n        \"16\",\r\n        \"17\",\r\n        \"18\",\r\n        \"19\",\r\n        \"20\",\r\n        \"21\",\r\n        \"22\",\r\n        \"23\"\r\n    ],\r\n    \"data\": [\r\n        95,\r\n        97,\r\n        95,\r\n        98,\r\n        96,\r\n        93,\r\n        90,\r\n        92,\r\n        88,\r\n        85,\r\n        80,\r\n        82,\r\n        85,\r\n        85,\r\n        80,\r\n        67,\r\n        55,\r\n        49,\r\n        52,\r\n        63,\r\n        67,\r\n        71,\r\n        80,\r\n        75\r\n    ],\r\n    \"normalRate\": 83,\r\n    \"startData\": [90, 87, 80, 82, 75]\r\n};\r\nvar vdata = [];\r\nvar rstData = result.data;\r\nvar title = '';\r\n\r\n$.each(rstData, function(i, val) {\r\n    vdata.push({\r\n        value: val,\r\n        itemStyle: {\r\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                offset: 0,\r\n                color: Number(val) < 50 ? 'rgba(188, 27, 65, 0.85)' : (Number(val) > 70 ? 'rgba(54, 215, 255, 0.85)' : 'rgba(255, 182, 54, 0.85)') // 顶端处的颜色\r\n            }, {\r\n                offset: 0.8,\r\n                color: 'rgba(10, 22, 33, 0)' // 底端处的颜色\r\n            }], false),\r\n            borderColor: Number(val) < 50 ? 'rgba(188, 27, 65, 1)' : (Number(val) > 70 ? 'rgba(54, 215, 255, 1)' : 'rgba(255, 182, 54, 1)')\r\n        }\r\n    });\r\n});\r\n\r\nfunction deepCopy(o) {\r\n    if (o instanceof Array) {\r\n        var n = [];\r\n        for (var i = 0; i < o.length; ++i) {\r\n            n[i] = deepCopy(o[i]);\r\n        }\r\n        return n;\r\n\r\n    } else if (o instanceof Object) {\r\n        var n = {};\r\n        for (var i in o) {\r\n            n[i] = deepCopy(o[i]);\r\n        }\r\n        return n;\r\n    } else {\r\n        return o;\r\n    }\r\n}\r\n\r\nvar timeList = deepCopy(result.time);\r\n                        timeList.push('00');\r\n\r\n\r\noption = {\r\n    backgroundColor: backgroundColor,\r\n    color: color2,\r\n    textStyle: {\r\n        fontSize: 16,\r\n        color: fontColor,\r\n        fontFamily: '苹方-简'\r\n    },\r\n    title: {\r\n        text: '',\r\n        left: '3%',\r\n        top: 'top',\r\n        textStyle: {\r\n            rich: {\r\n                text: {\r\n                    color: '#E6E6E6'\r\n                },\r\n                num: {\r\n                    color: '#59E0FF',\r\n                    fontSize: 20\r\n                }\r\n            }\r\n        }\r\n    },\r\n    grid: {\r\n        left: '4%',\r\n        right: '2%',\r\n        top: '25%',\r\n        bottom: '10%',\r\n        containLabel: false\r\n    },\r\n    legend: {\r\n        selectedMode: false,\r\n        itemHeight: 10,\r\n        data: [{\r\n                name: '正常率',\r\n                icon: 'rect'\r\n            },\r\n            {\r\n                name: '同比正常率'\r\n            }\r\n        ],\r\n        top: 'top',\r\n        textStyle: {\r\n            fontSize: 14,\r\n            color: '#E6E6E6'\r\n        }\r\n    },\r\n    xAxis: [{\r\n            type: 'category',\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0,\r\n                fontSize: 13,\r\n                fontFamily: '苹方-简',\r\n                color: fontColor\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: lineColor\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: true,\r\n                inside: true\r\n            },\r\n            data: timeList\r\n        },\r\n        {\r\n            show: false,\r\n            type: 'category',\r\n            data: result.time\r\n        }\r\n    ],\r\n    yAxis: {\r\n        type: 'value',\r\n        name: '百分比',\r\n        nameTextStyle: {\r\n            padding: [0, 0, 0, 50],\r\n            fontSize: 14\r\n        },\r\n        max: 100,\r\n        min: 0,\r\n        axisLabel: {\r\n            show: true,\r\n            fontSize: 13\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: lineColor\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitArea: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: lineColor,\r\n                opacity: 0.5\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            type: 'bar',\r\n            name: '正常率',\r\n            xAxisIndex: 1,\r\n            barWidth: '10',\r\n            itemStyle: {\r\n                normal: {\r\n                    barBorderRadius: [30, 30, 0, 0],\r\n                    borderWidth: 0.3\r\n                }\r\n            },\r\n            markLine: {\r\n                symbol: 'none',\r\n                label: {\r\n                    show: true,\r\n                    position: 'start',\r\n                    formatter: '{c}',\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                },\r\n                lineStyle: {\r\n                    type: 'solid'\r\n                },\r\n                data: [{\r\n                        yAxis: 50,\r\n                        lineStyle: {\r\n                            color: \"rgba(188, 27, 65, 1)\"\r\n                        },\r\n                        label: {\r\n                            color: \"rgba(188, 27, 65, 1)\"\r\n                        }\r\n                    },\r\n                    {\r\n                        yAxis: 70,\r\n                        lineStyle: {\r\n                            color: \"rgba(255, 182, 54, 1)\"\r\n                        },\r\n                        label: {\r\n                            color: \"rgba(255, 182, 54, 1)\"\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            data: vdata\r\n        },\r\n        {\r\n            type: 'line',\r\n            name: '同比正常率',\r\n            xAxisIndex: 1,\r\n            lineStyle: {\r\n                width: 1\r\n            },\r\n            symbol: 'circle',\r\n            symbolSize: 8,\r\n            itemStyle: {\r\n                color: '#39CF80',\r\n                borderColor: 'rgba(57,207,128,0.6)',\r\n                borderWidth: 6\r\n            },\r\n            data: new Array(result.data.length).fill(0)\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-960630","theme":"","layout":"","viewCount":1858,"userName":"s***3","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFXijYQ2Do.png?v=1603517271105","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-bar","series-line","title"],"customTags":[],"updaterUserName":"s***3"}}