{"status":0,"data":{"cid":"x2n4GR3Awv","authorUid":"bd-1530657551","authorUserName":"谢***Q","title":"点击选中圈圈","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-04-02T08:01:37.000Z","lastUpdateTime":"2020-04-02T08:01:37.000Z","auth":2,"uid":"bd-1530657551","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-08T08:59:57.000Z","code":" var timeData = ['01','02','03','04','05','06','07','08','09','10'];\r\n            var legend=['全部流向', 'IDC','联通'];\r\n            var Data = [45,56,58,55,68,75,62,68,75,62];\r\n\r\n            var colorList=['#ff8f50','#FECA17','#39B5F1','#B9E1A2'];\r\n            var seriesList=[];\r\n            var datamark= [{\r\n                symbol: 'circle',\r\n                symbolSize: 12,\r\n\r\n            }]\r\n            $.each(legend,function (index, obj) {\r\n                seriesList.push({\r\n                    name: obj,\r\n                    type: 'line',\r\n                    showAllSymbol: true,\r\n                    symbol: 'emptyCircle',\r\n                    symbolSize: 5,\r\n                    yAxisIndex: (legend.length==2&&index==1)?1:0,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color:colorList[index]},\r\n                    },\r\n                    markPoint: {\r\n                        data:datamark\r\n                    },\r\n                    data:Data\r\n                })\r\n            })\r\n\r\n            var option = {\r\n\r\n                tooltip: {\r\n                    trigger: 'axis',\r\n                    position: function (point, params, dom, rect, size) {\r\n                       // 鼠标坐标和提示框位置的参考坐标系是：以外层div的左上角那一点为原点，x轴向右，y轴向下       \r\n                       // 提示框位置                    var x = 0; // x坐标位置\r\n                      var y = 0; // y坐标位置\r\n                     \r\n                      // 当前鼠标位置\r\n                      var pointX = point[0];\r\n                      var pointY = point[1];\r\n                     \r\n                      // 外层div大小\r\n                      // var viewWidth = size.viewSize[0];\r\n                      // var viewHeight = size.viewSize[1];\r\n                     \r\n                      // 提示框大小\r\n                      var boxWidth = size.contentSize[0];\r\n                      var boxHeight = size.contentSize[1];\r\n                     \r\n                      // boxWidth > pointX 说明鼠标左边放不下提示框\r\n                      if (boxWidth > pointX) {\r\n                        x = 5;\r\n                      } else { // 左边放的下\r\n                        x = pointX - boxWidth;\r\n                      }\r\n                     \r\n                      // boxHeight > pointY 说明鼠标上边放不下提示框\r\n                      if (boxHeight > pointY) {\r\n                        y = 5;\r\n                      } else { // 上边放得下\r\n                        y = pointY - boxHeight;\r\n                      }\r\n                     \r\n                      return [x, y];\r\n                    }\r\n\r\n                },\r\n                legend: {\r\n                    data: legend,\r\n                    textStyle: {\r\n                        color: '#666'\r\n                    },\r\n                    bottom:'1%',\r\n                },\r\n                grid: {\r\n                    left: '2%',\r\n                    right: '3%',\r\n                    bottom: '10%',\r\n                    top:'7%',\r\n                    containLabel: true\r\n                },\r\n                xAxis: {\r\n                    data: timeData,\r\n                    axisLine: {\r\n                        lineStyle: {\r\n                            color: '#666'\r\n                        }\r\n                    },\r\n                    axisTick:{\r\n                        show:false,\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,//横轴信息全部显示\r\n//                    rotate: 60,//60度角倾斜显示\r\n                        /* formatter:function(val){\r\n                             if(kpiTimeDim=='hour'){\r\n                                 return (val.split(\" \")[1]).split(\":\")[0]; //横轴信息文字竖直显示\r\n                             }else if(kpiTimeDim=='day'){\r\n                                 return (val.split(\" \")[0].split(\"-\")[2]);\r\n                             }else{\r\n                                 return (val.split(\"-\")[1]);\r\n                             }\r\n                         }*/\r\n                    }\r\n                },\r\n                yAxis: [{\r\n                    splitLine: {show: false},\r\n                    axisLine: {\r\n                        lineStyle: {\r\n                            color: '#666',\r\n                        }\r\n                    },\r\n\r\n                    axisLabel:{\r\n                        formatter:'{value} ',\r\n                    }\r\n                },\r\n                    {\r\n                        splitLine: {show: false},\r\n                        axisLine: {\r\n                            lineStyle: {\r\n                                color: '#666',\r\n                            }\r\n                        },\r\n                        axisLabel:{\r\n                            formatter:'{value} ',\r\n                        }\r\n                    }],\r\n                series:seriesList\r\n//\r\n            };\r\n            myChart.setOption(option);\r\n            myChart.resize();\r\n            window.addEventListener(\"resize\", function () {\r\n                myChart.setOption(option);\r\n                myChart.resize();\r\n            });\r\n            myChart.on('click',function(params){\r\n                var index = params.dataIndex;\r\n                var xtxt=timeData[index]\r\n                var ytxt=Data[index]\r\n               datamark=[{//点击选中的圈圈变大\r\n                    symbol: 'circle',\r\n                    symbolSize: 12,\r\n                    coord: [xtxt, ytxt]\r\n                }]\r\n                for(var i = 0 ; i < seriesList.length ; i++){//点击选中循环赋值\r\n                    seriesList[i].markPoint.data=datamark\r\n                }\r\n                myChart.setOption(option,true);\r\n\r\n            })","html":"","externalScripts":"","updaterUID":"bd-1530657551","theme":"","layout":"","viewCount":61,"userName":"谢***Q","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2n4GR3Awv.png?v=1586336397555","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markPoint","series-line","tooltip"],"customTags":[],"updaterUserName":"谢***Q"}}