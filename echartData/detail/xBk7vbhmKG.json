{"status":0,"data":{"cid":"xBk7vbhmKG","authorUid":"bd-2853284743","authorUserName":"C***_","title":"USA地图打点","description":"地图打点","latestVersion":1,"alwaysLatest":1,"createTime":"2018-03-12T07:50:51.000Z","lastUpdateTime":"2018-03-12T07:50:51.000Z","auth":2,"uid":"bd-2853284743","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.0.4","versionCreateTime":"2018-03-12T07:50:51.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1461584915575-B1nfVtix.json\";\n\nmyChart.showLoading();\n\nvar geoCoordMap = {\n    \"奥马哈\":[-96.054585,41.289106],\n    \"盐湖城\":[-111.839466,40.787618],\n    \"休斯顿\":[-95.429077,29.843149],\n    \"迈哈密\":[-80.23291,25.82092]\n};\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\n\n$.get(uploadedDataURL, function (usaJson) {\n    myChart.hideLoading();\n\n    echarts.registerMap('USA', usaJson, {\n        Alaska: {              // 把阿拉斯加移到美国主大陆左下方\n            left: -131,\n            top: 25,\n            width: 15\n        },\n        Hawaii: {\n            left: -110,        // 夏威夷\n            top: 28,\n            width: 5\n        },\n        'Puerto Rico': {       // 波多黎各\n            left: -76,\n            top: 26,\n            width: 2\n        }\n    });\n    option = {\n        title: {\n            text: 'USA Population Estimates (2012)',\n            subtext: 'Data from www.census.gov',\n            sublink: 'http://www.census.gov/popest/data/datasets.html',\n            left: 'right'\n        },\n        toolbox: {\n            show: true,\n            //orient: 'vertical',\n            left: 'left',\n            top: 'top',\n            feature: {\n                dataView: {readOnly: false},\n                restore: {},\n                saveAsImage: {}\n            }\n        },\n        \n    geo: {\n        map: 'USA',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        itemStyle: {\n            normal: {\n                areaColor: '#323c48',\n                borderColor: '#111'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n        series: [\n        {\n            name: 'pm2.5',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData([\n                {name: \"奥马哈\", value: 9},\n                {name: \"盐湖城\", value: 12},\n                {name: \"休斯顿\", value: 12},\n                {name: \"迈哈密\", value: 12}\n            ]),\n            symbolSize: 12,\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                emphasis: {\n                    borderColor: '#fff',\n                    borderWidth: 1\n                }\n            }\n        }\n    ]\n    };\n\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"bd-2853284743","theme":"","layout":"","viewCount":468,"userName":"C***_","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBk7vbhmKG.png?v=1520841051267","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter","title","toolbox"],"customTags":[],"updaterUserName":"C***_"}}