{"status":0,"data":{"cid":"xzqnjXSv3Q","authorUid":"bd-1233538030","authorUserName":"江南彼岸花40","title":"关系图箭头指向自定义坐标","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-12-04T08:50:35.000Z","lastUpdateTime":"2018-12-04T08:50:35.000Z","auth":2,"uid":"bd-1233538030","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-04T08:50:35.000Z","code":"\r\n var renderData = {\r\n     edges: [{\r\n         \"source\": \"AX0002001\",\r\n         \"sourcename\": \"TestSys2Db1\",\r\n         \"sourcecnname\": \"测试数据库1\",\r\n         \"target\": \"AX0005001\",\r\n         \"targetname\": \"TestSys5Db1\",\r\n         \"targetcnname\": \"测试数据库1\",\r\n         \"MappingNo\": \"MAP002001\",\r\n         \"rank\": \"db\"\r\n     }, {\r\n         \"source\": \"AX0002002\",\r\n         \"sourcename\": \"TestSys2Db2\",\r\n         \"sourcecnname\": \"测试数据库2\",\r\n         \"target\": \"AX0005002\",\r\n         \"targetname\": \"TestSys5Db2\",\r\n         \"targetcnname\": \"测试数据库2\",\r\n         \"MappingNo\": \"MAP002002\",\r\n         \"rank\": \"db\"\r\n     }, {\r\n         \"source\": \"AX0002003\",\r\n         \"sourcename\": \"TestSys2Db3\",\r\n         \"sourcecnname\": \"测试数据库3\",\r\n         \"target\": \"AX0005003\",\r\n         \"targetname\": \"TestSys5Db3\",\r\n         \"targetcnname\": \"测试数据库3\",\r\n         \"MappingNo\": \"MAP002003\",\r\n         \"rank\": \"db\"\r\n     }, {\r\n         \"source\": \"AX0002004\",\r\n         \"sourcename\": \"TestSys2Db4\",\r\n         \"sourcecnname\": \"测试数据库4\",\r\n         \"target\": \"AX0005004\",\r\n         \"targetname\": \"TestSys5Db4\",\r\n         \"targetcnname\": \"测试数据库4\",\r\n         \"MappingNo\": \"MAP002004\",\r\n         \"rank\": \"db\"\r\n     }, {\r\n         \"source\": \"AX0002005\",\r\n         \"sourcename\": \"TestSys2Db5\",\r\n         \"sourcecnname\": \"测试数据库5\",\r\n         \"target\": \"AX0005005\",\r\n         \"targetname\": \"TestSys5Db5\",\r\n         \"targetcnname\": \"测试数据库5\",\r\n         \"MappingNo\": \"MAP002005\",\r\n         \"rank\": \"db\"\r\n     }],\r\n     nodes: [{\r\n         \"name\": \"AX0002001\",\r\n         \"x\": 75,\r\n         \"y\": 10,\r\n         \"No\": \"AX0002001\",\r\n         \"ename\": \"TestSys2Db1\",\r\n         \"cnname\": \"测试数据库1\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0002\",\r\n         \"sysname\": \"TestSys2\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"AX0002002\",\r\n         \"x\": 75,\r\n         \"y\": 40,\r\n         \"No\": \"AX0002002\",\r\n         \"ename\": \"TestSys2Db2\",\r\n         \"cnname\": \"测试数据库2\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0002\",\r\n         \"sysname\": \"TestSys2\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"AX0002003\",\r\n         \"x\": 75,\r\n         \"y\": 70,\r\n         \"No\": \"AX0002003\",\r\n         \"ename\": \"TestSys2Db3\",\r\n         \"cnname\": \"测试数据库3\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0002\",\r\n         \"sysname\": \"TestSys2\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"AX0002004\",\r\n         \"x\": 75,\r\n         \"y\": 100,\r\n         \"No\": \"AX0002004\",\r\n         \"ename\": \"TestSys2Db4\",\r\n         \"cnname\": \"测试数据库4\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0002\",\r\n         \"sysname\": \"TestSys2\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"AX0002005\",\r\n         \"x\": 75,\r\n         \"y\": 130,\r\n         \"No\": \"AX0002005\",\r\n         \"ename\": \"TestSys2Db5\",\r\n         \"cnname\": \"测试数据库5\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0002\",\r\n         \"sysname\": \"TestSys2\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"AX0005001\",\r\n         \"x\": 320,\r\n         \"y\": 10,\r\n         \"No\": \"AX0005001\",\r\n         \"ename\": \"TestSys5Db1\",\r\n         \"cnname\": \"测试数据库1\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"symbolSize\": [0, 25],\r\n         \"label\": {\r\n             \"normal\": {\r\n                 \"show\": false\r\n             },\r\n             \"emphasis\": {\r\n                 \"show\": false\r\n             }\r\n         }\r\n     }, {\r\n         \"name\": \"AX0005002\",\r\n         \"x\": 320,\r\n         \"y\": 40,\r\n         \"No\": \"AX0005002\",\r\n         \"ename\": \"TestSys5Db2\",\r\n         \"cnname\": \"测试数据库2\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"symbolSize\": [0, 25],\r\n         \"label\": {\r\n             \"normal\": {\r\n                 \"show\": false\r\n             },\r\n             \"emphasis\": {\r\n                 \"show\": false\r\n             }\r\n         }\r\n     }, {\r\n         \"name\": \"AX0005003\",\r\n         \"x\": 320,\r\n         \"y\": 70,\r\n         \"No\": \"AX0005003\",\r\n         \"ename\": \"TestSys5Db3\",\r\n         \"cnname\": \"测试数据库3\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"symbolSize\": [0, 25],\r\n         \"label\": {\r\n             \"normal\": {\r\n                 \"show\": false\r\n             },\r\n             \"emphasis\": {\r\n                 \"show\": false\r\n             }\r\n         }\r\n     }, {\r\n         \"name\": \"AX0005004\",\r\n         \"x\": 320,\r\n         \"y\": 100,\r\n         \"No\": \"AX0005004\",\r\n         \"ename\": \"TestSys5Db4\",\r\n         \"cnname\": \"测试数据库4\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"symbolSize\": [0, 25],\r\n         \"label\": {\r\n             \"normal\": {\r\n                 \"show\": false\r\n             },\r\n             \"emphasis\": {\r\n                 \"show\": false\r\n             }\r\n         }\r\n     }, {\r\n         \"name\": \"AX0005005\",\r\n         \"x\": 320,\r\n         \"y\": 130,\r\n         \"No\": \"AX0005005\",\r\n         \"ename\": \"TestSys5Db5\",\r\n         \"cnname\": \"测试数据库5\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"symbolSize\": [0, 25],\r\n         \"label\": {\r\n             \"normal\": {\r\n                 \"show\": false\r\n             },\r\n             \"emphasis\": {\r\n                 \"show\": false\r\n             }\r\n         }\r\n     }, {\r\n         \"name\": \"\\tAX0005001\",\r\n         \"x\": 400,\r\n         \"y\": 10,\r\n         \"No\": \"AX0005001\",\r\n         \"ename\": \"TestSys5Db1\",\r\n         \"cnname\": \"测试数据库1\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0005\",\r\n         \"sysname\": \"TestSys5\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"\\tAX0005002\",\r\n         \"x\": 400,\r\n         \"y\": 40,\r\n         \"No\": \"AX0005002\",\r\n         \"ename\": \"TestSys5Db2\",\r\n         \"cnname\": \"测试数据库2\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0005\",\r\n         \"sysname\": \"TestSys5\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"\\tAX0005003\",\r\n         \"x\": 400,\r\n         \"y\": 70,\r\n         \"No\": \"AX0005003\",\r\n         \"ename\": \"TestSys5Db3\",\r\n         \"cnname\": \"测试数据库3\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0005\",\r\n         \"sysname\": \"TestSys5\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"\\tAX0005004\",\r\n         \"x\": 400,\r\n         \"y\": 100,\r\n         \"No\": \"AX0005004\",\r\n         \"ename\": \"TestSys5Db4\",\r\n         \"cnname\": \"测试数据库4\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0005\",\r\n         \"sysname\": \"TestSys5\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }, {\r\n         \"name\": \"\\tAX0005005\",\r\n         \"x\": 400,\r\n         \"y\": 130,\r\n         \"No\": \"AX0005005\",\r\n         \"ename\": \"TestSys5Db5\",\r\n         \"cnname\": \"测试数据库5\",\r\n         \"showData\": {\r\n             \"resultCode\": \"\",\r\n             \"numOfTables\": 0,\r\n             \"numOfColumns\": 0\r\n         },\r\n         \"sysno\": \"AX0005\",\r\n         \"sysname\": \"TestSys5\",\r\n         \"dbno\": null,\r\n         \"dbname\": null\r\n     }]\r\n };\r\n option = {\r\n    //  title:{\r\n    //      text:\"数据库数据走向关系图\",\r\n    //      x:'center',\r\n    //      y:140\r\n    //  },\r\n     color: ['#7289ab', '#73b9bc', '#73a373', '#eedd78', '#ea7e53', '#8dc1a9', '#e69d87'],\r\n     tooltip: {\r\n         axisPointer: {\r\n             type: 'shadow'\r\n         },\r\n         confine: true,\r\n         formatter: function(params) {\r\n             if (params.dataType == \"edge\") {\r\n                 return params.data.sourcename + \":\" + params.data.sourcecnname + \">\" + params.data.targetname + \":\" + params.data.targetcnname\r\n             }\r\n             if (params.dataType == \"node\" && params.data.showData != undefined) {\r\n                 var cnname = params.data.cnname == undefined ? \"\" : params.data.cnname;\r\n                 return params.data.ename + \":\" + cnname + \"<br> 表个数:\" + params.data.showData.numOfTables + \"<br> 字段个数:\" + params.data.showData.numOfColumns\r\n             }\r\n         }\r\n     },\r\n     series: [{\r\n         type: 'graph',\r\n         layout: 'none',\r\n         symbol: 'roundRect',\r\n         symbolSize: [200, 25],\r\n         symbolRotate: 0,\r\n         draggable: true,\r\n         edgeSymbolSize: [10, 10],\r\n         edgeSymbol: ['none', 'arrow'],\r\n         hoverAnimation: false,\r\n         focusNodeAdjacency: true,\r\n         width: 400,\r\n         itemStyle: {\r\n             normal: {\r\n                 borderColor: \"#000000e0\",\r\n                 borderWidth: 0.5,\r\n                 color: \"#fff\",\r\n                 shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                 shadowBlur: 5\r\n             }\r\n         },\r\n         lineStyle: {\r\n             normal: {\r\n                 opacity: 1,\r\n                 width: 2,\r\n                 curveness: 0,\r\n                 color: \"#c3c0c0\"\r\n             }\r\n         },\r\n         // 圆圈内的文字\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 textStyle: {\r\n                     color: \"#000\"\r\n                 },\r\n                 fontSize: 16,\r\n                 formatter: function(param) {\r\n                     return param.data.ename\r\n                 }\r\n             }\r\n         },\r\n         force: {\r\n             repulsion: 2000\r\n         },\r\n         nodes: renderData.nodes,\r\n         edges: renderData.edges\r\n     }]\r\n };","html":"","externalScripts":"","updaterUID":"bd-1233538030","theme":"","layout":"","viewCount":631,"userName":"江南彼岸花40","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzqnjXSv3Q.png?v=1543913435861","isCustomThumbnail":0,"builtinTags":["category-work","series-graph","tooltip"],"customTags":[],"updaterUserName":"江南彼岸花40"}}