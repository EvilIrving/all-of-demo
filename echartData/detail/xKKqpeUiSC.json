{"status":0,"data":{"cid":"xKKqpeUiSC","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"","description":"陕西汉中市洋县","latestVersion":7,"alwaysLatest":1,"createTime":"2020-09-01T06:29:14.000Z","lastUpdateTime":"2021-11-25T07:18:15.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-25T07:18:15.000Z","code":"var uploadedDataURLimg = \"/asset/get/s/data-1637820203780-7oCCfhe-9.png\";\n\nvar uploadedDataURL = '/asset/get/s/data-1637808978789-sO0f8mm6S.json';\nvar img2 = 'image:/' + uploadedDataURLimg;\nvar domImg = document.createElement('img');\ndomImg.style.height = domImg.height = domImg.width = domImg.style.width = '8px';\ndomImg.src =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAIAAAAmKNuZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4MTE0OTgyQTdDQzExRUI4Q0RBRkMwQkFGMTY2NDhEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4MTE0OTgzQTdDQzExRUI4Q0RBRkMwQkFGMTY2NDhEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTgxMTQ5ODBBN0NDMTFFQjhDREFGQzBCQUYxNjY0OEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTgxMTQ5ODFBN0NDMTFFQjhDREFGQzBCQUYxNjY0OEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4v4trwAAAAVklEQVR42mL0D225cu0hAzWAjpY8C9CsL19/wIV4uDnI5gKNYmKgKhjcxrFAggBZiBIuyDhqRQWQOxoVo1ExGhWjUTEaFYMiKoB1LVq1TXZUAI0CCDAAcAlaxCt7dtQAAAAASUVORK5CYII=';\n\nlet lableData = [\n      {\n        name: '宝安区',\n        value: [113.87, 22.66],\n      },\n      {\n        name: '光明区',\n        value: [113.93, 22.77],\n      },\n      {\n        name: '龙华区',\n        value: [114.03, 22.71],\n      },\n      {\n        name: '南山区',\n        value: [113.96, 22.58],\n      },\n      {\n        name: '福田区',\n        value: [114.05, 22.55],\n      },\n      {\n        name: '罗湖区',\n        value: [114.15, 22.57],\n      },\n      {\n        name: '盐田区',\n        value: [114.28, 22.61],\n      },\n      {\n        name: '坪山区',\n        value: [114.37, 22.69],\n      },\n      {\n        name: '龙岗区',\n        value: [114.25, 22.73],\n      },\n      {\n        name: '大鹏新区',\n        value: [114.48, 22.61],\n      },\n    ];\n    var mapDate = [\n      {\n        name: '宝安区',\n        value: [113.87, 22.66],\n        datas: 1354,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '光明区',\n        value: [113.93, 22.77],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '龙华区',\n        value: [114.03, 22.71],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '南山区',\n        value: [113.96, 22.58],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '福田区',\n        value: [114.05, 22.55],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '罗湖区',\n        value: [114.15, 22.57],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '盐田区',\n        value: [114.28, 22.61],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '坪山区',\n        value: [114.37, 22.69],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '龙岗区',\n        value: [114.25, 22.73],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n      {\n        name: '大鹏新区',\n        value: [114.48, 22.61],\n        datas: 1402,\n        symbol: img2,\n        symbolSize:[0,0],\n        itemStyle: {\n          opacity: 0,\n        },\n      },\n\n\n    ];\n$.getJSON(uploadedDataURL, function (geoJson) {\n    echarts.registerMap('my', geoJson);\n    option = {\n        backgroundColor: '#57007b',\n        grid: {\n            left: '0', // 与容器左侧的距离\n            right: '0', // 与容器右侧的距离\n            top: '0', // 与容器顶部的距离\n            bottom: '0', // 与容器底部的距离\n        },\n        geo: {\n            map: 'my',\n            aspectScale: 0.85,\n            layoutCenter: ['50%', '51.5%'], //地图位置\n            layoutSize: '108%',\n            itemStyle: {\n                normal: {\n                    borderColor: '#490091',\n                    borderWidth: 2,\n                    color: '#23007e',\n                    opacity: 1,\n                },\n            },\n            emphasis: {\n                itemStyle: {\n                    color: '#23007e',\n                    areaColor: '#36008d',\n                },\n            },\n        },\n        series: [\n            {\n                type: 'map',\n                mapType: 'my',\n                aspectScale: 0.85,\n                layoutCenter: ['50%', '50%'], //地图位置\n                layoutSize: '108%',\n                zoom: 1, //当前视角的缩放比例\n                // roam: true, //是否开启平游或缩放\n                scaleLimit: {\n                    //滚轮缩放的极限控制\n                    min: 1,\n                    max: 2,\n                },\n                label: {\n                    normal: {\n                        show: false,\n                        textStyle: {\n                            color: '#fff',\n                        },\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff',\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        areaColor: {\n                            image: domImg,\n                            repeat: 'repeat',\n                        },\n                        borderColor: '#a98dfb',\n                        borderWidth: 1.5,\n                    },\n                    emphasis: {\n                        areaColor: '#36008d',\n                        label: {\n                            show: false,\n                            color: '#fff',\n                        },\n                    },\n                },\n            },\n            {\n                name: 'lable',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                symbol: 'circle',\n                symbolSize: [60, 60],\n                label: {\n                    normal: {\n                        show: true,\n                        textStyle: {\n                            color: '#fff',\n                            fontSize: 12,\n                        },\n                        formatter(value) {\n                            return value.data.name;\n                        },\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#3c00fb', //标志颜色\n                    },\n                },\n                data: lableData,\n                showEffectOn: 'render',\n                rippleEffect: {\n                    brushType: 'stroke',\n                },\n                hoverAnimation: true,\n                zlevel: 1,\n            },\n\n            {\n                name: 'lable-top',\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                label: {\n                    normal: {\n                        show: true,\n                        formatter: function (params) {\n                            var name = params.name;\n                            var value = params.data.datas;\n                            var text = `{fline|${value}}\\n{tline|${name}}`;\n                            return \"\";\n                        },\n                        color: '#fff',\n                        rich: {\n                            fline: {\n                                padding: [0, 25],\n                                color: '#fff',\n                                textShadowColor: '#030615',\n                                textShadowBlur: '0',\n                                textShadowOffsetX: 1,\n                                textShadowOffsetY: 1,\n                                fontSize: 14,\n                                fontWeight: 400,\n                            },\n                            tline: {\n                                padding: [0, 27],\n                                color: '#ABF8FF',\n                                fontSize: 12,\n                            },\n                        },\n                    },\n                    emphasis: {\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    color: '#00FFF6',\n                },\n                symbolOffset: [0, -50],\n                zlevel: 2,\n                data: mapDate,\n            },\n        ],\n    };\n    myChart.setOption(option);\n});\nmyChart.on('click', (params) => {\n    if (params.seriesName == 'lable') {\n        let _option = myChart.getOption();\n        _option.series[2].data.map(i=>{\n            if(i.name === params.name){\n                i.itemStyle.opacity = 1;\n                i.symbolSize = [70,70];\n            }else{\n                i.itemStyle.opacity = 0;\n                i.symbolSize = [0,0];\n            }\n        });\n        myChart.setOption(_option)\n    }\n    if (params.seriesName == 'lable-top') {\n        console.log(params)\n    }\n});\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":95,"userName":"绿***绿","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKKqpeUiSC.png?v=1637824695889","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter"],"customTags":[],"updaterUserName":"绿***绿"}}