{"status":0,"data":{"cid":"xHkPPUgEyf","authorUid":"bd-1075817977","authorUserName":"7***2","title":"饼图之半圆","description":"综合正确率","latestVersion":11,"alwaysLatest":1,"createTime":"2017-11-11T04:02:39.000Z","lastUpdateTime":"2017-11-11T04:02:39.000Z","auth":2,"uid":"bd-1075817977","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":11,"parentVersion":10,"echartsVersion":"3.8.0","versionCreateTime":"2017-11-13T06:33:36.000Z","code":"var data = [{\n    value: 24.5,//正确率的百分比\n    name: '高等教育学'\n}, {\n    value: 89,\n    name: '高等教育心理学'\n}, {\n    value: 38,\n    name: '综合学科'\n}];\n\nvar a = 0;\nvar scale = 1;\nvar borderColor = '#021421';\nfor (var i = 0; i < data.length; i++) {\n    a += data[i].value;\n}\ndata.push({\n    value: a,\n    name: '',\n    itemStyle: {\n        normal: {\n            color: 'none'\n        }\n    }\n});\nvar rich = {\n    yellow: {\n        color: \"#ffc72b\",\n        fontSize: 19 * scale,\n        padding: [5, 4]\n    },\n    circle: {\n        backgroundColor: \"#ffc72b\",\n        width: 7 * scale,\n        align: 'left',\n        height: 7 * scale,\n        borderRadius: 7 * scale\n    },\n    green: {\n        color: \"rgba(63,255,234,0.5)\",\n        fontSize: 19 * scale,\n        padding: [6, 0]\n    },\n    tip: {\n        color: \"#ffc72b\",\n        fontSize: 40 * scale,\n        padding: [15, 4]\n    },\n    white: {\n        color: \"#fff\",\n        align: 'center',\n        fontSize: 21 * scale,\n        padding: [10, 0]\n    },\n    hr: {\n        borderColor: '#06405a',\n        width: '100%',\n        borderWidth: 0.5,\n        height: 0\n    }\n}\nconsole.log(data);\noption = {\n    legend: {\n        formatter: function(name) {\n            var sum = 0; //各科正确率总和\n            var averagePercent; //综合正确率\n            data.forEach(function(value, index, array) {\n                if (index < (data.length - 1)) {\n                    sum += value.value;\n                }\n            });\n            averagePercent = (sum / (data.length - 1)).toFixed(2);\n            return '{tip|' + averagePercent + '%}\\n{hr|}\\n{white|' + '综合正确率' + '}\\n{hr|}';\n        },\n        data: [data[0].name],\n        // data: ['高等教育学'],\n        itemGap: 50,\n        left: '0',\n        top: '0',\n        icon: 'none',\n        textStyle: {\n            color: \"#fff\",\n            fontSize: 16 * scale,\n            rich: rich\n        },\n    },\n    backgroundColor: \"#021421\",\n    color: ['#176265', '#28a59e', '#3fffea'],\n    series: [{\n        name: '访问来源',\n        type: 'pie',\n        startAngle: -180,\n        hoverAnimation: false,\n        radius: ['78%', '55%'],\n        center: ['50%', '88%'],\n        data: data,\n        label: {\n            normal: {\n                formatter: function(params, ticket, callback) {\n                    if (data.length !== (params.dataIndex + 1)) {\n                        return '{yellow|' + params.value + '%}\\n{circle|}\\n{green|' + params.name + '}';\n                    }\n                },\n                color: \"rgba(63,255,234,0.5)\",\n                rich: rich\n            }\n        },\n        // markLine: {\n        //     label:{\n        //         normal:{\n        //             position:'start',\n        //         }\n        //     },\n        //     lineStyle:{\n        //         normal:{\n        //             color:\"#fff\"\n        //         }\n        //     }\n        // },\n        labelLine: {\n            normal: {\n                length: 80 * scale,\n            }\n        },\n        itemStyle: {\n            normal: {\n                borderColor: borderColor,\n                borderWidth: 4 * scale,\n            },\n            // emphasis: {\n            //     shadowBlur: 10,\n            //     shadowOffsetX: 0,\n            //     shadowColor: 'rgba(0, 0, 0, 0.5)'\n            // }\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-1075817977","theme":"","layout":"","viewCount":1049,"userName":"7***2","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHkPPUgEyf.png?v=1510554816268","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie"],"customTags":[],"updaterUserName":"7***2"}}