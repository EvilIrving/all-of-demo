{"status":0,"data":{"cid":"x_b9dB2e9","authorUid":"bd-2232767318","authorUserName":"大***岸","title":"图例自动切换","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-12-18T11:26:33.000Z","lastUpdateTime":"2019-12-18T11:26:33.000Z","auth":2,"uid":"bd-2232767318","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-18T11:26:33.000Z","code":"var legendData = ['完成值', '完成率', '增长值'];\noption = {\n    \"tooltip\": {\n        \"trigger\": \"axis\",\n        \"axisPointer\": {\n            \"type\": \"shadow\"\n        }\n    },\n    axisPointer: {\n        type: 'shadow',\n        link: {\n            xAxisIndex: 'all'\n        }\n    },\n    legend: {\n        show: true,\n        data: legendData,\n        left: \"center\",\n        top: \"bottom\",\n        selected: {\n            '完成值': true,\n            '完成率': true,\n            '较上日': true,\n            '较上月': false,\n            '较上季': false,\n            '较上年': false\n        }\n    },\n    grid: {\n        left: '10%',\n        right: '5%',\n        top: '5%',\n        bottom: '12%',\n        containLabel: true\n    },\n    xAxis: {\n        type: \"category\",\n        triggerEvent: true,\n        axisLine: {\n            lineStyle: {\n                color: '#88E0F2',\n                width: 2\n            }\n        },\n        splitLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitArea: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            interval: 0,\n            rotate: 20,\n            //\"splitNumber\": 15,\n            textStyle: {\n                fontFamily: \"微软雅黑\",\n                color: '#000',\n                fontSize: 12\n            }\n        },\n        data: ['部门A', '部门B', '部门C', '部门D', '部门E']\n    },\n    yAxis: [{\n        name: '完成值(亿)',\n        axisLine: {\n            show: false,\n            color: '#5470E4'\n        },\n        axisTick: {\n            show: false,\n            color: '#5470E4'\n        },\n        nameTextStyle: {\n            color: '#000000',\n            align: 'right', //水平对齐方式\n            verticalAlign: 'top' //垂直对齐方式\n        },\n        splitLine: {\n            color: 'rgba(176,158,157,0.3)',\n            show: true,\n            lineStyle: {\n                color: '#ccc',\n                type: 'solid',\n                opacity: 0.5\n            }\n        },\n        axisLabel: {\n            show: false,\n            color: '#274BDD'\n        }\n    }, {\n        name: '完成率(%)',\n        axisLine: {\n            show: false,\n            color: '#ccc'\n        },\n        axisTick: {\n            show: false,\n            color: '#ccc'\n        },\n        nameTextStyle: {\n            color: '#000000',\n            align: 'right', //水平对齐方式\n            verticalAlign: 'top' //垂直对齐方式\n        },\n        splitLine: {\n            color: 'rgba(128,128,128,0.3)',\n            show: false,\n            lineStyle: {\n                color: '#ffffff',\n                type: 'solid',\n                opacity: 1\n            }\n        },\n        axisLabel: {\n            show: false,\n            color: '#274BDD'\n        }\n    }],\n    series: [{\n        type: \"bar\",\n        name: \"完成值\",\n        yAxisIndex: 0,\n        label: {\n            normal: {\n                show: true,\n                position: 'top',\n                offset: [0, 10],\n                color: '#274BDD'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: { //设置渐变色\n                    colorStops: [{\n                        color: '#4D60FD',\n                        offset: 0\n                    }, {\n                        color: '#578FFF',\n                        offset: 0.7\n                    }],\n                    x: 0,\n                    x2: 0,\n                    y: 0,\n                    y2: 1\n                },\n                barBorderRadius: [5, 5, 5, 5]\n            }\n        },\n        data: [100, 102, 104, 106, 98]\n\n    }, {\n        type: \"bar\",\n        name: \"增长值\",\n        yAxisIndex: 0,\n        label: {\n            normal: {\n                show: true,\n                position: 'top',\n                offset: [0, 10],\n                //color: '#274BDD'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: { //设置渐变色\n                    colorStops: [{\n                        color: 'green',\n                        offset: 0\n                    }, {\n                        color: 'yellow',\n                        offset: 0.7\n                    }],\n                    x: 0,\n                    x2: 0,\n                    y: 0,\n                    y2: 1\n                },\n                barBorderRadius: [5, 5, 5, 5]\n            }\n        },\n        data: [50, 38, 64, 59, 21]\n\n    }, {\n        type: \"line\",\n        name: \"完成率\",\n        yAxisIndex: 1,\n        barCategoryGap: '20%',\n        label: {\n            normal: {\n                show: true,\n                position: 'top',\n                offset: [0, -10],\n                color: '#274BDD'\n            }\n        },\n        yAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                color: { //设置渐变色\n                    colorStops: [{\n                        color: 'red',\n                        offset: 0\n                    }, {\n                        color: '#4D60FD',\n                        offset: 1\n                    }],\n                    x: 1,\n                    x2: 0,\n                    y: 0,\n                    y2: 0\n                }\n            }\n        },\n        data: [0.5, 0.76, 0.99, 0.32, 0.6]\n    }]\n}\n\nvar index = -1,\n    unIndex = [0, 1, 2];\nsetInterval(function() {\n    index = (index + 1) % 3;\n    unIndex.splice(index, 1);\n    setInterval(function() {\n        myChart.dispatchAction({\n            type: 'legendSelect',\n            name: legendData[index]\n        })\n        myChart.dispatchAction({\n            type: 'legendUnSelect',\n            name: legendData[unIndex[0]]\n        })\n        myChart.dispatchAction({\n            type: 'legendUnSelect',\n            name: legendData[unIndex[1]]\n        })\n    })\n    unIndex = [0, 1, 2];\n}, 2000)","html":"","externalScripts":"","updaterUID":"bd-2232767318","theme":"","layout":"","viewCount":304,"userName":"大***岸","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_b9dB2e9.png?v=1576668394091","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"大***岸"}}