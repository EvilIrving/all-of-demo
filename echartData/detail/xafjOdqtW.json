{"status":0,"data":{"cid":"xafjOdqtW","authorUid":"bd-3022141339","authorUserName":"g***n","title":"百分比堆积图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-01-14T07:21:39.000Z","lastUpdateTime":"2020-01-14T07:21:39.000Z","auth":2,"uid":"bd-3022141339","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-14T07:28:08.000Z","code":"var oridata = [\r\n[120, 132, 101, 134, 90, 230, 210],\r\n[2, 182, 191, 234, 290, 330, 310],\r\n[150, 232, 201, 154, 190, 330, 410]\r\n];\r\nvar data0 = [];\r\nvar data1 = [];\r\nvar data2 = [];\r\nvar total;\r\nfor (var i = 0, l = oridata[0].length; i < l; i++) {\r\ntotal = oridata[0][i] + oridata[1][i] + oridata[2][i];\r\ndata0.push(Math.round(oridata[0][i]/total * 100));\r\ndata1.push(Math.round(oridata[1][i]/total * 100));\r\ndata2.push(100 - data0[data0.length - 1] - data1[data1.length - 1]);\r\n}\r\noption = {\r\ntooltip : {\r\ntrigger: 'axis',\r\naxisPointer : { // 坐标轴指示器，坐标轴触发有效\r\ntype : 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n}\r\n},\r\nlegend: {\r\ndata:['邮件营销','联盟广告','视频广告']\r\n},\r\ntoolbox: {\r\nshow : true,\r\norient: 'vertical',\r\nx: 'right',\r\ny: 'center',\r\nfeature : {\r\nmark : true,\r\ndataView : {readOnly: false},\r\nmagicType:['line', 'bar'],\r\nrestore : true,\r\nsaveAsImage : true\r\n}\r\n},\r\ncalculable : true,\r\nxAxis : [\r\n{\r\ntype : 'value',\r\nsplitArea : {show : true}\r\n}\r\n],\r\nyAxis : [\r\n{\r\n    type : 'category',\r\ndata : ['周一','周二','周三','周四','周五','周六','周日']\r\n\r\n}\r\n],\r\nseries : [\r\n{\r\nname:'邮件营销',\r\ntype:'bar',\r\nstack: '广告',\r\ndata:data0\r\n},\r\n{\r\nname:'联盟广告',\r\ntype:'bar',\r\nstack: '广告',\r\ndata:data1\r\n},\r\n{\r\nname:'视频广告',\r\ntype:'bar',\r\nstack: '广告',\r\ndata:data2\r\n}\r\n]\r\n};","html":"","externalScripts":"","updaterUID":"bd-3022141339","theme":"","layout":"","viewCount":1298,"userName":"g***n","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xafjOdqtW.png?v=1578986888569","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","toolbox","tooltip"],"customTags":[],"updaterUserName":"g***n"}}