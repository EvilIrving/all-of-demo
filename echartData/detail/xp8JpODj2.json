{"status":0,"data":{"cid":"xp8JpODj2","authorUid":"bd-3182588218","authorUserName":"飞***燕","title":"备选轮播选中双层饼图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-12T01:23:53.000Z","lastUpdateTime":"2019-11-12T01:23:53.000Z","auth":2,"uid":"bd-3182588218","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-12T01:23:53.000Z","code":"var dataList = [{\n        name: '美容汽车服务',\n        value: 125\n    },\n    {\n        name: '保养服务',\n        value: 125\n    },\n    {\n        name: '安全检查服务',\n        value: 125\n    },\n    {\n        name: '目的地接送',\n        value: 125\n    },\n    {\n        name: '代驾',\n        value: 125\n    },\n    {\n        name: '非事故道路救援',\n        value: 125\n    },\n    {\n        name: '故障服务',\n        value: 125\n    },\n    {\n        name: '车管所服务',\n        value: 125\n    }\n]\n\nconst colorList = ['#5EA6FE', '#45FBF7', '#48FF58', '#EAE809', '#FF7E3F', '#FF4746', '#E177F9', '#4E6BFF'];\n\nfunction appendBaseColor(dataList, colorList, opacity) {\n    const temp = [];\n    for (let i in dataList) {\n        const tempObj = {\n            ...dataList[i],\n            itemStyle: {\n                color: colorList[i],\n                opacity: opacity\n            }\n        };\n        temp.push(tempObj)\n    }\n    return temp;\n}\n\noption = {\n    backgroundColor: '#222',\n    series: [{\n            type: 'pie',\n            radius: [0, 66],\n            label: {\n                normal: {\n                    show: false\n                }\n            },\n            itemStyle: {},\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data: appendBaseColor(dataList, colorList, 0.6)\n        },\n        {\n            type: 'pie',\n            radius: [85, 110],\n            label: {\n                normal: {\n                    fontSize: 14,\n                }\n            },\n            labelLine: {\n                show: false\n            },\n            data: appendBaseColor(dataList, colorList, 1)\n        }\n    ]\n};\n\nmyChart.setOption(option);\nstartLoopMove()\n\nfunction startLoopMove() {\n    let idx = 0;\n    setInterval(() => {\n        clearSelectedStatus();\n        option.series[0].data[idx]['selected'] = true;\n        option.series[0].data[idx]['itemStyle']['opacity'] = 1;\n        option.series[1].data[idx]['selected'] = true;\n        myChart.setOption(option);\n        idx++;\n        if (idx >= dataList.length) {\n            idx = 0;\n        }\n    }, 1000)\n}\n\nfunction clearSelectedStatus() {\n    option.series[0].data = appendBaseColor(dataList, colorList, 0.6)\n    option.series[1].data = appendBaseColor(dataList, colorList, 1)\n    myChart.setOption(option);\n}","html":"","externalScripts":"","updaterUID":"bd-3182588218","theme":"","layout":"","viewCount":2411,"userName":"飞***燕","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xp8JpODj2.png?v=1573521833276","isCustomThumbnail":0,"builtinTags":["category-work","series-pie"],"customTags":[],"updaterUserName":"飞***燕"}}