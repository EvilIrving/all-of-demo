{"status":0,"data":{"cid":"xBKj8uzapT","authorUid":"obd-ojC2o4Ui1AS8hdTHDbMBFQyx3ULdaEa","authorUserName":"十***V","title":"违法类型占比","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-11-27T09:36:44.000Z","lastUpdateTime":"2022-01-18T14:51:02.000Z","auth":1,"uid":"obd-ojC2o4Ui1AS8hdTHDbMBFQyx3ULdaEa","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-18T14:51:02.000Z","code":"areaData = [\n    {\n        name: '闯红灯',\n        max: 1000,\n        value: 350,\n    },\n    {\n        name: '逆行',\n        max: 1000,\n        value: 500,\n    },\n    {\n        name: '占用机动车道',\n        max: 1000,\n        value: 200,\n    },\n    {\n        name: '超载',\n        max: 1000,\n        value: 250,\n    },\n    {\n        name: '未戴安全头盔',\n        max: 1000,\n        value: 500,\n    },\n    {\n        name: '加装伞具',\n        max: 1000,\n        value: 702,\n    },\n];\ndata = [];\nareaData.forEach((item) => {\n    data.push(item.value);\n});\nlet maxNum = Math.max(...data); //获取数组中最大的值\n// 向上取整十，整百，整千，整万的方法\nfunction ceilNumber(number) {\n    let bite = 0;\n    if (number < 10) {\n        return 10;\n    }\n    while (number >= 10) {\n        number /= 10;\n        bite += 1;\n    }\n    return Math.ceil(number) * Math.pow(10, bite);\n}\nlet allMax = ceilNumber(maxNum); //将最大的值进行向上取整\nareaData.forEach((item) => {\n    item.max = allMax;\n});\ndata1 = [0, 0, 0, 0, 0, 0];\ndata2 = [0, 0, 0, 0, 0, 0];\ndata3 = [0, 0, 0, 0, 0, 0];\ndata4 = [0, 0, 0, 0, 0, 0];\ndata5 = [0, 0, 0, 0, 0, 0];\ndata6 = [0, 0, 0, 0, 0, 0];\ndata1[0] = data[0];\ndata2[1] = data[1];\ndata3[2] = data[2];\ndata4[3] = data[3];\ndata5[4] = data[4];\ndata6[5] = data[5];\noption = {\n    backgroundColor: '#092A4E',\n    color: ['#2E64FF', '#F0D418', '#FF9B42', '#FF6B6B', '#8E42FF', '#00e4ff'],\n    legend: {\n        trigger: 'item',\n        orient: 'vertical',\n        top: '40px',\n        left: '20px',\n        textStyle: {\n            color: '#fff',\n        },\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function (params) {\n            return params.name + ': ' + params.value + '辆';\n        },\n    },\n    radar: {\n        zlevel: 11,\n        shape: 'circle',\n        scale: true,\n        indicator: areaData,\n        center: ['50%', '50%'],\n        radius: '40%',\n        nameGap: '0',\n        startAngle: 90,\n        name: {\n            show: false,\n            color: 'red',\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: 'rgba(32,126,255, .5)',\n            },\n        },\n        splitLine: {\n            lineStyle: {\n                color: 'rgba(32,126,255, .5)',\n            },\n        },\n        splitArea: {\n            areaStyle: {\n                color: 'rgba(32,126,255, 0.1)',\n            },\n        },\n    },\n    polar: {\n        radius: '40%',\n    },\n    angleAxis: {\n        zlevel: 0,\n        min: 0,\n        max: 360,\n        axisLabel: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n        },\n    },\n    radiusAxis: {\n        zlevel: 0,\n        min: 0,\n        max: allMax,\n        axisLabel: {\n            textStyle: {\n                color: 'rgba(29,208,240,.5)',\n            },\n        },\n        splitLine: {\n            show: false,\n        },\n    },\n    series: [\n        {\n            type: 'radar',\n            symbolSize: 12,\n            symbol: 'circle',\n            tooltip: {\n                trigger: 'none',\n            },\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true,\n                        formatter: function (params) {\n                            if (params.value !== 0) {\n                                return params.value + '辆';\n                            } else {\n                                return '';\n                            }\n                        },\n                        color: '#ffffff',\n                        fontSize: 12,\n                        distance: 0,\n                    },\n                },\n            },\n            areaStyle: {\n                normal: {\n                    color: {\n                        type: 'radial',\n                        x: 0.5,\n                        y: 0.5,\n                        r: 0.5,\n                        colorStops: [\n                            {\n                                offset: 0,\n                                color: 'rgba(32,126,255, 0.5)', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(32,126,255, 0.1)', // 100% 处的颜色\n                            },\n                        ],\n                        global: false, // 缺省为 false\n                    },\n                },\n            },\n            data: [\n                {\n                    value: data,\n                },\n                {\n                    value: data1,\n                    itemStyle: {\n                        color: '#2e64ff',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: data2,\n                    itemStyle: {\n                        color: '#f0d418',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: data3,\n                    itemStyle: {\n                        color: '#ff9b42',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: data4,\n                    itemStyle: {\n                        color: '#ff6b6b',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: data5,\n                    itemStyle: {\n                        color: '#8e42ff',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: data6,\n                    itemStyle: {\n                        color: '#00e4ff',\n                    },\n                    lineStyle: {\n                        color: 'transparent', //设置折线的颜色\n                    },\n                },\n                {\n                    value: [0, 0, 0, 0, 0, 0],\n                    // name: '违章占比',\n                    symbolSize: 13,\n                    itemStyle: {\n                        color: 'rgba(40, 97, 132)',\n                    },\n                },\n            ],\n            zlevel: 20,\n            z: 4,\n        },\n        {\n            type: 'pie',\n            startAngle: 90,\n            clockwise: false, //逆时针\n            data: areaData.map((item) => {\n                return {\n                    name: item.name,\n                    value: item.value,\n                };\n            }),\n            radius: ['45%', '60%'],\n            zlevel: -1,\n            label: {\n                normal: {\n                    formatter: '{d}%',\n                    position: 'top',\n                    fontSize: '24',\n                    color: '#fff',\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oj9T2lzzEN-rkSViR-16WZnD_zQpPD7","theme":"","layout":"","viewCount":0,"userName":"十***V","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBKj8uzapT.png?v=1642517462539","isCustomThumbnail":0,"builtinTags":["category-work","legend","polar","radar","series-pie","series-radar","tooltip"],"customTags":[],"updaterUserName":"z***3"}}