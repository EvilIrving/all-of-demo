{"status":0,"data":{"cid":"xSJeIT7Bsl","authorUid":"bd-3393722029","authorUserName":"189*****321","title":"30 days sale data","description":"data from taobao","latestVersion":1,"alwaysLatest":1,"createTime":"2017-03-14T08:43:52.000Z","lastUpdateTime":"2017-03-14T08:43:52.000Z","auth":2,"uid":"bd-3393722029","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.4.0","versionCreateTime":"2017-03-14T08:43:52.000Z","code":"var data = [\n    {name:\"广东\",value:{sale:33157,sale1:17136,sale2:16021}},\n    {name:\"江西\",value:{sale:5445,sale1:2659,sale2:2786}},\n    {name:\"浙江\",value:{sale:2021,sale1:1133,sale2:888}},\n    {name:\"山东\",value:{sale:2504,sale1:1432,sale2:1072}},\n    {name:\"四川\",value:{sale:6187,sale1:2982,sale2:3205}},\n    {name:\"北京\",value:{sale:1119,sale1:624,sale2:495}},\n    {name:\"江苏\",value:{sale:4091,sale1:2524,sale2:1567}},\n    {name:\"福建\",value:{sale:1352,sale1:686,sale2:666}},\n    {name:\"上海\",value:{sale:3276,sale1:1467,sale2:1809}},\n    {name:\"天津\",value:{sale:430,sale1:218,sale2:212}},\n    {name:\"安徽\",value:{sale:189,sale1:73,sale2:116}},\n    {name:\"河北\",value:{sale:166,sale1:88,sale2:78}},\n    {name:\"重庆\",value:{sale:66,sale1:36,sale2:30}},\n    {name:\"河南\",value:{sale:73,sale1:20,sale2:53}},\n    {name:\"云南\",value:{sale:16,sale1:10,sale2:6}},\n    {name:\"广西\",value:{sale:62,sale1:53,sale2:9}},\n    {name:\"辽宁\",value:{sale:22,sale1:12,sale2:10}},\n    {name:\"陕西\",value:{sale:22,sale1:6,sale2:16}},\n    {name:\"湖南\",value:{sale:9,sale1:4,sale2:5}},\n    {name:\"美国\",value:{sale:2,sale1:1,sale2:1}},\n    {name:\"黑龙江\",value:{sale:6,sale1:0,sale2:6}},\n    {name:\"湖北\",value:{sale:0,sale1:0,sale2:0}}\n];\nvar geoCoordMap = {\n    '广东':[113.274423,23.136367],\n    '江西':[115.868167,28.687568],\n    '浙江':[120.154962,30.280469],\n    '山东':[116.964929,36.704511],\n    '四川':[104.079956,30.661263],\n    '北京':[116.40953,39.91057],\n    '江苏':[118.804572,32.062669],\n    '福建':[119.321437,26.094111],\n    '上海':[121.480237,31.243715],\n    '天津':[117.211088,39.104348],\n    '安徽':[117.289918,31.877125],\n    '河北':[114.482512,38.029097],\n    '重庆':[106.547966,29.569489],\n    '河南':[113.650945,34.74735],\n    '云南':[102.719022,25.058368],\n    '广西':[108.342112,22.812643],\n    '辽宁':[123.439871,41.810785],\n    '陕西':[108.947414,34.270216],\n    '湖南':[112.995156,28.123398],\n    '美国':[-99.731369,39.246447],\n    '黑龙江':[126.641332,45.75294],\n    '湖北':[114.293012,30.595871]\n};\n\nvar convertData = function (data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\n\noption = {\n    backgroundColor: '#404a59',\n    title: {\n        text: '30 days sale data',\n        subtext: 'data from taobao',\n        sublink: 'http://www.taobao.com',\n        left: 'center',\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    tooltip : {\n        trigger: 'item',\n        formatter: function (params) {\n            var d=params.data;\n            console.log(d)\n            return d.name+' 销量：'+d.value[2].sale+',有效销量：'+d.value[2].sale1\n        }\n    },\n    legend: {\n        orient: 'vertical',\n        y: 'bottom',\n        x:'right',\n        data:['pm2.5'],\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    geo: {\n        map: 'china',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam: true,\n        itemStyle: {\n            normal: {\n                areaColor: '#323c48',\n                borderColor: '#111'\n            },\n            emphasis: {\n                areaColor: '#2a333d'\n            }\n        }\n    },\n    series : [\n        {\n            name: 'pm2.5',\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: function (val) {\n                return val[2].sale / 300;\n            },\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: false\n                },\n                emphasis: {\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#ddb926'\n                }\n            }\n        },\n        {\n            name: 'Top 5',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data.sort(function (a, b) {\n                return b.value.sale - a.value.sale;\n            }).slice(0, 3)),\n            symbolSize: function (val) {\n                return val[2].sale1 / 300;\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                normal: {\n                    formatter: '{b}',\n                    position: 'right',\n                    show: true\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#f4e925',\n                    shadowBlur: 10,\n                    shadowColor: '#333'\n                }\n            },\n            zlevel: 1\n        }\n    ]\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-3393722029","theme":"","layout":"","viewCount":546,"userName":"189*****321","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSJeIT7Bsl.png?v=1489481032759","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"189*****321"}}