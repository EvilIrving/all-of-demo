{"status":0,"data":{"cid":"x_Jw2jeeV5","authorUid":"obd-oEn_ZtlLJ8NNxQ4jo7no6Srzn2K6_4N","authorUserName":"y***i","title":"中国地图热力地图富文本标签","description":"中国地图热力地图使用富文本做标签","latestVersion":48,"alwaysLatest":1,"createTime":"2020-07-05T07:33:25.000Z","lastUpdateTime":"2022-01-19T02:38:54.000Z","auth":1,"uid":"obd-oEn_ZtlLJ8NNxQ4jo7no6Srzn2K6_4N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":48,"parentVersion":47,"echartsVersion":"4.9.0","versionCreateTime":"2022-01-19T02:38:54.000Z","code":"var mapIcons = {\n    'sign': '/asset/get/s/data-1593933773676-FDpSjX2lK.png',\n    'bg': '/asset/get/s/data-1593933762711-IHRMda0Rg.png'\n};\n\n/*\n使用富文本制作复杂标签\nwx:yangtaoxf\n\n参考以下文章和作品，感谢相关作者\nhttps://gallery.echartsjs.com/editor.html?c=x9dsJQiYl\nhttps://gallery.echartsjs.com/editor.html?c=x_jX_bJ42L\nhttps://hacpai.com/article/1591878043990\nhttps://blog.csdn.net/liangayang/article/details/83311433\n*/\n\n\n// 全国省份列表\t\nvar geoCoordMap = {\n    \"台湾\": [121.509062, 25.044332],\n    \"河北\": [114.502461, 38.045474],\n    \"山西\": [112.549248, 37.857014],\n    \"内蒙古\": [111.670801, 40.818311],\n    \"辽宁\": [123.429096, 41.796767],\n    \"吉林\": [125.3245, 43.886841],\n    \"黑龙江\": [126.642464, 45.756967],\n    \"江苏\": [118.767413, 32.041544],\n    \"浙江\": [120.153576, 30.287459],\n    \"安徽\": [117.283042, 31.86119],\n    \"福建\": [119.306239, 26.075302],\n    \"江西\": [115.892151, 28.676493],\n    \"山东\": [117.000923, 36.675807],\n    \"河南\": [113.665412, 34.757975],\n    \"湖北\": [114.298572, 30.584355],\n    \"湖南\": [112.982279, 28.19409],\n    \"广东\": [113.280637, 23.125178],\n    \"广西\": [108.320004, 22.82402],\n    \"海南\": [110.33119, 20.031971],\n    \"四川\": [104.065735, 30.659462],\n    \"贵州\": [106.713478, 26.578343],\n    \"云南\": [102.712251, 25.040609],\n    \"西藏\": [91.132212, 29.660361],\n    \"陕西\": [108.948024, 34.263161],\n    \"甘肃\": [103.823557, 36.058039],\n    \"青海\": [101.778916, 36.623178],\n    \"宁夏\": [106.278179, 38.46637],\n    \"新疆\": [87.617733, 43.792818],\n    \"北京\": [116.405285, 39.904989],\n    \"天津\": [117.190182, 39.125596],\n    \"上海\": [121.472644, 31.231706],\n    \"重庆\": [106.504962, 29.533155],\n    \"香港\": [114.173355, 22.320048],\n    \"澳门\": [113.54909, 22.198951]\n};\nvar markPointData = [];\n\nfunction randomData() {\n    return Math.round(Math.random() * 2000);\n}\n\nvar dataMap = [\n    {\n        name: '江苏',\n        value: 400\n    }, {\n        name: '广东',\n        value: 350\n    },\n    {\n        name: '辽宁',\n        value: 600\n    }, \n    {\n        name: '北京',\n        value: 500\n    }, \n    {\n        name: '湖南',\n        value: 280\n    }, \n    {\n        name: '甘肃',\n        value: 600\n    }, \n    {\n        name: '新疆',\n        value: 400\n    }, \n    \n    {\n        name: '西藏',\n        value: 320\n    }, \n];\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push(geoCoord.concat(data[i].value));\n        }\n    }\n    return res;\n};\n\nvar option = {\n    backgroundColor: '#0e1c47',\n    title: {\n        text: '频谱干扰态势分布',\n        textStyle: {\n            align: 'center',\n            color: '#fff',\n            fontSize: 25,\n        },\n        top: '5%',\n        left: 'center',\n    },\n\n    \"animation\": true,\n    \"progressiveThreshold\": 3,\n    \"legend\": {\n        \"left\": 'left',\n        \"icon\": 'circle',\n        \"textStyle\": {\n            \"color\": '#fff'\n        }\n    },\n    \"tooltip\": {\n        \"trigger\": \"item\",\n        \"showDelay\": 0,\n        \"transitionDuration\": 0.2,\n        \"formatter\": \"{b}\",\n        \"triggerOn\": \"mousemove\",\n        \"backgroundColor\": \"#eee\",\n        \"borderColor\": \"#464849\",\n        \"borderWidth\": \"1\",\n        \"padding\": [5, 10],\n        \"textStyle\": {\n            \"color\": \"#000000\",\n            \"fontSize\": \"16\",\n            \"fontFamily\": \"Microsoft YaHei\",\n            \"fontWeight\": \"bold\"\n        }\n    },\n    \"grid\": {},\n    \"geo\": {\n        \"map\": \"china\",\n        //\"center\": [0, 12],\n        \"aspectScale\": 0.8,\n        \"roam\": true,\n        \"scaleLimit\": {\n            \"min\": 1.2,\n            \"max\": 15\n        },\n\n        \"zoom\": 1.2,\n\n\n        itemStyle: {\n            normal: {\n                borderColor: 'rgba(147, 235, 248, 1)',\n                borderWidth: 1,\n                areaColor: {\n                    type: 'radial',\n                    x: 0.5,\n                    y: 0.5,\n                    r: 0.8,\n                    colorStops: [{\n                        offset: 0,\n                        color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\n                    }, {\n                        offset: 1,\n                        color: 'rgba(147, 235, 248, .5)' // 100% 处的颜色\n                    }],\n                    globalCoord: false // 缺省为 false\n                },\n                shadowColor: 'rgba(128, 217, 248, 1)',\n                // shadowColor: 'rgba(255, 255, 255, 1)',\n                shadowOffsetX: -5,\n                shadowOffsetY: 12,\n                shadowBlur: 10\n            },\n            emphasis: {\n                areaColor: '#389BB7',\n                borderWidth: 0\n            }\n        }\n    },\n    \"series\": [{\n            \"name\": \"\",\n            \"type\": \"heatmap\",\n            \"minAlpha\": 0.5,\n            \"coordinateSystem\": \"geo\",\n\n            \"data\": convertData(dataMap),\n\n            \"markPoint\": { //标记点\n                // \"symbol\": 'path://M512 39.384615l169.353846 295.384615 342.646154 63.015385-240.246154 248.123077L827.076923 984.615385l-315.076923-145.723077L196.923077 984.615385l43.323077-334.769231L0 401.723077l342.646154-63.015385L512 39.384615',\n                //\"symbolSize\": 14, //图形大小\n                \"label\": {\n                    \"normal\": {\n                        formatter: function(params) {\n                            return params.name;\n                        },\n                        \"show\": true,\n                    },\n                    \"emphasis\": {\n                        show: true,\n                    }\n                },\n                \"itemStyle\": {\n                    \"normal\": {\n                        \"color\": 'rgba(72,150,128,1)'\n                    }\n                },\n                \"data\": markPointData\n            }\n\n        }\n\n    ],\n    \"visualMap\": [{\n        \"show\": true,\n        \"left\": \"10%\",\n        \"bottom\": \"5%\",\n        \"max\": 500,\n        \"min\": 0,\n        \"z\": 999,\n        \"calculable\": false,\n        \"text\": [\"高\", \"低\"],\n        \"inRange\": {\n            \"color\": [\"#0033FF\", \"#FFFF00\", \"#FF3333\"]\n        },\n        \"textStyle\": {\n            \"color\": \"#fff\"\n        },\n        \"seriesIndex\": 0\n    }]\n};\n\nvar currentPage = 1,\n    pageSize = 5,\n    len = dataMap.length;\n\n\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-4278683791","theme":"","layout":"","viewCount":19414,"userName":"y***i","commentCount":30,"starCount":51,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x_Jw2jeeV5.png?v=1642559934411","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","markPoint","series-heatmap","tooltip","visualMap"],"customTags":["rich"],"updaterUserName":"2***1"}}