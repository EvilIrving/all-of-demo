{"status":0,"data":{"cid":"x38vh7NTkg","authorUid":"bd-2894480899","authorUserName":"蓝***y","title":"可点击的柱状图(简约风格)","description":"柱状图端点用散点图代替,并给柱状图点击事件","latestVersion":7,"alwaysLatest":1,"createTime":"2019-06-10T08:01:10.000Z","lastUpdateTime":"2019-12-24T08:45:32.000Z","auth":2,"uid":"bd-2894480899","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-24T08:45:16.000Z","code":"var data0 = [0, 0, 0, 0, 0, 0, 0]\nvar data = [60, 85, 110, 160, 90, 80, 190]\nvar xdata = ['06-02', '06-03', '06-04', '06-05', '06-06', '06-07', '06-08']\nvar color = ['#EAEAEA', '#454545', '#000000']\n// 定义变量xIndex 表示X轴序号, Ymonth 表示柱状图的label值\nvar xIndex,Ymonth\n\noption = {\n    backgroundColor: color[2],\n    // 关闭提示框, 替换为柱状图的点击事件\n    tooltip: {\n        trigger: \"none\"\n    },\n    title: {\n        text: \"可点击的柱状图(简约风格)\",\n        subtext: '柱状图端点用散点图代替,并给柱状图点击事件',\n        textStyle: {\n            color: color[0],\n            fontSize: 26\n        },\n        subtextStyle: {\n            color: color[1],\n            fontSize: 14\n        },\n        left: 'center',\n        top: \"15%\"\n    },\n    grid: {\n        left: \"10%\",\n        top: \"35%\",\n        bottom: \"15%\",\n        right: \"10%\",\n        containLabel: true\n    },\n    xAxis: {\n        data: xdata,\n        type: 'category',\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            color: color[1],\n            fontSize: 14,\n            margin: 20\n        }\n    },\n    yAxis: {\n        type: 'value',\n        splitNumber: 4,\n        interval: 50,\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: color[1],\n                type: 'dashed'\n            }\n        },\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            color: color[1],\n            fontSize: 14\n        }\n    },\n    series: [{\n            type: 'bar',\n            barWidth: 4,\n            data: data,\n            color: color[0],\n            label: {\n                show: true,\n                position: 'top',\n                // 标签刻度值位置\n                offset: [0, -15],\n                fontSize: 16,\n                formatter: function(params) {\n                    // 判断收益是否大于0, 或者是否对应当前数据\n                    if(params.value === 0 || params.value !== Ymonth) {\n                        return ''\n                    } else {\n                        return params.value\n                    }\n                }\n            }\n        },\n        // 俩散点图作为圆柱端点\n        {\n            type: 'scatter',\n            symbolSize: 8,\n            itemStyle: {\n                borderWidth: 2.5,\n                borderColor: color[0],\n                color: color[2],\n                opacity: 1\n            },\n            silent: true,\n            data: data0\n        },\n        {\n            type: 'scatter',\n            symbolSize: 8,\n            itemStyle: {\n                borderWidth: 2.5,\n                borderColor: color[0],\n                color: color[2],\n                opacity: 1\n            },\n            silent: true,\n            data: data\n        }\n\n    ]\n}\n\n// 给每条数据的热区增加点击事件\nmyChart.getZr().on('click', function(params) {\n    var pointInPixel= [params.offsetX, params.offsetY]\n    if (myChart.containPixel('grid', pointInPixel)) {\n        var pointInGrid = myChart.convertFromPixel({seriesIndex: 0}, pointInPixel)\n        // X轴序号\n        xIndex = pointInGrid[0]\n        // 获取当前图表的option\n        var op = myChart.getOption()\n        // 获得图表中我们想要的数据\n        Ymonth = op.series[0].data[xIndex]\n        // console.log('点击了第' + xIndex + '条数据')\n        myChart.setOption({\n            xAxis: [{\n                axisLabel: {\n                    color: function(value, index) {\n                        return index === xIndex ? color[0] : color[1]\n                    }\n                }\n            }]\n        })\n    }\n})","html":"","externalScripts":"","updaterUID":"bd-2894480899","theme":"default","layout":"","viewCount":3198,"userName":"蓝***y","commentCount":2,"starCount":11,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x38vh7NTkg.png?v=1577177117011","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter","title","tooltip"],"customTags":["带端点柱状图","柱状图点击事件","简约风格柱状图"],"updaterUserName":"蓝***y"}}