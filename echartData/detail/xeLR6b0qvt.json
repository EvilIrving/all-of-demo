{"status":0,"data":{"cid":"xeLR6b0qvt","authorUid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","authorUserName":"z***d","title":"睡眠总览","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-12-10T03:44:54.000Z","lastUpdateTime":"2020-12-10T03:44:54.000Z","auth":2,"uid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-10T05:41:08.000Z","code":"let color = ['#83a1c5', '#45d7ff', '#286fff', '#bf8c3d'];\nlet data = {\n    sleep: [{name: '微', value: 10},{name: '低', value: 9}, {name: '中', value: 26}, {name: '高', value: 55}],\n    wake: [{name: '微', value: 28},{name: '低', value: 11}, {name: '中', value: 25}, {name: '高', value: 36}],\n    move: [{name: '微', value: 18},{name: '低', value: 17}, {name: '中', value: 35}, {name: '高', value: 40}]\n};\noption = {\n    backgroundColor: '#031930',\n    title: [{\n            text: '最近24小时',\n            textStyle: {\n                color: '#82a1c4',\n                fontSize: 18,\n                lineheight: 20\n            },\n            padding: [10, 20],\n            right: '10%',\n            top: 50,\n            borderColor: '#015292',\n            borderWidth: 1,\n            borderRadius: 8\n        },\n        {\n            subtext: '{img|入睡图片}\\n入睡效率',\n            subtextStyle: {\n                rich: {\n                    img: {\n                        color: 'red',\n                        backgroundColor: {\n                            image: ''\n                        },\n                        align: 'center'\n                    }\n                },\n                color: '#82a1c4',\n                fontSize: 30\n            },\n            top: '20%',\n            left: '15%'\n        },\n        {\n            subtext: '{img|苏醒图片}\\n苏醒次数',\n            subtextStyle: {\n                rich: {\n                    img: {\n                        color: 'red',\n                        backgroundColor: {\n                            image: ''\n                        },\n                        align: 'center'\n                    }\n                },\n                color: '#82a1c4',\n                fontSize: 30\n            },\n            top: '20%',\n            left: '45%'\n        },\n        {\n            subtext: '{img|睡动图片}\\n睡动幅度',\n            subtextStyle: {\n                rich: {\n                    img: {\n                        color: 'red',\n                        backgroundColor: {\n                            image: ''\n                        },\n                        align: 'center'\n                    }\n                },\n                color: '#82a1c4',\n                fontSize: 30\n            },\n            top: '20%',\n            left: '75%'\n        },\n    ],\n    legend: {\n        data: ['微', '低', '中', '高'],\n        orient: 'horizontal',\n        bottom: '20%',\n        itemWidth: 10,\n        itemHeight: 10,\n        textStyle: {\n            color: '#82a1c4'\n        },\n        selectedMode: false\n    },\n    series: [{\n        type: 'pie',\n        clockwise: false,\n        data: data.sleep,\n        silent: true,\n        center: ['20%', '50%'],\n        radius: '35%',\n        label: {\n            show: true,\n            position: 'inside',\n            formatter: function(value) {\n                return value.value + '%';\n            },\n            color: '#000',\n            fontSize: 10\n        },\n        labelLine: {\n            show: false\n        },\n    },{\n        type: 'pie',\n        clockwise: false,\n        data: data.wake,\n        silent: true,\n        center: ['50%', '50%'],\n        radius: '35%',\n        label: {\n            show: true,\n            position: 'inside',\n            formatter: function(value) {\n                return value.value + '%';\n            },\n            color: '#000',\n            fontSize: 10\n        },\n        labelLine: {\n            show: true\n        },\n    }, {\n        type: 'pie',\n        clockwise: false,\n        data: data.move,\n        silent: true,\n        center: ['80%', '50%'],\n        radius: '35%',\n        label: {\n            show: true,\n            position: 'inside',\n            formatter: function(value) {\n                return value.value + '%';\n            },\n            color: '#000',\n            fontSize: 10\n        },\n        labelLine: {\n            show: true\n        },\n    }, {\n        type: 'pie',\n        silent: true,\n        center: ['20%', '50%'],\n        radius: '38%',\n        label: {\n            show: false\n        },\n        data: [100],\n        labelLine: {\n            show: false\n        },\n        itemStyle: {\n            color: '#022d52'\n        },\n        z: -1\n    }, {\n        type: 'pie',\n        silent: true,\n        center: ['50%', '50%'],\n        radius: '38%',\n        label: {\n            show: false\n        },\n        data: [100],\n        labelLine: {\n            show: false\n        },\n        itemStyle: {\n            color: '#022d52'\n        },\n        z: -1\n    }, {\n        type: 'pie',\n        silent: true,\n        center: ['80%', '50%'],\n        radius: '38%',\n        label: {\n            show: false\n        },\n        data: [100],\n        labelLine: {\n            show: false\n        },\n        itemStyle: {\n            color: '#022d52'\n        },\n        z: -1\n    }],\n    color: color\n};\n\n\n// 模拟数据\nfunction vdata() {\n    let s = 100;\n    let w = 100;\n    let m = 100;\n    for(let i = 0; i < data.sleep.length; i++) {\n        if(i === data.sleep.length - 1) {\n            data.sleep[i].value = s;\n            data.wake[i].value = w;\n            data.move[i].value = m;\n        }else {\n            data.sleep[i].value = Math.floor(Math.random() * s + 1);\n            data.wake[i].value = Math.floor(Math.random() * w + 1);\n            data.move[i].value = Math.floor(Math.random() * m + 1);\n            s = s - data.sleep[i].value;\n            w = w - data.wake[i].value;\n            m = m - data.move[i].value;\n        }\n    }\n    option.series[0].data = data.sleep;\n    option.series[1].data = data.wake;\n    option.series[2].data = data.move;\n    myChart.setOption(option, true);\n}\nsetInterval(function() {\n    vdata();\n}, 1000);","html":"","externalScripts":"","updaterUID":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","theme":"","layout":"","viewCount":51,"userName":"z***d","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeLR6b0qvt.png?v=1607571894597","isCustomThumbnail":1,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"z***d"}}