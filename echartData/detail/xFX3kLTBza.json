{"status":0,"data":{"cid":"xFX3kLTBza","authorUid":"bd-2870690863","authorUserName":"蓝***3","title":"云南省地图州市和省级切换","description":"中间调用了阿里云的矢量数据，如果不能切换说明是无法获取到矢量地图数据了，如果本地调用，最后去把地图矢量数据都下载下来","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-10T02:19:27.000Z","lastUpdateTime":"2020-09-10T02:19:27.000Z","auth":1,"uid":"bd-2870690863","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-10T02:19:27.000Z","code":"let geoNameCode = {\"昆明市\": '530100',\n\"曲靖市\": '530300',\n\"玉溪市\": '530400',\n\"保山市\": '530500',\n\"昭通市\": '530600',\n\"丽江市\": '530700',\n\"普洱市\": '530800',\n\"临沧市\": '530900',\n\"楚雄彝族自治州\": '532300',\n\"红河哈尼族彝族自治州\": '532500',\n\"文山壮族苗族自治州\": '532600',\n\"西双版纳傣族自治州\": '532800',\n\"大理白族自治州\": '532900',\n\"德宏傣族景颇族自治州\": '533100',\n\"怒江傈僳族自治州\": '533300',\n\"迪庆藏族自治州\": '533400'};\nfunction showProvince1(region,regionCode) {\n    var name = 'bj';\n    $.get(`https://geo.datav.aliyun.com/areas_v2/bound/${regionCode}_full.json`, function(geoJson) {\n        echarts.registerMap(name, geoJson);\n\n        myChart.setOption(option = {\n            backgroundColor: '#ffffff',\n            title: {\n                text: `${region}`,\n                left: 'center',\n                textStyle: {\n                    color: '#000'\n                }\n            },\n            visualMap: {\n                min: 0,\n                max: 0.5,\n                dimension: 0,\n                left: 'left',\n                top: 'bottom',\n                text: ['HIGH', 'LOW'], // 文本，默认为数值文本\n                calculable: true,\n                inRange: {\n                    color: ['#7AC6F9', '#C9E0F0']\n                }\n            },\n            series: [{\n                type: 'map',\n                mapType: name,\n                label: {\n                    normal: {\n                        show: true,\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: 'rgba(255, 255, 255, 0.8)'\n                        }\n                    }\n                },\n                animation: false\n            }]\n        });\n        myChart.on('click',function(params){\n            console.log(params.name);\n            console.log(geoNameCode[params.name]);\n            if(geoNameCode[params.name]==undefined){\n                console.log('无法加载区县以下的数据,返回云南省');\n                showProvince2('云南省','530000');\n                return false;\n            }\n            showProvince2(params.name,geoNameCode[params.name]);\n            return false;\n        });\n    });\n}\n\nfunction showProvince2(region,regionCode) {\n    var name = 'bj';\n    $.get(`https://geo.datav.aliyun.com/areas_v2/bound/${regionCode}_full.json`, function(geoJson) {\n        echarts.registerMap(name, geoJson);\n        myChart.setOption(option = {\n            backgroundColor: '#ffffff',\n            title: {\n                text: `${region}`,\n                left: 'center',\n                textStyle: {\n                    color: '#000'\n                }\n            },\n            visualMap: {\n                min: 0,\n                max: 0.5,\n                dimension: 0,\n                left: 'left',\n                top: 'bottom',\n                text: ['HIGH', 'LOW'], // 文本，默认为数值文本\n                calculable: true,\n                inRange: {\n                    color: ['#7AC6F9', '#C9E0F0']\n                }\n            },\n            series: [{\n                type: 'map',\n                mapType: name,\n                label: {\n                    normal: {\n                        show: true,\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: 'rgba(255, 255, 255, 0.8)'\n                        }\n                    }\n                },\n                animation: false\n            }]\n        });\n    });\n}\n\n// var currentIdx = 0;\n\nshowProvince1('云南省','530000');\n","html":"","externalScripts":"","updaterUID":"bd-2870690863","theme":"","layout":"","viewCount":211,"userName":"蓝***3","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFX3kLTBza.png?v=1599704368137","isCustomThumbnail":0,"builtinTags":["category-work","series-map","title","visualMap"],"customTags":[],"updaterUserName":"蓝***3"}}