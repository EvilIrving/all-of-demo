{"status":0,"data":{"cid":"x8UIlr9TTc","authorUid":"bd-136292181","authorUserName":"f***花","title":"地图","description":"","latestVersion":10,"alwaysLatest":0,"createTime":"2021-10-19T10:27:18.000Z","lastUpdateTime":"2021-10-28T12:08:24.000Z","auth":2,"uid":"bd-136292181","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.9.0","versionCreateTime":"2021-10-28T12:08:24.000Z","code":"var mapData = echarts.getMap('china').geoJson;\nvar data = [];\nvar cpdata = [];\nmapData.features.forEach((item) => {\n    var value = Math.floor(Math.random() * 100);\n    data.push({\n        name: item.properties.name,\n        value: value,\n    });\n    cpdata.push({\n        name: item.properties.name,\n        value: [item.properties.cp[0], item.properties.cp[1], value],\n    });\n});\nconsole.log(data);\noption = {\n    backgroundColor:\"#222\",\n    title: {\n        text: '地图',\n    },\n\n    geo: {\n        map: 'china',\n        itemStyle: {\n            normal: {\n                //设置无用 用色块会被map里面覆盖 除非纯色\n                areaColor: '#0050af',\n                borderWidth: 1,\n                borderColor: '#82effc',\n                // borderType:'dashed',\n                shadowColor: '#82effc',\n                shadowBlur: 4,\n                // shadowOffsetX: 5,\n                // shadowOffsetY: 15,\n            },\n        },\n        emphasis: {\n            itemStyle: {\n                // areaColor: '#ff0000',\n            },\n            label: {\n                // show:false,\n                color: '#ffffff',\n            },\n        },\n    },\n    visualMap: {\n        show: true,\n        type: 'piecewise',\n        min: 0,\n        max: 100,\n        splitNumber: 5,\n        inRange: {\n            color: ['#313695', '#4575b4', '#abd9e9', '#fdae61', '#a50026'],\n        },\n    },\n    series: [\n        {\n            type: 'map',\n            // map: 'china',\n            data: data,\n            itemStyle: {\n                areaColor: '#A5DCF4', //无数据的颜色\n            },\n            label: {\n                show: false,\n                color: '#fff',\n                formatter: function (para) {\n                    if (para.data && para.data.name && para.data.value) {\n                        return para.data.name + ':' + para.data.value;\n                    }\n                },\n            },\n        },\n        {\n            name: '散点',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            // colorBy: 'data',\n            data: cpdata,\n            symbolSize: 10,\n            symbol: 'circle',\n            labelLine: {\n                show: true,\n            },\n            label: {\n                show: false,\n                // offset: [0, -30],\n                // formatter: function (params) {\n                //     return [params.name, params.data.value[2]].join(':');\n                // },\n            },\n            emphasis: {\n                // show: true,\n                itemStyle: {\n                    opacity: 1,\n                },\n                symbolSize: 30,\n                label: {\n                    show: true,\n                    offset: [0, -20],\n                    formatter: function (params) {\n                        return [params.name, params.data.value[2]].join(':');\n                    },\n                },\n            },\n            showEffectOn: 'emphasis', //高亮的时候\n            itemStyle: {\n                color: '#ff0000',\n                // shadowColor: '#013C62',\n                // shadowBlur: 1,\n                // shadowOffsetX: 5,\n                // shadowOffsetY: 15,\n                opacity: 0.3,\n            },\n        },\n    ],\n};\nlet _t = -1;\nsetInterval(() => {\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 1,\n        dataIndex: (_t - 3) % data.length,\n    });\n    _t++;\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 1,\n        dataIndex: _t % data.length,\n    });\n}, 2000);\n","html":"","externalScripts":"dep/echarts/map/js/china.js","updaterUID":"bd-136292181","theme":"","layout":"","viewCount":0,"userName":"f***花","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x8UIlr9TTc.png?v=1635422904678","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","title"],"customTags":[],"updaterUserName":"f***花"}}