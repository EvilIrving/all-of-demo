{"status":0,"data":{"cid":"xm1CCr6GcI","authorUid":"bd-2105958829","authorUserName":"安***子","title":"2000~2005年中国各省GDP情况","description":"地图及柱状图关联显示数据","latestVersion":1,"alwaysLatest":1,"createTime":"2021-03-29T01:13:09.000Z","lastUpdateTime":"2021-03-29T01:13:09.000Z","auth":2,"uid":"bd-2105958829","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-03-29T01:13:09.000Z","code":"//数据来源：国家统计局，本数据不包含香港，澳门，台湾地区\r\nvar uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\r\n\r\nvar geoCoordMap = {\r\n    '北京': [116.40, 40.40],\r\n    '天津': [117.04, 39.52],\r\n    '河北': [115.21, 38.44],\r\n    '山西': [111.95, 37.65],\r\n    '内蒙古': [112.17, 42.81],\r\n    '辽宁': [123.42, 41.29],\r\n    '吉林': [126.32, 43.38],\r\n    '黑龙江': [128.34, 47.05],\r\n    '上海': [121.46, 31.28],\r\n    '江苏': [120.26, 32.54],\r\n    '浙江': [120.15, 29.28],\r\n    '安徽': [117.28, 31.86],\r\n    '福建': [118.31, 26.07],\r\n    '江西': [115.89, 27.97],\r\n    '山东': [118.01, 36.37],\r\n    '河南': [113.46, 34.25],\r\n    '湖北': [112.29, 30.98],\r\n    '湖南': [112.08, 27.79],\r\n    '广东': [113.98, 22.82],\r\n    '广西': [108.67, 23.68],\r\n    '海南': [110.03, 19.33],\r\n    '重庆': [107.51, 29.63],\r\n    '四川': [103.36, 30.65],\r\n    '贵州': [106.91, 26.67],\r\n    '云南': [101.71, 24.84],\r\n    '西藏': [89.13, 30.66],\r\n    '陕西': [108.94, 34.46],\r\n    '甘肃': [103.82, 36.05],\r\n    '青海': [97.07, 35.62],\r\n    '宁夏': [106.27, 36.76],\r\n    '新疆': [86.61, 40.79],\r\n}\r\n\r\n//2000年数据\r\nvar d1 = {\r\n    '北京': 3161.66,\r\n    '天津': 1701.88,\r\n    '河北': 5043.96,\r\n    '山西': 1845.72,\r\n    '内蒙古': 1539.12,\r\n    '辽宁': 4669.06,\r\n    '吉林': 1951.51,\r\n    '黑龙江': 3151.4,\r\n    '上海': 4771.17,\r\n    '江苏': 8553.69,\r\n    '浙江': 6141.03,\r\n    '安徽': 2902.09,\r\n    '福建': 3764.54,\r\n    '江西': 2003.07,\r\n    '山东': 8337.47,\r\n    '河南': 5052.99,\r\n    '湖北': 3545.39,\r\n    '湖南': 3551.49,\r\n    '广东': 10741.25,\r\n    '广西': 2080.04,\r\n    '海南': 526.82,\r\n    '重庆': 1791,\r\n    '四川': 3928.2,\r\n    '贵州': 1029.92,\r\n    '云南': 2011.19,\r\n    '西藏': 117.8,\r\n    '陕西': 1804,\r\n    '甘肃': 1052.88,\r\n    '青海': 263.68,\r\n    '宁夏': 295.02,\r\n    '新疆': 1363.56,\r\n};\r\n//2001年数据\r\nvar d2 = {\r\n    '北京': 3707.96,\r\n    '天津': 1919.09,\r\n    '河北': 5516.76,\r\n    '山西': 2029.53,\r\n    '内蒙古': 1713.81,\r\n    '辽宁': 5033.08,\r\n    '吉林': 2120.35,\r\n    '黑龙江': 3390.1,\r\n    '上海': 5210.12,\r\n    '江苏': 9456.84,\r\n    '浙江': 6898.34,\r\n    '安徽': 3246.71,\r\n    '福建': 4072.85,\r\n    '江西': 2175.68,\r\n    '山东': 9195.04,\r\n    '河南': 5533.01,\r\n    '湖北': 3880.53,\r\n    '湖南': 3831.9,\r\n    '广东': 12039.25,\r\n    '广西': 2279.34,\r\n    '海南': 579.17,\r\n    '重庆': 1976.86,\r\n    '四川': 4293.49,\r\n    '贵州': 1133.27,\r\n    '云南': 2138.31,\r\n    '西藏': 139.16,\r\n    '陕西': 2010.62,\r\n    '甘肃': 1125.37,\r\n    '青海': 300.13,\r\n    '宁夏': 337.44,\r\n    '新疆': 1491.6,\r\n};\r\n//2002年数据\r\nvar d3 = {\r\n    '北京': 4315,\r\n    '天津': 2150.76,\r\n    '河北': 6018.28,\r\n    '山西': 2324.8,\r\n    '内蒙古': 1940.94,\r\n    '辽宁': 5458.22,\r\n    '吉林': 2348.54,\r\n    '黑龙江': 3637.2,\r\n    '上海': 5741.03,\r\n    '江苏': 10606.85,\r\n    '浙江': 8003.67,\r\n    '安徽': 3519.72,\r\n    '福建': 4467.55,\r\n    '江西': 2450.48,\r\n    '山东': 10275.5,\r\n    '河南': 6035.48,\r\n    '湖北': 4212.82,\r\n    '湖南': 4151.54,\r\n    '广东': 13502.42,\r\n    '广西': 2523.73,\r\n    '海南': 642.73,\r\n    '重庆': 2232.86,\r\n    '四川': 4725.01,\r\n    '贵州': 1243.43,\r\n    '云南': 2312.82,\r\n    '西藏': 162.04,\r\n    '陕西': 2253.39,\r\n    '甘肃': 1232.03,\r\n    '青海': 340.65,\r\n    '宁夏': 377.16,\r\n    '新疆': 1612.65,\r\n};\r\n//2003年数据\r\nvar d4 = {\r\n    '北京': 5007.21,\r\n    '天津': 2578.03,\r\n    '河北': 6921.29,\r\n    '山西': 2855.23,\r\n    '内蒙古': 2388.38,\r\n    '辽宁': 6002.54,\r\n    '吉林': 2662.08,\r\n    '黑龙江': 4057.4,\r\n    '上海': 6694.23,\r\n    '江苏': 12442.87,\r\n    '浙江': 9705.02,\r\n    '安徽': 3923.11,\r\n    '福建': 4983.67,\r\n    '江西': 2807.41,\r\n    '山东': 12078.15,\r\n    '河南': 6867.7,\r\n    '湖北': 4757.45,\r\n    '湖南': 4659.99,\r\n    '广东': 15844.64,\r\n    '广西': 2821.11,\r\n    '海南': 713.96,\r\n    '重庆': 2555.72,\r\n    '四川': 5333.09,\r\n    '贵州': 1426.34,\r\n    '云南': 2556.02,\r\n    '西藏': 185.09,\r\n    '陕西': 2587.72,\r\n    '甘肃': 1399.83,\r\n    '青海': 390.2,\r\n    '宁夏': 445.36,\r\n    '新疆': 1886.35,\r\n};\r\n//2004年数据\r\nvar d5 = {\r\n    '北京': 6033.21,\r\n    '天津': 3110.97,\r\n    '河北': 8477.63,\r\n    '山西': 3571.37,\r\n    '内蒙古': 3041.07,\r\n    '辽宁': 6672,\r\n    '吉林': 3122.01,\r\n    '黑龙江': 4750.6,\r\n    '上海': 8072.83,\r\n    '江苏': 15003.6,\r\n    '浙江': 11648.7,\r\n    '安徽': 4759.3,\r\n    '福建': 5763.35,\r\n    '江西': 3456.7,\r\n    '山东': 15021.84,\r\n    '河南': 8553.79,\r\n    '湖北': 5633.24,\r\n    '湖南': 5641.94,\r\n    '广东': 18864.62,\r\n    '广西': 3433.5,\r\n    '海南': 819.66,\r\n    '重庆': 3034.58,\r\n    '四川': 6379.63,\r\n    '贵州': 1677.8,\r\n    '云南': 3081.91,\r\n    '西藏': 220.34,\r\n    '陕西': 3175.58,\r\n    '甘肃': 1688.49,\r\n    '青海': 466.1,\r\n    '宁夏': 537.11,\r\n    '新疆': 2209.09,\r\n\r\n};\r\n//2005年数据\r\nvar d6 = {\r\n    '北京': 6969.52,\r\n    '天津': 3905.64,\r\n    '河北': 10012.11,\r\n    '山西': 4230.53,\r\n    '内蒙古': 3905.03,\r\n    '辽宁': 8047.26,\r\n    '吉林': 3620.27,\r\n    '黑龙江': 5513.7,\r\n    '上海': 9247.66,\r\n    '江苏': 18598.69,\r\n    '浙江': 13417.68,\r\n    '安徽': 5350.17,\r\n    '福建': 6554.69,\r\n    '江西': 4056.76,\r\n    '山东': 18366.87,\r\n    '河南': 10587.42,\r\n    '湖北': 6590.19,\r\n    '湖南': 6596.1,\r\n    '广东': 22557.37,\r\n    '广西': 3984.1,\r\n    '海南': 918.75,\r\n    '重庆': 3467.72,\r\n    '四川': 7385.1,\r\n    '贵州': 2005.42,\r\n    '云南': 3462.73,\r\n    '西藏': 248.8,\r\n    '陕西': 3933.72,\r\n    '甘肃': 1933.98,\r\n    '青海': 543.32,\r\n    '宁夏': 612.61,\r\n    '新疆': 2604.19,\r\n};\r\n\r\n\r\nvar colors = [\r\n    [\"#1DE9B6\", \"#fde8cd\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#E690D1\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\"],\r\n    [\"#37A2DA\", \"#fde8cd\", \"#32C5E9\", \"#5DBD32\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#546570\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\", \"#37A2DA\", \"#fde8cd\", \"#32C5E9\", \"#FFDB5C\", \"#FF9F7F\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\"],\r\n    [\"#DD6B66\", \"#fde8cd\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#DD6B66\", \"#E69D87\", \"#EA7E53\", \"#EEDD78\"],\r\n];\r\nvar colorIndex = 2;\r\n$(function() {\r\n    var year = [\"2000\", \"2001\", \"2002\", \"2003\", \"2004\", \"2005\"];\r\n    var mapData = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n\r\n    /*柱子Y名称*/\r\n    var categoryData = [];\r\n    var barData = [];\r\n\r\n    for (var key in geoCoordMap) {\r\n        mapData[0].push({\r\n            \"year\": '2000',\r\n            \"name\": key,\r\n            \"value\": d1[key],\r\n        });\r\n        mapData[1].push({\r\n            \"year\": '2001',\r\n            \"name\": key,\r\n            \"value\": d2[key],\r\n        });\r\n        mapData[2].push({\r\n            \"year\": '2002',\r\n            \"name\": key,\r\n            \"value\": d3[key],\r\n        });\r\n        mapData[3].push({\r\n            \"year\": '2003',\r\n            \"name\": key,\r\n            \"value\": d4[key],\r\n        });\r\n        mapData[4].push({\r\n            \"year\": '2004',\r\n            \"name\": key,\r\n            \"value\": d5[key],\r\n        });\r\n        mapData[5].push({\r\n            \"year\": '2005',\r\n            \"name\": key,\r\n            \"value\": d6[key],\r\n        });\r\n    }\r\n\r\n    for (var i = 0; i < mapData.length; i++) {\r\n        mapData[i].sort(function sortNumber(a, b) {\r\n            return a.value - b.value\r\n        });\r\n        barData.push([]);\r\n        categoryData.push([]);\r\n        for (var j = 0; j < mapData[i].length; j++) {\r\n            barData[i].push(mapData[i][j].value);\r\n            categoryData[i].push(mapData[i][j].name);\r\n        }\r\n    }\r\n\r\n    $.getJSON(uploadedDataURL, function(geoJson) {\r\n\r\n        echarts.registerMap('china', geoJson);\r\n        var convertData = function(data) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({\r\n                        name: data[i].name,\r\n                        value: geoCoord.concat(data[i].value)\r\n                    });\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n        optionXyMap01 = {\r\n            timeline: {\r\n                data: year,\r\n                axisType: 'category',\r\n                autoPlay: true,\r\n                playInterval: 3000,\r\n                left: '5%',\r\n                right: '15%',\r\n                bottom: '1%',\r\n                width: '65%',\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                symbolSize: 10,\r\n                lineStyle: {\r\n                    color: '#555'\r\n                },\r\n                checkpointStyle: {\r\n                    borderColor: '#777',\r\n                    borderWidth: 2\r\n                },\r\n                controlStyle: {\r\n                    showNextBtn: true,\r\n                    showPrevBtn: true,\r\n                    normal: {\r\n                        color: '#666',\r\n                        borderColor: '#666'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa',\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n\r\n            },\r\n            baseOption: {\r\n                animation: true,\r\n                animationDuration: 1000,\r\n                animationEasing: 'cubicInOut',\r\n                animationDurationUpdate: 1000,\r\n                animationEasingUpdate: 'cubicInOut',\r\n                grid: {\r\n                    right: '2%',\r\n                    top: '15%',\r\n                    bottom: '5%',\r\n                    width: '20%'\r\n                },\r\n                tooltip: {\r\n                    trigger: 'axis', // hover触发器\r\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n                        shadowStyle: {\r\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\r\n                        }\r\n                    }\r\n                },\r\n\r\n                geo: {\r\n                    show: true,\r\n                    map: 'china',\r\n                    roam: true,\r\n                    zoom: 0.9,\r\n                    center: [113.83531246, 34.0267395887],\r\n                    label: {\r\n                        emphasis: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'rgba(147, 235, 248, 1)',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'radial',\r\n                                x: 0.5,\r\n                                y: 0.5,\r\n                                r: 0.8,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\r\n                                }],\r\n                                globalCoord: false // 缺省为 false\r\n                            },\r\n                            shadowColor: 'rgba(128, 217, 248, 1)',\r\n                            shadowOffsetX: -2,\r\n                            shadowOffsetY: 2,\r\n                            shadowBlur: 10\r\n                        },\r\n                    }\r\n                },\r\n            },\r\n            options: []\r\n\r\n        };\r\n        for (var n = 0; n < year.length; n++) {\r\n            optionXyMap01.options.push({\r\n                backgroundColor: '#013954',\r\n                title: {\r\n                    text: '2000~2005年中国各省GDP情况',\r\n                    left: '23%',\r\n                    top: '7%',\r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        fontSize: 20\r\n                    }\r\n                },\r\n                xAxis: {\r\n                    type: 'value',\r\n                    scale: true,\r\n                    position: 'top',\r\n                    min: 0,\r\n                    max: 110000,\r\n                    boundaryGap: false,\r\n                    splitNumber: 4,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        margin: 2,\r\n                        textStyle: {\r\n                            color: '#aaa'\r\n                        }\r\n\r\n                    },\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    nameGap: 16,\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show: false,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    data: categoryData[n]\r\n                },\r\n\r\n                series: [\r\n                    //地图\r\n                    {\r\n                        type: 'map',\r\n                        map: 'china',\r\n                        geoIndex: 0,\r\n                        aspectScale: 0.75, //长宽比\r\n                        showLegendSymbol: false, // 存在legend时显示\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            },\r\n                            emphasis: {\r\n                                show: false,\r\n                                textStyle: {\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        },\r\n                        roam: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#031525',\r\n                                borderColor: '#FFFFFF',\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2B91B7'\r\n                            }\r\n                        },\r\n                        animation: false,\r\n                        data: mapData\r\n                    },\r\n                    {\r\n                        name: 'Top 5',\r\n                        type: 'scatter',\r\n                        coordinateSystem: 'geo',\r\n                        symbol: 'pin',\r\n                        symbolSize: [50, 50],\r\n                        label: {\r\n                            normal: {\r\n                                show: true,\r\n                                textStyle: {\r\n                                    color: '#fff',\r\n                                    fontSize: 9,\r\n                                },\r\n                                formatter(value) {\r\n                                    return value.data.value[2]\r\n                                }\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: '#D8BC37', //标志颜色\r\n                            }\r\n                        },\r\n                        data: convertData(mapData[n].sort(function(a, b) {\r\n                            return b.value - a.value;\r\n                        }).slice(0, 35)),\r\n                        showEffectOn: 'render',\r\n                        rippleEffect: {\r\n                            brushType: 'stroke'\r\n                        },\r\n                        hoverAnimation: true,\r\n                        zlevel: 1\r\n                    },\r\n                    //柱状图\r\n                    {\r\n                        zlevel: 1.5,\r\n                        type: 'bar',\r\n                        barMaxWidth: 10,\r\n                        symbol: 'none',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        data: barData[n]\r\n                    }\r\n                ]\r\n            })\r\n        }\r\n        myChart.setOption(optionXyMap01);\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"bd-2105958829","theme":"","layout":"","viewCount":165,"userName":"安***子","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xm1CCr6GcI.png?v=1616980389281","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"安***子"}}