{"status":0,"data":{"cid":"xSyYcz-gw7","authorUid":"bd-3747630034","authorUserName":"LOGCHEN007","title":"排行榜类型图","description":"根据数值对序列进行排序，标签颜色随序列颜色变化而变化","latestVersion":1,"alwaysLatest":1,"createTime":"2018-08-26T10:36:00.000Z","lastUpdateTime":"2018-08-26T10:36:00.000Z","auth":2,"uid":"bd-3747630034","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-08-26T10:36:00.000Z","code":"\n\napp.title = '价值创造';\n\nvar grayBar = [ 1, 1, 1, 1];\nvar paiming = [ 4, 3, 2, 1];\nvar zongjine = [1209, 2309,3024, 5040];\n\nvar city = ['一月份', '三月份', '二月份', '四月份'];\nconst colors = ['#11D0A8', '#FF9F01', '#781414', '#03A6AB', '#E8B47B', '#F54323', '#D011C9'];\n// const colors = ['red','green'];\n// const colors = ['yellow'];\nconst richs = {};\nconst labels = {};\n\nfunction col(ind){\n    let i = colors.length;\n    console.log(\"i:\",i)\n    if(ind>=i){\n        let a = ind%i;\n        return colors[a];\n    }else{\n        return colors[ind];\n    }\n}\n\nlet _zongjine = [];\nzongjine.forEach((value,index)=>{\n    _zongjine.push({\n         name: city[index],\n         value: value,\n         itemStyle: {\n             normal: {\n                 color: col(index),\n                 label: {\n                    show: true,\n                    position: 'insideRight',\n                    formatter: '    ',\n                    backgroundColor: '#fff',\n                    distance: -0,\n                    borderColor: col(index),\n                    borderWidth:6,\n                    borderRadius: 20,\n                    shadowColor:col(index),\n                    shadowBlur:6,\n                    // shadowOffsetX:0\n                    // color: '#fff'\n                  }\n             }\n         }\n    })\n})\n\n city.forEach((ele, i) => {\n     let a = 'a' + i\n     richs[a] = {\n         color: col(i),\n         fontSize: 18,\n     }\n })\n \n city.forEach((ele, i) => {\n     let b = 'a' + i\n     labels[b] = {\n        show: true,\n        position: 'insideRight',\n        formatter: '    ',\n        backgroundColor: '#fff',\n        distance: 0,\n        borderColor: col(i),\n        borderWidth: 2,\n        borderRadius: 20,\n     }\n })\n\n\noption = {\n     tooltip:{\n         trigger:'item',\n        \n    },\n    backgroundColor:\"#fff\",\n    color:[\"#559fef\"],\n    xAxis: [\n        {\n            show: false,\n        },\n        //由于下边X轴已经是百分比刻度了,所以需要在顶部加一个X轴,刻度是金额,也隐藏掉\n        {\n            show: false,\n            max:5040\n        }\n    ],\n    yAxis: [{\n        type: 'category',\n        show: false,\n        data: city,\n        \n    }\n    ],\n    series: [\n         //蓝条--------------------我是分割线君------------------------------//\n          {\n            show: true,\n            type: 'bar',\n            barGap: '-100%',\n            barWidth:20, //统计条宽度\n            xAxisIndex:1,\n            itemStyle: {\n                normal: {\n                  barBorderRadius: 20, //统计条弧度\n                //   label: {\n                //     show: true,\n                //     position: 'insideRight',\n                //     formatter: '   ',\n                //     backgroundColor: '#fff',\n                //     distance: 0,\n                //     borderColor: 'rgba(255, 234, 0,0.8)',\n                //     borderWidth: 10,\n                //     borderRadius: 20,\n                //     // color: '#fff'\n                //   }\n            \n                \n                },\n            },\n           \n           \n            max: 1,\n            labelLine: {\n                show: false,\n            },\n            z:100,\n            data: _zongjine,\n            formatter:function(params){\n                return params.value;\n            }\n        },\n        //右边数据条--------------------我是分割线君------------------------------//\n        {\n            show: true,\n            type: 'bar',\n  //         xAxisIndex: 1, //代表使用第二个X轴刻度!!!!!!!!!!!!!!!!!!!!!!!!\n            barGap: '-100%',\n            barWidth: 20, //统计条宽度\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 20,\n                         color: '#ecf0f4'\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                    //label 的position位置可以是top bottom left,right,也可以是固定值\n                    //在这里需要上下统一对齐,所以用固定值\n                  position: [\"80%\", '-180%'],\n                    rich:richs,\n                    formatter: function(data) {\n                        const series1 = option.series[0].data;\n                        let str = \"\"\n                        series1.forEach((ele, i) => {\n                             if (ele.name === data.name) {\n                                 let aa = \"a\" + i\n                                 str += '{' + aa + '| ' +zongjine[data.dataIndex]+'}';\n                             }\n\n                         });\n                         return str;\n                        //富文本固定格式{colorName|这里填你想要写的内容}\n                        // return '{green|'+zongjine[data.dataIndex] +' 件'+'}';\n                        \n                    },\n                }\n            },\n            z:3,\n            formatter:function(params){\n                return '';\n            },\n            data: grayBar\n        },\n        \n        //背景色--------------------我是分割线君------------------------------//\n        {\n            show: true,\n            type: 'bar',\n            barGap: '-100%',\n            barWidth: 20, //统计条宽度 \n            itemStyle: {\n                normal: {\n                  barBorderRadius: 20,\n                    color: '#ecf0f4'\n                },\n            },\n              label: {\n                normal: {\n                    show: true,\n                    position: [\"60%\", '-180%'],\n                   \n                    fontSize:18,\n                    textStyle: {\n                        color: '#000',\n                    },\n                    formatter: function(data) {\n                 \n                        return \"已出售\";\n                        // return  '{num|No.'+paiming[data.dataIndex]+'}{green|  '+city[data.dataIndex]+'}';\n                        \n                    },\n                }\n            },\n            data: grayBar,\n            formatter:function(params){\n                return \"\";\n            }\n                \n        },\n         //左边数据条--------------------我是分割线君------------------------------//\n        {\n            show: true,\n            type: 'bar',\n            xAxisIndex: 1, //代表使用第二个X轴刻度!!!!!!!!!!!!!!!!!!!!!!!!\n            barGap: '-100%',\n            barWidth: 20, //统计条宽度\n            itemStyle: {\n                normal: {\n                    //barBorderRadius: 20,\n                    color: '#ecf0f4'\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: [-20, '-180%'],\n                   \n                    fontSize:18,\n                    textStyle: {\n                        color: '#000',\n                    },\n                    formatter: function(data) {\n                        //富文本固定格式{colorName|这里填你想要写的内容}\n                    //    console.log(data);\n                        return \"No.\"+paiming[data.dataIndex]+\"  \"+city[data.dataIndex];\n                        // return  '{num|No.'+paiming[data.dataIndex]+'}{green|  '+city[data.dataIndex]+'}';\n                        \n                    },\n                }\n            },\n             formatter:function(params){\n                return '12';\n            },\n            data: grayBar\n        }\n      \n\n    ]\n};\n","html":"","externalScripts":"","updaterUID":"bd-3747630034","theme":"","layout":"","viewCount":385,"userName":"LOGCHEN007","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyYcz-gw7.png?v=1535279761060","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"LOGCHEN007"}}