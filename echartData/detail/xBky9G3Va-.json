{"status":0,"data":{"cid":"xBky9G3Va-","authorUid":"bd-460850157","authorUserName":"S***七","title":"两个Y轴对应显示","description":"略！","latestVersion":2,"alwaysLatest":1,"createTime":"2017-10-18T10:52:55.000Z","lastUpdateTime":"2017-10-18T10:52:55.000Z","auth":2,"uid":"bd-460850157","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.7.2","versionCreateTime":"2017-10-18T11:00:34.000Z","code":"  names =  ['硝酸','硝酸2','硝酸3','硝酸4','硝酸5','硝酸6','硝酸7','硝酸8','硝酸9','硝酸10'];\r\n\tvalues = [220, 182, 191, 234, 290,220, 182, 191, 234, 290];\r\n\tvalues2 = [220, 182, 191, 234, 290,220, 182, 191, 234, 290];\r\n\t\r\nvar cbthNumber=100;//预算值   用实际值除以预算 = 预算结果\r\n\tvar cbtnarr=[0];\r\n\tfor(var i=0; i<values.length;i++){\r\n\t\tcbtnarr.push(parseInt(values[i]/cbthNumber*30))\r\n\t}\r\n\tconsole.log(cbtnarr);\r\n\tvar values2 = [120, 112, 111, 134, 120,130, 122, 141, 134, 150];\r\n\tvar max = values[0];\r\n\tvar max = 100;\r\n\t\t for(var i=0; i<values.length;i++){\r\n\t\t \tif(max<values[i]){\r\n\t\t \t\tmax=values[i];\r\n\t\t \t}\r\n\t \t};\r\n\t var aer = Math.random() * 30 + 1;\r\nvar  marklines={\r\n                data : [\r\n                    {\r\n                        name: 'Y 轴值为 100 的水平线',\r\n                       yAxis: max/30*aer,\r\n                        valueIndex: 0\r\n                    }\r\n                ],\r\n                symbol:'arrow',\r\n            },\r\n  \r\n\t option = {\r\n      color: ['#3398DB'],\r\n tooltip:{\r\n \tshow:true\r\n\r\n \t},\r\n    legend: {\r\n        show: true,\r\n        icon:'bar',\r\n        itemWidth:15,\r\n        data: names\r\n    },\r\n    xAxis: {\r\n        data:names\r\n    },\r\n\r\n   grid: {\r\n\t    \ttop:'8%',\r\n\t        left: '3%',\r\n\t        right: '2%',\r\n\t        bottom: '5%',\r\n\t        containLabel: true\r\n\t},\r\n \r\n    yAxis:[ \r\n      {\r\n            type: 'value',\r\n            scale: true,\r\n            name: '价格',\r\n            max: 100,\r\n            min: 0,\r\n             axisLabel: {\r\n\t            formatter: '{value}  %'\r\n\t        }\r\n        },\r\n        {\r\n            type: 'value',\r\n            scale: true,\r\n            name: '预购量',\r\n            max: 400,\r\n            min: 0,\r\n            splitLine:{\r\n            \tshow:false\r\n            }\r\n        }\r\n    ],\r\n    series: [\r\n    {\r\n    \ttype: 'bar',\r\n\t    markLine : marklines,\r\n\t    barWidth: '10%',\r\n\t    data: values,\r\n\t    yAxisIndex: 1,\r\n\t      itemStyle:{\r\n            normal:{\r\n                color:'#3398DB'\r\n            }\r\n        }\r\n    },\r\n    { \r\n\t    type: 'bar',\r\n\t    barWidth: '10%',\r\n\t    barWidth : 5,\r\n\t    data: values2,\r\n\t    yAxisIndex: 1,\r\n\t      itemStyle:{\r\n            normal:{\r\n                color:'#62c0d0',\r\n                borderType:'dashed'\r\n            }\r\n        }\r\n\t    \r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸2'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸3'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸4'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸5'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸6'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸7'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸8'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸9'\r\n    }, {\r\n        type: 'scatter',\r\n        name: '硝酸10'\r\n    }]\r\n};\r\n\r\nmyChart.on('legendselectchanged', function(params) {\r\n    var option = {};\r\n    var newNames = [];\r\n    var newValues = [];\r\n    for(var i = 0; i < names.length ;i ++){\r\n        if(params.selected[names[i]] == true){\r\n            newNames.push(names[i]);\r\n            newValues.push(values[i]);\r\n        }\r\n    }\r\n    \r\n    myChartbudget.setOption({\r\n        xAxis: {\r\n        data: newNames\r\n    },\r\n    yAxis: {},\r\n    series: [{\r\n        type: 'bar',\r\n        data: newValues\r\n    }]\r\n    })\r\n});","html":"","externalScripts":"","updaterUID":"bd-460850157","theme":"","layout":"","viewCount":647,"userName":"S***七","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBky9G3Va-.png?v=1508324434510","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-bar","series-scatter","tooltip"],"customTags":[],"updaterUserName":"S***七"}}