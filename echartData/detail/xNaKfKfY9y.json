{"status":0,"data":{"cid":"xNaKfKfY9y","authorUid":"obd-o-sC45M5wO8HvEry2_B6KMWD6gVbzAk","authorUserName":"e***7","title":"柱状图进度","description":"柱状图进度展示","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-29T02:07:41.000Z","lastUpdateTime":"2021-09-29T02:07:41.000Z","auth":2,"uid":"obd-o-sC45M5wO8HvEry2_B6KMWD6gVbzAk","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-29T02:07:41.000Z","code":"\nvar myColor = ['#51FC4E', '#4C5FF5', '#FFE660', '#79F1FF', '#E76725'].reverse();\n\nconst propData=[\n    { name: '项目1', value: '115.10', ratio: '28.99' },\n    { name: '项目2', value: '84.57', ratio: '21.3' },\n    { name: '项目3', value: '71.98', ratio: '18.13' },\n    { name: '项目4', value: '28.21', ratio: '7.1' },\n    { name: '项目5', value: '16.35', ratio: '4.12' },\n];\nconst xData = propData.map((item) => item.name);\nconst yData = propData.map((item) => item.value);\nlet max = Math.ceil(Math.max(...yData) * 1.2);\nlet maxData = [max, max, max, max, max];\nlet emptyData = yData.map((v, i) => {\n    let color = myColor[i];\n    let item = {\n        value: max,\n        label: {\n            formatter: '{a|' + v + '}',\n            position: 'right',\n            distance: -60,\n            offset: [0, -30],\n            rich: {\n                a: {\n                    fontSize: 14,\n                    color: '#ffffff',\n                },\n            },\n        },\n    };\n    return item;\n});\nvar option = {\n    backgroundColor: '#0A2E5D',\n    grid: {\n        left: '5%',\n        right: '5%',\n        bottom: '5%',\n        top: '10%',\n        containLabel: false,\n    },\n    xAxis: [\n        {\n            show: false,\n        },\n        {\n            show: false,\n        },\n    ],\n    yAxis: [\n        {\n            show: false,\n            inverse: true,\n            data: yData,\n        },\n\n        {\n            show: true,\n            data: yData,\n            offset: -109,\n            position: 'right',\n            axisLabel: {\n                lineHeight: 30,\n                verticalAlign: 'bottom',\n                textStyle: {\n                    fontSize: 12,\n                    color: '#fff',\n                },\n                formatter: '{value}kg',\n            },\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n    ],\n    series: [\n      \n        {\n            show: true,\n            type: 'bar',\n            barGap: '-100%',\n            xAxisIndex: 1,\n\n            barWidth: 8, //统计条宽度\n            itemStyle: {\n                \n                normal: {\n                    barBorderRadius: 8,\n                    color: function (params) {\n                        var num = myColor.length;\n                        return {\n                            type: 'linear',\n                            x: 0,\n                            y: 0,\n                            x2: 1,\n                            y2: 1,\n                            colorStops: [\n                                {\n                                    offset: 0,\n                                    color: '#0F1F45',\n                                },\n                                {\n                                    offset: 1,\n                                    color: myColor[params.dataIndex % num],\n                                },\n                            ],\n                        };\n                    },\n                },\n            },\n            // max: 0,\n            labelLine: {\n                show: false,\n            },\n            z: 2,\n            data: yData,\n        },\n        {\n            name: '外圆',\n            type: 'scatter',\n            hoverAnimation: false,\n            data: yData,\n            xAxisIndex: 1,\n            symbolSize: 14,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        var num = myColor.length;\n                        return myColor[params.dataIndex % num];\n                    },\n                    opacity: 1,\n                },\n            },\n            z: 2,\n        },\n        {\n            z: 1,\n            show: true,\n            type: 'bar',\n            xAxisIndex: 1, \n            barGap: '-100%',\n            barWidth: 7, //统计条宽度\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 7,\n                    color: 'rgba(13, 55, 78, 1)',\n                },\n            },\n            label: {\n                normal: {\n                    show: true,\n                 \n                    position: [0, -20],\n                    rich: {\n                        //富文本\n                        white: {\n                            //自定义颜色\n                            color: '#ffffff',\n                        },\n                    },\n                    formatter: function (data) {\n                      \n                        return '{white|' + xData[data.dataIndex] + '}';\n                    },\n                },\n            },\n            data: maxData,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o-sC45M5wO8HvEry2_B6KMWD6gVbzAk","theme":"","layout":"","viewCount":0,"userName":"e***7","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xNaKfKfY9y.png?v=1632881261956","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter"],"customTags":[],"updaterUserName":"e***7"}}