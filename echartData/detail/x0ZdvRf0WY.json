{"status":0,"data":{"cid":"x0ZdvRf0WY","authorUid":"obd-oCvcw7iIxqYJUss2WMIyiF_ZVGlkc35","authorUserName":"黑***条","title":"环形图","description":"","latestVersion":7,"alwaysLatest":0,"createTime":"2021-06-10T07:33:43.000Z","lastUpdateTime":"2021-08-17T09:04:46.000Z","auth":1,"uid":"obd-oCvcw7iIxqYJUss2WMIyiF_ZVGlkc35","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-17T09:04:46.000Z","code":"const mockData = [\r\n    {total: \"98\", detail: \"本地费控\"},\r\n    {total: \"98\", detail: \"时区时段\"},\r\n    {total: \"99\", detail: \"费率电价\"},\r\n   \r\n]\r\noption = {\r\n    grid: {\r\n        left: 0\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{b}({d}%)',\r\n        textStyle: {\r\n            color: '#000'\r\n        },\r\n        backgroundColor: '#fff',\r\n        extraCssText: 'box-shadow: 0px 0px 10px 0px rgba(19,83,88,0.2);'\r\n    },\r\n    legend: {\r\n        // orient: 'vertical',\r\n        // y: 'middle',\r\n        right: '0%',\r\n        top: '35%',\r\n        left: '60%',\r\n        bottom: '80%',\r\n        data: mockData.map(item => item.detail), \r\n        icon: 'circle',\r\n        formatter: params => { \r\n            const dataAll = mockData.map(item => Number(item.total))\r\n            const total = dataAll.reduce((x, y) => parseInt(x, 10) + parseInt(y, 10))\r\n            const value = Number(mockData.filter(item => item.detail === params)[0].total)\r\n            if (total === 0) {\r\n                return `{a|${params}：}{b|0.00%}`\r\n            }\r\n            const name = params\r\n            return `{a|${name}：}{b|${((value * 100) / total).toFixed(2)}%}`\r\n        },\r\n        textStyle: {\r\n            rich: {\r\n                a: {\r\n                    color: '#120000',\r\n                    width: 70,\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold',\r\n                    align: 'left'\r\n                },\r\n                b: {\r\n                    color: '#18355C',\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold',\r\n                }\r\n            }\r\n        },  \r\n        selectorPosition: 'start',\r\n        align: 'left',\r\n        itemHeight: 8,\r\n        itemWidth: 8,\r\n        itemGap: 30\r\n    },\r\n    series: [\r\n        {\r\n            name: '',\r\n            type: 'pie',\r\n            radius: ['42%', '75%'],\r\n            center: ['30%', '50%'],\r\n            clockwise: false,\r\n            avoidLabelOverlap: false,\r\n            hoverOffset: 10,\r\n            legendHoverLink: true,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    position: 'center'\r\n                },\r\n                emphasis: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        fontSize: '20',\r\n                        fontWeight: '400'\r\n                    }\r\n                }\r\n            },\r\n            labelLine: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    borderColor: '#ffffff',\r\n                }\r\n            },\r\n            data: [\r\n                { \r\n                    value: mockData[0].total,\r\n                    name: mockData[0].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(122,74,255, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#9B66FF' },\r\n                                { offset: 1, color: '#6236FF' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(122,74,255, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }    \r\n                },\r\n                { \r\n                    value: mockData[1].total,\r\n                    name: mockData[1].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(236,102,255, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#EC66FF' },\r\n                                { offset: 1, color: '#B620E0' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(236,102,255, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[2].total,\r\n                    name: mockData[2].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(245,114,164, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#F572A4' },\r\n                                { offset: 1, color: '#D72552' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(245,114,164, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[3].total,\r\n                    name: mockData[3].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#FD9D00' },\r\n                                { offset: 1, color: '#FA6400' }\r\n                            ]\r\n                        ),\r\n                        shadowColor: 'rgba(238,101,0,0.4)',\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(238,101,0,1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[4].total,\r\n                    name: mockData[4].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowColor: 'rgba(247,181,0, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#FCDB00' },\r\n                                { offset: 1, color: '#F7B500' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(247,181,0, 1)',\r\n                            borderWidth: 0\r\n                        }\r\n                    }    \r\n                },\r\n                { \r\n                    value: mockData[5].total,\r\n                    name: mockData[5].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(130,221,0, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#A6EC00' },\r\n                                { offset: 1, color: '#6DD400' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(130,221,0, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[6].total,\r\n                    name: mockData[6].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(88,224,196, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#79EDDC' },\r\n                                { offset: 1, color: '#44D7B6' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(88,224,196, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[7].total,\r\n                    name: mockData[7].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(0,176,255, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#00C4FF' },\r\n                                { offset: 1, color: '#0091FF' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(0,176,255, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n                { \r\n                    value: mockData[8].total,\r\n                    name: mockData[8].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(49, 189, 209, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#31BDD1' },\r\n                                { offset: 1, color: '#4388C6' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(49, 189, 209, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                }, { \r\n                    value: mockData[9].total,\r\n                    name: mockData[9].detail,\r\n                    itemStyle: {\r\n                        shadowBlur: 15,\r\n                        shadowOffsetX: -10,\r\n                        shadowOffsetY: 0,\r\n                        shadowColor: 'rgba(114, 151, 255, 0.4)',\r\n                        color: new echarts.graphic.LinearGradient(\r\n                            0, 0, 0, 1,\r\n                            [\r\n                                { offset: 0, color: '#7297FF' },\r\n                                { offset: 1, color: '#364BEC' }\r\n                            ]\r\n                        ),\r\n                        emphasis: {\r\n                            shadowBlur: 15,\r\n                            shadowColor: 'rgba(114, 151, 255, 1)',\r\n                            borderColor: '#ffffff',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n            ]\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oFEw4q-476dXS1eZ8jIUgrJRUU-PT52","theme":"","layout":"","viewCount":0,"userName":"黑***条","commentCount":1,"starCount":17,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0ZdvRf0WY.png?v=1629191086820","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","tooltip"],"customTags":[],"updaterUserName":"黑***叶"}}