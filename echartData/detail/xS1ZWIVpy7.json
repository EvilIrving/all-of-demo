{"status":0,"data":{"cid":"xS1ZWIVpy7","authorUid":"bd-536890673","authorUserName":"s***s","title":"带误差线的bar图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-05-31T08:44:41.000Z","lastUpdateTime":"2018-05-31T08:44:41.000Z","auth":2,"uid":"bd-536890673","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-05-31T08:44:41.000Z","code":"data = [3, 5]\r\n\r\nerror = [1, 2]\r\n\r\nfunction get_errorLine(data, error, hLength = 5) {\r\n    //data:数据\r\n    //error:每个数据对应的正负误差\r\n    //hLength:水平线长度，根据图的宽度调整\r\n    coords = []\r\n    for (var i = 0; i < data.length; i++) {\r\n        coords.push(\r\n            //下界\r\n            [{\r\n                coord: [100 * i + 50 - 0.5 * hLength, data[i] - error[i]]\r\n            }, {\r\n                coord: [100 * i + 50 + 0.5 * hLength, data[i] - error[i]]\r\n            }],\r\n            //竖直线\r\n            [{\r\n                coord: [100 * i + 50, data[i] - error[i]]\r\n            }, {\r\n                coord: [100 * i + 50, data[i] + error[i]]\r\n            }],\r\n            //上界\r\n            [{\r\n                coord: [100 * i + 50 - 0.5 * hLength, data[i] + error[i]]\r\n            }, {\r\n                coord: [100 * i + 50 + 0.5 * hLength, data[i] + error[i]]\r\n            }])\r\n    }\r\n    errorLine = {\r\n        name: 'errorLine',\r\n        type: 'line',\r\n        xAxisIndex: 1,\r\n        yAxisIndex: 0,\r\n        markLine: {\r\n            silent: true,\r\n            symbolSize: 0,\r\n            lineStyle: {\r\n                type: 'solid',\r\n                width: 3,\r\n            },\r\n            data: coords\r\n        },\r\n    }\r\n    return errorLine\r\n}\r\n\r\nvar line = get_errorLine(data, error)\r\n\r\noption = {\r\n    title: {\r\n        text: 'test',\r\n        show: false,\r\n    },\r\n    grid: {\r\n        top: '3%',\r\n        bottom: '7%',\r\n        left: '5%',\r\n        right: '3%',\r\n    },\r\n    xAxis: [{\r\n        show: true,\r\n        type: 'category',\r\n        data: [1, 2],\r\n    }, {\r\n        show: false,\r\n        position: 'top',\r\n        type: 'value',\r\n        min: 0,\r\n        max: data.length * 100,//将bar和误差线对齐\r\n    }],\r\n    yAxis: {\r\n        type: 'value',\r\n        max: 8,\r\n    },\r\n    series: [{\r\n        name: 'bar',\r\n        type: 'bar',\r\n        data: data,\r\n        barWidth: 60\r\n    }, line]\r\n};","html":"","externalScripts":"","updaterUID":"bd-536890673","theme":"","layout":"","viewCount":194,"userName":"s***s","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS1ZWIVpy7.png?v=1527756281468","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","series-bar","series-line","title"],"customTags":["柱状图","误差线"],"updaterUserName":"s***s"}}