{"status":0,"data":{"cid":"xWZFfiID8p","authorUid":"obd-oFuGckFOV92nzK_kcCLtu6GHy-wWX5u","authorUserName":"a***4","title":"饼图常用","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-20T07:37:25.000Z","lastUpdateTime":"2021-08-20T07:42:01.000Z","auth":2,"uid":"obd-oFuGckFOV92nzK_kcCLtu6GHy-wWX5u","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-20T07:42:01.000Z","code":"var color = [\r\n    '#0CD2E6',\r\n    '#3751E6',\r\n    '#FFC722',\r\n    '#886EFF',\r\n    '#008DEC',\r\n    '#114C90',\r\n    '#00BFA5',\r\n];\r\n\r\nvar title = '本月平台观看数';\r\nvar legend = [\r\n    'A需求类型',\r\n    'B需求类型',\r\n    'C需求类型',\r\n    'D需求类型',\r\n    'E需求类型',\r\n    '其他'\r\n];\r\n\r\nvar seriesData = [\r\n    { \"name\": \"A需求类型\", \"value\": 300 },\r\n    { \"name\": \"B需求类型\", \"value\": 100 },\r\n    { \"name\": \"C需求类型\", \"value\": 150 },\r\n    { \"name\": \"D需求类型\", \"value\": 230 },\r\n    { \"name\": \"E需求类型\", \"value\": 100 },\r\n    { \"name\": \"其他\", \"value\": 120 }\r\n]\r\n\r\nvar option = {\r\n    backgroundColor:'#fff',\r\n    color: color,\r\n    title: {\r\n        top: 20,\r\n        left: 20,\r\n        text: title,\r\n        textStyle: {\r\n            fontSize: 14,\r\n            color: '#333',\r\n        },\r\n    },\r\n    grid: {\r\n        top: '5%',\r\n        left: 0,\r\n        right: '1%',\r\n        bottom: 5,\r\n        containLabel: true,\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        icon: \"circle\",\r\n        top: 'center',\r\n        itemGap: 45,\r\n        right: 70,\r\n        textStyle: {\r\n            align: 'left',\r\n            verticalAlign: 'middle',\r\n            rich: {\r\n                name: {\r\n                    color: 'rgba(0, 0, 0, 0.65)',\r\n                    fontSize: 12,\r\n                },\r\n                value: {\r\n                    color: 'rgba(0, 0, 0, 0.65)',\r\n                    fontSize: 12,\r\n                },\r\n                rate: {\r\n                    color: 'rgba(0, 0, 0, 0.65)',\r\n                    fontSize: 12,\r\n                },\r\n            },\r\n        },\r\n        data: legend,\r\n        formatter: (name) => {\r\n            if (seriesData.length) {\r\n                const item = seriesData.filter((item) => item.name === name)[0];\r\n                return `{name|${name}：}   {value| ${item.value}}      {rate| ${item.value}%}`;\r\n            }\r\n        },\r\n    },\r\n    series: [{\r\n        name: '需求类型占比',\r\n        type: 'pie',\r\n        center: ['30%', '50%'],\r\n        radius: ['45%', '65%'],\r\n        itemStyle: {\r\n              normal: {\r\n                borderWidth:5,\r\n                borderColor: \"#fff\"\r\n              }\r\n            },\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'center',\r\n                formatter: '{value|{c}}\\n{label|{b}}',\r\n                rich: {\r\n                    value: {\r\n                        padding: 5,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 32,\r\n                    },\r\n                    label: {\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        fontSize: 16,\r\n                    },\r\n                },\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: '12',\r\n                },\r\n            },\r\n        },\r\n        labelLine: {\r\n            show: false,\r\n            length: 0,\r\n            length2: 0,\r\n        },\r\n        data: seriesData,\r\n    }],\r\n};\r\n\r\nmyChart.setOption(option);\r\n\r\ngetDefaultSelected(myChart)\r\n\r\nfunction getDefaultSelected(myChart) {\r\n    let index = 0;\r\n    myChart.dispatchAction({\r\n      type: 'highlight',\r\n      seriesIndex: 0,\r\n      dataIndex: 0,\r\n    });\r\n    myChart.on('mouseover', (e) => {\r\n      if (e.dataIndex !== index) {\r\n        myChart.dispatchAction({\r\n          type: 'downplay',\r\n          seriesIndex: 0,\r\n          dataIndex: index,\r\n        });\r\n      }\r\n    });\r\n    myChart.on('mouseout', (e) => {\r\n      index = e.dataIndex;\r\n      myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: e.dataIndex,\r\n      });\r\n    });\r\n}\r\n\r\n","html":"","externalScripts":"","updaterUID":"obd-oFuGckFOV92nzK_kcCLtu6GHy-wWX5u","theme":"","layout":"","viewCount":0,"userName":"a***4","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWZFfiID8p.png?v=1629445321416","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"a***4"}}