{"status":0,"data":{"cid":"xN7RH_HAmJ","authorUid":"bd-1627449234","authorUserName":"l***w","title":"bar3D、scatter3D、geo3D","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-12T08:37:25.000Z","lastUpdateTime":"2020-06-12T08:37:25.000Z","auth":2,"uid":"bd-1627449234","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-12T08:37:25.000Z","code":"let geoCoordMap = {\n    '郑州': [113.631557, 34.75261],\n    '开封': [114.341447, 34.797049],\n    '洛阳': [112.434468, 34.663041],\n    '平顶山': [113.300848978, 33.7453014565],\n    '安阳': [114.351806508, 36.1102667222],\n    '鹤壁': [114.297769838, 35.7554258742],\n    '新乡': [113.912690161, 35.3072575577],\n    '焦作': [113.211835885, 35.234607555],\n    '濮阳': [115.026627441, 35.7532978882],\n    '漯河': [114.0460614, 33.5762786885],\n    '三门峡': [111.181262093, 34.7833199411],\n    '南阳': [112.542841901, 33.0114195691],\n    \"商丘\": [115.641885688, 34.4385886402],\n    '信阳': [114.085490993, 32.1285823075],\n    '周口': [114.654101942, 33.6237408181],\n    '许昌': [113.83531246, 34.0267395887],\n    '驻马店': [114.049153547, 32.9831581541],\n    '济源': [112.608898, 35.074838],\n    '省直': [113.759766, 34.773383]\n};\n\n\nvar yn = [{\n    name: '省直',\n    value: 200\n}, {\n    name: '郑州',\n    value: 400\n}, {\n    name: '洛阳',\n    value: 200\n}, {\n    name: '开封',\n    value: 20\n}, {\n    name: '信阳',\n    value: 30\n}, {\n    name: '驻马店',\n    value: 212\n}, {\n    name: '南阳',\n    value: 456\n}, {\n    name: '周口',\n    value: 125\n}, {\n    name: '许昌',\n    value: 2085\n}, {\n    name: '平顶山',\n    value: 322\n}, {\n    name: '新乡',\n    value: 303\n}, {\n    name: '漯河',\n    value: 5\n}, {\n    name: '商丘',\n    value: 304\n}, {\n    name: '三门峡',\n    value: 35\n}, {\n    name: '济源',\n    value: 350\n}, {\n    name: '焦作',\n    value: 23\n}, {\n    name: '安阳',\n    value: 45\n}, {\n    name: '鹤壁',\n    value: 35\n}, {\n    name: '濮阳',\n    value: 50\n}, {\n    name: '开封',\n    value: 24\n}];\nvar gd = [{\n    name: '省直',\n    value: 300\n}, {\n    name: '郑州',\n    value: 490\n}, {\n    name: '洛阳',\n    value: 210\n}, {\n    name: '开封',\n    value: 120\n}, {\n    name: '信阳',\n    value: 300\n}, {\n    name: '驻马店',\n    value: 212\n}, {\n    name: '南阳',\n    value: 230\n}, {\n    name: '周口',\n    value: 125\n}, {\n    name: '许昌',\n    value: 25\n}, {\n    name: '平顶山',\n    value: 22\n}, {\n    name: '新乡',\n    value: 303\n}, {\n    name: '漯河',\n    value: 5\n}, {\n    name: '商丘',\n    value: 304\n}, {\n    name: '三门峡',\n    value: 35\n}, {\n    name: '济源',\n    value: 350\n}, {\n    name: '焦作',\n    value: 23\n}, {\n    name: '安阳',\n    value: 45\n}, {\n    name: '鹤壁',\n    value: 35\n}, {\n    name: '濮阳',\n    value: 50\n}, {\n    name: '开封',\n    value: 24\n}];\n\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    //console.log(res)\n    return res;\n};\n\n\n\n\noption = {\n    title: {\n        text: '测试bar3D、scatter3D、geo3D',\n        x: 'left',\n        top: \"10\",\n        textStyle: {\n            color: '#000',\n            fontSize: 14\n        }\n    },\n\n    legend: {\n        show: true,\n        data: ['系列1', '系列2'],\n    },\n\n    tooltip: {\n        show: true,\n        formatter: (params) => {\n            let data = params.name + \"<br/>\" + params.seriesName + \"：\" + params.value[2];\n            debugger\n            return data;\n\n        },\n\n    },\n    /*     visualMap: [{\n             show:false,\n             type: 'continuous',\n             seriesIndex: 0,\n             text: ['bar3D'],\n             calculable: true,\n             max: 400,\n             inRange: {\n                 color: ['#87aa66', '#eba438', '#d94d4c']\n             }\n         },\n        //  {\n        //      type: 'continuous',\n        //      seriesIndex: 1,\n        //      text: ['scatter3D'],\n        //      left: 'right',\n        //      max: 100,\n        //      calculable: true,\n        //      inRange: {\n        //          color: ['#000', 'blue', 'purple']\n        //      }\n        //  }\n         ],*/\n    geo3D: {\n        map: 'henan',\n        roam: true,\n\n        //boxWidth:'100%',   \n        boxHeight: 16,\n        boxDepth: 95,\n        regionHeight: 4, //立体阴影高度\n\n        //  groundPlane: {    //地面\n        //      show: true,\n        //      color: '#555555',\n        //  },\n\n\n        itemStyle: {\n            areaColor: '#1d5e98',\n            opacity: 1,\n            borderWidth: 0.6,\n            borderColor: 'yellow'\n        },\n        label: {\n            show: true,\n            textStyle: {\n                color: '#00ffff', //地图初始化区域字体颜色\n                fontSize: 14,\n                opacity: 1, //图形不透明度\n                backgroundColor: 'rgba(0,23,11,0.6)'\n            },\n        },\n        emphasis: { //当鼠标放上去  地区区域是否显示名称\n            label: {\n                show: false,\n                textStyle: {\n                    color: '#FFF',\n                    fontSize: 14,\n                    backgroundColor: 'rgba(0,23,11,0)'\n                }\n            }\n        },\n        //shading: 'lambert',\n        light: { //光照阴影\n            main: {\n                color: '#00ffff', //光照颜色\n                intensity: 1.2, //光照强度\n                //shadowQuality: 'high', //阴影亮度\n                shadow: false, //是否显示阴影\n                alpha: 55,\n                beta: 10\n\n            },\n            ambient: {\n                intensity: 0.5\n            }\n        },\n\n        viewControl: { //用于鼠标的旋转，缩放等视角控制。\n            // autoRotate: true,    //自动旋转\n            damping: 0.8,\n            distance: 110, //距离中心原点的距离 \n            //minDistance: 40,\n            alpha: 55, // 视角绕x轴的角度\n            beta: 0, // 视角绕y轴的角度\n            center: [0, 0, 0], //视角中心点，旋转也会围绕这个中心点旋转，默认为[0,0,0]\n            animation: true,\n        }\n    },\n    series: [\n        //柱状图\n        {\n            name: '系列1',\n            type: \"bar3D\",\n            coordinateSystem: 'geo3D',\n            minHeight: 3, //最小高度\n            //bevelSize:1,\n            stack: 'one',\n            barSize: 2, //柱子粗细\n            //shading: 'lambert',\n            opacity: 1,\n            bevelSize: 0.3,\n\n\n            itemStyle: {\n                color: 'blue',\n            },\n\n            label: {\n                show: false,\n                formatter: '{b}'\n            },\n            emphasis: {\n                label: {\n                    show: false,\n                },\n            },\n            data: convertData(yn),\n        },\n\n        {\n            name: '系列2',\n            type: \"bar3D\",\n            coordinateSystem: 'geo3D',\n            minHeight: 3, //最小高度\n            //bevelSize:1,\n            stack: 'one',\n            barSize: 2, //柱子粗细\n            //shading: 'lambert',\n            opacity: 1,\n            bevelSize: 0.3,\n\n            itemStyle: {\n                color: 'red',\n            },\n\n\n            label: {\n                show: false,\n                formatter: '{c}'\n            },\n            emphasis: {\n                label: {\n                    show: false,\n                },\n            },\n            data: convertData(gd),\n        },\n        //画线        \n        //      {\n        //      name: 'scatter3D',\n        //      type: \"scatter3D\",\n        //      coordinateSystem: 'geo3D',\n        //      symbol: 'pin',\n        //      symbolSize: 30,\n        //      opacity: 1,\n        //      label: {\n        //          show: false,\n        //          formatter: '{b}'\n        //      },\n        //      itemStyle: {\n        //          borderWidth: 0.5,\n        //          borderColor: '#fff'\n        //      },\n        //      data: convertData([{\n        //          name: \"阳泉\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }, {\n        //          name: \"莱州\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }, {\n        //          name: \"湖州\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }, {\n        //          name: \"汕头\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }, {\n        //          name: \"昆山\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }, {\n        //          name: \"张家口\",\n        //          value: ((Math.random() * 100) + 50).toFixed(2)\n        //      }])\n        //  },\n\n\n    ]\n};","html":"","externalScripts":"http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/asset/get/s/data-1591252907761-po2vasjs3.js","updaterUID":"bd-1627449234","theme":"","layout":"","viewCount":198,"userName":"l***w","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xN7RH_HAmJ.png?v=1591951046054","isCustomThumbnail":1,"builtinTags":["category-work","geo3D","legend","series-bar3D","title","tooltip"],"customTags":[],"updaterUserName":"l***w"}}