{"status":0,"data":{"cid":"xryselMw77","authorUid":"bd-2459271525","authorUserName":"柳***6","title":"百度地图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2018-07-14T05:53:54.000Z","lastUpdateTime":"2018-07-14T05:53:54.000Z","auth":2,"uid":"bd-2459271525","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.1.0","versionCreateTime":"2018-07-14T05:53:54.000Z","code":"var option = {\n    bmap: {\n        center: [116.424966, 39.922018],\n        zoom: 12,\n        roam: true,\n        enableMapClick: true\n    }\n}\n\nmyChart.setOption(option);\nsetTimeout(init, 0)\n\nfunction init() {\n    initMap();\n    //makerPoint();\n    getBoundary();\n    //setTimeout(getBoundary, 1000)\n}\n\nfunction getMap() {\n    return myChart.getModel().getComponent('bmap').getBMap();\n}\n\nfunction initMap() {\n    var top_left_navigation = new BMap.NavigationControl({\n        type: BMAP_NAVIGATION_CONTROL_SMALL\n    });\n    var map = getMap();\n\n    map.disableDoubleClickZoom();\n    return map;\n}\n\nvar bj = [\"小店区\", \"万柏林区\", \"杏花岭区\", \"尖草坪区\", \"迎泽区\", \"晋源区\", '古交市', '娄烦县', '阳曲县', '清徐县']\n\nfunction getBoundary() {\n    var map = getMap();\n    for (var index = 0; index < bj.length; index++) {\n        var bdary = new BMap.Boundary();\n        bdary.get(bj[index], function(rs) { //获取行政区域\n            //map.clearOverlays();        //清除地图覆盖物       \n            var count = rs.boundaries.length; //行政区域的点有多少个\n            if (count === 0) {\n                alert('未能获取当前输入行政区域');\n                return;\n            }\n            var pointArray = [];\n            for (var i = 0; i < count; i++) {\n                var ply = new BMap.Polygon(rs.boundaries[i], {\n                    strokeWeight: 2,\n                    strokeColor: \"#000000\",\n                    fillColor: getRandomColor()\n                }); //建立多边形覆盖物\n                map.addOverlay(ply); //添加覆盖物\n                pointArray = pointArray.concat(ply.getPath());\n            }\n            map.setViewport(pointArray); //调整视野  \n\n        });\n    }\n}\n\nfunction getRandomColor() {\n    return \"#\" + (\"00000\" + ((Math.random() * 16777215 + 0.5) >> 0).toString(16)).slice(-6);\n}","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,http://api.map.baidu.com/api?v=2.0&ak=MFslG5hYj7a3SmA0WdUd97G1","updaterUID":"bd-2459271525","theme":"","layout":"","viewCount":77,"userName":"柳***6","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xryselMw77.undefined?v=","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"柳***6"}}