{"status":0,"data":{"cid":"xrDHk0GSCl","authorUid":"bd-1385837864","authorUserName":"星***笔","title":"折线图上下边界实现","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-07T13:52:39.000Z","lastUpdateTime":"2021-10-07T13:52:39.000Z","auth":2,"uid":"bd-1385837864","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-07T13:52:39.000Z","code":"\nconst dateList = [\n    '20190723', '20190724', '20190725', '20190726', '20190729', '20190730',\n    '20190731', '20190801', '20190802', '20190805', '20190806', '20190807',\n    '20190808', '20190809', '20190812', '20190813', '20190814', '20190815',\n    '20190816', '20190819'\n]\nconst lineData0 = [\n    '3.6000',\n    '3.6300',\n    '3.6300',\n    '3.6500',\n    '3.6200',\n    '3.6300',\n    '3.6100',\n    '3.6100',\n    '3.6000',\n    '3.6100',\n    '3.5700',\n    '3.5600',\n    '3.5300',\n    '3.5000',\n    '3.5100',\n    '3.4500',\n    '3.4700',\n    '3.4400',\n    '3.4700',\n    '3.5500'\n]\nconst lineData1 = [\n    '3.6000',\n    '3.6300',\n    '3.6300',\n    '3.6500',\n    '3.6200',\n    '3.6300',\n    '3.6100',\n    '3.6100',\n    '3.6000',\n    '3.6100',\n    '3.5700',\n    '3.5600',\n    '3.5300',\n    '3.5000',\n    '3.5100',\n    '3.4500',\n    '3.4700',\n    '3.4400',\n    '3.4700',\n    '3.5500'\n]\n\n/**\n * 需求：将折线分三段：\n * 大于3.62的线段为红色，并且波峰部分渐变。\n * 小于3.49的线段为绿色，并且波谷部分为绿色。\n * 中间部分的线段为黑色。\n * 数字、标记名称分别局图形左右。\n * 因为一个areaStyle没法同时画出波峰与波谷。所以用了两条重合的线（会画在波谷的外面）\n * ，在第二个折线中画波谷。\n */\noption = {\n  grid: { x: '0', y: '0', width: '100%', height: '100%' },\n  xAxis: [\n    {\n      type: 'category',\n      show: false,\n      data: dateList\n    }\n  ],\n  yAxis: [\n    { type: 'value', z: 3, max: 3.69, min: 3.4, scale: true, show: false }\n  ],\n  /*\n  * 将折线分3端。绿色、灰色、红色\n  */\n  visualMap: {\n    show: false,\n    dimension: 1,\n    pieces: [\n      { gte: 0, lte: 3.49, color: 'rgba(255,72,74,0.5)' },\n      { gte: 3.49, lte: 3.62, color: '#666' },\n      { gte: 3.62, lte: 3.65, color: 'rgba(255,72,74,0.5)' }\n    ]\n  },\n  series: [\n    {\n      type: 'line',\n      lineStyle: { width: 1.656 },\n      showSymbol: false,\n      animation: false,\n      hoverAnimation: false,\n      data: lineData0,\n      areaStyle: {\n        origin: 'start',\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            { offset: 0, color: '#FFD1D1' },\n            { offset: 0.120, color: '#fff' },\n            { offset: 0.120, color: 'transparent' }\n          ]\n        }\n      },\n      /*\n      * 标记的两条虚线\n      */\n      markLine: {\n        symbol: 'none',\n        silent: true,\n        lineStyle: { normal: { type: 'dashed' } },\n        label: { position: 'start' },\n        data: [\n          {\n            yAxis: 3.62,\n            lineStyle: { width: 1.656, color: '#ff6367' },\n            label: { show: false }\n          },\n          {\n            yAxis: 3.49,\n            lineStyle: { width: 1.656, color: '#ff6367' },\n            label: { show: false }\n          }\n        ]\n      },\n      /*\n      * 标记的文字\n      */\n      markPoint: {\n        silent: true,\n        label: { fontSize: 12 },\n        data: [\n          {\n            yAxis: 3.62,\n            x: '0%',\n            symbolSize: 0.1,\n            label: {\n              textStyle: { color: '#fff' },\n              padding: [3.312, 8.28],\n              fontSize: 12,\n              borderRadius: 13.248,\n              backgroundColor: 'rgba(255, 72, 74, 0.5)',\n              position: 'right',\n              formatter: '3.62'\n            }\n          },\n          {\n            yAxis: 3.62,\n            x: '100%',\n            symbolSize: 0.1,\n            label: {\n              textStyle: { color: '#fff' },\n              padding: [3.312, 8.28],\n              fontSize: 12,\n              borderRadius: 13.248,\n              backgroundColor: 'rgba(255, 72, 74, 0.5)',\n              position: 'left',\n              formatter: '报警上线'\n            }\n          },\n          {\n            yAxis: 3.49,\n            x: '0%',\n            symbolSize: 0.1,\n            label: {\n              textStyle: { color: '#fff' },\n              padding: [3.312, 8.28],\n              fontSize: 12,\n              borderRadius: 13.248,\n              backgroundColor: 'rgba(255, 72, 74, 0.5)',\n              position: 'right',\n              formatter: '3.49'\n            }\n          },\n          {\n            yAxis: 3.49,\n            x: '100%',\n            symbolSize: 0.1,\n            label: {\n              textStyle: { color: '#fff' },\n              padding: [3.312, 8.28],\n              fontSize: 12,\n              borderRadius: 13.2481,\n              backgroundColor: 'rgba(255, 72, 74, 0.5)',\n              position: 'left',\n              formatter: '报警下线'\n            }\n          }\n        ]\n      }\n    },\n    {\n      type: 'line',\n      show: false,\n      lineStyle: { width: 1 },\n      showSymbol: false,\n      animation: false,\n      hoverAnimation: false,\n      data: lineData1,\n      areaStyle: {\n        origin: 'end',\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            { offset: 0.8, color: 'transparent' },\n            { offset: 0.8, color: '#fff' },\n            { offset: 1, color: '#000' }\n          ]\n        }\n      }\n    }\n  ]\n}\n","html":"","externalScripts":"","updaterUID":"bd-1385837864","theme":"","layout":"","viewCount":0,"userName":"星***笔","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrDHk0GSCl.png?v=1633614759652","isCustomThumbnail":0,"builtinTags":["category-work","grid","markLine","markPoint","series-line","visualMap"],"customTags":[],"updaterUserName":"星***笔"}}