{"status":0,"data":{"cid":"xtLIV6hn9v","authorUid":"obd-o0eON-cnAmP8IpkP7UKrNvBg3O1vJF8","authorUserName":"最***字","title":"对单个柱子显示label的百分比","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-04-20T03:02:31.000Z","lastUpdateTime":"2021-04-20T03:02:31.000Z","auth":2,"uid":"obd-o0eON-cnAmP8IpkP7UKrNvBg3O1vJF8","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-20T03:02:31.000Z","code":"var oData = {\n    thisyear: [30, 20, 10, 40, 20, 10, 30, 40],\n    lastyear: [90, 60, 60, 80, 70, 50, 60, 70],\n    yz: [\"二氧化硫\", \"氮氧化物\", \"烟尘\", \"总磷\", \"总氮\", \"化学需氧量\", \"VOCS\", \"氨氮\"],\n    legend:['2020', '2021']\n};\noption = {\n    backgroundColor: '#fff',\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    color: ['#1EB88D', '#B4DF8E'],\n    legend: {\n        data: oData.legend,\n        right: '18',\n    },\n    grid: {\n        top: '3%',\n        left: '3%',\n        right: '3%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'value',\n        show: false\n    },\n    yAxis: {\n        type: 'category',\n        data: oData.yz,\n        inverse: true,\n        axisLabel: {\n            color: '#4E4E4E',\n            fontSize: 18\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        }\n    },\n    series: [{\n        name: oData.legend[0],\n        data: oData.lastyear,\n        type: 'bar',\n        barWidth: 15,\n        itemStyle: {\n            barBorderRadius: 9,\n        }\n    }, {\n        name: oData.legend[1],\n        data: oData.thisyear,\n        type: 'bar',\n        barWidth: 15,\n        itemStyle: {\n            barBorderRadius: 9,\n        },\n        label: {\n            show: true,\n            offset: [10, 0],\n            position: 'right',\n            textStyle: {\n                color: '#686868',\n                fontSize: 16\n            },\n            formatter: function(oItem) {\n                var nIdx = oItem.dataIndex; //获取索引求各项的百分比\n                return (oItem.value / oData.lastyear[nIdx] * 100).toFixed(2) + '%';\n            }\n        }\n    }]\n};","html":"","externalScripts":"","updaterUID":"obd-o0eON-cnAmP8IpkP7UKrNvBg3O1vJF8","theme":"","layout":"","viewCount":32,"userName":"最***字","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xtLIV6hn9v.png?v=1618887751295","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"最***字"}}