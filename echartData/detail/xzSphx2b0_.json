{"status":0,"data":{"cid":"xzSphx2b0_","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"","description":"pie","latestVersion":2,"alwaysLatest":1,"createTime":"2020-09-10T02:25:39.000Z","lastUpdateTime":"2020-09-10T02:25:39.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-10T02:45:48.000Z","code":"var light = \"/asset/get/s/data-1599703036969-fDXdfXJVA.png\";\n\n\n\n\nvar uploadedDataURLgreen = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk3RkQ0MzU2RDBBNDExRUE4MEFERjM3NzI1OTRENTYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk3RkQ0MzU3RDBBNDExRUE4MEFERjM3NzI1OTRENTYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTdGRDQzNTREMEE0MTFFQTgwQURGMzc3MjU5NEQ1NjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTdGRDQzNTVEMEE0MTFFQTgwQURGMzc3MjU5NEQ1NjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7TS3a6AAABIklEQVR42qSTzY4BQRSFSxGeQwfJINj3RoYFr9FhQWy8iJ2FkHgKiQWT2czeX0gsZOYpJgTt3OS0VKR1SJ/kS7rUOdetrtsRy3XVg7KgAeogyd8OYApGYGuaI0aBOOiBFtDKX1cwBF3wbxaQ8ARUaTyDGdhx/cG9GNdf7PDkFeiDNjd/gAP2D/+eBmNgcy2ZjhTI4WEJogxXwPHJERJgziIXUNR8YVG27QSEFfcceiXTkAI1bn77tO2nPb2imhSwuFip1+V5La3C6aQ5JKLCG0HP+6c5YaIyyLwQztArmsk15vGwMK7xU1p7Eo5ziLxrLEkHGzCgwaYh5RNOGWHFzCZolOWq1sDlmctBoxz6YzIlo93kgFl8H7/8uEY88l03AQYA4ipWIH/qaZIAAAAASUVORK5CYII=\";\n\nvar uploadedDataURLred = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlDRDAwRjI2RDBBNDExRUE4RDIzQTc0ODRCNkI5MzcwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlDRDAwRjI3RDBBNDExRUE4RDIzQTc0ODRCNkI5MzcwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUNEMDBGMjREMEE0MTFFQThEMjNBNzQ4NEI2QjkzNzAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUNEMDBGMjVEMEE0MTFFQThEMjNBNzQ4NEI2QjkzNzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4kjSdQAAABLklEQVR42qSTwUpCQRiF546i+BiKCRnoA7iRamG7nuGiiODGF8m1eK2nCFqYtOkBKilwEfUU0kWzc+BMDDKG4YEP7tz5z39n7pyJNoVLs6UqaIMLUNS7d3AHEvDqF0degxy4Aj1gTVjfYAwGYMkXWc98C841XoEpeNP4WHOs74IjrTB1DYae+RHEYLH1dZpuQAOcarV9buEED08gI/MZ+NqxhTy4V5M1qFv9sIyWHf9hNpqLVUtPmw1amnwILDukhWqpFhuUNHg2+8vVlqw5TKlVSKjaP4yu9tMqYVQTVPYwV1RLTdlgoiNhJq4Vql3KqSYrT8IGczBSAc93BsoBc1lzDY3pmbu7EIoyj+oFbLTnphf9mYvywZcpClxnRrujgDEjKfjQ5Uq05V/9CDAA2eVKS7qMwVEAAAAASUVORK5CYII=\";\n\n\nlet dataPie2 = [{\n        name: '安全',\n        value: 60\n    },\n    {\n        name: '报警',\n        value: 40\n    },\n  \n   \n];\nlet dataColor2 = [\n    {\n        os1: '#22ffff',\n        os2: '#22ffff'\n    },\n    {\n        os1: '#ff0950',\n        os2: '#ff0950'\n    },\n   \n   \n];\nlet \n    seriesData = [],\n    radiusValue = 40,total = 0;\n    \n dataPie2.forEach(function(val, idx, arr) {\n     total += val.value;\n })\nfor (let i = 0; i < dataPie2.length; i++) {\n\n            seriesData.push({\n                type: 'pie',\n                clockWise: false, //饼图的扇区是否是顺时针排布\n                radius: [radiusValue - 18 * i + '%', radiusValue - 18 * i + 1 + '%'],\n                center: ['70%', '50%'],\n                label: {\n                    normal: {\n                        show: false //隐藏引导线标识\n                    }\n                },\n                hoverAnimation: false, //关闭 hover 在扇区上的放大动画效果\n                startAngle: 150*i, //起始角度\n                data: [ { //透明伞形\n                    value: total - dataPie2[i].value,\n                    tooltip: {\n                        show: false\n                    },\n                    itemStyle: { //设置透明伞形\n                        normal: {\n                            color: '#041e36',//伞形颜色\n                            borderWidth: 5,\n                            borderColor:'#041e36',\n                            label: {\n                                show: false\n                            },\n\n                        },\n\n                    }\n                },\n                    {\n                        value: dataPie2[i].value,\n                        name: dataPie2[i].name,\n\n                        itemStyle: {\n                            normal: {\n                                borderWidth: 5,\n                                borderColor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: dataColor2[i].os1,\n                                }, {\n                                    offset: 1,\n                                    color: dataColor2[i].os2,\n                                }]),\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                                    offset: 0,\n                                    color: dataColor2[i].os1\n                                }, {\n                                    offset: 1,\n                                    color: dataColor2[i].os2\n                                }])\n                            }\n                        }\n                    },\n\n                ]\n            });\n\n\n        }\noption = {\n            backgroundColor: '#021228',\n            graphic: {\n                elements: [{\n                    type: 'image',\n                    style: {\n                        image: light,\n                        width: 24,\n                        height: 24\n                    },\n                    right: '25.5%',\n                    top: '35%'\n                }]\n            },\n            title: [{\n                // text: '160',\n                subtext: '228个',\n                textAlign: 'center',\n                textStyle: {\n                    color: '#ffffff',\n                    fontSize: 12,\n                    lineHeight: 12\n                },\n                subtextStyle: {\n                    color: '#ffffff',\n                    fontSize: 12,\n                    // fontWeight:800\n                },\n                x: '70%',\n                y: 'center',\n            }],\n            tooltip: {\n                trigger: 'item',\n                show: true,\n                formatter: \"{b} : <br/>{d}%\",\n                backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n                padding: [8, 10], //内边距\n                extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n            },\n\n            legend: {\n                left: '5%',\n                top: 'center',\n                orient: 'vertical',\n                itemGap: 20,\n                itemWidth: 19,\n                itemHeight:19,\n                formatter: function(name) {\n\n\n                    let target,percent;\n                    for (let i = 0; i < dataPie2.length; i++) {\n                        if (dataPie2[i].name === name) {\n                            target = dataPie2[i].value;\n                            percent = ((target/total)*100).toFixed(2);\n                        }\n                    }\n                    let arr =  [ ' {blue|' + name + '}',' {white|' + target + '}', percent+'% ', ];\n                    return arr.join(\"\\n\")\n\n                },\n                textStyle: {\n\n                    lineHeight: 20,\n                    color: '#a5dbff',\n                    align: 'right',\n                    rich: {\n                        white: {\n                            color: '#e9e9e9',\n                            align: 'right',\n\n                        },\n                        blue: {\n                            color: '#a5dbff',\n                            align: 'right',\n\n                        },\n                    }\n\n                },\n                data: [\n                    {name:'安全', icon:'image://'+uploadedDataURLgreen},\n                    {name:'报警', icon:'image://'+uploadedDataURLred},\n\n                ],\n            },\n            series: seriesData\n        };","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":87,"userName":"绿***绿","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzSphx2b0_.png?v=1599705948161","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}