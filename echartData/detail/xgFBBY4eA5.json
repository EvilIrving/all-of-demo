{"status":0,"data":{"cid":"xgFBBY4eA5","authorUid":"bd-4053509684","authorUserName":"跌***你","title":"3d地图下钻","description":"复制代码以后，引入echarts.min.js和echarts-gl.min.3.8.5.js文件就可以使用了","latestVersion":2,"alwaysLatest":1,"createTime":"2020-03-25T03:32:23.000Z","lastUpdateTime":"2020-03-25T03:32:23.000Z","auth":2,"uid":"bd-4053509684","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-25T03:36:20.000Z","code":"var cityProper = \"/asset/get/s/data-1585106163478-9_Yhr9ySc.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106268181-f8BWTEuMp.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106264482-9CvnI30KG.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106260708-J4WQhFviS.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106256461-HJdbYAvmo.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106251441-Rqm9T1h9S.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106245488-adg_bxKZR.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106240790-vd1Tj3lQb.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106230281-jm2vc8Jj6.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106145352-2svyDKcNx.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106151234-8__DZ4Kn7.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106168848-Lr8VTLQ6A.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106176156-9fyM4Qgcn.json\";\r\nvar cityProper = \"/asset/get/s/data-1585106180256-ij5MGbSBo.json\";\r\n\r\nvar data = [{\r\n        name: '南京市',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '无锡市',\r\n        value: 2\r\n    },\r\n    {\r\n        name: '徐州市',\r\n        value: 3\r\n    },\r\n    {\r\n        name: '常州市',\r\n        value: 4\r\n    },\r\n    {\r\n        name: '苏州市',\r\n        value: 5\r\n    },\r\n    {\r\n        name: '南通市',\r\n        value: 6\r\n    },\r\n    {\r\n        name: '连云港市',\r\n        value: 7\r\n    },\r\n    {\r\n        name: '淮安市',\r\n        value: 8\r\n    },\r\n    {\r\n        name: '盐城市',\r\n        value: 9\r\n    },\r\n    {\r\n        name: '扬州市',\r\n        value: 10\r\n    },\r\n    {\r\n        name: '镇江市',\r\n        value: 11\r\n    },\r\n    {\r\n        name: '泰州市',\r\n        value: 12\r\n    },\r\n    {\r\n        name: '宿迁市',\r\n        value: 13\r\n    },\r\n];\r\nvar splitList = [{\r\n        start: 1,\r\n        end: 1,\r\n        label: '南京市',\r\n        color: '#236da8'\r\n    },\r\n    {\r\n        start: 2,\r\n        end: 2,\r\n        label: '无锡市',\r\n        color: '#2884db'\r\n    },\r\n    {\r\n        start: 3,\r\n        end: 3,\r\n        label: '徐州市',\r\n        color: '#244779'\r\n    },\r\n    {\r\n        start: 4,\r\n        end: 4,\r\n        label: '常州市',\r\n        color: '#246198'\r\n    },\r\n    {\r\n        start: 5,\r\n        end: 5,\r\n        label: '苏州市',\r\n        color: '#2884db'\r\n    },\r\n    {\r\n        start: 6,\r\n        end: 6,\r\n        label: '南通市',\r\n        color: '#2884db'\r\n    },\r\n    {\r\n        start: 7,\r\n        end: 7,\r\n        label: '连云港市',\r\n        color: '#244779'\r\n    },\r\n    {\r\n        start: 8,\r\n        end: 8,\r\n        label: '淮安市',\r\n        color: '#244779'\r\n    },\r\n    {\r\n        start: 9,\r\n        end: 9,\r\n        label: '盐城市',\r\n        color: '#244779'\r\n    },\r\n    {\r\n        start: 10,\r\n        end: 10,\r\n        label: '扬州市',\r\n        color: '#246198'\r\n    },\r\n    {\r\n        start: 11,\r\n        end: 11,\r\n        label: '镇江市',\r\n        color: '#2884db'\r\n    },\r\n    {\r\n        start: 12,\r\n        end: 12,\r\n        label: '泰州市',\r\n        color: '#2884db'\r\n    },\r\n    {\r\n        start: 13,\r\n        end: 13,\r\n        label: '宿迁市',\r\n        color: '#244779'\r\n    },\r\n];\r\n//获取青岛地图数据。\r\n$.get('/asset/get/s/data-1585106163478-9_Yhr9ySc.json', function(getJSON) {\r\n    echarts.registerMap(\"江苏\", getJSON)\r\n    option = {\r\n        series: [{\r\n            tooltip: {\r\n                trigger: 'item'\r\n            },\r\n            name: '江苏',\r\n            type: 'map3D',\r\n            map: '江苏',\r\n            boxDepth: 100, //地图倾斜度\r\n            regionHeight: 4, //地图厚度\r\n            label: {\r\n                show: true, //是否显示市\r\n                textStyle: {\r\n                    color: \"#fff\", //文字颜色\r\n                    fontSize: 12, //文字大小\r\n                    fontFamily: '微软雅黑',\r\n                    backgroundColor: \"rgba(0,0,0,0)\", //透明度0清空文字背景\r\n                },\r\n            },\r\n            itemStyle: {\r\n                opacity: 1, // 透明度\r\n                borderWidth: 1.5, //分界线宽度\r\n                borderColor: \"#207fce\", //分界线颜色\r\n            },\r\n            groundplane: {\r\n                show: false\r\n            },\r\n            data: data,\r\n            //shading: 'realistic',\r\n            // 真实感材质相关配置 shading: 'realistic'时有效\r\n            realisticMaterial: {\r\n                detailTexture: '#fff', // 纹理贴图\r\n                textureTiling: 1, // 纹理平铺，1是拉伸，数字表示纹理平铺次数\r\n                roughness: 0, // 材质粗糙度，0完全光滑，1完全粗糙\r\n                metalness: 0, // 0材质是非金属 ，1金属\r\n                roughnessAdjust: 0\r\n            },\r\n            viewControl: {\r\n                distance: 135, // 地图视角 控制初始大小\r\n                rotateSensitivity: 1, // 旋转\r\n                zoomSensitivity: 1, // 缩放\r\n            },\r\n        }],\r\n        dataRange: {\r\n            show: false,\r\n            splitList: splitList\r\n        },\r\n        animation: false\r\n    };\r\n    chart.setOption(option);\r\n    chart.on(\"click\", chartClick);\r\n})\r\n\r\nfunction chartClick(param) {\r\n    chart.setOption(option, false);\r\n    var selectedPro = param.name;\r\n    if (!cityProper[selectedPro]) {\r\n        option.series.splice(1);\r\n        option.legend = null;\r\n        option.visualMap = null;\r\n        chart.setOption(option, true);\r\n        return;\r\n    }\r\n    //获取点击区域数据\r\n    $.get(cityProper[selectedPro], function(geojson) {\r\n        echarts.registerMap(selectedPro, geojson);\r\n        //根据需求，如果要替换青岛地图，series参数为[0]，不替换为[1],其中left、top自己设置。\r\n        option.series[0] = {\r\n            name: '',\r\n            type: 'map',\r\n            map: selectedPro,\r\n            boxDepth: 100, //地图倾斜度\r\n            regionHeight: 5, //地图厚度\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: true\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    label: {\r\n                        show: true\r\n                    }\r\n                }\r\n            },\r\n            groundplane: {\r\n                show: false\r\n            },\r\n            data: data,\r\n            shading: 'realistic',\r\n            // 真实感材质相关配置 shading: 'realistic'时有效\r\n            realisticMaterial: {\r\n                detailTexture: '#fff', // 纹理贴图\r\n                textureTiling: 1, // 纹理平铺，1是拉伸，数字表示纹理平铺次数\r\n                roughness: 0, // 材质粗糙度，0完全光滑，1完全粗糙\r\n                metalness: 0, // 0材质是非金属 ，1金属\r\n                roughnessAdjust: 0\r\n            },\r\n            viewControl: {\r\n                distance: 150, // 地图视角 控制初始大小\r\n                rotateSensitivity: 1, // 旋转\r\n                zoomSensitivity: 1, // 缩放\r\n            }\r\n        }\r\n        chart.setOption(option);\r\n    })\r\n}","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js","updaterUID":"bd-4053509684","theme":"","layout":"","viewCount":7647,"userName":"跌***你","commentCount":4,"starCount":26,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xgFBBY4eA5.png?v=1585107144162","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":["3d","3d地图","地图"],"updaterUserName":"跌***你"}}