{"status":0,"data":{"cid":"xZ3fu12eYG","authorUid":"obd-otaAfgIp_bpJM4KWJkvID1rr6cybb8U","authorUserName":"d***懂","title":"半玫瑰饼图分布图","description":"半玫瑰饼图分布图","latestVersion":2,"alwaysLatest":1,"createTime":"2020-11-30T07:15:12.000Z","lastUpdateTime":"2020-11-30T07:15:29.000Z","auth":2,"uid":"obd-otaAfgIp_bpJM4KWJkvID1rr6cybb8U","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-09T05:51:45.000Z","code":"//  半玫瑰饼图分布图\r\n let series = [\r\n     {name: \"一线\", value: \"10.05\"},\r\n     {name: \"新一线\", value: \"48.50\"},\r\n     {name: \"二线\", value: \"11.69\"},\r\n     {name: \"三线\", value: \"29.74\"},\r\n     {name: \"三线以下\", value: 0}\r\n     ] \r\n        let color =  ['#C993D5', '#4BB0FD', '#52B8C9', '#FAC633', '#E67A72'];\r\n        let aUnit = ['%'];\r\n        let legend = series.map(item => item.name);\r\n\r\n        series = series.sort((a,b)=>{\r\n            return a.value-b.value;\r\n        });\r\n        \r\n\r\n        let lineDatas = [];\r\n        for (var i = 1; i < 7; i++) {\r\n            let item = {\r\n                name: '半圆',\r\n                type: 'pie',\r\n                radius: [(i * 25 - 0.5) + '%', i * 25 + '%'],\r\n                center: [\"50%\", \"75%\"],\r\n                startAngle: -180,\r\n                hoverAnimation: false,\r\n                legendHoverLink: true,\r\n                label: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: '40',\r\n                    name: '半圆',\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#E9E9E9'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    value: '40',\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'transparent'\r\n                        }\r\n                    }\r\n                }\r\n                ]\r\n            }\r\n            lineDatas.push(item);\r\n        };\r\n        let seriesitem1 = series.map((sery, ind) => {\r\n            let item1 = {\r\n                \"value\": 0,\r\n                \"name\": \"\",\r\n                label: {\r\n                    normal: {\r\n                        show: false\r\n                    }\r\n\r\n                }\r\n            }\r\n            return item1;\r\n        });\r\n        let seriesitem2 = series.map((sery, ind) => {\r\n            let { value, name } = sery;\r\n\r\n            let item2 = {\r\n                \"value\": value,\r\n                \"name\": name,\r\n                label: {\r\n                    normal: {\r\n                        rotate: 170,//文字旋转角度，新版本只能单独设置\r\n                        show: false\r\n                    }\r\n                },\r\n                \"itemStyle\": {\r\n                    \"normal\": {\r\n                        \"color\": color[ind],\r\n                        borderWidth: 5,\r\n                        borderColor: \"#fff\",\r\n                    }\r\n                }\r\n            }\r\n            return item2;\r\n        });\r\n\r\n        let seriesOption = [\r\n            ...lineDatas,\r\n            {\r\n                \"name\": '分布'||'',\r\n                \"type\": \"pie\",\r\n                \"radius\": ['20px', '100%'],\r\n                // radius: [20, 95],\r\n                \"avoidLabelOverlap\": false,\r\n                \"startAngle\": 0,\r\n                \"center\": [\"50%\", \"75%\"],\r\n                \"roseType\": \"area\",\r\n                \"selectedMode\": \"single\",\r\n                \"label\": {\r\n                    \"normal\": {\r\n                        \"show\": true,\r\n                        \"formatter\": \"{c}/月\",\r\n                        position: 'inside',\r\n                    },\r\n                    \"emphasis\": {\r\n                        \"show\": true\r\n                    }\r\n                },\r\n                \"labelLine\": {\r\n                    \"normal\": {\r\n                        \"show\": false,\r\n                    }\r\n                },\r\n                data: [...seriesitem1, ...seriesitem2]\r\n            }\r\n        ];\r\n\r\noption = {\r\n    backgroundColor: '#071729',\r\n    title: {\r\n        text: ''\r\n    },\r\n    color: color,\r\n    legend: {\r\n        type: 'scroll',\r\n        data: legend,\r\n        bottom: 5,\r\n        itemWidth: 11,\r\n        itemHeight: 6,\r\n        itemGap: 20,\r\n        textStyle: {\r\n            color: '#8998AC',\r\n            fontSize: 12\r\n        }\r\n    },\r\n    grid: {\r\n        top: '40',\r\n        left: '30',\r\n        right: '30',\r\n        bottom: '45',\r\n        containLabel: true\r\n    },\r\n    \"tooltip\": {\r\n        \"trigger\": \"item\",\r\n        confine: true,\r\n        backgroundColor: '#fff',\r\n        textStyle: {\r\n            color: '#8998AC',\r\n            fontSize: 10,\r\n        },\r\n        borderColor:'rgba(102, 107, 127, 0.1)',\r\n        borderWidth:1,\r\n        axisPointer:{\r\n            shadowStyle :{\r\n                shadowColor: '0px 5px 7px -3px rgba(0, 0, 0, 0.13)',\r\n            }\r\n        },\r\n        formatter: '{a} <br/>{b} : {c}'+aUnit[0],\r\n        position: function (point, params, dom, rect, size) {\r\n            // 固定在顶部\r\n            // return [point[0], '10%'];\r\n            var obj = { top: '10%' };\r\n            let pst = (point[0] < size.viewSize[0] / 2) ? 'right' : 'left'\r\n            if (pst == 'left') {\r\n                obj.right = size.viewSize[0] - point[0] + 15\r\n            } else {\r\n                obj.left = point[0] + 15\r\n            }\r\n            return obj\r\n\r\n        }\r\n    },\r\n    \"series\": seriesOption,\r\n}","html":"","externalScripts":"","updaterUID":"obd-otaAfgIp_bpJM4KWJkvID1rr6cybb8U","theme":"dark","layout":"","viewCount":27,"userName":"d***懂","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZ3fu12eYG.png?v=1607493105166","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"d***懂"}}