{"status":0,"data":{"cid":"x9PXF56iB_","authorUid":"bd-2857759055","authorUserName":"h***y","title":" FY18FY19","description":"demo","latestVersion":2,"alwaysLatest":1,"createTime":"2019-01-09T11:58:26.000Z","lastUpdateTime":"2019-01-09T11:58:26.000Z","auth":1,"uid":"bd-2857759055","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.0","versionCreateTime":"2019-01-09T12:03:30.000Z","code":"var data = {\r\n    title: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    FY18: [160000, 170000, 180000, 168000, 155000, 167000, 179000, 170000, 165000, 170000, 179000, 168000],\r\n    FY19: [173000, 185000, 195000, 185000, 178000, 180000, 196000, 182000, 179000, 182000, 192000, 194000]\r\n};\r\n\r\nfunction formatNumber(number) {\r\n    var _data = number.toString().split('')\r\n    var data = []\r\n    for (var i = _data.length-1 ;i >= 0; i--) {\r\n        data.unshift(_data[i])\r\n        if (i % 3 === 0 && i !== 0) {\r\n            data.unshift(',')\r\n        }\r\n    }\r\n    return data.join('')\r\n}\r\n\r\nfunction getTableLine(num) {\r\n    var list = [];\r\n    var bottom = 122;\r\n    var height = 20;\r\n    for (var i = 0; i < num; i++) {\r\n        list.push({\r\n            type: 'line',\r\n            bottom: bottom - i * height,\r\n            right: 80,\r\n            style: {\r\n                fill: '#333'\r\n            },\r\n            shape: {\r\n                x1: 0,\r\n                y1: 0,\r\n                x2: 3200,\r\n                y2: 0\r\n            }\r\n\r\n        });\r\n    }\r\n    return list;\r\n}\r\nvar lineList = getTableLine(3);\r\n\r\n\r\noption = {\r\n    backgroundColor: '#fff',\r\n    color: ['#9bbb59', '#4f6228'],\r\n    title: [{\r\n        text: ' \\nFY18\\nFY19',\r\n        bottom: 96,\r\n        left: 10,\r\n        textStyle: {\r\n            lineHeight: 20,\r\n            fontSize: 13,\r\n            fontWeight: 'normal',\r\n            formatter: function(value) {\r\n                return '{table|' + value + '}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    align: 'center'\r\n                }\r\n            }\r\n        }\r\n    }],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'cross',\r\n            label: {\r\n                backgroundColor: '#283b56'\r\n            }\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['FY18', 'FY19']\r\n    },\r\n    grid: {\r\n        bottom: 150,\r\n        left: 80,\r\n        right: 80\r\n    },\r\n    dataZoom: {\r\n        show: true,\r\n        start: 0,\r\n        end: 50,\r\n        maxSpan: 80\r\n        // zoomLock: true\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data: data.title,\r\n        axisTick: {\r\n            length: 68\r\n        },\r\n        axisLabel: {\r\n            formatter: function(value, index) {\r\n                return '{table|' + value +\r\n                    '}\\n{table|' + formatNumber(data.FY18[index]) +\r\n                    '}\\n{table|' + formatNumber(data.FY19[index]) + '}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    lineHeight: 20,\r\n                    align: 'center'\r\n                }\r\n            }\r\n        },\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        scale: true,\r\n        minInterval: 1,\r\n        name: '销售额',\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        min: 150000\r\n    }],\r\n    series: [{\r\n        name: 'FY18',\r\n        type: 'bar',\r\n        yAxisIndex: 0,\r\n        data: data.FY18,\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: 3,\r\n                shadowColor: 'rgba(0, 0, 0, 0.2)',\r\n                shadowBlur: 10\r\n            }\r\n        },\r\n    }, {\r\n        name: 'FY19',\r\n        type: 'bar',\r\n        label: {\r\n            show: true,\r\n            position: 'top',\r\n            formatter: function(params) {\r\n                return '+' + Math.floor((params.data / data.FY18[params.dataIndex] - 1) * 100) + '%'\r\n            }\r\n        },\r\n\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderRadius: 3,\r\n                shadowColor: 'rgba(0, 0, 0, 0.2)',\r\n                shadowBlur: 10\r\n            }\r\n        },\r\n        yAxisIndex: 0,\r\n        data: data.FY19\r\n    }],\r\n    graphic: lineList\r\n};","html":"","externalScripts":"","updaterUID":"bd-2857759055","theme":"","layout":"","viewCount":827,"userName":"h***y","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x9PXF56iB_.png?v=1547035410429","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","graphic","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"h***y"}}