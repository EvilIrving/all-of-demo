{"status":0,"data":{"cid":"xWQVFR6hSg","authorUid":"obd-oEw_PUga0oczg7PjFhjNXWQAGuNXP4E","authorUserName":"c***7","title":"气泡","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-02-01T07:29:33.000Z","lastUpdateTime":"2021-02-01T07:29:33.000Z","auth":1,"uid":"obd-oEw_PUga0oczg7PjFhjNXWQAGuNXP4E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-02-01T07:29:33.000Z","code":"\n//字符串截取\nvar wordLength = (value) => {\n    var ret = \"\"; //拼接加\\n返回的类目项\n    var maxLength = 4; //每项显示文字个数\n    var valLength = value.length; //X轴类目项的文字个数\n    var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数\n    if (rowN > 1) //如果类目项的文字大于3,\n    {\n        for (var i = 0; i < rowN; i++) {\n            var temp = \"\"; //每次截取的字符串\n            var start = i * maxLength; //开始截取的位置\n            var end = start + maxLength; //结束截取的位置\n            //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧\n            temp = value.substring(start, end) + \"\\n\";\n            ret += temp; //凭借最终的字符串\n        }\n        return ret;\n    } else {\n        return value;\n    }\n}\n//\nvar data = [{\n        name: \"生产矿井\",\n        value: \"5\"\n    },\n    {\n        name: \"新建矿井\",\n        value: \"4\"\n    },\n    {\n        name: \"停产矿井\",\n        value: \"6\"\n    }\n\n];\n//偏移量\nvar offsetData = [\n    [80, 53],\n    [35, 73],\n    [30, 33]\n];\n//symbolSize 散点气泡大小\nvar symbolSizeData = [200, 185, 175];\n//\n//循环定义series的data值\nvar datas = [];\nfor (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    //var itemToStyle = datalist[i];\n\n    datas.push({\n        name: wordLength(item.name) + \"\\n\" + item.value + \"座\",\n        value: offsetData[i],\n        symbolSize: symbolSizeData[i],\n        label: {\n            normal: {\n                textStyle: {\n                    fontSize: 14\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.RadialGradient(0.3, 0.5, 0.7, [{\n                        offset: 0,\n                        color: \"#409eff\"\n                    },\n                    {\n                        offset: 1,\n                        color: \"rgba(1,98,156,0.6)\"\n                    }\n                ]),\n                opacity: 0.8,\n                shadowColor: '#409eff',\n                shadowBlur: 10,\n                shadowOffsetX: 1,\n                shadowOffsetY: 1,\n            },\n\n        }\n    });\n}\n\nvar option = {\n    //   backgroundColor: \"transparent\",\n    backgroundColor: '#EDF5FF',\n    grid: {\n        show: false,\n        top: 10,\n        bottom: 10\n    },\n    xAxis: [{\n        gridIndex: 0,\n        type: \"value\",\n        show: false,\n        min: 0,\n        max: 100,\n        nameLocation: \"middle\",\n        nameGap: 5\n    }],\n    yAxis: [{\n        gridIndex: 0,\n        min: 0,\n        show: false,\n        max: 100,\n        nameLocation: \"middle\",\n        nameGap: 30\n    }],\n\n    series: [{\n        type: \"scatter\",\n        symbol: \"circle\",\n        symbolSize: 120,\n        label: {\n            normal: {\n                show: true,\n                formatter: \"{b}\",\n                color: \"#fff\",\n                textStyle: {\n                    fontSize: \"20\"\n                }\n            }\n        },\n\n        itemStyle: {\n            normal: {\n                color: \"#00acea\"\n            }\n        },\n        data: datas\n    }]\n};","html":"","externalScripts":"","updaterUID":"obd-oEw_PUga0oczg7PjFhjNXWQAGuNXP4E","theme":"","layout":"","viewCount":55,"userName":"c***7","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xWQVFR6hSg.png?v=1612164573446","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter"],"customTags":[],"updaterUserName":"c***7"}}