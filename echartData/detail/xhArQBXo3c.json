{"status":0,"data":{"cid":"xhArQBXo3c","authorUid":"bd-4286708132","authorUserName":"L***h","title":"项目记录","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-09-15T02:09:00.000Z","lastUpdateTime":"2021-09-15T02:09:00.000Z","auth":2,"uid":"bd-4286708132","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-09-15T02:09:00.000Z","code":"var currvalue = 75;\nvar maxValue = 100;\nvar title = '实际';\nvar val = [30, 60, 80];\nvar colors = ['#33AEEE', '#4BCD6C', '#FFDE81'];\nvar percent = ((currvalue / maxValue) * 100).toFixed(2);\n\nfunction getRich() {\n    let result = {};\n    colors.forEach((v, i) => {\n        (result[`normal${i}`] = {\n            fontSize: 12,\n            align: 'center',\n            padding: [4, 0],\n            fontFamily: 'PingFang',\n            color: '#fff',\n        }),\n            (result[`value${i}`] = {\n                color: '#fff',\n                align: 'center',\n                fontSize: 12,\n                padding: [2, 0],\n                fontFamily: 'PingFang',\n            });\n    });\n    return result;\n}\noption = {\n    backgroundColor: '#010e28',\n    series: [\n        // 刻度\n        {\n            name: '刻度',\n            type: 'gauge',\n            radius: '74%',\n            center: ['50%', '50%'],\n            min: 0, //最小刻度\n            max: 100, //最大刻度\n            splitNumber: 10, //刻度数量\n            startAngle: 220,\n            endAngle: -44,\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    width: 1,\n                    color: [[1, 'rgba(0,0,0,0)']],\n                },\n            }, //仪表盘轴线\n            axisLabel: {\n                show: false,\n                color: '#ffffff',\n                distance: -60,\n                formatter: function (v) {\n                    switch (v + '') {\n                        case '30':\n                            return '目标\\n 30';\n                        case '60':\n                            return '标准\\n60';\n                        case '80':\n                            return '预算\\n80';\n                    }\n                },\n            }, //刻度标签。\n            axisTick: {\n                show: true,\n                splitNumber: 10,\n                lineStyle: {\n                    color: '#272935',\n                    width: 1,\n                },\n                length: 8,\n            }, //刻度样式\n            splitLine: {\n                show: false,\n                length: -8,\n                lineStyle: {\n                    color: '#272935',\n                },\n            }, //分隔线样式\n            detail: {\n                show: false,\n            },\n            pointer: {\n                show: false,\n            },\n        },\n        // 圈\n        {\n            name: '实际',\n            type: 'gauge',\n            radius: '78%',\n            center: ['50%', '50%'],\n\n            splitNumber: 0, //刻度数量\n            startAngle: 220,\n            endAngle: -44,\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    width: 8,\n                    color: [\n                        [\n                            1,\n                            new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n                                {\n                                    offset: 0,\n                                    color: '#33AEEE',\n                                },\n                                {\n                                    offset: 1,\n                                    color: '#33AEEE',\n                                },\n                            ]),\n                        ],\n                    ],\n                },\n            },\n            //分隔线样式。\n            splitLine: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            pointer: {\n                show: false,\n            },\n            title: {\n                show: true,\n                offsetCenter: [0, '40%'], // x, y，单位px\n                textStyle: {\n                    color: '#fff', //标题颜色\n                    fontSize: 14,\n                },\n            },\n            //仪表盘详情，用于显示数据。\n            detail: {\n                show: true,\n                offsetCenter: [0, 0],\n                color: '#33AEEE', //指标值颜色\n                formatter: function (params) {\n                    // var params = params.toFixed(2)\n                    return params;\n                },\n                textStyle: {\n                    fontSize: 20,\n                },\n            },\n            data: [\n                {\n                    name: title,\n                    value: percent,\n                },\n            ],\n        },\n        // 实际数值\n        {\n            type: 'pie',\n            radius: ['65%', '78%'],\n            center: ['50%', '50%'],\n            animation: false,\n            label: {\n                show: false,\n            },\n            startAngle: 220 - (percent / 100) * 260 - 1.8,\n            endAngle: -44,\n            color: ['#33AEEE', 'rgba(0,0,0,0)'],\n            data: [\n                {\n                    value: 0.1,\n                    name: '指针',\n                },\n                {\n                    value: 99.9,\n                    name: '空白',\n                },\n            ],\n        },\n        //   目标、标准、预算 线\n        {\n            type: 'pie',\n            name: '目标',\n            radius: ['78%', '82%'],\n            center: ['50%', '50%'],\n            animation: false,\n            label: {\n                normal: {\n                    show: true,\n                    formatter: function (params) {\n                        const index = params.dataIndex;\n                        return [`{normal${index}|${params.name}}\\n{value${index}|${val[0]}}`].join('\\n');\n                    },\n                    padding: [0, -20],\n                    rich: getRich(),\n                },\n                emphasis: {\n                    show: true,\n                },\n            },\n            startAngle: 220 - (val[0] / 100) * 260 - 1,\n            endAngle: -44,\n            itemStyle: {\n                normal: {\n                    color: colors[0],\n                    shadowBlur: 0,\n                    label: {\n                        show: false,\n                    },\n                    labelLine: {\n                        show: false,\n                    },\n                },\n            },\n            data: [\n                {\n                    value: 0.1,\n                    name: '目标',\n                },\n                {\n                    value: 99.9,\n                    name: '空白',\n                    label: {\n                        show: false,\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                        emphasis: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            type: 'pie',\n            name: '标准',\n            radius: ['78%', '82%'],\n            center: ['50%', '50%'],\n            animation: false,\n            label: {\n                normal: {\n                    show: true,\n                    formatter: function (params) {\n                        const index = params.dataIndex;\n                        return [`{normal${index}|${params.name}}\\n{value${index}|${val[1]}}`].join('\\n');\n                    },\n                    padding: [0, -30],\n                    rich: getRich(),\n                },\n                emphasis: {\n                    show: true,\n                },\n            },\n            startAngle: 220 - (val[1] / 100) * 260 - 2,\n            endAngle: -44,\n            itemStyle: {\n                normal: {\n                    color: colors[1],\n                    shadowBlur: 0,\n                    label: {\n                        show: false,\n                    },\n                    labelLine: {\n                        show: false,\n                    },\n                },\n            },\n            data: [\n                {\n                    value: 0.1,\n                    name: '标准',\n                },\n                {\n                    value: 99.9,\n                    name: '空白',\n                    label: {\n                        show: false,\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                        emphasis: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            type: 'pie',\n            name: '预算',\n            radius: ['78%', '82%'],\n            center: ['50%', '50%'],\n            animation: false,\n            label: {\n                normal: {\n                    show: true,\n                    formatter: function (params) {\n                        const index = params.dataIndex;\n                        return [`{normal${index}|${params.name}}\\n{value${index}|${val[2]}}`].join('\\n');\n                    },\n                    padding: [0, -20],\n                    rich: getRich(),\n                },\n                emphasis: {\n                    show: true,\n                },\n            },\n            startAngle: 220 - (val[2] / 100) * 260 - 3,\n            endAngle: -44,\n            itemStyle: {\n                normal: {\n                    color: colors[2],\n                    shadowBlur: 0,\n                    label: {\n                        show: false,\n                    },\n                    labelLine: {\n                        show: false,\n                    },\n                },\n            },\n            data: [\n                {\n                    value: 0.1,\n                    name: '预算',\n                },\n                {\n                    value: 99.9,\n                    name: '空白',\n                    label: {\n                        show: false,\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                        emphasis: {\n                            color: 'rgba(0,0,0,0)',\n                        },\n                    },\n                },\n            ],\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"bd-4286708132","theme":"","layout":"","viewCount":0,"userName":"L***h","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhArQBXo3c.png?v=1631671740261","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","series-pie"],"customTags":[],"updaterUserName":"L***h"}}