{"status":0,"data":{"cid":"xbzuV52Z6p","authorUid":"obd-oFh6Vsh_XwHWXiK62n7GisghaGcr15M","authorUserName":"火***粉","title":"bar排行","description":"使用bar展示排名","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-13T03:52:53.000Z","lastUpdateTime":"2020-11-13T03:52:53.000Z","auth":2,"uid":"obd-oFh6Vsh_XwHWXiK62n7GisghaGcr15M","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-13T03:52:53.000Z","code":"let data = [\r\n    {name: '253.161.210.69', value: 97},\r\n    {name: '56.234.119.70', value: 68},\r\n    {name: '191.145.54.113', value: 50},\r\n    {name: '209.41.95.49', value: 36},\r\n    {name: '208.240.205.155', value: 13}\r\n]\r\nlet xAxisData = data.map(item => item.name)\r\nlet seriesData = data.map(item => item.value)\r\nlet maxSeriesData = []\r\nconst MAX = Math.max(...seriesData)\r\nfor (let i = 0; i < seriesData.length; i++) {\r\n    maxSeriesData.push(MAX)\r\n}\r\nlet barLinearColors = [\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n      { offset: 0, color: \"#EB3B5A\" },\r\n      { offset: 1, color: \"#FE9C5A\" }\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n      { offset: 0, color: \"#FA8231\" },\r\n      { offset: 1, color: \"#FFD14C\" }\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n      { offset: 0, color: \"#F7B731\" },\r\n      { offset: 1, color: \"#FFEE96\" }\r\n    ]),\r\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\r\n      { offset: 0, color: \"#395CFE\" },\r\n      { offset: 1, color: \"#2EC7CF\" }\r\n    ])   \r\n]\r\n\r\nfunction rankBarColor (cData) {\r\n    let tempData = []\r\n    cData.forEach((item, index) => {\r\n        tempData.push({\r\n            value: item,\r\n            itemStyle: {\r\n                color: index > 3 ? barLinearColors[3] : barLinearColors[index]\r\n            }\r\n        })\r\n    })\r\n    return tempData\r\n}\r\nvar option = {\r\n    tooltip: {\r\n        backgroundColor: 'rgba(50,50,50,.3)',\r\n        textStyle: {\r\n            color: '#222'\r\n        }\r\n    },\r\n    xAxis: {\r\n      type: \"value\",\r\n      splitLine: { show: false },\r\n      axisLabel: { show: false },\r\n      axisTick: { show: false },\r\n      axisLine: { show: false }\r\n    },\r\n        yAxis: [\r\n          {\r\n            type: \"category\",\r\n            inverse: true,\r\n            axisLine: { show: false },\r\n            axisTick: { show: false },\r\n            data: xAxisData,\r\n            axisLabel: {\r\n              rich: {\r\n                nt1: {\r\n                  color: \"#fff\",\r\n                  backgroundColor: '#EB3B5A',\r\n                  width: 16,\r\n                  height: 16,\r\n                  fontSize: 12,\r\n                  align: \"center\",\r\n                  borderRadius: 100,\r\n                  padding: [0, 1, 2, 1]\r\n                },\r\n                nt2: {\r\n                  color: \"#fff\",\r\n                  backgroundColor: '#FA8231',\r\n                  width: 16,\r\n                  height: 16,\r\n                  fontSize: 12,\r\n                  align: \"center\",\r\n                  borderRadius: 100,\r\n                  padding: [0, 1, 2, 1]\r\n                },\r\n                nt3: {\r\n                  color: \"#fff\",\r\n                  backgroundColor: '#F7B731',\r\n                  width: 16,\r\n                  height: 16,\r\n                  fontSize: 12,\r\n                  align: \"center\",\r\n                  borderRadius: 100,\r\n                  padding: [0, 1, 2, 1]\r\n                },\r\n                nt: {\r\n                  color: \"#fff\",\r\n                  backgroundColor: '#00a9c8',\r\n                  width: 16,\r\n                  height: 16,\r\n                  fontSize: 12,\r\n                  align: \"center\",\r\n                  borderRadius: 100,\r\n                  padding: [0, 1, 2, 1]\r\n                }\r\n              },\r\n              formatter: function(value, index) {\r\n                let idx = index + 1\r\n                if (idx <= 3) {\r\n                  return [\"{nt\" + idx + \"|\" + idx + \"}\"].join(\"\\n\");\r\n                } else {\r\n                  return [\"{nt|\" + idx + \"}\"].join(\"\\n\");\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {//名称\r\n          type: 'category',\r\n            offset: -10,\r\n            position: \"left\",\r\n            axisLine: { show: false },\r\n            axisTick: { show: false },\r\n            axisLabel: {\r\n              color: '#333',\r\n              align: \"left\",\r\n              verticalAlign: \"bottom\",\r\n              lineHeight: 32,\r\n              fontSize: 12\r\n            },\r\n            data: xAxisData\r\n          },\r\n        ],\r\n        series: [\r\n          {\r\n            zlevel: 1,\r\n            type: \"bar\",\r\n            barWidth: 16,\r\n            data: rankBarColor(seriesData),\r\n            itemStyle: {\r\n              normal: {\r\n                barBorderRadius: 30\r\n              }\r\n            },\r\n            label: {\r\n              show: true,\r\n              fontSize: 12,\r\n              color: \"#fff\"\r\n            }\r\n          },\r\n          {\r\n            type: \"bar\",\r\n            barWidth: 16,\r\n            barGap: \"-100%\",\r\n            itemStyle: {\r\n              normal: {\r\n                barBorderRadius: 30,\r\n                color: 'rgba(0,0,0,0.04)'\r\n              }\r\n            },\r\n            data: maxSeriesData\r\n          }\r\n        ]\r\n      };","html":"","externalScripts":"","updaterUID":"obd-oFh6Vsh_XwHWXiK62n7GisghaGcr15M","theme":"","layout":"","viewCount":227,"userName":"火***粉","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xbzuV52Z6p.png?v=1605239573747","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"火***粉"}}