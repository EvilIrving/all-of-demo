{"status":0,"data":{"cid":"xFACgv6sSS","authorUid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","authorUserName":"m***h","title":"指标仪表盘","description":"指标仪表盘","latestVersion":1,"alwaysLatest":1,"createTime":"2020-11-12T10:02:52.000Z","lastUpdateTime":"2020-11-12T10:02:52.000Z","auth":1,"uid":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-12T10:02:52.000Z","code":"// 指针值\nvar gaugeValue = [50, 60]\n// 指针颜色\nvar gaugeColor = ['#70D5FF', '#FF5652']\n// 指针名称\nvar pointerName = ['本校值', '同类型同性质院校平均值']\n// 标题\nvar gaugeName = '日常运行支出'\n// 最大值\nvar max = 100;\n// 圆环进度\nvar gaugeList = [15, 40]\n// 从大-》小\nvar zIndex = [10, 9]\n// 圆环颜色\nvar colorList = ['#FF5652', '#FFBD4B']\n// 圆环大小\nvar gaugeSize = 300\n// 单位\nvar gaugeMeasure = '元'\n\n\n\nconst seriesData = [];\nvar data = [];\ngaugeValue.map((item, index) => {\n    data.push({\n        name: pointerName[index],\n        value: gaugeValue[index],\n        itemStyle: {\n            color: gaugeColor[index]\n        }\n    })\n})\n\nfor (let i = 0; i < gaugeList.length; i++) {\n    seriesData.push({\n        type: 'bar',\n        data: [{ //上层圆环，显示数据\n            value: gaugeList[i],\n            itemStyle: {\n                color: colorList[i],\n            }\n        }],\n        barGap: '-100%', //柱间距离,上下两层圆环重合\n        coordinateSystem: 'polar',\n        roundCap: true, //顶端圆角\n        z: zIndex[i] //圆环层级，同zindex\n    })\n}\n\nvar barList = ['']\noption = {\n    center: ['50%', '50%'],\n    backgroundColor: '#00070B',\n    title: [{\n        text: gaugeName,\n        bottom: '30%',\n        x: 'center',\n        borderRadius: 15,\n        padding: [7, 14],\n        textStyle: {\n            fontWeight: 'bold',\n            fontSize: 16,\n            color: '#C3F0FF',\n            textAlign: 'center',\n        }\n    }],\n    angleAxis: {\n        show: false,\n        max: 100 * 360 / 270, //-45度到225度，二者偏移值是270度除360度\n        type: 'value',\n        startAngle: 225, //极坐标初始角度\n        splitLine: {\n            show: false\n        }\n    },\n    barMaxWidth: 14, //圆环宽度\n    radiusAxis: {\n        show: false,\n        type: 'category',\n    },\n    //圆环位置和大小\n    polar: {\n        center: ['50%', '50%'],\n        radius: gaugeSize\n    },\n    tooltip: {\n        show: true,\n        // formatter:params=>{\n        //     console.log(params)    \n        // }\n    },\n    series: [...seriesData,\n        { //下层圆环，显示最大值\n            type: 'bar',\n            data: [{\n                value: 100,\n                itemStyle: {\n                    color: '#70D5FF',\n                    borderWidth: 20,\n                    borderColor: 'rgba(105,200,255,0.2)',\n                    shadowBlur: 20,\n                }\n            }],\n            barGap: '-100%',\n            coordinateSystem: 'polar',\n            roundCap: true,\n            z: 1\n        },\n        //仪表盘\n        {\n            title:{\n                show:false\n            },\n            name: '',\n            type: 'gauge',\n            startAngle: 225, //起始角度，同极坐标\n            endAngle: -45, //终止角度，同极坐标\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                show: false\n            },\n            pointer: {\n                width: '12',\n                length: '25%',\n            },\n            detail: {\n                formatter: name => {\n                    console.log(name)\n                    return max + gaugeMeasure\n                },\n                offsetCenter: [0, '25%'],\n                textStyle: {\n                    color: '#00BAFF',\n                    fontSize: 20\n                }\n            },\n            tooltip: {\n                show: true\n            },\n            data: data\n        }\n    ]\n}","html":"","externalScripts":"","updaterUID":"obd-o2TqhU5V49yi28tSjDqysoIw4zUTi6H","theme":"","layout":"","viewCount":137,"userName":"m***h","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xFACgv6sSS.png?v=1605175372727","isCustomThumbnail":0,"builtinTags":["category-work","polar","series-bar","series-gauge","title","tooltip"],"customTags":[],"updaterUserName":"m***h"}}