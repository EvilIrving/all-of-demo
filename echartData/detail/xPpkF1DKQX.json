{"status":0,"data":{"cid":"xPpkF1DKQX","authorUid":"bd-353054937","authorUserName":"t***g","title":"3D柱状图","description":"基于X轴的伪3D柱状图","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-23T07:54:45.000Z","lastUpdateTime":"2020-06-23T07:54:45.000Z","auth":2,"uid":"bd-353054937","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-23T07:54:45.000Z","code":"var MyCubeRect = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n        width: 48, //柱宽        \n        zWidth: 8, //阴影折角宽        \n        zHeight: 4, //阴影折角高 \n    },\n    buildPath: function (ctx, shape) {\n        const api = shape.api;\n        const xAxisPoint = api.coord([shape.xValue, 0]);\n        const p0 = [shape.x, shape.y];\n        const p1 = [shape.x - 24, shape.y];\n        const p4 = [shape.x + 24, shape.y];\n        const p2 = [xAxisPoint[0] - 24, xAxisPoint[1]];\n        const p3 = [xAxisPoint[0] + 24, xAxisPoint[1]];\n         \n        ctx.moveTo(p0[0], p0[1]); //0\n        ctx.lineTo(p1[0], p1[1]); //1\n        ctx.lineTo(p2[0], p2[1]); //2\n        ctx.lineTo(p3[0], p3[1]); //3\n        ctx.lineTo(p4[0], p4[1]); //4\n        ctx.lineTo(p0[0], p0[1]); //0\n        ctx.closePath();\n    }\n});\nvar MyCubeShadow = echarts.graphic.extendShape({\n    shape: {\n        x: 0,\n        y: 0,\n        width: 48,\n        zWidth: 8,\n        zHeight: 4,\n    },\n    buildPath: function (ctx, shape) {\n        const api = shape.api;\n        const xAxisPoint = api.coord([shape.xValue, 0]);\n        const p0 = [shape.x, shape.y];\n        const p1 = [shape.x - 24, shape.y];\n        const p4 = [shape.x + 24, shape.y];\n        const p6 = [shape.x + 24 + 8, shape.y - 4];\n        const p7 = [shape.x - 24 + 8, shape.y - 4];\n        const p3 = [xAxisPoint[0] + 24, xAxisPoint[1]];\n        const p5 = [xAxisPoint[0] + 24 + 8, xAxisPoint[1] - 4];\n      \n        ctx.moveTo(p4[0], p4[1]); //4\n        ctx.lineTo(p3[0], p3[1]); //3\n        ctx.lineTo(p5[0], p5[1]); //5\n        ctx.lineTo(p6[0], p6[1]); //6\n        ctx.lineTo(p4[0], p4[1]); //4\n      \n        ctx.moveTo(p4[0], p4[1]); //4\n        ctx.lineTo(p6[0], p6[1]); //6\n        ctx.lineTo(p7[0], p7[1]); //7\n        ctx.lineTo(p1[0], p1[1]); //1\n        ctx.lineTo(p4[0], p4[1]); //4\n        ctx.closePath();\n    }\n});\necharts.graphic.registerShape('MyCubeRect', MyCubeRect);\necharts.graphic.registerShape('MyCubeShadow', MyCubeShadow);\noption = {\n    grid: {\n        height: 300\n    },\n    xAxis: {\n        data: ['one', 'two']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [{\n        type: 'custom',\n        renderItem: function (params, api) {\n            let location = api.coord([api.value(0), api.value(1)]);\n            return {\n                type: 'group',\n                children: [{\n                    type: 'MyCubeRect',\n                    shape: {\n                        api,\n                        xValue: api.value(0),\n                        yValue: api.value(1),\n                        x: location[0],\n                        y: location[1]\n                    },\n                    style: {\n                        fill: '#5AD8A6'\n                    }\n                },{\n                    type: 'MyCubeShadow',\n                    shape: {\n                        api,\n                        xValue: api.value(0),\n                        yValue: api.value(1),\n                        x: location[0],\n                        y: location[1]\n                    },\n                    style: {\n                        fill: '#1F986A'\n                    }\n                }]\n            };\n        },\n        data: [20, 60]\n    }]\n};","html":"","externalScripts":"","updaterUID":"bd-353054937","theme":"","layout":"","viewCount":254,"userName":"t***g","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPpkF1DKQX.png?v=1592898885521","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom"],"customTags":["3D","X","柱状图"],"updaterUserName":"t***g"}}