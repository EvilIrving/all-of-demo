{"status":0,"data":{"cid":"xPYUpDarVy","authorUid":"bd-3323327795","authorUserName":"笑***野","title":"legend展示多列数据-合计展示","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-10-15T03:24:09.000Z","lastUpdateTime":"2020-10-15T03:24:09.000Z","auth":2,"uid":"bd-3323327795","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-16T07:20:42.000Z","code":"var seriesdata1 = [{name:'周一',value:50},{name:'周二',value:60},{name:'周三',value:80}];\nvar colorList = ['#407AFB', '#1791FF', '#36B0FE', '#6635EF', '#73ACFF', '#41CBAB', '#7BDD43', '#FFC653', '#FF6519', '#EE3939', '#FFAFDA', '#00FFFF']\n\n\nvar objData = array2obj(seriesdata1, 'name')\n\n//将合计值转换为数组\nvar h = '6725';\n    arr = h.split('');\n    m = '';\n\n    for(i = 0;i<arr.length;i++){\n        m += \"{a|\" + arr[i] + \"}\";\n        if(i != arr.length - 1){m += '  '}\n    };\n\n\noption = {\n  backgroundColor:\"#051F54\",\n    grid: {\n                \"x\": \"30%\",\n                \"y\": \"3%\",\n                \"x2\": \"5%\",\n                \"y2\": \"5%\",\n                \"borderWidth\": 1,\n                \"borderColor\": \"#f0f0f0\"\n            },\n        title:[{\n            \"show\": true,\n            text:'{a|产品名称}{b|数量}{c|占比}',\n            \"top\":\"45%\",\n            \"left\":\"60%\",\n            textStyle: {\n              rich: {\n                a: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:20,\n                  padding: [0, 0, 0, 20]\n                },\n                b: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:5,\n                  padding: [0, 0, 0, 50]\n                },\n                c: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:5,\n                  padding: [0, 0, 0, 45]\n                }\n              }\n            }\n        },{\n            text: '{b|合计：}' + m,\n            left: '70%',\n            top: '20%',\n            textAlign: 'center',\n            textStyle: {\n                fontWeight: 'normal',\n                fontSize: '24',\n                color: '#FFFFFF',\n                textAlign: 'center',\n                rich:{\n                    a:{\n                        fontSize: '24', \n                        fontWeight:'bold',\n                        backgroundColor:'rgba(56,89,255,0.2)',\n                        borderColor:'rgba(56,211,255,1)',\n                        borderWidth:1,\n                        padding: [6, 6, 6, 6],\n                        shadowColor:'rgba(56,211,255,1)',\n                        shadowBlur:3,\n                        borderRadius:3\n                    },\n                    b:{\n                        fontSize: '24', \n                        fontWeight:'bold',\n                        padding: [6, 6, 6, 6],\n                        color: '#FFFFFF',\n                    }\n                }\n            },\n        }\n            ],\n        \"legend\": {\n            \"show\": true,\n            //icon: 'circle',\n            orient: 'vertical',\n            top: '50%',\n            left: '60%',\n            itemGap: 15,\n            itemWidth:15,\n            itemHeight:10,\n            data: seriesdata1,\n            formatter: function (name) {\n              return '{a|' + name +'}{b|' +objData[name].value.toFixed(0) +'}{c|' + Number(10).toLocaleString() +'%}'\n            },\n            textStyle: {\n              rich: {\n                a: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:20,\n                  //fontWeight: 600,\n                  padding: [0, 0, 0, 10]\n                },\n                b: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:5,\n                  //fontWeight: 600,\n                  padding: [0, 0, 0, 40]\n                },\n                c: {\n                  align: 'center',\n                  fontSize: 14,\n                  color:'rgba(255,255,255,1)',\n                  width:5,\n                  //fontWeight: 600,\n                  padding: [0, 0, 0, 50]\n                }\n              }\n            }\n        },\n    series: {\n        type: 'pie',\n        center: ['30%', '50%'],\n        radius: ['15%', '30%'],\n        clockwise: true,\n        //startAngle: 50,\n        avoidLabelOverlap: true,\n        hoverOffset: 15,\n        itemStyle: {\n            normal: {\n                color: function(params) {\n                    return colorList[params.dataIndex]\n                }\n            }\n        },\n        label: {\n            show: true,\n            position: 'outside',\n            formatter: function(data){\n              //console.log('data',data)\n              return  '\\n{icon|}\\n' + '{name|' + data.name + \"}\" +\" {value|\" + data.value.toFixed(0) + \" ,\"+ data.percent.toFixed(0)+\"%}\"  ;\n                                  },\n                //padding: [-40, -90, -20, -80],\n                rich: {\n                    icon: {\n                        height:5,\n                        width:5,\n                        lineHeight: 5,\n                        //marginBottom: 10,\n                        padding:[0,-5],\n                        borderRadius:5,\n                        backgroundColor:'t', // 圆点颜色和饼图块状颜色一致\n                    },\n                    name: {\n                        fontSize: 14,\n                        padding: [20, 100, -20, -90],\n                        color: '#ffffff'\n                    },\n                    value: {\n                        fontSize: 14,\n                        padding: [20, -90, -20, -100],\n                        color: '#ffffff'\n                    }\n                }\n        },\n        labelLine: {\n            show: false,\n            normal: {\n                length: 10,\n                length2: 90,\n                align:'right',\n                lineStyle: {\n                    width: 1\n                }\n            }\n        },\n                \"data\": seriesdata1,\n                \"seriesIndex\": 0\n            }\n};\n\n\nfunction array2obj (array, key) {\n  var resObj = {}\n  for (var i = 0; i < array.length; i++) {\n    resObj[array[i][key]] = array[i]\n  }\n  return resObj\n};","html":"","externalScripts":"","updaterUID":"bd-3323327795","theme":"","layout":"","viewCount":1826,"userName":"笑***野","commentCount":0,"starCount":25,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xPYUpDarVy.png?v=1602832842564","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"笑***野"}}