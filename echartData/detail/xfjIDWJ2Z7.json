{"status":0,"data":{"cid":"xfjIDWJ2Z7","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"饼图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-18T09:57:43.000Z","lastUpdateTime":"2021-12-18T09:57:43.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-18T09:57:43.000Z","code":" let dataPie = [\r\n     {\r\n         value: 38,\r\n         name: '已占用'\r\n     },\r\n     {\r\n         value: 62,\r\n         name: '剩余'\r\n     }\r\n ];\r\n let fontColor = \"#ffffff\";\r\n\r\n let colorWrap = ['#01ccff', \"#083253\"];\r\n let baseDataWrap = [];\r\n let total = 0;\r\n dataPie.forEach(function(val, idx, arr) {\r\n     total += val.value;\r\n })\r\n for (let i = 0; i < dataPie.length; i++) {\r\n     baseDataWrap.push({\r\n         value: dataPie[i].value,\r\n         name: dataPie[i].name,\r\n         itemStyle: {\r\n             normal: {\r\n                 color: colorWrap[i],\r\n               \r\n                 shadowBlur: 50,\r\n                 shadowColor: 'rgba(7, 132, 250, 0.8)',\r\n             }\r\n         }      \r\n     }, {\r\n         value: 3,\r\n         name: '',\r\n         itemStyle: {\r\n             normal: {\r\n                 color: 'transparent',\r\n                 borderWidth: 5,\r\n                 borderColor: 'transparent',\r\n\r\n             }\r\n         },\r\n         tooltip: {\r\n             show: false\r\n         },\r\n     });\r\n\r\n    \r\n }\r\n\r\n\r\n option = {\r\n     backgroundColor: \"#151515\",\r\n     title: [\r\n         {\r\n         text: '·',\r\n         textAlign: 'center',\r\n         textStyle: {\r\n             color: '#b3b3b3',\r\n             fontSize: 14,\r\n             fontFamily:\"NexaBold\"\r\n         },\r\n         x: '30px',\r\n         y: '10px',\r\n     },\r\n         {\r\n         text: '空间容量',\r\n         textAlign: 'center',\r\n         textStyle: {\r\n             color: '#b3b3b3',\r\n             fontSize: 14,\r\n         },\r\n         x: '80px',\r\n         y: '10px',\r\n     },\r\n     {\r\n         text: ' {yellow|'+total+'}'+' {blue|U}',\r\n         textAlign: 'center',\r\n         textStyle: {\r\n             color: '#b3b3b3',\r\n             rich: {\r\n                     yellow: {\r\n                         color: fontColor,\r\n                         fontWeight: \"bold\",\r\n                         fontSize:18,\r\n                         fontFamily:\"NexaBold\",\r\n                         padding:[0,0,0,15],\r\n                        \r\n\r\n                     },\r\n                     blue: {\r\n                         fontSize:14,\r\n                         color: '#b3b3b3',\r\n\r\n                     },\r\n                 }\r\n         },\r\n         x: '140px',\r\n         y: '10px',\r\n     },\r\n     {\r\n         text: '38%',\r\n         textAlign: 'center',\r\n         textStyle: {\r\n             color: fontColor,\r\n             fontSize: 14,\r\n             fontFamily:\"NexaBold\",\r\n             textShadowBlur: 50,\r\n             textShadowColor:'rgba(7, 132, 250, 0.8)'\r\n        \r\n         },\r\n         \r\n         x: '76%',\r\n         y: 'center',\r\n     }],\r\n     grid: {\r\n         left: '10px', // 与容器左侧的距离\r\n         right: '10px', // 与容器右侧的距离\r\n         top: '10px', // 与容器顶部的距离\r\n         bottom: '10px', // 与容器底部的距离\r\n\r\n     },\r\n     tooltip: {\r\n         show: true,\r\n         trigger: 'item',\r\n         formatter: \"{a}：{b} <br/>数量：{c}\"\r\n     },\r\n     legend: [{\r\n             data: ['已占用', '剩余'],\r\n             icon: 'vertical',\r\n             left: '5px',\r\n             bottom: '10px',\r\n             orient: 'vertical',\r\n             itemGap: 20,\r\n             itemWidth: 15,\r\n             itemHeight: 8,\r\n             formatter: function(name) {\r\n\r\n                 let target, percent;\r\n                 for (let i = 0; i < dataPie.length; i++) {\r\n                     if (dataPie[i].name === name) {\r\n                         target = dataPie[i].value;\r\n                         percent = ((target / total) * 100).toFixed(1);\r\n                     }\r\n                 }\r\n                 let arr = [' {blue|' + name + '}' + ' {yellow|' + target + '}'+' {blue|U}' ];\r\n                 return arr.join(\"\\n\")\r\n\r\n             },\r\n             textStyle: {\r\n                 lineHeight: 20,\r\n                 color: '#f0f4f6',\r\n                 align: 'right',\r\n                 rich: {\r\n                     yellow: {\r\n                         color: fontColor,\r\n                         fontWeight: \"bold\",\r\n                         fontSize:18,\r\n                         fontFamily:\"NexaBold\",\r\n                         padding:[0,0,0,15],\r\n                        \r\n\r\n                     },\r\n                     blue: {\r\n                         fontSize:14,\r\n                         color: '#b3b3b3',\r\n\r\n                     },\r\n                 }\r\n\r\n             },\r\n         },\r\n        \r\n     ],\r\n\r\n     series: [{\r\n             name: '总数',\r\n             type: 'pie',\r\n             clockWise: true, //顺时加载\r\n             hoverAnimation: false, //鼠标移入变大\r\n             startAngle:90,\r\n             center: ['70%', '50%'],\r\n             radius: ['80%', '83%'],\r\n             label: {\r\n                 normal: {\r\n                     show: false\r\n                 }\r\n             },\r\n             data: baseDataWrap\r\n         },\r\n         {\r\n             name: '',\r\n             type: 'pie',\r\n             selectedMode: 'single',\r\n             radius: ['55%', '55%'],\r\n             center: ['70%', '50%'],\r\n             hoverAnimation: false,\r\n             label: {\r\n                 normal: {\r\n                     show: false,\r\n                 }\r\n             },\r\n             tooltip: {\r\n                 show: false\r\n             },\r\n             data: [\r\n                 {\r\n             value: 100,\r\n             name: '内圆',\r\n             itemStyle: {\r\n                 normal: {\r\n                     borderWidth: 5,\r\n                     borderColor: '#4697d6',\r\n                 }\r\n             }\r\n         }]\r\n         },\r\n\r\n     ]\r\n };","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":0,"userName":"绿***绿","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xfjIDWJ2Z7.png?v=1639821464159","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"绿***绿"}}