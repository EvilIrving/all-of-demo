{"status":0,"data":{"cid":"xe-1WEr6D1","authorUid":"bd-3724974333","authorUserName":"m***3","title":"用户分类关系图graph","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2018-10-26T09:32:33.000Z","lastUpdateTime":"2018-10-27T07:37:53.000Z","auth":2,"uid":"bd-3724974333","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-27T07:34:41.000Z","code":"\nconst roles = ['商户', '客户', '司机', '收货人', '发货人', '质检员', '库管', '采购员', '风控', '付款专员']\n\nfunction generateRandom(min, max) {\n    return (min + Math.round(Math.random() * (max - min)))\n}\n\nlet links = [], data = []\n\nroles.map((v, k) => {\n    var num = generateRandom(5, 99999)\n    \n    if(k > 0) {\n        data.push({\n            name: v,\n            value: num,\n            category: 1\n        })\n        \n        links.push({\n            source: 0,\n            target: k,\n            value: num\n        })\n    } else {\n        data.push({\n            name: v,\n            value: num,\n            category: 0,\n            symbolSize: 100\n        })\n    }\n    \n})\n\noption = {\n    animationEasingUpdate: 'quinticInOut',\n    \n    series: [{\n        type: 'graph',\n        layout: 'force',\n        force: {\n            repulsion: 3000,\n            edgeLength: [150, 10],\n            // layoutAnimation:false\n        },\n        // 节点标记类型\n        symbol: 'circle',\n        symbolSize: 70,\n        // 两端标记类型\n        edgeSymbol: ['circle', 'circle'],\n        edgeSymbolSize: [12, 20],\n        \n        focusNodeAdjacency: true, // 鼠标经过节点是否突出显示\n        roam: false, // 是否开启鼠标平移\n        draggable: false, // 节点是否可拖拽\n        \n        label: {\n            normal: {\n                show: true,\n                position: 'inside',\n                textStyle: {\n                    fontSize: 12\n                },\n            }\n        },\n        \n        lineStyle: {\n            normal: {\n                opacity: 1,\n                color: {\n                    colorStops: [{\n                        offset: 0,\n                        color: '#FEE52D'\n                    }, {\n                        offset: 1,\n                        color: '#F89212'\n                    }]\n                },\n                width: 3\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#162436',\n                borderColor: {\n                    colorStops: [{\n                        offset: 0,\n                        color: '#A568FF'\n                    }, {\n                        offset: 1,\n                        color: '#006CFF'\n                    }]\n                },\n                borderWidth: 6\n            }\n        },\n        // 节点分类\n        categories: [{\n            name: 'root',\n            label: {\n                formatter: '{b}',\n                fontSize: 20\n            },\n            itemStyle: {\n                color: '#132486'\n            }\n        }, {\n            name: 'child',\n            label: {\n                formatter: ['{a|{c}}', '{b|{b}}'].join('\\n'),\n                rich: {\n                    a: {\n                        color: '#0ff',\n                        align: 'center',\n                    },\n                    b: {\n                        color: '#fff',\n                        align: 'center',\n                        lineHeight: 24\n                    }\n                }\n            }\n        }],\n        // 数据\n        data,\n        // 节点间关系数据\n        links\n    }]\n};\n\nmyChart.on(\"mouseover\", function(data) {\n    // 取消节点连接线触发效果\n    if (data.dataType == \"edge\") {\n        myChart.dispatchAction({\n            type: 'unfocusNodeAdjacency',\n            seriesIndex: 0\n        });\n    }\n})","html":"","externalScripts":"","updaterUID":"bd-3724974333","theme":"default","layout":"","viewCount":2825,"userName":"m***3","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xe-1WEr6D1.png?v=1540625681165","isCustomThumbnail":0,"builtinTags":["category-work","series-graph"],"customTags":[],"updaterUserName":"m***3"}}