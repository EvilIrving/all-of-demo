{"status":0,"data":{"cid":"xri6UeL4fl","authorUid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","authorUserName":"S***l","title":" 3D柱状图和折线图结合","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-12-08T14:30:22.000Z","lastUpdateTime":"2020-12-08T14:30:22.000Z","auth":2,"uid":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.9.0","versionCreateTime":"2021-04-28T05:26:42.000Z","code":"var barWidth = 40;\r\nvar symbolSize = [barWidth, 20];\r\nvar symbolOffsetT = [0, -10]; //修改绿色柱子头部椭圆位置\r\n\r\nvar normalColor = \"#c9c9c9\";\r\nvar fontSize = 12;\r\nvar datas = {\r\n    xdata: ['2016', '2017', '2018', '2019'],\r\n    yData1: [4200, 2220, 3910, 5340],\r\n    yData2: [-10, 20, -36, 51],\r\n    legendData: ['隐患数', '环比'],\r\n}\r\noption = {\r\n    backgroundColor: \"#030A41\",\r\n    animation: false, //去除加载时缓动动画\r\n    legend: {\r\n        show: true,\r\n        selectedMode: false, //取消图例上的点击事件\r\n        data: datas.legendData,\r\n        textStyle: {\r\n            color: \"#90979c\",\r\n        },\r\n    },\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: {\r\n            // 坐标轴指示器，坐标轴触发有效\r\n            type: \"shadow\", // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        formatter: function(e) {\r\n            // console.log(e[0].color.colorStops[0].color);\r\n            var str =\r\n                e[0].axisValue +\r\n                \"<br>\" +\r\n                \"<span style='display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:\" +\r\n                e[0].color.colorStops[0].color +\r\n                \";'></span>\" +\r\n                \"\" +\r\n                e[0].seriesName +\r\n                \" : \" +\r\n                e[0].value +\r\n                \"个<br>\" +\r\n                \"<span style='display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:\" +\r\n                e[1].color +\r\n                \";'></span>\" +\r\n                \"\" +\r\n                e[1].seriesName +\r\n                \" : \" +\r\n                e[1].value +\r\n                \"%\";\r\n            return str;\r\n        },\r\n    },\r\n    xAxis: {\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: normalColor\r\n            }\r\n        },\r\n        axisTick: {\r\n            \"show\": false\r\n        },\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: normalColor,\r\n                fontSize: fontSize\r\n            },\r\n            margin: 20\r\n        },\r\n        splitLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                type: \"dashed\",\r\n                color: normalColor\r\n            }\r\n        },\r\n        data: datas.xdata,\r\n    },\r\n    yAxis: [{\r\n            type: 'value',\r\n\r\n            nameTextStyle: {\r\n                fontSize: fontSize\r\n            },\r\n            color: normalColor,\r\n            axisTick: {\r\n                \"show\": false\r\n            },\r\n            splitLine: {\r\n                show: false,\r\n                lineStyle: {\r\n                    type: \"dashed\",\r\n                    color: normalColor\r\n                }\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}',\r\n                textStyle: {\r\n                    color: normalColor,\r\n                    fontSize: fontSize\r\n                }\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: normalColor\r\n                }\r\n            },\r\n\r\n        },\r\n        {\r\n            type: 'value',\r\n            // name: \"%\",\r\n            nameTextStyle: {\r\n                fontSize: fontSize\r\n            },\r\n            color: normalColor,\r\n            axisTick: {\r\n                \"show\": false\r\n            },\r\n            splitLine: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                formatter: '{value}%',\r\n                textStyle: {\r\n                    color: normalColor,\r\n                    fontSize: fontSize\r\n                }\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: normalColor\r\n                }\r\n            },\r\n\r\n        },\r\n         {\r\n            type: \"value\",\r\n            gridIndex: 0,\r\n            min: 50,\r\n            max: 100,\r\n            splitNumber: 8,\r\n            splitLine: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            splitArea: {\r\n                show: true,\r\n                areaStyle: {\r\n                    color: [\"rgba(250,250,250,0.0)\", \"rgba(250,250,250,0.05)\"]\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    series: [{ // 柱子\r\n            name: datas.legendData[0],\r\n            tooltip: {\r\n                show: true\r\n            },\r\n            type: 'bar',\r\n            barWidth: barWidth, //柱子宽度\r\n            barGap: 0.5, //柱子之间间距\r\n            emphasis: {\r\n                itemStyle: { //填充部分鼠标移上去颜色\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0, 0, 0, 1, [{\r\n                                offset: 0,\r\n                                color: '#2F7EFE'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#254FFE'\r\n                            }\r\n                        ]),\r\n\r\n\r\n                }\r\n            },\r\n            label: {\r\n                // show: true,\r\n                position: \"top\",\r\n                padding: 10,\r\n                textStyle: {\r\n                    fontSize: fontSize\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: new echarts.graphic.LinearGradient(\r\n                        0, 0, 0, 1, [{\r\n                                offset: 0,\r\n                                color: '#1D54B1'\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: '#071F45'\r\n                            }\r\n                        ]),\r\n\r\n                }\r\n            },\r\n            data: datas.yData1,\r\n            barGap: 0,\r\n            legendHoverLink: false,\r\n        },\r\n        {\r\n            // 柱子头部椭圆\r\n            name: datas.legendData[0],\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            type: 'pictorialBar',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#3084FE',\r\n                    borderWidth: 0,\r\n                    // borderColor: '#94EFFF'\r\n                }\r\n            },\r\n            symbolRotate: 0,\r\n            symbolSize: symbolSize,\r\n            symbolOffset: symbolOffsetT,\r\n            symbolPosition: 'end',\r\n            data: datas.yData1,\r\n            z: 3\r\n        },\r\n        {\r\n            // 柱子底部椭圆\r\n            name: datas.legendData[0],\r\n            tooltip: {\r\n                show: false\r\n            },\r\n            type: 'pictorialBar',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#153B8E',\r\n                    borderWidth: 0,\r\n                    borderColor: '#94EFFF'\r\n                }\r\n            },\r\n            symbolRotate: 0,\r\n            symbolSize: symbolSize,\r\n            // symbolSize: [30, 8],\r\n            symbolOffset: [0, 10],\r\n            // symbolOffset: symbolOffsetT,\r\n            symbolPosition: 'start',\r\n            data: datas.yData1,\r\n            z: 3\r\n        },\r\n        {\r\n            name: datas.legendData[1],\r\n            type: 'line',\r\n            symbolSize: 8,\r\n            symbol: \"circle\",\r\n            yAxisIndex: 1,\r\n            z: 22,\r\n            // symbol:\"roundRect\",\r\n            // symbolSize:8,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#F1B145\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    position: 'top',\r\n                    formatter: 'C',\r\n                    textStyle: {\r\n                        color: '#F1B145',\r\n                        fontSize: 16\r\n                    }\r\n                }\r\n            },\r\n            lineStyle: {\r\n                width: 2,\r\n                color: \"#F1B145\"\r\n            },\r\n            data: datas.yData2,\r\n        }\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"obd-oCXhu5Ci-jvoIw7NPqT4YgxkmbLM53L","theme":"","layout":"","viewCount":400,"userName":"S***l","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xri6UeL4fl.png?v=1619587602399","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","series-pictorialBar"],"customTags":[],"updaterUserName":"S***l"}}