{"status":0,"data":{"cid":"xwyt503lXo","authorUid":"obd-oP6A4thoFqEJHO0y7B4AyqBfgtpTN92","authorUserName":"l***o","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2022-01-13T07:14:28.000Z","lastUpdateTime":"2022-01-13T07:14:28.000Z","auth":2,"uid":"obd-oP6A4thoFqEJHO0y7B4AyqBfgtpTN92","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2022-01-13T07:14:28.000Z","code":"let companyData = [\n    { companyTypeCode: '1120', companyTypeName: '商场、超市', totalNumber: 6 },\n    { companyTypeCode: '1163', companyTypeName: '咖啡厅', totalNumber: 4 },\n    { companyTypeCode: '10000', companyTypeName: '粮、棉、木材、百货等物资仓库和堆场', totalNumber: 4 },\n    { companyTypeCode: '1112', companyTypeName: '饭店', totalNumber: 4 },\n    { companyTypeCode: '1000', companyTypeName: '人员密集场所', totalNumber: 1 },\n    { companyTypeCode: '11000', companyTypeName: '国家和省级重点工程的施工现场', totalNumber: 1 },\n    { companyTypeCode: '15000', companyTypeName: '小微企业', totalNumber: 1 },\n    {\n        companyTypeCode: '12000',\n        companyTypeName: '其他发生火灾可能性较大以及一旦发生火灾可能造成人身重大伤亡或重大财产损失的单位',\n        totalNumber: 1,\n    },\n    { companyTypeCode: '14000', companyTypeName: '出租房', totalNumber: 1 },\n];\nlet dataName = [];\nlet data1 = [];\nlet defaultData = [];\nlet maxData = 0;\ncompanyData.forEach((item) => {\n    dataName.push(item.companyTypeName);\n    data1.push(item.totalNumber);\n    if (maxData < item.totalNumber) {\n        maxData = item.totalNumber;\n    }\n});\nfor (let i = 0; i < data1.length; i++) {\n    defaultData.push(maxData);\n}\nvar colorList = [\n    '#00AAFF',\n    '#A52A2A',\n    '#FF752D',\n    '#FFCF31',\n    '#FF3129',\n    '#006400',\n    '#8B4513',\n    '#FF8C00',\n    '#FFB6C1',\n    '#7B68EE',\n    '#87CEFA',\n    '#008000',\n    '#D2B48C',\n];\n// var defaultData = [800, 800, 800, 800]\noption = {\n    backgroundColor: '#36467E',\n    grid: {\n        left: '5%',\n        right: '5%',\n        bottom: '5%',\n        top: '10%',\n        containLabel: true,\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        position: function (point, params, dom, rect, size) {\n            // console.log(point)\n\n            return [point[0], point[1]];\n        },\n        confine: false,\n        // formatter: '{b}:{c}'\n        formatter: function (params) {\n            // console.log(params)\n            let title = params[0].name;\n            if (title.length > 30) {\n                title = title.substring(0, 15) + '<br/>' + title.substring(15, 30) + '<br/>' + title.substring(30);\n            } else if (title.length > 15) {\n                title = title.substring(0, 15) + '<br/>' + title.substring(15);\n            }\n            let name = title + ' : ' + params[0].value;\n            return name;\n        },\n    },\n    // backgroundColor: 'rgb(20,28,52)',\n    xAxis: {\n        show: false,\n        type: 'value',\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            // axisLabel: {\n            //   show: true,\n            //   textStyle: {\n            //     color: '#fff'\n            //   },\n            //   rotate: 0\n            // },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                textStyle: {\n                    color: '#ffffff',\n                    fontSize: '12',\n                },\n                formatter: function (value) {\n                    value = value.length > 7 ? value.substring(0, 7) + '...' : value;\n                    return value;\n                },\n            },\n            data: dataName,\n        },\n        {\n            type: 'category',\n            inverse: true,\n            axisTick: 'none',\n            axisLine: 'none',\n            show: true,\n            axisLabel: {\n                textStyle: {\n                    color: '#ffffff',\n                    fontSize: '12',\n                },\n                formatter: function (value) {\n                    return value;\n                },\n            },\n            data: data1,\n        },\n    ],\n    series: [\n        {\n            name: '数量',\n            type: 'bar',\n            zlevel: 1,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: [0, 30, 30, 0],\n                    color: (params) => {\n                        return new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n                            {\n                                offset: 0,\n                                color: 'rgba(54,69,129,1)',\n                            },\n                            {\n                                offset: 0.8,\n                                color: colorList[params.dataIndex],\n                            },\n                            {\n                                offset: 1,\n                                color: 'rgba(255,255,255,0.8)',\n                            },\n                        ]);\n                    },\n                    // color: (params) => {\n                    //   return colorList[params.dataIndex]\n                    // }\n                },\n            },\n            barWidth: 15,\n            data: data1,\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 15,\n            barGap: '-100%',\n            data: defaultData,\n            itemStyle: {\n                normal: {\n                    color: '#1B375E',\n                    barBorderRadius: [0, 30, 30, 0],\n                },\n            },\n        },\n    ],\n};","html":"","externalScripts":"","updaterUID":"obd-oP6A4thoFqEJHO0y7B4AyqBfgtpTN92","theme":"","layout":"","viewCount":0,"userName":"l***o","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xwyt503lXo.png?v=1642058068256","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"l***o"}}