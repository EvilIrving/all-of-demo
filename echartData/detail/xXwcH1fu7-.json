{"status":0,"data":{"cid":"xXwcH1fu7-","authorUid":"bd-456038325","authorUserName":"吾***欲","title":"横向堆叠柱状图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-03-20T07:20:02.000Z","lastUpdateTime":"2019-03-20T07:20:02.000Z","auth":2,"uid":"bd-456038325","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-20T07:20:02.000Z","code":"var barData = [{\n        \"count\": 25788,\n        \"type\": \"厢式车\"\n    },\n    {\n        \"count\": 13650,\n        \"type\": \"高栏车\"\n    },\n    {\n        \"count\": 5980,\n        \"type\": \"平板车\"\n    },\n    {\n        \"count\": 1695,\n        \"type\": \"冷藏车\"\n    },\n    {\n        \"count\": 1066,\n        \"type\": \"专用车\"\n    }\n];\nvar dataArr = [],\n    countTotal = 0,\n    dataPerArr = [];\n// 区分车辆种类，并给相应柱条添加颜色\n$.each(barData, function(i, v) {\n    if (i === 0) {\n        v.color = '#0A53E9';\n    } else if (i === 1) {\n        v.color = '#0875EE';\n    } else if (i === 2) {\n        v.color = '#069CF2';\n    } else if (i === 3) {\n        v.color = \"#02C7EA\";\n    } else {\n        v.color = \"#1AB8E6\";\n    }\n    dataArr.push({\n        name: v.type,\n        type: 'bar',\n        stack: '总数',\n        barMinHeight: 10,\n        itemStyle: {\n            normal: {\n                color: v.color\n            }\n        },\n        data: [v.count]\n    });\n    countTotal += v.count;\n});\nfor (var j = 0; j < dataArr.length; j++) {\n    dataPerArr.push(((dataArr[j].data / countTotal) * 100).toFixed(2) + '%');\n}\noption = {\n    backgroundColor: '#010F57',\n    tooltip: {\n        trigger: 'item',\n        position: 'top',\n        formatter: function(param) {\n            return '<div>'\n                    +    '<p style=\"vertical-align:middle;width:10px;margin-right:10px;display:inline-block;height:10px;background:' + param.color + ';\"></p>'\n                    +    '<p style=\"vertical-align:middle;display:inline-block;margin-right:10px\">' + param.seriesName + '</p>'\n                    +    '<p style=\"vertical-align:middle;display:inline-block;\">' + dataPerArr[param.componentIndex] + '</p>'\n                    +'</div>';\n        }\n    },\n    grid: {\n        left: 50,\n        top: '20%',\n        right: 20,\n        bottom: '20%',\n        containLabel: false\n    },\n    xAxis: {\n        show: false\n    },\n    yAxis: {\n        type: 'category',\n        data: ['车型'],\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#fff'\n            }\n        }\n    },\n    series: dataArr\n};","html":"","externalScripts":"","updaterUID":"bd-456038325","theme":"","layout":"","viewCount":50,"userName":"吾***欲","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xXwcH1fu7-.png?v=1553066402699","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"吾***欲"}}