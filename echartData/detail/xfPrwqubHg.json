{"status":0,"data":{"cid":"xfPrwqubHg","authorUid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","authorUserName":"浮***少","title":"多圆","description":"产品总数","latestVersion":1,"alwaysLatest":0,"createTime":"2021-10-28T05:29:05.000Z","lastUpdateTime":"2021-10-28T05:29:05.000Z","auth":2,"uid":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-28T05:29:05.000Z","code":" data = [\r\n        {\r\n            name: '产品A',\r\n            value: 100,\r\n        },\r\n        {\r\n            name: '产品B',\r\n            value: 75,\r\n        },\r\n        {\r\n            name: '产品C',\r\n            value: 45,\r\n        },\r\n        {\r\n            name: '产品D',\r\n            value: 35,\r\n        }, ];\r\n        color = ['#2E6CF6', '#FE9A0D'];\r\n        series = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            console.log(data[i]);\r\n            var dd = [];\r\n            dd[i] = data[i].value;\r\n            series.push({\r\n                stack: 'ring',\r\n                type: 'bar',\r\n                name: data[i].name,\r\n                data: dd.map((v) => v || 0),\r\n                showBackground: true,\r\n                itemStyle: {\r\n                    color: color[i],\r\n                },\r\n                backgroundStyle: { color: '#F1F5FF' },\r\n                coordinateSystem: 'polar',\r\n                roundCap: true,\r\n                barWidth: '55%',\r\n                barGap: '-100%', // 两环重叠\r\n                // radius: ['44%', '47%'],\r\n            });\r\n        }\r\n\r\n        option = {\r\n            backgroundColor:\"black\",\r\n            title: {\r\n                text: '26,798',\r\n                subtext: '产品总数',\r\n                textAlign: 'center',\r\n                textVerticalAlign: 'center',\r\n                top: '44%',\r\n                left: '20%',\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: 24,\r\n                },\r\n                subtextStyle: {\r\n                    color: '#fff',\r\n                    fontSize: 20,\r\n                },\r\n            },\r\n            angleAxis: {\r\n                max: 100, // 一圈是多少\r\n                clockwise: false, // 逆时针\r\n                show: false, // 隐藏刻度线\r\n                startAngle: 90, // startAngle表示起始角度\r\n                axisLine: {\r\n                    show: false, // 隐藏角度轴（圆心角）\r\n                },\r\n                axisTick: {\r\n                    show: false,\r\n                },\r\n                axisLabel: {\r\n                    show: false,\r\n                },\r\n                splitLine: {\r\n                    show: false, // 隐藏分割线\r\n                },\r\n            },\r\n\r\n            radiusAxis: {\r\n                type: 'category',\r\n                axisLine: {\r\n                    show: false,\r\n                },\r\n                axisTick: {\r\n                    show: false,\r\n                },\r\n                axisLabel: {\r\n                    show: false,\r\n                },\r\n                splitLine: {\r\n                    show: false,\r\n                },\r\n                z: 5,\r\n            },\r\n            polar: {\r\n                center: ['20%', '50%'],\r\n                radius: ['40%', '80%'], // 总体的最小半径、最大半径\r\n            },\r\n            tooltip: {\r\n                show: true,\r\n                formatter: function (e) {\r\n                    console.log(e);\r\n                    return `${e.seriesName}<br/>${e.marker} ${e.value} `;\r\n                },\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                data: data.map((v) => v.name),\r\n                right: '6%',\r\n                top: '23%',\r\n                itemGap: 30,\r\n                itemWidth: 8,\r\n                itemHeight: 24,\r\n                formatter: function (name) {\r\n                    var total = 0;\r\n                    var target;\r\n                    for (var i = 0, l = data.length; i < l; i++) {\r\n                        total += data[i].value;\r\n                        if (data[i].name == name) {\r\n                            target = data[i].value;\r\n                        }\r\n                    }\r\n                    var arr = ['{a|' + name + '}', '{b|' + target + ' ' + ((target / total) * 100).toFixed(2) + '%} {c|占比}'];\r\n                    return arr.join('\\n');\r\n                },\r\n                textStyle: {\r\n                    rich: {\r\n                        a: {\r\n                            fontSize: 20,\r\n                            verticalAlign: 'top',\r\n                            align: 'left',\r\n                            padding: [80, 0, 0, 0],\r\n                            color: '#fff',\r\n                        },\r\n                        b: {\r\n                            fontSize: 24,\r\n                            align: 'bottom',\r\n                            padding: [0, 0, 0, 0],\r\n                            lineHeight: 75,\r\n                            color: '#fff',\r\n                        },\r\n                        c: {\r\n                            fontSize: 20,\r\n                            align: 'bottom',\r\n                            padding: [0, 0, 0, 0],\r\n                            lineHeight: 75,\r\n                            color: '#fff',\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n            series,\r\n        };\r\n","html":"","externalScripts":"","updaterUID":"obd-o2SThaCHSK0kiVBCLSZEWMoeo_e0w6d","theme":"","layout":"","viewCount":0,"userName":"浮***少","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xfPrwqubHg.png?v=1635398945330","isCustomThumbnail":0,"builtinTags":["category-work","legend","polar","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"浮***少"}}