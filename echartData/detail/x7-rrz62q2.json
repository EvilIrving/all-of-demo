{"status":0,"data":{"cid":"x7-rrz62q2","authorUid":"bd-1013517419","authorUserName":"爱***傻","title":"情况分析","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-08-10T00:28:49.000Z","lastUpdateTime":"2020-08-10T00:28:49.000Z","auth":2,"uid":"bd-1013517419","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-10T00:28:49.000Z","code":"let zfgzqkData = [{\r\n    name: \"入监改造难度\",\r\n    value: 15,\r\n    nameVal: '难'\r\n}]\r\nvar value = zfgzqkData[0].value;\r\nvar nameVal = zfgzqkData[0].nameVal\r\nvar colorRegionRate = (value / 100).toFixed(2);\r\nvar {\r\n    bgColor,\r\n    level\r\n} = detectionData(value, nameVal);\r\nvar colors = [\r\n    [0.05, '#fa2000'],\r\n    [0.10, '#fa3200'],\r\n    [0.15, '#ef4412'],\r\n    [0.20, '#fa5a00'],\r\n    [0.25, '#f87203'],\r\n    [0.30, '#fa9400'],\r\n    [0.35, '#faa500'],\r\n    [0.40, '#f8b203'],\r\n    [0.45, '#fac100'],\r\n    [0.50, '#e7b31b'],\r\n    [0.55, '#f5d00f'],\r\n    [0.60, '#d2c432'],\r\n    [0.65, '#eee727'],\r\n    [0.70, '#c8d246'],\r\n    [0.75, '#d1e74f'],\r\n    [0.80, '#c1e75f'],\r\n    [0.85, '#bbe765'],\r\n    [0.90, '#b6e768'],\r\n    [0.95, '#b4e76b'],\r\n    [1, '#b1e76d']\r\n];\r\nvar colorList = [];\r\ncolors.forEach((item, key) => {\r\n    if (colorRegionRate >= item[0]) {\r\n        colorList.push(item);\r\n    } else {\r\n        colorList.push([item[0], \"#fff\"]);\r\n    }\r\n});\r\noption = {\r\n    backgroundColor: \"#000\",\r\n    tooltip: {\r\n        show: false,\r\n        position: \"inside\",\r\n        formatter: \"小于20%有发展空间<br>20%~40%为健康<br>40%~60%为预警<br>大于60%为过度\",\r\n        textStyle: {\r\n            fontSize: 10,\r\n        },\r\n    },\r\n    series: [{\r\n            name: \"刻度\",\r\n            type: \"gauge\",\r\n            center: [\"40%\", \"68%\"],\r\n            radius: '70%',\r\n            min: 0, //最小刻度\r\n            max: 100, //最大刻度\r\n            splitNumber: 8, //刻度数量\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 0,\r\n                    shadowBlur: 1,\r\n                    color: colorList,\r\n                },\r\n            }, //仪表盘轴线\r\n            axisLabel: {\r\n                show: false,\r\n                color: \"#0ab7ff\",\r\n                fontSize: 15,\r\n                distance: -50,\r\n                formatter: function(v) {\r\n                    return v + \"分\";\r\n                },\r\n            }, //刻度标签。\r\n            axisTick: {\r\n                show: true,\r\n                splitNumber: 5,\r\n                lineStyle: {\r\n                    color: 'auto',\r\n                    width: 2,\r\n                },\r\n                length: -10,\r\n            }, //刻度样式\r\n            splitLine: {\r\n                show: false,\r\n                length: -0,\r\n                lineStyle: {\r\n                    color: \"red\",\r\n                },\r\n            }, //分隔线样式\r\n            pointer: { //仪表盘指针\r\n                show: false,\r\n            },\r\n            detail: {\r\n                offsetCenter: [0, '-8%'], // x, y，单位px\r\n                textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                    color: '#fff',\r\n                    fontSize: 20,\r\n                },\r\n                // formatter: '{value}分'\r\n                formatter: function(v) {\r\n                    return v + \"分\";\r\n                },\r\n            },\r\n            title: {\r\n                show: false,\r\n            },\r\n            data: zfgzqkData\r\n        },\r\n        {\r\n            name: \"虚线\",\r\n            type: \"gauge\",\r\n            center: [\"40%\", \"68%\"],\r\n            radius: '63%',\r\n            min: 0, //最小刻度\r\n            max: 100, //最大刻度\r\n            splitNumber: 8, //刻度数量\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 0,\r\n                    shadowBlur: 1,\r\n                    color: colors,\r\n                },\r\n            },\r\n            //仪表盘轴线\r\n            axisLabel: {\r\n                show: false,\r\n                color: \"#0ab7ff\",\r\n                fontSize: 15,\r\n                distance: -50,\r\n                formatter: function(v) {\r\n                    return v + \"分\";\r\n                },\r\n            },\r\n            //刻度标签。\r\n            axisTick: {\r\n                show: true,\r\n                splitNumber: 5,\r\n                lineStyle: {\r\n                    color: 'auto',\r\n                    width: 2,\r\n                },\r\n                length: -1,\r\n            }, //刻度样式\r\n            splitLine: {\r\n                show: false,\r\n                length: -1,\r\n                lineStyle: {\r\n                    color: \"#fff\",\r\n                },\r\n            }, //分隔线样式\r\n            pointer: { //仪表盘指针\r\n                show: false,\r\n            },\r\n            detail: {\r\n                show: false,\r\n                offsetCenter: [0, '-8%'], // x, y，单位px\r\n                textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                    color: '#fff',\r\n                    fontSize: 20,\r\n                },\r\n                formatter: '{value}分'\r\n            },\r\n            title: {\r\n                show: false,\r\n            },\r\n            data: zfgzqkData\r\n        },\r\n        {\r\n            type: \"gauge\",\r\n            radius: '60%',\r\n            center: [\"40%\", \"68%\"],\r\n            splitNumber: 0, //刻度数量\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width: 20,\r\n                    color: [\r\n                        [1, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                                offset: 0,\r\n                                color: \"#fa1900\"\r\n                            },\r\n                            {\r\n                                offset: 0.5,\r\n                                color: \"#fac300\"\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: \"#b3e76b\"\r\n                            }\r\n                        ])]\r\n                    ],\r\n                },\r\n            },\r\n            //分隔线样式。\r\n            splitLine: {\r\n                show: false,\r\n            },\r\n            axisLabel: {\r\n                show: false,\r\n            },\r\n            axisTick: {\r\n                show: false,\r\n            },\r\n            pointer: {\r\n                show: false,\r\n                length: \"80%\",\r\n                width: \"20%\",\r\n            },\r\n            title: {\r\n                show: true,\r\n                offsetCenter: ['180%', \"-80%\"], // x, y，单位px\r\n                textStyle: {\r\n                    color: \"#fff\",\r\n                    fontSize: 14,\r\n                },\r\n            },\r\n            //仪表盘详情，用于显示数据。\r\n            detail: {\r\n                show: true,\r\n                offsetCenter: ['180%', \"-30%\"],\r\n                color: \"#ffffff\",\r\n                padding: [8, 10],\r\n                backgroundColor: bgColor,\r\n                borderRadius: 25,\r\n                formatter: function(value) {\r\n                    return level;\r\n                },\r\n                textStyle: {\r\n                    fontSize: 12,\r\n                },\r\n            },\r\n            data: zfgzqkData,\r\n        },\r\n    ],\r\n};\r\n\r\nfunction detectionData(value, nameVal) {\r\n    if (value < 60) {\r\n        bgColor = '#c42937'\r\n    } else if (value >= 60 && value < 90) {\r\n        bgColor = '#d1b42c';\r\n    } else if (value >= 90) {\r\n        bgColor = '#67af61';\r\n    }\r\n    var level = '改造难度：' + nameVal\r\n    return {\r\n        bgColor: bgColor,\r\n        level: level\r\n    }\r\n}","html":"","externalScripts":"","updaterUID":"bd-1013517419","theme":"","layout":"","viewCount":240,"userName":"爱***傻","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7-rrz62q2.png?v=1597019329839","isCustomThumbnail":0,"builtinTags":["category-work","series-gauge","tooltip"],"customTags":[],"updaterUserName":"爱***傻"}}