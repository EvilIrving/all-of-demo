{"status":0,"data":{"cid":"xTyTNgBxfX","authorUid":"obd-ojMR3pYdzCqSvHL_Kyz6BV-rVSqyzE5","authorUserName":"_***子","title":"区县分隔示例","description":"浦东新区拆分成9个区块\n地图编辑地址http://geojson.io/","latestVersion":6,"alwaysLatest":1,"createTime":"2020-12-07T12:46:37.000Z","lastUpdateTime":"2020-12-08T00:22:04.000Z","auth":2,"uid":"obd-ojMR3pYdzCqSvHL_Kyz6BV-rVSqyzE5","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-07T13:23:32.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1607346581517-5pfOCZKKB.json\";\n\n//各个区中心点位（不需要修改）\nvar GeoCoordMap = {\n    \"黄浦区\": [121.490317, 31.222771],\n    \"徐汇区\": [121.43752, 31.179973],\n    \"长宁区\": [121.4222, 31.218123],\n    \"静安区\": [121.448224, 31.229003],\n    \"普陀区\": [121.392499, 31.241701],\n    \"虹口区\": [121.491832, 31.26097],\n    \"杨浦区\": [121.522797, 31.270755],\n    \"闵行区\": [121.375972, 31.111658],\n    \"宝山区\": [121.489934, 31.398896],\n    \"嘉定区\": [121.250333, 31.383524],\n    \"金山区\": [121.330736, 30.724697],\n    \"松江区\": [121.223543, 31.03047],\n    \"青浦区\": [121.113021, 31.151209],\n    \"奉贤区\": [121.458472, 30.912345],\n    \"崇明区\": [121.397516, 31.626946],\n    \"沪南公路沿线、南汇\": [121.7271, 31.0329],\n    \"临港\": [121.8864, 30.9552],\n    \"11号线沿线\": [121.6049, 31.1035],\n    \"外环高速以东、机场路\": [121.7519, 31.1752],\n    \"12号线以北\": [121.6104, 31.3196],\n    \"金桥、张江高科以东\": [121.6187, 31.1934],\n    \"金桥、张江\": [121.5788, 31.1928],\n    \"世纪公园\": [121.5445, 31.1828],\n    \"陆家嘴\": [121.5005, 31.1746]\n};\n\nvar GeoCoordData = [{\n        name: '静安区',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '黄浦区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '松江区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '徐汇区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '长宁区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '普陀区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '虹口区',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '杨浦区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '闵行区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '宝山区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '嘉定区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '金山区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '青浦区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '奉贤区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '崇明区',\n        value: (Math.random() * 100).toFixed(0),\n        label: {\n            show: true\n        }\n    },\n    {\n        name: '临港',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '沪南公路沿线、南汇',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '外环高速以东、机场路',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '11号线沿线',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '金桥、张江高科以东',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '金桥、张江',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '陆家嘴',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '世纪公园',\n        value: (Math.random() * 100).toFixed(0)\n    },\n    {\n        name: '12号线以北',\n        value: (Math.random() * 100).toFixed(0)\n    }\n];\nGeoCoordData.sort(function(a, b) {\n    return a.value - b.value;\n});\nvar GeoCoordData_name = [];\nvar GeoCoordData_value = [];\nfor (var t = 0; t < GeoCoordData.length; t++) {\n    GeoCoordData_name[t] = GeoCoordData[GeoCoordData.length - 1 - t].name;\n    GeoCoordData_value[t] = GeoCoordData[GeoCoordData.length - 1 - t].value;\n}\nvar LinesEndCoords = {\n    \"静安区\": [GeoCoordMap['静安区'][0] + 0.3, GeoCoordMap['静安区'][1] + 0.50],\n    \"虹口区\": [GeoCoordMap['虹口区'][0] + 0.4, GeoCoordMap['虹口区'][1] + 0.45],\n    \"临港\": [GeoCoordMap['临港'][0] + 0.2, GeoCoordMap['临港'][1]],\n    \"沪南公路沿线、南汇\": [GeoCoordMap['沪南公路沿线、南汇'][0] + 0.3, GeoCoordMap['沪南公路沿线、南汇'][1]],\n    \"外环高速以东、机场路\": [GeoCoordMap['外环高速以东、机场路'][0] + 0.3, GeoCoordMap['外环高速以东、机场路'][1]],\n    \"11号线沿线\": [GeoCoordMap['11号线沿线'][0] + 0.4, GeoCoordMap['11号线沿线'][1]],\n    \"金桥、张江高科以东\": [GeoCoordMap['金桥、张江高科以东'][0] + 0.5, GeoCoordMap['金桥、张江高科以东'][1] + 0.30],\n    \"金桥、张江\": [GeoCoordMap['金桥、张江'][0] + 0.5, GeoCoordMap['金桥、张江'][1] + 0.35],\n    \"陆家嘴\": [GeoCoordMap['陆家嘴'][0] + 0.5, GeoCoordMap['陆家嘴'][1] + 0.50],\n    \"世纪公园\": [GeoCoordMap['世纪公园'][0] + 0.5, GeoCoordMap['世纪公园'][1] + 0.45],\n    \"12号线以北\": [GeoCoordMap['12号线以北'][0] + 0.5, GeoCoordMap['12号线以北'][1]]\n};\nvar Lines = [\"静安区\", \"虹口区\", \"临港\", \"沪南公路沿线、南汇\", \"外环高速以东、机场路\", \"11号线沿线\", \"金桥、张江高科以东\", \"金桥、张江\", \"陆家嘴\", \"世纪公园\", \"12号线以北\"];\n\nfunction getValue(name) {\n    var res = 0;\n    $(GeoCoordData).each(function(i, item) {\n        if (item.name == name) {\n            res = item.value;\n            return false;\n        }\n    });\n    return res;\n}\n\nfunction DataLines(province, data) {\n    var res = [];\n    province.forEach(name => {\n        res.push({\n            name: name,\n            value: getValue(name),\n            coords: [GeoCoordMap[name], LinesEndCoords[name]]\n        })\n    });\n    return res;\n}\n\n$.getJSON(uploadedDataURL, function(SH) {\n    echarts.registerMap('SH', SH);\n    option = {\n        title: {\n            text: '上海行政区赔付率热力图',\n            subtext: '演示数据'\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: '{b}<br/>{c}%'\n        },\n        toolbox: {\n            show: true,\n            feature: {\n                dataView: {\n                    readOnly: false\n                },\n                restore: {},\n                saveAsImage: {}\n            }\n        },\n        visualMap: {\n            min: 0,\n            max: 100,\n            text: ['高', '低'],\n            realtime: false,\n            calculable: true,\n            inRange: {\n                color: ['lightskyblue', 'yellow', 'orangered']\n            }\n        },\n        grid: {\n            right: '20',\n            top: '20',\n            width: '8%'\n        },\n        xAxis: {\n            min: 0,\n            max: 100,\n            show: false\n        },\n        yAxis: {\n            inverse: true,\n            offset: '2',\n            'type': 'category',\n            data: GeoCoordData_name,\n            nameTextStyle: {\n                color: '#fff'\n            },\n            axisTick: {\n                show: false\n            },\n            axisLabel: {\n                textStyle: {\n                    fontSize: 14,\n                    color: '#000000',\n                },\n                interval: 0\n            },\n            axisLine: {\n                show: false\n            },\n            splitLine: {\n                show: false\n            },\n        },\n        geo: {\n            label: {\n                show: false\n            },\n            type: 'map',\n            map: 'SH',\n            roam: false,\n            aspectScale: 1,\n            zoom: 1.2\n        },\n        series: [{\n                type: 'lines',\n                symbol: 'arrow',\n                symbolSize: [6, 6],\n                zlevel: 10,\n                effect: {\n                    show: true,\n                    period: 3,\n                    loop: false\n                },\n                label: {\n                    show: true,\n                    formatter: function(item) {\n                        return item.name;\n                    },\n                    padding: [0, 0, 0, 5],\n                    color: \"#666\"\n                },\n                lineStyle: {\n                    type: 'dotted',\n                    opacity: 1\n                },\n                emphasis: {\n                    lineStyle: {\n                        type: 'dotted',\n                        opacity: 1\n                    }\n                },\n                data: DataLines(Lines, GeoCoordData)\n            },\n            {\n                name: 'map',\n                type: 'map',\n                mapType: 'SH',\n                roam: false,\n                aspectScale: 1,\n                zoom: 1.2,\n                label: {\n                    show: false,\n                    formatter: function(item) {\n                        return item.name;\n                    }\n                },\n                data: GeoCoordData\n            },\n            {\n                name: 'bar',\n                type: 'bar',\n                zlevel: 10,\n                barWidth: '40%',\n                label: {\n                    show: false,\n                    formatter: function(item) {\n                        return item.name;\n                    }\n                },\n                data: GeoCoordData_value,\n                itemStyle: {\n                    normal: {\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 0,\n                            color: 'lightskyblue'\n                        }, {\n                            offset: 1,\n                            color: 'orangered'\n                        }], false)\n                    }\n                }\n            }\n        ]\n    };\n    myChart.setOption(option);\n});","html":"","externalScripts":"","updaterUID":"obd-ojMR3pYdzCqSvHL_Kyz6BV-rVSqyzE5","theme":"default","layout":"","viewCount":62,"userName":"_***子","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xTyTNgBxfX.png?v=1607347412724","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"_***子"}}