{"status":0,"data":{"cid":"xO-sOFe5yn","authorUid":"bd-1832650076","authorUserName":"凌***殇","title":"杭州地图默认选中其中一个","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-23T00:49:55.000Z","lastUpdateTime":"2020-06-23T00:49:55.000Z","auth":2,"uid":"bd-1832650076","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-23T00:49:55.000Z","code":"var house = \"image://\" + \"/asset/get/s/data-1592811891877-_oI8eFNbB.png\";\r\nvar hangzhou = \"/asset/get/s/data-1589003571047-8Xg37jcwv.json\";\r\nvar mapDate = [{\r\n        name: '江干区',\r\n        value: [120.185, 30.274]\r\n    },\r\n    {\r\n        name: '拱墅区',\r\n        value: [120.182, 30.351]\r\n    },\r\n    {\r\n        name: '西湖区',\r\n        value: [120.091, 30.27]\r\n    },\r\n    {\r\n        name: '滨江区',\r\n        value: [120.21, 30.209]\r\n    },\r\n    {\r\n        name: '萧山区',\r\n        value: [120.254, 30.159]\r\n    },\r\n    {\r\n        name: '余杭区',\r\n        value: [120.295, 30.427]\r\n    },\r\n    {\r\n        name: '富阳区',\r\n        value: [119.956, 30.05]\r\n    },\r\n    {\r\n        name: '桐庐县',\r\n        value: [119.675, 29.784]\r\n    },\r\n    {\r\n        name: '淳安县',\r\n        value: [119.058, 29.613]\r\n    },\r\n    {\r\n        name: '建德市',\r\n        value: [119.28, 29.464]\r\n    },\r\n    {\r\n        name: '临安区',\r\n        value: [119.712, 30.227]\r\n    },\r\n    {\r\n        name: '钱塘新区',\r\n        value: [120.485, 30.284]\r\n    }\r\n];\r\n\r\n\r\nvar mapSelect = [ //默认选中区域\r\n    [{\r\n        name: '临安区',\r\n        selected: true\r\n    }]\r\n]\r\n\r\n\r\necharts.extendsMap = function(id, opt) {\r\n    // 实例\r\n    var chart = this.init(document.getElementById(id));\r\n\r\n\r\n    var defaultOpt = {\r\n        mapName: \"杭州\", // 地图展示\r\n        goDown: false, // 是否下钻\r\n        activeArea: [{\r\n            name: \"临安区\",\r\n            selected: true\r\n        }], // 区域高亮,同echarts配置项\r\n        data: [],\r\n        // 下钻回调(点击的地图名、实例对象option、实例对象)\r\n        callback: function(name, option, instance) {},\r\n    };\r\n    if (opt) opt = this.util.extend(defaultOpt, opt);\r\n\r\n\r\n    var option = {\r\n\r\n        backgroundColor: \"#336699\",\r\n        geo: {\r\n            map: opt.mapName,\r\n            // roam: true, 是否缩放--在移动端无效\r\n            zoom: 1.2,\r\n            // selectedMode:true,  //多选地图区域\r\n            label: {\r\n                normal: {\r\n                    //地图名字\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: \"#fff\",\r\n                        fontSize: 10,\r\n                    },\r\n                },\r\n                emphasis: {\r\n                    //选中后颜色\r\n                    textStyle: {\r\n                        color: \"#640000\",\r\n                    },\r\n                },\r\n            },\r\n            itemStyle: {\r\n                //地图颜色配置\r\n                normal: {\r\n                    borderColor: \"#3fdaff\",\r\n                    borderWidth: 1,\r\n                    areaColor: 'transparent',\r\n                },\r\n                emphasis: {\r\n                    areaColor: \"#eee\", //选中地图颜色\r\n                    borderWidth: 0,\r\n                },\r\n            },\r\n            regions: mapSelect[0], //默认选中区域设置\r\n\r\n        },\r\n        series: [\r\n\r\n            {\r\n                type: \"scatter\",\r\n                coordinateSystem: \"geo\",\r\n                symbol: house,\r\n                symbolSize: 20, //标记的大小\r\n                hoverAnimation: false,\r\n                data: mapDate,\r\n            },\r\n        ],\r\n    };\r\n\r\n    chart.setOption(option);\r\n    return chart;\r\n};\r\n\r\n$.getJSON(hangzhou, function(geoJson) {\r\n    echarts.registerMap(\"杭州\", geoJson);\r\n    var myChart = echarts.extendsMap(\"chart-panel\", {\r\n\r\n        mapName: \"杭州\", // 地图名\r\n        goDown: true, // 是否下钻\r\n        // 下钻回调\r\n        callback: function(name, option, instance) {},\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"bd-1832650076","theme":"","layout":"","viewCount":125,"userName":"凌***殇","commentCount":3,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xO-sOFe5yn.png?v=1592873395345","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-scatter"],"customTags":[],"updaterUserName":"凌***殇"}}