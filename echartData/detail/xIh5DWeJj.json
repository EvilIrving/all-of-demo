{"status":0,"data":{"cid":"xIh5DWeJj","authorUid":"bd-2536962124","authorUserName":"韩***翎","title":"成功与否","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-12-23T08:44:15.000Z","lastUpdateTime":"2019-12-23T08:44:15.000Z","auth":2,"uid":"bd-2536962124","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-16T08:19:20.000Z","code":"var scaleData = [{\r\n        'name': '成功',\r\n        'value': 100\r\n    }, {\r\n        'name': '不成功',\r\n        'value': 30\r\n    },\r\n\r\n\r\n\r\n];\r\nvar rich = {\r\n    blue: {\r\n        color: \"rgb(137, 192, 252)\",\r\n        padding: [10, 0],\r\n        fontSize: 20,\r\n        fontFamily: \"\"\r\n    }\r\n};\r\nvar placeHolderStyle = {\r\n    normal: {\r\n        label: {\r\n            show: false\r\n        },\r\n        labelLine: {\r\n            show: false\r\n        },\r\n        color: 'rgba(0, 0, 0, 0)',\r\n        borderColor: 'rgba(0, 0, 0, 0)',\r\n        borderWidth: 0\r\n    }\r\n};\r\nvar data = [];\r\nvar color = ['rgb(50, 177, 108)', 'rgb(236, 105, 65)', ]\r\nfor (var i = 0; i < scaleData.length; i++) {\r\n    data.push({\r\n        value: scaleData[i].value,\r\n        name: scaleData[i].name,\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 10,\r\n                borderColor: color[i],\r\n            }\r\n        }\r\n    }, {\r\n        value: 2,\r\n        name: '',\r\n        itemStyle: placeHolderStyle\r\n    });\r\n}\r\nvar seriesObj = [{\r\n        type: 'pie',\r\n        zlevel: 1,\r\n        silent: true,\r\n        radius: ['25%', '25%'],\r\n        hoverAnimation: false,\r\n        // animation:false,    //charts3 no\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: _pie1()\r\n    },\r\n    {\r\n        type: 'pie',\r\n        zlevel: 2,\r\n        silent: true,\r\n        radius: ['33%', '34%'],\r\n        startAngle: -65,\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: _pie2()\r\n    }, {\r\n        name: '',\r\n        type: 'pie',\r\n        clockWise: false, //是否顺时针\r\n        radius: [195, 200],\r\n        hoverAnimation: false,\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: true,\r\n                    position: 'outside',\r\n                    color: '#ddd',\r\n                    formatter: function(params) {\r\n                        var percent = 0;\r\n                        var total = 0;\r\n                        for (var i = 0; i < scaleData.length; i++) {\r\n                            total += scaleData[i].value;\r\n                        }\r\n                        percent = ((params.value / total) * 100).toFixed(1);\r\n                        if (params.name !== '') {\r\n                            return params.name + '\\n{blue|' + percent + '%}';\r\n                        } else {\r\n                            return '';\r\n                        }\r\n                    },\r\n                    rich: rich\r\n                },\r\n                labelLine: {\r\n                    length: 50,\r\n                    length2: 20,\r\n                    show: true,\r\n                    color: '#ccc',\r\n                }\r\n            }\r\n        },\r\n        data: data\r\n    }\r\n];\r\noption = {\r\n    backgroundColor: '#04243E',\r\n    color: color,\r\n    tooltip: {\r\n        show: false\r\n    },\r\n    legend: {\r\n        show: true,\r\n        bottom: '10%',\r\n        left: '10%',\r\n        itemWidth: 10,\r\n        itemHeight: 10,\r\n        orient: \"vertical\",\r\n        textStyle: {\r\n            color: \"#fff\"\r\n        },\r\n        formatter: function(names) {\r\n            console.log('lengend', names);\r\n            var v = 0;\r\n            for (var i = 0; i < scaleData.length; i++) {\r\n                if (scaleData[i].name == names) {\r\n                    v = scaleData[i].value;\r\n                }\r\n            }\r\n            return \"成功\" + names + \"个数 : \" + v\r\n\r\n        },\r\n        data: [\"1\", \"2\"]\r\n    },\r\n    toolbox: {\r\n        show: false\r\n    },\r\n    series: seriesObj\r\n}\r\n\r\nfunction _pie1() {\r\n    let dataArr = [];\r\n    for (var i = 0; i < 8; i++) {\r\n        dataArr.push({\r\n            name: (i + 1).toString(),\r\n            value: 20,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0, 0, 0,0)\",\r\n                    borderWidth: 0,\r\n                    borderColor: \"rgba(0,0,0,0)\"\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n    return dataArr\r\n\r\n}\r\n\r\nfunction _pie2() {\r\n    let dataArr = [];\r\n    for (var i = 0; i < 10; i++) {\r\n        if (i % 2 === 0) {\r\n            dataArr.push({\r\n                name: (i + 1).toString(),\r\n                value: 45,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: \"rgba(0,0,0,0)\",\r\n                        borderWidth: 20,\r\n                        borderColor: \"rgba(14, 77, 135,1)\"\r\n                    }\r\n                }\r\n            })\r\n        } else {\r\n            dataArr.push({\r\n                name: (i + 1).toString(),\r\n                value: 8,\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: \"rgba(0, 0, 0,0)\",\r\n                        borderWidth: 0,\r\n                        borderColor: \"rgba(0,0,0,0)\"\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n    return dataArr\r\n\r\n}","html":"","externalScripts":"","updaterUID":"bd-2536962124","theme":"","layout":"","viewCount":157,"userName":"韩***翎","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIh5DWeJj.png?v=1600244360372","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","toolbox","tooltip"],"customTags":[],"updaterUserName":"韩***翎"}}