{"status":0,"data":{"cid":"xm25Dt4GlB","authorUid":"obd-ojMzKebRWlOBrfglNE5_mBJi3x6hmEl","authorUserName":"9***2","title":"平面图","description":"展示各机器间的网络情况","latestVersion":4,"alwaysLatest":1,"createTime":"2020-07-25T07:06:48.000Z","lastUpdateTime":"2020-07-25T07:06:48.000Z","auth":2,"uid":"obd-ojMzKebRWlOBrfglNE5_mBJi3x6hmEl","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-25T11:29:55.000Z","code":"const machine = [];\nfor (let i = 65; i < 91; i++) {\n    machine.push('机器' + String.fromCharCode(i))\n}\nconst xData = machine.slice();\nconst yData = machine.slice();\n\nconst rowData = [];\n\nmachine.forEach(function(item, index) {\n    const current = item;\n    machine.forEach(function(item, index) {\n        rowData.push({\n            target: item,\n            source: current,\n            value: Math.random() > 0.8 ? -1 : Math.floor(Math.random() * 100) + 1\n        })\n    })\n})\n\nconst seriesData = rowData.map(function(item) {\n    return [item.source, item.target, item.value]\n})\n\noption = {\n    title: {\n        text: '平面图',\n        subtext: '展示各机器间的网络情况',\n        left: 'center'\n    },\n    toolbox: {\n        feature: {\n            saveAsImage: {},\n            dataZoom: {}\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        axisPointer: {\n            type: 'shadow'\n        },\n        formatter: function(params) {\n            var value = params.value\n            var source = value[0]\n            var target = value[1]\n            var status = value[2]\n            return [source + '-->' +\n                target, status > -1 ? '延时:' + status : '高延时'\n            ].join('<br/>')\n        }\n    },\n    xAxis: {\n        type: 'category',\n        data: xData,\n        axisLabel: {\n            interval: 0,\n            rotate: 30\n        },\n        axisTick: {\n            show: false\n        },\n        axisLine: {\n            show: false\n        }\n    },\n    yAxis: {\n        type: 'category',\n        data: yData,\n        axisLabel: {\n            interval: 0,\n            rotate: 30\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    series: {\n        type: 'heatmap',\n        data: seriesData,\n        itemStyle: {\n            emphasis: {\n                shadowBlur: 10,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n            },\n            borderWidth: 1,\n            borderColor: '#fff'\n        }\n    },\n    visualMap: {\n        show: false,\n        pieces: [{\n                gt: 0,\n                color: '#66CC66'\n            },\n            {\n                value: -1,\n                color: '#CC5555'\n            },\n        ]\n    }\n};","html":"","externalScripts":"","updaterUID":"obd-ojMzKebRWlOBrfglNE5_mBJi3x6hmEl","theme":"","layout":"","viewCount":3280,"userName":"9***2","commentCount":0,"starCount":16,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xm25Dt4GlB.png?v=1595676595225","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-heatmap","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"9***2"}}