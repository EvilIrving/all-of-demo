{"status":0,"data":{"cid":"xs1Klk88dk","authorUid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","authorUserName":"c***J","title":"扇形图（多色label）","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-22T08:25:43.000Z","lastUpdateTime":"2020-10-22T08:25:43.000Z","auth":2,"uid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-22T08:25:43.000Z","code":"//职称结构取数\r\nvar getsjjg = ['小说', '教材', '期刊', '其他'];\r\nvar getsjjgrs = [300, 200, 100, 50];\r\nvar syjgdata = [];\r\nfor (var i = 0; i < getsjjg.length; i++) {\r\n    syjgdata.push({\r\n        name: getsjjg[i],\r\n        value: getsjjgrs[i]\r\n    })\r\n}\r\nvar colorList = ['#503EFF', '#3E82FF', '#8BF39A', '#00FCFD'];\r\nvar rich = {\r\n    name: {\r\n        color: \"#FFF\",\r\n        fontSize: 14,\r\n        padding: [10, 15, 0, 10],\r\n        fontWeight: '400',\r\n        align: 'left'\r\n    },\r\n    value: {\r\n        color: \"#FFF\",\r\n        fontSize: 15,\r\n        padding: [10, 10, 0, 15],\r\n        fontWeight: '500',\r\n        align: 'right'\r\n    },\r\n    percent: {\r\n        color: \"#FFF\",\r\n        align: 'right',\r\n        fontSize: 15,\r\n        fontWeight: '500',\r\n        //padding: [0, 5]\r\n    },\r\n    hr: {\r\n        width: '100%',\r\n        height: 0,\r\n    },\r\n    cir: {\r\n        fontSize: 26,\r\n    }\r\n}\r\n//职称结构图表\r\n\r\noption = {\r\n    backgroundColor: '#0A1934',\r\n    tooltip: {\r\n        trigger: 'axis',\r\n    },\r\n    series: [{\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(params) {\r\n                return params.name + '：' + params.value + '册<br>占比：' + params.percent.toFixed(2) + '%'\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: '#0A1934',\r\n                borderWidth: 3,\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n        },\r\n        type: 'pie',\r\n        radius: ['30%', '50%'],\r\n        center: [\"50%\", \"50%\"],\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'inner',\r\n                formatter: params => {\r\n                    return (\r\n                        '{percent|' + params.percent.toFixed(0) + '%}'\r\n                    );\r\n                },\r\n                rich: rich,\r\n            }\r\n        },\r\n        data: syjgdata\r\n    }, {\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: '#0A1934',\r\n                borderWidth: 5,\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n        },\r\n        type: 'pie',\r\n        silent: true, //取消高亮\r\n        radius: ['30%', '50%'],\r\n        center: [\"50%\", \"50%\"],\r\n        labelLine: {\r\n            normal: {\r\n                length: 30,\r\n                length2: 0,\r\n                lineStyle: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n\r\n                formatter: params => {\r\n                    return '{name|' + params.name + '}\\n{hr|————————}\\n{value|' + params.value + '}{percent|' + params.percent.toFixed(0) + '%}';\r\n                },\r\n                rich: {\r\n                    name: {\r\n                        fontSize: 13,\r\n                        padding: [0, 10, 0, 0],\r\n                        color: '#C3F0FF'\r\n                    },\r\n                    value: {\r\n                        fontSize: 13,\r\n                        padding: [0, 10, 0, 20],\r\n                        color: '#00BAFF'\r\n                    },\r\n                    percent: {\r\n                        fontSize: 13,\r\n                        padding: [0, 40, 0, 0],\r\n                        color: '#00BAFF'\r\n                    },\r\n                },\r\n                padding: [-10, 25, -10, 25]\r\n            }\r\n        },\r\n        data: syjgdata,\r\n        z: -1\r\n    }, {\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: '#0A1934',\r\n                borderWidth: 5,\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n        },\r\n        type: 'pie',\r\n        silent: true, //取消高亮\r\n        radius: ['30%', '50%'],\r\n        center: [\"50%\", \"50%\"],\r\n        labelLine: {\r\n            normal: {\r\n                length: 30,\r\n                length2: 0,\r\n                lineStyle: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                formatter: params => {\r\n                    return '\\n{cir|●}\\n';\r\n                },\r\n                rich: rich,\r\n            }\r\n        },\r\n        data: syjgdata,\r\n        z: -1\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","theme":"","layout":"","viewCount":115,"userName":"c***J","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xs1Klk88dk.png?v=1603355144128","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","tooltip"],"customTags":[],"updaterUserName":"c***J"}}