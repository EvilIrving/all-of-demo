{"status":0,"data":{"cid":"xKCb6Mqw8L","authorUid":"obd-o2cLqDr_vziJgOxKN90dGr2gD863_6Q","authorUserName":"镜***2","title":"地图","description":"","latestVersion":4,"alwaysLatest":0,"createTime":"2021-12-28T07:20:17.000Z","lastUpdateTime":"2021-12-30T08:05:25.000Z","auth":1,"uid":"obd-o2cLqDr_vziJgOxKN90dGr2gD863_6Q","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-30T08:05:25.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1640675453477-qxHXlDzdd.json\";\r\n\r\n// var uploadedDataURL = \"/asset/get/s/data-1640675453477-qxHXlDzdd.json\";\r\n\r\n// var uploadedDataURL = '/asset/get/s/data-1640660720718-f_Cfu0tY1.json';\r\nvar x = document.createElement(\"CANVAS\");\r\nvar context = x.getContext(\"2d\");\r\n\r\nvar x1 =   0;\r\nvar y1 =   100;\r\nvar x2 =  100;\r\nvar y2 =   0;\r\nvar linearGradient1 = context.createLinearGradient(x1,y1,x2,y2); \r\n\r\nlinearGradient1.addColorStop(0,\"#fff\");\r\nlinearGradient1.addColorStop(1,\"#0A56BC\");\r\n\r\ncontext.fillStyle=linearGradient1;\r\ncontext.fillRect(0,00,500,500);\r\n\r\n\r\n\r\n\r\n\r\nlet valArr = [\r\n  {\r\n    name: '一心社区',\r\n    value: 111,\r\n  },\r\n];\r\n$.getJSON(uploadedDataURL, function (geoJson) {\r\n  echarts.registerMap('chinamap', geoJson);\r\n  loadMap('chinamap');\r\n});\r\nfunction loadMap(name) {\r\n  option = {\r\n    backgroundColor: 'rgba(0,0,0,0.8)',\r\n    tooltip: {\r\n      show: true,\r\n    },\r\n    geo3D: {\r\n      \r\n    },\r\n    series: [\r\n      {\r\n        name: 'MAP',\r\n        type: 'map3D',\r\n        map: name,\r\n        label: {\r\n          show: true,\r\n          textStyle: {\r\n            color: '#fff',\r\n            fontSize: 15,\r\n          },\r\n          borderRadius: 0,\r\n        },\r\n        itemStyle: {\r\n          color: '#11A0EE',\r\n          borderColor: '#65ebff',\r\n          borderWidth: 1,\r\n          opacity: 1,\r\n        },\r\n        // postEffect: {\r\n        //   enable: true,\r\n        //   bloom: {\r\n        //     enable: true,\r\n        //     bloomIntensity: 0.3,\r\n        //   },\r\n        //   colorCorrection: {\r\n        //     enable: true,\r\n        //   },\r\n        // },\r\n        aspectScale: 1, //长宽比\r\n        selectedMode: false, //是否允许选中多个区域\r\n        data: valArr,\r\n        shading: 'lambert',       // 三维地理坐标系组件中三维图形的着色效果，echarts-gl 中支持下面三种着色方式:\r\n        // 'lambert' 通过经典的 lambert 着色表现光照带来的明暗。\r\n        // 'realistic' 真实感渲染，配合 light.ambientCubemap 和 postEffect 使用可以让展示的画面效果和质感有质的提升。ECharts GL 中使用了基于物理的渲染（PBR） 来表现真实感材质。\r\n        // realisticMaterial: {}    // 真实感材质相关的配置项，在 shading 为'realistic'时有效。\r\n        lambertMaterial: {\r\n            detailTexture: x\r\n        },      // lambert 材质相关的配置项，在 shading 为'lambert'时有效。\r\n        // colorMaterial: {\r\n        //   detailTexture: x\r\n        // },        // color 材质相关的配置项，在 shading 为'color'时有效。\r\n\r\n        light: {\r\n          // 光照相关的设置。在 shading 为 'color' 的时候无效。  光照的设置会影响到组件以及组件所在坐标系上的所有图表。合理的光照设置能够让整个场景的明暗变得更丰富，更有层次。\r\n          main: {\r\n            // 场景主光源的设置，在 globe 组件中就是太阳光。\r\n            color: '#0A55BC', //主光源的颜色。[ default: #fff ]\r\n            intensity: 12, //主光源的强度。[ default: 1 ]\r\n            shadow: false, //主光源是否投射阴影。默认关闭。    开启阴影可以给场景带来更真实和有层次的光照效果。但是同时也会增加程序的运行开销。\r\n            shadowQuality: 'high',      // 阴影的质量。可选'low', 'medium', 'high', 'ultra' [ default: 'medium' ]\r\n            alpha: 0, // 主光源绕 x 轴，即上下旋转的角度。配合 beta 控制光源的方向。[ default: 40 ]\r\n            beta: 0, // 主光源绕 y 轴，即左右旋转的角度。[ default: 40 ]\r\n          },\r\n          ambient: {\r\n            // 全局的环境光设置。\r\n            color: '#fff', // 环境光的颜色。[ default: #fff ]\r\n            intensity: 1, // 环境光的强度。[ default: 0.2 ]\r\n          },\r\n        },\r\n\r\n        viewControl: {\r\n          // 用于鼠标的旋转，缩放等视角控制。\r\n          projection: 'perspective', // 投影方式，默认为透视投影'perspective'，也支持设置为正交投影'orthographic'。\r\n          autoRotate: false, // 是否开启视角绕物体的自动旋转查看。[ default: false ]\r\n          autoRotateDirection: 'cw', // 物体自传的方向。默认是 'cw' 也就是从上往下看是顺时针方向，也可以取 'ccw'，既从上往下看为逆时针方向。\r\n          autoRotateSpeed: 10, // 物体自传的速度。单位为角度 / 秒，默认为10 ，也就是36秒转一圈。\r\n          autoRotateAfterStill: 3, // 在鼠标静止操作后恢复自动旋转的时间间隔。在开启 autoRotate 后有效。[ default: 3 ]\r\n          damping: 0, // 鼠标进行旋转，缩放等操作时的迟滞因子，在大于等于 1 的时候鼠标在停止操作后，视角仍会因为一定的惯性继续运动（旋转和缩放）。[ default: 0.8 ]\r\n          rotateSensitivity: 1, // 旋转操作的灵敏度，值越大越灵敏。支持使用数组分别设置横向和纵向的旋转灵敏度。默认为1, 设置为0后无法旋转。\trotateSensitivity: [1, 0]——只能横向旋转； rotateSensitivity: [0, 1]——只能纵向旋转。\r\n          zoomSensitivity: 1, // 缩放操作的灵敏度，值越大越灵敏。默认为1,设置为0后无法缩放。\r\n          panSensitivity: 1, // 平移操作的灵敏度，值越大越灵敏。默认为1,设置为0后无法平移。支持使用数组分别设置横向和纵向的平移灵敏度\r\n          panMouseButton: 'left', // 平移操作使用的鼠标按键，支持：'left' 鼠标左键（默认）;'middle' 鼠标中键 ;'right' 鼠标右键(注意：如果设置为鼠标右键则会阻止默认的右键菜单。)\r\n          rotateMouseButton: 'left', // 旋转操作使用的鼠标按键，支持：'left' 鼠标左键;'middle' 鼠标中键（默认）;'right' 鼠标右键(注意：如果设置为鼠标右键则会阻止默认的右键菜单。)\r\n\r\n        //   distance: 100, // [ default: 100 ] 默认视角距离主体的距离，对于 grid3D 和 geo3D 等其它组件来说是距离中心原点的距离,对于 globe 来说是距离地球表面的距离。在 projection 为'perspective'的时候有效。\r\n        //   minDistance: 40, // [ default: 40 ] 视角通过鼠标控制能拉近到主体的最小距离。在 projection 为'perspective'的时候有效。\r\n        //   maxDistance: 400, // [ default: 400 ] 视角通过鼠标控制能拉远到主体的最大距离。在 projection 为'perspective'的时候有效。\r\n\r\n        //   alpha: 40, // 视角绕 x 轴，即上下旋转的角度。配合 beta 可以控制视角的方向。[ default: 40 ]\r\n        //   beta: 15, // 视角绕 y 轴，即左右旋转的角度。[ default: 0 ]\r\n        //   minAlpha: 25, // 上下旋转的最小 alpha 值。即视角能旋转到达最上面的角度。[ default: 5 ]\r\n        //   maxAlpha: 360, // 上下旋转的最大 alpha 值。即视角能旋转到达最下面的角度。[ default: 90 ]\r\n        //   minBeta: -360, // 左右旋转的最小 beta 值。即视角能旋转到达最左的角度。[ default: -80 ]\r\n        //   maxBeta: 360, // 左右旋转的最大 beta 值。即视角能旋转到达最右的角度。[ default: 80 ]\r\n\r\n        //   center: [0, 0, 0], // 视角中心点，旋转也会围绕这个中心点旋转，默认为[0,0,0]。\r\n\r\n          animation: true, // 是否开启动画。[ default: true ]\r\n          animationDurationUpdate: 1000, // 过渡动画的时长。[ default: 1000 ]\r\n          animationEasingUpdate: 'cubicInOut', // 过渡动画的缓动效果。[ default: cubicInOut ]\r\n        },\r\n      },\r\n    ],\r\n  };\r\n  myChart.setOption(option);\r\n}\r\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js","updaterUID":"obd-o2cLqDr_vziJgOxKN90dGr2gD863_6Q","theme":"","layout":"","viewCount":0,"userName":"镜***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKCb6Mqw8L.png?v=1640851525735","isCustomThumbnail":0,"builtinTags":["category-work","geo3D","series-map3D","tooltip"],"customTags":[],"updaterUserName":"镜***2"}}