{"status":0,"data":{"cid":"xsGUQyK6Y0","authorUid":"obd-oAD1TEVanc-1yCgY9sDf08bc7IEjS7m","authorUserName":"竹***狸","title":"折线图/柱状图切换","description":"提供图形切换工具，可切换柱状图/曲线图","latestVersion":3,"alwaysLatest":1,"createTime":"2021-04-05T02:40:24.000Z","lastUpdateTime":"2021-04-05T02:40:24.000Z","auth":1,"uid":"obd-oAD1TEVanc-1yCgY9sDf08bc7IEjS7m","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-11T09:17:22.000Z","code":"// x轴数据\nconst xData = [\n    '1月',\n    '2月',\n    '3月',\n    '4月',\n    '5月',\n    '6月',\n    '7月',\n    '8月',\n    '9月',\n    '10月',\n    '11月',\n    '12月',\n]\n// y轴数据\nconst yData = [12, 18, 32, 12, 43, 52, 12, 54, 75, 34, 12, 67];\n// 色值\nlet colorArr = [\n    ['rgba(247, 146, 38, 1)', 'rgba(255, 196, 87, 0.1)'],\n    ['rgba(3, 140, 248,1)', 'rgba(87, 212, 151,0.1)'],\n];\noption = {\n    title: {\n        text: '| 圆角柱状图',\n        top: 10,\n        left: 20,\n        textStyle: {\n            color: colorArr[1][0],\n            fontSize: 24\n        },\n    },\n    legend: {\n        show: true,\n        itemWidth: 10,\n    },\n    grid: {\n        top: '25%',\n        left: '10%',\n        bottom: '15%',\n    },\n    tooltip: {\n        show: true,\n        trigger: 'item',\n    },\n    // 工具箱\n    toolbox: {\n        top: 10,\n        right: 30,\n        iconStyle: {\n            borderColor: 'rgba(87, 212, 151, 1)',\n        },\n        feature: {\n            saveAsImage: {\n                title: '保存为图片！', // 鼠标hover时的显示字段\n                name: '圆角柱状图', // 下载时图片文件的名称\n                excludeComponents: ['toolbox'],\n            },\n            // 图形切换组件\n            magicType: {\n                type: ['line', 'bar'],\n                title: {\n                    line: '切换为折线图',\n                    bar: '切换为柱状图',\n                },\n            },\n            // 还原\n            restore: {}\n        },\n    },\n    // 数据标签样式\n    label: {\n        show: true,\n        borderColor: 'rgba(87, 212, 151,0.9)',\n        borderWidth: 1,\n        borderRadius: 2,\n        position: 'top',\n        padding: [2, 4],\n        textBackgroundColor: 'red',\n    },\n    labelLine: {\n        show: true,\n        lineStyle: {\n            color: 'rgba(87, 212, 151,0.6)',\n        },\n    },\n    xAxis: {\n        type: 'category',\n        interval: 0,\n        data: xData,\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            color: 'rgba(0,0,0,.5)',\n        },\n    },\n    yAxis: {\n        type: 'value',\n        splitLine: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: '#fff',\n                opacity: 0.5,\n                width: 1.5,\n            },\n        },\n        axisTick: {\n            show: false,\n            inside: true,\n            length: 2,\n            lineStyle: {\n                width: 1.5,\n                opacity: 0.8,\n            },\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    series: [{\n        type: 'bar',\n        barCategoryGap: 5, // 柱子之间的距离\n        barWidth: 20, // 柱子宽度，不设置时宽度自适应\n        smooth: true, // 切换成折线图之后的曲线平滑度\n        symbolSize: 15,\n        data: yData,\n        itemStyle: {\n            color: (arg) => {\n                let targetColor = null;\n                if (arg.data > 50) {\n                    targetColor = colorArr[0];\n                } else {\n                    targetColor = colorArr[1];\n                }\n                return new echarts.graphic.LinearGradient(\n                    0,\n                    0,\n                    0,\n                    1,\n                    [{\n                            offset: 0,\n                            color: targetColor[0]\n                        },\n                        {\n                            offset: 1,\n                            color: targetColor[1]\n                        },\n                    ]);\n            },\n            // v5版本建议使用borderRadius来设置柱子圆角\n            barBorderRadius: [30, 30, 0, 0],\n        },\n        lineStyle: {\n            color: 'rgba(255, 196, 87, 1)',\n            width: 1.5,\n        },\n        // 设置切换为折线图之后的阴影样式\n        areaStyle: {\n            color: {\n                x: 0,\n                y: 1,\n                x2: 0,\n                y2: 0,\n                colorStops: [{\n                        offset: 0,\n                        color: 'rgba(255, 196, 87, 0.1)',\n                    },\n                    {\n                        offset: 1,\n                        color: 'rgba(255, 196, 87, 1)',\n                    },\n                ],\n            },\n        },\n        emphasis: {\n            // 高亮图形时是否淡出剩余数据点, 5.0之后的版本支持\n            focus: 'self', // self高亮本身，其余数据淡出；series聚焦当前高亮数据坐在的系列\n            itemStyle: {\n                color: 'rgba(87, 212, 151,0.9)',\n            },\n        },\n    }, ],\n}","html":"","externalScripts":"","updaterUID":"obd-oAD1TEVanc-1yCgY9sDf08bc7IEjS7m","theme":"","layout":"","viewCount":67,"userName":"竹***狸","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xsGUQyK6Y0.png?v=1618132642315","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","toolbox","tooltip"],"customTags":["bar","line","magictype"],"updaterUserName":"竹***狸"}}