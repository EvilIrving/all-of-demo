{"status":0,"data":{"cid":"xM9NJSdtV","authorUid":"bd-2903669626","authorUserName":"z***2","title":"转化率关系图","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2020-02-12T06:33:34.000Z","lastUpdateTime":"2020-02-12T06:33:34.000Z","auth":2,"uid":"bd-2903669626","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-13T07:16:42.000Z","code":"var rightArrow = \"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABNBAMAAAAYzFT5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAACZmZmZmZmqqqqZmZkAAAClqsN/AAAAA3RSTlMAf4C/aSLHAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAFdJREFUSMftzbENgCAYROEDHMCCASwYwMQFKNh/JkOhHfnPxuq9+sud9FSuZac+qnUFhUKhUKi3raNQqJ/U7qgU7k1VHZWGo+qI62qWyvHjrFkqW0pHTG6J1zAklFuGvAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0wM1QxODo0OTo1NyswODowMJLTpqcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMDNUMTg6NDk6NTcrMDg6MDDjjh4bAAAAAElFTkSuQmCC\",\r\n    uploadedDataURL = \"/asset/get/s/data-1576742942370-X6JMK0GY.png\",\r\n    colors = ['#1cd389', '#668eff', '#ffc751', '#ff6e73', '#8683e6', 'rgba(134,131,230,1)', 'rgba(134,131,230,0.8)', 'rgba(134,131,230,0.6)', 'rgba(134,131,230,0.4)', 'rgba(134,131,230,0.2)'],\r\n    url = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAARCAMAAACLgl7OAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAaVBMVEUAAADBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcEAAAD45xibAAAAInRSTlMAmT6WJYwSfBMGZAFHmEgtkBeCCW0KAlI1k5QeiA10A1tc7ah1owAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAB7SURBVCjPtZDZDoAgDAQXvA+8bwX1/3/SGKIBEd+cx07TdgtIiAF0/mygDvnAoYDr2b3nnjP8wOaDUG6J4ncfR9cdScpMzbJECZEXT1/kesyy0n1VPv6AulF908Kg6+9DWN/hjWGUfhpgYV5Ov8ywwgUhguODddtXvXIAjuUEs/70/t4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMTZUMTU6MzM6MDkrMDg6MDCzL2BEAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTE2VDE1OjMzOjA5KzA4OjAwwnLY+AAAAABJRU5ErkJggg==',\r\n    markLineSetting = {\r\n        normal: {\r\n            show: true,\r\n            backgroundColor: '#e4f5da',\r\n            borderRadius: 4,\r\n            color: '#333',\r\n            verticalAlign: 'middle',\r\n            offset: [40, 0, 0, 0],\r\n            fontSize: 14,\r\n            padding: [3, 10, 5, 10],\r\n            formatter: function(d) {\r\n                if (d.value) {\r\n                    var ins = '{img1|} ' + '{words|' + d.data.itemValue + '}';\r\n                    return ins\r\n                }\r\n            },\r\n            rich: {\r\n                img1: {\r\n                    backgroundColor: {\r\n                        image: uploadedDataURL,\r\n                    },\r\n                    width: 18,\r\n                    height: 16\r\n                },\r\n                words: {\r\n                    color: '#333',\r\n                    position: 'right',\r\n                    fontSize: 14,\r\n                    lineHeight: 20,\r\n                    padding: [0, 0, 5, 0],\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\nvar lineargroup = [{\r\n        value: 100,\r\n        name: '目标',\r\n        oriname: \"意向\",\r\n        number: 98756,\r\n        percent: '15.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 80,\r\n        name: '方案率',\r\n        oriname: \"方案\",\r\n        number: 88756,\r\n        percent: '18.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 60,\r\n        name: '商務率',\r\n        oriname: \"商務\",\r\n        number: 78756,\r\n        percent: '19.56%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 40,\r\n        name: '成交率',\r\n        oriname: \"即將成交\",\r\n        number: 68756,\r\n        percent: '25.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 20,\r\n        name: '贏单率',\r\n        oriname: \"贏单\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 20,\r\n        name: '贏单率1',\r\n        oriname: \"贏单1\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n    {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    }, {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n     {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n\r\n {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n\r\n    {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    }, {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n     {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n\r\n {\r\n        value: 20,\r\n        name: '贏单率2',\r\n        oriname: \"贏单2\",\r\n        number: 58756,\r\n        percent: '65.35%', // 非必须，如果不需要，填充空字符串， 左侧的数据\r\n\r\n    },\r\n\r\n\r\n];\r\n\r\n\r\n\r\n\r\n\r\nvar data1 = [];\r\nvar data2 = [];\r\nvar ydata = [];\r\nvar xiaojiantou_data = [];\r\nfor (var i = 0; i < lineargroup.length; i++) {\r\n    var obj1 = {\r\n        value: (100 / lineargroup.length) * (lineargroup.length - i),\r\n        num: lineargroup[i].number,\r\n        name: lineargroup[i].oriname\r\n    };\r\n    var obj2 = {\r\n        value: (100 / lineargroup.length) * (lineargroup.length - i),\r\n        percent: lineargroup[i].percent,\r\n        name: lineargroup[i].name,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#eee',\r\n                borderWidth: 0,\r\n                opacity: 1\r\n            }\r\n        },\r\n    };\r\n    var _jiantou = {\r\n        value: 100,\r\n    }\r\n    data1.push(obj1);\r\n    data2.push(obj2);\r\n    ydata.push(i + 1);\r\n    xiaojiantou_data.push(_jiantou)\r\n}\r\n\r\nvar _rightHeight = (600 - 20 * (lineargroup.length - 1)) / lineargroup.length + 17;\r\n\r\n//转化率数据\r\nvar sdata = ['24%', '21%', '15%', '12%', '7%', '97.87%', '20%', '20%', '12%']\r\n\r\n\r\n\r\nvar arrowData = [{\r\n    value: 0,\r\n    itemValue: '50%',\r\n    show: false,\r\n    label: markLineSetting,\r\n}]\r\n\r\nfor (var i = 0; i < lineargroup.length - 1; i++) {\r\n    var _objdd = {\r\n        value: 365 - i * (50 / lineargroup.length),\r\n        itemValue: sdata[i],\r\n        label: markLineSetting,\r\n    }\r\n    arrowData.push(_objdd);\r\n}\r\n\r\n\r\n\r\nvar option = {\r\n    backgroundColor: '#ffffff',\r\n    color: colors,\r\n    grid: {\r\n        top: '0',\r\n        left: \"2%\",\r\n        right: 20,\r\n        height: ((600 - 20 * (lineargroup.length )) / lineargroup.length + 23) * (lineargroup.length - 1)- (lineargroup.length),\r\n        bottom: '10',\r\n    },\r\n    xAxis: [{\r\n            show: false,\r\n            inverse: true,\r\n            position: 'top',\r\n        },\r\n        {\r\n            position: 'bottom',\r\n            show: false,\r\n            min: 100,\r\n            max: 200\r\n        }\r\n    ],\r\n    yAxis: [{\r\n     \r\n        top: '120',\r\n        show: false,\r\n        boundaryGap: false,\r\n        inverse: true,\r\n        type: \"category\",\r\n        // min: '转化率1',\r\n        data: ydata\r\n    }],\r\n    series: [\r\n        {\r\n            top: 0,\r\n            type: 'funnel',\r\n            height: '600',\r\n            gap: 20,\r\n            minSize: 150,\r\n            left: '20%',\r\n            width: '60%',\r\n            z: 3,\r\n\r\n            label: {\r\n                show: true,\r\n                position: 'inside',\r\n                fontSize: '14',\r\n                formatter: function(d) {\r\n                    var ins = d.name + '{aa|} ' + d.data.num;\r\n                    return ins\r\n                },\r\n                rich: {\r\n                    aa: {\r\n                        padding: [8, 0, 6, 0]\r\n                    }\r\n                }\r\n            },\r\n            data: data1\r\n        },\r\n        {\r\n            top: 0,\r\n            type: 'funnel',\r\n            height: '600',\r\n            gap: 20,\r\n            minSize: 150,\r\n            left: '8%',\r\n            width: '60%',\r\n            z: 2,\r\n            label: {\r\n                normal: {\r\n                    color: '#333',\r\n                    position: 'insideLeft',\r\n                    padding: [11, 25],\r\n                    formatter: function(d) {\r\n                        var ins = '{bb|' + d.data.percent + '}';\r\n                        return ins;\r\n                    },\r\n                    rich: {\r\n                        aa: {\r\n                            align: 'center',\r\n                            color: '#666',\r\n                            fontSize: '12',\r\n                            lineHeight: '30'\r\n                        },\r\n                        bb: {\r\n                            align: 'center',\r\n                            color: '#333',\r\n                            fontSize: '22'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            data: data2\r\n        },\r\n        {\r\n            top: '0',\r\n            type: 'pictorialBar',\r\n            name: 'xiaojiantou',\r\n            symbolSize: ['32', '17'],\r\n            symbolOffset: [0, -10],\r\n            symbolPosition: 'center',\r\n            symbol: url,\r\n            animation: true,\r\n            symbolClip: true,\r\n            z: 10,\r\n            data: xiaojiantou_data\r\n        },\r\n        {\r\n            top: '0',\r\n            name: 'youcejiantou',\r\n            type: 'pictorialBar',\r\n            symbolPosition: 'center',\r\n            symbolSize: ['73', '' + _rightHeight],\r\n            symbol: rightArrow,\r\n            symbolClip: true,\r\n            xAxisIndex: '1',\r\n            z: 1,\r\n            data: arrowData\r\n        },\r\n    ]\r\n};","html":"","externalScripts":"","updaterUID":"bd-2903669626","theme":"","layout":"","viewCount":1047,"userName":"z***2","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xM9NJSdtV.png?v=1581578202416","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-funnel","series-pictorialBar"],"customTags":[],"updaterUserName":"z***2"}}