{"status":0,"data":{"cid":"xS_oZgSQzY","authorUid":"obd-oDpaItygjJAI1OP69ZaVUeC6rFNQ51y","authorUserName":"悠***寒","title":"2015~2020中国各省居民人均可支配收入","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-11-07T11:32:55.000Z","lastUpdateTime":"2021-11-10T02:42:12.000Z","auth":2,"uid":"obd-oDpaItygjJAI1OP69ZaVUeC6rFNQ51y","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-10T02:42:12.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1636282594315-JLsviKcqm.xls\";\n\n\n\n\n\n\n//数据来源：国家统计局，本数据不包含香港，澳门，台湾地区\n\nvar uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\n\n\n\nvar geoCoordMap = {\n    '北京': [116.40, 40.40],\n    '天津': [117.04, 39.52],\n    '河北': [115.21, 38.44],\n    '山西': [111.95, 37.65],\n    '内蒙古': [112.17, 42.81],\n    '辽宁': [123.42, 41.29],\n    '吉林': [126.32, 43.38],\n    '黑龙江': [128.34, 47.05],\n    '上海': [121.46, 31.28],\n    '江苏': [120.26, 32.54],\n    '浙江': [120.15, 29.28],\n    '安徽': [117.28, 31.86],\n    '福建': [118.31, 26.07],\n    '江西': [115.89, 27.97],\n    '山东': [118.01, 36.37],\n    '河南': [113.46, 34.25],\n    '湖北': [112.29, 30.98],\n    '湖南': [112.08, 27.79],\n    '广东': [113.98, 22.82],\n    '广西': [108.67, 23.68],\n    '海南': [110.03, 19.33],\n    '重庆': [107.51, 29.63],\n    '四川': [103.36, 30.65],\n    '贵州': [106.91, 26.67],\n    '云南': [101.71, 24.84],\n    '西藏': [89.13, 30.66],\n    '陕西': [108.94, 34.46],\n    '甘肃': [103.82, 36.05],\n    '青海': [97.07, 35.62],\n    '宁夏': [106.27, 36.76],\n    '新疆': [86.61, 40.79],\n};\n//2015\nvar d1 = {\n   '北京':48458,\n'天津':\t31291,\n'河北':\t18118,\n'山西':\t17854,\n'内蒙古':22310,\n'辽宁':\t24576,\n'吉林':\t18684,\n'黑龙江':18593,\n'上海':\t49867,\n'江苏':\t29539,\n'浙江':\t35537,\n'安徽':\t18363,\n'福建':\t25404,\n'江西':\t18437,\n'山东':\t22703,\n'河南':\t17125,\n'湖北':\t20026,\n'湖南':\t19317,\n'广东':\t27859,\n'广西':\t16873,\n'海南':\t18979,\n'重庆':\t20110,\n'四川':\t17221,\n'贵州':\t13697,\n'云南':\t15223,\n'西藏':\t12254,\n'陕西':\t17395,\n'甘肃':\t13467,\n'青海':\t15813,\n'宁夏':\t17329,\n'新疆':\t16859,\n\n}\n//2016\nvar d2 = {\n    '北京':\t52530,\n'天津':\t34074,\n'河北':\t19725,\n'山西':\t19049,\n'内蒙古':24127,\n'辽宁':\t26040,\n'吉林':\t19967,\n'黑龙江':19838,\n'上海':\t54305,\n'江苏':\t32070,\n'浙江':\t38529,\n'安徽':\t19998,\n'福建':\t27608,\n'江西':\t20110,\n'山东':\t24685,\n'河南':\t18443,\n'湖北':\t21787,\n'湖南':\t21115,\n'广东':\t30296,\n'广西':\t18305,\n'海南':\t20653,\n'重庆':\t22034,\n'四川':\t18808,\n'贵州':\t15121,\n'云南':\t16720,\n'西藏':\t13639,\n'陕西':\t18874,\n'甘肃':\t14670,\n'青海':\t17302,\n'宁夏':\t18832,\n'新疆':\t18355,\n\n}\n//2017\nvar d3 = {\n    '北京':\t57230,\n'天津':\t37022,\n'河北':\t21484,\n'山西':\t20420,\n'内蒙古':26212,\n'辽宁':\t27835,\n'吉林':\t21368,\n'黑龙江':21206,\n'上海':\t58988,\n'江苏':\t35024,\n'浙江':\t42046,\n'安徽':\t21863,\n'福建':30048,\n'江西':\t22031,\n'山东':\t26930,\n'河南':\t20170,\n'湖北':\t23757,\n'湖南':\t23103,\n'广东':\t33003,\n'广西':\t19905,\n'海南':\t22553,\n'重庆':\t24153,\n'四川':\t20580,\n'贵州':\t16704,\n'云南':\t18348,\n'西藏':\t15457,\n'陕西':\t20635,\n'甘肃':\t16011,\n'青海':\t19001,\n'宁夏':\t20562,\n'新疆':\t19975,\n\n}\n//2018\nvar d4 = {\n    '北京':\t62361,\n'天津':\t39506,\n'河北':\t23446,\n'山西':\t21990,\n'内蒙古':28376,\n'辽宁':\t29701,\n'吉林':\t22798,\n'黑龙江':22726,\n'上海':\t64183,\n'江苏':\t38096,\n'浙江':\t45840,\n'安徽':\t23984,\n'福建':\t32644,\n'江西':\t24080,\n'山东':\t29205,\n'河南':\t21964,\n'湖北':\t25815,\n'湖南':\t25241,\n'广东':\t35810,\n'广西':\t21485,\n'海南':\t24579,\n'重庆':\t26386,\n'四川':\t22461,\n'贵州':\t18430,\n'云南':\t20084,\n'西藏':\t17286,\n'陕西':\t22528,\n'甘肃':\t17488,\n'青海':\t20757,\n'宁夏':\t22400,\n'新疆':\t21500,\n\n}\n//2019\nvar d5 = {\n    '北京':67756,\n'天津':\t42404,\n'河北':\t25665,\n'山西':\t23828,\n'内蒙古':30555,\n'辽宁':\t31820,\n'吉林':\t24563,\n'黑龙江':24254,\n'上海': 69442,\n'江苏':\t41400,\n'浙江':\t49899,\n'安徽':\t26415,\n'福建':\t35616,\n'江西':\t26262,\n'山东':\t31597,\n'河南':\t23903,\n'湖北':\t28319,\n'湖南':\t27680,\n'广东':\t39014,\n'广西':\t23328,\n'海南':\t26679,\n'重庆':\t28920,\n'四川':\t24703,\n'贵州':\t20397,\n'云南':\t22082,\n'西藏':\t19501,\n'陕西':\t24666,\n'甘肃':\t19139,\n'青海':\t22618,\n'宁夏':\t24412,\n'新疆': 23103,\n\n}\n//2020\nvar d6 = {\n  '北京':\t69434,\n'天津':\t43854,\n'河北':\t27136,\n'山西':\t25214,\n'内蒙古':31497,\n'辽宁':\t32738,\n'吉林':\t25751,\n'黑龙江':24902,\n'上海':\t72232,\n'江苏':\t43390,\n'浙江':\t52397,\n'安徽':\t28103,\n'福建':\t37202,\n'江西':\t28017,\n'山东':\t32886,\n'河南':\t24810,\n'湖北':\t27881,\n'湖南':\t29380,\n'广东':\t41029,\n'广西':\t24562,\n'海南':\t27904,\n'重庆':\t30824,\n'四川': 26522,\n'贵州': 21795,\n'云南':\t23295,\n'西藏':\t21744,\n'陕西':\t26226,\n'甘肃':\t20335,\n'青海':\t24037,\n'宁夏':\t25735,\n'新疆':\t23845,\n\n};\n\n\n\n\n\n\nvar colors = [\n    [\"#1DE9B6\", \"#FFFF00\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#FB95D5\", \"#BDA29A\", \"#6E7074\", \"#E690D1\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\", \"#C4CCD3\", \"#1DE9B6\", \"#04B9FF\", \"#FFC809\", \"#FB95D5\"],\n    [\"#37A2DA\", \"#FFFF00\", \"#32C5E9\", \"#5DBD32\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#546570\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\", \"#37A2DA\", \"#fde8cd\", \"#32C5E9\", \"#FFDB5C\", \"#FF9F7F\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\"],\n    [\"#DD6B66\", \"#FFFF00\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\", \"#DD6B66\", \"#E69D87\", \"#EA7E53\", \"#EEDD78\"],\n];\nvar colorIndex = 2;\n$(function() {\n    var year = [\"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\"];\n    var mapData = [\n        [],\n        [],\n        [],\n        [],\n        [],\n        []\n    ];\n\n    /*柱子Y名称*/\n    var categoryData = [];\n    var barData = [];\n\n    for (var key in geoCoordMap) {\n        mapData[0].push({\n            \"year\": '2015',\n            \"name\": key,\n            \"value\": d1[key],\n        });\n        mapData[1].push({\n            \"year\": '2016',\n            \"name\": key,\n            \"value\": d2[key],\n        });\n        mapData[2].push({\n            \"year\": '2017',\n            \"name\": key,\n            \"value\": d3[key],\n        });\n        mapData[3].push({\n            \"year\": '2018',\n            \"name\": key,\n            \"value\": d4[key],\n        });\n        mapData[4].push({\n            \"year\": '2019',\n            \"name\": key,\n            \"value\": d5[key],\n        });\n        mapData[5].push({\n            \"year\": '2020',\n            \"name\": key,\n            \"value\": d6[key],\n        });\n    }\n\n    for (var i = 0; i < mapData.length; i++) {\n        mapData[i].sort(function sortNumber(a, b) {\n            return a.value - b.value;\n        });\n        barData.push([]);\n        categoryData.push([]);\n        for (var j = 0; j < mapData[i].length; j++) {\n            barData[i].push(mapData[i][j].value);\n            categoryData[i].push(mapData[i][j].name);\n        }\n    }\n\n    $.getJSON(uploadedDataURL, function(geoJson) {\n\n        echarts.registerMap('china', geoJson);\n        var convertData = function(data) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var geoCoord = geoCoordMap[data[i].name];\n                if (geoCoord) {\n                    res.push({\n                        name: data[i].name,\n                        value: geoCoord.concat(data[i].value)\n                    });\n                }\n            }\n            return res;\n        };\n        optionXyMap01 = {\n            timeline: {\n                data: year,\n                axisType: 'category',\n                autoPlay: true,\n                playInterval: 3000,\n                left: '5%',\n                right: '15%',\n                bottom: '1%',\n                width: '65%',\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n                symbolSize: 10,\n                lineStyle: {\n                    color: '#555'\n                },\n                checkpointStyle: {\n                    borderColor: '#777',\n                    borderWidth: 2\n                },\n                controlStyle: {\n                    showNextBtn: true,\n                    showPrevBtn: true,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666'\n                    },\n                    emphasis: {\n                        color: '#aaa',\n                        borderColor: '#aaa'\n                    }\n                },\n\n            },\n            baseOption: {\n                animation: true,\n                animationDuration: 1000,\n                animationEasing: 'cubicInOut',\n                animationDurationUpdate: 1000,\n                animationEasingUpdate: 'cubicInOut',\n                grid: {\n                    right: '2%',\n                    top: '15%',\n                    bottom: '5%',\n                    width: '20%'\n                },\n                tooltip: {\n                    trigger: 'axis', // hover触发器\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n                        shadowStyle: {\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\n                        }\n                    }\n                },\n\n                geo: {\n                    show: true,\n                    map: 'china',\n                    roam: true,\n                    zoom: 0.9,\n                    center: [113.83531246, 34.0267395887],\n                    label: {\n                        emphasis: {\n                            show: false\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            borderColor: 'rgba(147, 235, 248, 1)',\n                            borderWidth: 1,\n                            areaColor: {\n                                type: 'radial',\n                                x: 0.5,\n                                y: 0.5,\n                                r: 0.8,\n                                colorStops: [{\n                                    offset: 0,\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\n                                }, {\n                                    offset: 1,\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\n                                }],\n                                globalCoord: false // 缺省为 false\n                            },\n                            shadowColor: 'rgba(128, 217, 248, 1)',\n                            shadowOffsetX: -2,\n                            shadowOffsetY: 2,\n                            shadowBlur: 10\n                        },\n                    }\n                },\n            },\n            options: []\n\n        };\n        for (var n = 0; n < year.length; n++) {\n            optionXyMap01.options.push({\n                backgroundColor: '#013954',\n                title: {\n                    text: '2015~2020中国各省居民人均可支配收入',\n                    left: '23%',\n                    top: '7%',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 20\n                    }\n                },\n                xAxis: {\n                    type: 'value',\n                    scale: true,\n                    position: 'top',\n                    min: 0,\n                    max: 80000,\n                    boundaryGap: false,\n                    splitNumber: 4,\n                    splitLine: {\n                        show: false\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    axisLabel: {\n                        margin: 2,\n                        textStyle: {\n                            color: '#aaa'\n                        }\n\n                    },\n                },\n                yAxis: {\n                    type: 'category',\n                    nameGap: 16,\n                    axisLine: {\n                        show: true,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisTick: {\n                        show: false,\n                        lineStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    axisLabel: {\n                        interval: 0,\n                        textStyle: {\n                            color: '#ddd'\n                        }\n                    },\n                    data: categoryData[n]\n                },\n\n                series: [\n                    //地图\n                    {\n                        type: 'map',\n                        map: 'china',\n                        geoIndex: 0,\n                        aspectScale: 0.75, //长宽比\n                        showLegendSymbol: false, // 存在legend时显示\n                        label: {\n                            normal: {\n                                show: false\n                            },\n                            emphasis: {\n                                show: false,\n                                textStyle: {\n                                    color: '#fff'\n                                }\n                            }\n                        },\n                        roam: true,\n                        itemStyle: {\n                            normal: {\n                                areaColor: '#031525',\n                                borderColor: '#FFFFFF',\n                            },\n                            emphasis: {\n                                areaColor: '#2B91B7'\n                            }\n                        },\n                        animation: false,\n                        data: mapData\n                    },\n                    {\n                        name: 'Top 5',\n                        type: 'scatter',\n                        coordinateSystem: 'geo',\n                        symbol: 'pin',\n                        symbolSize: [50, 50],\n                        label: {\n                            normal: {\n                                show: true,\n                                textStyle: {\n                                    color: '#fff',\n                                    fontSize: 9,\n                                },\n                                formatter(value) {\n                                    return value.data.value[2];\n                                }\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#D8BC37', //标志颜色\n                            }\n                        },\n                        data: convertData(mapData[n].sort(function(a, b) {\n                            return b.value - a.value;\n                        }).slice(0, 35)),\n                        showEffectOn: 'render',\n                        rippleEffect: {\n                            brushType: 'stroke'\n                        },\n                        hoverAnimation: true,\n                        zlevel: 1\n                    },\n                    //柱状图\n                    {\n                        zlevel: 1.5,\n                        type: 'bar',\n                        barMaxWidth: 10,\n                        symbol: 'none',\n                        itemStyle: {\n                            normal: {\n                                color: colors[colorIndex][n]\n                            }\n                        },\n                        data: barData[n]\n                    }\n                ]\n            });\n        }\n        myChart.setOption(optionXyMap01);\n    });\n});\n","html":"","externalScripts":"","updaterUID":"obd-oDpaItygjJAI1OP69ZaVUeC6rFNQ51y","theme":"","layout":"","viewCount":0,"userName":"悠***寒","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xS_oZgSQzY.png?v=1636512132575","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-map","series-scatter","timeline","title","tooltip"],"customTags":[],"updaterUserName":"悠***寒"}}