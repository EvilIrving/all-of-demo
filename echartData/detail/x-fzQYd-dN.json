{"status":0,"data":{"cid":"x-fzQYd-dN","authorUid":"bd-1841183165","authorUserName":"o***趣","title":"地图","description":"区域分析","latestVersion":9,"alwaysLatest":1,"createTime":"2019-07-10T08:47:56.000Z","lastUpdateTime":"2019-07-10T08:47:56.000Z","auth":2,"uid":"bd-1841183165","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-23T06:41:54.000Z","code":"var data2 = [{\n        name: '西藏',\n        value: 54\n    }, {\n        name: '广西',\n        value: 9\n    }, {\n        name: '贵州',\n        value: 14\n    }, {\n        name: '甘肃',\n        value: 2\n    }, {\n        name: '北京',\n        value: 11\n    }, {\n        name: '江苏',\n        value: 15\n    }]\n\n\n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                });\n            }\n        }\n        // 有数据的地区的名称和value值\n        return res;\n    };\nlet geoCoordMap = {\n    '上海': [121.4648, 31.2891],\n    '浙江': [119.5313, 29.8773],\n    \"江苏\": [118.8062, 31.9208],\n    '北京': [116.4551, 40.2539],\n    \"天津\": [117.4219, 39.4189],\n    \"甘肃\": [103.5901, 36.3043],\n    \"贵州\": [106.6992, 26.7682],\n    \"广西\": [108.479, 23.1152],\n    \"江西\": [116.0046, 28.6633],\n    \"西藏\": [91.11, 29.97],\n};\n\nvar alirl = [\n    [\n        [103.5901, 36.3043],\n        [108.479, 23.1152]\n    ],\n    [\n        [116.4551, 40.2539],\n        [108.479, 23.1152]\n    ],\n    [\n        [116.4551, 40.2539],\n        [91.11, 29.97]\n    ],\n    [\n        [116.4551, 40.2539],\n        [106.6992, 26.7682]\n    ],\n    [\n        [108.479, 23.1152],\n        [118.8062, 31.9208]\n    ],\n]\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    // console.log(res)\n    return res;\n};\noption = {\n    backgroundColor: '#000',\n    title: {\n        text: '中国',\n        x: 'left',\n        top: \"10\",\n        textStyle: {\n            color: '#fff',\n            fontSize: 14\n        }\n    },\n    tooltip: {\n        show: true,\n        formatter: (params) => {\n            let data = params.name + \"<br/>\" + \"数量:\" + params.value[2] + \"<br/>\" + \"坐标:[\" + params.value[0] + \",\" + params.value[1] + \"]\";\n            return data;\n        },\n    },\n    visualMap: [{\n        show: false,\n        type: 'continuous',\n        seriesIndex: 0,\n        text: ['bar3D'],\n        calculable: true,\n        max: 300,\n        inRange: {\n            color: ['#9ff32b', '#9ff32b'] //柱图配色\n        }\n    }, {\n        show: false,\n        type: 'continuous',\n        seriesIndex: 1,\n        text: ['scatter3D'],\n        left: 'right',\n        max: 100,\n        calculable: true,\n        inRange: {\n            color: ['#0f0', 'blue', 'purple'] //气泡配色\n        }\n    }], \n    geo3D: {\n        map: 'china',\n        roam: true,\n        itemStyle: {\n            areaColor: '#364064', // 地图配色\n            opacity: 1,\n            borderWidth: 0.4,\n            borderColor: '#9da8d4' // 地图边配色\n        },\n        label: {\n            show: true,\n            textStyle: {\n                color: '#fff', //地图初始化区域字体颜色\n                fontSize: 12,\n                opacity: 1,\n                backgroundColor: 'rgba(0,23,11,0)'\n            },\n        },\n        emphasis: { //当鼠标放上去  地区区域是否显示名称\n            itemStyle: {\n                areaColor: '#323a57', // 鼠标移入地图配色\n            },\n            label: {\n                show: true,\n                textStyle: {\n                    color: '#fff',\n                    fontSize: 3,\n                    backgroundColor: 'rgba(0,23,11,0)'\n                }\n            }\n        },\n        //shading: 'lambert',\n        light: { //光照阴影\n            main: {\n                color: '#fff', //光照颜色\n                intensity: 1.2, //光照强度\n                //shadowQuality: 'high', //阴影亮度\n                shadow: false, //是否显示阴影\n                alpha: 60,\n                beta: 60\n\n            },\n            ambient: {\n                intensity: 0.3\n            }\n        }\n    },\n    series: [\n        //柱状图\n        {\n            name: 'bar3D',\n            type: \"bar3D\",\n            coordinateSystem: 'geo3D',\n            barSize: 1.5, //柱子粗细\n            shading: 'lambert',\n            opacity: 1,\n            bevelSize: 0.3,\n            label: {\n                show: false,\n                formatter: '{b}'\n            },\n            data: convertData([{\n                name: \"北京\",\n                value: (Math.random() * 300).toFixed(2)\n            }, {\n                name: \"甘肃\",\n                value: (Math.random() * 300).toFixed(2)\n            }, {\n                name: \"江苏\",\n                value: (Math.random() * 300).toFixed(2)\n            }, {\n                name: \"贵州\",\n                value: (Math.random() * 300).toFixed(2)\n            }, {\n                name: \"广西\",\n                value: (Math.random() * 300).toFixed(2)\n            }, {\n                name: \"西藏\",\n                value: (Math.random() * 300).toFixed(2)\n            }]),\n        },\n\n\n        {\n            name: 'scatter3D',\n            type: \"scatter3D\",\n            coordinateSystem: 'geo3D',\n            symbol: 'pin',\n            symbolSize: 30,\n            opacity: 1,\n            // label: {\n            //     show: true,\n            //     formatter: '{b}'\n            // },\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 19,\n                    }\n                }\n            },\n            itemStyle: {\n                borderWidth: 0.5,\n                borderColor: '#0f0',\n                normal: {\n                    color: '#f00', //标志颜色\n                }\n            },\n            // data: convertData([ //气泡\n            //     {\n            //         name: \"北京\",\n            //         value: ((Math.random() * 100) + 10).toFixed(12)\n            //     },\n            // ])\n            zlevel: 6,//zlevel默认值是0，zlevel = -1，隐藏grid面板之下，会被坐标轴线切割\n            data: convertData(data2)\n        },\n\n\n        //画线\n\n        {\n            type: 'lines3D',\n\n            coordinateSystem: 'geo3D',\n\n            effect: {\n                show: true,\n                period: 2, //箭头指向速度，值越小速度越快\n                trailLength: 0.05, //特效尾迹长度[0,1]值越大，尾迹越长重\n                symbol: 'arrow', //箭头图标\n                symbolSize: 5, //图标大小\n            },\n\n            blendMode: 'lighter',\n\n            lineStyle: {\n                width: 1.5,\n                opacity: 0.5,\n                normal: {\n                    color: '#1deab7',\n                    width: 2, //尾迹线条宽度\n                    opacity: 1, //尾迹线条透明度\n                    curveness: -0.3 //尾迹线条曲直度\n                }\n            },\n\n            data: alirl\n        },\n    ]\n};","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-1841183165","theme":"","layout":"","viewCount":3784,"userName":"o***趣","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-fzQYd-dN.png?v=1562748477677","isCustomThumbnail":1,"builtinTags":["category-work","geo3D","series-bar3D","series-lines3D","series-scatter3D","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"o***趣"}}