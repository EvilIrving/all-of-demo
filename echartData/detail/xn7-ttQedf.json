{"status":0,"data":{"cid":"xn7-ttQedf","authorUid":"obd-o2KqCu5Q2OS64ZuBjYNS1e2R3NhuS6R","authorUserName":"点***y","title":"动态环图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-11-19T10:23:31.000Z","lastUpdateTime":"2020-11-19T10:23:31.000Z","auth":2,"uid":"obd-o2KqCu5Q2OS64ZuBjYNS1e2R3NhuS6R","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-11-19T10:25:48.000Z","code":"var list = [{\n    axlesTypeRate: 10,\n    axlesType: 2\n}, {\n    axlesTypeRate: 20,\n    axlesType: 3\n}, {\n    axlesTypeRate: 30,\n    axlesType: 4\n}, {\n    axlesTypeRate: 30,\n    axlesType: 5\n}, {\n    axlesTypeRate: 10,\n    axlesType: 6\n}]\nvar colors = ['#4EDAAE', '#D84646', '#FDC444', '#188AE0', '#FB8A64']\nvar index = 0,\n    timer = null\nvar rich = {\n    white: {\n        color: '#ddd',\n        align: 'center',\n        padding: [6, 0]\n    }\n}\nvar placeHolderStyle = {\n    normal: {\n        label: {\n            show: false\n        },\n        labelLine: {\n            show: false\n        },\n        color: 'rgba(0, 0, 0, 0)',\n        borderColor: 'rgba(0, 0, 0, 0)',\n        borderWidth: 0\n    }\n}\nvar data = []\nfor (var i = 0; i < list.length; i++) {\n    data.push({\n        value: list[i].axlesTypeRate,\n        name: list[i].axlesType + '轴车型',\n        itemStyle: {\n            normal: {\n                borderWidth: 5,\n                shadowBlur: 10,\n                color: colors[+list[i].axlesType - 2],\n                borderColor: colors[+list[i].axlesType - 2],\n                shadowColor: 'rgba(255, 255, 255, 0.1)'\n            }\n        }\n    }, {\n        value: 3,\n        name: '',\n        itemStyle: placeHolderStyle\n    })\n}\nvar series = [{\n    name: '',\n    type: 'pie',\n    clockWise: false,\n    radius: [180, 176],\n    hoverAnimation: true,\n    avoidLabelOverlap: true,\n    hoverOffset: 10,\n    itemStyle: {\n        normal: {\n            label: {\n                show: false,\n                position: 'outside',\n                color: '#ddd',\n                rich: rich\n            },\n            labelLine: {\n                show: false\n            }\n        }\n    },\n    data: data\n}]\nvar option = {\n    backgroundColor: 'transparent',\n    tooltip: {\n        show: false\n    },\n    legend: {\n        show: false\n    },\n    toolbox: {\n        show: false\n    },\n    series: series\n}\nmyChart.setOption(option)\ncirculation()\nfunction circulation() {\n    timer && window.clearTimeout(timer)\n    if (list.length === 0) return\n    const len = (list.length - 1) * 2\n    // 取消高亮指定的数据图形\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: index === 0 ? len : index - 2\n    })\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: index\n    })\n    if (index >= len) {\n        index = 0\n    } else {\n        index = index + 2\n    }\n    timer = window.setTimeout(function() {\n        circulation()\n    }, 3000)\n}\nmyChart.on('mouseover', function(params) {\n    if (params.dataIndex % 2 !== 0) return\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: index - 2\n    })\n    if (params.dataIndex !== index) {\n        index = params.dataIndex + 2\n    }\n    timer && clearTimeout(timer)\n})\nmyChart.on('mouseout', function() { // 点击事件\n    circulation()\n})","html":"","externalScripts":"","updaterUID":"obd-o2KqCu5Q2OS64ZuBjYNS1e2R3NhuS6R","theme":"","layout":"","viewCount":86,"userName":"点***y","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xn7-ttQedf.png?v=1605781548207","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","toolbox","tooltip"],"customTags":[],"updaterUserName":"点***y"}}