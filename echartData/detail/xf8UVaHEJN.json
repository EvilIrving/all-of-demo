{"status":0,"data":{"cid":"xf8UVaHEJN","authorUid":"bd-1768347336","authorUserName":"哈***伴","title":"多層bar的tooltip同時顯示數值、百分比、圖例","description":"原本多層的柱狀圖只能顯示數值\n這個tooltip的formatter可以\n同時顯示數值與百分比，並顯示顏色圖例","latestVersion":2,"alwaysLatest":1,"createTime":"2019-05-31T06:59:25.000Z","lastUpdateTime":"2019-05-31T06:59:25.000Z","auth":2,"uid":"bd-1768347336","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-05-31T07:02:34.000Z","code":"option = {\n    color: ['#ffb1bc', '#ff737f', '#ff4f5c', '#C9001B', '#AE051C'],\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(obj) {\n            let total = 0;\n            let str = '';\n            for (let i = 0; i < obj.length; i++) {\n                total += obj[i]['value'];\n            }\n            for (let i = 0; i < obj.length; i++) {\n                str = str + '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + obj[i]['color'] + ';\"></span>' + ' ' +\n                    obj[i]['seriesName'] + ' : ' + obj[i]['value'] +\n                    ' (' + (obj[i]['value'] / total * 100).toFixed(1) + ' %)' + '</br>'\n            }\n            return str;\n        }\n    },\n    xAxis: {\n        name: '月份',\n        type: 'category',\n        data: ['2019-01', '2019-02', '2019-03', '2019-04']\n    },\n    yAxis: {\n        name: '張',\n        type: 'value',\n        axisLabel: {\n            show: true,\n            interval: 'auto',\n            formatter: '{value}'\n        },\n    },\n    series: [{\n                type: 'bar',\n                stack: '總量',\n                name: '全票',\n                barWidth: '40px',\n                data: [30, 29, 31, 33],\n            },\n            {\n                type: 'bar',\n                stack: '總量',\n                name: '半票',\n                barWidth: '40px',\n                data: [30, 31, 39, 37],\n            },\n            {\n                type: 'bar',\n                stack: '總量',\n                name: '學生票',\n                barWidth: '40px',\n                data: [30, 20, 30, 30],\n            },\n            {\n                type: 'bar',\n                stack: '總量',\n                name: '身障票',\n                barWidth: '40px',\n                data: [10, 10, 10, 10],\n            },\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1768347336","theme":"","layout":"","viewCount":91,"userName":"哈***伴","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xf8UVaHEJN.png?v=1559286154982","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"哈***伴"}}