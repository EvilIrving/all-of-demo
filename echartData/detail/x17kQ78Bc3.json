{"status":0,"data":{"cid":"x17kQ78Bc3","authorUid":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","authorUserName":"衰***命","title":"","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-08-04T02:02:35.000Z","lastUpdateTime":"2021-08-13T09:38:47.000Z","auth":2,"uid":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-08-13T09:38:47.000Z","code":"var getmydmc = [\n    '市政工程技术',\n    '工程欠造价',\n    '财务管理',\n    '林业技术',\n    '市场营销',\n    '建设工程管理',\n    '食品加工技术',\n    '数据媒体应用技术',\n    '广告设计与制作',\n    '工商企业管理',\n    '建设工程管理',\n    '食品加工技术',\n    '数据媒体应用技术',\n    '广告设计与制作',\n    '工商企业管理',\n];\nvar getmyd = [\n    745208,\n    720422,\n    16502103,\n    596345,\n    1552301,\n    498537,\n    395346,\n    293450,\n    186455,\n    170240,\n    152436,\n    120356,\n    109634,\n    90345,\n    57352,\n];\nvar getmyd1 = [\n    74528,\n    72042,\n    65013,\n    59645,\n    55201,\n    49837,\n    39346,\n    29450,\n    16455,\n    17020,\n    15236,\n    10356,\n    19634,\n    9345,\n    5352,\n];\nvar dataZoomshow='';\nif(getmydmc.length>10){\n   dataZoomshow=true \n}else{\n   dataZoomshow=false   \n}\nvar getpm = [];\nfor (let i = 0; i < getmydmc.length; i++) {\n    getpm[i]=1+i;\n}\nvar getmydzd = [];\nfor (let i = 0; i < getmyd.length; i++) {\n    getmydzd.push(100);\n}\n//计算最大值  \nfunction calMax(arr) {\n    let max = 0;\n    arr.forEach((el) => {\n        el.forEach((el1) => {\n            if (!(el1 === undefined || el1 === '')) {\n                if (max < el1) {\n                    max = el1;\n                }\n            }\n        })\n    })\n    let maxint = Math.ceil(max / 9.5);\n    //不让最高的值超过最上面的刻度    \n    let maxval = maxint * 10;\n    //让显示的刻度是整数    \n    return maxval;\n}\nvar max = Math.ceil(calMax([getmyd]) / 100) * 100;\noption = {\n    backgroundColor: '#0B1730',\n    legend: {\n\t\tdata: ['售后订单数','出货单数'],\n        right: \"2%\",\n\t\ttop:\"1%\",\n        textStyle: {\n            color: \"#A1D5FF\",\n\t\t\tfontSize: 13\n        }, \n\t\titemWidth: 13,  // 设置宽度\n\t\titemHeight:13, // 设置高度\n\t\titemGap: 12 // 设置间距\n    },\n    grid: {\n        left: '60',\n        right: '100',\n        bottom: '3%',\n        top: '5%',\n    },\n        dataZoom: [{\n        show: dataZoomshow,\n        zoomLock: true, //禁止拉伸\n        width: 8,\n        yAxisIndex: [0,1],\n        bottom: 30,\n        top: 30,\n        right: 10,\n        startValue: 0,\n        endValue: 9,\n        handleIcon: \"M-292,322.2c-3.2,0-6.4-0.6-9.3-1.9c-2.9-1.2-5.4-2.9-7.6-5.1s-3.9-4.8-5.1-7.6c-1.3-3-1.9-6.1-1.9-9.3c0-3.2,0.6-6.4,1.9-9.3c1.2-2.9,2.9-5.4,5.1-7.6s4.8-3.9,7.6-5.1c3-1.3,6.1-1.9,9.3-1.9c3.2,0,6.4,0.6,9.3,1.9c2.9,1.2,5.4,2.9,7.6,5.1s3.9,4.8,5.1,7.6c1.3,3,1.9,6.1,1.9,9.3c0,3.2-0.6,6.4-1.9,9.3c-1.2,2.9-2.9,5.4-5.1,7.6s-4.8,3.9-7.6,5.1C-285.6,321.5-288.8,322.2-292,322.2z\",\n        handleSize: \"100%\",\n        handleStyle: {\n            color: \"#99B3FF\",\n        },\n        backgroundColor: \"transparent\",\n        fillerColor: \"#99B3FF\",\n        textStyle: {\n            color: \"transparent\",\n        },\n        dataBackground: {\n            lineStyle: {\n                color: \"transparent\",\n            },\n            areaStyle: {\n                color: \"transparent\",\n            },\n        },\n        borderColor: \"transparent\",\n    }],\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'none',\n        },\n        formatter: function (params) {\n            return params[1].name + '<br>出货单数: ' + params[1].value\n            + '<br>售后订单数: ' + params[0].value\n            + '<br>投诉率: ' + (params[0].value/params[1].value*100).toFixed(2)+'%';\n        },\n    },\n    xAxis: {\n        show: false,\n        type: 'value',\n      /*  min: 0,\n        max: max, // 计算最大值\n        interval: max / 5, //  平均分为5份\n        splitNumber: 5,*/\n    },\n    yAxis: [\n        {   \n            type: 'category',\n            inverse: true,\n            axisLabel: {\n                interval: 0,\n                textStyle: {\n                    padding: [0, 0, 40, 15],\n                    color: '#99B3FF',\n                    fontSize: '16',\n                    align: 'left',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            data: getmydmc,\n        },\n        { \n            type: 'category',\n            inverse: true,\n            position: 'left',\n            axisLabel: {\n                // interval: 0,\n                formatter: function (value) {\n                    if (value - 1 >= 0 && value - 1 < 3) {\n                        return '{text1|' + value + '}';\n                    } else {\n                        return '{text2|' + value + '}';\n                    }\n                },\n                rich: {\n                    text1: {\n                        color: 'rgba(0,252,253,0.5)',\n                        padding: [0, 5, -20, 0],\n                        fontSize: '28',\n                        fontFamily: 'DIN-Regular',\n                    },\n                    text2: {\n                        color: 'rgba(0,252,253,0.3)',\n                        padding: [0, 5, -20, 0],\n                        fontSize: '28',\n                        fontFamily: 'DIN-Regular',\n                    },\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                show: false,\n            },\n            data: getpm,\n        },\n    ],\n    series: [\n        {\n            name: \"售后订单数\",\n            type: 'bar',\n            zlevel: 1,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 2,\n                    color: '#00FCFD',\n                },\n            },\n            barWidth: 5,\n            data: getmyd1,\n            label: {\n                show: false,\n            },\n        },\n                {\n            name: \"出货单数\",\n            type: 'bar',\n            barGap:'-100%',\n            zlevel: -1,\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 2,\n                    color: '#24A8B6',\n                },\n            },\n            barWidth: 5,\n            data: getmyd,\n            label: {\n                normal: {\n                    formatter: function (p) {\n                        return  '投诉率：'+(getmyd1[p.dataIndex]/p.value*100).toFixed(2)+'%';\n                    },\n                    show: true,\n                    position: 'right',\n                    color: '#00FCFD',\n                    fontSize: 14,\n                    offset: [5, 0],\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o2-aTjNCXh_ADELOPM4d70VB1G3Oy6I","theme":"","layout":"","viewCount":0,"userName":"衰***命","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x17kQ78Bc3.png?v=1628847527728","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"衰***命"}}