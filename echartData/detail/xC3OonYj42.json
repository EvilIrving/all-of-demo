{"status":0,"data":{"cid":"xC3OonYj42","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"3dmap","description":"hover","latestVersion":9,"alwaysLatest":1,"createTime":"2020-08-13T03:54:18.000Z","lastUpdateTime":"2020-08-13T03:54:18.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.8.0","versionCreateTime":"2020-08-14T08:44:50.000Z","code":"let data = [{\r\n        name: \"北京\",\r\n        value: [116.24, 39.55, 1],\r\n\r\n    },\r\n    {\r\n        name: \"深圳\",\r\n        value: [114.271522, 22.753644,1]\r\n    },\r\n\r\n    {\r\n        name: \"重庆\",\r\n        value: [106.54, 29.59,1]\r\n    },\r\n    {\r\n        name: \"南京\",\r\n        value: [118.802891, 32.064735,1]\r\n    },\r\n\r\n]\r\n\r\n\r\nlet LableData = [{\r\n        name: \"北京\",\r\n        value: [114.24, 35.55,5],\r\n        lable: [10, 1]\r\n    },\r\n    /* {\r\n         name: \"深圳\",\r\n         value: [116.271522, 20.753644],\r\n         lable: [10, 1]\r\n     },*/\r\n    {\r\n        name: \"重庆\",\r\n        value: [108.54, 24.59,5],\r\n        lable: [10, 1]\r\n    },\r\n    {\r\n        name: \"南京\",\r\n        value: [114.78, 26.04,5],\r\n        lable: [10, 1]\r\n    },\r\n];\r\nlet dataMap = [{\r\n        name: '安徽',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '重庆',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '广东',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '北京',\r\n        value: 1,\r\n\r\n\r\n    },\r\n    {\r\n        name: '新疆',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '西藏',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '青海',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '甘肃',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '内蒙古',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '黑龙江',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '宁夏',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '四川',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '云南',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '广西',\r\n        value: 1\r\n    },\r\n\r\n    {\r\n        name: '湖南',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '贵州',\r\n        value: 1\r\n    },\r\n\r\n    {\r\n        name: '陕西',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '湖北',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '河南',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '山西',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '河北',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '山东',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '江西',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '福建',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '香港',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '台湾',\r\n        value: 1\r\n    },\r\n\r\n    {\r\n        name: '浙江',\r\n        value: 1\r\n    },\r\n\r\n    {\r\n        name: '江苏',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '天津',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '辽宁',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '吉林',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '上海',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '海南',\r\n        value: 1\r\n    },\r\n    {\r\n        name: '南海诸岛',\r\n        value: 1\r\n    },\r\n]\r\n\r\n/*for (var i = 0; i < dataMap.length; i++) {\r\n    dataMap[i].height = 20\r\n}\r\n*/\r\n\r\noption = {\r\n    geo3D: {\r\n        map: 'china',\r\n        show: true,\r\n        zlevel: -10,\r\n        boxWidth: 200,\r\n        boxHeight:30,//4:没有bar. 30:有bar,bar最高度30，按比例分配高度\r\n        regionHeight:3,\r\n        shading: 'lambert',\r\n        label: { // 标签的相关设置\r\n            show: false,\r\n        },\r\n\r\n        itemStyle: {\r\n            areaColor: '#0c294d',\r\n            opacity: 1,\r\n            borderWidth: 0.5,\r\n            borderColor: '#1cccff'\r\n        },\r\n        emphasis: {\r\n            label: {\r\n                show: true,\r\n\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: 14,\r\n                    backgroundColor: 'transparent' // 字体背景色\r\n                }\r\n            },\r\n             borderColor:'#333',\r\n                borderWidth:5,\r\n            itemStyle: {\r\n                areaColor: '#fff',\r\n               \r\n            }\r\n        },\r\n        light: {\r\n            main: {\r\n\r\n                shadow: true,\r\n                shadowQuality: 'ultra',\r\n            },\r\n\r\n        },\r\n        regions: [{\r\n                name: '广东',\r\n                height: 3,\r\n                itemStyle: {\r\n                    // areaColor: '#fff',\r\n\r\n                },\r\n                emphasis: {\r\n\r\n                },\r\n            },\r\n            {\r\n                name: '北京',\r\n                height: 3,\r\n                itemStyle: {\r\n\r\n                }\r\n            },\r\n            {\r\n                name: '江苏',\r\n                height: 3,\r\n                itemStyle: {\r\n\r\n                }\r\n            },\r\n            {\r\n                name: '重庆',\r\n                height: 3,\r\n                itemStyle: {\r\n\r\n                }\r\n            },\r\n        ],\r\n\r\n\r\n        viewControl: {\r\n            projection: 'perspective',\r\n            autoRotate: false,\r\n            damping: 0,\r\n            rotateSensitivity: 2,//旋转操作的灵敏度\r\n            rotateMouseButton: 'left', //旋转操作使用的鼠标按键\r\n            zoomSensitivity:2, //缩放操作的灵敏度\r\n            panSensitivity:2, //平移操作的灵敏度\r\n            panMouseButton: 'right', //平移操作使用的鼠标按键\r\n            \r\n            distance: 150, //默认视角距离主体的距离\r\n           center:[0,0,0],\r\n           \r\n            animation: true,\r\n            animationDurationUpdate: 1000,\r\n            animationEasingUpdate: 'cubicInOut'\r\n        },\r\n\r\n\r\n    },\r\n    \r\n    series: [\r\n        // 区域散点图\r\n        {\r\n            type: 'scatter3D',\r\n            coordinateSystem: 'geo3D',\r\n            zlevel: 3,\r\n            symbol: 'circle',\r\n            symbolSize: 10,\r\n            rippleEffect: { //坐标点动画\r\n                period: 3,\r\n                scale: 5,\r\n                brushType: 'fill'\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'right',\r\n                    formatter: '{b}',\r\n                    \r\n                    textStyle: {\r\n                        color: '#fff',\r\n                        // borderWidth: 1,\r\n                        // borderColor: 'red',\r\n                        fontWeight: \"bold\",\r\n                        fontSize: 16,\r\n                        backgroundColor: 'transparent' // 字体背景色\r\n                    },\r\n\r\n                }\r\n            },\r\n\r\n            data: data,\r\n            itemStyle: { //坐标点颜色\r\n                normal: {\r\n                    show: true,\r\n                    color: '#c0e6f2',\r\n                    shadowBlur: 20,\r\n                    shadowColor: '#fff'\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#f00'\r\n                }\r\n            },\r\n\r\n        },\r\n        //lable\r\n        { \r\n            name: 'lable',\r\n            type: 'scatter3D',\r\n            coordinateSystem: 'geo3D',\r\n            symbol: 'pin',\r\n            symbolSize: [50, 20],\r\n            hoverAnimation: true,\r\n            zlevel: 2,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    textStyle: {\r\n                        color: \"#fff8a8\",\r\n                        fontSize: 14,\r\n                        fontWeight: 'bold',\r\n                        lineHeight: 15,\r\n                        backgroundColor: 'transparent' // 字体背景色\r\n\r\n                    },\r\n                    formatter: function(params) {\r\n\r\n                        return params.data.lable[0] + \"G\" + '/' + params.data.lable[1] + \"G\"\r\n                    }\r\n                }\r\n            },\r\n\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'transparent', //标志颜色\r\n                    opacity: 1,\r\n\r\n                }\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            data: LableData,\r\n\r\n\r\n        },\r\n        // 线 和 点\r\n        {\r\n            type: 'lines3D',\r\n            coordinateSystem: 'geo3D',\r\n            zlevel: 1, //设置这个才会有轨迹线的小尾巴\r\n            polyline: false,\r\n            effect: {\r\n                show: true,\r\n                period: 10,\r\n                trailLength: 0.1,\r\n                trailColor: 'red',\r\n                color: '#fff', //流动点颜色\r\n                symbol: 'arrow',\r\n                symbolSize: 6\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    color: '#e4ff00', //线条颜色\r\n                    width: 2,\r\n                    curveness: 0.5,\r\n                    shadowColor: '#fff',\r\n                }\r\n            },\r\n            blendMode: 'lighter',\r\n            data: [{\r\n\r\n                    fromName: \"深圳\",\r\n                    toName: \"北京\",\r\n                    coords: [\r\n                        [114.271522, 22.753644,1],\r\n                        [116.24, 39.55, 1],\r\n\r\n\r\n\r\n                    ]\r\n                },\r\n                {\r\n\r\n                    fromName: \"深圳\",\r\n                    toName: \"南京\",\r\n                    coords: [\r\n                        [114.271522, 22.753644,1],\r\n                        [118.802891, 32.064735, 1],\r\n\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    fromName: \"深圳\",\r\n                    toName: \"重庆\",\r\n                    coords: [\r\n                        [114.271522, 22.753644, 1],\r\n                        [106.54, 29.59,1],\r\n\r\n                    ]\r\n                }\r\n            ],\r\n\r\n        },\r\n        //bar\r\n        {\r\n            type: 'bar3D',\r\n            coordinateSystem: 'geo3D',\r\n            zlevel: 3,\r\n            barSize: 3, //柱子粗细\r\n            shading: 'lambert',\r\n            itemStyle: {\r\n                color: '#67ebc0'\r\n            },\r\n            label: {\r\n                show: true,\r\n                position: 'top',\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    backgroundColor: 'transparent'\r\n                },\r\n                formatter: function(params) {\r\n\r\n                    return params.value[2]\r\n                }\r\n\r\n            },\r\n            data: [\r\n                {\r\n                    name: '数据1',\r\n                    value: [118.802891, 32.064735, 200]\r\n                },\r\n                {\r\n                    name: '数据2',\r\n                    value: [106.54, 29.59, 80]\r\n                },\r\n                {\r\n                    name: '数据3',\r\n                    value: [116.24, 39.55, 500]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\nmyChart.on('mouseover', function(params) {\r\n    let option = myChart.getOption();\r\n    if (params.name == '深圳') {\r\n        if (option.geo3D[0].regions[0].height !== 5) {\r\n            option.geo3D[0].regions[0].height = 5;\r\n            option.geo3D[0].regions[0].itemStyle.areaColor = '#fff';\r\n            myChart.setOption(option)\r\n        }\r\n\r\n    } else if (params.name == '北京') {\r\n        if (option.geo3D[0].regions[1].height !== 5) {\r\n            option.geo3D[0].regions[1].height = 5;\r\n            option.geo3D[0].regions[1].itemStyle.areaColor = '#fff';\r\n            myChart.setOption(option)\r\n        }\r\n\r\n    } else if (params.name == '南京') {\r\n        if (option.geo3D[0].regions[2].height !== 5) {\r\n            option.geo3D[0].regions[2].height = 5;\r\n            option.geo3D[0].regions[2].itemStyle.areaColor = '#fff';\r\n            myChart.setOption(option)\r\n        }\r\n\r\n    } else if (params.name == '重庆') {\r\n        if (option.geo3D[0].regions[3].height !== 5) {\r\n            option.geo3D[0].regions[3].height = 5;\r\n            option.geo3D[0].regions[3].itemStyle.areaColor = '#fff';\r\n            myChart.setOption(option)\r\n        }\r\n\r\n    } else {\r\n\r\n        if (option.geo3D[0].regions[0].height == 5) {\r\n            option.geo3D[0].regions[0].height = 3;\r\n            option.geo3D[0].regions[0].itemStyle = {}\r\n            myChart.setOption(option)\r\n        } else if (option.geo3D[0].regions[1].height == 5) {\r\n            option.geo3D[0].regions[1].height = 3;\r\n            option.geo3D[0].regions[1].itemStyle = {}\r\n            myChart.setOption(option)\r\n        } else if (option.geo3D[0].regions[2].height == 5) {\r\n            option.geo3D[0].regions[2].height = 3;\r\n            option.geo3D[0].regions[2].itemStyle = {}\r\n            myChart.setOption(option)\r\n        } else if (option.geo3D[0].regions[3].height == 5) {\r\n            option.geo3D[0].regions[3].height = 3;\r\n            option.geo3D[0].regions[3].itemStyle = {}\r\n            myChart.setOption(option)\r\n        }\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n/*myChart.on('mouseover', function(params) {\r\n    let option = myChart.getOption();\r\n    if (params.name == '北京') {\r\n        option.series[0].data[3].height = 10;\r\n        option.series[0].data[3].value = 2;\r\n\r\n        // option.series[0].data[3].itemStyle.color = '#ddb314'\r\n        myChart.setOption(option)\r\n\r\n\r\n    } else if (params.name == '安徽') {\r\n        option.series[0].data[0].height = 10;\r\n        option.series[0].data[0].value = 2;\r\n        myChart.setOption(option)\r\n\r\n\r\n    } else if (params.name == '重庆') {\r\n        // console.log(params.name)\r\n        option.series[0].data[1].height = 10;\r\n        option.series[0].data[1].value = 2;\r\n        myChart.setOption(option)\r\n\r\n\r\n    } else if (params.name == '广东') {\r\n        option.series[0].data[2].height = 10;\r\n        option.series[0].data[2].value = 2;\r\n        myChart.setOption(option)\r\n\r\n    } else {\r\n        if (option.series[0].data[3].height == 10) {\r\n            option.series[0].data[3].height = 5;\r\n            option.series[0].data[3].value = 1;\r\n            myChart.setOption(option)\r\n        } else if (option.series[0].data[0].height == 10) {\r\n            option.series[0].data[0].height = 5;\r\n            option.series[0].data[0].value = 1;\r\n            myChart.setOption(option)\r\n        } else if (option.series[0].data[1].height == 10) {\r\n            option.series[0].data[1].height = 5;\r\n            option.series[0].data[1].value = 1;\r\n            myChart.setOption(option)\r\n        } else if (option.series[0].data[2].height == 10) {\r\n            option.series[0].data[2].height = 5;\r\n            option.series[0].data[2].value = 1;\r\n            myChart.setOption(option)\r\n        }\r\n\r\n\r\n    }\r\n    \r\n});*/\r\n\r\n\r\n/*\r\nmyChart.on('click', function(params) {\r\n    let option = myChart.getOption(); //option.series[0].data.length\r\n    if (params.name == '广东') {\r\n        // console.log()   option.visualMap[0].inRange.color[0] = 'rgba(136,133,133 ,0.5)';\r\n\r\n\r\n        for (var i = 0; i < option.series[0].data.length; i++) {\r\n            if (option.series[0].data[i].name !== '广东') {\r\n                option.series[0].data[i].value = 3;\r\n                console.log(option.series[0].data[i].value)\r\n                myChart.setOption(option)\r\n            }\r\n        }\r\n    }\r\n});*/","html":"","externalScripts":"https://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js,/dep/echarts/map/js/china.js","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":5124,"userName":"绿***绿","commentCount":0,"starCount":30,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xC3OonYj42.png?v=1597290858863","isCustomThumbnail":1,"builtinTags":["category-work","geo3D","series-lines3D","series-scatter3D"],"customTags":[],"updaterUserName":"绿***绿"}}