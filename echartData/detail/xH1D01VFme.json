{"status":0,"data":{"cid":"xH1D01VFme","authorUid":"bd-1264881593","authorUserName":"曾***心","title":"随机动态条形图","description":"动态 条形图","latestVersion":8,"alwaysLatest":1,"createTime":"2016-12-10T07:33:34.000Z","lastUpdateTime":"2016-12-10T07:33:34.000Z","auth":1,"uid":"bd-1264881593","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"3.5.4","versionCreateTime":"2017-05-23T13:57:44.000Z","code":"var chartdata1 = [355.5, 255.5, 155.5, 55.5];\r\n\r\nvar dataname = ['part1', 'part2', 'part3', 'part4'];\r\nvar unitname ='￥'\r\nvar Name = ['value'];\r\nvar colortype = ['#3398DB'];\r\n//var colortype=['rgb(255,217,0)', 'rgb(255,74,74)', 'rgb(36,51,249)'];\r\n\r\ndv1 = chartdata1;\r\n//function getchartdata1(){\r\n//    return dv1;\r\n//}\r\nfunction getchartdata1() {\r\n    var c1 = Math.round(255 - 0.5 * dv1[0]);\r\n    var mainColor1 = 'rgb(50,' + c1 + ',' + 210 + ')';\r\n\r\n    var c2 = Math.round(255 - 0.5 * dv1[1]);\r\n    var mainColor2 = 'rgb(50,' + c2 + ',' + 210 + ')';\r\n\r\n    var c3 = Math.round(255 - 0.5 * dv1[2]);\r\n    var mainColor3 = 'rgb(50,' + c3 + ',' + 210 + ')';\r\n\r\n    var c4 = Math.round(255 - 0.5 * dv1[3]);\r\n    var mainColor4 = 'rgb(50,' + c4 + ',' + 210 + ')';\r\n\r\n    return [{\r\n        value: dv1[0],\r\n        itemStyle: {\r\n            normal: {\r\n                color: mainColor1,\r\n            }\r\n        }\r\n    }, {\r\n        value: dv1[1],\r\n        itemStyle: {\r\n            normal: {\r\n                color: mainColor2,\r\n            }\r\n        }\r\n    }, {\r\n        value: dv1[2],\r\n        itemStyle: {\r\n            normal: {\r\n                color: mainColor3,\r\n            }\r\n        }\r\n    }, {\r\n        value: dv1[3],\r\n        itemStyle: {\r\n            normal: {\r\n                color: mainColor4,\r\n            }\r\n        }\r\n    }];\r\n}\r\n\r\nvar option = {\r\n    color: colortype,\r\n    legend: {\r\n        y: 'top',\r\n        right: '4%',\r\n        data: Name,\r\n        textStyle: {\r\n            color: '#000',\r\n            fontWeight: '600',\r\n            fontSize: 20\r\n        }\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: dataname,\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: '#000',\r\n                fontWeight: '600',\r\n                fontSize: 24,\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n            alignWithLabel: false\r\n        }\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        show: false\r\n    }, {\r\n        type: 'value',\r\n        min: -10,\r\n        max: 100,\r\n        show: false\r\n    }, ],\r\n    series: [{\r\n        name: name,\r\n        type: 'bar',\r\n        //barWidth: '60%',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: function(obj) {\r\n                    if (obj.value === 0) {\r\n                        return '';\r\n                    } else {\r\n                        return unitname+obj.value ;\r\n                    }\r\n                },\r\n                textStyle: {\r\n                    color: '#000',\r\n                    fontStyle: 'normal',\r\n                    fontWeight: '600',\r\n                    fontFamily: 'sans-serif',\r\n                    fontSize: 24,\r\n                },\r\n            },\r\n        },\r\n        data: getchartdata1(),\r\n        animationEasing: 'quarticOut',\r\n        animationDuration: 2000,\r\n        animationEasingUpdate: 'quarticOut',\r\n        animationDurationUpdate: 2500\r\n    }, ]\r\n};\r\n\r\n///////////////////////////////////////////////////\r\nsetInterval(function() {\r\n    var a1 = Math.random() * chartdata1[0];\r\n    var a2 = Math.random() * chartdata1[1];\r\n    var a3 = Math.random() * chartdata1[2];\r\n    var a4 = Math.random() * chartdata1[3];\r\n\r\n    var b1 = a1.toFixed(1);\r\n    var b2 = a2.toFixed(1);\r\n    var b3 = a3.toFixed(1);\r\n    var b4 = a4.toFixed(1);\r\n\r\n    var newdata = [b1, b2, b3, b4]\r\n\r\n    //var zerodata  =[0,0,0,0];\r\n    //var Aee = [zerodata,chartdata1];  \r\n    //var n = Math.floor(Math.random() * Aee.length + 1)-1;  \r\n    //dv1=Aee[n];\r\n    dv1 = newdata\r\n\r\n\r\n\r\n    myChart.setOption({\r\n        series: [{\r\n            name: Name,\r\n            type: 'bar',\r\n            data: getchartdata1()\r\n        }, ]\r\n    });\r\n}, 2500);","html":"","externalScripts":"","updaterUID":"bd-1264881593","theme":"","layout":"","viewCount":1505,"userName":"曾***心","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1D01VFme.png?v=1495547865159","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar"],"customTags":[],"updaterUserName":"曾***心"}}