{"status":0,"data":{"cid":"x0DCr3yvF9","authorUid":"obd-oEg7psSDQ_0KP-o3Dn4NkhFmBcdTh4Q","authorUserName":"a***i","title":"四分之三圆环 评价展示","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-23T09:28:35.000Z","lastUpdateTime":"2021-11-23T09:28:35.000Z","auth":2,"uid":"obd-oEg7psSDQ_0KP-o3Dn4NkhFmBcdTh4Q","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-23T09:28:35.000Z","code":"let cur_chart_data = [\n    {\n        name: '80分以下',\n        value: 2,\n        unit: '家',\n    },\n    {\n        name: '80-90分',\n        value: 12,\n        unit: '家',\n    },\n    {\n        name: '90分以上',\n        value: 14,\n        unit: '家',\n    },\n];\n\nlet dashedPic =\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAOBAMAAAB6G1V9AAAAD1BMVEX////Kysrk5OTj4+TJycoJ0iFPAAAAG0lEQVQ4y2MYBaNgGAMTQQVFOiABhlEwCugOAMqzCykGOeENAAAAAElFTkSuQmCC',\n    color = ['#FFC438', '#01CBCF', '#128DFE', '#009DFF'],\n    arrName = [],\n    arrValue = [],\n    sum = 0,\n    pieSeries = [],\n    lineYAxis = [],\n    chartData;\n\nchartData = cur_chart_data;\n\n// 数据处理\nchartData &&\n    chartData.forEach((v, i) => {\n        arrName.push(v.name);\n        arrValue.push(v.value);\n        sum = sum + v.value;\n    });\n\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        name: '评价',\n        type: 'pie',\n        clockWise: false,\n        hoverAnimation: false,\n        radius: [90 - i * 25 + '%', 75 - i * 25 + '%'],\n        center: ['30%', '50%'],\n        label: {\n            show: false,\n        },\n        data: [\n            { value: v.value, name: v.name },\n            {\n                value: sum - v.value,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    });\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        clockWise: false,\n        hoverAnimation: false,\n        radius: [90 - i * 25 + '%', 75 - i * 25 + '%'],\n        center: ['30%', '50%'],\n        label: {\n            show: false,\n        },\n        data: [\n            {\n                value: 7.5,\n                itemStyle: {\n                    color: '#E3F0FF',\n                },\n            },\n            {\n                value: 2.5,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    });\n    v.percent = ((v.value / sum) * 100).toFixed(1) + '%';\n    lineYAxis.push({\n        value: i,\n        textStyle: {\n            rich: {\n                circle: {\n                    color: color[i],\n                    padding: [0, 5],\n                },\n            },\n        },\n    });\n});\n\noption = {\n    grid: {\n        top: '10%',\n        bottom: '54%',\n        left: '30%',\n        containLabel: false,\n    },\n    backgroundColor: '#fff',\n    color: color,\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                top: '30%',\n                padding: [0, 0, 20, 0],\n                formatter: function (params) {\n                    let item = chartData[params];\n                    // console.log(item)\n                    return '{line|}{circle|●}{name|' + item.name + '}{value|' + item.value + '家}';\n                },\n                interval: 0,\n                inside: true,\n                textStyle: {\n                    color: '#333',\n                    fontSize: 14,\n                    rich: {\n                        line: {\n                            width: 30,\n                            height: 10,\n                            backgroundColor: { image: dashedPic },\n                        },\n                        name: {\n                            color: '#666',\n                            fontSize: 12,\n                        },\n                        value: {\n                            color: '#333',\n                            fontSize: 12,\n                            fontWeight: 'bold',\n                            padding: [0, 0, 0, 4],\n                        },\n                    },\n                },\n                show: true,\n            },\n            data: lineYAxis,\n        },\n    ],\n    xAxis: [\n        {\n            show: false,\n        },\n    ],\n    title: {\n        text: '今天天气不错',\n        textStyle: {\n            label: {\n                normal: {\n                    show: true,\n                    formatter: ['The whole box is a {term|Text Block}, with'].join('\\n'),\n                    backgroundColor: '#eee',\n                    // borderColor: '#333',\n                    borderColor: 'rgb(199,86,83)',\n                    borderWidth: 2,\n                    borderRadius: 5,\n                    padding: 10,\n                    color: '#000',\n                    fontSize: 14,\n                    shadowBlur: 3,\n                    shadowColor: '#888',\n                    shadowOffsetX: 0,\n                    shadowOffsetY: 3,\n                    lineHeight: 30,\n                    rich: {\n                        term: {\n                            fontSize: 18,\n                            color: 'rgb(199,86,83)',\n                        },\n                    },\n                },\n            },\n        },\n    },\n    series: pieSeries,\n};\n","html":"","externalScripts":"","updaterUID":"obd-oEg7psSDQ_0KP-o3Dn4NkhFmBcdTh4Q","theme":"","layout":"","viewCount":0,"userName":"a***i","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0DCr3yvF9.png?v=1637659715204","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie","title"],"customTags":[],"updaterUserName":"a***i"}}