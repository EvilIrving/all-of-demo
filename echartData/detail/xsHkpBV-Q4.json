{"status":0,"data":{"cid":"xsHkpBV-Q4","authorUid":"obd-oDCQ7fqkN-sUAGlEQ498dBly2srdv1I","authorUserName":"福***0","title":"阶梯瀑布图","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-12-03T01:53:32.000Z","lastUpdateTime":"2021-12-03T03:10:52.000Z","auth":2,"uid":"obd-oDCQ7fqkN-sUAGlEQ498dBly2srdv1I","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-03T03:10:52.000Z","code":"const color = ['#728BE1', '#71ABDB', '#A5D2E4'];\nconst data1 = [6000, 2000, 500, 200, 600, 400, 1000, 500, 800];\nconst data2 = [];\nlet temp = 0;\ndata1.map((item, index) => {\n  data2.push(temp);\n  if(index ===0){\n    temp = item\n  }\n    temp = temp - data1[index + 1];\n});\nconsole.log(data2);\noption = {\n  // 设置图表的位置\n  grid: {\n    x: 40, // 左间距\n    x2: 40, // 右间距\n    y: 80, // 上间距\n    y2: 30, // 下间距\n    // grid 区域是否包含坐标轴的刻度标签\n    // 这常用于『防止标签溢出』的场景，标签溢出指的是，标签长度动态变化时，\n    // 可能会溢出容器或者覆盖其他组件\n    containLabel: true,\n  },\n  // 图表主标题\n  title: {\n    text: '总销售额', // 主标题文本，支持使用 \\n 换行\n    top: 20, // 定位 值: 'top', 'middle', 'bottom' 也可以是具体的值或者百分比\n    left: 'center', // 值: 'left', 'center', 'right' 同上\n    textStyle: {\n      // 文本样式\n      fontSize: 24,\n      fontWeight: 600,\n      color: '#fff',\n    },\n  },\n  // 提示框组件\n  tooltip: {\n    trigger: 'axis', // 触发类型, axis: 坐标轴触发\n    textStyle: {\n      fontSize: 14,\n      color: '#494A68', // 文字颜色\n    },\n    // 提示框浮层内容格式器，支持字符串模板和回调函数两种形式\n    // 折线（区域）图、柱状（条形）图、K线图 : {a}（系列名称），{b}（类目值），{c}（数值）, {d}（无）\n    formatter: '{b1}: {c1}万',\n  },\n  // X轴\n  xAxis: {\n    type: 'category', // 坐标轴类型,  'category' 类目轴，适用于离散的类目数据，为该类型时必须通过 data 设置类目数据\n    // 坐标轴轴线\n    axisLine: {\n      lineStyle: {\n        type: 'solid', // 坐标轴线线的类型 'solid', 'dashed', 'dotted'\n        color: 'rgba(182, 183, 195, 0.38)', // 坐标轴线线的颜色\n      },\n    },\n    // 坐标轴刻度\n    axisTick: {\n      show: false,\n    },\n    // 分隔线\n    splitLine: {\n      show: true,\n    },\n    // 坐标轴刻度标签\n    axisLabel: {\n      fontSize: 14, // 文字的字体大小\n      color: '#494A68', // 刻度标签文字的颜色\n    },\n    // 类目数据，在类目轴（type: 'category'）中有效\n    data: ['总入账', '行内转账', '行外转入', '理财', '代付', '商户', '定期', '现金存入', '代发工资'],\n  },\n  // Y轴\n  yAxis: {\n    type: 'value', // 坐标轴类型,   'value' 数值轴，适用于连续数据\n    // 坐标轴在图表区域中的分隔线\n    splitLine: {\n      show: true, // 是否显示分隔线, 默认数值轴显示\n      lineStyle: {\n        type: 'solid', // 坐标轴线线的类型 'solid', 'dashed', 'dotted'\n        color: 'rgba(182, 183, 195, 0.38)', // 坐标轴线线的颜色\n      },\n    },\n    // 坐标轴轴线\n    axisLine: {\n      show: true,\n      lineStyle: {\n        type: 'solid', // 坐标轴线线的类型 'solid', 'dashed', 'dotted'\n        color: 'rgba(182, 183, 195, 0.38)', // 坐标轴线线的颜色\n      },\n    },\n    // 坐标轴刻度\n    axisTick: {\n      show: false,\n    },\n    // 坐标轴刻度标签\n    axisLabel: {\n      color: '494A68',\n    },\n  },\n  series: [\n    {\n      type: 'bar', // 系列类型\n      name: '辅助', // 系列名称, 用于tooltip的显示, legend 的图例筛选\n      // 数据堆叠，同个类目轴上系列配置相同的stack值后，后一个系列的值会在前一个系列的值上相加\n      stack: '金额',\n      // 图形样式\n      itemStyle: {\n        normal: {\n          color: 'rgba(0,0,0,0)', // 柱条的颜色\n        },\n      },\n      data: data2 // 系列中的数据内容数组\n    },\n    {\n      type: 'bar', // 系列类型\n      name: '运营管理', // 系列名称, 用于tooltip的显示, legend 的图例筛选\n      // 数据堆叠，同个类目轴上系列配置相同的stack值后，后一个系列的值会在前一个系列的值上相加\n      stack: '金额',\n      barWidth: 14, // 柱条的最大宽度，不设时自适应\n      // 图形的样式\n      itemStyle: {\n        color: (val) => {\n          return color[parseInt(val.dataIndex / 3)];\n        },\n      },\n      // 系列中的数据内容数组\n      data: data1\n    },\n  ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oDCQ7fqkN-sUAGlEQ498dBly2srdv1I","theme":"","layout":"","viewCount":0,"userName":"福***0","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xsHkpBV-Q4.png?v=1638501052660","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"福***0"}}