{"status":0,"data":{"cid":"xrkczlVnkG","authorUid":"bd-766657611","authorUserName":"晴天第二119","title":"进度条","description":"","latestVersion":8,"alwaysLatest":1,"createTime":"2017-11-17T09:46:57.000Z","lastUpdateTime":"2017-11-17T09:46:57.000Z","auth":2,"uid":"bd-766657611","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":8,"parentVersion":7,"echartsVersion":"3.8.0","versionCreateTime":"2017-11-20T08:32:48.000Z","code":"var startTime = '2001-05-03';\r\nvar endTime = '2007-05-02';\r\nvar currentTime = '2006-11-25';\r\nvar startDate = new Date(startTime.split('-')[0], startTime.split('-')[1], startTime.split('-')[2]);\r\nvar endDate = new Date(endTime.split('-')[0], endTime.split('-')[1], endTime.split('-')[2]);\r\nvar currentDate = new Date(currentTime.split('-')[0], currentTime.split('-')[1], currentTime.split('-')[2]);\r\nvar es = endDate.getTime() - startDate.getTime();\r\nvar cs = currentDate.getTime() - startDate.getTime();\r\n\r\nvar payTime0 = '2002-11-11';\r\nvar payDate0 = new Date(payTime0.split('-')[0], payTime0.split('-')[1], payTime0.split('-')[2]);\r\nvar p0_s = payDate0.getTime() - startDate.getTime();\r\n\r\nvar payTime1 = '2005-05-02';\r\nvar payDate1 = new Date(payTime1.split('-')[0], payTime1.split('-')[1], payTime1.split('-')[2]);\r\nvar p1_s = payDate1.getTime() - startDate.getTime();\r\n\r\nvar payTime2 = '2006-08-22';\r\nvar payDate2 = new Date(payTime2.split('-')[0], payTime2.split('-')[1], payTime2.split('-')[2]);\r\nvar p2_s = payDate2.getTime() - startDate.getTime();\r\n\r\nvar payTime3 = '2007-01-31';\r\nvar payDate3 = new Date(payTime3.split('-')[0], payTime3.split('-')[1], payTime3.split('-')[2]);\r\nvar p3_s = payDate3.getTime() - startDate.getTime();\r\n\r\nvar progressValueC = Math.round((cs / es) * 100);\r\nvar progressValue0 = Math.round((p0_s / es) * 100);\r\nvar progressValue1 = Math.round((p1_s / es) * 100);\r\nvar progressValue2 = Math.round((p2_s / es) * 100);\r\nvar progressValue3 = Math.round((p3_s / es) * 100);\r\n\r\noption = {\r\n    tooltip: {\r\n        //formatter: '<font color=\"#FF0000\" size=3 block style=\" font-weight:800\">点击</font>进度条上方的各个付款日点以确认该节点已付款成功',\r\n        showContent: false,\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow',\r\n            shadowStyle: {\r\n                opacity: 0\r\n            }\r\n        }\r\n    },\r\n    xAxis: {\r\n        min: startTime,\r\n        type: 'time',\r\n        show: false\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        data: ['进度'],\r\n        show: false\r\n    },\r\n    series: [{\r\n        name: '计划开始时间',\r\n        type: 'bar',\r\n        barWidth: 20,\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insidRight'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'diamond',\r\n            symbolSize: 40,\r\n            data: [{\r\n                coord: [startTime, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                barBorderColor: '#0000',\r\n                color: '#0000'\r\n            },\r\n            emphasis: {\r\n                barBorderColor: '#0000',\r\n                color: '#0000'\r\n            }\r\n        },\r\n        data: [startTime]\r\n    }, {\r\n        name: '进度0',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideRight',\r\n                formatter: progressValue0 + '%'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'triangle',\r\n            symbolOffset: [0, '80%'],\r\n            symbolSize: 30,\r\n            data: [{\r\n                coord: [payTime0, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#00D020',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#00D020'\r\n            }, //emphasis//#30E939\r\n            emphasis: {\r\n                color: '#00D020',\r\n                shadowBlur: 7,\r\n                shadowColor: '#00D020'\r\n            }\r\n        },\r\n        data: [payTime0]\r\n    }, {\r\n        name: '进度1',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideRight',\r\n                formatter: progressValue1 + '%'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'triangle',\r\n            symbolOffset: [0, '80%'],\r\n            symbolSize: 30,\r\n            data: [{\r\n                coord: [payTime1, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#00D020',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#00D020'\r\n            }, //emphasis//#30E939\r\n            emphasis: {\r\n                color: '#00D020',\r\n                shadowBlur: 7,\r\n                shadowColor: '#00D020'\r\n            }\r\n        },\r\n        data: [payTime1]\r\n    }, {\r\n        name: '进度2',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideRight',\r\n                formatter: progressValue2 + '%'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'triangle',\r\n            symbolOffset: [0, '80%'],\r\n            symbolSize: 30,\r\n            data: [{\r\n                coord: [payTime2, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#DD1111',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#DD1111'\r\n            },\r\n            emphasis: {\r\n                color: '#EE3333',\r\n                shadowBlur: 15,\r\n                shadowColor: '#EE3333'\r\n            }\r\n        },\r\n        data: [payTime2]\r\n    }, {\r\n        name: '当前',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideRight',\r\n                formatter: progressValueC + '%'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'pin',\r\n            symbolOffset: [0, '-15%'],\r\n            data: [{\r\n                coord: [currentTime, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#DD1111',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#DD1111'\r\n            },\r\n            emphasis: {\r\n                color: '#EE3333',\r\n                shadowBlur: 15,\r\n                shadowColor: '#EE3333'\r\n            }\r\n        },\r\n        data: [currentTime]\r\n    }, {\r\n        name: '进度3',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'insideRight',\r\n                formatter: progressValue3 + '%'\r\n            }\r\n        },\r\n        markPoint: {\r\n            symbol: 'triangle',\r\n            symbolOffset: [0, '80%'],\r\n            symbolSize: 30,\r\n            data: [{\r\n                coord: [payTime3, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#007EBA',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#007EBA'\r\n            },\r\n            emphasis: {\r\n                color: '#009EDA',\r\n                shadowBlur: 15,\r\n                shadowColor: '#009EDA'\r\n            }\r\n        },\r\n        data: [payTime3]\r\n    }, {\r\n        name: '计划结束时间',\r\n        type: 'bar',\r\n        stack: '总量',\r\n        markPoint: {\r\n            symbol: 'diamond',\r\n            symbolSize: 40,\r\n            data: [{\r\n                coord: [endTime, '进度'],\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: '#666666'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#007EBA',\r\n                barBorderRadius: 4,\r\n                shadowBlur: 7,\r\n                shadowColor: '#007EBA'\r\n            },\r\n            emphasis: {\r\n                color: '#009EDA',\r\n                shadowBlur: 15,\r\n                shadowColor: '#009EDA'\r\n            }\r\n        },\r\n        data: [endTime]\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-766657611","theme":"","layout":"","viewCount":789,"userName":"晴天第二119","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkczlVnkG.png?v=1511166768355","isCustomThumbnail":0,"builtinTags":["category-work","grid","markPoint","series-bar","tooltip"],"customTags":[],"updaterUserName":"晴天第二119"}}