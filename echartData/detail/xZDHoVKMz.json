{"status":0,"data":{"cid":"xZDHoVKMz","authorUid":"bd-124015110","authorUserName":"K***N","title":"湖南省高速公路交通流","description":"","latestVersion":7,"alwaysLatest":1,"createTime":"2020-01-14T10:57:29.000Z","lastUpdateTime":"2020-01-14T10:57:29.000Z","auth":2,"uid":"bd-124015110","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-30T12:34:04.000Z","code":"// var uploadedDataURL = \"/asset/get/s/data-1604047514835-mdbmux2ib.json\";\n\nvar uploadedDataURL = \"/asset/get/s/data-1579080454733-kYPAgQMH.json\";\n\napp.title = '湖南省高速公路交通流分布 - 线特效';\n\n$.getJSON(uploadedDataURL, function(data) {\n    var hStep = 300 / (data.length - 1);\n    var highway_flows = [].concat.apply([], data.map(function(flow, idx) {\n        var prevPt; \n        var points = [];\n        for (var i = 0; i < flow.length; i += 2) {\n            var pt = [flow[i], flow[i + 1]]; //取出第一个数组中的元素\n            if (i > 0) {\n                pt = [\n                    pt[0], //循环，得到每一个点的经度\n                    pt[1] //得到点得到纬度\n                ];\n            }\n            prevPt = pt; //将得到的新点赋值给prevPt\n\n            points.push([pt[0], pt[1]]); //除以10000得到实际经纬度坐标,//将得到的经纬度入栈\n        }\n        return {\n            coords: points,\n            lineStyle: {\n                normal: {\n                    color: echarts.color.modifyHSL('#5A94DF', Math.round(hStep * idx)) //给每条线赋予颜色\n                }\n            }\n        };\n    }));\n    myChart.setOption(option = { //地图设置\n        bmap: {\n            center: [111.8, 27.7],\n            zoom: 8,\n            roam: true,\n            mapStyle: {\n                'styleJson': [{\n                        'featureType': 'water',\n                        'elementType': 'all',\n                        'stylers': {\n                            'color': '#031628'\n                        }\n                    },\n                    {\n                        'featureType': 'land',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'color': '#000102'\n                        }\n                    },\n                    {\n                        'featureType': 'rialway',\n                        'elementType': 'all',\n                        'stylers': {\n                            'visibility': 'off'\n                        }\n                    },\n                    {\n                        'featureType': 'arterial',\n                        'elementType': 'geometry.fill',\n                        'stylers': {\n                            'color': '#000000'\n                        }\n                    },\n                    {\n                        'featureType': 'arterial',\n                        'elementType': 'geometry.stroke',\n                        'stylers': {\n                            'color': '#0b3d51'\n                        }\n                    },\n                    {\n                        'featureType': 'local',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'color': '#000000'\n                        }\n                    },\n                    {\n                        \"featureType\": \"highway\",\n                        \"elementType\": \"labels\",\n                        \"stylers\": {\n                            \"visibility\": \"off\"\n                        }\n                    }, {\n                        \"featureType\": \"highway\",\n                        \"elementType\": \"geometry.fill\",\n                        \"stylers\": {\n                            'visibility': 'off'\n                        }\n                    }, {\n                        \"featureType\": \"highway\",\n                        \"elementType\": \"geometry\",\n                        \"stylers\": {\n                            'visibility': 'off'\n                        }\n                    },\n                    {\n                        'featureType': 'railway',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'visibility': 'off'\n                        }\n                    },\n                    {\n                        'featureType': 'subway',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'visibility': 'off'\n                        }\n                    },\n                    {\n                        'featureType': 'building',\n                        'elementType': 'geometry.fill',\n                        'stylers': {\n                            'color': '#000000'\n                        }\n                    },\n                    {\n                        'featureType': 'all',\n                        'elementType': 'labels.text.fill',\n                        'stylers': {\n                            'color': '#857f7f'\n                        }\n                    },\n                    {\n                        'featureType': 'all',\n                        'elementType': 'labels.text.stroke',\n                        'stylers': {\n                            'color': '#000000'\n                        }\n                    },\n                    {\n                        'featureType': 'building',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'color': '#022338'\n                        }\n                    },\n                    {\n                        'featureType': 'green',\n                        'elementType': 'geometry',\n                        'stylers': {\n                            'color': '#062032'\n                        }\n                    },\n                    {\n                        'featureType': 'boundary',\n                        'elementType': 'all',\n                        'stylers': {\n                            'color': '#465b6c',\n                        }\n                    },\n                    {\n                        'featureType': 'manmade',\n                        'elementType': 'all',\n                        'stylers': {\n                            'color': '#022338'\n                        }\n                    },\n                    {\n                        'featureType': 'label',\n                        'elementType': 'all',\n                        'stylers': {\n                            'visibility': 'off'\n                        }\n                    }, {\n                        \"featureType\": \"cityhighway\",\n                        \"elementType\": \"all\",\n                        \"stylers\": {\n                            \"visibility\": \"off\"\n                        }\n                    }, {\n                        \"featureType\": \"nationalway\",\n                        \"elementType\": \"all\",\n                        \"stylers\": {\n                            \"visibility\": \"off\"\n                        }\n                    }, {\n                        \"featureType\": \"provincialway\",\n                        \"elementType\": \"all\",\n                        \"stylers\": {\n                            \"visibility\": \"off\"\n                        }\n                    }\n                ]\n            }\n        },\n        series: [{ //地图线动画\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            polyline: true,\n            data: highway_flows,\n            silent: true,\n\n            lineStyle: {\n                normal: {\n                    // color: '#c23531',\n                    // color: 'rgb(200, 35, 45)',\n                    opacity: 0.7, //轨迹线条透明度\n                    width: 0.1 //轨迹线条宽度\n                }\n            },\n            progressiveThreshold: 500,\n            progressive: 200\n        }, {\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            polyline: true,\n            data: highway_flows,\n            lineStyle: {\n                normal: {\n                    width: 0\n                }\n            },\n            effect: {\n                constantSpeed: 20,\n                show: true,\n                trailLength: 0.1,\n                symbolSize: 2 //图标大小\n            },\n            zlevel: 1\n        }]\n    });\n});","html":"","externalScripts":"/dep/echarts/latest/extension/bmap.min.js,http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM","updaterUID":"bd-124015110","theme":"","layout":"","viewCount":108,"userName":"K***N","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xZDHoVKMz.undefined?v=","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"K***N"}}