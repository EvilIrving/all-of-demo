{"status":0,"data":{"cid":"x0hkuJ501B","authorUid":"bd-361253046","authorUserName":"雨***1","title":"自定义提示框 轮播","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2018-10-19T08:06:08.000Z","lastUpdateTime":"2018-10-19T08:06:08.000Z","auth":2,"uid":"bd-361253046","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.2.0","versionCreateTime":"2018-10-19T08:07:49.000Z","code":"function mapTooltipClick(name) {\n    alert(name)\n}\n\nfunction tooltipCharts() {\n    console.log(arguments[0]);\n    var myChart = echarts.init(document.getElementById('tooltipBarId'));\n    var option = {\n        tooltip: {},\n        dataset: {\n            source: [\n                ['xAxis', '201701', '201702', '201703', '201704', '201705', '201706', '201707', '201708', '201709', '20170', '201710', '20170', '201801'],\n                ['amount', 41.1, 30.4, 65.1, 53.3, 83.8, 98.7, 65.1, 53.3, 41.1, 30.4, 53.3, 41.1, 53.3, 83.8]\n            ]\n        },\n        xAxis: {\n            type: 'category',\n            interval: true,\n            axisLabel: {\n                rotate: 45\n            },\n            axisTick: {\n                show: false\n            }\n        },\n        yAxis: {},\n        color: ['#4FA8F9', '#F5A623'],\n        grid: {\n            show: true,\n            backgroundColor: '#FAFAFA',\n            left: 30,\n            right: 20,\n            top: 20\n        },\n        series: [{\n            type: 'bar',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            barWidth: 10\n        }]\n    };\n    myChart.setOption(option);\n}\noption = {\n    visualMap: {\n        min: 0,\n        max: 1000,\n        left: 'left',\n        top: 'bottom',\n        text: ['高', '低'],\n        calculable: false,\n        orient: 'horizontal',\n        inRange: {\n            color: ['#e0ffff', '#006edd'],\n            symbolSize: [30, 100]\n        }\n    },\n    tooltip: {\n        padding: 0,\n        enterable: true,\n        transitionDuration: 1,\n        textStyle: {\n            color: '#000',\n            decoration: 'none',\n        },\n        // position: function (point, params, dom, rect, size) {\n        //   return [point[0], point[1]];\n        // },\n        formatter: function(params) {\n            // console.log(params)\n            var tipHtml = '';\n            tipHtml = '<div style=\"height:360px;width:400px;border-radius:5px;background:#fff;box-shadow:0 0 10px 5px #aaa\">' +\n                '    <div style=\"height:50px;width:100%;border-radius:5px;background:#F8F9F9;border-bottom:1px solid #F0F0F0\">' +\n                '        <span style=\"line-height:50px;margin-left:18px\">' + params.name + '</span>' +\n                '        <span style=\"float:right;line-height:50px;margin-right:18px;color:#5396E3;cursor:pointer\" onclick=\"mapTooltipClick(this);\">点击查看详情</span>' +\n                '    </div>' +\n                '    <div style=\"height:110px;width:100%;background:#fff\">' +\n                '        <div style=\"padding-left:18px;padding-top:22px\">' +\n                '            <span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:rgba(92,169,235,1)\"></span> ' +\n                '            <span>上传表格数量</span>' +\n                '            <span style=\"float:right;margin-right:18px\">' + params.data.tipData[0] + '万</span>' +\n                '        </div>' +\n                '        <div style=\"padding-left:18px;padding-top:14px\">' +\n                '            <span style=\"display:inline-block;margin-right:5px;width:10px;height:10px;background-color:rgba(92,169,235,1)\"></span> ' +\n                '            <span>上传数据条数</span>' +\n                '            <span style=\"float:right;margin-right:18px\">' + params.data.tipData[1] + '条</span>' +\n                '        </div>' +\n                '    </div>' +\n                '    <div id=\"tooltipBarId\" style=\"height:200px;width:100%;border-radius:0 0 5px 0;background:#fff\"></div>' +\n                '</div>';\n            setTimeout(function() {\n                tooltipCharts(params.name);\n            }, 10);\n            return tipHtml;\n        }\n    },\n    series: [{\n        name: 'iphone4',\n        type: 'map',\n        mapType: 'china',\n        roam:false,\n        itemStyle: {\n            normal: {\n                label: {\n                    show: false\n                }\n            },\n            emphasis: {\n                label: {\n                    show: true\n                }\n            }\n        },\n        data: [{\n                name: '北京',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '天津',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '上海',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '重庆',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '河北',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '河南',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '云南',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '辽宁',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '黑龙江',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '湖南',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '安徽',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '山东',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '新疆',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '江苏',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '浙江',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '江西',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '湖北',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '广西',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '甘肃',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '山西',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '内蒙古',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '陕西',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '吉林',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '福建',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '贵州',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '广东',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '青海',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '西藏',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '四川',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '宁夏',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '海南',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '台湾',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '香港',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n            {\n                name: '澳门',\n                value: Math.round(Math.random() * 1000),\n                tipData: [Math.round(Math.random() * 1000), Math.round(Math.random() * 1000)]\n            },\n        ]\n    }, ]\n}\nvar count = 0;\nvar timeTicket = null;\nvar dataLength = option.series[0].data.length;\ntimeTicket && clearInterval(timeTicket);\ntimeTicket = setInterval(function() {\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n    });\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: (count) % dataLength\n    });\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: (count) % dataLength\n    });\n    count++;\n}, 1000);\n\nmyChart.on('mouseover', function(params) {\n    console.log(params)\n    clearInterval(timeTicket);\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0\n    });\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: params.dataIndex\n    });\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n    });\n});\nmyChart.on('mouseout', function(params) {\n    timeTicket && clearInterval(timeTicket);\n    timeTicket = setInterval(function() {\n        myChart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0,\n        });\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: (count) % dataLength\n        });\n        myChart.dispatchAction({\n            type: 'showTip',\n            seriesIndex: 0,\n            dataIndex: (count) % dataLength\n        });\n        count++;\n    }, 1000);\n});","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-361253046","theme":"","layout":"","viewCount":8231,"userName":"雨***1","commentCount":5,"starCount":29,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x0hkuJ501B.png?v=1539936469884","isCustomThumbnail":0,"builtinTags":["category-work","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"雨***1"}}