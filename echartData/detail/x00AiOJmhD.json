{"status":0,"data":{"cid":"x00AiOJmhD","authorUid":"bd-3996849279","authorUserName":"N***1","title":"力导向拓扑图","description":"","latestVersion":10,"alwaysLatest":1,"createTime":"2019-07-11T02:18:14.000Z","lastUpdateTime":"2019-07-11T02:18:14.000Z","auth":2,"uid":"bd-3996849279","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-23T03:37:40.000Z","code":" var nodes = [{\r\n         name: '服务器',\r\n         relation: '3'\r\n\r\n     },\r\n     {\r\n         name: '存储设备1',\r\n         relation: '1'\r\n     },\r\n     {\r\n         name: '存储设备2',\r\n         relation: '1'\r\n     },\r\n     {\r\n         name: '防火墙',\r\n         relation: '2'\r\n     }\r\n ]\r\n var links = [{\r\n         source: '存储设备2',\r\n         target: '服务器',\r\n         name: '数据传输',\r\n         relation: '1'\r\n\r\n     }, {\r\n         source: '存储设备1',\r\n         target: '服务器',\r\n         name: '数据传输',\r\n         relation: '1'\r\n     },\r\n     {\r\n         source: '防火墙',\r\n         target: '服务器',\r\n         name: '数据传输',\r\n         relation: '2'\r\n     },\r\n\r\n ]\r\n var charts = {\r\n     nodes: [],\r\n     links: []\r\n }\r\n for (var j = 0; j < nodes.length; j++) {\r\n     if (nodes[j].relation == '1') {\r\n         var node = {\r\n             name: nodes[j].name,\r\n             alarm: nodes[j].alarm,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: '#12b5d0',\r\n                 }\r\n             }\r\n         }\r\n     } else if (nodes[j].relation == '2') {\r\n         node = {\r\n             name: nodes[j].name,\r\n             alarm: nodes[j].alarm,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: 'red',\r\n                 }\r\n             }\r\n         }\r\n     } else {\r\n         node = {\r\n             name: nodes[j].name,\r\n             alarm: nodes[j].alarm,\r\n             itemStyle: {\r\n                 normal: {\r\n                     color: 'green',\r\n                 }\r\n             }\r\n         }\r\n     }\r\n\r\n\r\n\r\n     charts.nodes.push(node)\r\n }\r\n for (var i = 0; i < links.length; i++) {\r\n     if (links[i].relation == \"1\") {\r\n         var link = {\r\n             source: links[i].source,\r\n             target: links[i].target,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     formatter: links[i].name\r\n                 }\r\n             },\r\n             lineStyle: {\r\n                 normal: {\r\n                     color: '#17FFF3'\r\n                 }\r\n             }\r\n         }\r\n     } else {\r\n         var link = {\r\n             source: links[i].source,\r\n             target: links[i].target,\r\n             label: {\r\n                 normal: {\r\n                     show: true,\r\n                     formatter: links[i].name\r\n                 }\r\n             },\r\n             lineStyle: {\r\n                 normal: {\r\n                     color: 'red'\r\n                 }\r\n             }\r\n         }\r\n     }\r\n\r\n     charts.links.push(link)\r\n }\r\n option = {\r\n     backgroundColor: '#000033',\r\n     series: [{\r\n         type: 'graph',\r\n         layout: 'force',\r\n         symbolSize: 50,\r\n         edgeSymbol: ['circle', 'arrow'],\r\n         force: {\r\n             repulsion: 1000,\r\n             edgeLength: [150, 200],\r\n             layoutAnimation: false\r\n         },\r\n         draggable: true,\r\n         edgeLabel: {\r\n             normal: {\r\n                 show: true,\r\n                 formatter: function(x) {\r\n                     return x.data.name;\r\n                 }\r\n             }\r\n         },\r\n         label: {\r\n             normal: {\r\n                 show: true,\r\n                 position: 'bottom',\r\n                 color: '#17FFF3'\r\n             }\r\n         },\r\n         lineStyle: {\r\n             normal: {\r\n                 width: 2,\r\n                 shadowColor: 'none'\r\n             }\r\n         },\r\n         data: charts.nodes,\r\n         links: charts.links,\r\n         itemStyle: {\r\n             normal: {\r\n                 label: {\r\n                     show: true,\r\n                     formatter: function(item) {\r\n                         return item.data.name\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     }]\r\n };","html":"","externalScripts":"","updaterUID":"bd-3996849279","theme":"","layout":"","viewCount":7639,"userName":"N***1","commentCount":0,"starCount":18,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x00AiOJmhD.png?v=1563853060545","isCustomThumbnail":0,"builtinTags":["category-work","series-graph"],"customTags":[],"updaterUserName":"N***1"}}