{"status":0,"data":{"cid":"x02zjNbG1c","authorUid":"obd-oDLaYoSFpVa9G-BeKFgryxMT-uYIg1s","authorUserName":"1***8","title":"各国机构数量占比分析","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-04-06T11:08:33.000Z","lastUpdateTime":"2021-04-06T11:08:33.000Z","auth":2,"uid":"obd-oDLaYoSFpVa9G-BeKFgryxMT-uYIg1s","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-06T11:08:33.000Z","code":"\r\n\r\nlet Data = [\r\n        {\r\n            \"name\": \"美国\",\r\n            \"count\": 234\r\n        },\r\n        {\r\n            \"name\": \"英国\",\r\n            \"count\": 66\r\n        },\r\n        {\r\n            \"name\": \"中国\",\r\n            \"count\": 65\r\n        },\r\n        {\r\n            \"name\": \"日本\",\r\n            \"count\": 53\r\n        },\r\n        {\r\n            \"name\": \"德国\",\r\n            \"count\": 41\r\n        },\r\n        {\r\n            \"name\": \"意大利\",\r\n            \"count\": 25\r\n        },\r\n        {\r\n            \"name\": \"加拿大\",\r\n            \"count\": 23\r\n        },\r\n        {\r\n            \"name\": \"澳大利亚\",\r\n            \"count\": 23\r\n        },\r\n        {\r\n            \"name\": \"法国\",\r\n            \"count\": 22\r\n        },\r\n        {\r\n            \"name\": \"西班牙\",\r\n            \"count\": 21\r\n        },\r\n        {\r\n            \"name\": \"韩国\",\r\n            \"count\": 19\r\n        },\r\n        {\r\n            \"name\": \"荷兰\",\r\n            \"count\": 18\r\n        },\r\n        {\r\n            \"name\": \"瑞典\",\r\n            \"count\": 10\r\n        },\r\n        {\r\n            \"name\": \"芬兰\",\r\n            \"count\": 9\r\n        },\r\n        {\r\n            \"name\": \"瑞士\",\r\n            \"count\": 9\r\n        },\r\n        {\r\n            \"name\": \"奥地利\",\r\n            \"count\": 8\r\n        },\r\n        {\r\n            \"name\": \"丹麦\",\r\n            \"count\": 8\r\n        },\r\n        {\r\n            \"name\": \"印度\",\r\n            \"count\": 7\r\n        },\r\n        {\r\n            \"name\": \"葡萄牙\",\r\n            \"count\": 7\r\n        },\r\n        {\r\n            \"name\": \"新西兰\",\r\n            \"count\": 6\r\n        },\r\n        {\r\n            \"name\": \"以色列\",\r\n            \"count\": 6\r\n        },\r\n        {\r\n            \"name\": \"巴西\",\r\n            \"count\": 5\r\n        },\r\n        {\r\n            \"name\": \"希腊\",\r\n            \"count\": 5\r\n        },\r\n        {\r\n            \"name\": \"马来西亚\",\r\n            \"count\": 5\r\n        },\r\n        {\r\n            \"name\": \"波兰\",\r\n            \"count\": 5\r\n        },\r\n        {\r\n            \"name\": \"比利时\",\r\n            \"count\": 5\r\n        },\r\n        {\r\n            \"name\": \"匈牙利\",\r\n            \"count\": 4\r\n        },\r\n        {\r\n            \"name\": \"挪威\",\r\n            \"count\": 4\r\n        },\r\n        {\r\n            \"name\": \"南非\",\r\n            \"count\": 4\r\n        },\r\n        {\r\n            \"name\": \"新加坡\",\r\n            \"count\": 3\r\n        },\r\n        {\r\n            \"name\": \"俄罗斯\",\r\n            \"count\": 3\r\n        },\r\n        {\r\n            \"name\": \"土耳其\",\r\n            \"count\": 3\r\n        },\r\n        {\r\n            \"name\": \"泰国\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"智利\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"捷克\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"克罗地亚\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"伊朗\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"爱尔兰\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"阿根廷\",\r\n            \"count\": 2\r\n        },\r\n        {\r\n            \"name\": \"埃及\",\r\n            \"count\": 2\r\n        }\r\n    ];\r\nData.map( item => {\r\n    item.value = item.count;\r\n})\r\nlet title = \"各国机构数量占比分析\";\r\nlet data_total = 0 //总数\r\nData.forEach( item => data_total += item.value )\r\noption = {\r\n    backgroundColor: '#fff',\r\n    color: ['#7A8FFF', '#50E696', '#28D278', '#FFD341', '#FFD29D', '#B797FF'],\r\n    title: {\r\n        itemGap: 10,\r\n        text: title,\r\n        // subtext: data_total,\r\n        left: '52%',\r\n        top: '40px',\r\n        textAlign: 'center',\r\n        textStyle: {\r\n            fontWeight: '400',\r\n            fontSize: 18,\r\n            color: '#666'\r\n        },\r\n        subtextStyle: {\r\n            fontFamily: 'Arial',\r\n            fontWeight: '400',\r\n            fontSize: 40,\r\n            color: '#111',\r\n        }\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        // formatter: '{a} <br/>{b} : {c} 人',\r\n        // backgroundColor: \"rgba(0,0,0,0.6)\",\r\n        // borderColor: \"rgba(0,0,0,0.6)\",\r\n        padding: 15,\r\n        textStyle: {\r\n            color: \"#fff\",\r\n            fontSize: 14,\r\n            fontWeight: \"300\",\r\n        },\r\n    },\r\n    legend: {\r\n        itemGap: 32,\r\n        icon: \"circle\",\r\n        type: 'scroll',\r\n        orient: 'vertical',\r\n        right: 120,\r\n        top: 105, // \"center\"\r\n        bottom: 80,\r\n        pageIconColor: \"rgba(153,153,153,.8)\",\r\n        pageIconInactiveColor: \"rgba(153,153,153,.3)\",\r\n        pageTextStyle: {\r\n            color: \"#666\",\r\n        },\r\n        textStyle: {\r\n            fontSize: '20px',\r\n            color: '#77899c',\r\n            rich: {\r\n                icon: {\r\n                    width: 14,\r\n                    height: 14,\r\n                    borderColor: 'red'\r\n                },\r\n                a: {\r\n                    color: '#666',\r\n                    width: 110,\r\n                    padding: [0,0,0,0]\r\n                },\r\n                b: {\r\n                    color: '#666',\r\n                    width: 40,\r\n                    align: 'right',\r\n                    padding: [0,10,0,10],\r\n                },\r\n                c: {\r\n                    color: '#999',\r\n                    width: 60,\r\n                    align: 'right',\r\n                }\r\n            }\r\n        },\r\n        formatter: (name) => {\r\n            let target;\r\n            for (let i = 0; i < Data.length; i++) {\r\n                if (Data[i].name == name) {\r\n                    target = Data[i].value;\r\n                }\r\n            }\r\n            let em = '<div style=\"border: 1px solid #333;margin: 0 20px;\"></div>';\r\n            let split = ' | ';\r\n            // return `{a|${name}}{b|${((target / data_total) * 100).toFixed(2) + \"%\"}}{c|${target} 人}`\r\n            return `{a|${name}      ${((target / data_total) * 100).toFixed(2) + \"%\"}}{c|${target} }`\r\n        },\r\n    },\r\n    series: [{\r\n        itemStyle: {\r\n            borderWidth: 1, //设置border的宽度有多大\r\n            borderColor: '#fff',\r\n        },\r\n        center: ['34%', '50%'],\r\n        name: title,\r\n        type: 'pie',\r\n        // radius: ['50%', '60%'], // ['55%', '70%']\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n            show: false,\r\n            position: 'center'\r\n        },\r\n        emphasis: {\r\n            label: {\r\n                formatter: '',\r\n                show: true,\r\n                fontSize: '40',\r\n                fontWeight: 'bold'\r\n            },\r\n\r\n        },\r\n        data: Data\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-oDLaYoSFpVa9G-BeKFgryxMT-uYIg1s","theme":"","layout":"","viewCount":58,"userName":"1***8","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x02zjNbG1c.png?v=1617707313711","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"1***8"}}