{"status":0,"data":{"cid":"xxuDZ5wzMS","authorUid":"bd-1767830562","authorUserName":"s***l","title":"带icon百分比条","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2021-04-06T14:31:47.000Z","lastUpdateTime":"2021-04-06T14:31:47.000Z","auth":2,"uid":"bd-1767830562","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-06T14:33:04.000Z","code":"var data = [{\r\n        name: '杭州市',\r\n        value: (Math.random() * 100).toFixed(2)\r\n    },\r\n    {\r\n        name: '宁波市',\r\n        value: (Math.random() * 100).toFixed(2)\r\n    },\r\n    {\r\n        name: '温州市',\r\n        value: (Math.random() * 100).toFixed(2)\r\n    },\r\n\r\n\r\n]\r\n\r\nvar imgs=[\r\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAACnElEQVRIiaWW24tNYRjGf3uNcRijQaPETEoYpxtMCBkXanLhjkZIXIySwx/gUITLKXGrnO5IRImURIgLJaYQao+R5DgaGcyerWd61m7N1xpm7Xlrt9Z+v+97n/d7T8/KFZubGUTmAB3Aj2C5BuhN0f9TRqQsVgKLgV8JYy1AIzAeGAkUgR7gHXADeJQVqApYDjwH3gKtwEbgG/AAuA68BkYB8w2+F+gD2oB7tjMT+AB8TwOSp8uAl8BvezrWhu4k9o0BfgIvgIvW7QbOAueBQ0ABWALcBv5oQ5QwsNC3yANN9nyFQdYBl+ylbtdtoBPALD8bndfZwBvnd1FsPC6GacBU4H4Qygn2cvV/UnAU2O/3Ct8IR0h5zOtGOaAeaA8OK/FPhgAi2Qec8nshoW+37ZyA6lxBXcHhq940VNkKbA/2djmfdQKqBT4FG9Y6P1nlGFAdnPksjMgx/RIs7iwDBFfk+kAn2xWRm687sVDpCipXmoJzsl2My7svsTDF1VauTA7O9duOUoz1BMBZpTdtfxQ8cVN2DgPoVRpG3EdhpdwcBtCV4H913EdqsInBYluZIGrQW4FOtguRe6g2WNQcO1IG0KYUXX+fRs7HaBNaUg4ApzOAtHhkrQE2WFdj251xH2lqz0scGufnNmBPyuRIijhoqYevuOyMp4Fkrm2X+ijvkm7w/wXAXY99UcAkYAtwErhmylAeV3lUPQR2ABeAzS6mBl9CtgcQ32NgpftIHHTZXgrwMHDOv1AEtguYAYhznpp26pOEGX6cVJlDOsy0mhIHffCr9R/toNY0BdQeMnjcNhQFMYK4rfQBk/YVJEpXzBXnmKOUUG2c7vGklngPPAvIUg4oZGJnRaYkg31uKXfKi6ZEFtHtlJeBAvwFqb+Z1HAwfFkAAAAASUVORK5CYII=',\r\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAC3ElEQVRIiaWWSUiVURTHfz6zOawwqJshNE+rihALbRFIi3aFUQS28EI00LoBimopRO7upmnnpmlVQZSVRVAgJY0Klt2IBjOMrHy+OF/nvb53+Ux9HpDnd+53zv8M95z/V5RpmMMQsgx4A3wPjkuBgZze+aHs82Rcgq4EWAv8jIHUAWuA6cB4IAP0A++w5hrOPxwOKMxoMrAOeA68BRqA7cBX4D7wCOgAJgArFVwyHwQacf5e5MWaRcAHnP+WBCSRVgOvNNrzwBTgINASC2YS8CP3JKWzZh9wAGgGjgEGWADcwvnf8loq5mCVZtEF1Gjk6xVkC3AxivJvdn3AC6AJaxbjfFMsu6U436n9XR1mVAHMBVqD0s7QKDcO04KTOH9Yy1aM82n9vyrqo/NdklERMA9oD4yl8W0jABE5hDVntJTpmL498m1NkQCVa096A+OrGsBIpR5rbN67zvdqP8sFqAz4FDjbrP0ZrZzCmqmBzWfBEKBi4EtwuKcAEPRGbg104rs4pcPXFzso0RtUqNQEduI7k73eg7EDo7etUJmdZ+d85DuV4Kw/AB6tDCS9nwp+0aHsHgPQ67wna1JZIJmj8KbcGAPQleBZfEdzJAM2MzhsLBCkHedvBjrxnU7pDJUFh7LHThQAtCNBF81pSvsxUQktLkeAs6MAqcP5NqzZhDXbIo01peq7OztHsrVXxIym6e8uYH/C5oiLcFAlzjdjjXDZOd0GIssj385n4nxUCfRo2aqjjQyyu57p+U7VG2XfzmgfOn9bo9+tVajH+etYsySaR+cfEFD5Y3XUrxx0SSniDnAcuKB/+WLNBmAvsBCoxfknWFOhCzlHmElUXqWk9VKjP6p81aP6jxqgnMkWkPFowfnTmpmQnzBCK87nPmySvoKE0qWMUucsR0lDa4H5up5kJN4DT3H+H1laIwFIyTpwXiqTk6SvoF/AXWBWTCdGl/9zIbKSxvmQQAH4A98XzptcbCMOAAAAAElFTkSuQmCC'\r\n    ,'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAC7ElEQVRIiaWWyUvVURTHP/eZzWGFQZgSNE+rW4RYZIug26JdYRSBLQqigaBdAxTlUoj8AxqWbqJc9Ksgysoi8AdS0mhgAxENZhhZ+bxx7Dy5XJ7T82ze+537O+d7hnvO92darzOULAfeAj+j8xKgL6e3zg/pIJQJeXTFwFrgdwBSA6wBZgITAfHeC3xIE3PDOv94JKA4o6nAOuA58A7YC+wEvgMPgVagA5gErFJwybwfqLfOPxAnaWIWA5+s8z/yAUmkG4BXGu1lYBpwDGgOgpkC/Mo9SOnSxBwCjgCNwGmgDFgI3LHO/5X3MoEDq1l0AtUa+XoF2QZckSg1ux7gBdCQJmaJdb4hyG6Zdf6N9nd1nNF8YB7QEpV2lka5aYQW1FnnT2jZiqzzWf1fJX20zndKRgaoANojY2l82yhARI6nibmgpcwGevFZkSbGCFC59qQ7Mm7SAEYrtWli9oXvWue7tZ/lAlQKfImcbdX+jFXOpYmZHtl8FQwBKgK+RYcHCgBBb+T2SCe+izI6fD3BQbHeoEKlOrIT3z53vfuDgzK9bYXK3NDOOj/gO5PHWW8EPFbpy/d+JvpFh/L9OIBehw9pMnCzyc1RfFNujQPoWvQsvgfQZMBmR4f1BYK0W+dvRzrxnc3oDJVGh7LHzhYAtCuPbmBOM9qPyUpooZwELo4BpMY635YmZkuamB3870+J+n6fmyPZ2isDoxn6uwc4nGdzhCIcVGmdb0wTI1x2SbeByArxbZ33IR9VAl1aNuGlOkB21zM93636MmVfoYIm6/xdjX6/VqHWOn8zTcxSmUfr/COGIT7hpKNiBNwDzgAfh8hoI3AQWCTBWOefpIkR2hGWbbbO/4mBUCqvUtJ6qdGfUr7qUv1n/daQM9kCMh7i8LxmJuQnjNBinR/8sMn3FSSZSRmlzjmOkoZuBhboepKRkAyfWucHyTJNjAQgJeuwzsuGGZR8X0GS6n1gTqATo6vDXIicZK3zMYEC8A+qkuSBk3RXjAAAAABJRU5ErkJggg=='\r\n]\r\nvar colors = [\r\n    {color1:'rgba(31,46,61,1)',color2:'rgba(255,71,71,1)'},\r\n    {color1:'rgba(30,46,61,1)',color2:'rgba(255,101,25,1)'},\r\n    {color1:'rgba(27,42,54,1)',color2:'rgba(205,183,0,1)'},\r\n]\r\nvar data = data.sort((a, b) => b.value - a.value);\r\nvar max = Math.max(...data.map(item => item.value));\r\nvar xAxis = [],\r\n    yAxis = [],\r\n    series = [];\r\n    yAxis.push({\r\n        type: 'category',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            verticalAlign: 'bottom',\r\n            align: 'left',\r\n            padding: [0, 0, 15, 10],\r\n            color: '#fff',\r\n            fontSize: '16',\r\n            formatter: (p, index) => {\r\n                var sIndex = data.map(item => item.name).indexOf(p);\r\n                return '{index'+index+'|} ' + p;\r\n            },\r\n            rich: {\r\n                index0: {\r\n                    width:20,\r\n                    height:20,\r\n                    backgroundColor:{\r\n                        image:imgs[0]\r\n                    }\r\n                        \r\n                },\r\n                index1: {\r\n                    width:20,\r\n                    height:20,\r\n                    backgroundColor:{\r\n                        image:imgs[1]\r\n                    }\r\n                        \r\n                },\r\n                index2: {\r\n                    width:20,\r\n                    height:20,\r\n                    backgroundColor:{\r\n                        image: imgs[2]\r\n                    } \r\n                }\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        inverse: true,\r\n        data: data.map(item => item.name)\r\n    })\r\n    yAxis.push({\r\n        type: 'category',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            verticalAlign: 'bottom',\r\n            align: 'right',\r\n            padding: [0, 0, 15, 10],\r\n            textStyle: {\r\n                color: '#fff',\r\n                fontSize: '26',\r\n            },\r\n            formatter: '{value}'+'件'\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        inverse: true,\r\n        data: data.map(item => item.value)\r\n    })\r\n    series.push({\r\n        type: 'bar',\r\n        barWidth: 10,\r\n        xAxisIndex: 0,\r\n        yAxisIndex: 0,\r\n        zlevel: 1,\r\n        data: data.map((item,i)=>{\r\n            item.itemStyle = {\r\n                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                    offset: 0,\r\n                    color: colors[i].color1 // 0% 处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: colors[i].color2 // 100% 处的颜色\r\n                }], false),\r\n                barBorderRadius: 5\r\n            }\r\n            return item;\r\n        })\r\n    })\r\n    series.push({\r\n        type: 'bar',\r\n        barWidth: 10,\r\n        xAxisIndex: 0,\r\n        yAxisIndex: 1,\r\n        itemStyle: {\r\n            color: 'rgba(50,67,79,1)',\r\n            barBorderRadius: 5\r\n        },\r\n        barGap: '-100%',\r\n        zlevel: 0,\r\n        data: (new Array(data.length)).fill(max)\r\n    })\r\n\r\noption = {\r\n    backgroundColor:'rgba(0,0,0,.5)',\r\n    legend: {\r\n        show: false\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'shadow'\r\n        }\r\n    },\r\n    grid: {\r\n        left: 0,\r\n        top: 0,\r\n        containLabel: true\r\n    },\r\n    yAxis: yAxis,\r\n    xAxis: {\r\n        show: false,\r\n        type: 'value',\r\n        max: max,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    series: series\r\n}","html":"","externalScripts":"","updaterUID":"bd-1767830562","theme":"","layout":"","viewCount":44,"userName":"s***l","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxuDZ5wzMS.png?v=1617719584947","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"s***l"}}