{"status":0,"data":{"cid":"xkSUj0JyKa","authorUid":"obd-oA_F1uK7jxdcrJu9yVHjQsvbiNucn7T","authorUserName":"q***8","title":"进度条","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-08-12T02:58:44.000Z","lastUpdateTime":"2021-08-12T03:03:18.000Z","auth":1,"uid":"obd-oA_F1uK7jxdcrJu9yVHjQsvbiNucn7T","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-12T03:03:18.000Z","code":"var unit = \"元\";\nvar total=100;\nvar data = [\n        {status:'待提交',percent:'5',value:'5',total:total},\n        {status:'待审核',percent:'15',value:'15',total:total},\n        {status:'待交收',percent:'32',value:'32',total:total},\n        {status:'部分交收',percent:'23',value:'23',total:total},\n        {status:'已完成',percent:'18',value:'18',total:total},\n        {status:'已取消',percent:'7',value:'7',total:total}\n        ]\n\ngetArrByKey = (data, k) => {\n            let key = k || \"value\";\n            let res = [];\n            if (data) {\n                data.forEach(function (t) {\n                    res.push(t[key]);\n                });\n            }\n            return res;\n        };\n        \ncolor = ['#FC619D', '#FF904D', '#48BFE3','#21BF57','#56D0E3',  '#1089E7', '#F8B448','#F57474'];\ndata = data.sort((a,b) => {\n    return b.value - a.value\n});\n\noption = {\n                grid: {\n//                \ttop:30,\n                    left: 100,\n                    right: 180,\n//                    bottom: 150,\n//                    containLabel: true\n\n                },\n                tooltip: {\n                    show: true,\n                    trigger: 'axis',\n                    axisPointer: {\n                    \ttype: 'shadow',\n                        shadowStyle : {\n                            color : 'rgba(128, 128, 128, 0.0001)',\n\n                        }\n                    },\n                    formatter: \"{b0}: {c0}%\"\n                },\n                xAxis: {\n                    show: false\n                },\n                yAxis: [{\n                    type: 'category',\n                    inverse: true,\n                    axisTick: {\n                        show: false\n                    },\n                    axisLine: {\n                        show: false,\n                    },\n                    axisLabel: {\n                        margin:90,\n                        textStyle: {\n                            align:'left',\n                            fontSize: 16,\n                            fontWeight: 'bold',\n                            color: '#171B1F'\n                        },\n                    },\n                    data:  getArrByKey(data, 'status')\n                }, {\n                    type: 'category',\n                    inverse: true,\n                    axisLine: {\n                        show: false\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    axisLabel: {\n                        textStyle: {\n                            fontSize: 14,\n                            color: '#54AFEE',\n                        },\n                        formatter: function (value, index) {\n                            return data[index].percent +'% / ' + data[index].value + unit\n                        }\n                    },\n                    splitArea: {\n                        show: false\n                    },\n                    splitLine: {\n                        show: false\n                    },\n                    data:  getArrByKey(data, 'percent')\n                }, ],\n                series: [{\n                    name: '数据内框',\n                    type: 'bar',\n                    itemStyle: {\n                        normal: {\n                            barBorderRadius: 30,\n                                        color: (val) => {\n                                            if (val.dataIndex < 7 ) {\n                                                return color[val.dataIndex];\n                                            } else {\n                                                return '#1990FF'\n                                            }\n                                        },\n                        }\n                    },\n                    /*label: {\n\t                        normal: {\n\t                            show: true,\n\t                            position: 'right',\n\t                            color: 'red',\n\t                            fontSize: 14,\n\t                            formatter: \n\t                            function(param) {\n\t                                // return 'xx';\n\t                            },\n\t                        }\n\t                    },*/\n                \tbarWidth: 20,\n                \tdata:  getArrByKey(data, 'percent')\n\t                },\n                    {\n\t                    name: '外框',\n\t                    type: 'bar',\n\t                    itemStyle: {\n\t                        normal: {\n\t                            barBorderRadius: 30,\n\t                            color: '#F0F0F0',\n\t                        }\n\t                    },\n\t                    barGap: '-100%',\n\t                    z: 0,\n\t                    barWidth: 20,\n\t                    data:  getArrByKey(data, 'total')\n\t                }\n\n                ]\n            };\n","html":"","externalScripts":"","updaterUID":"obd-oA_F1uK7jxdcrJu9yVHjQsvbiNucn7T","theme":"","layout":"","viewCount":0,"userName":"q***8","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkSUj0JyKa.png?v=1628737398274","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"q***8"}}