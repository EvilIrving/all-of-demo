{"status":0,"data":{"cid":"xuyY07832A","authorUid":"obd-oNSFRHSF1XIMY5QZs_9plqO6Fdp69Ci","authorUserName":"青***丶","title":"横向数据堆叠柱图","description":"项目自用,其中主要对柱子圆角渲染的判断,数据为0时为空的转换","latestVersion":1,"alwaysLatest":1,"createTime":"2021-04-19T02:00:13.000Z","lastUpdateTime":"2021-04-19T02:00:13.000Z","auth":2,"uid":"obd-oNSFRHSF1XIMY5QZs_9plqO6Fdp69Ci","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-04-19T02:00:13.000Z","code":"var data1 = [320, 600, 901, 934, 1290, 1330, 1320];\r\nvar data2 = [430, 182, 191, 234, 290, 250, 310];\r\nvar data3 = [150, 212, 201, 154, 190, 300, 0];\r\nfor (var i = 0; i < data3.length; i++) {\r\n    if (data3[i] == 0) {\r\n        if (data2[i] == 0) {\r\n            data1[i] = {\r\n                value: data1[i],\r\n                itemStyle: {\r\n                    barBorderRadius: [0, 20, 20, 0],\r\n                },\r\n            };\r\n        } else {\r\n            data2[i] = {\r\n                value: data2[i],\r\n                itemStyle: {\r\n                    barBorderRadius: [0, 20, 20, 0],\r\n                },\r\n            };\r\n        }\r\n    } else {\r\n        data3[i] = {\r\n            value: data3[i],\r\n            itemStyle: {\r\n                barBorderRadius: [0, 20, 20, 0],\r\n            },\r\n        };\r\n    }\r\n}\r\noption = {\r\n    backgroundColor: \"#fff\",\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: {\r\n            type: \"shadow\",\r\n            shadowStyle: {\r\n                color: \"rgba(210,219,238,0.2)\"\r\n            }\r\n        },\r\n    },\r\n    legend: {\r\n        data: [\"正常\", \"警告\", \"预警\"],\r\n    },\r\n    xAxis: {\r\n        type: \"value\",\r\n        // max: 4000,\r\n    },\r\n    yAxis: {\r\n        type: \"category\",\r\n        realtimeSort: true,\r\n        data: [\r\n            \"某某1\",\r\n            \"某某2\",\r\n            \"某某3\",\r\n            \"某某4\",\r\n            \"某某5\",\r\n            \"某某6\",\r\n            \"某某7\",\r\n        ],\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLabel: {\r\n            color: \"#555\",\r\n            letterSpacing: \"5\",\r\n        },\r\n    },\r\n    grid: {\r\n        left: \"0%\",\r\n        right: \"4%\",\r\n        bottom: \"3%\",\r\n        containLabel: true\r\n    },\r\n    series: [{\r\n            name: \"正常\",\r\n            type: \"bar\",\r\n            stack: \"总量\",\r\n            barMaxWidth: 40,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#d4d7ea\",\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"inside\",\r\n                    formatter: function(params) {\r\n                        if (params.value > 0) {\r\n                            return params.value;\r\n                        } else {\r\n                            return \"\";\r\n                        }\r\n                    },\r\n                },\r\n            },\r\n            data: data1,\r\n        },\r\n        {\r\n            name: \"警告\",\r\n            type: \"bar\",\r\n            stack: \"总量\",\r\n            barMaxWidth: 40,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#7684C1\",\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"inside\",\r\n                    formatter: function(params) {\r\n                        if (params.value > 0) {\r\n                            return params.value;\r\n                        } else {\r\n                            return \"\";\r\n                        }\r\n                    },\r\n                },\r\n            },\r\n            data: data2,\r\n        },\r\n        {\r\n            name: \"预警\",\r\n            type: \"bar\",\r\n            stack: \"总量\",\r\n            barMaxWidth: 40,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"#22378a\",\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"inside\",\r\n                    formatter: function(params) {\r\n                        if (params.value > 0) {\r\n                            return params.value;\r\n                        } else {\r\n                            return \"\";\r\n                        }\r\n                    },\r\n                },\r\n            },\r\n            data: data3,\r\n        },\r\n    ],\r\n};","html":"","externalScripts":"","updaterUID":"obd-oNSFRHSF1XIMY5QZs_9plqO6Fdp69Ci","theme":"","layout":"","viewCount":28,"userName":"青***丶","commentCount":0,"starCount":19,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xuyY07832A.png?v=1618797613444","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"青***丶"}}