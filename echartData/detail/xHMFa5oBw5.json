{"status":0,"data":{"cid":"xHMFa5oBw5","authorUid":"bd-3797133147","authorUserName":"专***年","title":"某地区男性女性身高体重分布图","description":"无聊帮群友作业","latestVersion":7,"alwaysLatest":0,"createTime":"2021-11-05T08:26:52.000Z","lastUpdateTime":"2021-11-11T03:46:48.000Z","auth":2,"uid":"bd-3797133147","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-11T03:46:48.000Z","code":"var women = null;\nvar men = null;\n$(function () {\n    $.getJSON('/asset/get/s/data-1636100695450-E5ofSUIRY.json', function (data) {\n        console.log(data.woman);\n        var woman = data.woman;\n        var man = data.man;\n        // var myChart = echarts.init(document.getElementById('chart-panel'));\n\n        var COLOR = ['#DC143C', '#696969'];\n        //设置series数据项\n        var seriesData = [\n            {\n                // TODO:6.配置散点图数据\n                name: '女生',\n                type: 'scatter',\n                //TODO:7.设置体重的最大值和最小值\n                markPoint: {\n                    symbol: 'rect',\n                    symbolRotate: 45,\n                    symbolSize: 30,\n\n                    data: [\n                        {\n                            type: 'max',\n                            name: 'Max',\n                        },\n                        {\n                            type: 'min',\n                            name: 'Min',\n                        },\n                    ],\n                },\n                //TODO：8.设置平均线\n                markLine: {\n                    label: {\n                        color: COLOR[0],\n                        formatter: function (param) {\n                            return '女生的平均身高值\\n' + param.value;\n                        },\n                    },\n                    lineStyle: {\n                        type: 'solid',\n                    },\n                    data: [\n                        {\n                            type: 'average',\n                            name: 'AVG',\n                        },\n                        {\n                            xAxis: 160.87,\n                        },\n                    ],\n                },\n                //TODO: 9.设置取值区间\n                markArea: {\n                    silent: true,\n                    itemStyle: {\n                        color: 'transparent',\n                        borderWidth: 1,\n                        borderType: 'dashed',\n                    },\n                    data: [\n                        [\n                            {\n                                name: '',\n                                xAxis: 'min',\n                                yAxis: 'min',\n                            },\n                            {\n                                xAxis: 'max',\n                                yAxis: 'max',\n                            },\n                        ],\n                    ],\n                },\n\n                //TODO:10.计算BMI，标注超重数据\n\n                symbolSize: function (param) {\n                    var height = param[0] / 100;\n                    var weight = param[1];\n\n                    //计算BMI\n                    var BMI = weight / (height * height);\n\n                    if (BMI > 25) {\n                        //超过25为超重\n                        return 30;\n                    } else if (BMI >= 20 && BMI <= 25) {\n                        //BMI正常值在20至25之间\n                        return 15;\n                    } // 以下偏瘦\n                    return 10;\n                },\n                itemStyle: {\n                    color: function (param) {\n                        //正常数据使用'#DC143C'，超重数据使用'#8B0000'\n\n                        var gender = param.seriesName; // param\n\n                        if (gender == '女生') {\n                            return '#DC143C';\n                        }\n                        return '#8B0000';\n                    },\n                },\n                data: woman,\n            },\n            {\n                // TODO:6.配置散点图数据\n                name: '男生',\n                type: 'scatter',\n                //TODO:7.设置体重的最大值和最小值\n                markPoint: {\n                    symbol: 'rect',\n                    symbolRotate: 45,\n                    symbolSize: 30,\n                    data: [\n                        {\n                            type: 'max',\n                            name: 'Max',\n                        },\n                        {\n                            type: 'min',\n                            name: 'Min',\n                        },\n                    ],\n                },\n                //TODO：8.设置平均线\n                markLine: {\n                    label: {\n                        formatter: function (param) {\n                            return '男生的平均身高值\\n' + param.value;\n                        },\n                    },\n                    lineStyle: {\n                        type: 'solid',\n                    },\n                    data: [\n                        {\n                            type: 'average',\n                            name: 'AVG',\n                        },\n                        {\n                            xAxis: 177.75,\n                        },\n                    ],\n                },\n                //TODO: 9.设置取值区间\n                markArea: {\n                    silent: true,\n                    itemStyle: {\n                        color: 'transparent',\n                        borderWidth: 1,\n                        borderType: 'dashed',\n                    },\n                    data: [\n                        [\n                            {\n                                name: '',\n                                xAxis: 'min',\n                                yAxis: 'min',\n                            },\n                            {\n                                xAxis: 'max',\n                                yAxis: 'max',\n                            },\n                        ],\n                    ],\n                },\n\n                //TODO:10.计算BMI，标注超重数据\n\n                symbolSize: function (param) {\n                    var height = param[0] / 100;\n                    var weight = param[1];\n\n                    //计算BMI\n                    var BMI = weight / (height * height);\n                    // console.log(BMI)\n                    if (BMI > 25) {\n                        //超过25为超重\n                        return 30;\n                    } else if (BMI >= 20 && BMI <= 25) {\n                        //BMI正常值在20至25之间\n                        return 15;\n                    } // 以下偏瘦\n                    return 10;\n                },\n                itemStyle: {\n                    color: function (param) {\n                        //正常数据使用'#DC143C'，超重数据使用'#8B0000'\n\n                        var gender = param.seriesName; // 取arg对象里的data值\n\n                        if (gender == '男生') {\n                            return '#696969';\n                        }\n                        return '#2E2E2E';\n                    },\n                },\n                data: man,\n            },\n        ];\n        // 设置配置项\n        var option = {\n            //TODO:11.设置标题，标题居中\n            color: COLOR,\n            title: {\n                text: '某地区男性女性身高体重分布图',\n                left: 'center',\n                top: '0%',\n            },\n          \n            //TODO:12.设置图例\n            legend: {\n                top: 20,\n                left: '70%',\n                itemWidth: 20,\n                itemHeight: 20,\n                data: ['女生', '男生'],\n            },\n\n            // TODO:13.设置提示框，注意极值点数据结构和其他位置数据结构不同\n            tooltip: {\n                show: true,\n                formatter: function (param) {\n                    console.log(param);\n                    if (param.componentSubType == 'scatter') {\n                        var height = param.value[0] / 100;\n                        var weight = param.value[1];\n                        // console.log(weight)\n                        //计算BMI\n                        var BMI = weight / (height * height);\n                        BMI = Math.floor(BMI * 100) / 100;\n                        var html = '';\n                        html += '身高:' + param.value[0] + 'cm</br>';\n                        html += '体重:' + param.value[1] + 'kg</br>';\n                        html += 'BMI:' + BMI;\n                        return html;\n                    } else {\n                        return param.value;\n                    }\n                },\n            },\n            grid: {\n                top: '10%',\n            },\n            // TODO:5.设置x轴和y轴, 显示x轴y轴的坐标刻度及合理取值范围\n            xAxis: {\n                axisLine: {\n                    //  改变x轴颜色\n                    show: false,\n                    lineStyle: {\n                        color: '#26D9FF',\n                    },\n                },\n                axisTick: {\n                    show: false,\n                },\n                axisLabel: {\n                    //  改变x轴字体颜色和大小\n                    formatter: '{value}cm ', //  给x轴添加单位\n                    textStyle: {\n                        color: '#333',\n                        fontSize: 12,\n                    },\n                },\n                splitLine: {\n                    show: true,\n                },\n                min: 130,\n                max: 210,\n                interval: 10,\n            },\n            yAxis: {\n                nameTextStyle: {\n                    color: '#8998AC',\n                    padding: [0, 25, 0, 0],\n                },\n                axisLine: {\n                    //  改变y轴颜色\n                    lineStyle: {\n                        color: '#ccc',\n                    },\n                },\n                axisTick: {\n                    show: false,\n                },\n                axisLabel: {\n                    //  改变y轴字体颜色和大小\n                    formatter: '{value}kg ', //  给y轴添加单位\n                    textStyle: {\n                        color: '#333',\n                        fontSize: 12,\n                    },\n                },\n                splitLine: {\n                    lineStyle: {\n                        color: '#E9E9E9',\n                    },\n                },\n                min: 40,\n                max: 120,\n                interval: 10,\n            },\n            series: seriesData,\n        };\n        // TODO: 4.将配置项设置给echarts实例对象\n        myChart.setOption(option);\n\n        // console.log(option)\n        window.addEventListener('resize', function () {\n            myChart.resize();\n        });\n    });\n    \n});\n\n   ","html":"","externalScripts":"https://github.com/liuyishiforever/echarts-auto-tooltip/blob/master/echarts-auto-tooltip.js","updaterUID":"bd-3797133147","theme":"","layout":"","viewCount":0,"userName":"专***年","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHMFa5oBw5.png?v=1636602409104","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markArea","markLine","markPoint","series-scatter","title","tooltip"],"customTags":[],"updaterUserName":"专***年"}}