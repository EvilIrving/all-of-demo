{"status":0,"data":{"cid":"xrkMpzL7mm","authorUid":"bd-1606641265","authorUserName":"你***1","title":"刻度","description":"温度计，试管刻度","latestVersion":2,"alwaysLatest":1,"createTime":"2018-07-11T09:49:45.000Z","lastUpdateTime":"2018-07-11T09:49:45.000Z","auth":2,"uid":"bd-1606641265","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-07-12T03:11:54.000Z","code":"\r\nvar kd = [];//刻度需要的数据\r\nfor (var i = 0, len = 100; i <= len; i++) {\r\n    if(i === 0 || i === 100){\r\n        kd.push(0)\r\n    }else{\r\n        if (i % 10 === 0) {\r\n            kd.push('9');\r\n        } else {\r\n            kd.push(0);\r\n        }\r\n    }\r\n    \r\n\r\n}\r\n\r\nfunction innerRadius(value){\r\n    if(value > 99){\r\n        return 15\r\n    }else if(value > 98 && value <= 99){\r\n        return 42\r\n    }else{\r\n        return 0\r\n    }\r\n}\r\n\r\n//平均值\r\nvar average = 58.6;\r\nvar avgData=[]\r\nfor (var i =0; i< average; i++){\r\n    avgData.push(\"\");\r\n}\r\navgData.push(15)\r\n\r\nvar value = 66.6;\r\n\r\noption = {\r\n    title: {\r\n        text: '刻度',\r\n        show: false\r\n    },\r\n    grid:{\r\n      top:200,\r\n      left:550,\r\n      right:150,\r\n      bottom: 100\r\n    },\r\n    yAxis: [{\r\n        show: false,\r\n        min: 0,\r\n        max: 100,\r\n    }, {\r\n        show: false,\r\n        data: [],\r\n        min: 0,\r\n        max: 100,\r\n    }, {\r\n        show: false,\r\n        data: [],\r\n        min: 0,\r\n        max: 100,\r\n    }],\r\n    xAxis: [{\r\n        show: false,\r\n        data: [],\r\n        min: 0,\r\n        max: 100\r\n    }, {\r\n        show: false,\r\n        data: [],\r\n        min: 0,\r\n        max: 100\r\n    }, {\r\n        show: false,\r\n        min: 0,\r\n        max: 100,\r\n    }, {\r\n        show: false,\r\n        min: 0,\r\n        max: 100,\r\n    }],\r\n    backgroundColor: '#fff',\r\n    series: [\r\n        {\r\n        name: '条',\r\n        type: 'bar',\r\n        xAxisIndex: 1,\r\n        data: [value],\r\n        barWidth: 78,\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'yellowGreen',\r\n                barBorderRadius: [innerRadius(value),innerRadius(value),42,42],\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: ['130%','-10%'],\r\n                textStyle: {\r\n                    color: '#333',\r\n                    fontSize: '30',\r\n                }\r\n            }\r\n        },\r\n        z: 2\r\n    }, {\r\n        name: '外边框',\r\n        type: 'bar',\r\n        data: [100],\r\n        barWidth: 80,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#ffffff',\r\n                barBorderRadius: 45,\r\n                barBorderColor: '#333',\r\n                barBorderWidth:1.5,\r\n                borderType:\"solid\"\r\n            }\r\n        },\r\n        z: 1,\r\n    }, {\r\n        name: '刻度',\r\n        type: 'bar',\r\n        yAxisIndex: 1,\r\n        xAxisIndex: 2,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'right',\r\n                distance: '10',\r\n                color: '#333',\r\n                fontSize: 10,\r\n                formatter: function(params) {\r\n                    if (params.dataIndex % 10 === 0 && params.dataIndex !== 0 ) {\r\n                        return params.dataIndex;\r\n                    } else {\r\n                        return '';\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        data: kd,\r\n        barWidth: 1,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#333',\r\n                barBorderRadius: 10,\r\n            }\r\n        },\r\n        z: 3\r\n    },{\r\n        name: '平均',\r\n        type: 'bar',\r\n        yAxisIndex: 1,\r\n        xAxisIndex: 3,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: ['130%','-5%'],\r\n                distance: '10',\r\n                color: '#333',\r\n                fontSize: 20,\r\n                formatter: function(params) {\r\n                    if (params.data <= 0 ) {\r\n                        return '';\r\n                    } else {\r\n                        return average+'：全国平均';\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        data: avgData,\r\n        barWidth: 5,\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'green',\r\n                barBorderRadius: 10,\r\n            }\r\n        },\r\n        z: 3\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"bd-1606641265","theme":"","layout":"","viewCount":350,"userName":"你***1","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrkMpzL7mm.png?v=1531365114545","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":[],"updaterUserName":"你***1"}}