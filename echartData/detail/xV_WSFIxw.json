{"status":0,"data":{"cid":"xV_WSFIxw","authorUid":"bd-1711277968","authorUserName":"d***g","title":"柱状图差异对比","description":"完成率差异对比","latestVersion":1,"alwaysLatest":1,"createTime":"2019-12-17T05:46:25.000Z","lastUpdateTime":"2019-12-17T05:46:25.000Z","auth":2,"uid":"bd-1711277968","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-17T05:46:25.000Z","code":"var dataall = [{\n        name: '汇总',\n        text1: 45.7,\n        text3: 29.5,\n        text4: 16.2,\n        percent: (16.2 / 45.7 * 100).toFixed(2)\n    },\n    {\n        name: '1.5MW',\n        text1: 10,\n        text3: 6,\n        text4: 4,\n        percent: (4 / 10 * 100).toFixed(2)\n    },\n    {\n        name: '2MW',\n        text1: 7.2,\n        text3: 3.5,\n        text4: 3.7,\n        percent: (3.7 / 7.2 * 100).toFixed(2)\n    },\n    {\n        name: '2XMW',\n        text1: 12,\n        text3: 11,\n        text4: 1,\n        percent: (1 / 12 * 100).toFixed(2)\n    },\n]\nvar Yaxisdata = [];\nvar data1 = [];\nvar data2 = [];\nvar data3 = [];\nvar data4 = [];\nfor (var i = 0; i < dataall.length; i++) {\n    Yaxisdata.push(dataall[i].name);\n    data1.push(dataall[i].text1);\n    if (dataall[i].text1 > dataall[i].text3) {\n        data3.push({\n            name: dataall[i].name,\n            value: dataall[i].text3,\n            itemStyle: {\n                color: 'orange'\n            }\n        });\n    } else {\n        data3.push(dataall[i].text3);\n    }\n\n    data2.push(dataall[i].text2);\n    data4.push(dataall[i].text4)\n}\n\n\noption = {\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    legend: {\n        data: ['当前实际值', '当前计划值']\n    },\n    grid: {\n        left: '3%',\n        right: '24%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'value'\n    },\n    yAxis: {\n        type: 'category',\n        data: Yaxisdata\n    },\n    series: [{\n\n            type: 'bar',\n            stack: '总量',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'insideRight'\n                }\n            },\n            data: data1\n        },\n        {\n\n            type: 'bar',\n            stack: '总量',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'insideRight'\n                }\n            },\n            data: data2\n        },\n\n        {\n\n            type: 'bar',\n            stack: '总数',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'insideRight'\n                }\n            },\n            data: data3\n        },\n        {\n\n            type: 'bar',\n            stack: '总数',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'insideRight'\n                }\n            },\n            data: data4\n        },\n        {\n            name: dataall[3].name,\n            type: 'pie',\n            radius: ['10%', '15%'],\n            center: ['85%', '20%'],\n            avoidLabelOverlap: false,\n            label: {\n\n                show: false,\n                position: 'center',\n                formatter: '{c}%'\n            },\n            data: [{\n                    value: dataall[3].percent,\n                    name: '直接访问',\n                    label: {\n                        show: true\n                    }\n                },\n                {\n                    value: 100 - dataall[3].percent,\n                    name: '邮件营销'\n                },\n\n            ]\n        },\n        {\n            name: dataall[2].name,\n            type: 'pie',\n            radius: ['10%', '15%'],\n            center: ['85%', '40%'],\n            avoidLabelOverlap: false,\n            label: {\n\n                show: false,\n                position: 'center',\n                formatter: '{c}%'\n            },\n            data: [{\n                    value: dataall[2].percent,\n                    name: '直接访问',\n                    label: {\n                        show: true\n                    }\n                },\n                {\n                    value: 100 - dataall[2].percent,\n                    name: '邮件营销'\n                },\n\n            ]\n        },\n        {\n            name: dataall[1].name,\n            type: 'pie',\n            radius: ['10%', '15%'],\n            center: ['85%', '60%'],\n            avoidLabelOverlap: false,\n            label: {\n\n                show: false,\n                position: 'center',\n                formatter: '{c}%'\n            },\n            data: [{\n                    value: dataall[1].percent,\n                    name: '直接访问',\n                    label: {\n                        show: true\n                    }\n                },\n                {\n                    value: 100 - dataall[1].percent,\n                    name: '邮件营销'\n                },\n\n            ]\n        },\n        {\n            name: dataall[0].name,\n            type: 'pie',\n            radius: ['10%', '15%'],\n            center: ['85%', '80%'],\n            avoidLabelOverlap: false,\n            label: {\n\n                show: false,\n                position: 'center',\n                formatter: '{c}%'\n            },\n            data: [{\n                    value: dataall[0].percent,\n                    name: '直接访问',\n                    label: {\n                        show: true\n                    }\n                },\n                {\n                    value: 100 - dataall[0].percent,\n                    name: '邮件营销'\n                },\n\n            ]\n        }\n\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-1711277968","theme":"","layout":"","viewCount":191,"userName":"d***g","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xV_WSFIxw.png?v=1576561585967","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pie","tooltip"],"customTags":[],"updaterUserName":"d***g"}}