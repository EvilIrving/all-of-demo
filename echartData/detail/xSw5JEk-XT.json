{"status":0,"data":{"cid":"xSw5JEk-XT","authorUid":"obd-oD9amj-nrX6I9Fya4pN5tL3yvku-W1N","authorUserName":"勤***量","title":"分工人员数量分布及平均工资","description":"双y轴数据的展示趋于平衡","latestVersion":3,"alwaysLatest":1,"createTime":"2020-07-15T04:06:33.000Z","lastUpdateTime":"2020-07-15T04:06:33.000Z","auth":2,"uid":"obd-oD9amj-nrX6I9Fya4pN5tL3yvku-W1N","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-07-15T04:21:01.000Z","code":"//调整双Y轴刻度对齐  （max，min，interval）\r\nfunction _getMaxValue(arr) {\r\n    const max = Math.max(...arr);\r\n    // 这样处理是为了不让最大值刚好到坐标轴最顶部\r\n    return Math.ceil(max / 9.5) * 10;\r\n}\r\n\r\nconst data1 = [409, 887, 948, 611, 327, 355, 560, 498, 569];\r\nconst data2 = [8447.08, 7800.11, 2843.70, 6547.90, 5170, 6569, 506, 1873, 542];\r\nconst max1 = _getMaxValue(data1),\r\n    max2 = _getMaxValue(data2);\r\noption = {\r\n    title: {\r\n        text: '分工人员数量分布及平均工资',\r\n        left: 38,\r\n        top: 18,\r\n        textStyle: {\r\n            color: '#111',\r\n            fontWeight: 'lighter',\r\n            fontSize: 18\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['分工人员数量', '平均工资'],\r\n        type: 'scroll',\r\n        top: '50',\r\n        icon: \"circle\",\r\n    },\r\n    //提示框\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        showDelay: 0,\r\n        extraCssText: 'padding:15px;font-size:10px',\r\n        formatter: function(params) {\r\n            return params[0].name + '总数' + ' : ' + params[0].value + ' 人' + '<br/>' + params[1].name + '平均工资' + ' : ' + '¥ ' + params[1].value\r\n        },\r\n        axisPointer: {\r\n            show: true,\r\n            type: 'shadow',\r\n        }\r\n    },\r\n    // 直角坐标系内绘图网格\r\n    grid: {\r\n        left: '40',\r\n        right: '40',\r\n        top: '120',\r\n        bottom: '20',\r\n        containLabel: true\r\n    },\r\n    dataZoom: [ //给x轴设置滚动条  \r\n        {\r\n            start: 0, //默认为0  \r\n            end: (8 / 9) * 100, //9代表x轴data.length,8代表可展示的最大数\r\n            type: 'slider',\r\n            show: true,\r\n            xAxisIndex: [0],\r\n            handleSize: 0, //滑动条的 左右2个滑动条的大小  \r\n            height: 12, //组件高度 \r\n            bottom: 0, //右边的距离  \r\n            handleColor: '#ddd', //h滑动图标的颜色  \r\n            handleStyle: {\r\n                borderColor: \"#cacaca\",\r\n                borderWidth: \"1\",\r\n                shadowBlur: 2,\r\n                background: \"#ddd\",\r\n                shadowColor: \"#ddd\",\r\n            },\r\n            fillerColor: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{\r\n                //给颜色设置渐变色 前面4个参数，给第一个设置1，第四个设置0 ，就是水平渐变  \r\n                //给第一个设置0，第四个设置1，就是垂直渐变  \r\n                offset: 0,\r\n                color: '#7d90a2'\r\n            }, {\r\n                offset: 1,\r\n                color: '#4a5e70'\r\n            }]),\r\n            backgroundColor: '#efefef', //两边未选中的滑动条区域的颜色  \r\n            showDataShadow: false, //是否显示数据阴影 默认auto  \r\n            showDetail: false, //即拖拽时候是否显示详细数值信息 默认true  \r\n            handleIcon: 'M-292,322.2c-3.2,0-6.4-0.6-9.3-1.9c-2.9-1.2-5.4-2.9-7.6-5.1s-3.9-4.8-5.1-7.6c-1.3-3-1.9-6.1-1.9-9.3c0-3.2,0.6-6.4,1.9-9.3c1.2-2.9,2.9-5.4,5.1-7.6s4.8-3.9,7.6-5.1c3-1.3,6.1-1.9,9.3-1.9c3.2,0,6.4,0.6,9.3,1.9c2.9,1.2,5.4,2.9,7.6,5.1s3.9,4.8,5.1,7.6c1.3,3,1.9,6.1,1.9,9.3c0,3.2-0.6,6.4-1.9,9.3c-1.2,2.9-2.9,5.4-5.1,7.6s-4.8,3.9-7.6,5.1C-285.6,321.5-288.8,322.2-292,322.2z',\r\n            filterMode: 'filter'\r\n        },\r\n        //下面这个属性是里面拖到  \r\n        {\r\n            type: 'inside',\r\n            show: true,\r\n            xAxisIndex: [0],\r\n            start: 0, //默认为1  \r\n            end: 50\r\n        },\r\n    ],\r\n    calculable: true,\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: ['工1', '工2', '工3', '工4', '工5', '工6', '工7', '工8', '工9'],\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n    }],\r\n    //工具盒：转换折线，柱状，还原，保存\r\n    toolbox: {\r\n        show: true,\r\n        top: 10,\r\n        right: 20,\r\n        feature: {\r\n            mark: {\r\n                show: true\r\n            },\r\n            magicType: {\r\n                show: true,\r\n                type: ['line', 'bar'],\r\n                smooth: true\r\n            },\r\n            restore: {\r\n                show: true\r\n            },\r\n            saveAsImage: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    yAxis: [{\r\n        type: 'value',\r\n        name: '人数（人）',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        min: 0,\r\n        max: max1,\r\n        splitNumber: 5,\r\n        interval: max1 / 5,\r\n    }, {\r\n        type: 'value',\r\n        name: '金额（元）',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        //默认以千分位显示，不想用的可以在这加一段\r\n        axisLabel: { //调整左侧Y轴刻度， 直接按对应数据显示\r\n            show: true,\r\n            showMinLabel: true,\r\n            showMaxLabel: true,\r\n            formatter: function(value) {\r\n                return value;\r\n            }\r\n        },\r\n        splitNumber: 5,\r\n        interval: max2 / 5,\r\n        min: 0,\r\n        max: max2\r\n    }],\r\n    series: [{\r\n        name: '工种人员数量',\r\n        type: 'bar',\r\n        color: '#3e86ff',\r\n        yAxisIndex: 0,\r\n        barWidth: 20,\r\n        itemStyle: {\r\n            emphasis: {\r\n                barBorderRadius: 4\r\n            },\r\n            normal: {\r\n                barBorderRadius: 4,\r\n            }\r\n        },\r\n        data: [409, 887, 948, 611, 327, 355, 560, 498, 569]\r\n    }, {\r\n        name: '工种平均工资',\r\n        type: 'bar',\r\n        color: '#47ace7',\r\n        yAxisIndex: 1,\r\n        barWidth: 20,\r\n        itemStyle: {\r\n            emphasis: {\r\n                barBorderRadius: 4\r\n            },\r\n            normal: {\r\n                barBorderRadius: 4,\r\n            }\r\n        },\r\n        data: [8447.08, 7800.11, 2843.70, 6547.90, 5170, 6569, 506, 1873, 542],\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-oD9amj-nrX6I9Fya4pN5tL3yvku-W1N","theme":"","layout":"","viewCount":237,"userName":"勤***量","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSw5JEk-XT.png?v=1594786861173","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-bar","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"勤***量"}}