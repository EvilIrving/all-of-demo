{"status":0,"data":{"cid":"xyc8vvV2rF","authorUid":"bd-2956842748","authorUserName":"天使第一二","title":"带有图片的legend折线图","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2018-12-26T01:48:09.000Z","lastUpdateTime":"2018-12-26T01:48:09.000Z","auth":2,"uid":"bd-2956842748","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-26T02:11:51.000Z","code":"var uploadedDataURL_so2s = \"/asset/get/s/data-1545467145238-e2u2-lmeO.png\";\r\nvar uploadedDataURL_so2 = \"/asset/get/s/data-1545467141616-Eghv5Ytws.png\";\r\nvar uploadedDataURL_pm10s = \"/asset/get/s/data-1545467137737-vJz_yqL9t.png\";\r\nvar uploadedDataURL_pm10 = \"/asset/get/s/data-1545467133351-KLz42zsIF.png\";\r\nvar uploadedDataURL_pm25s = \"/asset/get/s/data-1545467128455-NU5t5ZG9E.png\";\r\nvar uploadedDataURL_pm25 = \"/asset/get/s/data-1545467124583-ORw-ECo5w.png\";\r\nvar uploadedDataURL_o3s = \"/asset/get/s/data-1545467121269-reelpI11u.png\";\r\nvar uploadedDataURL_o3 = \"/asset/get/s/data-1545467115259-Y5aDEbm8u.png\";\r\nvar uploadedDataURL_no2s = \"/asset/get/s/data-1545467110861-reFExi4DX.png\";\r\nvar uploadedDataURL_no2 = \"/asset/get/s/data-1545467105106-yPJ8Zcb4h.png\";\r\nvar uploadedDataURL_cos = \"/asset/get/s/data-1545467101721-021RL2hJL.png\";\r\nvar uploadedDataURL_co = \"/asset/get/s/data-1545467092460-k1AfgVk8S.png\";\r\n\r\n\r\n\r\nvar legendData = [{\r\n    name: 'PM2.5',\r\n    icon: 'image://'+uploadedDataURL_pm25s\r\n    //icon:'pie'\r\n}, {\r\n    name: 'NO2',\r\n    icon: 'image://'+uploadedDataURL_no2s\r\n}, {\r\n    name: 'O3',\r\n    icon: 'image://'+uploadedDataURL_o3s\r\n}, {\r\n    name: 'SO2',\r\n    icon: 'image://'+uploadedDataURL_so2s\r\n}, {\r\n    name: 'PM10',\r\n    icon: 'image://'+uploadedDataURL_pm10s\r\n}, {\r\n    name: 'CO',\r\n    icon: 'image://'+uploadedDataURL_cos\r\n}];\r\noption = {\r\n    color: ['#D53A35', '#E98F6F', '#6AB0B8', '#334B5C'],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        //formatter: \"{b} <br> 合格率: {c}%\"\r\n    },\r\n    legend: [{\r\n        type: 'plain',\r\n        bottom: '18%',\r\n        left: 'center',\r\n        itemWidth: 20,\r\n        itemHeight: 20,\r\n        itemGap: 38,\r\n        //orient:'vertical',\r\n        symbolKeepAspect: false,\r\n        data: [legendData[0], legendData[1], legendData[2]],\r\n        formatter: function(name) {\r\n            if (name == 'NO2') {\r\n                name = name + '  '; //3\r\n            }\r\n            return name;\r\n        },\r\n    }, {\r\n        type: 'plain',\r\n        top: '85%',\r\n        left: 'center',\r\n        itemWidth: 20,\r\n        itemHeight: 20,\r\n        itemGap: 38,\r\n        //orient:'vertical',\r\n        symbolKeepAspect: false,\r\n        data: [legendData[3], legendData[4], legendData[5]],\r\n        formatter: function(name) {\r\n            if (name == 'SO2') {\r\n                name = name + '    '; //4\r\n            }\r\n            return name;\r\n        },\r\n    }],\r\n    grid: {\r\n        //\t    \theight:'66%',\r\n        top: '6%',\r\n        bottom: '30%',\r\n        left: '4%',\r\n        right: '5%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        //name: '日期',\r\n        boundaryGap: false,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                color: '#AAA'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            color: '#AAAAAA'\r\n        },\r\n        data: ['5.1', '5.2', '5.3', '5.4', '5.5', '5.6', '5.7']\r\n    },\r\n    yAxis: {\r\n        name: '',\r\n        type: 'value',\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            color: '#AAA'\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                type: 'dotted',\r\n                color: '#AAA'\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n            name: 'PM2.5',\r\n            type: 'line',\r\n            stack: '总量',\r\n            //smooth:true,\r\n            data: [120, 132, 101, 134, 90, 230, 210]\r\n            //data:factorJson.PM2_5Arr\r\n        },\r\n        {\r\n            name: 'NO2',\r\n            type: 'line',\r\n            stack: '总量',\r\n            //smooth:true,\r\n            data: [220, 182, 191, 234, 290, 330, 310]\r\n            //data:factorJson.NO2Arr\r\n        },\r\n        {\r\n            name: 'O3',\r\n            type: 'line',\r\n            //smooth:true,\r\n            stack: '总量',\r\n            data: [150, 232, 201, 154, 190, 330, 410]\r\n            //data:factorJson.O3Arr\r\n        },\r\n        {\r\n            name: 'SO2',\r\n            type: 'line',\r\n            //smooth:true,\r\n            stack: '总量',\r\n            data: [320, 332, 301, 334, 390, 330, 320],\r\n            //data:factorJson.SO2Arr\r\n        },\r\n        {\r\n            name: 'PM10',\r\n            type: 'line',\r\n            //smooth:true,\r\n            stack: '总量',\r\n            data: [120, 302, 311, 324, 380, 320, 360]\r\n            //data:factorJson.PM10Arr\r\n        },\r\n        {\r\n            name: 'CO',\r\n            type: 'line',\r\n            //smooth:true,\r\n            stack: '总量',\r\n            data: [310, 352, 101, 234, 370, 310, 350]\r\n            //data:factorJson.COArr\r\n        },\r\n    ]\r\n};\r\n\r\n\tmyChart.on('legendselectchanged', function (params) {\r\n      let selected = params.selected;\r\n      let name = params.name;\r\n      switch(name){\r\n      \tcase 'PM2.5':{\r\n      \t\tif(selected['PM2.5']){\r\n\t\t\t\toption.legend[0].data[0].icon='image://'+uploadedDataURL_pm25s;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[0].data[0].icon='image://'+uploadedDataURL_pm25;\r\n\t\t\t}\r\n      \t}break;\r\n      \tcase 'NO2':{\r\n      \t\tif(selected['NO2']){\r\n\t\t\t\toption.legend[0].data[1].icon='image://'+uploadedDataURL_no2s;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[0].data[1].icon='image://'+uploadedDataURL_no2;\r\n\t\t\t}\r\n      \t}break;\r\n      \tcase 'O3':{\r\n      \t\tif(selected['O3']){\r\n\t\t\t\toption.legend[0].data[2].icon='image://'+uploadedDataURL_o3s;\r\n\t\t\t\t//option.legend.selected['NO2']=true;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[0].data[2].icon='image://'+uploadedDataURL_o3;\r\n\t\t\t}\r\n      \t}break;\r\n      \tcase 'SO2':{\r\n      \t\tif(selected['SO2']){\r\n\t\t\t\toption.legend[1].data[0].icon='image://'+uploadedDataURL_so2s;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[1].data[0].icon='image://'+uploadedDataURL_so2s;\r\n\t\t\t}\r\n      \t}break;\r\n      \tcase 'PM10':{\r\n      \t\tif(selected['PM10']){\r\n\t\t\t\toption.legend[1].data[1].icon='image://'+uploadedDataURL_pm10s;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[1].data[1].icon='image://'+uploadedDataURL_pm10;\r\n\t\t\t}\r\n      \t}break;\r\n      \tcase 'CO':{\r\n      \t\tif(selected['CO']){\r\n\t\t\t\toption.legend[1].data[2].icon='image://'+uploadedDataURL_cos;\r\n\t\t\t}else{\r\n\t\t\t\toption.legend[1].data[2].icon='image://'+uploadedDataURL_co;\r\n\t\t\t}\r\n      \t}break;\r\n\t      }\r\n\t      //局部刷新（init）\r\n\t      myChart.setOption({\r\n\t      //legend:{data:legendData}\r\n\t\t\tlegend:[\r\n\t\t\t\t{data:[legendData[0],legendData[1],legendData[2]]},\r\n\t\t\t\t{data:[legendData[3],legendData[4],legendData[5]]}\r\n\t\t\t]\r\n\t      })\r\n\t      //整体刷新\r\n\t      //myChart.setOption(option);\r\n\t})","html":"","externalScripts":"","updaterUID":"bd-2956842748","theme":"","layout":"","viewCount":19,"userName":"天使第一二","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xyc8vvV2rF.png?v=1545790311968","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","tooltip"],"customTags":[],"updaterUserName":"天使第一二"}}