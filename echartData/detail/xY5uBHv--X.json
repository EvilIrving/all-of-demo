{"status":0,"data":{"cid":"xY5uBHv--X","authorUid":"bd-6442928284","authorUserName":"流***r","title":"custom-symbol","description":"对标highcharts，修改symbol渲染逻辑","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-14T06:22:47.000Z","lastUpdateTime":"2021-09-14T06:22:47.000Z","auth":2,"uid":"bd-6442928284","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.0","versionCreateTime":"2021-09-14T06:22:47.000Z","code":"const headers = ['2011-09-30', '2011-10-31', '2011-11-30', '2011-12-31', '2012-01-31', '2012-02-29', '2012-03-31', '2012-04-30', '2012-05-31', '2012-06-30', '2012-07-31', '2012-08-31', '2012-09-30', '2012-10-31', '2012-11-30', '2012-12-31', '2013-01-31', '2013-02-28', '2013-03-31', '2013-04-30', '2013-05-31', '2013-06-30', '2013-07-31', '2013-08-31', '2013-09-30', '2013-10-31', '2013-11-30', '2013-12-31', '2014-01-31', '2014-02-28', '2014-03-31', '2014-04-30', '2014-05-31', '2014-06-30', '2014-07-31', '2014-08-31', '2014-09-30', '2014-10-31', '2014-11-30', '2014-12-31', '2015-01-31', '2015-02-28', '2015-03-31', '2015-04-30', '2015-05-31', '2015-06-30', '2015-07-31', '2015-08-31', '2015-09-30', '2015-10-31'];\n\nconst srcData = [24.9654,null,null,16.7573,null,null,10.9466,null,null,7.6162,null,null,7.0672,null,null,12.0246,null,null,8.4632,null,null,9.5515,null,null,10.5731,null,null,6.8437,null,null,6.1885,null,null,6.857,null,null,6.6064,null,null,4.6705,null,null,-0.4302,null,null,0.0367,null,null,-5.9624,null]\nconst subData = [13.8,13.2,12.4,12.8,null,21.3,11.9,9.3,9.6,9.5,9.2,8.9,9.2,9.6,10.1,10.3,null,null,8.9,9.3,9.2,8.9,9.7,10.4,10.2,10.3,10,9.7,null,null,8.8,8.7,8.8,9.2,9,6.9,8,7.7,7.2,7.9,7.4477,6.06,5.6,5.9,6.1,6.8,6,6.1,5.7,5.6]\nconst thirdData = [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.5,1.8,1.9,1.8,1.8,1.7,1.6,1.6,1.7,1.8,1.8,1.8,2,1.7,1.7,1.6,1.7,1.7,1.7,1.6,1.5,1.4,1.3,1.3,1.2,1.574,1.4596,1.4699,1.5758,1.6943,1.6845,1.703,1.6362,1.4731]\n\nconst renderCircleSymbolItem = (params, api) => {\n    var bandWidth = api.size([0, 0])[0];\n    var symbolSize = 8;\n    var point = api.coord([api.value(0), api.value(1)]);\n\n    return {\n        type: 'circle',\n        transition: ['shape'],\n        shape: {\n            cx: point[0],\n            cy: point[1],\n            r: symbolSize / 2,\n        },\n        invisible: symbolSize > bandWidth,\n        style: api.style({\n            fill: api.visual('color'),\n            stroke: 'none',\n            lineWidth: 0\n        }),\n    };\n};\n\nconst renderDiamondSymbolItem = (params, api) => {\n    var bandWidth = api.size([0, 0])[0];\n    var symbolSize = 8;\n    var point = api.coord([api.value(0), api.value(1)]);\n\n    return {\n        type: 'rect',\n        transition: ['shape'],\n        originX: point[0],\n        originY: point[1],\n        rotation: 45,\n        shape: {\n            x: point[0] - symbolSize / 2,\n            y: point[1] - symbolSize / 2,\n            width: symbolSize,\n            height: symbolSize\n        },\n        invisible: symbolSize > bandWidth,\n        style: api.style({\n            fill: api.visual('color'),\n            stroke: 'none',\n            lineWidth: 0\n        }),\n    };\n};\n\nconst renderRectSymbolItem = (params, api) => {\n    var bandWidth = api.size([0, 0])[0];\n    var symbolSize = 8;\n    var point = api.coord([api.value(0), api.value(1)]);\n\n    return {\n        type: 'rect',\n        transition: ['shape'],\n        originX: point[0],\n        originY: point[1],\n        rotation: 0,\n        shape: {\n            x: point[0] - symbolSize / 2,\n            y: point[1] - symbolSize / 2,\n            width: symbolSize,\n            height: symbolSize\n        },\n        invisible: symbolSize > bandWidth,\n        style: api.style({\n            fill: api.visual('color'),\n            stroke: 'none',\n            lineWidth: 0\n        }),\n    };\n};\n\noption = {\n    color: [\n      '#7cb5ec',\n      '#434348',\n      '#f7a35c',\n      '#8085e9',\n      '#f15c80',\n      '#c4ccd3',\n      '#e4d354',\n      '#2b908f',\n      '#f45b5b',\n      '#91e8e1'\n    ],\n    xAxis: {\n        type: 'category',\n        data: headers\n    },\n    yAxis: {\n        type: 'value'\n    },\n    legend: {\n        \n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    series: [\n        {\n            type: 'line',\n            name: 'xxx',\n            data: srcData,\n            symbol: 'circle',\n            showSymbol: false,\n            symbolSize: 10,\n            connectNulls: true\n        },\n        {\n            type: 'custom',\n            name: 'xxx',\n            data: srcData,\n            renderItem: renderCircleSymbolItem,\n            tooltip: {\n                show: false\n            }\n        },\n        {\n            type: 'line',\n            name: 'yyy',\n            data: subData,\n            symbol: 'diamond',\n            showSymbol: false,\n            symbolSize: 12,\n            connectNulls: true\n        },\n        {\n            type: 'custom',\n            name: 'yyy',\n            data: subData,\n            renderItem: renderDiamondSymbolItem,\n            tooltip: {\n                show: false\n            }\n        },\n        {\n            type: 'line',\n            name: 'zzz',\n            data: thirdData,\n            symbol: 'rect',\n            showSymbol: false,\n            symbolSize: 10,\n            connectNulls: true\n        },\n        {\n            type: 'custom',\n            name: 'zzz',\n            data: thirdData,\n            renderItem: renderRectSymbolItem,\n            tooltip: {\n                show: false\n            }\n        }\n    ]\n};","html":"","externalScripts":"","updaterUID":"bd-6442928284","theme":"","layout":"","viewCount":0,"userName":"流***r","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xY5uBHv--X.png?v=1631600568012","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-custom","series-line","tooltip"],"customTags":["custom","line","symbol"],"updaterUserName":"流***r"}}