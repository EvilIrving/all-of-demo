{"status":0,"data":{"cid":"xhbQRMRslb","authorUid":"obd-o0AP4HHW0jahxFS9LFYQ59p7xKysPFT","authorUserName":"叼***嘴","title":"类微信小程序后台展示柱状图","description":"为实现需求，仿照微信小程序数据展示柱状图","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-26T08:23:30.000Z","lastUpdateTime":"2021-09-26T08:23:30.000Z","auth":2,"uid":"obd-o0AP4HHW0jahxFS9LFYQ59p7xKysPFT","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-26T08:23:30.000Z","code":"const DATA = [\n    ['线下扫码', 455],\n    ['任务栏', 56],\n    ['小程序跳转', 8],\n    ['手机端搜索', 6],\n    ['发现 - 小程序', 5],\n    ['单聊分享', 4],\n    ['小程序功能', 4],\n    ['收藏', 3],\n    ['相册选择', 2],\n    ['Android系统', 12],\n].sort((a, b) => a[1] - b[1]); // 正序排序\nlet SUM = 0;\nDATA.map((item) => {\n    // 总合，为计算百分比\n    SUM += item[1];\n});\noption = {\n    // 数据集\n    dataset: {\n        source: DATA,\n    },\n    // 浮标提示\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        formatter: (params) => {\n            // 修改浮标展示\n            if (params[0].name !== '') {\n                return `${params[0].name}：${params[0].value[1]} (${\n                    Math.round((params[0].value[1] / SUM) * 10000) / 100 + '%'\n                })`;\n            }\n        },\n    },\n    // title 样式\n    title: {\n        text: '09/17 周五',\n        left: 'left',\n        top: 20,\n        textStyle: {\n            color: '#797979',\n        },\n    },\n    grid: {\n        containLabel: true,\n        left: '4%', // 距离左侧偏移量\n    },\n    xAxis: {\n        // show: false, // 是否开启 X 轴\n        name: '人次/百分比',\n    },\n    yAxis: {\n        type: 'category',\n        axisLabel: {\n            // Y 轴样式\n            show: true,\n            margin: 15,\n            textStyle: {\n                color: '#000000',\n            },\n        },\n        splitLine: {\n            // 是否展示 Y 轴辅助线\n            show: false,\n        },\n        axisTick: {\n            // 是否展示 Y 轴横线刻度\n            show: false,\n        },\n        axisLine: {\n            // 是否展示 Y 轴竖线\n            show: false,\n        },\n    },\n    series: [\n        {\n            type: 'bar',\n            barWidth: 20, // 柱子宽度\n            itemStyle: {\n                // 柿子样式\n                barBorderRadius: [0, 30, 30, 0],\n                color: '#07c160',\n            },\n            // 柱子后面跟随的数字\n            label: {\n                show: true,\n                position: 'right',\n                fontSize: 12,\n                fontWeight: 'bold',\n                color: '#727272',\n                formatter: function (params, index) {\n                    // 为计算百分比\n                    return `${params.value[1]} (${Math.round((params.value[1] / SUM) * 10000) / 100 + '%'})`;\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-o0AP4HHW0jahxFS9LFYQ59p7xKysPFT","theme":"","layout":"","viewCount":0,"userName":"叼***嘴","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhbQRMRslb.png?v=1632644610328","isCustomThumbnail":0,"builtinTags":["category-work","dataset","grid","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"叼***嘴"}}