{"status":0,"data":{"cid":"xhOl83nG0T","authorUid":"obd-oD5ZGP1SaC-BIQEihOzE-xsXKWi5m1t","authorUserName":"A***茶","title":"環形排名","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-10-13T01:43:36.000Z","lastUpdateTime":"2021-10-27T03:15:49.000Z","auth":2,"uid":"obd-oD5ZGP1SaC-BIQEihOzE-xsXKWi5m1t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-27T03:15:49.000Z","code":"\r\nlet color = ['#40a9ff', '#597ef7', '#36cfc9', '#9254de', '#f759ab'];\r\nlet colorop = ['#0050b3', '#10239e', '#006d75', '#391085', '#9e1068'];\r\nconst colorList = [\r\n                new echarts.graphic.LinearGradient(.3, 1, .8, .1, [{\r\n                        offset: 0,\r\n                     color: '#40a9ff'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#096dd9'\r\n                    },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(0, .5, 1, .7, [{\r\n                        offset: 0,\r\n                     color: '#597ef7'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#1d39c4'\r\n                    },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(.1, 0, .1, 1, [{\r\n                        offset: 0,\r\n                     color: '#36cfc9'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#08979c'\r\n                    },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, .5, 0, .7, [{\r\n                        offset: 0,\r\n                     color: '#9254de'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#531dab'\r\n                    },\r\n                ]),\r\n                new echarts.graphic.LinearGradient(1, .7, .6, .1, [{\r\n                        offset: 0,\r\n                     color: '#f759ab'\r\n                 }, {\r\n                     offset: 1,\r\n                     color: '#c41d7f'\r\n                    },\r\n                ]),\r\n]\r\nlet chartData = [{\r\n        name: \"运行管家\",\r\n        value: 729,\r\n        unit: '个'\r\n    },\r\n    {\r\n        name: \"知识图谱\",\r\n        value: 608,\r\n        unit: '个'\r\n    },\r\n    {\r\n        name: \"K线图\",\r\n        value: 316,\r\n        unit: '个'\r\n    },\r\n    {\r\n        name: \"东莞台区画像\",\r\n        value: 207,  \r\n        unit: '个'\r\n    },\r\n    {\r\n        name: \"佛山电压分析\",\r\n        value: 140,\r\n        unit: '个'\r\n    }\r\n];\r\nlet arrName = [];\r\nlet arrValue = [];\r\nlet sum = 0;\r\nlet pieSeries = [],\r\n    lineYAxis = [];\r\n\r\n// 数据处理\r\nchartData.forEach((v, i) => {\r\n    arrName.push(v.name);\r\n    arrValue.push(v.value);\r\n    sum = sum + v.value;\r\n})\r\n\r\n// 图表option整理\r\nchartData.forEach((v, i) => {\r\n    pieSeries.push({\r\n        name: '设备',\r\n        type: 'pie',\r\n        clockWise: false,\r\n        hoverAnimation: false,\r\n        radius: [63 - i * 15 + '%', 57 - i * 15 + '%'],\r\n        center: [\"30%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        data: [{\r\n            value: v.value*4,\r\n            name: v.name,\r\n            itemStyle: {\r\n                shadowColor: colorop[i],\r\n                shadowBlur: 24,\r\n                shadowOffsetX: '5',\r\n                shadowOffsetY: '5',\r\n            }\r\n        }, {\r\n            value: sum - v.value,\r\n            name: '',\r\n            itemStyle: {\r\n                color: \"rgba(0,0,0,0)\"\r\n            }\r\n        }]\r\n    });\r\n    pieSeries.push({\r\n        name: '',\r\n        type: 'pie',\r\n        silent: true,\r\n        z: 1,\r\n        clockWise: false, //顺时加载\r\n        hoverAnimation: false, //鼠标移入变大\r\n        radius: [63 - i * 15 + '%',57 - i * 15 + '%'],\r\n        center: [\"30%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        data: [{\r\n            value: 7.5,\r\n            itemStyle: {\r\n                color: \"#293755\"\r\n            }\r\n        }, {\r\n            value: 2.5,\r\n            name: '',\r\n            itemStyle: {\r\n                color: \"rgba(0,0,0,0)\"\r\n            }\r\n        }]\r\n    });\r\n    v.percent = v.value;\r\n    lineYAxis.push({\r\n        value: i,\r\n        textStyle: {\r\n            rich: {\r\n                circle: {\r\n                    color: color[i],\r\n                    padding: [0, 5],\r\n                    fontSize: 16,\r\n                }\r\n            }\r\n        }\r\n    });\r\n})\r\n\r\noption = {\r\n    backgroundColor: '#1A213E',\r\n    color: colorList,\r\n    grid: {\r\n        top: '15%',\r\n        bottom: '49%',\r\n        left: \"30%\",\r\n        containLabel: false\r\n    },\r\n    yAxis: [{\r\n        type: 'category',\r\n        inverse: true,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            formatter: function(params) {\r\n                let item = chartData[params];\r\n                console.log(item)\r\n                return '{line|}{circle|●}{name|'+ item.name +'}{bd||}{circle|'+item.percent+'}'\r\n            },\r\n            interval: 0,\r\n            inside: true,\r\n            textStyle: {\r\n                color: \"#e6f7ff\",\r\n                fontSize: 14,\r\n                rich: {\r\n                    name: {\r\n                        color: '#9FACBB',\r\n                        fontSize: 14,\r\n                    },\r\n                    bd: {\r\n                        color: '#e6f7ff',\r\n                        padding: [0, 5],\r\n                        fontSize: 14,\r\n                    },\r\n                    percent:{\r\n                        color: '#333',\r\n                        fontSize: 14,\r\n                    },\r\n                    value: {\r\n                        color: '#333',\r\n                        fontSize: 16,\r\n                        fontWeight: 500,\r\n                        padding: [0, 0, 0, 20]\r\n                    },\r\n                    unit: {\r\n                        fontSize: 14\r\n                    }\r\n                }\r\n            },\r\n            show: true\r\n        },\r\n        data: lineYAxis\r\n    }],\r\n    xAxis: [{\r\n        show: false\r\n    }],\r\n    series: pieSeries\r\n};","html":"","externalScripts":"","updaterUID":"obd-oD5ZGP1SaC-BIQEihOzE-xsXKWi5m1t","theme":"","layout":"","viewCount":0,"userName":"A***茶","commentCount":0,"starCount":9,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xhOl83nG0T.png?v=1635304549999","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pie"],"customTags":[],"updaterUserName":"A***茶"}}