{"status":0,"data":{"cid":"xLsam9V1Jt","authorUid":"obd-oN5Ds0RSZeHageOmpvV6ymVe71BRVCx","authorUserName":"正***眼","title":"重叠柱形图与平均线","description":"-","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-18T09:15:51.000Z","lastUpdateTime":"2021-11-18T09:15:51.000Z","auth":2,"uid":"obd-oN5Ds0RSZeHageOmpvV6ymVe71BRVCx","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-18T09:15:51.000Z","code":"        var option = {\r\n            title: {\r\n                text: '单位 %',\r\n                left: '25px',\r\n                textStyle: {\r\n                    color: '#666',\r\n                    fontWeight: '400',\r\n                    fontSize: 12,\r\n                }\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                }\r\n            },\r\n            legend: {\r\n                x: 'right'\r\n            },\r\n            color: [\r\n                '#fdad61', '#68bfa3', '#4a8df0'\r\n            ],\r\n            grid: {\r\n                left: '0%',\r\n                right: '8%',\r\n                bottom: '3%',\r\n                containLabel: true\r\n            },\r\n            xAxis: [{\r\n                type: 'category',\r\n                axisTick: {\r\n                  show: false  \r\n                },\r\n                axisLabel: {\r\n                    interval: 0\r\n                },\r\n                data: ['地区1', '地区2', '地区3', '地区4', '地区5']\r\n            }],\r\n            yAxis: [{\r\n                show: false,\r\n                type: 'value',\r\n                name: '单位 %',\r\n            }],\r\n            series: [\r\n\r\n                {\r\n                    name: '当月完成',\r\n                    type: 'bar',\r\n                    stack: 'Ad',\r\n                    emphasis: {\r\n                        focus: 'series'\r\n                    },\r\n                    data: [220, 182, 191, 234, 290]\r\n                }, {\r\n                    name: '累计完成',\r\n                    type: 'bar',\r\n                    stack: 'Ad',\r\n                    emphasis: {\r\n                        focus: 'series'\r\n                    },\r\n                    label: {\r\n                        show: true,\r\n                        position: 'top'\r\n                    },\r\n                    data: [150, 232, 201, 154, 190]\r\n                },\r\n                {\r\n                    name: '均值',\r\n                    type: 'line',\r\n                    emphasis: {\r\n                        focus: 'series'\r\n                    },\r\n                    lineStyle: {\r\n                        color: 'transparent'\r\n                    },\r\n                    symbol: \"none\",\r\n                    data: [],\r\n                    markLine: {　　　　　　\r\n                        data: [{\r\n                            type: 'average',\r\n                            name: '平均值'\r\n                        }]　　　　\r\n                    }\r\n                },\r\n            ]\r\n        };\r\n        // 计算总数\r\n        var sum = 0;\r\n        var num = 0;\r\n        var arr = option.series[0].data;\r\n        var arr1 = option.series[1].data;\r\n        var arr2 = option.series[2].data;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            sum += arr[i];\r\n        }\r\n        for (var i = 0; i < arr.length; i++) {\r\n            sum += arr1[i];\r\n        }\r\n\r\n        // 计算总数均值\r\n        for (var i = 0; i < arr.length; i++) {\r\n            num = arr1[i] + arr[i];\r\n            arr2.push(num);\r\n            num = 0;\r\n        }\r\n        option.series[1].label.formatter = function(params) { return (params.value / sum * 100).toFixed(2); };\r\n        option.series[2].data = arr2;","html":"","externalScripts":"","updaterUID":"obd-oN5Ds0RSZeHageOmpvV6ymVe71BRVCx","theme":"","layout":"","viewCount":0,"userName":"正***眼","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLsam9V1Jt.png?v=1637226951512","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","markLine","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"正***眼"}}