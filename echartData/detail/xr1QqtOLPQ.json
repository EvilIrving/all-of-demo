{"status":0,"data":{"cid":"xr1QqtOLPQ","authorUid":"bd-2824700862","authorUserName":"159******05","title":"铜陵市地图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2018-08-31T08:17:15.000Z","lastUpdateTime":"2018-08-31T08:17:15.000Z","auth":2,"uid":"bd-2824700862","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.1.0","versionCreateTime":"2018-08-31T08:37:37.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1535703257065-ByZyYu8v7.json\";\r\n\r\n\r\n$.get(uploadedDataURL, function(geoJson) {\r\n    echarts.registerMap('340700', geoJson);\r\n    var geoCoordMap = {\r\n        '枞阳县1': [357, 459],\r\n        '枞阳县2': [357, 429],\r\n        '枞阳县4': [307, 359],\r\n        '枞阳县5': [357, 409],\r\n        '郊区': [627, 429],\r\n        '铜官区': [667, 359],\r\n        '义安区': [757, 309],\r\n    }\r\n    var data = [{\r\n            name: '枞阳县1',\r\n            value: 159\r\n        },\r\n        {\r\n            name: '枞阳县2',\r\n            value: 109\r\n        },\r\n        {\r\n            name: '枞阳县4',\r\n            value: 69\r\n        },\r\n        {\r\n            name: '枞阳县5',\r\n            value: 80\r\n        },\r\n        {\r\n            name: '郊区',\r\n            value: 70\r\n        },\r\n        {\r\n            name: '铜官区',\r\n            value: 152\r\n        },\r\n        {\r\n            name: '义安区',\r\n            value: 209\r\n        }\r\n    ];\r\n    var max = 480,\r\n        min = 9; // todo\r\n    var maxSize4Pin = 100,\r\n        minSize4Pin = 20;\r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    myChart.setOption(option = {\r\n        backgroundColor: '#0830a1',\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: function(params) {\r\n                if (typeof(params.value)[2] == \"undefined\") {\r\n                    return params.name + ' : ' + params.value;\r\n                } else {\r\n                    return params.name + ' : ' + params.value[2];\r\n                }\r\n            }\r\n        },\r\n        /*legend: {\r\n            show: true,\r\n            orient: 'horizontal',\r\n            icon: 'circle',\r\n            top: 20,\r\n            x: 'center',\r\n            textStyle: {\r\n                color: '#fff'\r\n            },\r\n            data: ['340700']\r\n        },*/\r\n        geo: {\r\n            show: true,\r\n            map: 'tongling',\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                }\r\n            },\r\n            roam: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#21ffff',\r\n                }\r\n            }\r\n\r\n        },\r\n        visualMap: {\r\n            show: false,\r\n            min: 1,\r\n            max: 5,\r\n            text: ['High', 'Low'],\r\n            realtime: false,\r\n            calculable: false,\r\n            inRange: {\r\n                color: ['#1a96ff', '#5cbcff', '#3baaff', '#147ef8', '#ff0515']\r\n            }\r\n        },\r\n        series: [{\r\n                name: '340700',\r\n                type: 'map',\r\n                mapType: '340700', // 自定义扩展图表类型\r\n                hoverAnimation: true,\r\n                roam: false,\r\n                itemStyle: {\r\n                    normal: { //未选中状态\r\n                        label: {\r\n                            show: true, //显示名称\r\n                            color: '#0b35ad',\r\n                        }\r\n                    },\r\n                    emphasis: { // 也是选中样式\r\n                        areaColor: '#ffff18', //'#09ffd7'\r\n                        opacity: 0.7,\r\n                        label: {\r\n                            show: true,\r\n                            textStyle: {\r\n                                color: '#0b35ad'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                data: [{\r\n                        name: '枞阳县',\r\n                        value: 1,\r\n                    },\r\n                    {\r\n                        name: '郊区',\r\n                        value: 2,\r\n                    },\r\n                    {\r\n                        name: '铜官区',\r\n                        value: 3,\r\n                    },\r\n                    {\r\n                        name: '义安区',\r\n                        value: 4,\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                name: '高亮频率特快',\r\n                type: 'effectScatter',\r\n                roam: false,\r\n                coordinateSystem: 'geo',\r\n                data: convertData(data),\r\n                symbolSize: function(val) {\r\n                    return val[2] / 8;\r\n                },\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    brushType: 'stroke',\r\n                    scale: 3, //设置缩放\r\n                    period: 3, //设置时间\r\n                },\r\n                hoverAnimation: true,\r\n                itemStyle: {\r\n                    normal: {\r\n                        normal: {\r\n                            areaColor: '#ff0515',\r\n                            color: '#ff0515',\r\n                            shadowBlur: 10,\r\n                            shadowColor: '#ff0515'\r\n                        }\r\n                    }\r\n                },\r\n                zlevel: 2,\r\n            },\r\n\r\n        ]\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"bd-2824700862","theme":"","layout":"","viewCount":231,"userName":"159******05","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xr1QqtOLPQ.png?v=1535704657934","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"159******05"}}