{"status":0,"data":{"cid":"x5j4O4vHeF","authorUid":"obd-oC-tEppqRk80zQ5YDIG0zTWhFeFN83H","authorUserName":"1***6","title":"双饼图+柱状图","description":"","latestVersion":6,"alwaysLatest":0,"createTime":"2021-08-20T06:37:51.000Z","lastUpdateTime":"2021-12-31T05:31:27.000Z","auth":1,"uid":"obd-oC-tEppqRk80zQ5YDIG0zTWhFeFN83H","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"5.1.2","versionCreateTime":"2021-12-31T05:31:27.000Z","code":"var dataStyle = {\n    normal: {\n        label: {\n            show: false,\n        },\n        labelLine: {\n            show: false,\n        },\n        shadowBlur: 40,\n        borderWidth: 10,\n        shadowColor: 'rgba(0, 0, 0, 0)', //边框阴影\n    },\n};\nvar placeHolderStyle = {\n    normal: {\n        color: '#043958',\n        label: {\n            show: false,\n        },\n        labelLine: {\n            show: false,\n        },\n    },\n    emphasis: {\n        color: '#043958',\n    },\n};\nvar data = [\n    {\n        name: '标题1',\n        value: 10,\n        sum: 10,\n    },\n    {\n        name: '标题2',\n        value: 20,\n        sum: 10,\n    },\n    {\n        name: '标题3',\n        value: 23,\n        sum: 50,\n    },\n];\nvar getArrByKey = (data, k) => {\n    let key = k || 'value';\n    let res = [];\n    if (data) {\n        data.forEach(function (t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n};\nvar getSymbolData = (data) => {\n    let arr = [];\n    for (var i = 0; i < data.length; i++) {\n        arr.push({\n            value: data[i].value,\n            symbolPosition: 'end',\n        });\n    }\n    return arr;\n};\noption = {\n    backgroundColor: '#081c47',\n    title: [\n        //文本数值显示\n        {\n            text: '标题1',\n            x: '22%',\n            y: '13%',\n            textStyle: {\n                fontSize: 20,\n                color: '#ffffff',\n            },\n        },\n        {\n            text: '43%',\n            x: '26%',\n            y: '22%',\n            textStyle: {\n                fontSize: 20,\n                color: '#29EEF3',\n            },\n        },\n        {\n            text: '标题2',\n            x: '52%',\n            y: '13%',\n            textStyle: {\n                fontSize: 20,\n                color: '#ffffff',\n            },\n        },\n        {\n            text: '43%',\n            x: '56%',\n            y: '22%',\n            textStyle: {\n                fontSize: 20,\n                color: '#29EEF3',\n            },\n        },\n    ],\n    tooltip: {\n        trigger: 'item',\n        show: true,\n        formatter: '{b} : <br/>{d}%',\n        backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n        padding: [8, 10], //内边距\n        extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);', //添加阴影\n    },\n    grid: [\n        {\n            left: '20%',\n            right: '17%', // 网格部分\n            top: '41%',\n            bottom: '5%',\n            containLabel: true,\n        },\n    ],\n    xAxis: { show: false },\n    yAxis: [\n        {\n            triggerEvent: true,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: { show: false },\n            splitLine: { show: false },\n            axisTick: { show: false },\n            axisLabel: { show: false },\n        },\n        {\n            triggerEvent: true,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: { show: false },\n            splitLine: { show: false },\n            axisTick: { show: false },\n            axisLabel: {\n                interval: 0,\n                shadowOffsetX: '-20px',\n                color: ['#fff'],\n                align: 'right',\n                margin: 50,\n                lineHeight: 50,\n                fontSize: 13,\n                formatter: function (value, index) {\n                    return (data[index].value / data[index].sum) * 100 + '%';\n                },\n            },\n        },\n    ],\n    series: [\n        //横向柱形图\n        {\n            name: 'XXX',\n            type: 'pictorialBar',\n            symbolSize: [3, 3],\n            symbolOffset: [-3, 0],\n            symbol: 'emptyCircle',\n            z: 13,\n            itemStyle: {\n                normal: {\n                    color: '#fdfdfd',\n                },\n            },\n            data: getSymbolData(data),\n        },\n        {\n            name: 'XXX',\n            type: 'pictorialBar',\n            symbolSize: [7, 7],\n            symbolOffset: [-1, 0],\n            symbol: 'emptyCircle',\n            z: 12,\n            itemStyle: {\n                normal: {\n                    color: '#a1ffda',\n                },\n            },\n            data: getSymbolData(data),\n        },\n{\n            name: 'XXX',\n            type: 'pictorialBar',\n            symbolSize: [10, 10],\n            // symbolOffset: [2, 0],\n            symbol: 'emptyCircle',\n            z: 11,\n            itemStyle: {\n                normal: {\n                    color: '#16f8f7',\n                },\n            },\n            data: getSymbolData(data),\n        },\n        {\n            name: '条',\n            type: 'bar',\n            showBackground: true,\n            barBorderRadius: 30,\n            yAxisIndex: 0,\n            data: data,\n            barWidth: 5,\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(\n                        0,\n                        0,\n                        1,\n                        0,\n                        [\n                            { offset: 0, color: '#583cad' },\n                            { offset: 0.2, color: '#474abd' },\n                            { offset: 0.4, color: '#3757d2' },\n                            { offset: 0.6, color: '#1e69e6' },\n                            { offset: 0.6, color: '#1573ed' },\n                            { offset: 1, color: '#0b77f3' },\n                        ],\n                        false\n                    ),\n                    barBorderRadius: 10,\n                },\n                barBorderRadius: 4,\n            },\n            label: {\n                normal: {\n                    color: '#fff',\n                    show: true,\n                    position: [0, '-25'],\n                    textStyle: {\n                        fontSize: 13,\n                    },\n                    formatter: function (a, b) {\n                        return a.name;\n                    },\n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-ojo201NyuNBROqJF87PuslRJh-d1REB","theme":"","layout":"","viewCount":0,"userName":"1***6","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x5j4O4vHeF.png?v=1629441472141","isCustomThumbnail":1,"builtinTags":["category-work","grid","series-bar","series-custom","series-pictorialBar","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"m***0"}}