{"status":0,"data":{"cid":"xkzrS2ku4","authorUid":"bd-2182780168","authorUserName":"偶***道","title":"折线图 - 断点处理","description":"解决折线图中的断点显示问题：\n  用虚线连接断点，所以需要写个算法根据前后的值取一个虚拟值，然后用虚线连接。","latestVersion":5,"alwaysLatest":1,"createTime":"2019-11-04T08:18:58.000Z","lastUpdateTime":"2019-11-04T08:18:58.000Z","auth":2,"uid":"bd-2182780168","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-21T11:16:53.000Z","code":"var dataArr = [0,0,79,85,0,0,82,78,86];\r\noption = {\r\n    backgroundColor:\"#0B1837\",\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'none',\r\n        },\r\n        textStyle: {\r\n            fontSize: 18,\r\n        },\r\n        formatter: function (params){\r\n            var sname = params[0].seriesName;\r\n            var areaname = params[0].name;\r\n            var val = params[0].value;\r\n            if(window.isNaN(params[0].value)||val==''){\r\n                val = '暂无数据';\r\n            }else{\r\n                val += '万人';\r\n            }\r\n            return areaname+'<br/>'+ sname+ ': ' + val;\r\n        }\r\n    },\r\n    grid: {\r\n        left: '8%',\r\n        right: '0',\r\n        top: '20%',\r\n        bottom: '15%'\r\n    },\r\n    xAxis: [\r\n        {\r\n            type: 'category',\r\n            boundaryGap: true,\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: '#2d4c99',\r\n                },\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                color: '#ffffff',\r\n                fontSize: 16,\r\n                interval: 0\r\n            },\r\n            data: ['2017.09','2017.12','2018.03','2018.06','2018.09','2018.12','2019.03','2019.06','2019.09'],\r\n        }\r\n    ],\r\n    yAxis: [\r\n        {\r\n            type: 'value',\r\n            name: '单位:万人           ',\r\n            nameGap: 20,\r\n            nameTextStyle: {\r\n                color: '#bebebe',\r\n                fontSize: 12,\r\n            },\r\n            min: 75,\r\n            max: 86,\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: '#0d2b75',\r\n                    type: 'dashed',\r\n                },\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                color: '#ffffff',\r\n                fontSize: 14,\r\n                interval: 0\r\n            },\r\n        },\r\n    ],\r\n    series: [\r\n        {\r\n            type: 'line',\r\n            name: '低保对象',\r\n            lineStyle: {\r\n                color: '#08eaef',\r\n                type: 'solid',\r\n                width: 3,\r\n            },\r\n            symbolSize: 8,\r\n            data: dealnullData(dataArr),\r\n            z: 1,\r\n        },\r\n        // 虚线\r\n        {\r\n            type: 'line',\r\n            // 连接空值点\r\n            connectNulls: true,\r\n            lineStyle: {\r\n                color: '#a5a5a5',\r\n                type: 'dashed',\r\n                width: 2,\r\n            },\r\n            symbol: 'none',\r\n            data: dealnullData(dataArr),\r\n            // data: tabDashedArr,\r\n            z: 0,\r\n        },\r\n    ]\r\n};\r\n// 处理断点的算法\r\nfunction dealnullData(dataArr) {\r\n    var tabDashed = [];\r\n    var temp='';\r\n    var len = dataArr.length;\r\n\r\n    for(var i=0;i<len;i++){\r\n        for(var j=i;j<len;j++){\r\n            if(dealTabData(dataArr[j])!=''){\r\n                temp = dealTabData(dataArr[j]);\r\n                tabDashed[i]=dealTabData(dataArr[j]);\r\n                break;\r\n            }else{\r\n                if(temp!=''){\r\n                    if(j<len-1) {\r\n                        for (var add = 0; add + j < len; add++) {\r\n                            if (dealTabData(dataArr[j + add]) != '') {\r\n                                // tabDashed[i] = (temp + dealTabData(dataArr[j + add])) / 2;\r\n                                tabDashed[i] = '';\r\n                                break;\r\n                            }\r\n                        }\r\n                        break;\r\n                    }else {\r\n                        tabDashed[i] = temp;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return tabDashed;\r\n}\r\nfunction dealTabData(obj) {\r\n    if(obj=='0'){\r\n        obj='';\r\n    }\r\n    return obj;\r\n}","html":"","externalScripts":"","updaterUID":"bd-2182780168","theme":"","layout":"","viewCount":86,"userName":"偶***道","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xkzrS2ku4.png?v=1574335013477","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-line","tooltip"],"customTags":[],"updaterUserName":"偶***道"}}