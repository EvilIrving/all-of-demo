{"status":0,"data":{"cid":"xst_JizY5","authorUid":"bd-2291206321","authorUserName":"1***去","title":"标题","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2019-12-12T04:03:34.000Z","lastUpdateTime":"2021-11-22T06:38:18.000Z","auth":2,"uid":"bd-2291206321","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-22T06:38:18.000Z","code":"var m2R2Data = [{\r\n        value: 335,\r\n        value1: 234,\r\n        legendname: 'Ⅰ类',\r\n        name: \"Ⅰ类\",\r\n        itemStyle: {\r\n            color: \"#8d7fec\"\r\n        }\r\n    },\r\n    {\r\n        value: 310,\r\n        value1: 314,\r\n        legendname: 'Ⅱ类',\r\n        name: \"Ⅱ类\",\r\n        itemStyle: {\r\n            color: \"#5085f2\"\r\n        }\r\n    },\r\n    {\r\n        value: 234,\r\n        value1: 235,\r\n        legendname: 'Ⅲ类',\r\n        name: \"Ⅲ类\",\r\n        itemStyle: {\r\n            color: \"#e75fc3\"\r\n        }\r\n    },\r\n    {\r\n        value: 154,\r\n        value1: 213,\r\n        legendname: 'Ⅳ类',\r\n        name: \"Ⅳ类\",\r\n        itemStyle: {\r\n            color: \"#f87be2\"\r\n        }\r\n    },\r\n    {\r\n        value: 335,\r\n        value1: 321,\r\n        legendname: 'Ⅴ类',\r\n        name: \"Ⅴ类\",\r\n        itemStyle: {\r\n            color: \"#f2719a\"\r\n        }\r\n    },\r\n\r\n];\r\n\r\noption = {\r\n    title: [{\r\n            text: '全网调控情况',\r\n            textStyle: {\r\n                fontSize: 16,\r\n                color: \"black\"\r\n            },\r\n            left: \"2%\"\r\n        },\r\n        {\r\n            text: '全网均温',\r\n            subtext: 44.5 + '℃',\r\n            textStyle: {\r\n                fontSize: 15,\r\n                color: \"black\"\r\n            },\r\n            subtextStyle: {\r\n                fontSize: 20,\r\n                color: 'black'\r\n            },\r\n            textAlign: \"center\",\r\n            x: '34.5%',\r\n            y: '44%',\r\n        }\r\n    ],\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: function(parms) {\r\n            var str = parms.seriesName + \"</br>\" +\r\n                parms.marker + \"\" + parms.data.legendname + \"</br>\" +\r\n                \"当前温度：\" + parms.data.value + \"</br>\" +\r\n                \"目标温度：\" + parms.data.value1 + \"</br>\" +\r\n                \"占比：\" + parms.percent + \"%\";\r\n            return str;\r\n        }\r\n    },\r\n    legend: {\r\n        type: \"scroll\",\r\n        orient: 'vertical',\r\n        left: '65%',\r\n        align: 'left',\r\n        top: 'middle',\r\n        textStyle: {\r\n            color: '#8C8C8C'\r\n        },\r\n\r\n    },\r\n    series: [{\r\n        name: '全网调控情况',\r\n        type: 'pie',\r\n        center: ['35%', '50%'],\r\n        radius: ['40%', '65%'],\r\n        clockwise: false, //饼图的扇区是否是顺时针排布\r\n        avoidLabelOverlap: false,\r\n        itemStyle: { //图形样式\r\n            normal: {\r\n                borderColor: '#ffffff',\r\n                borderWidth: 1,\r\n            },\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'outter',\r\n                formatter: function(parms) {\r\n                    return parms.data.legendname\r\n                }\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                length: 15,\r\n                length2: 13,\r\n                smooth: true,\r\n            }\r\n        },\r\n        data: m2R2Data\r\n    }]\r\n};\r\n    autoFn(m2R2Data.length)\r\n    function autoFn(leng){\r\n             var that = this\r\n            //轮播效果\r\n            var currentIndex = -1\r\n           \r\n            //  let myChart = echarts.getInstanceByDom(document.getElementById(\"chart-panel\"))\r\n            var dataLen =leng\r\n\r\n            that.timer = setInterval(() => {\r\n                //  计时器增加\r\n                that.ai++\r\n\r\n                if (that.ai == dataLen) {\r\n                    that.ai = 1\r\n                }\r\n                 console.log(dataLen)\r\n                // 取消之前高亮的图形\r\n                myChart.dispatchAction({\r\n                    type: 'downplay',\r\n                    seriesIndex: 0,\r\n                    dataIndex: currentIndex,\r\n                })\r\n                currentIndex = (currentIndex + 1) % dataLen\r\n                // 高亮当前图形\r\n                myChart.dispatchAction({\r\n                    type: 'highlight',\r\n                    seriesIndex: 0,\r\n                    dataIndex: currentIndex,\r\n                })\r\n                // 显示 tooltip\r\n              myChart.dispatchAction({\r\n                    type: 'showTip',\r\n                    seriesIndex: 0,\r\n                    dataIndex: currentIndex,\r\n                })\r\n            }, 3000)\r\n    }\r\n    ","html":"","externalScripts":"","updaterUID":"bd-2291206321","theme":"","layout":"","viewCount":104,"userName":"1***去","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xst_JizY5.png?v=1637563099094","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"1***去"}}