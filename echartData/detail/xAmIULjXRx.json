{"status":0,"data":{"cid":"xAmIULjXRx","authorUid":"obd-o-HS0ZTEBpotGpv-NJsAwpsi1oLQiAQ","authorUserName":"s***1","title":"商品销量排行","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-20T08:37:44.000Z","lastUpdateTime":"2020-10-20T08:37:44.000Z","auth":2,"uid":"obd-o-HS0ZTEBpotGpv-NJsAwpsi1oLQiAQ","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-20T08:37:44.000Z","code":"data = [{\r\n        name: '商品1',\r\n        value: 55.35,\r\n        label: \"55.35%\",\r\n        sum: 100\r\n    },\r\n    {\r\n        name: '忠县柑橘大丰骐达',\r\n        value: 25.68,\r\n        label: \"25.68%\",\r\n        sum: 100\r\n    },\r\n    {\r\n        name: '商品3',\r\n        value: 16.24,\r\n        label: \"16.24%\",\r\n        sum: 100\r\n    },\r\n    {\r\n        name: '商品4',\r\n        value: 6.24,\r\n        label: \"6.24%\",\r\n        sum: 100\r\n    },\r\n    {\r\n        name: '商品5',\r\n        value: 5.24,\r\n        label: \"5.24%\",\r\n        sum: 100\r\n    }\r\n];\r\ndata = data.sort((a, b) => {\r\n    return b.value - a.value\r\n});\r\ngetArrByKey = (data, k) => {\r\n    let key = k || \"value\";\r\n    let res = [];\r\n    if (data) {\r\n        data.forEach(function(t) {\r\n            res.push(t[key]);\r\n        });\r\n    }\r\n    return res;\r\n};\r\nopt = {\r\n    index: 0\r\n}\r\ncolor = ['#368BFF', '#0CEBEA'];\r\n\r\noption = {\r\n    grid: {\r\n        top: '2%',\r\n        bottom: '1%',\r\n        right: 30,\r\n        left: 30,\r\n        containLabel: true\r\n    },\r\n    tooltip: {\r\n        show: true,\r\n        formatter: '{b} : {c}%'\r\n    },\r\n    xAxis: {\r\n        show: false\r\n    },\r\n    yAxis: [{\r\n        triggerEvent: true,\r\n        show: true,\r\n        inverse: true,\r\n        data: getArrByKey(data, 'name'),\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            align: 'right',\r\n            verticalAlign: 'middle',\r\n            fontSize: 16,\r\n            textStyle: {\r\n                color: '#FEFEFE',\r\n            },\r\n            formatter: function(value, index) {\r\n                var val=\"\";\r\n                        if(value.length >4){\r\n                            val = value.substr(0,4)+'...';\r\n                            return val;\r\n                        }else{\r\n                            return value;\r\n                        }\r\n            },\r\n        }\r\n    },{\r\n        type: 'category',\r\n        inverse: true,\r\n        axisTick: 'none',\r\n        axisLine: 'none',\r\n        show: true,\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: '#ffffff',\r\n                fontSize: '12'\r\n            },\r\n        },\r\n        data:getArrByKey(data, 'label'),\r\n    }],\r\n    series: [{\r\n        name: '百分比条',\r\n        type: 'bar',\r\n        showBackground: true,\r\n        backgroundStyle: {\r\n            barBorderRadius: 30,\r\n        },\r\n        yAxisIndex: 0,\r\n        data: data,\r\n        barWidth: 30,\r\n        // barCategoryGap: '40%',\r\n        itemStyle: {\r\n            normal: {\r\n                show: true,\r\n                // 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，分别表示右,下,左,上。例如（0，0，0，1）表示从正上开始向下渐变；如果是（1，0，0，0），则是从正右开始向左渐变。\r\n                // 相当于在图形包围盒中的百分比，如果最后一个参数传 true，则该四个值是绝对的像素位置\r\n                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                    offset: 0,\r\n                    color: color[0] //指0%处的颜色\r\n                }, {\r\n                    offset: 1,\r\n                    color: color[1]  //指100%处的颜色\r\n                }], false),\r\n                barBorderRadius: 30,\r\n\r\n            },\r\n            emphasis: {\r\n                color: new echarts.graphic.LinearGradient(\r\n                    0, 0, 1, 0,\r\n                    [{\r\n                            offset: 0,\r\n                            color: '#CE8A00'\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: '#EEBA00'\r\n                        }\r\n                    ]\r\n                )\r\n\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                // color: '#000',\r\n                show: false,\r\n                // position: [-65, '-20px'],\r\n                position:'right',\r\n                textStyle: {\r\n                    fontSize: 16\r\n                },\r\n                formatter: function(a, b) {\r\n                    // return (data[index].value / data[index].sum * 100).toFixed(2) + '%'\r\n                    return a.value\r\n                }\r\n            }\r\n        }\r\n    }]\r\n};","html":"","externalScripts":"","updaterUID":"obd-o-HS0ZTEBpotGpv-NJsAwpsi1oLQiAQ","theme":"dark","layout":"","viewCount":203,"userName":"s***1","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xAmIULjXRx.png?v=1603183064165","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","tooltip"],"customTags":[],"updaterUserName":"s***1"}}