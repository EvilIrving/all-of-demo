{"status":0,"data":{"cid":"xDaaaOQ1h","authorUid":"bd-1711678821","authorUserName":"虎***啊","title":"Android APP CPU占用率实时图表","description":"Android APP CPU占用率实时图表","latestVersion":4,"alwaysLatest":1,"createTime":"2019-11-14T03:25:11.000Z","lastUpdateTime":"2019-11-14T03:25:11.000Z","auth":2,"uid":"bd-1711678821","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-14T06:28:48.000Z","code":"var legendData = ['系统总占用率', 'App占用率'];\nvar time = 0;\nvar zoomStart = 0;\nvar zoomEnd = 100;\nvar xAxisData = [];\nvar seriesData = [{\n        name: '系统总占用率',\n        type: 'line',\n        lineStyle: {\n            width: 1\n        },\n        showSymbol: false,\n        smooth: true, //是否平滑显示折现\n        data: []\n    },\n    {\n        name: 'App占用率',\n        type: 'line',\n        lineStyle: {\n            width: 1\n        },\n        showSymbol: false,\n        smooth: true, //是否平滑显示折现\n        data: []\n    }\n];\noption = {\n    color: ['#327bfa', '#62d56b'],\n    title: {\n        show: false,\n        text: 'CPU占用率',\n        x: '50%',\n        y: '5%',\n        textAlign: \"center\",\n        textStyle: {\n            color: '#bac7e5',\n            fontSize: '30',\n            fontWeight: 'normal'\n        }\n\n    },\n    tooltip: {\n        trigger: 'axis',\n        backgroundColor: '#282d3b',\n        textStyle: {\n            color: '#bac7e5'\n        }\n    },\n    legend: {\n        bottom: '0',\n        data: legendData,\n        textStyle: {\n            color: '#bac7e5'\n        },\n        icon: 'rect',\n        itemWidth: 12,\n        itemHeight: 12\n    },\n    grid: {\n        top: '30%',\n        left: '5%',\n        right: '5%',\n        bottom: '30%',\n        containLabel: true\n    },\n    toolbox: {\n        show: false\n    },\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        axisTick: {\n            show: true\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#7c88a7'\n            }\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            color: '#bac7e5'\n        },\n        data: xAxisData\n    },\n    dataZoom: [{\n        type: \"slider\",\n        /*类型*/\n        xAxisIndex: 0,\n        /*对应的轴*/\n        bottom: \"23%\",\n        /*位置，定位*/\n        start: 0,\n        /*开始*/\n        end: 100,\n        /*结束*/\n        handleIcon: \"M0,0 v9.7h5 v-9.7h-5 Z\",\n        handleStyle: {\n            /*手柄的样式*/\n            color: \"#00b0ff\",\n            borderColor: \"#00b0ff\"\n        },\n        backgroundColor: \"#233239\",\n        borderColor: \"#233239\",\n        /*背景 */\n        dataBackground: {\n            /*数据背景*/\n            lineStyle: {\n                color: \"#000000\"\n            },\n            areaStyle: {\n                color: \"#ddd\"\n            }\n        },\n        fillerColor: \"rgba(31,178,251,0.2)\",\n        /*被start和end遮住的背景*/\n        labelFormatter: function(value, params) {\n            /*拖动时两端的文字提示*/\n            var str = \"\";\n            if (params.length > 5) {\n                str = params.substring(0, 5) + \"…\";\n            } else {\n                str = params;\n            }\n            return str;\n        },\n        textStyle: {\n            color: '#bac7e5'\n        }\n    }],\n    yAxis: {\n        type: 'value',\n        name: '占用率',\n        nameTextStyle: {\n            color: '#bac7e5'\n        },\n        max: 120,\n        axisTick: {\n            show: true\n        },\n        splitLine: {\n            show: false\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#7c88a7'\n            }\n        },\n        axisLabel: {\n            color: '#bac7e5'\n        },\n    },\n    backgroundColor: '#233239',\n    series: seriesData\n};\n\nfunction timef() {\n    var str;\n    time++;\n    var m = Math.round(time / 60);\n    str = m < 10 ? '0' + m : m;\n    str += ':';\n    var s = time % 60;\n    str += s < 10 ? '0' + s : s;\n    return str;\n}\n\nfunction random() {\n    var value = (Math.random() * 100).toFixed(2);\n    return value > 30 && value < 50 ? value : random();\n}\n\napp.timeTicket = setInterval(function() {\n    var value = parseInt(Math.random() * 100);\n    setPercent(value);\n}, 1000);\n\nmyChart.on('dataZoom', function(event) {\n    if (event.batch) {\n        zoomStart = event.batch[0].start;\n        zoomEnd = event.batch[0].end;\n    } else {\n        zoomStart = event.start;\n        zoomEnd = event.end;\n    };\n});\n\nfunction setPercent(p) {\n    option.xAxis.data.push(timef());\n    var allv = random();\n    option.series[0].data.push(allv);\n    option.series[1].data.push((allv * 0.5).toFixed(2));\n    option.dataZoom[0].start = zoomStart;\n    option.dataZoom[0].end = zoomEnd;\n    myChart.setOption(option);\n}","html":"","externalScripts":"","updaterUID":"bd-1711678821","theme":"","layout":"","viewCount":399,"userName":"虎***啊","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDaaaOQ1h.png?v=1573712929008","isCustomThumbnail":0,"builtinTags":["category-work","dataZoom","grid","legend","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"虎***啊"}}