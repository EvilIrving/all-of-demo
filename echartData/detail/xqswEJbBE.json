{"status":0,"data":{"cid":"xqswEJbBE","authorUid":"bd-1148448149","authorUserName":"姑***语","title":"象棋-散点图","description":"象棋-散点图","latestVersion":5,"alwaysLatest":1,"createTime":"2019-12-11T09:58:04.000Z","lastUpdateTime":"2019-12-11T09:58:04.000Z","auth":2,"uid":"bd-1148448149","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.4.0","versionCreateTime":"2019-12-12T08:01:51.000Z","code":"var blackJuimage = \"/asset/get/s/data-1576055383730-yw87bo2L.jpg\";\nvar blackMimage = \"/asset/get/s/data-1576055391916-hRrZjCak.jpg\";\nvar blackPimage = \"/asset/get/s/data-1576055397138-MkZaxN0P.jpg\";\nvar blackShiimage = \"/asset/get/s/data-1576055401328-Nu1AOCC_.jpg\";\nvar blackXimage = \"/asset/get/s/data-1576055405517-cFV2PomZ.jpg\";\nvar blackZimage = \"/asset/get/s/data-1576055410277-VShVIAsy.jpg\";\nvar redBimage = \"/asset/get/s/data-1576055414269-8HhjCI8k.jpg\";\nvar redMimage = \"/asset/get/s/data-1576055418481-pM9V69MN.jpg\";\nvar redPimage = \"/asset/get/s/data-1576055422744-uYEoHpmm.jpg\";\nvar redSimage = \"/asset/get/s/data-1576055425912-sVVsyVyM.jpg\";\nvar redShiimage = \"/asset/get/s/data-1576055431575-UBEqXUH1.jpg\";\nvar redXimage = \"/asset/get/s/data-1576055434725-7GvfxDh5.jpg\";\nvar blackJimage = \"/asset/get/s/data-1576055321930-fB42iADN.jpg\";\nvar qipan = \"/asset/get/s/data-1576054841141-Ge_RYvPZ.jpg\";\nvar redCimage = \"/asset/get/s/data-1576054917502-CtKE_uSn.jpg\";\n\n\ndocument.getElementById('chart-panel').innerHTML=\"<div id='echarts1' style='width: 500px;height: 667px; background: url(\"+qipan+\") no-repeat 0% 50%;float: left'></div><div id='show' style='width: 300px;height: 667px; float: left;padding-left: 20px;background-color: #ffffff;'><div style='width: 100px;height: 100px;padding-top: 200px;'>        <img id='selectQ' src='\"+redCimage+\"' width='100px' height='99px'></div><div style='width: 100px;height: 10px;text-align: center;padding-top: 20px;'><span id='playerName'>红方</span></div><div style='width: 100px;height: 10px;text-align: center;padding-top: 20px;'><span id='message'></span></div></div>\";\n\nvar myChart1 = echarts.init(document.getElementById('echarts1'));\n    var zuobiao= [[0,1],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[7,1],[8,1],\n                [0,2],[2,2],[3,2],[4,2],[5,2],[6,2],[8,2],\n                [1,3],[3,3],[5,3],[7,3],\n                [0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[8,4],\n                [0,5],[1,5],[2,5],[3,5],[4,5],[5,5],[6,5],[7,5],[8,5],\n                [1,6],[3,6],[5,6],[7,6],\n                [0,7],[2,7],[3,7],[4,7],[5,7],[6,7],[8,7],\n                [0,8],[1,8],[2,8],[3,8],[4,8],[5,8],[6,8],[7,8],[8,8]\n                ];\n    var blackJu= [[0,0],[8,0]];//黑棋-車\n    var blackM=[[1,0],[7,0]];//黑棋-马\n    var blackX=[[2,0],[6,0]];//黑棋-象\n    var blackShi=[[3,0],[5,0]];//黑棋-士\n    var blackJ=[[4,0]];//黑棋-将\n    var blackP=[[1,2],[7,2]];//黑棋-炮\n    var blackZ=[[0,3],[2,3],[4,3],[6,3],[8,3]];//黑棋-卒\n    var redC= [[0,9],[8,9]];//红棋-车\n    var redM=[[1,9],[7,9]];//红棋-马\n    var redX=[[2,9],[6,9]];//红棋-象\n    var redShi=[[3,9],[5,9]];//红棋-士\n    var redS=[[4,9]];//红棋-帅\n    var redP=[[1,7],[7,7]];//红棋-兵\n    var redB=[[0,6],[2,6],[4,6],[6,6],[8,6]];//红棋-卒\n    var moveBefore=[0,0];//移动前棋子位置数据\n    var oldReturnValues;//上一个棋子的数据\n    var selectStatus=0;//是否选中棋子\n    var qiziType;//棋子类型\n    var player=1;//棋手 1--红方；2--黑方\n    echars1();\n    function echars1(){\n        var option = {\n           /* backgroundColor: 'rgba(175,153,124,1)',*/\n            grid: {\n                top:'17%',\n                left: '2.5%',\n                bottom: '9.7%',\n                right: '10%',\n                containLabel: true\n            },\n            toolbox: {\n                feature: {\n                    myTool1: {\n                        show: true,\n                        title: '重新开始',\n                        icon: 'path://M940.032 623.104c-9.728 0-18.432 3.584-25.088 9.728-5.12 4.096-8.704 9.728-11.264 16.384-58.368 166.4-215.552 278.016-391.68 278.016s-333.312-111.616-391.68-277.504c-7.168-18.432-27.136-27.648-46.08-22.016-19.968 6.144-31.232 27.136-25.088 47.104 69.12 196.608 254.464 328.192 462.848 328.192 156.16 0 299.52-73.728 390.656-193.536v2.56c0 20.992 16.896 37.888 37.888 37.888 20.992 0 37.888-16.896 37.888-37.888V660.48c-0.512-20.48-17.408-37.376-38.4-37.376zM83.968 402.432c16.384 0 30.208-10.752 35.328-25.088v-0.512C161.28 256 256.512 160.768 377.344 119.296c216.576-74.24 452.608 40.96 527.36 257.536 5.12 15.36 19.456 25.6 35.84 25.6 4.096 0 8.192-0.512 12.288-2.048 19.456-6.656 30.208-28.16 23.04-48.128C926.72 209.92 814.592 97.28 671.232 48.128 465.92-22.528 246.272 51.2 121.344 215.04v-1.024c0-20.992-16.896-37.888-37.888-37.888S46.08 193.024 46.08 214.016v151.04c0 20.48 16.896 37.376 37.888 37.376z',\n                        onclick: function () {\n                            refresh();\n                        }\n                    },\n                }\n            },\n            xAxis: {\n                type: 'value',\n                min: 0,\n                max: 8,\n                minInterval: 1,\n                maxInterval: 1,\n                axisTick: {\n                    show : false\n                },\n                axisLabel: {\n                    show:true,\n                    margin: 35,\n                    color:\"rgba(188,159,253,1)\"\n                },\n                axisLine: {\n                    show:true\n                },\n                splitLine:{\n                    show : true\n                }\n            },\n            yAxis: {\n                type: 'value',\n                min: 0,\n                max: 9,\n                minInterval: 1,\n                maxInterval: 1,\n                axisTick: {\n                    show : false\n                },\n                axisLabel: {\n                    show:true,\n                    margin: 35,\n                    color:\"rgba(188,159,253,1)\"\n                },\n                axisLine: {\n                    show:true\n                },\n                splitLine:{\n                    show : true\n                }\n            },\n            series: [\n                {\n                    type: 'scatter',\n                    itemStyle:\n                        {\n                            color:\"rgba(188,159,253,0)\"\n                        },\n                    symbolSize: 30,\n                    data: zuobiao\n\n                },\n                {\n                    name:'黑車',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055383730-yw87bo2L.jpg',\n                    symbolSize: 40,\n                    data: blackJu\n                },\n                {\n                    name:'黑马',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055391916-hRrZjCak.jpg',\n                    symbolSize: 40,\n                    data: blackM\n                },\n                {\n                    name:'黑象',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055405517-cFV2PomZ.jpg',\n                    symbolSize: 40,\n                    data:blackX\n                },\n                {\n                    name:'黑士',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055401328-Nu1AOCC_.jpg',\n                    symbolSize: 40,\n                    data:blackShi\n                },\n                {\n                    name:'黑将',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055321930-fB42iADN.jpg',\n                    symbolSize: 40,\n                    data:blackJ\n                },\n                {\n                    name:'黑炮',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055397138-MkZaxN0P.jpg',\n                    symbolSize: 40,\n                    data:blackP\n                },\n                {\n                    name:'黑卒',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055410277-VShVIAsy.jpg',\n                    symbolSize: 40,\n                    data:blackZ\n                },\n                {\n                    name:'红车',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576054917502-CtKE_uSn.jpg',\n                    symbolSize: 40,\n                    data: redC\n                },\n                {\n                    name:'红马',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055418481-pM9V69MN.jpg',\n                    symbolSize: 40,\n                    data: redM\n                },\n                {\n                    name:'红象',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055434725-7GvfxDh5.jpg',\n                    symbolSize: 40,\n                    data:redX\n                },\n                {\n                    name:'红士',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055431575-UBEqXUH1.jpg',\n                    symbolSize: 40,\n                    data:redShi\n                },\n                {\n                    name:'红帅',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055425912-sVVsyVyM.jpg',\n                    symbolSize: 40,\n                    data:redS\n                },\n                {\n                    name:'红炮',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055422744-uYEoHpmm.jpg',\n                    symbolSize: 40,\n                    data:redP\n                },\n                {\n                    name:'红兵',\n                    type: 'scatter',\n                    animation: false,\n                    symbol:'image://./asset/get/s/data-1576055414269-8HhjCI8k.jpg',\n                    symbolSize: 40,\n                    data:redB\n                }\n            ]\n        };\n        myChart1.setOption(option);\n        myChart1.on('click', function (params){\n             var returns=winORlose();\n            if(returns){\n                echarts1Clik(params.data);\n            }\n        })\n    }\n\n    function echarts1Clik(data) {\n        var returnValue=seekQ(data);\n        var returnValues = returnValue.split(\"-\");\n        if(1==selectStatus){\n            if(1==player){\n                if(\"r\"==returnValues[0]){\n                   if(\"C\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redCimage\n                    }else if(\"M\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redMimage\n                    }else if(\"X\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redXimage\n                    }else if(\"Shi\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redShiimage;\n                    }else if(\"S\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redSimage;\n                    }else if(\"P\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redPimage;\n                    }else if(\"B\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redBimage;\n                    }\n                    selectStatus=1;\n                    moveBefore=data;\n                    oldReturnValues=returnValues;\n                    qiziType=returnValues[1];\n                }else{\n                    var booleans=moveRule(qiziType,moveBefore,data,returnValue);\n                    if(booleans){\n                        moveQizi(oldReturnValues[0],oldReturnValues[1],oldReturnValues[2],moveBefore,data);\n                        player=2;\n                        selectStatus=0;\n                        document.getElementById(\"message\").innerHTML=\"红方执棋完毕\";\n                        document.getElementById(\"playerName\").innerHTML=\"黑方\";\n                        if(returnValue!=-1){\n                            deleteQizi(returnValues[0],returnValues[1],returnValues[2],data);\n                        }\n                        myChart1.setOption({series:[{data: zuobiao},{data: blackJu},{data: blackM},{data:blackX},{data:blackShi },{data:blackJ},{data:blackP},{data:blackZ},{data: redC},{data: redM},{data:redX},{data:redShi},{data:redS},{data:redP},{ data:redB}]})\n                    }else{\n                        document.getElementById(\"message\").innerHTML=\"棋子到不了指定位置\";\n                    }\n                }\n            }else if(2==player){\n                if(\"b\"==returnValues[0]){\n                    if(\"Ju\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackJuimage;\n                    }else if(\"M\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackMimage;\n                    }else if(\"X\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackXimage;\n                    }else if(\"Shi\"==returnValues[1]){\n        \t\t        document.getElementById(\"selectQ\").src=blackShiimage;\n                    }else if(\"J\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackJimage;\n                    }else if(\"P\"==returnValues[1]){\n                        document.getElementById(\"selectQ\").src=blackPimage;\n                    }else if(\"Z\"==returnValues[1]){\n                        document.getElementById(\"selectQ\").src=blackZimage;\n                    }\n                    selectStatus=1;\n                    moveBefore=data;\n                    oldReturnValues=returnValues;\n                    qiziType=returnValues[1];\n                }else{\n                    var booleans=moveRule(qiziType,moveBefore,data,returnValue);\n                    if(booleans){\n                        moveQizi(oldReturnValues[0],oldReturnValues[1],oldReturnValues[2],moveBefore,data);\n                        player=1;\n                        selectStatus=0;\n                        document.getElementById(\"message\").innerHTML=\"黑方执棋完毕\";\n                        document.getElementById(\"playerName\").innerHTML=\"红方\";\n                        if(returnValue!=-1){\n                            deleteQizi(returnValues[0],returnValues[1],returnValues[2],data);\n                        }\n                        myChart1.setOption({series:[{data: zuobiao},{data: blackJu},{data: blackM},{data:blackX},{data:blackShi },{data:blackJ},{data:blackP},{data:blackZ},{data: redC},{data: redM},{data:redX},{data:redShi},{data:redS},{data:redP},{ data:redB}]})\n                        \n                    }else{\n                        document.getElementById(\"message\").innerHTML=\"棋子到不了指定位置\";\n                    }\n                }\n            }\n        }else if(0==selectStatus){\n            if(1==player){\n                if(\"r\"==returnValues[0]){\n                    if(\"C\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redCimage;\n                    }else if(\"M\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redMimage;\n                    }else if(\"X\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redXimage;\n                    }else if(\"Shi\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redShiimage;\n                    }else if(\"S\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redSimage;\n                    }else if(\"P\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redPimage;\n                    }else if(\"B\"==returnValues[1]){\n                       document.getElementById(\"selectQ\").src=redBimage;\n                    }\n                    selectStatus=1;\n                    moveBefore=data;\n                    oldReturnValues=returnValues;\n                    qiziType=returnValues[1];\n                }else{\n                    document.getElementById(\"message\").innerHTML=\"请选择棋子\";\n                }\n            }else if(2==player){\n                if(\"b\"==returnValues[0]){\n                    if(\"Ju\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackJuimage;\n                    }else if(\"M\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackMimage;\n                    }else if(\"X\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackXimage;\n                    }else if(\"Shi\"==returnValues[1]){\n        \t\t        document.getElementById(\"selectQ\").src=blackShiimage;\n                    }else if(\"J\"==returnValues[1]){\n                         document.getElementById(\"selectQ\").src=blackJimage;\n                    }else if(\"P\"==returnValues[1]){\n                        document.getElementById(\"selectQ\").src=blackPimage;\n                    }else if(\"Z\"==returnValues[1]){\n                        document.getElementById(\"selectQ\").src=blackZimage;\n                    }\n                    selectStatus=1;\n                    moveBefore=data;\n                    oldReturnValues=returnValues;\n                    qiziType=returnValues[1];\n                }else{\n                    document.getElementById(\"message\").innerHTML=\"请选择棋子\";\n                }\n            }\n        }\n    }\n\n    function deleteArray(data) {\n        var index = indexOf(data);\n        if (index > -1) {\n            zuobiao.splice(index, 1);\n            return 1;\n        }else{\n            return index;\n        }\n\n    }\n    function seekQ(data) {\n        var returnValue='-1';\n        for (var i = 0; i < blackJu.length; i++) {\n            if (blackJu[i].toString() == data.toString()) {\n                returnValue = 'b-Ju-'+i;\n            }\n        }\n        for (var i = 0; i < blackM.length; i++) {\n            if (blackM[i].toString() == data.toString()) {\n                returnValue = 'b-M-'+i;\n            }\n        }\n        for (var i = 0; i < blackX.length; i++) {\n            if (blackX[i].toString() == data.toString()) {\n                returnValue = 'b-X-'+i;\n            }\n        }\n        for (var i = 0; i < blackShi.length; i++) {\n            if (blackShi[i].toString() == data.toString()) {\n                returnValue = 'b-Shi-'+i;\n            }\n        }\n        for (var i = 0; i < blackJ.length; i++) {\n            if (blackJ[i].toString() == data.toString()) {\n                returnValue = 'b-J-'+i;\n            }\n        }\n        for (var i = 0; i < blackP.length; i++) {\n            if (blackP[i].toString() == data.toString()) {\n                returnValue = 'b-P-'+i;\n            }\n        }\n        for (var i = 0; i < blackZ.length; i++) {\n            if (blackZ[i].toString() == data.toString()) {\n                returnValue = 'b-Z-'+i;\n            }\n        }\n        for (var i = 0; i < redC.length; i++) {\n            if (redC[i].toString() == data.toString()) {\n                returnValue = 'r-C-'+i;\n            }\n        }\n        for (var i = 0; i < redM.length; i++) {\n            if (redM[i].toString() == data.toString()) {\n                returnValue = 'r-M-'+i;\n            }\n        }\n        for (var i = 0; i < redX.length; i++) {\n            if (redX[i].toString() == data.toString()) {\n                returnValue = 'r-X-'+i;\n            }\n        }\n        for (var i = 0; i < redShi.length; i++) {\n            if (redShi[i].toString() == data.toString()) {\n                returnValue = 'r-Shi-'+i;\n            }\n        }\n        for (var i = 0; i < redS.length; i++) {\n            if (redS[i].toString() == data.toString()) {\n                returnValue = 'r-S-'+i;\n            }\n        }\n        for (var i = 0; i < redP.length; i++) {\n            if (redP[i].toString() == data.toString()) {\n                returnValue = 'r-P-'+i;\n            }\n        }\n        for (var i = 0; i < redB.length; i++) {\n            if (redB[i].toString() == data.toString()) {\n                returnValue = 'r-B-'+i;\n            }\n        }\n        return returnValue;\n    }\n    function indexOf(data) {\n        for (var i = 0; i < zuobiao.length; i++) {\n            if (zuobiao[i].toString() == data.toString()) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    function moveRule(type,moveBefore,moveAfter,returnValue) {\n        if(\"Ju\"==type || \"C\"==type){\n            if(moveBefore[0]==moveAfter[0]){\n                var juX=new Array();\n                for (var i =0; i < zuobiao.length; i++) {\n                    var zuodiaoD=zuobiao[i];\n                    if(parseInt(moveBefore[1])-parseInt(moveAfter[1])>0){\n                        if (zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]<parseInt(moveBefore[1])&& zuodiaoD[1]>=parseInt(moveAfter[1])) {\n                            juX.push(zuodiaoD)\n                        }\n                    }else{\n                        if (zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]>parseInt(moveBefore[1])&& zuodiaoD[1]<=parseInt(moveAfter[1])) {\n                            juX.push(zuodiaoD)\n                        }\n                    }\n                }\n                var num=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n                var juXlength;\n                if(returnValue==-1){\n                    juXlength=juX.length\n                }else {\n                    juXlength=juX.length+1;\n                }\n                if(num==juXlength){\n                    return true;\n                }else {\n                    return false;\n                }\n            }else if(moveBefore[1]==moveAfter[1]){\n                var juY=new Array();\n                for (var i =0; i < zuobiao.length; i++) {\n                    var zuodiaoD=zuobiao[i];\n                    if(parseInt(moveBefore[0])-parseInt(moveAfter[0])>0){\n                        if (zuodiaoD[1] == moveAfter[1] && zuodiaoD[0]<parseInt(moveBefore[0])&& zuodiaoD[0]>=parseInt(moveAfter[0])) {\n                            juY.push(zuodiaoD)\n                        }\n                    }else{\n                        if (zuodiaoD[1] == moveAfter[1] && zuodiaoD[0]>parseInt(moveBefore[0])&& zuodiaoD[0]<=parseInt(moveAfter[0])) {\n                            juY.push(zuodiaoD)\n                        }\n                    }\n                }\n                var num=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n                var juYlength;\n                if(returnValue==-1){\n                    juYlength=juY.length\n                }else {\n                    juYlength=juY.length+1;\n                }\n                if(num==juYlength){\n                    return true;\n                }else {\n                    return false;\n                }\n            }else{\n                return false;\n            }\n        }\n        if(\"M\"==type){\n            var x=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n            var y=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n            if(x==1 && y==2){\n                if(parseInt(moveBefore[1])-parseInt(moveAfter[1])>0){\n                    var moveindes= moveinde(moveBefore[0],parseInt(moveBefore[1])-1);\n                    if(moveindes>-1){\n                        return true;\n                    }else {\n                        return false;\n                    }\n                }else{\n                    var moveindes= moveinde(moveBefore[0],parseInt(moveBefore[1])+1);\n                    if(moveindes>-1){\n                        return true;\n                    }else {\n                        return false;\n                    }\n                }\n            }else if(x==2 && y==1){\n                if(parseInt(moveBefore[0])-parseInt(moveAfter[0])>0){\n                    var moveindes= moveinde(parseInt(moveBefore[0])-1,moveBefore[1]);\n                    if(moveindes>-1){\n                        return true;\n                    }else {\n                        return false;\n                    }\n                }else{\n                    var moveindes= moveinde(parseInt(moveBefore[0])+1,moveBefore[1]);\n                    if(moveindes>-1){\n                        return true;\n                    }else {\n                        return false;\n                    }\n                }\n            }else{\n                return false;\n            }\n        }\n        if(\"X\"==type){\n            var x=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n            var y=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n            if(x==2 && y==2){\n                if((moveBefore[1]<=4 && moveAfter[1]<=4) || (moveBefore[1]>4 && moveAfter[1]>4)){\n                    if(parseInt(moveBefore[0])-parseInt(moveAfter[0])>0 && parseInt(moveBefore[1])-parseInt(moveAfter[1])>0){\n                        var moveindes= moveinde(parseInt(moveBefore[0])-1,parseInt(moveBefore[1])-1);\n                        if(moveindes>-1){\n                            return true;\n                        }else {\n                            return false;\n                        }\n                    }else if(parseInt(moveBefore[0])-parseInt(moveAfter[0])>0 && parseInt(moveBefore[1])-parseInt(moveAfter[1])<0){\n                        var moveindes= moveinde(parseInt(moveBefore[0])-1,parseInt(moveBefore[1])+1);\n                        if(moveindes>-1){\n                            return true;\n                        }else {\n                            return false;\n                        }\n                    }else if(parseInt(moveBefore[0])-parseInt(moveAfter[0])<0 && parseInt(moveBefore[1])-parseInt(moveAfter[1])>0){\n                        var moveindes= moveinde(parseInt(moveBefore[0])+1,parseInt(moveBefore[1])-1);\n                        if(moveindes>-1){\n                            return true;\n                        }else {\n                            return false;\n                        }\n                    }else if(parseInt(moveBefore[0])-parseInt(moveAfter[0])<0 && parseInt(moveBefore[1])-parseInt(moveAfter[1])<0){\n                        var moveindes= moveinde(parseInt(moveBefore[0])+1,parseInt(moveBefore[1])+1);\n                        if(moveindes>-1){\n                            return true;\n                        }else {\n                            return false;\n                        }\n                    }\n                }else{\n                    return false;\n                }\n            }else{\n                return false;\n            }\n        }\n        if(\"Shi\"==type){\n            var x=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n            var y=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n            if(x==1 && y==1){\n                if(moveAfter[0]>2 && moveAfter[0]<6){\n                    if((moveAfter[1]>=0 && moveAfter[1]<3) || (moveAfter[1]<=9 && moveAfter[1]>6)){\n                        return true;\n                    }else{\n                        return false;\n                    }\n                }else{\n                    return false;\n                }\n            }else{\n                return false;\n            }\n        }\n        if(\"J\"==type || \"S\"==type){\n            var x=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n            var y=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n            var returnValues = returnValue.split(\"-\");\n            if(\"J\"==returnValues[1] || \"S\"==returnValues[1]){\n                var JSsz=new Array();\n                if(moveBefore[0]==moveAfter[0]){\n                    for (var i =0; i < zuobiao.length; i++) {\n                        var zuodiaoD=zuobiao[i];\n                        if(parseInt(moveBefore[1])>parseInt(moveAfter[1])){\n                            if(zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]>moveAfter[1] && zuodiaoD[1]<moveBefore[1]){\n                                JSsz.push(zuodiaoD)\n                            }\n                        }else{\n                            if(parseInt(moveBefore[1])<parseInt(moveAfter[1])){\n                                if(zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]>moveBefore[1] && zuodiaoD[1]<moveAfter[1]){\n                                    JSsz.push(zuodiaoD)\n                                }\n                            }\n                        }\n                    }\n                    if(y-JSsz.length==1){\n                        return true;\n                    }else{\n                        return false;\n                    }\n                }else{\n                    return false;\n                }\n            }else{\n                if((x==1 && y==0) || (x==0 && y==1)){\n                    if(moveAfter[0]>2 && moveAfter[0]<6){\n                        if((moveAfter[1]>=0 && moveAfter[1]<3) || (moveAfter[1]<=9 && moveAfter[1]>6)){\n                            return true;\n                        }else{\n                            return false;\n                        }\n                    }else{\n                        return false;\n                    }\n                }else{\n                    return false;\n                }\n            }\n        }\n        if(\"P\"==type){\n            if(moveBefore[0]==moveAfter[0]){\n                var juX=new Array();\n                for (var i =0; i < zuobiao.length; i++) {\n                    var zuodiaoD=zuobiao[i];\n                    if(parseInt(moveBefore[1])-parseInt(moveAfter[1])>0){\n                        if (zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]<parseInt(moveBefore[1])&& zuodiaoD[1]>=parseInt(moveAfter[1])) {\n                            juX.push(zuodiaoD)\n                        }\n                    }else{\n                        if (zuodiaoD[0] == moveBefore[0] && zuodiaoD[1]>parseInt(moveBefore[1])&& zuodiaoD[1]<=parseInt(moveAfter[1])) {\n                            juX.push(zuodiaoD)\n                        }\n                    }\n                }\n                var num=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n                var juXlength;\n                if(returnValue==-1){\n                    juXlength=juX.length\n                }else {\n                    juXlength=juX.length+2;\n                }\n                if(num==juXlength){\n                    return true;\n                }else {\n                    return false;\n                }\n            }else if(moveBefore[1]==moveAfter[1]){\n                var juY=new Array();\n                for (var i =0; i < zuobiao.length; i++) {\n                    var zuodiaoD=zuobiao[i];\n                    if(parseInt(moveBefore[0])-parseInt(moveAfter[0])>0){\n                        if (zuodiaoD[1] == moveAfter[1] && zuodiaoD[0]<parseInt(moveBefore[0])&& zuodiaoD[0]>=parseInt(moveAfter[0])) {\n                            juY.push(zuodiaoD)\n                        }\n                    }else{\n                        if (zuodiaoD[1] == moveAfter[1] && zuodiaoD[0]>parseInt(moveBefore[0])&& zuodiaoD[0]<=parseInt(moveAfter[0])) {\n                            juY.push(zuodiaoD)\n                        }\n                    }\n                }\n                var num=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n                var juYlength;\n                if(returnValue==-1){\n                    juYlength=juY.length\n                }else {\n                    juYlength=juY.length+2;\n                }\n                if(num==juYlength){\n                    return true;\n                }else {\n                    return false;\n                }\n            }else{\n                return false;\n            }\n        }\n        if(\"Z\"==type || \"B\"==type){\n            var x=Math.abs(parseInt(moveBefore[0])-parseInt(moveAfter[0]));\n            var y=Math.abs(parseInt(moveBefore[1])-parseInt(moveAfter[1]));\n            var moveBeforeValue=seekQ(moveBefore);\n            var moveBeforeValues=moveBeforeValue.split(\"-\");\n            if(\"r\"==moveBeforeValues[0]){\n                if(moveBefore[1]>4 && parseInt(moveBefore[1])-parseInt(moveAfter[1])==1 && x==0){\n                    return true;\n                }else if(moveBefore[1]<5 && ((parseInt(moveBefore[1])-parseInt(moveAfter[1])==1 && x==0)|| (x==1 && y==0))){\n                    return true;\n                }else{\n                    return false;\n                }\n            }else{\n                if(moveBefore[1]<5 && parseInt(moveAfter[1])-parseInt(moveBefore[1])==1 && x==0){\n                    return true;\n                }else if(moveBefore[1]>4 && ((parseInt(moveAfter[1])-parseInt(moveBefore[1])==1 && x==0)|| (x==1 && y==0))){\n                    return true;\n                }else{\n                    return false;\n                }\n            }\n        }\n    }\n    function moveinde(one,two) {\n        for (var i = 0; i < zuobiao.length; i++) {\n            var zuobiaoD=zuobiao[i];\n            if (zuobiaoD[0] == one && zuobiaoD[1] == two) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    function moveQizi(BOrR,type,index,moveBefore,moveAfter) {\n       var indexs;\n        if(\"b\"==BOrR){\n            if(\"Ju\"==type){\n                blackJu.splice(index, 1,moveAfter);\n            }else if(\"M\"==type){\n                blackM.splice(index, 1,moveAfter);\n            }else if(\"X\"==type){\n                blackX.splice(index, 1,moveAfter);\n            }else if(\"Shi\"==type){\n                blackShi.splice(index, 1,moveAfter);\n            }else if(\"J\"==type){\n                blackJ.splice(index, 1,moveAfter);\n            }else if(\"P\"==type){\n                blackP.splice(index, 1,moveAfter);\n            }else if(\"Z\"==type){\n                blackZ.splice(index, 1,moveAfter);\n            }\n        }\n       if(\"r\"==BOrR){\n            if(\"C\"==type){\n                redC.splice(index, 1,moveAfter);\n            }else if(\"M\"==type){\n                redM.splice(index, 1,moveAfter);\n            }else if(\"X\"==type){\n                redX.splice(index, 1,moveAfter);\n            }else if(\"Shi\"==type){\n                redShi.splice(index, 1,moveAfter);\n            }else if(\"S\"==type){\n                redS.splice(index, 1,moveAfter);\n            }else if(\"P\"==type){\n                redP.splice(index, 1,moveAfter);\n            }else if(\"B\"==type){\n                redB.splice(index, 1,moveAfter);\n            }\n        }\n        for (var i = 0; i < zuobiao.length; i++) {\n            if (zuobiao[i].toString() == moveAfter.toString()) {\n                indexs=i;\n            }\n        }\n        zuobiao.splice(indexs, 1,moveBefore);\n    }\n    function deleteQizi(BOrR,type,index,data) {\n        if(\"b\"==BOrR){\n            if(\"Ju\"==type){\n                blackJu.splice(index, 1);\n            }else if(\"M\"==type){\n                blackM.splice(index, 1);\n            }else if(\"X\"==type){\n                blackX.splice(index, 1);\n            }else if(\"Shi\"==type){\n                blackShi.splice(index, 1);\n            }else if(\"J\"==type){\n                blackJ.splice(index, 1);\n                winORlose();\n            }else if(\"P\"==type){\n                blackP.splice(index, 1);\n            }else if(\"Z\"==type){\n                blackZ.splice(index, 1);\n            }\n        }\n        if(\"r\"==BOrR){\n            if(\"C\"==type){\n                redC.splice(index, 1);\n            }else if(\"M\"==type){\n                redM.splice(index, 1);\n            }else if(\"X\"==type){\n                redX.splice(index, 1);\n            }else if(\"Shi\"==type){\n                redShi.splice(index, 1);\n            }else if(\"S\"==type){\n                redS.splice(index, 1);\n                winORlose();\n            }else if(\"P\"==type){\n                redP.splice(index, 1);\n            }else if(\"B\"==type){\n                redB.splice(index, 1);\n            }\n        }\n        zuobiao.push(data);\n    }\n     function winORlose() {\n        var returns=true;\n        if(redS.length==0){\n            alert(\"黑方获胜\");\n            returns=false;\n        }\n        if(blackJ.length==0){\n            alert(\"红方获胜\");\n            returns=false;\n        }\n        if(!returns){\n            if(confirm(\"是否开始新一局\")){\n                refresh();\n                return true;\n            }else{\n                return false;\n            }\n        }else{\n            return true;\n        }\n    }\n    function refresh(){\n        zuobiao= [[0,1],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[7,1],[8,1],\n            [0,2],[2,2],[3,2],[4,2],[5,2],[6,2],[8,2],\n            [1,3],[3,3],[5,3],[7,3],\n            [0,4],[1,4],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[8,4],\n            [0,5],[1,5],[2,5],[3,5],[4,5],[5,5],[6,5],[7,5],[8,5],\n            [1,6],[3,6],[5,6],[7,6],\n            [0,7],[2,7],[3,7],[4,7],[5,7],[6,7],[8,7],\n            [0,8],[1,8],[2,8],[3,8],[4,8],[5,8],[6,8],[7,8],[8,8]\n        ];\n        blackJu= [[0,0],[8,0]];//黑棋-車\n        blackM=[[1,0],[7,0]];//黑棋-马\n        blackX=[[2,0],[6,0]];//黑棋-象\n        blackShi=[[3,0],[5,0]];//黑棋-士\n        blackJ=[[4,0]];//黑棋-将\n        blackP=[[1,2],[7,2]];//黑棋-炮\n        blackZ=[[0,3],[2,3],[4,3],[6,3],[8,3]];//黑棋-卒\n        redC= [[0,9],[8,9]];//红棋-车\n        redM=[[1,9],[7,9]];//红棋-马\n        redX=[[2,9],[6,9]];//红棋-象\n        redShi=[[3,9],[5,9]];//红棋-士\n        redS=[[4,9]];//红棋-帅\n        redP=[[1,7],[7,7]];//红棋-兵\n        redB=[[0,6],[2,6],[4,6],[6,6],[8,6]];//红棋-卒\n        player=1;\n        selectStatus=0;\n        document.getElementById(\"message\").innerHTML=\" \";\n        document.getElementById(\"playerName\").innerHTML=\"红方\";\n        myChart1.setOption({series:[{data: zuobiao},{data: blackJu},{data: blackM},{data:blackX},{data:blackShi },{data:blackJ},{data:blackP},{data:blackZ},{data: redC},{data: redM},{data:redX},{data:redShi},{data:redS},{data:redP},{ data:redB}]})\n\n    }","html":"","externalScripts":"","updaterUID":"bd-1148448149","theme":"","layout":"","viewCount":262,"userName":"姑***语","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqswEJbBE.png?v=1576058285850","isCustomThumbnail":1,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"姑***语"}}