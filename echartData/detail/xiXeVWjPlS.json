{"status":0,"data":{"cid":"xiXeVWjPlS","authorUid":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","authorUserName":"s***姊","title":"今日施救成效","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2021-01-05T09:14:53.000Z","lastUpdateTime":"2021-01-05T09:14:53.000Z","auth":2,"uid":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-05T09:14:53.000Z","code":"var data = {\r\n    \"legend\": [\"平均到达时间\", \"平均处置时间\", \"施救次数\"],\r\n    \"list\": [{\r\n        \"name\": \"湖州段\",\r\n        \"yData1\": 104,\r\n        \"yData2\": 100,\r\n        \"yData4\": 90,\r\n    },{\r\n        \"name\": \"杭绍段\",\r\n        \"yData1\": 56,\r\n        \"yData2\": 206,\r\n        \"yData4\": 56,\r\n    }]\r\n}\r\nvar xData = [],yData1 = [],yData2 = [],yData4 = [],legend = data.legend,\r\ncolorArr = ['rgba(0, 171, 255, 1)','rgba(255, 136, 31, 1)','rgba(17, 221, 220, 1)']\r\ndata.list.forEach(item=>{\r\n    xData.push(item.name)\r\n    yData1.push(item.yData1)\r\n    yData2.push(item.yData2)\r\n    yData4.push(item.yData4)\r\n})\r\nvar normalColor = \"rgba(255,255,255,0.5)\",backgroundColor= \"#333\";\r\n//   var fontSize = 20;\r\nlet seriesData = [];\r\nxData.forEach(element => {\r\n});\r\n[yData1, yData2, yData4].forEach((item, index) => {\r\n    var obj1 = {};\r\n    var obj2 = {};\r\n    if (index < 2) {\r\n        obj1 = {\r\n            name: legend[index],\r\n            type: \"bar\",\r\n            stack: legend[index],\r\n            data: item,\r\n            barWidth: 16,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: colorArr[index]\r\n                }\r\n            }\r\n        };\r\n        obj2 = {\r\n            name: \"\",\r\n            type: \"bar\",\r\n            stack: legend[index],\r\n            itemStyle: {\r\n                normal: {\r\n                    color: colorArr[index]\r\n                }\r\n            },\r\n        };\r\n        seriesData.push(obj1);\r\n        seriesData.push(obj2);\r\n    } else {\r\n        var obj3 = {\r\n            name: legend[index],\r\n            type: \"line\",\r\n            yAxisIndex: 1,\r\n            smooth: false,\r\n            symbol: \"circle\",\r\n            symbolSize: 8,\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 4\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(17, 221, 220, 1)',\r\n                    borderColor: \"rgba(17, 221, 220, 1)\",\r\n                    borderWidth: 1\r\n                }\r\n            },\r\n            data: item,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            }\r\n        };\r\n        seriesData.push(obj3);\r\n    }\r\n});\r\nconsole.log(seriesData);\r\noption = {\r\n    backgroundColor: backgroundColor,\r\n    grid: {\r\n        left: \"3%\",\r\n        top: \"16%\",\r\n        right: \"3%\",\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    legend: {\r\n        show: true,\r\n        itemWidth: 24,\r\n        itemHeight: 12,\r\n        right: \"center\",\r\n        top: \"3%\",\r\n        textStyle: {\r\n            color: \"rgba(255, 255, 255, 0.6)\"\r\n        },\r\n        data: legend\r\n    },\r\n    tooltip: {\r\n        trigger: \"axis\",\r\n        formatter: function(params) {\r\n            var str = '';\r\n            for (var i = 0; i < params.length; i++) {\r\n                if (params[i].seriesName !== \"\") {\r\n                    if(i===0){\r\n                        str = params[i].name +\":<br>\";\r\n                    }\r\n                    str += params[i].seriesName +\r\n                        params[i].value +\r\n                        \"<br/>\";\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n    },\r\n    xAxis: [{\r\n        type: \"category\",\r\n        data: xData,\r\n        axisPointer: {\r\n            type: \"shadow\"\r\n        },\r\n        axisLabel: {\r\n            textStyle: {\r\n                color: 'rgba(255, 255, 255, 0.85)',\r\n                fontSize: 16\r\n            }\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: 'rgba(49, 137, 203, 1)'\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    }],\r\n    yAxis: [{\r\n            type: \"value\",\r\n            name: \"(起)\",\r\n            nameTextStyle: {\r\n                color: 'rgba(255, 255, 255, 0.6)',\r\n                fontSize: 14\r\n            },\r\n            // \"min\": 0,\r\n            // \"max\": 50,\r\n            axisLabel: {\r\n                formatter: \"{value}\",\r\n                textStyle: {\r\n                    color: 'rgba(255, 255, 255, 0.6)',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: 'rgba(49, 137, 203, 1)'\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: false,\r\n            }\r\n        },\r\n        {\r\n            type: \"value\",\r\n            name: \"(次)\",\r\n            nameTextStyle: {\r\n                color: 'rgba(255, 255, 255, 0.6)',\r\n                fontSize: 14\r\n            },\r\n             axisLabel: {\r\n                formatter: \"{value}\",\r\n                textStyle: {\r\n                    color: 'rgba(255, 255, 255, 0.6)',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            axisLine: { \r\n                lineStyle: {\r\n                    color: 'rgba(49, 137, 203, 1)'\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    type: \"dashed\",\r\n                    color: \"rgba(231, 235, 239, 0.2)\"\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    series: seriesData\r\n};","html":"","externalScripts":"","updaterUID":"obd-oDCaFX31jiwTXKlwjh_k6OKioVP0t1E","theme":"","layout":"","viewCount":17,"userName":"s***姊","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xiXeVWjPlS.png?v=1609838094096","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"s***姊"}}