{"status":0,"data":{"cid":"xaAwFAn3Q6","authorUid":"obd-ojLRbsmCnRTm8ck7Tn7Lqoq11hzQvEH","authorUserName":"188******57","title":"产品名+产品型号柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-09-26T03:25:47.000Z","lastUpdateTime":"2021-09-26T03:25:47.000Z","auth":2,"uid":"obd-ojLRbsmCnRTm8ck7Tn7Lqoq11hzQvEH","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.1","versionCreateTime":"2021-09-26T03:25:47.000Z","code":"let tdata = [\n    { DeviceCategory: \"导乘屏\", DeviceType: \"导乘屏\", NumCount: 3, DomainId: 1},\n    {DeviceCategory: \"电子站牌\", DeviceType: \"55寸双屏\", NumCount: 3, DomainId: 1},\n    {DeviceCategory: \"电子站牌\", DeviceType: \"65寸单屏\", NumCount: 20, DomainId: 1},\n    {DeviceCategory: \"电子站牌\", DeviceType: \"墨水屏\", NumCount: 2, DomainId: 1},\n    {DeviceCategory: \"调度屏\", DeviceType: \"43寸调度屏\", NumCount: 74, DomainId: 1}\n    \n]\n\nvar attackSourcesColor = [\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#EB3B5A' },\n        { offset: 1, color: '#FE9C5A' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#FA8231' },\n        { offset: 1, color: '#FFD14C' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#F7B731' },\n        { offset: 1, color: '#FFEE96' },\n    ]),\n    new echarts.graphic.LinearGradient(0, 1, 1, 1, [\n        { offset: 0, color: '#395CFE' },\n        { offset: 1, color: '#2EC7CF' },\n    ]),\n];\nvar attaName = [];\nvar topName = [];\ntdata.forEach((it, index) => {\n    attaName[index] = it.NumCount;\n    topName[index] = it.DeviceCategory + '   ' + it.DeviceType;\n});\nvar salvProMax = []; //背景按最大值\nfor (let i = 0; i < attaName.length; i++) {\n    salvProMax.push(attaName[4]);\n}\nfunction attackSourcesDataFmt(sData) {\n    var sss = [];\n    sData.forEach(function (item, i) {\n        let itemStyle = {\n            color: i > 3 ? attackSourcesColor[3] : attackSourcesColor[i],\n        };\n        sss.push({\n            value: item,\n            itemStyle: itemStyle,\n        });\n    });\n    return sss;\n}\n\noption = {\n    backgroundColor: '#000',\n    tooltip: {\n        show: false,\n        backgroundColor: 'rgba(3,169,244, 0.5)', //背景颜色（此时为默认色）\n        textStyle: {\n            fontSize: 16,\n        },\n    },\n    color: ['#F7B731'],\n    legend: {\n        show: false,\n        pageIconSize: [12, 12],\n        itemWidth: 20,\n        itemHeight: 10,\n        textStyle: {\n            //图例文字的样式\n            fontSize: 10,\n            color: '#fff',\n        },\n        selectedMode: false,\n        // data: ['个人所得(亿元)'],\n    },\n    grid: {\n        left: '5%',\n        right: '2%',\n        width: '80%',\n        bottom: '2%',\n        top: '8%',\n        containLabel: true,\n    },\n    xAxis: {\n        type: 'value',\n\n        splitLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: true,\n            textStyle: {\n              color: \"#818A96\",\n              fontSize: 12,\n            },\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n              color: \"#979797\",\n            },\n        },\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisPointer: {\n                label: {\n                    show: true,\n                    //margin: 30\n                },\n            },\n            pdaaing: [5, 0, 0, 0],\n            postion: 'right',\n            data: topName,\n            axisLabel: {\n                show: true,\n                fontSize: 10,\n                padding: [2, 0, 0, 0],\n                color: '#fff',\n            },\n        },\n    ],\n    series: [\n        {\n            zlevel: 1,\n            name: '',\n            type: 'bar',\n            barWidth: '7px',\n            animationDuration: 1500,\n            data: attackSourcesDataFmt(attaName),\n            align: 'center',\n            itemStyle: {\n                normal: {\n                    barBorderRadius: 13,\n                },\n            },\n            label: {\n                show: true,\n                fontSize: 10,\n                color: '#fff',\n                textBorderWidth: 2,\n                padding: [2, 0, 0, 0],\n                position: \"right\",\n            },\n        },\n        {\n            name: '',\n            type: 'bar',\n            barWidth: 7,\n            barGap: '-100%',\n            margin: '20',\n            data: salvProMax,\n            textStyle: {\n                //图例文字的样式\n                fontSize: 10,\n                color: '#fff',\n            },\n            itemStyle: {\n                normal: {\n                    color: '#142831',\n                    //width:\"100%\",\n                    fontSize: 10,\n                    //barBorderRadius: 30,\n                    \n                },\n            },\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-ojLRbsmCnRTm8ck7Tn7Lqoq11hzQvEH","theme":"","layout":"","viewCount":0,"userName":"188******57","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xaAwFAn3Q6.png?v=1632626747716","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","tooltip"],"customTags":[],"updaterUserName":"188******57"}}