{"status":0,"data":{"cid":"xQSFpiF3qG","authorUid":"obd-o2SLy3-g3q7ExOyp36JF2Ob_F87gk64","authorUserName":"B***n","title":"北京交通吸引","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-23T17:23:59.000Z","lastUpdateTime":"2021-12-23T17:23:59.000Z","auth":2,"uid":"obd-o2SLy3-g3q7ExOyp36JF2Ob_F87gk64","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-23T17:23:59.000Z","code":"var chinaGeoCoordMap = {\n\t\t'黑龙江': [127.9688, 45.368],\n\t\t'内蒙古': [110.3467, 41.4899],\n\t\t\"吉林\": [125.8154, 44.2584],\n\t\t'北京市': [116.4551, 40.2539],\n\t\t\"辽宁\": [123.1238, 42.1216],\n\t\t\"河北\": [114.4995, 38.1006],\n\t\t\"天津\": [117.4219, 39.4189],\n\t\t\"山西\": [112.3352, 37.9413],\n\t\t\"陕西\": [109.1162, 34.2004],\n\t\t\"甘肃\": [103.5901, 36.3043],\n\t\t\"宁夏\": [106.3586, 38.1775],\n\t\t\"青海\": [101.4038, 36.8207],\n\t\t\"新疆\": [87.9236, 43.5883],\n\t\t\"西藏\": [91.11, 29.97],\n\t\t\"四川\": [103.9526, 30.7617],\n\t\t\"重庆\": [108.384366, 30.439702],\n\t\t\"山东\": [117.1582, 36.8701],\n\t\t\"河南\": [113.4668, 34.6234],\n\t\t\"江苏\": [118.8062, 31.9208],\n\t\t\"安徽\": [117.29, 32.0581],\n\t\t\"湖北\": [114.3896, 30.6628],\n\t\t\"浙江\": [119.5313, 29.8773],\n\t\t\"福建\": [119.4543, 25.9222],\n\t\t\"江西\": [116.0046, 28.6633],\n\t\t\"湖南\": [113.0823, 28.2568],\n\t\t\"贵州\": [106.6992, 26.7682],\n\t\t\"云南\": [102.9199, 25.4663],\n\t\t\"广东\": [113.12244, 23.009505],\n\t\t\"广西\": [108.479, 23.1152],\n\t\t\"海南\": [110.3893, 19.8516],\n\t\t'上海': [121.4648, 31.2891]\n\t};\n\tvar chinaDatas = [\n\t\t[{\n\t\t\tname: '黑龙江',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '内蒙古',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '吉林',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '辽宁',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '河北',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '天津',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '山西',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '陕西',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '甘肃',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '宁夏',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '青海',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '新疆',\n\t\t\tvalue: 0\n\t\t}],[{\n\t\t\tname: '西藏',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '四川',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '重庆',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '山东',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '河南',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '江苏',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '安徽',\n\t\t\tvalue: 0\n\t\t}],\t[{\t\n\t\t    name: '湖北',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '浙江',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '福建',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '江西',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '湖南',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '贵州',\n\t\t\tvalue: 0\n\t\t}],[{\n\t\t\tname: '广西',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '海南',\n\t\t\tvalue: 0\n\t\t}],\t[{\n\t\t\tname: '上海',\n\t\t\tvalue: 1\n\t\t}]\n\t];\n\n\tvar convertData = function(data) {\n\t\tvar res = [];\n\t\tfor(var i = 0; i < data.length; i++) {\n\t\t\tvar dataItem = data[i];\n\t\t\tvar fromCoord = chinaGeoCoordMap[dataItem[0].name];\n\t\t\tvar toCoord = [116.4551,40.2539];//被攻击点\n\t\t\tif(fromCoord && toCoord) {\n\t\t\t\tres.push([{\n\t\t\t\t\tcoord: fromCoord,\n\t\t\t\t\tvalue: dataItem[0].value\n\t\t\t\t}, {\n\t\t\t\t\tcoord: toCoord,\n\t\t\t\t}]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\tvar series = [];\n\t[['北京市', chinaDatas]].forEach(function(item, i) {\n\t    console.log(item)\n\t\tseries.push({\n\t\t\t\ttype: 'lines',\n\t\t\t\tzlevel: 2,\n\t\t\t\teffect: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tperiod: 4, //箭头指向速度，值越小速度越快\n\t\t\t\t\ttrailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\n\t\t\t\t\tsymbol: 'arrow', //箭头图标\n\t\t\t\t\tsymbolSize: 5, //图标大小\n\t\t\t\t},\n\t\t\t\tlineStyle: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\twidth: 1, //尾迹线条宽度\n\t\t\t\t\t\topacity: 1, //尾迹线条透明度\n\t\t\t\t\t\tcurveness: .3 //尾迹线条曲直度\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: convertData(item[1])\n\t\t\t}, {\n\t\t\t\ttype: 'effectScatter',\n\t\t\t\tcoordinateSystem: 'geo',\n\t\t\t\tzlevel: 2,\n\t\t\t\trippleEffect: { //涟漪特效\n\t\t\t\t\tperiod: 4, //动画时间，值越小速度越快\n\t\t\t\t\tbrushType: 'stroke', //波纹绘制方式 stroke, fill\n\t\t\t\t\tscale: 4 //波纹圆环最大限制，值越大波纹越大\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tposition: 'right', //显示位置\n\t\t\t\t\t\toffset: [5, 0], //偏移设置\n\t\t\t\t\t\tformatter: function(params){//圆环显示文字\n\t\t\t\t\t\t\treturn params.data.name;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfontSize: 13\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\t\tshow: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsymbol: 'circle',\n\t\t\t\tsymbolSize: function(val) {\n\t\t\t\t\treturn 5+ val[2] * 5; //圆环大小\n\t\t\t\t},\n\t\t\t\titemStyle: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tcolor: '#f00'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: item[1].map(function(dataItem) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: dataItem[0].name,\n\t\t\t\t\t\tvalue: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t},\n\t\t\t//被攻击点\n\t\t\t{\n\t\t\t\ttype: 'scatter',\n\t\t\t\tcoordinateSystem: 'geo',\n\t\t\t\tzlevel: 2,\n\t\t\t\trippleEffect: {\n\t\t\t\t\tperiod: 4,\n\t\t\t\t\tbrushType: 'stroke',\n\t\t\t\t\tscale: 4\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tnormal: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t//offset:[5, 0],\n\t\t\t\t\t\tcolor: '#0f0',\n\t\t\t\t\t\tformatter: '{b}',\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tcolor: \"#0f0\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tcolor: \"#f60\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsymbol: 'pin',\n\t\t\t\tsymbolSize: 50,\n\t\t\t\tdata: [{\n\t\t\t\t\tname: item[0],\n\t\t\t\t\tvalue: chinaGeoCoordMap[item[0]].concat([10]),\n\t\t\t\t}],\n\t\t\t}\n\t\t);\n\t});\n\n\toption = {\n\t\ttooltip: {\n\t\t\ttrigger: 'item',\n\t\t\tbackgroundColor: 'rgba(166, 200, 76, 0.82)',\n\t\t\tborderColor: '#FFFFCC',\n\t\t\tshowDelay: 0,\n\t\t\thideDelay: 0,\n\t\t\tenterable: true,\n\t\t\ttransitionDuration: 0,\n\t\t\textraCssText: 'z-index:100',\n\t\t\tformatter: function(params, ticket, callback) {\n\t\t\t\t//根据业务自己拓展要显示的内容\n\t\t\t\tvar res = \"\";\n\t\t\t\tvar name = params.name;\n\t\t\t\tvar value = params.value[params.seriesIndex + 1];\n\t\t\t\tres = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\t\tbackgroundColor:\"#013954\",\n\t\tvisualMap: { //图例值控制\n\t\t\tmin: 0,\n\t\t\tmax: 1,\n\t\t\tcalculable: true,\n\t\t\tshow: true,\n\t\t\tcolor: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\n\t\t\ttextStyle: {\n\t\t\t\tcolor: '#fff'\n\t\t\t}\n\t\t},\n\t\tgeo: {\n\t\t\tmap: 'china',\n\t\t\tzoom: 1.2,\n\t\t\tlabel: {\n\t\t\t\temphasis: {\n\t\t\t\t\tshow: false\n\t\t\t\t}\n\t\t\t},\n\t\t\troam: true, //是否允许缩放\n\t\t\titemStyle: {\n\t\t\t\tnormal: {\n\t\t\t\t\tcolor: 'rgba(51, 69, 89, .5)', //地图背景色\n\t\t\t\t\tborderColor: '#516a89', //省市边界线00fcff 516a89\n\t\t\t\t\tborderWidth: 1\n\t\t\t\t},\n\t\t\t\temphasis: {\n\t\t\t\t\tcolor: 'rgba(37, 43, 61, .5)' //悬浮背景\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tseries: series\n\t};\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-o2SLy3-g3q7ExOyp36JF2Ob_F87gk64","theme":"","layout":"","viewCount":0,"userName":"B***n","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQSFpiF3qG.png?v=1640280239900","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"B***n"}}