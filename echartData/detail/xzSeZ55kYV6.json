{"status":0,"data":{"cid":"xzSeZ55kYV6","authorUid":"bd-1747147066","authorUserName":"fethy陈","title":"价值与消费基于时间轴的散点图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2018-12-13T06:46:25.000Z","lastUpdateTime":"2018-12-13T06:46:25.000Z","auth":2,"uid":"bd-1747147066","publishedVersion":1,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.0","versionCreateTime":"2018-12-13T06:46:25.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1544683160068-wtd2OYDxV.json\";\n\n\n\nmyChart.showLoading();\n\n$.getJSON(uploadedDataURL, function (data) {\n    myChart.hideLoading();\n\n    var itemStyle = {\n        normal: {\n            opacity: 0.8,\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowOffsetY: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n    };\n\n    var sizeFunction = function (x) {\n        // var y = Math.sqrt(x / 5e8) + 0.1;\n        // return y * 400;\n        return 30;\n    };\n    // Schema:\n    var schema = [\n        {name: 'Jiazhi', index: 0, text: '价值', unit: ''},\n        {name: 'Xiaofei', index: 1, text: '消费', unit: ''},\n        {name: 'Nianxing', index: 2, text: '粘性', unit: ''},\n        {name: 'Cust_row_id', index: 3, text: 'Cust_row_id', unit: ''}\n    ];\n\n    option = {\n        baseOption: {\n            timeline: {\n                axisType: 'category',\n                orient: 'vertical',\n                autoPlay: true,\n                inverse: true,\n                playInterval: 2000,\n                left: null,\n                right: 0,\n                top: 20,\n                bottom: 20,\n                width: 55,\n                height: null,\n                label: {\n                    normal: {\n                        textStyle: {\n                            color: '#999'\n                        }\n                    },\n                    emphasis: {\n                        textStyle: {\n                            color: '#fff'\n                        }\n                    }\n                },\n                symbol: 'none',\n                lineStyle: {\n                    color: '#555'\n                },\n                checkpointStyle: {\n                    color: '#bbb',\n                    borderColor: '#777',\n                    borderWidth: 2\n                },\n                controlStyle: {\n                    showNextBtn: false,\n                    showPrevBtn: false,\n                    normal: {\n                        color: '#666',\n                        borderColor: '#666'\n                    },\n                    emphasis: {\n                        color: '#aaa',\n                        borderColor: '#aaa'\n                    }\n                },\n                data: []\n            },\n            backgroundColor: '#333',\n            title: {\n                'text': data.timeline[0],\n                textAlign: 'center',\n                left: '63%',\n                top: '55%',\n                textStyle: {\n                    fontSize: 100,\n                    color: 'rgba(255, 255, 255, 0.7)'\n                }\n            },\n            tooltip: {\n                padding: 5,\n                backgroundColor: '#222',\n                borderColor: '#777',\n                borderWidth: 1,\n                formatter: function (obj) {\n                    var value = obj.value;\n                    return schema[3].text + '：' + value[3] + '<br>'\n                            + schema[1].text + '：' + value[1] + schema[1].unit + '<br>'\n                            + schema[0].text + '：' + value[0] + schema[0].unit + '<br>'\n                            + schema[2].text + '：' + value[2] + '<br>';\n                }\n            },\n            grid: {\n                left: '12%',\n                right: '110'\n            },\n            xAxis: {\n                type: 'value',\n                name: '价值',\n                max: 500,\n                min: 0,\n                nameGap: 25,\n                nameLocation: 'middle',\n                nameTextStyle: {\n                    fontSize: 18\n                },\n                splitLine: {\n                    show: false\n                },\n                axisTick: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                axisLine: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                axisLabel: {\n                    formatter: '{value} $',\n                    textStyle: {\n                        color: '#ccc'\n                    }\n                }\n            },\n            yAxis: {\n                type: 'value',\n                name: '消费',\n                max: 1,\n                nameTextStyle: {\n                    color: '#ccc',\n                    fontSize: 18\n                },\n                axisLine: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                axisTick: {\n                    lineStyle: {\n                        color: '#ccc'\n                    }\n                },\n                splitLine: {\n                    show: false\n                },\n                axisLabel: {\n                    formatter: '{value} 岁',\n                    textStyle: {\n                        color: '#ccc'\n                    }\n                }\n            },\n            visualMap: [\n                {\n                    show: false,\n                    dimension: 3,\n                    categories: data.counties,\n                    calculable: true,\n                    precision: 0.1,\n                    textGap: 30,\n                    textStyle: {\n                        color: '#ccc'\n                    },\n                    inRange: {\n                        color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a']\n                    }\n                }\n            ],\n            series: [\n                {\n                    type: 'scatter',\n                    itemStyle: itemStyle,\n                    data: data.series[0],\n                    symbolSize: function(val) {\n                        return sizeFunction(val[2]);\n                    }\n                }\n            ],\n            animationDurationUpdate: 1000,\n            animationEasingUpdate: 'quinticInOut'\n        },\n        options: []\n    };\n\n    for (var n = 0; n < data.timeline.length; n++) {\n        option.baseOption.timeline.data.push(data.timeline[n]);\n        option.options.push({\n            title: {\n                show: true,\n                'text': data.timeline[n] + ''\n            },\n            series: {\n                name: data.timeline[n],\n                type: 'scatter',\n                itemStyle: itemStyle,\n                data: data.series[n],\n                symbolSize: function(val) {\n                    return sizeFunction(val[2]);\n                }\n            }\n        });\n    }\n\n    myChart.setOption(option);\n\n});","html":"","externalScripts":"","updaterUID":"bd-1747147066","theme":"","layout":"","viewCount":263,"userName":"fethy陈","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xzSeZ55kYV6.png?v=1544683585227","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-scatter","timeline","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"fethy陈"}}