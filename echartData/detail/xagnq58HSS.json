{"status":0,"data":{"cid":"xagnq58HSS","authorUid":"obd-oETgwvt7DrTObml-zz9rR_u32LvxM4X","authorUserName":"回***点","title":"3D柱状图","description":"3D柱状图","latestVersion":3,"alwaysLatest":0,"createTime":"2021-11-12T10:19:00.000Z","lastUpdateTime":"2021-11-16T06:17:39.000Z","auth":2,"uid":"obd-oETgwvt7DrTObml-zz9rR_u32LvxM4X","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-16T06:17:39.000Z","code":"let chartData = {\n    xData: ['微信公众号', '微信小程序', '容器镜像', '微服务微应用', '信息系统', '数据产品', '移动APP'],\n    data: [212, 305, 260, 283, 20, 555, 125, 142],\n    percent: ['22%', '35%', '35%', '35%', '35%', '35%', '35%', '35%'],\n    max: 1902,\n    color: ['#01DA99', '#00A7C0', '#0E468F', '#62AFE1', '#D66B30', '#D5AC52', '#D6C7A8'],\n    color2: ['#01CD91', '#009AB0', '#0D3F82', '#5BAADF', '#CC6228', '#CF9E38', '#CEBC97'],\n};\n\nlet effectScatterData = [];\nlet bottomBarData = [];\nlet topData = [];\nlet middleData = [];\nlet bgData = [];\nfor (let i = 0; i < chartData.xData.length; i++) {\n    //底部\n    effectScatterData.push({\n        name: '',\n        value: '0',\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                    {\n                        offset: 0,\n                        color: chartData.color[i],\n                    },\n                    {\n                        offset: 1,\n                        color: chartData.color2[i],\n                    },\n                ]),\n            },\n        },\n    });\n\n    //下半截柱状图\n    bottomBarData.push({\n        name: '',\n        value: chartData.data[i],\n        itemStyle: {\n            normal: {\n                color: {\n                    x: 0,\n                    x2: 1,\n                    y: 0,\n                    y2: 0,\n                    type: 'linear',\n                    global: false,\n                    colorStops: [\n                        { offset: 0, color: chartData.color[i] },\n                        { offset: 0.5, color: chartData.color[i] },\n                        { offset: 0.5, color: chartData.color2[i] },\n                        { offset: 1, color: chartData.color2[i] },\n                    ],\n                },\n            },\n        },\n    });\n\n    //下半部的顶\n    middleData.push({\n        name: '',\n        value: chartData.data[i],\n        symbolPosition: 'end',\n        label: {\n            formatter: '{c}',\n            color: '#fff',\n            offset: [0, -5],\n            show: true,\n            position: 'top',\n            fontSize: 10,\n            fontWeight: 400,\n            fontFamily: 'zcool-gdh',\n        },\n        itemStyle: {\n            color: chartData.color[i],\n        },\n    });\n    //头顶\n    topData.push({\n        name: '',\n        value: chartData.max,\n        symbolPosition: 'end',\n        label: {\n            formatter: chartData.percent[i],\n            color: '#000',\n            offset: [0, -5],\n            show: true,\n            position: 'top',\n            fontSize: 10,\n            fontWeight: 400,\n            fontFamily: 'zcool-gdh',\n        },\n        itemStyle: {\n            color: '#F4F4F4',\n        },\n    });\n    // 背景\n    bgData.push({\n        name: '',\n        value: chartData.max - chartData.data[i],\n        symbolPosition: 'end',\n        itemStyle: {\n            normal: {\n                color: {\n                    x: 0,\n                    x2: 1,\n                    y: 0,\n                    y2: 0,\n                    type: 'linear',\n                    global: false,\n                    colorStops: [\n                        { offset: 0, color: '#dadada33' },\n                        { offset: 0.5, color: '#dadada33' },\n                        { offset: 0.5, color: '#dadada26' },\n                        { offset: 1, color: '#dadada26' },\n                    ],\n                },\n            },\n        },\n    });\n}\n\noption = {\n    grid: {\n        top: '2%',\n        left: '2%',\n        right: '2%',\n        bottom: '10%',\n    },\n    xAxis: {\n        offset: 20,\n        data: chartData.xData,\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            textStyle: {\n                color: '#A5C8E6',\n                fontSize: 12,\n            },\n        },\n    },\n    yAxis: {\n        splitLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLine: {\n            show: false,\n        },\n        axisLabel: {\n            show: false,\n        },\n    },\n    series: [\n        //'最低下,\n        {\n            name: '最低下的圆片',\n            stack: 'a',\n            // type: 'pictorialBar',\n            // symbolSize: [66, 12],\n            // symbolOffset: [0, 6],\n            type: 'effectScatter',\n            symbol: 'diamond',\n            symbolSize: [20, 12],\n            symbolOffset: [0, 0],\n            z: 22,\n            data: effectScatterData,\n        },\n        //下半截柱状图\n        {\n            name: '下半截柱状图',\n            stack: 'a',\n            type: 'bar',\n            barWidth: 20,\n            z: 2,\n            barGap: '-100%',\n            data: bottomBarData,\n        },\n        //替代柱状图 默认不显示颜色\n        {\n            name: '替代柱状图',\n            type: 'bar',\n            barWidth: 20,\n            barGap: '-100%',\n            stack: 'b',\n            itemStyle: {\n                color: 'transparent',\n            },\n            data: chartData.data,\n        },\n        //下半部的顶\n        {\n            name: '头部1',\n            stack: 'a',\n            type: 'pictorialBar',\n            symbolSize: [20, 12],\n            symbol: 'diamond',\n            symbolOffset: [0, -6],\n            z: 22,\n            data: middleData,\n        },\n        //顶部\n        {\n            name: '头部2',\n            stack: 'a',\n            type: 'pictorialBar',\n            symbol: 'diamond',\n            symbolSize: [20, 12],\n            symbolOffset: [0, -6],\n            z: 22,\n            data: topData,\n        },\n        //底色\n        {\n            name: '底色',\n            type: 'bar',\n            barWidth: 20,\n            z: 2,\n            barGap: '-100%',\n            stack: 'b',\n            data: bgData,\n        },\n    ],\n};\n","html":"","externalScripts":"","updaterUID":"obd-oETgwvt7DrTObml-zz9rR_u32LvxM4X","theme":"","layout":"","viewCount":0,"userName":"回***点","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xagnq58HSS.png?v=1637043460077","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-effectScatter","series-pictorialBar"],"customTags":[],"updaterUserName":"回***点"}}