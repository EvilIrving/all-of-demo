{"status":0,"data":{"cid":"xlFsrR25eg","authorUid":"obd-o25gq2LzU26ASZ-dB5ubVUiODztN5Bj","authorUserName":"韩***桥","title":"山东省法人单位从业人员分布专题图","description":"","latestVersion":3,"alwaysLatest":1,"createTime":"2020-12-28T04:40:08.000Z","lastUpdateTime":"2020-12-28T04:40:08.000Z","auth":2,"uid":"obd-o25gq2LzU26ASZ-dB5ubVUiODztN5Bj","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-28T11:52:28.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1605510661041-oDutJVlSC.json\";\r\n\t\tvar nameMap = '山东省';\r\n\t\twindow.dataList = [  { name: '济南市', value: 318.6 },\r\n        { name: '青岛市', value: 385.3 },\r\n        { name: '烟台市', value: 241.7 },\r\n        { name: '潍坊市', value: 228.3 },\r\n        { name: '菏泽市', value: 152.1 },\r\n        { name: '日照市', value: 63.4 },\r\n        { name: '威海市', value: 111.9 },\r\n        { name: '枣庄市', value: 78.7 },\r\n        { name: '临沂市', value: 203.9 },\r\n        { name: '滨州市', value: 89.2 },\r\n        { name: '东营市', value: 76.3 },\r\n        { name: '淄博市', value: 137.5 },\r\n        { name: '泰安市', value: 109.1 },\r\n        { name: '聊城市', value: 96.0 },\r\n        { name: '济宁市', value: 205.5 },\r\n        { name: '德州市', value: 122.3 }\r\n\t\t];\r\n\t\tvar geoCoordMap = {};\r\n\t\tvar convertData = function(data) {\r\n\t\t    console.log('data', data)\r\n\t\t    var res = [];\r\n\t\t    for (var i = 0; i < data.length; i++) {\r\n\t\t        var geoCoord = geoCoordMap[data[i].name];\r\n\t\t        if (geoCoord) {\r\n\t\t            res.push({\r\n\t\t                name: data[i].name,\r\n\t\t                value: geoCoord.concat(data[i].value),\r\n\t\t            });\r\n\t\t        }\r\n\t\t    }\r\n\t\t    console.log('res', res)\r\n\t\t    return res;\r\n\t\t};\r\n\r\n\t\t$.get(uploadedDataURL, function(gdMap) {\r\n\t\t    debugger\r\n\t\t    echarts.registerMap(nameMap, gdMap);\r\n\t\t    /*获取地图数据*/\r\n\t\t    myChart.showLoading();\r\n\t\t    var mapFeatures = echarts.getMap(nameMap).geoJson.features;\r\n\t\t    myChart.hideLoading();\r\n\t\t    mapFeatures.forEach(function(v) {\r\n\t\t        // 地区名称\r\n\t\t        var name = v.properties.name;\r\n\t\t        // 地区经纬度\r\n\t\t        geoCoordMap[name] = v.properties.center;\r\n\r\n\t\t    });\r\n\t\t    console.log(geoCoordMap)\r\n\t\t    //GDP\r\n\t\t  var optionMap = {\r\n\t\t        title: {\r\n          text: '山东省法人单位从业人员分布专题图',\r\n          x: 'center',\r\n          textStyle: {\r\n            color: '#000',\r\n            fontSize: 16\r\n          }\r\n        },\r\n        visualMap: [{\r\n          min: 0,\r\n          max:  1000,\r\n          show: false,\r\n          //   text: ['High', 'Low'],\r\n          realtime: false,\r\n          calculable: false,\r\n          seriesIndex: [0],\r\n          inRange: {\r\n            color: ['#ccc', '#ccc', 'rgb(129,211,248)', '#23074d', 'rgb(128,255,255)', 'rgb(0,255,255)', 'rgb(128,128,255)', 'rgb(236,128,141)', 'rgb(194,128,255)', 'rgb(245,154,35)', 'rgb(112,182,3)', 'rgb(0,182,128)', 'rgb(99,0,191)']\r\n          }\r\n        },\r\n        {\r\n          min: 0,\r\n          max: 1000,\r\n          seriesIndex: 1,\r\n          show: true,\r\n          splitNumber: 4,\r\n          right: '2%',\r\n          inRange: {\r\n            color: ['#FF6464','rgb(129,211,248)'].reverse()\r\n          },\r\n          formatter: function (value) {\r\n            return ''\r\n          }\r\n        }],\r\n        geo: {\r\n          map: nameMap,\r\n          show: false,\r\n          roam: true,\r\n          label: {\r\n            normal: {\r\n              show: false\r\n            },\r\n            emphasis: {\r\n              show: false\r\n            }\r\n          }\r\n        },\r\n        series: [\r\n          { // 地图块的相关信息\r\n            type: 'map',\r\n            map: nameMap,\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                textStyle: {\r\n                  fontSize: 12,\r\n                  fontWeight: 400,\r\n                  color: 'rgb(0,0,0) '\r\n                }\r\n              }\r\n            },\r\n            data: window.dataList\r\n          },\r\n          \r\n          {\r\n            type: 'scatter',\r\n            coordinateSystem: 'geo',\r\n            symbol: 'pin',\r\n            symbolSize: [40, 40],\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                textStyle: {\r\n                  color: '#000',\r\n                  fontSize: 10,\r\n                  fontWeight: 600\r\n                },\r\n                formatter (value) {\r\n                  return value.data.value[2]\r\n                }\r\n              }\r\n            },\r\n            hoverAnimation: true,\r\n            itemStyle: {\r\n              normal: {\r\n                color: 'green' // 标志颜色\r\n              }\r\n            },\r\n            zlevel: 6,\r\n            data: convertData(window.dataList)\r\n          }\r\n        ]\r\n\r\n\t\t    };\r\n\t\t    myChart.setOption(optionMap, true);\r\n\t\t});\r\n\t\t","html":"","externalScripts":"","updaterUID":"obd-o25gq2LzU26ASZ-dB5ubVUiODztN5Bj","theme":"","layout":"","viewCount":206,"userName":"韩***桥","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlFsrR25eg.png?v=1609156348602","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-map","series-scatter","title","visualMap"],"customTags":[],"updaterUserName":"韩***桥"}}