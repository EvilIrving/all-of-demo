{"status":0,"data":{"cid":"xA3VhBIIgr","authorUid":"bd-1839720448","authorUserName":"哆***嗦","title":"圆角渐变动态柱状图","description":"","latestVersion":4,"alwaysLatest":1,"createTime":"2020-04-13T09:11:56.000Z","lastUpdateTime":"2020-04-13T09:11:56.000Z","auth":2,"uid":"bd-1839720448","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"4.7.0","versionCreateTime":"2020-04-14T07:07:34.000Z","code":"// 颜色\nvar lightBlue = {\n    type: 'linear',\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    colorStops: [{\n        offset: 0,\n        color: 'rgba(0, 192, 255, 1)' // 0% 处的颜色\n    }, {\n        offset: 1,\n        color: 'rgba(0, 192, 255, 0.1)' // 100% 处的颜色\n    }],\n    globalCoord: false // 缺省为 false\n}\nvar red = {\n    type: 'linear',\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    colorStops: [{\n        offset: 0,\n        color: 'rgba(249, 42, 42, 1)' // 0% 处的颜色\n    }, {\n        offset: 1,\n        color: 'rgba(249, 42, 42, 0.1)' // 100% 处的颜色\n    }],\n    globalCoord: false // 缺省为 false\n}\n\nfunction randomData() {\n    value = (Math.random() * 20+210).toFixed(1);\n    return value;\n    \n}\n// 时间设置\nfunction checkTime(i) {\n    if (i < 10) {\n        i = \"0\" + i;\n    }\n    return i;\n}\n\nfunction timeSet() {\n    var newTime = new Date();\n    var m = newTime.getMinutes();\n    var s = newTime.getSeconds();\n    m = checkTime(m);\n    s = checkTime(s);\n    return [m, s].join(':');\n}\n\nvar data = [];\nvar timeData = [];\n\nfor (var i = 0; i < 9; i++) {\n    timeData.unshift(timeSet());\n    data.unshift(randomData());\n}\n// 指定图表的配置项和数据\nvar option = {\n    title: {\n        left:\"12%\",\n        top:\"5%\",\n        text: '单位：ug/m³',\n        textStyle:{\n            color:\"rgba(0, 192, 255, 1)\"\n        },\n    },\n    tooltip: {\n        show: false\n    },\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        // boundaryGap: 100,\n        min: -1,\n        max: 9,\n        axisLine: {\n            show:false,\n            lineStyle: {\n                color: '#4bbbf8',\n                shadowColor: 'rgba(75, 211, 255, 0.5)',\n                shadowBlur: 5\n            }\n        },\n        axisTick: {\n            show:false,\n            interval: (index) => {\n                if (index === -1 || index === 9) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n        },\n        axisLabel: {\n            inside: true,\n            color: '#fff',\n            fontSize: 12\n        },\n        splitLine: {\n            show: false\n        },\n        data: timeData,\n\n    },\n    yAxis: [{\n        max: 230,\n        min: 205,\n        show:false,\n        axisLine: {\n            show:false,\n            lineStyle: {\n                color: '#4bbbf8',\n                shadowColor: 'rgba(75, 211, 255, 0.5)',\n                shadowBlur: 5\n            }\n        },\n        axisLabel: {\n            color: '#fff',\n            fontSize: 12\n        },\n        splitLine: {\n            show:false,\n            lineStyle: {\n                color: 'rgba(75, 211, 255, 0.2)',\n                type: 'dashed'\n            }\n        }\n    }],\n    series: [{\n        name: '数量',\n        type: 'bar',\n        barCategoryGap: '10%',\n        // symbol: 'path://d=\"M150 0 L75 200 L225 200 Z\"',\n        label: {\n            show: true,\n            position: 'top',\n            color: function(params) {\n                if(params.value>225){\n                            return red;\n                        }else{\n                        return lightBlue;\n                            \n                        }\n            },\n            fontSize: 14\n        },\n        itemStyle: {\n            barBorderRadius: [30, 30, 0, 0],\n            color: function(params) {\n                if(params.value>225){\n                            return red;\n                        }else{\n                        return lightBlue;\n                            \n                        }\n            }\n        },\n        data: data\n    }],\n    // backgroundColor: \"#190c12\",\n};\n\nmyChart.setOption(option);\nvar key = 0;\nsetInterval(function() {\n\n    timeData.shift();\n    timeData.push(timeSet());\n\n    data.shift();\n    data.push(randomData());\n\n    // 颜色控制\n    key = (key === 1) ? 0 : 1;\n\n    myChart.setOption({\n        xAxis: {\n            data: timeData\n        },\n        series: [{\n            itemStyle: {\n                normal: {\n                    color: function(params) {\n                        if(params.value>225){\n                            return red;\n                        }else{\n                        return lightBlue;}\n                    }\n                }\n            },\n            data: data\n        }]\n    });\n}, 1000);","html":"","externalScripts":"","updaterUID":"bd-1839720448","theme":"","layout":"","viewCount":582,"userName":"哆***嗦","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xA3VhBIIgr.png?v=1586848054551","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title","tooltip"],"customTags":["动态","柱状图","渐变"],"updaterUserName":"哆***嗦"}}