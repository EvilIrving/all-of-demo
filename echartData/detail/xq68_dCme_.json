{"status":0,"data":{"cid":"xq68_dCme_","authorUid":"obd-oMm864WOIopvP3bwH888l83ln1GWf25","authorUserName":"钟***X","title":"比例","description":"","latestVersion":2,"alwaysLatest":0,"createTime":"2021-07-30T05:47:48.000Z","lastUpdateTime":"2021-07-30T06:59:59.000Z","auth":2,"uid":"obd-oMm864WOIopvP3bwH888l83ln1GWf25","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-30T06:59:59.000Z","code":"var category = [\r\n      {\r\n        name: '海洛因',\r\n        value: 40,\r\n      },\r\n      {\r\n        name: '氯胺酮',\r\n        value: 33,\r\n      },\r\n      {\r\n        name: 'K粉',\r\n        value: 15,\r\n      },\r\n      {\r\n        name: '病毒',\r\n        value: 20,\r\n      },\r\n    ]; // 类别\r\n    \r\n    const rich= {\r\n                a: {\r\n                  color: '#3EFFBB',\r\n                },\r\n                b: {\r\n                  color: '#FF6161',\r\n                },\r\n                c: {\r\n                  color: '#FFEB61',\r\n                },\r\n                d: {\r\n                  color: '#8261FF',\r\n                },\r\n                biga: {\r\n                  color: '#3EFFBB',\r\n                  fontSize: 40\r\n                },\r\n                bigb: {\r\n                  color: '#FF6161',\r\n                  fontSize: 30\r\n                },\r\n                bigc: {\r\n                  color: '#FFEB61',\r\n                  fontSize: 30\r\n                },\r\n                bigd: {\r\n                  color: '#3EFFBB',\r\n                  fontSize: 30\r\n                }\r\n              };\r\n    var total = 100; // 数据总数\r\n    var datas = [];\r\n    category.forEach(value => {\r\n      datas.push(value.value);\r\n    });\r\n    option = {\r\n       backgroundColor: '#0C1940',\r\n      xAxis: {\r\n        max: total,\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n        axisLine: {\r\n          show: false,\r\n        },\r\n        axisLabel: {\r\n          show: false,\r\n        },\r\n        axisTick: {\r\n          show: false,\r\n        },\r\n      },\r\n      // grid: {\r\n      //   left: 80,\r\n      //   top: 20, // 设置条形图的边距\r\n      //   right: 80,\r\n      //   bottom: 20,\r\n      // },\r\n      yAxis: [\r\n        {\r\n          type: 'category',\r\n          inverse: true,\r\n          data: category,\r\n          axisLine: {\r\n            show: false,\r\n          },\r\n          axisTick: {\r\n            show: false,\r\n          },\r\n          axisLabel: {\r\n            show: false,\r\n          },\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          // 内\r\n          type: 'bar',\r\n          barWidth: 6 ,\r\n\r\n          legendHoverLink: false,\r\n          silent: true,\r\n          itemStyle: {\r\n            normal: {\r\n              color: function (params) {\r\n                var color;\r\n                if (params.dataIndex === 0) {\r\n                  color = {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [\r\n                      {\r\n                        offset: 0,\r\n                        color: '#11304C', // 0% 处的颜色\r\n                      },\r\n                      {\r\n                        offset: 1,\r\n                        color: '#3EFFBB', // 100% 处的颜色\r\n                      },\r\n                    ],\r\n                  };\r\n                } else if (params.dataIndex === 1) {\r\n                  color = {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [\r\n                      {\r\n                        offset: 0,\r\n                        color: '#1F2343', // 0% 处的颜色\r\n                      },\r\n                      {\r\n                        offset: 1,\r\n                        color: '#FF6161', // 100% 处的颜色\r\n                      },\r\n                    ],\r\n                  };\r\n                } else if (params.dataIndex === 2) {\r\n                  color = {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [\r\n                      {\r\n                        offset: 0,\r\n                        color: '#202D42', // 0% 处的颜色\r\n                      },\r\n                      {\r\n                        offset: 1,\r\n                        color: '#FFEB61', // 100% 处的颜色\r\n                      },\r\n                    ],\r\n                  };\r\n                } else {\r\n                  color = {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [\r\n                      {\r\n                        offset: 0,\r\n                        color: '#192553', // 0% 处的颜色\r\n                      },\r\n                      {\r\n                        offset: 1,\r\n                        color: '#8261FF', // 100% 处的颜色\r\n                      },\r\n                    ],\r\n                  };\r\n                }\r\n                return color;\r\n              },\r\n            },\r\n          },\r\n          label: {\r\n            \r\n            normal: {\r\n              rich,\r\n              show: true,\r\n              // position: 'left',\r\n              verticalAlign:'middle',\r\n              position: [0, -30],\r\n              formatter: function(params){\r\n                var text;\r\n                if (params.dataIndex === 0) {\r\n                  text = '{biga| ·} ' + params.name;\r\n                } else if (params.dataIndex === 1) {\r\n                  text = '{bigb| ·} ' + params.name;\r\n                } else if (params.dataIndex === 2) {\r\n                  text = '{bigc| ·} ' + params.name;\r\n                } else if (params.dataIndex === 3) {\r\n                  text = '{bigd| ·} ' + params.name;\r\n                }\r\n                return text;\r\n              },\r\n              textStyle: {\r\n                color: '#fff',\r\n                fontSize: 14,\r\n              },\r\n            },\r\n          },\r\n          data: category,\r\n          z: 2,\r\n          animationEasing: 'elasticOut',\r\n        },\r\n        {\r\n          // 分隔\r\n          type: 'pictorialBar',\r\n          itemStyle: {\r\n            normal: {\r\n              color: '#0C1940',\r\n            },\r\n          },\r\n          symbolRepeat: 'fixed',\r\n          symbolMargin: 5,\r\n          symbol: 'rect',\r\n          symbolClip: true,\r\n          symbolSize: [10,8],\r\n          symbolPosition: 'start',\r\n          symbolOffset: [10,0],\r\n          symbolBoundingData: 100,\r\n          data: category,\r\n          z: 3,\r\n          animationEasing: 'elasticOut',\r\n        },\r\n        {\r\n          // 底\r\n          type: 'pictorialBar',\r\n          itemStyle: {\r\n            normal: {\r\n              color: '#12324E',\r\n            },\r\n          },\r\n          symbolRepeat: 'fixed',\r\n          symbolMargin: 5,\r\n          symbol: 'rect',\r\n          symbolClip: true,\r\n          symbolSize: [10,6],\r\n          symbolPosition: 'start',\r\n          symbolOffset: [0, 0],\r\n          symbolBoundingData: 100,\r\n          data: [100,100,100,100],\r\n          z: 1,\r\n          animationEasing: 'elasticOut',\r\n        },\r\n        {\r\n          // 外边框\r\n          type: 'pictorialBar',\r\n          symbol: 'rect',\r\n          symbolBoundingData: total,\r\n          itemStyle: {\r\n            normal: {\r\n              color: 'none',\r\n            },\r\n          },\r\n          label: {\r\n            normal: {\r\n              formatter: params => {\r\n                var text;\r\n                if (params.dataIndex === 0) {\r\n                  text = '{a| ' + params.data + '%}';\r\n                } else if (params.dataIndex === 1) {\r\n                  text = '{b| ' + params.data + '%}';\r\n                } else if (params.dataIndex === 2) {\r\n                  text = '{c| ' + params.data + '%}';\r\n                } else if (params.dataIndex === 3) {\r\n                  text = '{d| ' + params.data + '%}';\r\n                }\r\n                return text;\r\n              },\r\n              rich: {\r\n                 a: {\r\n                  color: '#3EFFBB',\r\n                  fontSize: 20\r\n                },\r\n                b: {\r\n                  color: '#FF6161',\r\n                  fontSize: 20\r\n                },\r\n                c: {\r\n                  color: '#FFEB61',\r\n                  fontSize: 20\r\n                },\r\n                d: {\r\n                  color: '#8261FF',\r\n                  fontSize: 20\r\n                },\r\n              },\r\n              position: [600,-20],\r\n              distance: 0, // 向右偏移位置\r\n              show: true,\r\n            },\r\n          },\r\n          data: datas,\r\n          z: 0,\r\n          animationEasing: 'elasticOut',\r\n        },\r\n      ],\r\n    };","html":"","externalScripts":"","updaterUID":"obd-oMm864WOIopvP3bwH888l83ln1GWf25","theme":"","layout":"","viewCount":0,"userName":"钟***X","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xq68_dCme_.png?v=1627628399972","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"钟***X"}}