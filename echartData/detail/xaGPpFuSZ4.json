{"status":0,"data":{"cid":"xaGPpFuSZ4","authorUid":"bd-1627449234","authorUserName":"l***w","title":"双排条形图","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-10-21T10:48:27.000Z","lastUpdateTime":"2020-10-21T10:48:27.000Z","auth":2,"uid":"bd-1627449234","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-10-21T10:48:27.000Z","code":"var myData = ['栏目1', '栏目2', '栏目3', '栏目4', '栏目5']\r\nvar lineData = [200, 200, 200, 200, 200]\r\nvar lastYearData = {\r\n    1: [56, 20, 62, 34, 55]\r\n}\r\nvar thisYearData = {\r\n    1: [11, 38, 23, 39, 106]\r\n}\r\nvar timeLineData = [1]\r\nvar background = '#000' // 背景\r\noption = {\r\n    baseOption: {\r\n        backgroundColor: background,\r\n        timeline: {\r\n            show: false,\r\n            top: 0,\r\n            data: []\r\n        },\r\n        legend: {\r\n            top: '12%',\r\n            left: '15%',\r\n            itemWidth: 10,\r\n            itemHeight: 10,\r\n            itemGap: 100,\r\n            icon: 'horizontal',\r\n            textStyle: {\r\n                color: '#ffffff',\r\n                fontSize: 14\r\n            },\r\n            data: ['内容更新量/条', '内容推送量/条']\r\n        },\r\n        grid: [{\r\n            show: false,\r\n            left: '5%',\r\n            top: '27%',\r\n            bottom: '10%',\r\n            containLabel: true,\r\n            width: '37%'\r\n        }, {\r\n            show: false,\r\n            left: '53%',\r\n            top: '27%',\r\n            bottom: '10%',\r\n            width: '0%'\r\n        }, {\r\n            show: false,\r\n            right: '2%',\r\n            top: '27%',\r\n            bottom: '10%',\r\n            containLabel: true,\r\n            width: '37%'\r\n        }],\r\n        xAxis: [{\r\n            type: 'value',\r\n            inverse: true,\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            position: 'bottom',\r\n            axisLabel: {\r\n                show: false,\r\n                //     formatter:function(value)\r\n                //   {\r\n                //         //return '\\n\\n\\n\\n' + value;\r\n                //      // return '\\n' + value\r\n                //      return value\r\n                //      // return value + 'virus'\r\n                //     // return value.split(\"\").join(\"\\n\");\r\n                //   },\r\n                textStyle: {\r\n                    color: 'white'\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        }, {\r\n            gridIndex: 1,\r\n            show: false\r\n        }, {\r\n            gridIndex: 2,\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            position: 'bottom',\r\n            axisLabel: {\r\n                show: false,\r\n                interval: 0,\r\n                // formatter:function(value)\r\n                //   {\r\n                //         //return '\\n\\n\\n\\n' + value;\r\n                //     //  return '\\n' + value\r\n                //   return value\r\n                //      // return value + 'virus'\r\n                //     // return value.split(\"\").join(\"\\n\");\r\n                //   },\r\n                textStyle: {\r\n                    color: 'white'\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        }],\r\n        yAxis: [{\r\n            type: 'category',\r\n            inverse: true,\r\n            position: 'right',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n            },\r\n            data: myData\r\n        }, {\r\n            gridIndex: 1,\r\n            type: 'category',\r\n            inverse: true,\r\n            position: 'center',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                //  formatter:function(value)\r\n                //   {\r\n\r\n                //      // return '\\n' + value\r\n                //      return value + '\\n\\n'\r\n                //      // return value + 'virus'\r\n                //   },\r\n                textStyle: {\r\n                    color: '#ffffff',\r\n                    fontSize: 20\r\n                }\r\n\r\n            },\r\n            data: myData.map(function(value) {\r\n                return {\r\n                    value: value,\r\n                    textStyle: {\r\n                        align: 'center',\r\n                        fontSize: 15\r\n                    }\r\n                }\r\n            })\r\n        }, {\r\n            gridIndex: 2,\r\n            type: 'category',\r\n            inverse: true,\r\n            position: 'left',\r\n            axisLine: {\r\n                show: false\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                show: false\r\n\r\n            },\r\n            data: myData\r\n        }],\r\n        series: []\r\n\r\n    },\r\n    options: []\r\n};\r\n\r\noption.baseOption.timeline.data.push(timeLineData[0]);\r\noption.options.push({\r\n        series: [{\r\n                type: 'pictorialBar',\r\n                xAxisIndex: 0,\r\n                yAxisIndex: 0,\r\n                // symbol: 'rect',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(0,0,0,0)'\r\n                    }\r\n                },\r\n                barWidth: 12,\r\n                // symbolRepeat: true,\r\n                // symbolSize: 14,\r\n                data: lineData,\r\n                barGap: '-100%',\r\n                barCategoryGap: 0,\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: (series) => {\r\n                            return lastYearData[timeLineData[0]][series.dataIndex]\r\n                        },\r\n                        position: 'insideTopLeft',\r\n                        textStyle: {\r\n                            color: '#ffffff',\r\n                            fontSize: 16\r\n                        },\r\n                        offset: [0, -10]\r\n                    }\r\n                },\r\n                z: -100,\r\n                animationEasing: 'elasticOut',\r\n                animationDelay: function(dataIndex, params) {\r\n                    return params.index * 30\r\n                }\r\n            }, {\r\n                name: '内容更新量/条',\r\n                type: 'bar',\r\n                xAxisIndex: 0,\r\n                yAxisIndex: 0,\r\n                //  symbol: 'rect',\r\n                barWidth: 12,\r\n                itemStyle: {\r\n                    normal: {\r\n                        barBorderRadius: 5,\r\n                        color: '#039372'\r\n                    }\r\n                },\r\n                // symbolRepeat: true,\r\n                // symbolSize: 14,\r\n                data: lastYearData[timeLineData[0]]\r\n                // animationEasing: 'elasticOut',\r\n                // animationDelay: function (dataIndex, params) {\r\n                //     return params.index * 30 * 1.1;\r\n                // }\r\n            },\r\n            {\r\n                type: 'pictorialBar',\r\n                xAxisIndex: 2,\r\n                yAxisIndex: 2,\r\n                symbol: 'rect',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(0,0,0,0)'\r\n                    }\r\n                },\r\n                barWidth: 12,\r\n                symbolRepeat: true,\r\n                symbolSize: 14,\r\n                data: lineData,\r\n                barGap: '-100%',\r\n                barCategoryGap: 0,\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: (series) => {\r\n                            return thisYearData[timeLineData[0]][series.dataIndex]\r\n                        },\r\n                        position: 'insideTopRight',\r\n                        textStyle: {\r\n                            color: '#ffffff',\r\n                            fontSize: 16\r\n                        },\r\n                        offset: [0, -10]\r\n                    }\r\n                },\r\n                z: -100,\r\n                animationEasing: 'elasticOut',\r\n                animationDelay: function(dataIndex, params) {\r\n                    return params.index * 30\r\n                }\r\n            }, {\r\n                name: '内容推送量/条',\r\n                type: 'bar',\r\n                xAxisIndex: 2,\r\n                yAxisIndex: 2,\r\n                //   symbol: 'rect',\r\n                barWidth: 12,\r\n                itemStyle: {\r\n                    normal: {\r\n                        barBorderRadius: 5,\r\n                        color: '#36d7b6'\r\n                    }\r\n                },\r\n                // symbolRepeat: true,\r\n                // symbolSize: 14,\r\n                data: thisYearData[timeLineData[0]]\r\n                // animationEasing: 'elasticOut',\r\n                // animationDelay: function (dataIndex, params) {\r\n                //     return params.index * 30 * 1.1;\r\n                // }\r\n            }\r\n        ]\r\n    });\r\n","html":"","externalScripts":"","updaterUID":"bd-1627449234","theme":"","layout":"","viewCount":105,"userName":"l***w","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xaGPpFuSZ4.png?v=1603277307883","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-pictorialBar","timeline"],"customTags":[],"updaterUserName":"l***w"}}