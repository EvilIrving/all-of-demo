{"status":0,"data":{"cid":"xqzbLnFh0","authorUid":"bd-2049430943","authorUserName":"中***号","title":"开发中","description":"","latestVersion":10,"alwaysLatest":1,"createTime":"2020-02-13T03:56:24.000Z","lastUpdateTime":"2020-02-13T03:56:24.000Z","auth":2,"uid":"bd-2049430943","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"4.4.0","versionCreateTime":"2020-02-16T13:45:59.000Z","code":"var _origin = [{\"name\":\"Audi\",\"value\":24748,\"x\":\"2019-07-29\"},{\"name\":\"Audi\",\"value\":25372,\"x\":\"2019-07-30\"},{\"name\":\"Audi\",\"value\":28262,\"x\":\"2019-07-31\"},{\"name\":\"Audi\",\"value\":24909,\"x\":\"2019-08-01\"},{\"name\":\"Audi\",\"value\":21716,\"x\":\"2019-08-02\"},{\"name\":\"Audi\",\"value\":19822,\"x\":\"2019-08-03\"},{\"name\":\"Audi\",\"value\":19214,\"x\":\"2019-08-04\"},{\"name\":\"Audi\",\"value\":21484,\"x\":\"2019-08-05\"},{\"name\":\"Audi\",\"value\":21472,\"x\":\"2019-08-06\"},{\"name\":\"Audi\",\"value\":21628,\"x\":\"2019-08-07\"},{\"name\":\"Audi\",\"value\":21912,\"x\":\"2019-08-08\"},{\"name\":\"Audi\",\"value\":24198,\"x\":\"2019-08-09\"},{\"name\":\"Audi\",\"value\":20488,\"x\":\"2019-08-10\"},{\"name\":\"Audi\",\"value\":20066,\"x\":\"2019-08-11\"},{\"name\":\"Audi\",\"value\":23413,\"x\":\"2019-08-12\"},{\"name\":\"Audi\",\"value\":25832,\"x\":\"2019-08-13\"},{\"name\":\"Audi\",\"value\":27265,\"x\":\"2019-08-14\"},{\"name\":\"Audi\",\"value\":24554,\"x\":\"2019-08-15\"},{\"name\":\"Audi\",\"value\":24223,\"x\":\"2019-08-16\"},{\"name\":\"Audi\",\"value\":22111,\"x\":\"2019-08-17\"},{\"name\":\"Audi\",\"value\":21560,\"x\":\"2019-08-18\"},{\"name\":\"Audi\",\"value\":34278,\"x\":\"2019-08-19\"},{\"name\":\"Audi\",\"value\":34710,\"x\":\"2019-08-20\"},{\"name\":\"Audi\",\"value\":37187,\"x\":\"2019-08-21\"},{\"name\":\"Audi\",\"value\":28606,\"x\":\"2019-08-22\"},{\"name\":\"Audi\",\"value\":29849,\"x\":\"2019-08-23\"},{\"name\":\"Audi\",\"value\":25503,\"x\":\"2019-08-24\"},{\"name\":\"Audi\",\"value\":26128,\"x\":\"2019-08-25\"},{\"name\":\"Audi\",\"value\":77896,\"x\":\"2019-08-26\"},{\"name\":\"Audi\",\"value\":71553,\"x\":\"2019-08-27\"},{\"name\":\"Audi\",\"value\":48260,\"x\":\"2019-08-28\"},{\"name\":\"Audi\",\"value\":50882,\"x\":\"2019-08-29\"},{\"name\":\"BMW\",\"value\":37906,\"x\":\"2019-07-29\"},{\"name\":\"BMW\",\"value\":42483,\"x\":\"2019-07-30\"},{\"name\":\"BMW\",\"value\":39601,\"x\":\"2019-07-31\"},{\"name\":\"BMW\",\"value\":37549,\"x\":\"2019-08-01\"},{\"name\":\"BMW\",\"value\":36870,\"x\":\"2019-08-02\"},{\"name\":\"BMW\",\"value\":32245,\"x\":\"2019-08-03\"},{\"name\":\"BMW\",\"value\":31585,\"x\":\"2019-08-04\"},{\"name\":\"BMW\",\"value\":40358,\"x\":\"2019-08-05\"},{\"name\":\"BMW\",\"value\":63023,\"x\":\"2019-08-06\"},{\"name\":\"BMW\",\"value\":35006,\"x\":\"2019-08-07\"},{\"name\":\"BMW\",\"value\":34769,\"x\":\"2019-08-08\"},{\"name\":\"BMW\",\"value\":35280,\"x\":\"2019-08-09\"},{\"name\":\"BMW\",\"value\":31824,\"x\":\"2019-08-10\"},{\"name\":\"BMW\",\"value\":31123,\"x\":\"2019-08-11\"},{\"name\":\"BMW\",\"value\":37532,\"x\":\"2019-08-12\"},{\"name\":\"BMW\",\"value\":40573,\"x\":\"2019-08-13\"},{\"name\":\"BMW\",\"value\":41860,\"x\":\"2019-08-14\"},{\"name\":\"BMW\",\"value\":39409,\"x\":\"2019-08-15\"},{\"name\":\"BMW\",\"value\":35495,\"x\":\"2019-08-16\"},{\"name\":\"BMW\",\"value\":31724,\"x\":\"2019-08-17\"},{\"name\":\"BMW\",\"value\":31598,\"x\":\"2019-08-18\"},{\"name\":\"BMW\",\"value\":43737,\"x\":\"2019-08-19\"},{\"name\":\"BMW\",\"value\":45367,\"x\":\"2019-08-20\"},{\"name\":\"BMW\",\"value\":42111,\"x\":\"2019-08-21\"},{\"name\":\"BMW\",\"value\":41933,\"x\":\"2019-08-22\"},{\"name\":\"BMW\",\"value\":40739,\"x\":\"2019-08-23\"},{\"name\":\"BMW\",\"value\":39508,\"x\":\"2019-08-24\"},{\"name\":\"BMW\",\"value\":39255,\"x\":\"2019-08-25\"},{\"name\":\"BMW\",\"value\":43263,\"x\":\"2019-08-26\"},{\"name\":\"BMW\",\"value\":45463,\"x\":\"2019-08-27\"},{\"name\":\"BMW\",\"value\":46212,\"x\":\"2019-08-28\"},{\"name\":\"BMW\",\"value\":45891,\"x\":\"2019-08-29\"},{\"name\":\"Infiniti\",\"value\":2312,\"x\":\"2019-07-29\"},{\"name\":\"Infiniti\",\"value\":2557,\"x\":\"2019-07-30\"},{\"name\":\"Infiniti\",\"value\":2971,\"x\":\"2019-07-31\"},{\"name\":\"Infiniti\",\"value\":2848,\"x\":\"2019-08-01\"},{\"name\":\"Infiniti\",\"value\":2812,\"x\":\"2019-08-02\"},{\"name\":\"Infiniti\",\"value\":2093,\"x\":\"2019-08-03\"},{\"name\":\"Infiniti\",\"value\":2359,\"x\":\"2019-08-04\"},{\"name\":\"Infiniti\",\"value\":4132,\"x\":\"2019-08-05\"},{\"name\":\"Infiniti\",\"value\":4670,\"x\":\"2019-08-06\"},{\"name\":\"Infiniti\",\"value\":3046,\"x\":\"2019-08-07\"},{\"name\":\"Infiniti\",\"value\":3646,\"x\":\"2019-08-08\"},{\"name\":\"Infiniti\",\"value\":2633,\"x\":\"2019-08-09\"},{\"name\":\"Infiniti\",\"value\":1917,\"x\":\"2019-08-10\"},{\"name\":\"Infiniti\",\"value\":1731,\"x\":\"2019-08-11\"},{\"name\":\"Infiniti\",\"value\":3304,\"x\":\"2019-08-12\"},{\"name\":\"Infiniti\",\"value\":2894,\"x\":\"2019-08-13\"},{\"name\":\"Infiniti\",\"value\":4447,\"x\":\"2019-08-14\"},{\"name\":\"Infiniti\",\"value\":4288,\"x\":\"2019-08-15\"},{\"name\":\"Infiniti\",\"value\":2906,\"x\":\"2019-08-16\"},{\"name\":\"Infiniti\",\"value\":2676,\"x\":\"2019-08-17\"},{\"name\":\"Infiniti\",\"value\":3038,\"x\":\"2019-08-18\"},{\"name\":\"Infiniti\",\"value\":5015,\"x\":\"2019-08-19\"},{\"name\":\"Infiniti\",\"value\":4300,\"x\":\"2019-08-20\"},{\"name\":\"Infiniti\",\"value\":3425,\"x\":\"2019-08-21\"},{\"name\":\"Infiniti\",\"value\":3317,\"x\":\"2019-08-22\"},{\"name\":\"Infiniti\",\"value\":3379,\"x\":\"2019-08-23\"},{\"name\":\"Infiniti\",\"value\":4086,\"x\":\"2019-08-24\"},{\"name\":\"Infiniti\",\"value\":2359,\"x\":\"2019-08-25\"},{\"name\":\"Infiniti\",\"value\":3879,\"x\":\"2019-08-26\"},{\"name\":\"Infiniti\",\"value\":3694,\"x\":\"2019-08-27\"},{\"name\":\"Infiniti\",\"value\":3430,\"x\":\"2019-08-28\"},{\"name\":\"Infiniti\",\"value\":3705,\"x\":\"2019-08-29\"},{\"name\":\"Jaguar\",\"value\":3517,\"x\":\"2019-07-29\"},{\"name\":\"Jaguar\",\"value\":2950,\"x\":\"2019-07-30\"},{\"name\":\"Jaguar\",\"value\":3483,\"x\":\"2019-07-31\"},{\"name\":\"Jaguar\",\"value\":3538,\"x\":\"2019-08-01\"},{\"name\":\"Jaguar\",\"value\":2805,\"x\":\"2019-08-02\"},{\"name\":\"Jaguar\",\"value\":2501,\"x\":\"2019-08-03\"},{\"name\":\"Jaguar\",\"value\":2171,\"x\":\"2019-08-04\"},{\"name\":\"Jaguar\",\"value\":2688,\"x\":\"2019-08-05\"},{\"name\":\"Jaguar\",\"value\":2543,\"x\":\"2019-08-06\"},{\"name\":\"Jaguar\",\"value\":2515,\"x\":\"2019-08-07\"},{\"name\":\"Jaguar\",\"value\":2783,\"x\":\"2019-08-08\"},{\"name\":\"Jaguar\",\"value\":2327,\"x\":\"2019-08-09\"},{\"name\":\"Jaguar\",\"value\":2223,\"x\":\"2019-08-10\"},{\"name\":\"Jaguar\",\"value\":2040,\"x\":\"2019-08-11\"},{\"name\":\"Jaguar\",\"value\":2802,\"x\":\"2019-08-12\"},{\"name\":\"Jaguar\",\"value\":3470,\"x\":\"2019-08-13\"},{\"name\":\"Jaguar\",\"value\":3639,\"x\":\"2019-08-14\"},{\"name\":\"Jaguar\",\"value\":3820,\"x\":\"2019-08-15\"},{\"name\":\"Jaguar\",\"value\":3463,\"x\":\"2019-08-16\"},{\"name\":\"Jaguar\",\"value\":6682,\"x\":\"2019-08-17\"},{\"name\":\"Jaguar\",\"value\":2624,\"x\":\"2019-08-18\"},{\"name\":\"Jaguar\",\"value\":3423,\"x\":\"2019-08-19\"},{\"name\":\"Jaguar\",\"value\":3334,\"x\":\"2019-08-20\"},{\"name\":\"Jaguar\",\"value\":3139,\"x\":\"2019-08-21\"},{\"name\":\"Jaguar\",\"value\":3350,\"x\":\"2019-08-22\"},{\"name\":\"Jaguar\",\"value\":3713,\"x\":\"2019-08-23\"},{\"name\":\"Jaguar\",\"value\":2747,\"x\":\"2019-08-24\"},{\"name\":\"Jaguar\",\"value\":3468,\"x\":\"2019-08-25\"},{\"name\":\"Jaguar\",\"value\":3350,\"x\":\"2019-08-26\"},{\"name\":\"Jaguar\",\"value\":3301,\"x\":\"2019-08-27\"},{\"name\":\"Jaguar\",\"value\":2751,\"x\":\"2019-08-28\"},{\"name\":\"Jaguar\",\"value\":3187,\"x\":\"2019-08-29\"},{\"name\":\"Land Rover\",\"value\":10887,\"x\":\"2019-07-29\"},{\"name\":\"Land Rover\",\"value\":11003,\"x\":\"2019-07-30\"},{\"name\":\"Land Rover\",\"value\":15649,\"x\":\"2019-07-31\"},{\"name\":\"Land Rover\",\"value\":15200,\"x\":\"2019-08-01\"},{\"name\":\"Land Rover\",\"value\":12468,\"x\":\"2019-08-02\"},{\"name\":\"Land Rover\",\"value\":11435,\"x\":\"2019-08-03\"},{\"name\":\"Land Rover\",\"value\":10473,\"x\":\"2019-08-04\"},{\"name\":\"Land Rover\",\"value\":8365,\"x\":\"2019-08-05\"},{\"name\":\"Land Rover\",\"value\":8059,\"x\":\"2019-08-06\"},{\"name\":\"Land Rover\",\"value\":8509,\"x\":\"2019-08-07\"},{\"name\":\"Land Rover\",\"value\":9356,\"x\":\"2019-08-08\"},{\"name\":\"Land Rover\",\"value\":9998,\"x\":\"2019-08-09\"},{\"name\":\"Land Rover\",\"value\":7786,\"x\":\"2019-08-10\"},{\"name\":\"Land Rover\",\"value\":7324,\"x\":\"2019-08-11\"},{\"name\":\"Land Rover\",\"value\":9281,\"x\":\"2019-08-12\"},{\"name\":\"Land Rover\",\"value\":10269,\"x\":\"2019-08-13\"},{\"name\":\"Land Rover\",\"value\":10045,\"x\":\"2019-08-14\"},{\"name\":\"Land Rover\",\"value\":10944,\"x\":\"2019-08-15\"},{\"name\":\"Land Rover\",\"value\":8778,\"x\":\"2019-08-16\"},{\"name\":\"Land Rover\",\"value\":7639,\"x\":\"2019-08-17\"},{\"name\":\"Land Rover\",\"value\":7299,\"x\":\"2019-08-18\"},{\"name\":\"Land Rover\",\"value\":9094,\"x\":\"2019-08-19\"},{\"name\":\"Land Rover\",\"value\":9863,\"x\":\"2019-08-20\"},{\"name\":\"Land Rover\",\"value\":8737,\"x\":\"2019-08-21\"},{\"name\":\"Land Rover\",\"value\":8716,\"x\":\"2019-08-22\"},{\"name\":\"Land Rover\",\"value\":9484,\"x\":\"2019-08-23\"},{\"name\":\"Land Rover\",\"value\":7995,\"x\":\"2019-08-24\"},{\"name\":\"Land Rover\",\"value\":7925,\"x\":\"2019-08-25\"},{\"name\":\"Land Rover\",\"value\":10690,\"x\":\"2019-08-26\"},{\"name\":\"Land Rover\",\"value\":8593,\"x\":\"2019-08-27\"},{\"name\":\"Land Rover\",\"value\":10468,\"x\":\"2019-08-28\"},{\"name\":\"Land Rover\",\"value\":9027,\"x\":\"2019-08-29\"},{\"name\":\"MB\",\"value\":26188,\"x\":\"2019-07-29\"},{\"name\":\"MB\",\"value\":23770,\"x\":\"2019-07-30\"},{\"name\":\"MB\",\"value\":23720,\"x\":\"2019-07-31\"},{\"name\":\"MB\",\"value\":22970,\"x\":\"2019-08-01\"},{\"name\":\"MB\",\"value\":22826,\"x\":\"2019-08-02\"},{\"name\":\"MB\",\"value\":19888,\"x\":\"2019-08-03\"},{\"name\":\"MB\",\"value\":19293,\"x\":\"2019-08-04\"},{\"name\":\"MB\",\"value\":22100,\"x\":\"2019-08-05\"},{\"name\":\"MB\",\"value\":21520,\"x\":\"2019-08-06\"},{\"name\":\"MB\",\"value\":20757,\"x\":\"2019-08-07\"},{\"name\":\"MB\",\"value\":22835,\"x\":\"2019-08-08\"},{\"name\":\"MB\",\"value\":21498,\"x\":\"2019-08-09\"},{\"name\":\"MB\",\"value\":23185,\"x\":\"2019-08-10\"},{\"name\":\"MB\",\"value\":20010,\"x\":\"2019-08-11\"},{\"name\":\"MB\",\"value\":24209,\"x\":\"2019-08-12\"},{\"name\":\"MB\",\"value\":26735,\"x\":\"2019-08-13\"},{\"name\":\"MB\",\"value\":26075,\"x\":\"2019-08-14\"},{\"name\":\"MB\",\"value\":26078,\"x\":\"2019-08-15\"},{\"name\":\"MB\",\"value\":22920,\"x\":\"2019-08-16\"},{\"name\":\"MB\",\"value\":20100,\"x\":\"2019-08-17\"},{\"name\":\"MB\",\"value\":20586,\"x\":\"2019-08-18\"},{\"name\":\"MB\",\"value\":31443,\"x\":\"2019-08-19\"},{\"name\":\"MB\",\"value\":29844,\"x\":\"2019-08-20\"},{\"name\":\"MB\",\"value\":28916,\"x\":\"2019-08-21\"},{\"name\":\"MB\",\"value\":28139,\"x\":\"2019-08-22\"},{\"name\":\"MB\",\"value\":27052,\"x\":\"2019-08-23\"},{\"name\":\"MB\",\"value\":27399,\"x\":\"2019-08-24\"},{\"name\":\"MB\",\"value\":30206,\"x\":\"2019-08-25\"},{\"name\":\"MB\",\"value\":39616,\"x\":\"2019-08-26\"},{\"name\":\"MB\",\"value\":39686,\"x\":\"2019-08-27\"},{\"name\":\"MB\",\"value\":37728,\"x\":\"2019-08-28\"},{\"name\":\"MB\",\"value\":33294,\"x\":\"2019-08-29\"}]\nvar g = _origin.reduce((total,cur)=>{\n    if(total[cur.name]){\n        total[cur.name].push(cur);\n    }else{\n        total[cur.name] = [cur];\n    }\n    return total;\n},{});\nvar origin = [];\nvar split = 30;\nfor(let n in g){\n    g[n].sort((a,b)=>{\n        if(a.x>b.x){\n            return 1;\n        }\n        return -1;\n    });\n    origin.push(g[n][0]);\n    g[n].reduce((pre,cur)=>{\n        var gap = cur.value - pre.value;\n        var egap = Math.floor(gap/split);\n        if(Math.abs(egap) >= 1){\n            for(let i=1;i<split;i++){\n                origin.push({...pre,value:pre.value+egap*i,x:pre.x+\"-\"+i});\n            }\n        }\n        origin.push(cur);\n        return cur\n    });\n}\n\nvar rankMap = origin.reduce((total,cur)=>{\n    if(total[cur.x]){\n        total[cur.x].push(cur);\n    }else{\n        total[cur.x] = [cur];\n    }\n    return total;\n},{});\n\nvar rank = [];\n\nfor(let key in rankMap){\n    const map = {};\n    map['category'] = key;\n    map['data'] = rankMap[key];\n    rank.push(map);\n}\n\n//var rank = [{\"category\":\"2019-07-29\",\"data\":[{\"name\":\"Audi\",\"value\":24748,\"x\":\"2019-07-29\"},{\"name\":\"BMW\",\"value\":37906,\"x\":\"2019-07-29\"},{\"name\":\"Infiniti\",\"value\":2312,\"x\":\"2019-07-29\"},{\"name\":\"Jaguar\",\"value\":3517,\"x\":\"2019-07-29\"},{\"name\":\"Land Rover\",\"value\":10887,\"x\":\"2019-07-29\"},{\"name\":\"MB\",\"value\":26188,\"x\":\"2019-07-29\"}]},{\"category\":\"2019-07-30\",\"data\":[{\"name\":\"Audi\",\"value\":25372,\"x\":\"2019-07-30\"},{\"name\":\"BMW\",\"value\":42483,\"x\":\"2019-07-30\"},{\"name\":\"Infiniti\",\"value\":2557,\"x\":\"2019-07-30\"},{\"name\":\"Jaguar\",\"value\":2950,\"x\":\"2019-07-30\"},{\"name\":\"Land Rover\",\"value\":11003,\"x\":\"2019-07-30\"},{\"name\":\"MB\",\"value\":23770,\"x\":\"2019-07-30\"}]},{\"category\":\"2019-07-31\",\"data\":[{\"name\":\"Audi\",\"value\":28262,\"x\":\"2019-07-31\"},{\"name\":\"BMW\",\"value\":39601,\"x\":\"2019-07-31\"},{\"name\":\"Infiniti\",\"value\":2971,\"x\":\"2019-07-31\"},{\"name\":\"Jaguar\",\"value\":3483,\"x\":\"2019-07-31\"},{\"name\":\"Land Rover\",\"value\":15649,\"x\":\"2019-07-31\"},{\"name\":\"MB\",\"value\":23720,\"x\":\"2019-07-31\"}]},{\"category\":\"2019-08-01\",\"data\":[{\"name\":\"Audi\",\"value\":24909,\"x\":\"2019-08-01\"},{\"name\":\"BMW\",\"value\":37549,\"x\":\"2019-08-01\"},{\"name\":\"Infiniti\",\"value\":2848,\"x\":\"2019-08-01\"},{\"name\":\"Jaguar\",\"value\":3538,\"x\":\"2019-08-01\"},{\"name\":\"Land Rover\",\"value\":15200,\"x\":\"2019-08-01\"},{\"name\":\"MB\",\"value\":22970,\"x\":\"2019-08-01\"}]},{\"category\":\"2019-08-02\",\"data\":[{\"name\":\"Audi\",\"value\":21716,\"x\":\"2019-08-02\"},{\"name\":\"BMW\",\"value\":36870,\"x\":\"2019-08-02\"},{\"name\":\"Infiniti\",\"value\":2812,\"x\":\"2019-08-02\"},{\"name\":\"Jaguar\",\"value\":2805,\"x\":\"2019-08-02\"},{\"name\":\"Land Rover\",\"value\":12468,\"x\":\"2019-08-02\"},{\"name\":\"MB\",\"value\":22826,\"x\":\"2019-08-02\"}]},{\"category\":\"2019-08-03\",\"data\":[{\"name\":\"Audi\",\"value\":19822,\"x\":\"2019-08-03\"},{\"name\":\"BMW\",\"value\":32245,\"x\":\"2019-08-03\"},{\"name\":\"Infiniti\",\"value\":2093,\"x\":\"2019-08-03\"},{\"name\":\"Jaguar\",\"value\":2501,\"x\":\"2019-08-03\"},{\"name\":\"Land Rover\",\"value\":11435,\"x\":\"2019-08-03\"},{\"name\":\"MB\",\"value\":19888,\"x\":\"2019-08-03\"}]},{\"category\":\"2019-08-04\",\"data\":[{\"name\":\"Audi\",\"value\":19214,\"x\":\"2019-08-04\"},{\"name\":\"BMW\",\"value\":31585,\"x\":\"2019-08-04\"},{\"name\":\"Infiniti\",\"value\":2359,\"x\":\"2019-08-04\"},{\"name\":\"Jaguar\",\"value\":2171,\"x\":\"2019-08-04\"},{\"name\":\"Land Rover\",\"value\":10473,\"x\":\"2019-08-04\"},{\"name\":\"MB\",\"value\":19293,\"x\":\"2019-08-04\"}]},{\"category\":\"2019-08-05\",\"data\":[{\"name\":\"Audi\",\"value\":21484,\"x\":\"2019-08-05\"},{\"name\":\"BMW\",\"value\":40358,\"x\":\"2019-08-05\"},{\"name\":\"Infiniti\",\"value\":4132,\"x\":\"2019-08-05\"},{\"name\":\"Jaguar\",\"value\":2688,\"x\":\"2019-08-05\"},{\"name\":\"Land Rover\",\"value\":8365,\"x\":\"2019-08-05\"},{\"name\":\"MB\",\"value\":22100,\"x\":\"2019-08-05\"}]},{\"category\":\"2019-08-06\",\"data\":[{\"name\":\"Audi\",\"value\":21472,\"x\":\"2019-08-06\"},{\"name\":\"BMW\",\"value\":63023,\"x\":\"2019-08-06\"},{\"name\":\"Infiniti\",\"value\":4670,\"x\":\"2019-08-06\"},{\"name\":\"Jaguar\",\"value\":2543,\"x\":\"2019-08-06\"},{\"name\":\"Land Rover\",\"value\":8059,\"x\":\"2019-08-06\"},{\"name\":\"MB\",\"value\":21520,\"x\":\"2019-08-06\"}]},{\"category\":\"2019-08-07\",\"data\":[{\"name\":\"Audi\",\"value\":21628,\"x\":\"2019-08-07\"},{\"name\":\"BMW\",\"value\":35006,\"x\":\"2019-08-07\"},{\"name\":\"Infiniti\",\"value\":3046,\"x\":\"2019-08-07\"},{\"name\":\"Jaguar\",\"value\":2515,\"x\":\"2019-08-07\"},{\"name\":\"Land Rover\",\"value\":8509,\"x\":\"2019-08-07\"},{\"name\":\"MB\",\"value\":20757,\"x\":\"2019-08-07\"}]},{\"category\":\"2019-08-08\",\"data\":[{\"name\":\"Audi\",\"value\":21912,\"x\":\"2019-08-08\"},{\"name\":\"BMW\",\"value\":34769,\"x\":\"2019-08-08\"},{\"name\":\"Infiniti\",\"value\":3646,\"x\":\"2019-08-08\"},{\"name\":\"Jaguar\",\"value\":2783,\"x\":\"2019-08-08\"},{\"name\":\"Land Rover\",\"value\":9356,\"x\":\"2019-08-08\"},{\"name\":\"MB\",\"value\":22835,\"x\":\"2019-08-08\"}]},{\"category\":\"2019-08-09\",\"data\":[{\"name\":\"Audi\",\"value\":24198,\"x\":\"2019-08-09\"},{\"name\":\"BMW\",\"value\":35280,\"x\":\"2019-08-09\"},{\"name\":\"Infiniti\",\"value\":2633,\"x\":\"2019-08-09\"},{\"name\":\"Jaguar\",\"value\":2327,\"x\":\"2019-08-09\"},{\"name\":\"Land Rover\",\"value\":9998,\"x\":\"2019-08-09\"},{\"name\":\"MB\",\"value\":21498,\"x\":\"2019-08-09\"}]},{\"category\":\"2019-08-10\",\"data\":[{\"name\":\"Audi\",\"value\":20488,\"x\":\"2019-08-10\"},{\"name\":\"BMW\",\"value\":31824,\"x\":\"2019-08-10\"},{\"name\":\"Infiniti\",\"value\":1917,\"x\":\"2019-08-10\"},{\"name\":\"Jaguar\",\"value\":2223,\"x\":\"2019-08-10\"},{\"name\":\"Land Rover\",\"value\":7786,\"x\":\"2019-08-10\"},{\"name\":\"MB\",\"value\":23185,\"x\":\"2019-08-10\"}]},{\"category\":\"2019-08-11\",\"data\":[{\"name\":\"Audi\",\"value\":20066,\"x\":\"2019-08-11\"},{\"name\":\"BMW\",\"value\":31123,\"x\":\"2019-08-11\"},{\"name\":\"Infiniti\",\"value\":1731,\"x\":\"2019-08-11\"},{\"name\":\"Jaguar\",\"value\":2040,\"x\":\"2019-08-11\"},{\"name\":\"Land Rover\",\"value\":7324,\"x\":\"2019-08-11\"},{\"name\":\"MB\",\"value\":20010,\"x\":\"2019-08-11\"}]},{\"category\":\"2019-08-12\",\"data\":[{\"name\":\"Audi\",\"value\":23413,\"x\":\"2019-08-12\"},{\"name\":\"BMW\",\"value\":37532,\"x\":\"2019-08-12\"},{\"name\":\"Infiniti\",\"value\":3304,\"x\":\"2019-08-12\"},{\"name\":\"Jaguar\",\"value\":2802,\"x\":\"2019-08-12\"},{\"name\":\"Land Rover\",\"value\":9281,\"x\":\"2019-08-12\"},{\"name\":\"MB\",\"value\":24209,\"x\":\"2019-08-12\"}]},{\"category\":\"2019-08-13\",\"data\":[{\"name\":\"Audi\",\"value\":25832,\"x\":\"2019-08-13\"},{\"name\":\"BMW\",\"value\":40573,\"x\":\"2019-08-13\"},{\"name\":\"Infiniti\",\"value\":2894,\"x\":\"2019-08-13\"},{\"name\":\"Jaguar\",\"value\":3470,\"x\":\"2019-08-13\"},{\"name\":\"Land Rover\",\"value\":10269,\"x\":\"2019-08-13\"},{\"name\":\"MB\",\"value\":26735,\"x\":\"2019-08-13\"}]},{\"category\":\"2019-08-14\",\"data\":[{\"name\":\"Audi\",\"value\":27265,\"x\":\"2019-08-14\"},{\"name\":\"BMW\",\"value\":41860,\"x\":\"2019-08-14\"},{\"name\":\"Infiniti\",\"value\":4447,\"x\":\"2019-08-14\"},{\"name\":\"Jaguar\",\"value\":3639,\"x\":\"2019-08-14\"},{\"name\":\"Land Rover\",\"value\":10045,\"x\":\"2019-08-14\"},{\"name\":\"MB\",\"value\":26075,\"x\":\"2019-08-14\"}]},{\"category\":\"2019-08-15\",\"data\":[{\"name\":\"Audi\",\"value\":24554,\"x\":\"2019-08-15\"},{\"name\":\"BMW\",\"value\":39409,\"x\":\"2019-08-15\"},{\"name\":\"Infiniti\",\"value\":4288,\"x\":\"2019-08-15\"},{\"name\":\"Jaguar\",\"value\":3820,\"x\":\"2019-08-15\"},{\"name\":\"Land Rover\",\"value\":10944,\"x\":\"2019-08-15\"},{\"name\":\"MB\",\"value\":26078,\"x\":\"2019-08-15\"}]},{\"category\":\"2019-08-16\",\"data\":[{\"name\":\"Audi\",\"value\":24223,\"x\":\"2019-08-16\"},{\"name\":\"BMW\",\"value\":35495,\"x\":\"2019-08-16\"},{\"name\":\"Infiniti\",\"value\":2906,\"x\":\"2019-08-16\"},{\"name\":\"Jaguar\",\"value\":3463,\"x\":\"2019-08-16\"},{\"name\":\"Land Rover\",\"value\":8778,\"x\":\"2019-08-16\"},{\"name\":\"MB\",\"value\":22920,\"x\":\"2019-08-16\"}]},{\"category\":\"2019-08-17\",\"data\":[{\"name\":\"Audi\",\"value\":22111,\"x\":\"2019-08-17\"},{\"name\":\"BMW\",\"value\":31724,\"x\":\"2019-08-17\"},{\"name\":\"Infiniti\",\"value\":2676,\"x\":\"2019-08-17\"},{\"name\":\"Jaguar\",\"value\":6682,\"x\":\"2019-08-17\"},{\"name\":\"Land Rover\",\"value\":7639,\"x\":\"2019-08-17\"},{\"name\":\"MB\",\"value\":20100,\"x\":\"2019-08-17\"}]},{\"category\":\"2019-08-18\",\"data\":[{\"name\":\"Audi\",\"value\":21560,\"x\":\"2019-08-18\"},{\"name\":\"BMW\",\"value\":31598,\"x\":\"2019-08-18\"},{\"name\":\"Infiniti\",\"value\":3038,\"x\":\"2019-08-18\"},{\"name\":\"Jaguar\",\"value\":2624,\"x\":\"2019-08-18\"},{\"name\":\"Land Rover\",\"value\":7299,\"x\":\"2019-08-18\"},{\"name\":\"MB\",\"value\":20586,\"x\":\"2019-08-18\"}]},{\"category\":\"2019-08-19\",\"data\":[{\"name\":\"Audi\",\"value\":34278,\"x\":\"2019-08-19\"},{\"name\":\"BMW\",\"value\":43737,\"x\":\"2019-08-19\"},{\"name\":\"Infiniti\",\"value\":5015,\"x\":\"2019-08-19\"},{\"name\":\"Jaguar\",\"value\":3423,\"x\":\"2019-08-19\"},{\"name\":\"Land Rover\",\"value\":9094,\"x\":\"2019-08-19\"},{\"name\":\"MB\",\"value\":31443,\"x\":\"2019-08-19\"}]},{\"category\":\"2019-08-20\",\"data\":[{\"name\":\"Audi\",\"value\":34710,\"x\":\"2019-08-20\"},{\"name\":\"BMW\",\"value\":45367,\"x\":\"2019-08-20\"},{\"name\":\"Infiniti\",\"value\":4300,\"x\":\"2019-08-20\"},{\"name\":\"Jaguar\",\"value\":3334,\"x\":\"2019-08-20\"},{\"name\":\"Land Rover\",\"value\":9863,\"x\":\"2019-08-20\"},{\"name\":\"MB\",\"value\":29844,\"x\":\"2019-08-20\"}]},{\"category\":\"2019-08-21\",\"data\":[{\"name\":\"Audi\",\"value\":37187,\"x\":\"2019-08-21\"},{\"name\":\"BMW\",\"value\":42111,\"x\":\"2019-08-21\"},{\"name\":\"Infiniti\",\"value\":3425,\"x\":\"2019-08-21\"},{\"name\":\"Jaguar\",\"value\":3139,\"x\":\"2019-08-21\"},{\"name\":\"Land Rover\",\"value\":8737,\"x\":\"2019-08-21\"},{\"name\":\"MB\",\"value\":28916,\"x\":\"2019-08-21\"}]},{\"category\":\"2019-08-22\",\"data\":[{\"name\":\"Audi\",\"value\":28606,\"x\":\"2019-08-22\"},{\"name\":\"BMW\",\"value\":41933,\"x\":\"2019-08-22\"},{\"name\":\"Infiniti\",\"value\":3317,\"x\":\"2019-08-22\"},{\"name\":\"Jaguar\",\"value\":3350,\"x\":\"2019-08-22\"},{\"name\":\"Land Rover\",\"value\":8716,\"x\":\"2019-08-22\"},{\"name\":\"MB\",\"value\":28139,\"x\":\"2019-08-22\"}]},{\"category\":\"2019-08-23\",\"data\":[{\"name\":\"Audi\",\"value\":29849,\"x\":\"2019-08-23\"},{\"name\":\"BMW\",\"value\":40739,\"x\":\"2019-08-23\"},{\"name\":\"Infiniti\",\"value\":3379,\"x\":\"2019-08-23\"},{\"name\":\"Jaguar\",\"value\":3713,\"x\":\"2019-08-23\"},{\"name\":\"Land Rover\",\"value\":9484,\"x\":\"2019-08-23\"},{\"name\":\"MB\",\"value\":27052,\"x\":\"2019-08-23\"}]},{\"category\":\"2019-08-24\",\"data\":[{\"name\":\"Audi\",\"value\":25503,\"x\":\"2019-08-24\"},{\"name\":\"BMW\",\"value\":39508,\"x\":\"2019-08-24\"},{\"name\":\"Infiniti\",\"value\":4086,\"x\":\"2019-08-24\"},{\"name\":\"Jaguar\",\"value\":2747,\"x\":\"2019-08-24\"},{\"name\":\"Land Rover\",\"value\":7995,\"x\":\"2019-08-24\"},{\"name\":\"MB\",\"value\":27399,\"x\":\"2019-08-24\"}]},{\"category\":\"2019-08-25\",\"data\":[{\"name\":\"Audi\",\"value\":26128,\"x\":\"2019-08-25\"},{\"name\":\"BMW\",\"value\":39255,\"x\":\"2019-08-25\"},{\"name\":\"Infiniti\",\"value\":2359,\"x\":\"2019-08-25\"},{\"name\":\"Jaguar\",\"value\":3468,\"x\":\"2019-08-25\"},{\"name\":\"Land Rover\",\"value\":7925,\"x\":\"2019-08-25\"},{\"name\":\"MB\",\"value\":30206,\"x\":\"2019-08-25\"}]},{\"category\":\"2019-08-26\",\"data\":[{\"name\":\"Audi\",\"value\":77896,\"x\":\"2019-08-26\"},{\"name\":\"BMW\",\"value\":43263,\"x\":\"2019-08-26\"},{\"name\":\"Infiniti\",\"value\":3879,\"x\":\"2019-08-26\"},{\"name\":\"Jaguar\",\"value\":3350,\"x\":\"2019-08-26\"},{\"name\":\"Land Rover\",\"value\":10690,\"x\":\"2019-08-26\"},{\"name\":\"MB\",\"value\":39616,\"x\":\"2019-08-26\"}]},{\"category\":\"2019-08-27\",\"data\":[{\"name\":\"Audi\",\"value\":71553,\"x\":\"2019-08-27\"},{\"name\":\"BMW\",\"value\":45463,\"x\":\"2019-08-27\"},{\"name\":\"Infiniti\",\"value\":3694,\"x\":\"2019-08-27\"},{\"name\":\"Jaguar\",\"value\":3301,\"x\":\"2019-08-27\"},{\"name\":\"Land Rover\",\"value\":8593,\"x\":\"2019-08-27\"},{\"name\":\"MB\",\"value\":39686,\"x\":\"2019-08-27\"}]},{\"category\":\"2019-08-28\",\"data\":[{\"name\":\"Audi\",\"value\":48260,\"x\":\"2019-08-28\"},{\"name\":\"BMW\",\"value\":46212,\"x\":\"2019-08-28\"},{\"name\":\"Infiniti\",\"value\":3430,\"x\":\"2019-08-28\"},{\"name\":\"Jaguar\",\"value\":2751,\"x\":\"2019-08-28\"},{\"name\":\"Land Rover\",\"value\":10468,\"x\":\"2019-08-28\"},{\"name\":\"MB\",\"value\":37728,\"x\":\"2019-08-28\"}]},{\"category\":\"2019-08-29\",\"data\":[{\"name\":\"Audi\",\"value\":50882,\"x\":\"2019-08-29\"},{\"name\":\"BMW\",\"value\":45891,\"x\":\"2019-08-29\"},{\"name\":\"Infiniti\",\"value\":3705,\"x\":\"2019-08-29\"},{\"name\":\"Jaguar\",\"value\":3187,\"x\":\"2019-08-29\"},{\"name\":\"Land Rover\",\"value\":9027,\"x\":\"2019-08-29\"},{\"name\":\"MB\",\"value\":33294,\"x\":\"2019-08-29\"}]}]\nvar colors = [\n    '#187fc5',\n    '#0bbfff',\n    '#8fd9f3',\n    '#628dab',\n    '#b4c8d6',\n    '#d3e5f2',\n    '#84b2de',\n    '#6ea0cf',\n    '#558abc',\n    '#3a76af',\n    '#2a639a',\n    '#0b4a87',\n    '#00274d',\n    '#aad2dc',\n    '#83bac8',\n    '#5694a4',\n    '#2c7487',\n    '#0b4d5f',\n    '#003442',\n    '#042129'\n];\nvar colorMap = ['BMW','Audi','MB','Land Rover','Infiniti','Jaguar'].reduce((map,cur,idx)=>{\n    map[cur] = colors[idx];\n    return map;\n},{});\n\nunit = {\n    '0': '',\n    '1': '万',\n    '2': '亿',\n    '3': '兆'\n};\nfunction formatNum(strNum) {\n    if (Math.round(strNum) <= 10 && strNum.length <= 3) {\n        return strNum;\n    }\n    u0 = 0\n    while (Math.round(strNum) > 1000000 && u0 < 3) {\n        strNum = Math.round(Math.round(strNum) / 10000);\n        u0 = u0 + 1\n    }\n\n    if (!/^(\\+|-)?(\\d+)(\\.\\d+)?$/.test(strNum)) {\n        return strNum;\n    }\n    var a = RegExp.$1,\n        b = RegExp.$2,\n        c = RegExp.$3;\n    var re = new RegExp();\n    re.compile(\"(\\\\d)(\\\\d{3})(,|$)\");\n    while (re.test(b)) {\n        b = b.replace(re, \"$1,$2$3\");\n    }\n    return a + \"\" + b + \"\" + c + unit[String(u0)];\n}\nvar baseOption = {\n    animationDurationUpdate: 50 * 1.5,\n    animationEasingUpdate: 'quinticInOut',\n    title:[\n        {\n            text: rank[0].category,\n            right:'0%',\n            bottom: 100,\n            textStyle: {\n                fontSize: 40,\n                color: '#ccc'\n            }\n        },\n        {\n            text: 'Total:0',\n            right:'0%',\n            bottom: 60,\n            textStyle: {\n                fontSize: 26,\n                color: '#ccc',\n                fontWeight: 400\n            }\n        }\n    ],\n    grid:{\n        left: \"left\",\n        right: 20,\n        bottom: 50,\n        width: \"95%\",\n        containLabel: true\n    },\n    xAxis:{\n        position:'top',\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        }\n    },\n    yAxis:{\n        type:'category',\n        axisTick: {\n            show: false\n        },\n    },\n    series:[\n         {\n            type:'bar',\n            barMaxWidth:60\n         }\n    ],\n    timeline:{\n        data:rank.map(o=>o.category),\n        axisType: 'category', \n        autoPlay: true, \n        playInterval: 200, \n        symbol:'rect',\n        symbolSize:[1,4],\n        symbolOffset:[0,2],\n        left:'left',\n        right:20,\n        lineStyle:{\n            width:1\n        },\n        controlStyle:{\n            showNextBtn:false,\n            showPrevBtn:false,\n        },\n        checkpointStyle: {\n            color: '#999',\n            borderWidth: 1,\n            symbol:'triangle',\n            borderColor: 'transparent',\n            symbolRotate:180\n        },\n    }\n}\nvar options = rank.map(o=>{\n    return {\n        title:[\n            {\n                text:o.category\n            },\n            {\n                text:'Total:'+formatNum(o.data.reduce((sum,v)=>{\n                    sum+=v.value;\n                    return sum;\n                },0))\n            }\n        ],\n        yAxis:{\n            data:o.data.sort((a,b)=>a.value-b.value).map(item=>item.name)\n        },\n        series:[{\n            data:o.data.sort((a,b)=>a.value-b.value),\n            label:{\n                    show:true,\n                    position:'right',\n                    formatter:(p)=>{\n                        return formatNum(p.value);\n                    },\n                    color:'#333'\n            },\n            itemStyle: {\n                    color: function(params) {\n                        return colorMap[params.name];\n                    }\n            },\n        }]\n        // series:o.data.sort((a,b)=>b.value-a.value).map((item,idx)=>{\n        //     return {\n        //         data:[{...item}],\n        //         type:'bar',\n        //         name:['Audi'].includes(item.name)?'trs1':'trs2',\n        //         label:{\n        //                 show:true,\n        //                 position:'right',\n        //                 formatter:(p)=>{\n        //                     return formatNum(p.value);\n        //              }\n        //     }\n        //  }\n        // })\n    }\n});\n\nvar option = {\n    baseOption,\n    options\n}\nconsole.log('option',option);","html":"","externalScripts":"https://cdn.bootcss.com/lodash.js/4.17.15/lodash.min.js?v=111","updaterUID":"bd-2049430943","theme":"","layout":"","viewCount":2586,"userName":"中***号","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xqzbLnFh0.png?v=1581860759579","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","timeline","title"],"customTags":[],"updaterUserName":"中***号"}}