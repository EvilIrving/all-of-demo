{"status":0,"data":{"cid":"xcJEo8zYvZ","authorUid":"obd-oMi83Gi6TDJ40V03xdwyRvRXQIHH_2f","authorUserName":"一***7","title":"1993~2019年中国各区域GDP变化","description":"数据来源：国家统计局(单位:亿元)","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-23T15:02:15.000Z","lastUpdateTime":"2020-12-23T15:02:15.000Z","auth":2,"uid":"obd-oMi83Gi6TDJ40V03xdwyRvRXQIHH_2f","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-23T15:02:15.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1528971808162-BkOXf61WX.json\";\r\n\r\n//geoCoordMap把所有可能出现的城市加到数组里面\r\nvar geoCoordMap = {\r\n    '台湾': [121.5135, 25.0308],\r\n    '黑龙江': [127.9688, 45.368],\r\n    '内蒙古': [110.3467, 41.4899],\r\n    \"吉林\": [125.8154, 44.2584],\r\n    '北京': [116.4551, 40.2539],\r\n    \"辽宁\": [123.1238, 42.1216],\r\n    \"河北\": [114.4995, 38.1006],\r\n    \"天津\": [117.4219, 39.4189],\r\n    \"山西\": [112.3352, 37.9413],\r\n    \"陕西\": [109.1162, 34.2004],\r\n    \"甘肃\": [103.5901, 36.3043],\r\n    \"宁夏\": [106.3586, 38.1775],\r\n    \"青海\": [101.4038, 36.8207],\r\n    \"新疆\": [87.9236, 43.5883],\r\n    \"西藏\": [91.11, 29.97],\r\n    \"四川\": [103.9526, 30.7617],\r\n    \"重庆\": [108.384366, 30.439702],\r\n    \"山东\": [117.1582, 36.8701],\r\n    \"河南\": [113.4668, 34.6234],\r\n    \"江苏\": [118.8062, 31.9208],\r\n    \"安徽\": [117.29, 32.0581],\r\n    \"湖北\": [114.3896, 30.6628],\r\n    \"浙江\": [119.5313, 29.8773],\r\n    \"福建\": [119.4543, 25.9222],\r\n    \"江西\": [116.0046, 28.6633],\r\n    \"湖南\": [113.0823, 28.2568],\r\n    \"贵州\": [106.6992, 26.7682],\r\n    \"云南\": [102.9199, 25.4663],\r\n    \"广东\": [113.12244, 23.009505],\r\n    \"广西\": [108.479, 23.1152],\r\n    \"海南\": [110.3893, 19.8516],\r\n    '上海': [121.4648, 31.2891],\r\n};\r\n\r\n//1993年数据\r\nvar d1 = {\r\n    \"北京\": 886.21,\r\n    \"天津\": 538.94,\r\n    \"河北\": 1690.84,\r\n    \"山西\": 680.41,\r\n    \"内蒙古\": 537.81,\r\n    \"辽宁\": 2010.82,\r\n    \"吉林\": 718.58,\r\n    \"黑龙江\": 1198.3,\r\n    \"上海\": 1519.23,\r\n    \"江苏\": 2998.16,\r\n    \"浙江\": 1925.91,\r\n    \"安徽\": 1037.14,\r\n    \"福建\": 1114.2,\r\n    \"江西\": 723.04,\r\n    \"山东\": 2770.37,\r\n    \"河南\": 1660.18,\r\n    \"湖北\": 1325.83,\r\n    \"湖南\": 1244.71,\r\n    \"广东\": 3469.28,\r\n    \"广西\": 871.7,\r\n    \"海南\": 260.41,\r\n    \"重庆\": 608.53,\r\n    \"四川\": 1486.08,\r\n    \"贵州\": 417.69,\r\n    \"云南\": 783.27,\r\n    \"西藏\": 37.42,\r\n    \"陕西\": 678.2,\r\n    \"甘肃\": 372.24,\r\n    \"青海\": 109.68,\r\n    \"宁夏\": 104.49,\r\n    \"新疆\": 495.25,\r\n\r\n};\r\n\r\n//1995年数据\r\nvar d2 = {\r\n    \"北京\": 1507.69,\r\n    \"天津\": 931.97,\r\n    \"河北\": 2849.52,\r\n    \"山西\": 1076.03,\r\n    \"内蒙古\": 857.06,\r\n    \"辽宁\": 2793.37,\r\n    \"吉林\": 1137.23,\r\n    \"黑龙江\": 1991.4,\r\n    \"上海\": 2499.43,\r\n    \"江苏\": 5155.25,\r\n    \"浙江\": 3557.55,\r\n    \"安徽\": 1810.66,\r\n    \"福建\": 2094.9,\r\n    \"江西\": 1169.73,\r\n    \"山东\": 4953.35,\r\n    \"河南\": 2988.37,\r\n    \"湖北\": 2109.38,\r\n    \"湖南\": 2132.13,\r\n    \"广东\": 5933.05,\r\n    \"广西\": 1497.56,\r\n    \"海南\": 363.25,\r\n    \"重庆\": 1123.06,\r\n    \"四川\": 2443.21,\r\n    \"贵州\": 636.21,\r\n    \"云南\": 1222.15,\r\n    \"西藏\": 56.11,\r\n    \"陕西\": 1036.85,\r\n    \"甘肃\": 557.76,\r\n    \"青海\": 167.8,\r\n    \"宁夏\": 175.19,\r\n    \"新疆\": 814.85,\r\n\r\n};\r\n//2000年数据\r\nvar d3 = {\r\n    \"北京\": 3136.66,\r\n    \"天津\": 1701.88,\r\n    \"河北\": 5043.96,\r\n    \"山西\": 1845.72,\r\n    \"内蒙古\": 1539.12,\r\n    \"辽宁\": 4669.06,\r\n    \"吉林\": 1915.51,\r\n    \"黑龙江\": 3151.4,\r\n    \"上海\": 4771.17,\r\n    \"江苏\": 8553.69,\r\n    \"浙江\": 6141.03,\r\n    \"安徽\": 2902.09,\r\n    \"福建\": 3764.54,\r\n    \"江西\": 2003.07,\r\n    \"山东\": 8337.47,\r\n    \"河南\": 5052.99,\r\n    \"湖北\": 3545.39,\r\n    \"湖南\": 3551.49,\r\n    \"广东\": 10741.25,\r\n    \"广西\": 2080.04,\r\n    \"海南\": 526.82,\r\n    \"重庆\": 1791,\r\n    \"四川\": 3928.2,\r\n    \"贵州\": 1029.92,\r\n    \"云南\": 2011.19,\r\n    \"西藏\": 117.8,\r\n    \"陕西\": 1804,\r\n    \"甘肃\": 1052.88,\r\n    \"青海\": 263.68,\r\n    \"宁夏\": 295.02,\r\n    \"新疆\": 1363.56,\r\n\r\n};\r\n//2005年数据\r\nvar d4 = {\r\n    \"北京\": 6969.52,\r\n    \"天津\": 3905.64,\r\n    \"河北\": 10012.11,\r\n    \"山西\": 4230.53,\r\n    \"内蒙古\": 3905.05,\r\n    \"辽宁\": 8047.26,\r\n    \"吉林\": 3620.27,\r\n    \"黑龙江\": 5513.7,\r\n    \"上海\": 9247.66,\r\n    \"江苏\": 18598.69,\r\n    \"浙江\": 13417.68,\r\n    \"安徽\": 5350.17,\r\n    \"福建\": 6554.69,\r\n    \"江西\": 4056.76,\r\n    \"山东\": 18366.87,\r\n    \"河南\": 10587.42,\r\n    \"湖北\": 6590.19,\r\n    \"湖南\": 6596.1,\r\n    \"广东\": 22557.38,\r\n    \"广西\": 3984.1,\r\n    \"海南\": 918.75,\r\n    \"重庆\": 3467.42,\r\n    \"四川\": 7385.1,\r\n    \"贵州\": 2005.42,\r\n    \"云南\": 3462.73,\r\n    \"西藏\": 248.8,\r\n    \"陕西\": 3933.72,\r\n    \"甘肃\": 1933.98,\r\n    \"青海\": 543.32,\r\n    \"宁夏\": 612.61,\r\n    \"新疆\": 2604.19,\r\n\r\n};\r\n//2010年数据\r\nvar d5 = {\r\n    \"北京\": 14113.58,\r\n    \"天津\": 9224.46,\r\n    \"河北\": 20394.26,\r\n    \"山西\": 9200.86,\r\n    \"内蒙古\": 11672,\r\n    \"辽宁\": 18457.27,\r\n    \"吉林\": 8667.58,\r\n    \"黑龙江\": 10368.6,\r\n    \"上海\": 17165.98,\r\n    \"江苏\": 41425.48,\r\n    \"浙江\": 27722.31,\r\n    \"安徽\": 12359.33,\r\n    \"福建\": 14737.12,\r\n    \"江西\": 9451.26,\r\n    \"山东\": 39169.92,\r\n    \"河南\": 23092.36,\r\n    \"湖北\": 15967.61,\r\n    \"湖南\": 16037.96,\r\n    \"广东\": 46013.06,\r\n    \"广西\": 9569.85,\r\n    \"海南\": 2064.5,\r\n    \"重庆\": 7295.58,\r\n    \"四川\": 17185.48,\r\n    \"贵州\": 4602.16,\r\n    \"云南\": 7224.18,\r\n    \"西藏\": 507.46,\r\n    \"陕西\": 10123.48,\r\n    \"甘肃\": 4120.75,\r\n    \"青海\": 1350.43,\r\n    \"宁夏\": 1689.65,\r\n    \"新疆\": 5437.47,\r\n\r\n\r\n};\r\n//2015年数据\r\nvar d6 = {\r\n    \"北京\": 23014.59,\r\n    \"天津\": 16538.19,\r\n    \"河北\": 29806.11,\r\n    \"山西\": 12766.49,\r\n    \"内蒙古\": 17831.51,\r\n    \"辽宁\": 28669.02,\r\n    \"吉林\": 14063.13,\r\n    \"黑龙江\": 15083.67,\r\n    \"上海\": 25123.45,\r\n    \"江苏\": 70116.38,\r\n    \"浙江\": 42886.49,\r\n    \"安徽\": 22005.63,\r\n    \"福建\": 25979.82,\r\n    \"江西\": 16723.78,\r\n    \"山东\": 63002.33,\r\n    \"河南\": 37002.16,\r\n    \"湖北\": 29550.19,\r\n    \"湖南\": 28902.21,\r\n    \"广东\": 72812.55,\r\n    \"广西\": 16803.12,\r\n    \"海南\": 3702.76,\r\n    \"重庆\": 15717.27,\r\n    \"四川\": 30053.1,\r\n    \"贵州\": 10502.56,\r\n    \"云南\": 13619.17,\r\n    \"西藏\": 1026.39,\r\n    \"陕西\": 18021.86,\r\n    \"甘肃\": 6790.32,\r\n    \"青海\": 2417.05,\r\n    \"宁夏\": 2911.77,\r\n    \"新疆\": 9324.8,\r\n\r\n};\r\n//2019年数据\r\nvar d7 = {\r\n    \"北京\": 35371.28,\r\n    \"天津\": 14104.28,\r\n    \"河北\": 35104.52,\r\n    \"山西\": 17026.68,\r\n    \"内蒙古\": 17212.53,\r\n    \"辽宁\": 24909.45,\r\n    \"吉林\": 11726.82,\r\n    \"黑龙江\": 13612.68,\r\n    \"上海\": 38155.32,\r\n    \"江苏\": 99631.52,\r\n    \"浙江\": 62351.74,\r\n    \"安徽\": 37113.98,\r\n    \"福建\": 42395,\r\n    \"江西\": 24757.5,\r\n    \"山东\": 71067.53,\r\n    \"河南\": 54259.2,\r\n    \"湖北\": 45828.31,\r\n    \"湖南\": 39752.12,\r\n    \"广东\": 107671.07,\r\n    \"广西\": 21237.14,\r\n    \"海南\": 5308.93,\r\n    \"重庆\": 23605.77,\r\n    \"四川\": 46615.82,\r\n    \"贵州\": 16769.34,\r\n    \"云南\": 23223.75,\r\n    \"西藏\": 1697.82,\r\n    \"陕西\": 25793.17,\r\n    \"甘肃\": 8718.3,\r\n    \"青海\": 2965.95,\r\n    \"宁夏\": 3748.48,\r\n    \"新疆\": 13597.11,\r\n\r\n};\r\n\r\nvar colors = [\r\n    [\"#1DE9B6\", \"#F46E36\", \"#04B9FF\", \"#5DBD32\", \"#FFC809\", \"#90EE90\", \"#BDA29A\", \"#6E7074\", \"#546570\", \"#C4CCD3\"],\r\n    [\"#37A2DA\", \"#67E0E3\", \"#32C5E9\", \"#9FE6B8\", \"#FFDB5C\", \"#FF9F7F\", \"#FB7293\", \"#E062AE\", \"#E690D1\", \"#E7BCF3\", \"#9D96F5\", \"#8378EA\", \"#8378EA\"],\r\n    [\"#DD6B66\", \"#759AA0\", \"#E69D87\", \"#8DC1A9\", \"#EA7E53\", \"#EEDD78\", \"#73A373\", \"#73B9BC\", \"#7289AB\", \"#91CA8C\", \"#F49F42\"],\r\n];\r\nvar colorIndex = 0;\r\n$(function() {\r\n    var year = [\"1993\", \"1995\", \"2000\", \"2005\", \"2010\", \"2015\", \"2019\"];\r\n    var mapData = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n\r\n    /*柱子Y名称*/\r\n    var categoryData = [];\r\n    var barData = [];\r\n\r\n    for (var key in geoCoordMap) {\r\n        mapData[0].push({\r\n            \"year\": '1993',\r\n            \"name\": key,\r\n            \"value\": d1[key],\r\n        });\r\n        mapData[1].push({\r\n            \"year\": '1995',\r\n            \"name\": key,\r\n            \"value\": d2[key],\r\n        });\r\n        mapData[2].push({\r\n            \"year\": '2000',\r\n            \"name\": key,\r\n            \"value\": d3[key],\r\n        });\r\n        mapData[3].push({\r\n            \"year\": '2005',\r\n            \"name\": key,\r\n            \"value\": d4[key],\r\n        });\r\n        mapData[4].push({\r\n            \"year\": '2010',\r\n            \"name\": key,\r\n            \"value\": d5[key],\r\n        });\r\n        mapData[5].push({\r\n            \"year\": '2015',\r\n            \"name\": key,\r\n            \"value\": d6[key],\r\n        });\r\n        mapData[6].push({\r\n            \"year\": '2019',\r\n            \"name\": key,\r\n            \"value\": d7[key],\r\n        });\r\n    }\r\n\r\n    for (var i = 0; i < mapData.length; i++) {\r\n        mapData[i].sort(function sortNumber(a, b) {\r\n            return a.value - b.value\r\n        });\r\n        barData.push([]);\r\n        categoryData.push([]);\r\n        for (var j = 0; j < mapData[i].length; j++) {\r\n            barData[i].push(mapData[i][j].value);\r\n            categoryData[i].push(mapData[i][j].name);\r\n        }\r\n    }\r\n\r\n    $.getJSON(uploadedDataURL, function(geoJson) {\r\n\r\n        echarts.registerMap('china', geoJson);\r\n        var convertData = function(data) {\r\n            var res = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({\r\n                        name: data[i].name,\r\n                        value: geoCoord.concat(data[i].value)\r\n                    });\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n\r\n        optionXyMap01 = {\r\n            timeline: {\r\n                data: year,\r\n                axisType: 'category',\r\n                autoPlay: true,\r\n                playInterval: 3000,\r\n                left: '10%',\r\n                right: '10%',\r\n                bottom: '3%',\r\n                width: '80%',\r\n                label: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                symbolSize: 10,\r\n                lineStyle: {\r\n                    color: '#555'\r\n                },\r\n                checkpointStyle: {\r\n                    borderColor: '#777',\r\n                    borderWidth: 2\r\n                },\r\n                controlStyle: {\r\n                    showNextBtn: true,\r\n                    showPrevBtn: true,\r\n                    normal: {\r\n                        color: '#666',\r\n                        borderColor: '#666'\r\n                    },\r\n                    emphasis: {\r\n                        color: '#aaa',\r\n                        borderColor: '#aaa'\r\n                    }\r\n                },\r\n\r\n            },\r\n            baseOption: {\r\n                animation: true,\r\n                animationDuration: 1000,\r\n                animationEasing: 'cubicInOut',\r\n                animationDurationUpdate: 1000,\r\n                animationEasingUpdate: 'cubicInOut',\r\n                grid: {\r\n                    right: '1%',\r\n                    top: '15%',\r\n                    bottom: '10%',\r\n                    width: '20%'\r\n                },\r\n                tooltip: {\r\n                    trigger: 'axis', // hover触发器\r\n                    axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n                        type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n                        shadowStyle: {\r\n                            color: 'rgba(150,150,150,0.1)' //hover颜色\r\n                        }\r\n                    }\r\n                },\r\n                geo: {\r\n                    show: true,\r\n                    map: 'china',\r\n                    roam: true,\r\n                    zoom: 1,\r\n                    center: [113.83531246, 34.0267395887],\r\n                    label: {\r\n                        emphasis: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderColor: 'rgba(147, 235, 248, 1)',\r\n                            borderWidth: 1,\r\n                            areaColor: {\r\n                                type: 'radial',\r\n                                x: 0.5,\r\n                                y: 0.5,\r\n                                r: 0.8,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色\r\n                                }],\r\n                                globalCoord: false // 缺省为 false\r\n                            },\r\n                            shadowColor: 'rgba(128, 217, 248, 1)',\r\n                            // shadowColor: 'rgba(255, 255, 255, 1)',\r\n                            shadowOffsetX: -2,\r\n                            shadowOffsetY: 2,\r\n                            shadowBlur: 10\r\n                        },\r\n                        emphasis: {\r\n                            areaColor: '#389BB7',\r\n                            borderWidth: 0\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n            options: []\r\n\r\n        };\r\n\r\n        for (var n = 0; n < year.length; n++) {\r\n            optionXyMap01.options.push({\r\n                backgroundColor: '#013954',\r\n                title: [{\r\n                        text: '1993~2019年中国各区域GDP变化',\r\n                        subtext: '数据来源：国家统计局(单位:亿元)',\r\n                        left: 'center',\r\n                        top: '5%',\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            fontSize: 18\r\n                        }\r\n                    },\r\n                    {\r\n                        id: 'statistic',\r\n                        text: year[n] + \"数据统计情况\",\r\n                        left: '75%',\r\n                        top: '7%',\r\n                        textStyle: {\r\n                            color: '#fff',\r\n                            fontSize: 15\r\n                        }\r\n                    }\r\n                ],\r\n                xAxis: {\r\n                    type: 'value',\r\n                    scale: true,\r\n                    position: 'top',\r\n                    min: 0,\r\n                    boundaryGap: false,\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        margin: 2,\r\n                        textStyle: {\r\n                            color: '#aaa'\r\n                        }\r\n                    },\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    //  name: 'TOP 20',\r\n                    nameGap: 16,\r\n                    axisLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        show: false,\r\n                        lineStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        interval: 0,\r\n                        textStyle: {\r\n                            color: '#ddd'\r\n                        }\r\n                    },\r\n                    data: categoryData[n]\r\n                },\r\n\r\n                series: [\r\n                    //地图\r\n                    {\r\n                        type: 'map',\r\n                        map: 'china',\r\n                        geoIndex: 0,\r\n                        aspectScale: 0.75, //长宽比\r\n                        showLegendSymbol: false, // 存在legend时显示\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            },\r\n                            emphasis: {\r\n                                show: false,\r\n                                textStyle: {\r\n                                    color: '#fff'\r\n                                }\r\n                            }\r\n                        },\r\n                        roam: true,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#031525',\r\n                                borderColor: '#FFFFFF',\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2B91B7'\r\n                            }\r\n                        },\r\n                        animation: false,\r\n                        data: mapData\r\n                    },\r\n                    //地图中闪烁的点\r\n                    {\r\n                        //  name: 'Top 5',\r\n                        type: 'effectScatter',\r\n                        coordinateSystem: 'geo',\r\n                        data: convertData(mapData[n].sort(function(a, b) {\r\n                            return b.value - a.value;\r\n                        }).slice(0, 40)),\r\n                        symbolSize: function(val) {\r\n                            return val[2] / 1500;\r\n                        },\r\n                        showEffectOn: 'render',\r\n                        rippleEffect: {\r\n                            brushType: 'stroke'\r\n                        },\r\n                        hoverAnimation: true,\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{b}',\r\n                                position: 'right',\r\n                                show: true\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n],\r\n                                shadowBlur: 10,\r\n                                shadowColor: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        zlevel: 1\r\n                    },\r\n                    //柱状图\r\n                    {\r\n                        zlevel: 1.5,\r\n                        type: 'bar',\r\n                        barMaxWidth: 8,\r\n                        symbol: 'none',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[colorIndex][n]\r\n                            }\r\n                        },\r\n                        data: barData[n]\r\n                    }\r\n                ]\r\n            })\r\n        }\r\n        myChart.setOption(optionXyMap01);\r\n    });\r\n});","html":"","externalScripts":"","updaterUID":"obd-oMi83Gi6TDJ40V03xdwyRvRXQIHH_2f","theme":"","layout":"","viewCount":172,"userName":"一***7","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xcJEo8zYvZ.png?v=1608735735490","isCustomThumbnail":0,"builtinTags":["category-work","geo","grid","series-bar","series-effectScatter","series-map","timeline","title","tooltip"],"customTags":[],"updaterUserName":"一***7"}}