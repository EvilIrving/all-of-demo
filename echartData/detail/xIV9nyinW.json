{"status":0,"data":{"cid":"xIV9nyinW","authorUid":"bd-6442928284","authorUserName":"流***r","title":"内发光 外发光","description":"柱图 内发光 外发光","latestVersion":6,"alwaysLatest":1,"createTime":"2020-01-10T03:14:44.000Z","lastUpdateTime":"2020-01-10T03:14:44.000Z","auth":2,"uid":"bd-6442928284","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"4.4.0","versionCreateTime":"2020-01-10T03:42:44.000Z","code":"const createSvg = ({width, height, borderWidth, startColor, endColor, insetShadowBlur, slope = 20, left = true}) => {\n    let rectPath = '';\n    if (left) {\n        rectPath = `m${0} ${0} l${width} ${0} l${0} ${height} l${-width} ${0 - slope} z`;\n    } else {\n        rectPath = `m${0} ${0} l${width} ${0} l${0} ${height - slope} l${-width} ${slope} z`;\n    }\n    return (`\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" \n            x=\"0px\" y=\"0px\" \n            viewBox=\"0 0 ${width} ${height}\"\n            xml:space=\"preserve\"\n        >\n            <style>\n               \n                .st1 {\n                    fill: transparent;\n                    stroke: ${startColor};\n                    stroke-width: ${insetShadowBlur}px;\n                    filter: url(#chart-inset-shadow);\n                    clip-path: url(#chart-clip);\n                }\n                \n                .st2 {\n                    fill: transparent;\n                    stroke: url(#chart-gradient);\n                    stroke-width: ${borderWidth}px;\n                    clip-path: url(#chart-clip);\n                }\n               \n\n                .sweep-slow-animate {\n                  animation-name: sweep-slow-path;\n                  animation-timing-function: linear;\n                  animation-iteration-count: infinite;\n                  animation-duration: 12s;\n                }\n            \n                @keyframes sweep-slow-path {\n                  0% {\n                    transform: translateY(0%);\n                  }\n                  100% {\n                    transform: translateY(100%);\n                  }\n                }\n            </style>\n            <defs>\n                <linearGradient id=\"chart-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                    <stop offset=\"0%\" stop-color=\"${startColor}\"/>\n                    <stop offset=\"100%\" stop-color=\"${endColor}\"/>\n                </linearGradient>\n                \n                <clipPath id=\"chart-clip\">\n                    <path d=\"${rectPath}\" />\n                </clipPath>\n                \n                <filter id=\"chart-inset-shadow\" width=\"200%\" height=\"200%\" x=\"-50%\" y=\"-50%\">\n            \t\t<feGaussianBlur in=\"SourceGraphic\" result=\"gass\" stdDeviation=\"${insetShadowBlur * 0.75}\" />\n            \t\t<feMerge>\n            \t\t\t<feMergeNode in=\"gass\" />\n            \t\t</feMerge>\n            \t</filter>\n\n                <clipPath id=\"chart-move-clip\">\n                    <rect class=\"sweep-slow-animate\" x=\"0\" y=\"0\" width=\"${width}\" height=\"${height}\" />\n                </clipPath>\n            </defs>\n            <g>\n                <path class=\"st1\" d=\"${rectPath}\" />\n                <path class=\"st2\" d=\"${rectPath}\" />\n            </g>\n        </svg>\n    `);\n    \n};\n\nconst cretateSvgUrl = (svgOption) => {\n    const svgString = createSvg(svgOption);\n    const svg = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n    \n    const DOMURL = window.URL || window.webkitURL || window;\n    const insetShadowUrl = DOMURL.createObjectURL(svg);\n    \n    return insetShadowUrl;\n};\n\nconst dataSet = [\n    ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    [120, 200, 150, 80, 70, 110, 130],\n    [180, 300, 100, 40, 80, 100, 230],\n];\n\noption = {\n    backgroundColor: '#101631',\n    xAxis: {\n        type: 'category',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            color: 'rgba(255,255,255, 0.5)',\n        },\n        splitLine: {\n            show: false,\n        },\n        data: dataSet[0],\n    },\n    yAxis: {\n        type: 'value',\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            color: 'rgba(255,255,255, 0.5)',\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                type: 'dashed',\n                color: 'rgba(255,255,255,0.1)',\n                width: 2,\n            },\n        },\n    },\n    series: [\n        {\n            type: 'custom',\n            hoverAnimation: true,\n            renderItem:  (params, api) => {\n               \n                const index = api.value(0);\n                const value = api.value(1);\n                const px = api.coord([index, value]);\n                \n                const h = api.coord([0, 0])[1];\n                const barWidth = 40;\n                const outShadowBlur = 0;\n                \n                const width = barWidth;\n                const height = h - px[1];\n                const x = px[0] - width * 0.5 - 22;\n                const y = px[1];\n                \n                const svgUrl = cretateSvgUrl({\n                    width, \n                    height,\n                    borderWidth: 5,\n                    startColor: '#156dff', \n                    endColor: '#00eaeb', \n                    insetShadowBlur: 16,\n                });\n    \n                return {\n                    type: 'image',\n                    style: {\n                        image: svgUrl,\n                        x,\n                        y,\n                        width,\n                        height,\n                        shadowColor: '#156dff',\n                        shadowBlur: 10,\n                    },\n                };\n            },\n            \n            itemStyle: {\n                color: 'yellow',\n                borderColor: 'green',\n                shadowColor: 'green',\n                shadowBlur: 10,\n            },\n            \n            data: dataSet[1],\n        },\n        {\n            type: 'custom',\n            hoverAnimation: true,\n            renderItem:  (params, api) => {\n               \n                const index = api.value(0);\n                const value = api.value(1);\n                const px = api.coord([index, value]);\n                \n                console.log(api.style(), value)\n                \n                const h = api.coord([0, 0])[1];\n                const barWidth = 40;\n                const outShadowBlur = 0;\n                \n                const width = barWidth;\n                const height = h - px[1];\n                const x = px[0] - width * 0.5 + 22;\n                const y = px[1];\n                \n                const svgUrl = cretateSvgUrl({\n                    width, \n                    height,\n                    borderWidth: 5,\n                    startColor: '#00eaeb', \n                    endColor: '#00eaeb', \n                    insetShadowBlur: 16,\n                    left: false,\n                });\n    \n                return {\n                    type: 'image',\n                    style: {\n                        image: svgUrl,\n                        x,\n                        y,\n                        width,\n                        height,\n                        shadowColor: '#00eaeb',\n                        shadowBlur: 10,\n                    },\n                };\n            },\n            \n            itemStyle: {\n                color: 'yellow',\n                borderColor: 'green',\n                shadowColor: 'green',\n                shadowBlur: 10,\n            },\n            \n            data: dataSet[2],\n        },\n    ],\n};","html":"","externalScripts":"","updaterUID":"bd-6442928284","theme":"","layout":"","viewCount":211,"userName":"流***r","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xIV9nyinW.png?v=1578627764194","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-custom"],"customTags":["shadow","内发光","内阴影","外发光","外阴影"],"updaterUserName":"流***r"}}