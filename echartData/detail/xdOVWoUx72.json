{"status":0,"data":{"cid":"xdOVWoUx72","authorUid":"bd-2281899968","authorUserName":"d***k","title":"背景","description":"","latestVersion":11,"alwaysLatest":1,"createTime":"2019-06-11T07:16:19.000Z","lastUpdateTime":"2019-06-11T07:16:19.000Z","auth":2,"uid":"bd-2281899968","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":11,"parentVersion":10,"echartsVersion":"4.2.1","versionCreateTime":"2019-07-12T08:04:33.000Z","code":"var datas = [0.2, 0.3, 0.25, 0.25, 0.25, 0.25, 0.3, 0.2]\n\nvar calPrefixSum = index => {\n    let sum = 0;\n    for (let i = 0; i < index; i++) {\n        sum += datas[i]\n    }\n    return sum;\n}\n\nfunction renderItem(params, api) {\n    console.log({\n        params,\n        api\n    });\n\n    const coord = api.coord([0, 1 - calPrefixSum(params.dataIndexInside)]);\n    const size = api.size([1, api.value(0)]);\n\n    console.log({\n        size,\n        coord\n    })\n    // 截取矩形\n    var rectShape = echarts.graphic.clipRectByRect({\n        x: coord[0],\n        y: coord[1],\n        width: size[0],\n        height: size[1]\n    }, {\n        x: params.coordSys.x,\n        y: params.coordSys.y,\n        width: params.coordSys.width,\n        height: params.coordSys.height\n    });\n\n    return rectShape && {\n        type: 'rect',\n        shape: rectShape,\n        style: {\n            fill: '#fff'\n        },\n        styleEmphasis: {\n            fill: '#eee'\n        }\n    };\n}\n\n\nconst option = {\n    tooltip: {\n\n    },\n    title: {\n        text: 'Profile',\n        left: 'center'\n    },\n    dataZoom: [{\n        type: 'slider',\n        yAxisIndex: 0,\n        left: 75,\n        showDataShadow: false,\n        showDetail: false,\n        filterMode: 'empty',\n        width: 10,\n        // handleSize: '80%',\n        backgroundColor:'rgba(0, 0, 0, 0)',\n        borderColor: 'rgba(0, 0, 0, 0)',\n        fillerColor: 'rgba(0, 0, 255, 0.1)',\n        // handleColor: 'rgba(0, 0, 0, 0)',\n        dataBackgroundColor: 'rgba(0, 0, 0, 0)',\n       \n        \n        \n    }],\n    grid: {\n        borderWidth: 1,\n        show: true,\n        borderColor: '#BFBFBF',\n        backgroundColor: '#fff',\n        left: 80,\n        zlevel: 0,\n    },\n    xAxis: [{\n        type: 'value',\n        max: 1,\n        zlevel: 1,\n        splitNumber: 1,\n        axisLine: {\n            show: true,\n            lineStyle: {\n                type: 'dashed',\n                color: '#BFBFBF',\n            },\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    }],\n    yAxis: [{\n        type: 'value',\n        min: -1,\n        max: 1,\n        zlevel: 1,\n        minInterval: 0.05,\n        maxInterval: 0.05,\n        splitNumber: 40,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n        axisLabel: {\n            show: true,\n            formatter: (val, idx) => {\n                if (val === 1 || val === 0.8 || val === 0.5 || val === 0.25 || val === 0 ||\n                    val === -0.25 || val === -0.5 || val === -0.8 || val === -1) {\n                    return val\n                }\n                return '';\n            }\n        }\n    }],\n    series: [{\n        type: 'custom',\n        renderItem: renderItem,\n        data: new Array(8).fill(undefined).map((a, idx) => ({\n            name: `bar${idx}`,\n            value: datas[idx],\n        }))\n    }]\n};\n\n// 创建div\nconst echartDiv = document.createElement('div');\n// 初始化echart实例\nconst echartIns = echarts.init(echartDiv, 'yunting_multi_color', {\n    width: 700,\n    height: 500\n});\ndocument.body.appendChild(echartDiv);\nechartIns.setOption(option);","html":"","externalScripts":"https://dev.darlk.com/js/excellentexport.js,https://dev.darlk.com/js/skieer.theme.js,https://dev.darlk.com/js/skieer.utils.js","updaterUID":"bd-2281899968","theme":"","layout":"","viewCount":50,"userName":"d***k","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xdOVWoUx72.png?v=1560321488557","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"d***k"}}