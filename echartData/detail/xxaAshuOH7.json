{"status":0,"data":{"cid":"xxaAshuOH7","authorUid":"bd-1800740195","authorUserName":"思***法","title":"合同情况","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2020-05-21T02:19:24.000Z","lastUpdateTime":"2020-05-21T02:19:24.000Z","auth":1,"uid":"bd-1800740195","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-28T09:39:36.000Z","code":"//数据\r\nvar info = [\r\n    {YEAR: \"2019-01\", 往年结转合同年初余额: \"601392.00\", 本月新签合同金额: \"422398.00\", 本年新签合同额累计至上月: \"2901961.00\"}\r\n   ,{YEAR: \"2019-02\", 往年结转合同年初余额: \"601392.00\", 本月新签合同金额: \"41945.00\", 本年新签合同额累计至上月: \"422398.00\"}\r\n   ,{YEAR: \"2019-03\", 往年结转合同年初余额: \"601392.00\", 本月新签合同金额: \"72967.00\", 本年新签合同额累计至上月: \"464348.00\"}\r\n   ,{YEAR: \"2019-04\", 往年结转合同年初余额: \"601392.00\", 本月新签合同金额: \"157700.00\", 本年新签合同额累计至上月: \"537319.00\"}\r\n   ,{YEAR: \"2019-05\", 往年结转合同年初余额: \"601392.00\", 本月新签合同金额: \"55769.00\", 本年新签合同额累计至上月: \"695019.00\"}\r\n];\r\nvar list = [];\r\nvar time = [];\r\nfor (var i = 0; i < info.length; i++) {\r\n    var data = [];\r\n    time.push(info[i].YEAR);\r\n    for (var j = 0; j < 3; j++) {\r\n        var obj = {\r\n            \"name\": \"\",\r\n            \"value\": \"\"\r\n        };\r\n        if (j === 0) {\r\n            obj.name = \"本年新签合同额累计至上月\"\r\n            obj.value = info[i].本年新签合同额累计至上月;\r\n            data.push(obj);\r\n        }\r\n        if (j === 1) {\r\n            obj.name = \"往年结转合同年初余额\"\r\n            obj.value = info[i].往年结转合同年初余额;\r\n            data.push(obj);\r\n        }\r\n        if (j === 2) {\r\n            obj.name = \"本月新签合同金额\"\r\n            obj.value = info[i].本月新签合同金额;\r\n            data.push(obj);\r\n        }\r\n    }\r\n    list.push(data);\r\n\r\n}\r\n\r\nmyChart.on('timelinechanged', function(timelineIndex) {\r\n    var arrIndex = timelineIndex.currentIndex;\r\n    year = option.baseOption.timeline.data[arrIndex];\r\n\r\n});\r\n\r\nmyChart.on('click', function(params) {\r\n    $('#cmp64062ainput').textbox().textbox('setValue', year);\r\n    console.log(params);\r\n\r\n});\r\n\r\nvar na = [\"往年结转合同年初余额\", \"本月新签合同金额\", \"本年新签合同额累计至上月\"];\r\noption = {\r\n    \"baseOption\": {\r\n        \"timeline\": {\r\n            \"axisType\": \"category\",\r\n            \"autoPlay\": true,\r\n            \"playInterval\": 2000,\r\n            \"orient\": \"horizontal\",\r\n            \"lineStyle\": {\r\n                \"color\": \"#b9bbbe\"\r\n            },\r\n            \"label\": {\r\n                \"fontSize\": 12,\r\n                \"textStyle\": {\r\n                    \"color\": \"#000000\"\r\n                }\r\n            },\r\n            \"controlStyle\": {\r\n                \"color\": \"rgba(255,255,255,0.7)\"\r\n            },\r\n            \"checkpointStyle\": {\r\n                \"color\": \"#3b424a\"\r\n            },\r\n            \"left\": \"5%\",\r\n            \"right\": \"5%\",\r\n            \"bottom\": \"5%\",\r\n            \"data\": time\r\n        },\r\n        \"tooltip\": {\r\n            \"trigger\": \"item\",\r\n            formatter: function(params) {\r\n                var relVal = params[0].name;\r\n                for (var i = 0, l = params.length; i < l; i++) {\r\n                    relVal += '<br/>' + params[i].seriesName + ' : ' + formatNum(params[i].value) + \"万元\";\r\n                }\r\n                return relVal;\r\n            },\r\n        },\r\n        \"legend\": {\r\n            \"orient\": \"vertical\",\r\n            \"top\": \"2%\",\r\n            \"left\": \"50%\",\r\n            \"textStyle\": {\r\n                \"fontSize\": 12,\r\n                \"color\": \"#ffff0\"\r\n            },\r\n            \"data\": na,\r\n            icon: \"circle\",\r\n            itemWidth: 7,\r\n            itemHeight: 7,\r\n        },\r\n        \"series\": [{\r\n            \"name\": \"合同签订总额\",\r\n            \"type\": \"pie\",\r\n            \"radius\": \"60%\",\r\n            \"center\": [\"65%\", \"65%\"]\r\n        }]\r\n    },\r\n    \"options\": [{\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"color\": [\"#49c7ad\", \"#ffa55b\", \"#4a90e2\"],\r\n            \"data\": list[0],\r\n            \"itemStyle\": {\r\n                \"normal\": {\r\n                    \"label\": {\r\n                        \"position\": \"inner\",\r\n                        \"show\": true,\r\n                        \"textStyle\": {\r\n                            \"fontSize\": 10,\r\n                            \"color\": \"#ffffff\"\r\n                        },\r\n                        formatter: \"{c}万元\"\r\n                    },\r\n                    \"lableLine\": {\r\n                        \"show\": false\r\n                    }\r\n                },\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[1],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[2],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[3],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[4],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[5],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[6],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }, {\r\n        \"series\": [{\r\n            \"name\": \"合同签订\",\r\n            \"data\": list[7],\r\n            \"itemStyle\": {\r\n                \"emphasis\": {\r\n                    \"shadowBlur\": 10,\r\n                    \"shadowOffsetX\": 0,\r\n                    \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\r\n                }\r\n            }\r\n        }]\r\n    }]\r\n}","html":"","externalScripts":"","updaterUID":"obd-otOAbe4DLnjQEJlrJf5drZFRBZl2y85","theme":"","layout":"","viewCount":6135,"userName":"思***法","commentCount":0,"starCount":16,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xxaAshuOH7.png?v=1622194776280","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","timeline","tooltip"],"customTags":[],"updaterUserName":"j***9"}}