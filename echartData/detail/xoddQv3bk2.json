{"status":0,"data":{"cid":"xoddQv3bk2","authorUid":"bd-910545766","authorUserName":"Z***营","title":"动态数据刷新","description":"纯属虚构","latestVersion":1,"alwaysLatest":1,"createTime":"2019-03-27T01:01:43.000Z","lastUpdateTime":"2019-03-27T01:01:43.000Z","auth":2,"uid":"bd-910545766","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.2.1","versionCreateTime":"2019-03-27T01:01:43.000Z","code":"var option = {\n    title: {\n        text: '动态数据',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    legend: {\n        data: ['最新成交价', '预购队列']\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataView: {\n                readOnly: false\n            },\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n\n    xAxis: [{\n        type: 'category',\n        boundaryGap: true,\n        data: (function() {\n            var now = new Date();\n            var res = [];\n            var len = 60;\n            while (len--) {\n                res.unshift(now.toLocaleTimeString().replace(/^\\D*/, ''));\n                now = new Date(now - 2000);\n            }\n            return res;\n        })()\n    },\n        {\n            type: 'category',\n            boundaryGap: true,\n            data: (function() {\n                var res = [];\n                var len = 60;\n                while (len--) {\n                    res.push(len + 1);\n                }\n                return res;\n            })()\n        }\n    ],\n    yAxis: [{\n        type: 'value',\n        scale: true,\n        name: '价格',\n        max: 20,\n        min: 0,\n        boundaryGap: [0.2, 0.2]\n    },\n        {\n            type: 'value',\n            scale: true,\n            // name: '预购量',\n            max: 100,\n            min: 0,\n            boundaryGap: 0\n        }\n    ],\n    series: [{\n        name: '预购队列',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        barGap: '-100%',\n        barCategoryGap: '0%',\n        itemStyle: {\n            normal: {\n                color: 'rgba(0,0,0,0)',\n                borderRightWidth: '1',\n                borderColor: '#ddd'\n            }\n        },\n        lineStyle: {\n            shadowColor: '#0f0',\n            shadowBlur: 8,\n            shadowOffsetX: '3',\n            shadowOffsetY: '4',\n        },\n        data: (function() {\n            var res = [];\n            var len = 60;\n            while (len--) {\n                res.push(100);\n            }\n            return res;\n        })()\n    },\n        {\n            name: '最新成交价',\n            type: 'line',\n            data: (function() {\n                var res = [];\n                var len = 0;\n                while (len < 60) {\n                    res.push(0);\n                    len++;\n                }\n                return res;\n            })()\n        }\n    ],\n    animationEasing: 'sinusoidalInOut',\n    // animationDurationUpdate: 500,\n    animationEasingUpdate:'sinusoidalInOut'\n};\n\n\n\n\nmyChart.setOption(option);\nvar count = 11;\n    setInterval(function() {\n        axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/, '');\n\n        var data0 = option.series[0].data;\n        var data1 = option.series[1].data;\n\t\tconsole.log(data0 )\n\t\t\n        data0.shift();\n        data0.push(100);\n        data1.shift();\n        data1.push(Math.round(Math.random()*10));\n\n        option.xAxis[0].data.shift();\n        option.xAxis[0].data.push(axisData);\n        option.xAxis[1].data.shift();\n        option.xAxis[1].data.push(count++);\n\n        myChart.setOption({\n            xAxis: [{\n                data: option.xAxis[0].data\n            }, {\n                data: option.xAxis[1].data\n            }],\n            series: [{\n                data: data0\n            }, {\n                data: data1\n            }]\n        });\n    }, 1000);","html":"","externalScripts":"","updaterUID":"bd-910545766","theme":"","layout":"","viewCount":163,"userName":"Z***营","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoddQv3bk2.png?v=1553648503685","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","toolbox","tooltip"],"customTags":[],"updaterUserName":"Z***营"}}