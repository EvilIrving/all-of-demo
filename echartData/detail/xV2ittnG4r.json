{"status":0,"data":{"cid":"xV2ittnG4r","authorUid":"bd-2603632873","authorUserName":"y***8","title":"图形旋转示例","description":"图形旋转示例","latestVersion":2,"alwaysLatest":1,"createTime":"2020-03-25T01:55:46.000Z","lastUpdateTime":"2020-03-25T01:55:46.000Z","auth":2,"uid":"bd-2603632873","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.7.0","versionCreateTime":"2020-03-25T01:58:47.000Z","code":"//var myChart = echarts.init(document.getElementById('main1'));\n\nvar rotateNum = 360, xinYongTimer;\n\nfunction xingYongPie() {\n\n    var pieData = [{\n        name: 'A级',\n        value: 80\n    }, {\n        name: 'B级',\n        value: 50\n    }, {\n        name: 'C级',\n        value: 20\n    }];\n\n    var colorList = ['#66CDAA', '#FFA54F', '#FF0000'];\n\n    var option = {\n        title:{\n          text: '图形旋转示例'  \n        },\n        tooltip: {\n\n            show: true,\n\n            trigger: 'item',\n\n            enterable: true,\n\n            axisPointer: {\n                type: 'shadow'\n            },\n\n            showDelay: 0, //显示延时，添加显示延时可以避免频繁切换\n\n            hideDelay: 50, //隐藏延时\n\n            transitionDuration: 0, //动画变换时长\n\n            backgroundColor: 'rgba(0,0,0,0.7)', //背景颜色（此时为默认色）\n\n            borderRadius: 8, //边框圆角\n\n            padding: 10, // [5, 10, 15, 20] 内边距\n\n            position: function(point, e, dom, rect, size) {\n\n                $(dom).css(\"max-height\", \"300px\");\n\n                $(dom).css(\"overflow-y\", \"auto\");\n\n                return [point[0] + 10, point[1] - 10];\n\n            },\n\n            //triggerOn:'click',\n\n            formatter: function(params) {\n\n                var type = params.data.name;\n\n                var color = params.color;\n\n                var len = 20;\n\n                if (type == \"A级\") {\n                    len = 80\n                };\n\n                if (type == \"B级\") {\n                    len = 50\n                };\n\n                var contentHtml = '<table id=\"xinYongTab\" style=\"width:240px;height:300px;overflow-y:auto\">';\n\n                for (var i = 1; i <= len; i++) {\n\n                    contentHtml += '<tr><td width=\"30px\" style=\"color:' + color + '\" >' + type + '</td><td class=\"infoText\" title=\"览海特需门诊\">览海特需门诊</td><td width=\"50px\" class=\"infoText\">98分</td></tr>';\n\n                }\n\n                contentHtml += '</table>';\n\n                stopRotate();\n\n                return contentHtml;\n\n            }\n\n        },\n\n        series: [\n\n            {\n\n                name: '',\n\n                type: 'pie',\n\n                data: pieData,\n\n                startAngle: rotateNum,\n\n                center: ['50%', '45%'], //饼图的中心（圆心）坐标\n\n                radius: ['40%', '80%'], //饼图的半径\n\n                itemStyle: { //图形样式\n\n                    normal: {\n\n                        borderColor: '#1e2239',\n\n                        borderWidth: 0.1,\n\n                        color: function(params) {\n\n                            return colorList[params.dataIndex]\n\n                        }\n\n                    },\n\n                },\n\n                label: { //标签的位置\n\n                    normal: {\n\n                        show: true,\n\n                        position: 'inside', //标签的位置\n\n                        formatter: \"{b}\",\n\n                        textStyle: {\n\n                            color: '#fff',\n\n                        }\n\n                    },\n\n                    emphasis: {\n\n                        show: true,\n\n                        textStyle: {\n\n                            fontWeight: 'bold'\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n        ]\n\n    };\n\n    myChart.clear();\n\n    myChart.setOption(option, true);\n\n    //鼠标事件：'click'，'dblclick'，'mousedown'，'mouseup'，'mouseover'，'mouseout'，'globalout'。\n\n    myChart.on('mouseover', function(params) {\n\n        var opt = myChart.getOption();\n\n        stopRotate();\n\n        myChart.setOption(opt);\n\n    });\n\n    myChart.on('mouseout', function(params) {\n\n        var opt = myChart.getOption();\n\n        startRotate();\n\n        myChart.setOption(opt);\n\n    });\n\n}\n\nfunction rotate() {\n\n    rotateNum--;\n\n    if (rotateNum == 0) {\n\n        rotateNum = 360;\n\n    }\n\n    var option = myChart.getOption();\n\n    option.series[0].startAngle = rotateNum;\n\n    myChart.setOption(option);\n\n}\n\nfunction startRotate() {\n\n    xinYongTimer = setInterval(rotate, 100);\n\n}\n\nfunction stopRotate() {\n\n    clearInterval(xinYongTimer);\n\n    xinYongTimer = null;\n\n}\n\n/*\nwindow.onload = function() {\n    xingYongPie();\n    setTimeout(startRotate, 500);\n}*/\nxingYongPie();\nsetTimeout(startRotate, 500);\n","html":"","externalScripts":"","updaterUID":"bd-2603632873","theme":"","layout":"","viewCount":536,"userName":"y***8","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xV2ittnG4r.png?v=1585101346415","isCustomThumbnail":0,"builtinTags":["category-work"],"customTags":[],"updaterUserName":"y***8"}}