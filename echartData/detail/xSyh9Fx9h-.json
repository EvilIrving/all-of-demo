{"status":0,"data":{"cid":"xSyh9Fx9h-","authorUid":"bd-460850157","authorUserName":"S***七","title":"折线图tooltip中在生图(折线图鼠标滑过展示饼图)","description":"粗糙版","latestVersion":1,"alwaysLatest":1,"createTime":"2017-10-10T07:41:07.000Z","lastUpdateTime":"2017-10-10T07:41:07.000Z","auth":2,"uid":"bd-460850157","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.7.2","versionCreateTime":"2017-10-10T07:41:07.000Z","code":"option = {\n    title: {\n        text: '折线图tooltip中在生图(折线图鼠标滑过展示饼图)'\n    },\n    tooltip: {\n        padding: 3,\n        backgroundColor: '#222',\n        borderColor: '#777',\n        borderWidth: 1,\n        formatter: function(obj) {\n            var value = obj.value;\n            var yindex = obj.dataIndex;\n            var xindex = obj.seriesIndex;\n            setTimeout(function() {\n                stockPieManagement(\"ebox\");\n                pieChartsFn(yindex, xindex);\n            }, 100)\n            return '<div style=\"width:200px;height:200px;\" id=\"ebox\" class=\"ebox\"></div>'\n\n        }\n    },\n    legend: {\n        data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎']\n    },\n\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: ['16/01', '16/02', '16/03', '16/04', '16/05', '16/06', '16/07', '16/08', '16/09', '16/10', '16/11', '16/12']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [\n\n        {\n            name: '邮件营销',\n            type: 'line',\n            stack: '总量',\n            symbolSize: 10,\n            data: [120, 132, 101, 134, 90, 230, 210, 150, 232, 201, 154, 190, 330]\n        }, {\n            name: '联盟广告',\n            type: 'line',\n            stack: '总量',\n            symbolSize: 10,\n            data: [220, 182, 191, 234, 290, 330, 310, 150, 232, 201, 154, 190, 330]\n        }, {\n            name: '视频广告',\n            type: 'line',\n            stack: '总量',\n            symbolSize: 10,\n            data: [150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154, 190, 330]\n        }, {\n            name: '直接访问',\n            type: 'line',\n            stack: '总量',\n            symbolSize: 10,\n            data: [320, 332, 301, 334, 390, 330, 320, 150, 232, 201, 154, 190, 330]\n        }, {\n            name: '搜索引擎',\n            type: 'line',\n            stack: '总量',\n            data: [820, 932, 901, 934, 590, 530, 520, 150, 232, 201, 154, 190, 330]\n        }\n\n    ]\n};\n\nfunction stockPieManagement(odiv) {\n    myChartToolpie = echarts.init(document.getElementById(odiv));\n    myChartTool = {\n        legend: {\n            orient: 'vertical',\n            x: 'left',\n            data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎']\n        },\n        series: [{\n            name: '访问来源',\n            type: 'pie',\n            radius: ['40%', '60%'],\n            avoidLabelOverlap: false,\n            label: {\n                normal: {\n                    show: true,\n                },\n                emphasis: {\n                    show: true,\n                    textStyle: {\n                        fontSize: '30',\n                        fontWeight: 'bold'\n                    }\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: true\n                }\n            },\n            data: [{\n                value: 335,\n                name: '直接访问'\n            }, {\n                value: 310,\n                name: '邮件营销'\n            }, {\n                value: 234,\n                name: '联盟广告'\n            }, {\n                value: 135,\n                name: '视频广告'\n            }, {\n                value: 1548,\n                name: '搜索引擎'\n            }]\n        }]\n    };\n    myChartToolpie.setOption(myChartTool);\n}\n//数据  测试数据 请在左正角六个点上测试数据  其它点没有数据\nfunction pieChartsFn(yindex, xindex) {\n    console.log(xindex, yindex);\n    piedata = [\n        [\n            [{\n                value: 100,\n                name: '直接访问'\n            }, {\n                value: 100,\n                name: '邮件营销'\n            }, {\n                value: 900,\n                name: '联盟广告'\n            }, ],\n            [{\n                value: 235,\n                name: '直接访问'\n            }, {\n                value: 210,\n                name: '邮件营销'\n            }, {\n                value: 234,\n                name: '联盟广告'\n            }, ],\n        ]\n    ];\n    myChartToolpie.setOption({\n        series: [{\n            data: piedata[xindex][yindex]\n        }]\n    });\n}","html":"","externalScripts":"","updaterUID":"bd-460850157","theme":"","layout":"","viewCount":105,"userName":"S***七","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSyh9Fx9h-.png?v=1507621267761","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-line","title","tooltip"],"customTags":[],"updaterUserName":"S***七"}}