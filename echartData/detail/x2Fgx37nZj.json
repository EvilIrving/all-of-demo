{"status":0,"data":{"cid":"x2Fgx37nZj","authorUid":"obd-oE_gqYS30Fcviz8kynavsyg5-oPjr47","authorUserName":"冰***草","title":"混合图表","description":"记录特殊柱状图及formatter的应用","latestVersion":3,"alwaysLatest":0,"createTime":"2021-10-28T08:35:37.000Z","lastUpdateTime":"2021-10-28T08:43:36.000Z","auth":2,"uid":"obd-oE_gqYS30Fcviz8kynavsyg5-oPjr47","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"4.9.0","versionCreateTime":"2021-10-28T08:43:36.000Z","code":"const xData = ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月']\nconst yData1 = [1, 2, 3, 4, 5, 3, 7, 9]\nconst yData2 = [3, 5, 7, 2, 8, 4, 3, 2]\nconst yData3 = [66, 77, 88, 55, 77, 99, 56, 78]\nconst dataLen = xData.length\noption = {\n          title: {\n            text: '计划完成情况',\n            textStyle: {\n              fontSize: 28,\n              color: '#fff',\n              fontWeight: 400\n            },\n            left: 0,\n            top: 20\n          },\n          legend: {\n            data: ['已完成', '未完成', '完成率'],\n            selectedMode: false,\n            textStyle: { fontSize: 22 },\n            itemWidth: 6,\n            itemHeight: 6,\n            itemGap: 30,\n            top: '10%',\n            right: '20%'\n          },\n          grid: {\n            top: '20%',\n            bottom: '20%',\n            left: '20%',\n            right: '20%'\n          },\n          xAxis: {\n            data: xData,\n            axisLine: {\n              show: true, // 隐藏X轴轴线\n              lineStyle: {\n                color: 'rgba(53, 53, 53, 1)',\n                width: 1,\n                type: 'dashed'\n              }\n            },\n            axisTick: {\n              show: false // 隐藏X轴刻度\n            },\n            axisLabel: {\n              show: true,\n              margin: 6,\n              fontSize: 20\n              \n            }\n          },\n          yAxis: [\n            {\n              type: 'value',\n              gridIndex: 0,\n              interval: 25,\n              splitLine: {\n                show: true,\n                lineStyle: {\n                  color: 'rgba(53, 53, 53, 1)',\n                  width: 1,\n                  type: 'dashed'\n                }\n              },\n              axisTick: {\n                show: false\n              },\n              axisLine: {\n                show: false\n              },\n              axisLabel: {\n                show: true,\n                margin: 4,\n                fontSize: 20\n              }\n            },\n            {\n              type: 'value',\n              gridIndex: 0,\n              interval: 25,\n              splitLine: {\n                show: true,\n                lineStyle: {\n                  color: 'rgba(53, 53, 53, 1)',\n                  width: 1,\n                  type: 'dashed'\n                }\n              },\n              axisTick: {\n                show: false\n              },\n              axisLine: {\n                show: false\n              },\n              axisLabel: {\n                show: true,\n                margin: 4,\n                fontSize: 20,\n                formatter: '{value} %'\n              }\n            }\n          ],\n          series: [\n            {\n              name: '已完成',\n              type: 'bar',\n              barWidth: 16,\n              itemStyle: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                  offset: 0,\n                  color: 'rgba(40, 247, 54, 1)'\n                },\n                {\n                  offset: 1,\n                  color: 'rgba(40, 247, 54, 0.1)'\n                }\n                ])\n              },\n              data: yData1,\n              z: 10,\n              zlevel: 0,\n              label: {\n                show: true,\n                position: 'top',\n                formatter: (params) => {\n                  if (params.dataIndex === dataLen - 1) {\n                    return params.value\n                  } else {\n                    return ''\n                  }\n                },\n                fontSize: 20,\n                color: 'rgba(40, 247, 54, 1)'\n              }\n            },\n            {\n            // 分隔\n              type: 'pictorialBar',\n              itemStyle: {\n                normal: {\n                  color: '#ffffff'\n                }\n              },\n              symbolRepeat: 'fixed',\n              symbolMargin: 2,\n              symbol: 'rect',\n              symbolClip: true,\n              symbolSize: [16, 4],\n              symbolPosition: 'start',\n              symbolOffset: [-10.5, -3],\n              data: yData1,\n              width: 16,\n              z: 0,\n              zlevel: 1\n            },\n            {\n              name: '未完成',\n              type: 'bar',\n              barWidth: 16,\n              itemStyle: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                  offset: 0,\n                  color: 'rgba(253, 52, 19, 1)'\n                },\n                {\n                  offset: 1,\n                  color: 'rgba(253, 52, 19, 0.1)'\n                }\n                ])\n              },\n              data: yData2,\n              z: 10,\n              zlevel: 0,\n              label: {\n                show: true,\n                position: 'top',\n                formatter: (params) => {\n                  if (params.dataIndex === dataLen - 1) {\n                    return params.value\n                  } else {\n                    return ''\n                  }\n                },\n                fontSize: 20,\n                color: 'rgba(253, 52, 19, 1)'\n              }\n            },\n            {\n            // 分隔\n              type: 'pictorialBar',\n              itemStyle: {\n                normal: {\n                  color: '#ffffff'\n                }\n              },\n              symbolRepeat: 'fixed',\n              symbolMargin: 2,\n              symbol: 'rect',\n              symbolClip: true,\n              symbolSize: [16, 4],\n              symbolPosition: 'start',\n              symbolOffset: [10.5, -3],\n              data: yData2,\n              width: 16,\n              z: 0,\n              zlevel: 1\n            },\n            {\n              name: '完成率',\n              type: 'line',\n              // symbol: 'none',\n              symbol: 'circle',\n              symbolSize: 1,\n              yAxisIndex: 1,\n              zlevel: 20,\n              itemStyle: {\n                color: 'rgba(0, 220, 210, 1)'\n              },\n              lineStyle: {\n                shadowBlur: 5,\n                shadowColor: 'rgba(0, 225, 160, 1)',\n                shadowOffsetY: 2\n              },\n              label: {\n                show: true,\n                position: 'right',\n                formatter: (params) => {\n                  if (params.dataIndex === dataLen - 1) {\n                    return params.value + '%'\n                  } else {\n                    return ''\n                  }\n                },\n                fontSize: 20,\n                color: 'rgba(0, 220, 210, 1)'\n              },\n              data: yData3\n            }\n          ]\n        };\n","html":"","externalScripts":"","updaterUID":"obd-oE_gqYS30Fcviz8kynavsyg5-oPjr47","theme":"","layout":"","viewCount":0,"userName":"冰***草","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x2Fgx37nZj.png?v=1635410616649","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","series-pictorialBar","title"],"customTags":[],"updaterUserName":"冰***草"}}