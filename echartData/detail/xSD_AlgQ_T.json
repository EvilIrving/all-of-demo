{"status":0,"data":{"cid":"xSD_AlgQ_T","authorUid":"obd-oEd_743uoklBwpuIJJ1I_hRb0NvMF4t","authorUserName":"天***华","title":"伪3D飞线图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-18T13:16:04.000Z","lastUpdateTime":"2021-11-18T13:16:04.000Z","auth":1,"uid":"obd-oEd_743uoklBwpuIJJ1I_hRb0NvMF4t","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.9.0","versionCreateTime":"2021-11-18T13:16:04.000Z","code":"var img = '/asset/get/s/data-1637237965898-Rm3bDQPZn.png';\nvar border = '/asset/get/s/data-1637237918423--5oVX0MvD.png';\nvar geoCoordMap = {\n    成都: [103.9526, 30.7617],\n    上海: [121.4648, 31.2891],\n    尼日利亚: [-4.388361, 11.186148],\n    美国洛杉矶: [-118.24311, 34.052713],\n    香港邦泰: [114.195466, 22.282751],\n    美国芝加哥: [-87.801833, 41.870975],\n    加纳库马西: [-4.62829, 7.72415],\n    英国曼彻斯特: [-1.657222, 51.886863],\n    德国汉堡: [10.01959, 54.38474],\n    哈萨克斯坦阿拉木图: [45.326912, 41.101891],\n    俄罗斯伊尔库茨克: [89.116876, 67.757906],\n    巴西: [-48.678945, -10.493623],\n    埃及达米埃塔: [31.815593, 31.418032],\n    西班牙巴塞罗纳: [2.175129, 41.385064],\n    柬埔寨金边: [104.88659, 11.545469],\n    意大利米兰: [9.189948, 45.46623],\n    乌拉圭蒙得维的亚: [-56.162231, -34.901113],\n    莫桑比克马普托: [32.608571, -25.893473],\n    阿尔及利亚阿尔及尔: [3.054275, 36.753027],\n    阿联酋迪拜: [55.269441, 25.204514],\n    匈牙利布达佩斯: [17.108519, 48.179162],\n    澳大利亚悉尼: [150.993137, -33.675509],\n    美国加州: [-121.910642, 41.38028],\n    澳大利亚墨尔本: [144.999416, -37.781726],\n    墨西哥: [-99.094092, 19.365711],\n    加拿大温哥华: [-123.023921, 49.311753],\n    齐齐哈尔: [123.97, 47.33],\n    盐城: [120.13, 33.38],\n    青岛: [120.33, 36.07],\n    金昌: [102.188043, 38.520089],\n    泉州: [118.58, 24.93],\n    拉萨: [91.11, 29.97],\n    上海浦东: [121.48, 31.22],\n    攀枝花: [101.718637, 26.582347],\n    威海: [122.1, 37.5],\n    承德: [117.93, 40.97],\n    汕尾: [115.375279, 22.786211],\n    克拉玛依: [84.77, 45.59],\n    重庆市: [108.384366, 30.439702],\n    北京市: [116.4551, 40.2539],\n    美国: [-100.696295, 33.679979],\n    日本: [139.710164, 35.706962],\n    韩国: [126.979208, 37.53875],\n    瑞士: [7.445147, 46.956241],\n    东南亚: [117.53244, 5.300343],\n    澳大利亚: [135.193845, -25.304039],\n    德国: [13.402393, 52.518569],\n    英国: [-0.126608, 51.208425],\n    加拿大: [-102.646409, 59.994255],\n};\nvar convertData = function (data) {\n    var res = [];\n    for (let i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var coords = [start.value, geoCoordMap[dataItem.name]];\n        res.push({\n            fromName: start.name,\n            toName: dataItem.name,\n            coords: coords,\n            value: dataItem.value,\n        });\n    }\n    return res;\n};\n// 顶部展示数据处理\nvar formatData = function (data) {\n    var res = [];\n    for (let i = 0; i < data.length; i++) {\n        let dataItem = data[i];\n        let value = geoCoordMap[dataItem.name];\n        value = value.concat(dataItem.value);\n        res.push({\n            name: dataItem.name,\n            value: value,\n        });\n    }\n    return res;\n};\nvar start = {\n    name: '成都',\n    value: [103.9526, 30.7617],\n};\nvar data = [\n    {\n        name: '德国汉堡',\n        value: 6280,\n    },\n    {\n        name: '俄罗斯伊尔库茨克',\n        value: 8125,\n    },\n    {\n        name: '西班牙巴塞罗纳',\n        value: 3590,\n    },\n    {\n        name: '阿联酋迪拜',\n        value: 590,\n    },\n];\noption = {\n    backgroundColor: {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 1,\n        y2: 1,\n        colorStops: [\n            {\n                offset: 0,\n                color: '#05153a', // 0% 处的颜色\n            },\n            {\n                offset: 1,\n                color: '#062959', // 100% 处的颜色\n            },\n        ],\n        globalCoord: false, // 缺省为 false\n    },\n    visualMap: {\n        //图例值控制\n        min: 0,\n        max: 10000,\n        show: true,\n        calculable: true,\n        color: ['#ff3333', 'orange', 'yellow', 'lime', 'aqua'],\n        textStyle: {\n            color: '#ffffff',\n        },\n    },\n    geo: {\n        map: 'world',\n        label: {\n            normal: {\n                show: false,\n            },\n            emphasis: {\n                show: false,\n            },\n        },\n        roam: true, //是否允许缩放\n        layoutCenter: ['50%', '50%'], //地图位置\n        layoutSize: '140%',\n        itemStyle: {\n            normal: {\n                areaColor: '#21729a',\n                borderColor: '#68ebf0', //线\n                borderWidth: 0,\n                borderJoin: 'round',\n                shadowColor: 'rgba(18, 216, 250, 1)', //外发光\n                shadowOffsetX: -3,\n                shadowOffsetY: 5,\n                shadowBlur: 2, //图形阴影的模糊大小\n            },\n            emphasis: {\n                areaColor: '#2f9eff', //悬浮区背景\n            },\n        },\n    },\n    series: [\n        {\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            zlevel: 2,\n            symbol:'circle',\n            symbolSize: 8,\n            showEffectOn: 'render',\n            rippleEffect: {\n                scale: 5,\n                brushType: 'stroke',\n                color: '#0EB1FE',\n            },\n            label: {\n                show: true,\n                backgroundColor: {\n                    image: border,\n                },\n                lineHeight: 18,\n                align: 'center',\n                padding: [10, 10, 10, 10],\n                formatter: function (params) {\n                    var name = params.name;\n                    var value = params.value[2];\n                    var text = `{name|${name}}\\n{val|${value}}`;\n                    // return text;\n                    return `{name|${name}}`;\n                },\n                position: 'top',\n                rich: {\n                    name: {\n                        color: '#0EB1FE',\n                        fontWeight: 'bold',\n                        fontSize: '14',\n                    },\n                    val: {\n                        align: 'center',\n                    },\n                },\n            },\n            emphasis:{\n                label: {\n                show: true,\n                backgroundColor: {\n                    image: border,\n                },\n                lineHeight: 18,\n                align: 'center',\n                padding: [10, 10, 10, 10],\n                formatter: function (params) {\n                    var name = params.name;\n                    var value = params.value[2];\n                    var text = `{name|${name}}\\n{val|${value}}`;\n                    return text;\n                    // return `{name|${name}}`;\n                },\n                position: 'top',\n                rich: {\n                    name: {\n                        color: '#0EB1FE',\n                        fontWeight: 'bold',\n                        fontSize: '14',\n                    },\n                    val: {\n                        align: 'center',\n                    },\n                },\n            },\n            },\n            data: formatData(data),\n        },\n        {\n            type: 'scatter',\n            coordinateSystem: 'geo',\n            symbol: 'image://' + img,\n            symbolSize: [32, 41],\n            symbolOffset: [0, 0],\n            label: {\n                normal: {\n                    show: false,\n                    position: 'bottom',\n                    formatter: '{b}',\n                    textStyle: {\n                        color: '#ffffff',\n                    },\n                },\n                emphasis: {\n                    show: false,\n                },\n            },\n            data: [start],\n        },\n        // 线 和 点\n        {\n            type: 'lines',\n            zlevel: 2,\n            effect: {\n                show: true,\n                period: 6, //箭头指向速度，值越小速度越快\n                trailLength: 0.8, //特效尾迹长度[0,1]值越大，尾迹越长重\n                symbol: 'circle', //箭头图标,'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'\n                symbolSize: 3, //图标大小\n            },\n            lineStyle: {\n                normal: {\n                    width: 1, //尾迹线条宽度\n                    opacity: 0.05, //尾迹线条透明度\n                    curveness: 0.3, //尾迹线条曲直度\n                },\n            },\n            label: {\n                show: false,\n            },\n            data: convertData(data),\n        },\n    ],\n};\n","html":"","externalScripts":"/dep/echarts/map/js/china.js,/dep/echarts/map/js/world.js","updaterUID":"obd-oEd_743uoklBwpuIJJ1I_hRb0NvMF4t","theme":"","layout":"","viewCount":0,"userName":"天***华","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSD_AlgQ_T.png?v=1637241365213","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-scatter","visualMap"],"customTags":[],"updaterUserName":"天***华"}}