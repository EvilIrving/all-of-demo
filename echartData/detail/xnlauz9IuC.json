{"status":0,"data":{"cid":"xnlauz9IuC","authorUid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","authorUserName":"c***J","title":"折线柱状图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-04-25T06:10:48.000Z","lastUpdateTime":"2021-04-25T06:10:48.000Z","auth":2,"uid":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.0","versionCreateTime":"2021-04-25T06:10:48.000Z","code":"var getname = ['计算机学院','生物科学学院','文学院','医学院','管理学院','设计学院','食品学院','电子学院','化学学院','其他学院'];\r\nvar getvalue = ['1100','750','910','550','580','920','810','700','905','780'];\r\nvar getvalue1 = ['270','200','260','80','90','260','200','100','290','260'];\r\nvar dataName=['资源数','建课数']\r\n//计算最大值 \r\nvar maxnum = Math.max.apply(null, getvalue);\r\nvar maxnum1 = Math.max.apply(null, getvalue1);\r\nvar maxlen = Math.pow(10, String(Math.ceil(maxnum)).length - 2);\r\nvar maxlen1 = Math.pow(10, String(Math.ceil(maxnum1)).length - 2);\r\nif (maxnum >= 5) {\r\n  var max = Math.ceil(maxnum / (10 * maxlen)) * maxlen * 5;\r\n} else {\r\n  var max = 5;\r\n}\r\nif (maxnum1 >= 5) {\r\n  var max1 = Math.ceil(maxnum1 / (10 * maxlen1)) * maxlen1 * 10;\r\n} else {\r\n  var max1 = 5;\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor:'#072685',\r\n    grid: {\r\n        top: '21%',\r\n        right: '8%',\r\n        left: '8%',\r\n        bottom: '16%'\r\n    },\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    axisPointer: {\r\n      type: 'none'\r\n    },\r\n    formatter: '{b0}<br/>{a0}: {c0}<br/>{a1}: {c1}',\r\n  },\r\nlegend: {\r\n          data: [{\r\n                    name:'资源数',\r\n                    icon: \"roundRect\",\r\n                    \r\n                },\r\n                {\r\n                    name:'建课数',\r\n                    icon: \"line\",\r\n                    \r\n                }\r\n              ],\r\n          left: \"2%\",\r\n          top:'2%',\r\n          //icon: \"roundRect\",\r\n          //itemWidth: 15, // 设置宽度\r\n          //itemHeight: 15, // 设置高度\r\n          textStyle: {\r\n              color: \"#666666\",\r\n              fontSize: 13,\r\n              padding: [2, 0, 0, 0]\r\n          },\r\n      },\r\n  xAxis: [{\r\n    data: getname,\r\n    axisLabel: {\r\n            interval:0,\r\n            margin: 30,\r\n            color: '#82AFC6',\r\n            textStyle: {\r\n                fontSize: 13\r\n            },\r\n             formatter:function(val){\r\n       console.log(\"label汉字--\",val);\r\n        var strs = val.split(''); //字符串数组\r\n        var str = ''\r\n        for(var i = 0, s; s = strs[i++];) { //遍历字符串数组\r\n        str += s;\r\n        if(!(i % 1)) str += '\\n'; //按需要求余\r\n      }\r\n      return str\r\n    }\r\n        },\r\n    axisLine: {\r\n        show:false,\r\n      lineStyle: {\r\n        color: '#3E5B7D',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n  }],\r\n  yAxis: [{\r\n    type: 'value',\r\n    min: 0,\r\n    max: max, // 计算最大值\r\n    interval: max / 5, // 平均分为5份\r\n    splitNumber: 5,\r\n    name: '资源数',\r\n    nameTextStyle: {\r\n      color: '#82AFC6',\r\n      fontSize: 12,\r\n      padding: [0, 0, 8, -40]\r\n    },\r\n    axisLabel: {\r\n      formatter: function(value) {\r\n        num = value\r\n        if (num && num != 'undefined' && num != 'null') {\r\n          let numS = num;\r\n          numS = numS.toString();\r\n          numS = numS.replace(/,/gi, '');\r\n          return numS;\r\n        } else {\r\n          return num;\r\n        }\r\n      },\r\n      color: '#82AFC6',\r\n      textStyle: {\r\n        fontSize: 12\r\n      },\r\n    },\r\n    axisLine: {\r\n        show:false,\r\n      lineStyle: {\r\n        color: '#3E5B7D',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        color: '#102E74',\r\n      }\r\n    }\r\n  }, {\r\n    type: 'value',\r\n    min: 0,\r\n    max: max1, // 计算最大值\r\n    interval: max1 / 5, // 平均分为5份\r\n    splitNumber: 5,\r\n    name: '建课数',\r\n    nameTextStyle: {\r\n      color: '#82AFC6',\r\n      fontSize: 12,\r\n      padding: [0, 0, 8, 50]\r\n    },\r\n    axisLabel: {\r\n      formatter: function(value) {\r\n        num = value\r\n        if (num && num != 'undefined' && num != 'null') {\r\n          let numS = num;\r\n          numS = numS.toString();\r\n          numS = numS.replace(/,/gi, '');\r\n          return numS;\r\n        } else {\r\n          return num;\r\n        }\r\n      },\r\n      color: '#82AFC6',\r\n      textStyle: {\r\n        fontSize: 12\r\n      },\r\n    },\r\n    axisLine: {\r\n        show:false,\r\n      lineStyle: {\r\n        color: '#3E5B7D',\r\n      }\r\n    },\r\n    axisTick: {\r\n      show: false\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        color: '#102E74',\r\n      }\r\n    }\r\n  }],\r\n  series: [{\r\n    name: \"资源数\",\r\n    type: 'bar',\r\n    data: getvalue,\r\n    barWidth: '15px',\r\n    itemStyle: {\r\n      normal: {\r\n        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\r\n          offset: 0,\r\n          color: '#1D82FF'\r\n        }, {\r\n          offset: 1,\r\n          color: '#00FFF6'\r\n        }], false),\r\n        barBorderRadius: [4, 4, 0, 0],\r\n      }\r\n    },\r\n  }, {\r\n\t\t\tname: '建课数',\r\n            type: 'line',\r\n            data: getvalue1,\r\n            smooth: false,\r\n            symbol: 'circle',\r\n            symbolSize: 5,\r\n            yAxisIndex: 1,\r\n            lineStyle: {\r\n                normal: {\r\n                width: 2,\r\n                color: '#FFEA83',\r\n                },\r\n            },\r\n            itemStyle: {\r\n            normal: {\r\n                color: '#FFFADF',\r\n                borderColor: '#FFFADF',\r\n                borderWidth: 0\r\n            },\r\n        },\r\n        }]\r\n\r\n};\r\n\r\n// return option; ","html":"","externalScripts":"","updaterUID":"obd-o2rLNh0qJ5G_mzprXJjN5B9Qq8wlO6K","theme":"","layout":"","viewCount":0,"userName":"c***J","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xnlauz9IuC.png?v=1619331048977","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"c***J"}}