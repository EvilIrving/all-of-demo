{"status":0,"data":{"cid":"xYbbxTdhK","authorUid":"bd-4031964395","authorUserName":"Z***4","title":"地图与effectScatter","description":"地图与effectScatter","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-21T01:51:23.000Z","lastUpdateTime":"2019-11-21T01:51:23.000Z","auth":2,"uid":"bd-4031964395","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-21T01:51:23.000Z","code":"  var geoCoordMap = {\r\n        '上海': [119.1803, 31.2891],\r\n        \"福建\": [119.4543, 25.9222],\r\n        \"重庆\": [108.384366, 30.439702],\r\n        '北京': [116.4551, 40.2539],\r\n        \"辽宁\": [123.1238, 42.1216],\r\n        \"河北\": [114.4995, 38.1006],\r\n        \"天津\": [117.4219, 39.4189],\r\n        \"山西\": [112.3352, 37.9413],\r\n        \"陕西\": [109.1162, 34.2004],\r\n        \"甘肃\": [103.5901, 36.3043],\r\n        \"宁夏\": [106.3586, 38.1775],\r\n        \"青海\": [101.4038, 36.8207],\r\n        \"新疆\": [87.9236, 43.5883],\r\n        \"西藏\": [91.11, 29.97],\r\n        \"四川\": [103.9526, 30.7617],\r\n        \"吉林\": [125.8154, 44.2584],\r\n        \"山东\": [117.1582, 36.8701],\r\n        \"河南\": [113.4668, 34.6234],\r\n        \"江苏\": [118.8062, 31.9208],\r\n        \"安徽\": [117.29, 32.0581],\r\n        \"湖北\": [114.3896, 30.6628],\r\n        \"浙江\": [119.5313, 29.8773],\r\n        '内蒙古': [110.3467, 41.4899],\r\n        \"江西\": [116.0046, 28.6633],\r\n        \"湖南\": [113.0823, 28.2568],\r\n        \"贵州\": [106.6992, 26.7682],\r\n        \"云南\": [102.9199, 25.4663],\r\n        \"广东\": [113.12244, 23.009505],\r\n        \"广西\": [108.479, 23.1152],\r\n        \"海南\": [110.3893, 19.8516],\r\n        '黑龙江': [127.9688, 45.368],\r\n        '台湾': [121.4648, 25.5630]\r\n    };\r\n    var chinaDatas = [{\r\n            name: '北京',\r\n            value: 86\r\n        },\r\n        {\r\n            name: '福建',\r\n            value: 65\r\n        },\r\n        {\r\n            name: '广东',\r\n            value: 53\r\n        },\r\n        {\r\n            name: '上海',\r\n            value: 48\r\n        },\r\n\r\n        {\r\n            name: '河北',\r\n            value: 2\r\n        },\r\n        {\r\n            name: '天津',\r\n            value: 6\r\n        },\r\n        {\r\n            name: '山西',\r\n            value: 12\r\n        },\r\n        {\r\n            name: '陕西',\r\n            value: 2\r\n        },\r\n        {\r\n            name: '甘肃',\r\n            value: 4\r\n        },\r\n        {\r\n            name: '宁夏',\r\n            value: 5\r\n        },\r\n        {\r\n            name: '青海',\r\n            value: 3\r\n        },\r\n        {\r\n            name: '新疆',\r\n            value: 0.4\r\n        },\r\n        {\r\n            name: '西藏',\r\n            value: 0.3\r\n        },\r\n        {\r\n            name: '四川',\r\n            value: 22\r\n        },\r\n        {\r\n            name: '重庆',\r\n            value: 12\r\n        },\r\n        {\r\n            name: '山东',\r\n            value: 9\r\n        },\r\n        {\r\n            name: '河南',\r\n            value: 0.9\r\n        },\r\n        {\r\n            name: '江苏',\r\n            value: 24\r\n        },\r\n        {\r\n            name: '安徽',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '湖北',\r\n            value: 6\r\n        },\r\n        {\r\n            name: '浙江',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '内蒙古',\r\n            value: 0.3\r\n        },\r\n        {\r\n            name: '江西',\r\n            value: 34\r\n        },\r\n        {\r\n            name: '湖南',\r\n            value: 12\r\n        },\r\n        {\r\n            name: '贵州',\r\n            value: 0.8\r\n        },\r\n        {\r\n            name: '广西',\r\n            value: 16\r\n        },\r\n        {\r\n            name: '海南',\r\n            value: 37\r\n        },\r\n        {\r\n            name: '辽宁',\r\n            value: 0.2\r\n        },\r\n        {\r\n            name: '吉林',\r\n            value: 0.4\r\n        },\r\n        {\r\n            name: '云南',\r\n            value: 34\r\n        },\r\n        {\r\n            name: '黑龙江',\r\n            value: 5\r\n        },\r\n        {\r\n            name: '台湾',\r\n            value: 43\r\n        }\r\n    ];\r\n    var convertData = function (data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    var option = {\r\n        backgroundColor:'#000',\r\n        geo: {\r\n            show: true,\r\n            map: 'china',\r\n            zoom: 1,\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                }\r\n            },\r\n            roam: false,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderWidth: 3,\r\n                    borderColor: '#00FEFF',\r\n                    shadowColor: 'rgba(3,221,255,0.8)',\r\n                    shadowBlur: 30\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n                type: 'map',\r\n                map: 'china',\r\n                zoom: 1,\r\n                geoIndex: 1,\r\n                aspectScale: 0.75, //长宽比\r\n                showLegendSymbol: false, // 存在legend时显示\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                    },\r\n                    emphasis: {\r\n                        show: false,\r\n                        textStyle: {\r\n                            color: '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                roam: false,\r\n                itemStyle: {\r\n                    normal: {\r\n                        areaColor: '#00177B',\r\n                        borderColor: '#0073DA',\r\n                        borderWidth: 1\r\n                    },\r\n                    emphasis: {\r\n                        areaColor: '#00177B'\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                z: 10,\r\n                data:convertData(chinaDatas.sort(function (a, b) {\r\n                    return b.value - a.value;\r\n                }).slice(2, 3)),\r\n                symbolSize: 20,\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    brushType: 'stroke'\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function (params) {\r\n                            return '{fline|'+' '+params.data.name+' '+'重点关注'+'}';\r\n                        },\r\n                        position: 'top',\r\n                        distance:20,\r\n                        backgroundColor: 'rgba(3,219,255,.8)',\r\n                        padding: [0, 0],\r\n                        borderRadius: 3,\r\n                        lineHeight: 24,\r\n                        verticalAlign:'middle',\r\n                        color: '#fff',\r\n                        z:11,\r\n                        rich:{\r\n                            fline:{\r\n                                padding: [0, 10],\r\n                                color:'#ffffff'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(3,219,255,1)',\r\n                        shadowBlur: 8\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                z: 10,\r\n                data:convertData(chinaDatas.sort(function (a, b) {\r\n                    return b.value - a.value;\r\n                }).slice(1, 2)),\r\n                symbolSize: 20,\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    brushType: 'stroke'\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function (params) {\r\n                            console.log(params);\r\n                            return '{fline|'+' '+params.data.name+' '+'重点关注'+'}';\r\n                        },\r\n                        position: 'top',\r\n                        distance:20,\r\n                        backgroundColor: 'rgba(248,231,28,.7)',\r\n                        padding: [0, 0],\r\n                        borderRadius: 3,\r\n                        lineHeight: 24,\r\n                        verticalAlign:'middle',\r\n                        color: '#fff',\r\n                        rich:{\r\n                            fline:{\r\n                                padding: [0, 10],\r\n                                color:'#ffffff'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(248,231,28,0.9)',\r\n                        shadowBlur: 8\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                type: 'effectScatter',\r\n                coordinateSystem: 'geo',\r\n                z: 10,\r\n                data:convertData(chinaDatas.sort(function (a, b) {\r\n                    return b.value - a.value;\r\n                }).slice(0, 1)),\r\n                symbolSize: 20,\r\n                showEffectOn: 'render',\r\n                rippleEffect: {\r\n                    brushType: 'stroke'\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        formatter: function (params) {\r\n                            return '{fline|'+' '+params.data.name+' '+'重点关注'+'}';\r\n                        },\r\n                        position: 'top',\r\n                        distance:20,\r\n                        backgroundColor: 'rgba(219,90,39,.8)',\r\n                        padding: [0, 0],\r\n                        borderRadius: 3,\r\n                        lineHeight: 24,\r\n                        verticalAlign:'middle',\r\n                        color: '#fff',\r\n                        rich:{\r\n                            fline:{\r\n                                padding: [0, 10],\r\n                                color:'#ffffff'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(219,90,39,0.9)',\r\n                        shadowBlur: 8\r\n                    }\r\n                },\r\n            },\r\n        ]\r\n    };","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"bd-4031964395","theme":"","layout":"","viewCount":1517,"userName":"Z***4","commentCount":1,"starCount":14,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xYbbxTdhK.png?v=1574301083845","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map"],"customTags":[],"updaterUserName":"Z***4"}}