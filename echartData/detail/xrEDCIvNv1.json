{"status":0,"data":{"cid":"xrEDCIvNv1","authorUid":"bd-3223785317","authorUserName":"1***子","title":"上海市20个场站示意地图","description":"","latestVersion":10,"alwaysLatest":1,"createTime":"2019-08-14T06:56:54.000Z","lastUpdateTime":"2019-08-14T06:56:54.000Z","auth":2,"uid":"bd-3223785317","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":8,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-19T19:27:01.000Z","code":"//var tianjin = \"/asset/get/s/data-1525844720391-Skugj-g0f.json\";\r\n//var uploadedDataURL = \"/asset/get/s/data-1520413844487-rknqhXp_f.json\";\r\nvar uploadedDataURL = \"/asset/get/s/data-1482909900836-H1BC_1WHg.json\";\r\n\r\n$.get(uploadedDataURL, function(shJson) {\r\n    echarts.registerMap('shanghai', shJson);\r\n    myChart.setOption({\r\n        series: [{\r\n            type: 'map',\r\n            map: 'shanghai'\r\n        }]\r\n    });\r\n\r\n    var geoCoordMap = {\r\n        '黄浦区': [121.490317, 31.222771],\r\n        '徐汇区': [121.43752, 31.179973],\r\n        '长宁区': [121.4222, 31.218123],\r\n        '静安区': [121.448224, 31.229003],\r\n        '普陀区': [121.392499, 31.241701],\r\n        '闸北区': [121.465689, 31.25318],\r\n        '虹口区': [121.491832, 31.26097],\r\n        '杨浦区': [121.522797, 31.270755],\r\n        '闵行区': [121.375972, 31.111658],\r\n        '宝山区': [121.489934, 31.398896],\r\n        '嘉定区': [121.250333, 31.383524],\r\n        '浦东新区': [121.7795171, 31.13357039],\r\n        '金山区': [121.330736, 30.724697],\r\n        '松江区': [121.223543, 31.03047],\r\n        '青浦区': [121.113021, 31.151209],\r\n        '奉贤区': [121.458472, 30.912345],\r\n        '崇明县': [121.397516, 31.626946],\r\n    };\r\n\r\n    geoCoordMap = {\r\n        '国江路停车场': [121.507594, 31.3471609],\r\n        '市光路停车场': [121.51577, 31.312991],\r\n        '闸殷路停车场': [121.529438, 31.338194],\r\n        '国和路停车场': [121.518419, 31.3101223],\r\n        // '长江南路枢纽':[121.486276, 31.3324719],\r\n        // '长江西路枢纽':[121.44045, 31.331326],\r\n        '逸仙路停车场': [121.48965, 31.297545],\r\n\r\n        '内江路停车场': [121.54414, 31.2814823],\r\n        '宝杨路停车场': [121.472237, 31.39105405],\r\n        '月浦停车场': [121.418647, 31.402487],\r\n        '南陈路停车场': [121.395156, 31.303682],\r\n        '共和新路停车场': [121.4498947, 31.289106],\r\n        '曹杨路停车场': [121.412671, 31.2412991],\r\n        '武宁路停车场': [121.420969, 31.2397993],\r\n        '真南路停车场': [121.384363, 31.269245],\r\n        '天山路停车场': [121.379299, 31.2131657],\r\n        '云岭路停车场': [121.385173, 31.222708],\r\n        '莘庄停车场': [121.383896, 31.09950134],\r\n        '漕宝路停车场': [121.3730387, 31.1645353],\r\n        '重庆南场停车场': [121.4731173, 31.2106010],\r\n        '斜土停车场': [121.4537303, 31.19446366],\r\n        '申昆路停车场': [121.3342218, 31.1721365],\r\n        // '长江西路枢纽':[121.44045, 31.331326],\r\n        // '长江西路枢纽':[121.44045, 31.331326],\r\n        \r\n        '虹桥东枢纽站':[121.32478, 31.1988275],\r\n        '虹桥西枢纽站':[121.3165836, 31.19750598],\r\n        '申昆路枢纽站':[121.3342218, 31.1721365],\r\n        '江月路枢纽站':[121.509219, 31.0838135],\r\n        '沪军营路枢纽站':[121.4981799, 31.2060037],\r\n        '十六铺枢纽站':[121.4952777, 31.2289926],\r\n        '上海南站枢纽站':[121.4308993, 31.153357445],\r\n        '宜虹路枢纽站':[121.396803, 31.170071],\r\n        '静安寺枢纽站':[121.446735, 31.2261715],\r\n        '中山公园枢纽站':[121.41602922, 31.2161294],\r\n        '共和新路枢纽站':[121.447888, 31.2956888],\r\n        '沪太路枢纽站':[121.418427, 31.292984],\r\n        '江杨北路枢纽':[121.439498, 31.40713],\r\n        '富锦路枢纽':[121.42353, 31.394822],\r\n        '铁山路枢纽':[121.452882, 31.391196],\r\n        '吴淞码头枢纽':[121.501017, 31.378419],\r\n        '蕰川路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n        '长江西路枢纽':[121.44045, 31.331326],\r\n    }\r\n\r\n    var minSendNum = 0,\r\n        maxSendNum = 1000\r\n    var data = [{\r\n        name: '黄浦区',\r\n        value: 219\r\n    }, {\r\n        name: '徐汇区',\r\n        value: 339\r\n    }, {\r\n        name: '长宁区',\r\n        value: 412\r\n    }, {\r\n        name: '静安区',\r\n        value: 429\r\n    }, {\r\n        name: '普陀区',\r\n        value: 389\r\n    }, {\r\n        name: '闸北区',\r\n        value: 352\r\n    }, {\r\n        name: '虹口区',\r\n        value: 329\r\n    }, {\r\n        name: '杨浦区',\r\n        value: 532\r\n    }, {\r\n        name: '闵行区',\r\n        value: 299\r\n    }, {\r\n        name: '宝山区',\r\n        value: 139\r\n    }, {\r\n        name: '嘉定区',\r\n        value: 440\r\n    }, {\r\n        name: '浦东新区',\r\n        value: 890\r\n    }, {\r\n        name: '金山区',\r\n        value: 652\r\n    }, {\r\n        name: '松江区',\r\n        value: 415\r\n    }, {\r\n        name: '青浦区',\r\n        value: 329\r\n    }, {\r\n        name: '奉贤区',\r\n        value: 752\r\n    }, {\r\n        name: '崇明县',\r\n        value: 399\r\n    }, ]\r\n\r\n    data = [{\r\n            name: '国江路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '市光路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '闸殷路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '国和路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '逸仙路停车场',\r\n            value: 15\r\n        },\r\n\r\n        {\r\n            name: '内江路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '宝杨路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '月浦停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '南陈路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '共和新路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '曹杨路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '武宁路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '真南路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '天山路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '云岭路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '莘庄停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '漕宝路停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '重庆南场停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '斜土停车场',\r\n            value: 15\r\n        },\r\n        {\r\n            name: '申昆路停车场',\r\n            value: 15\r\n        },\r\n    ];\r\n    var data2 = [\r\n        {\r\n            name:'虹桥东枢纽站',\r\n            value: 15\r\n        },\r\n        {\r\n            name:'虹桥西枢纽站',\r\n            value: 15\r\n        },\r\n        {\r\n            name:'申昆路枢纽站',\r\n            value: 15\r\n        },\r\n        {\r\n            name:'江月路枢纽站',\r\n            value: 15\r\n        },\r\n    ];\r\n\r\n    var convertData = function(data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var geoCoord = geoCoordMap[data[i].name];\r\n            if (geoCoord) {\r\n                res.push({\r\n                    name: data[i].name,\r\n                    value: geoCoord.concat(data[i].value)\r\n                });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n\r\n\r\n    option = {\r\n        backgroundColor: '#000',\r\n        color:[ '#bda29a','#6e7074', '#546570', '#c4ccd3'],\r\n        title: {\r\n            text: '上海市20个场站示意地图',\r\n            subtext: '',\r\n            x: 'left',\r\n            textStyle: {\r\n                color: '#ccc'\r\n            }\r\n        },\r\n        tooltip: {\r\n            show: false,\r\n            trigger: 'item',\r\n            backgroundColor: '#09bdb1',\r\n            borderColor: '#FFFFCC',\r\n            showDelay: 0,\r\n            hideDelay: 0,\r\n            enterable: true,\r\n            transitionDuration: 0,\r\n            extraCssText: 'z-index:100',\r\n            formatter: function(params, ticket, callback) {\r\n                //根据业务自己拓展要显示的内容\r\n                var res = \"\";\r\n                var name = params.name;\r\n                var value = params.value;\r\n                res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\r\n                return res;\r\n            }\r\n        },\r\n        legend: {\r\n            orient: 'vertical',\r\n            top: 'top',\r\n            left: 'right',\r\n            data: ['停车场'],\r\n            textStyle: {\r\n                color: '#fff'\r\n            }\r\n        },\r\n        visualMap: { //颜色的设置  dataRange\r\n            show: false,\r\n            x: 'left',\r\n            y: 'center',\r\n            seriesIndex: [1],\r\n            min: 70,\r\n            max: 90,\r\n            text: ['高', '低'], // 文本，默认为数值文本\r\n            textStyle: {\r\n                color: '#fff'\r\n            },\r\n            inRange: {\r\n                color: ['#5db8ea']\r\n\r\n            }\r\n        },\r\n        geo: {\r\n            map: 'shanghai',\r\n            //视角缩放比例\r\n            zoom: 3,\r\n            //鼠标缩放和平移\r\n            roam: true,\r\n            //显示文本样式\r\n            label: {\r\n                show: false\r\n            },\r\n            itemStyle: {\r\n                areaColor: '#071446',// 地图色块颜色\r\n                borderColor: '#f9f9fd',//  地图区域边框颜色\r\n                borderWidth: 1\r\n            },\r\n            emphasis: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                itemStyle: {\r\n                    areaColor: '#191747',\r\n                    borderWidth: 0\r\n                }\r\n            }\r\n        },\r\n        series: [{\r\n            name: '停车场',\r\n            type: 'effectScatter',\r\n            left: '150',\r\n            coordinateSystem: 'geo',\r\n            // data: convertData(data),\r\n            symbolSize: function(val) {\r\n                return 15;\r\n            },\r\n            symbol:'circle',\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'bottom',\r\n                    color: '#ffe3bb', //字体颜色\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    // color: ['#7ee8ff', '#42ddff', '#a9c6e7'],\r\n                    color: {\r\n                        type: 'radial',\r\n                        x: 0.5,\r\n                        y: 0.5,\r\n                        r: 0.5,\r\n                        colorStops: [{\r\n                            offset: 0, color: '#7ee8ff' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.3, color: '#42ddff' // 100% 处的颜色\r\n                        }, {\r\n                            offset: 1, color: '#a9c6e7' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n                    shadowBlur: 0,\r\n                    shadowColor: '#05C3F9'\r\n                }\r\n            },\r\n            zlevel: 2\r\n        }, {\r\n            name: '枢纽站',\r\n            type: 'effectScatter',\r\n            left: '150',\r\n            coordinateSystem: 'geo',\r\n            symbol:'pin',//图标\r\n            data: convertData(data2),\r\n            symbolSize: function(val) {\r\n                return 15;\r\n            },\r\n            showEffectOn: 'render',\r\n            rippleEffect: {\r\n                brushType: 'stroke'\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: '{b}',\r\n                    position: 'bottom',\r\n                    color: '#fff', //字体颜色\r\n                    show: true\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n        //             color: '#fff',// 图标 颜色\r\n                    color: {\r\n                        type: 'radial',\r\n                        x: 0.5,\r\n                        y: 0.5,\r\n                        r: 0.5,\r\n                        colorStops: [{\r\n                            offset: 0, color: '#ffcb75' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.3, color: '#ffebc3' // 100% 处的颜色\r\n                        }, {\r\n                            offset: 1, color: '#f8dca2' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n                    shadowBlur: 0,\r\n                    shadowColor: '#05C3F9'\r\n                }\r\n            },\r\n            zlevel: 3\r\n        }, {\r\n            type: 'map',\r\n            mapType: 'shanghai',\r\n            geoIndex: 0,\r\n            aspectScale: 1, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            roam: true,\r\n            animation: false,\r\n            zoom: 3,\r\n            itemStyle: { //地图区域的多边形 图形样式\r\n                color: '#6f6ccf',// 图标颜色\r\n                normal: { //是图形在默认状态下的样式\r\n                    label: {\r\n                        show: false, //是否显示标签\r\n                        textStyle: {\r\n                            color: 'transparent'\r\n                        },\r\n                    },\r\n                    borderWidth: 1,\r\n                    borderColor: '#6f6ccf',\r\n                    areaColor: '#6f6ccf',\r\n                },\r\n                emphasis: { //是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时\r\n                    label: {\r\n                        show: false,\r\n                        textStyle: {\r\n                            color: 'transparent'\r\n                        },\r\n                    },\r\n                    borderColor: '#28729f',\r\n                    areaColor: '#9ea9f7',\r\n                }\r\n            },\r\n\r\n            data: data\r\n        }]\r\n    };\r\n    myChart.setOption(option);\r\n})\r\n// })","html":"","externalScripts":"","updaterUID":"bd-3223785317","theme":"","layout":"","viewCount":549,"userName":"1***子","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xrEDCIvNv1.png?v=1566242821196","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","series-effectScatter","series-map","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"1***子"}}