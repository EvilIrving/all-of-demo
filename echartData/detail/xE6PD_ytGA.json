{"status":0,"data":{"cid":"xE6PD_ytGA","authorUid":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","authorUserName":"秋***夜","title":"玫瑰图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2020-05-27T07:01:34.000Z","lastUpdateTime":"2020-05-27T07:01:34.000Z","auth":2,"uid":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.8.0","versionCreateTime":"2020-05-27T07:17:31.000Z","code":"    /*\r\n    使用多重饼图，构造伪玫瑰图\r\n    主要是for循环构造图像数据\r\n    以及使用 color: \"transparent\" 图像颜色透明\r\n    */\r\n    \r\n    //圆环比例为alist数值在总体的百分比\r\n    var alist = [106.32, 10.8, 18.61, 9.87, 15.22, 75.27];\r\n    //扇形高度为blist数值决定\r\n\tvar blist = [4.306, 5.495, 8.8, 3.2, 1.62, 2.25];\r\n\t//blist数值*length = 图像高度\r\n\tvar length = 10;\r\n    //clist为一个对比参考数值，未参加图形构造属性\r\n\tvar clist = [4.05, 2.95, 5, 2.1, 1.62, 2.25];\r\n\tvar pname = '资产配置';\r\n\tvar tcname = ['自营贷款','贴现','固定期限类','灵活期限类','存放央行','存放同业'];\r\n\tvar colorlist = ['#368BFF','#FCFF00','#FEC619','#01FEE3','#FF3F3A','#00FE06']\r\n\tvar msg = new Array();\r\n\tfor(i=0;i<alist.length;i++){\r\n\t    var ms = new Array();\r\n\t    if(i == 0){//添加一组标题数据\r\n\t        var ns = new Array();\r\n\t        for(j=0;j<alist.length;j++){\r\n    \t        ns.push({\r\n                    value: alist[j],\r\n                    name: tcname[j],\r\n                    hoverAnimation:false,\r\n                    itemStyle: {\r\n                        color: colorlist[j]\r\n                    }\r\n                });\r\n\t        }\r\n            msg.push({\r\n    \t        name: pname,\r\n    \t        type: 'pie',\r\n    \t        radius: [0,0],\r\n    \t        center: ['50%', '50%'],\r\n    \t        data:ns,\r\n    \t        label: {\r\n                    show: false\r\n                },\r\n                emphasis: {\r\n                    label: {\r\n                        show: false\r\n                    }\r\n                },\r\n    \t    });\r\n\t    }\r\n\t    for(j=0;j<alist.length;j++){//封装构造数据\r\n\t        if(i == j){\r\n\t            ms.push({\r\n\t                value: alist[j],\r\n\t                name: tcname[j],\r\n\t               // hoverAnimation:false,\r\n\t                itemStyle: {\r\n\t                   // color: colorlist[i],\r\n\t                },\r\n\t                label: {\r\n\t                    color: \"rgba(255,255,255,.45)\",\r\n\t                    fontSize: 12,\r\n\t                    formatter: '{a|'+tcname[i]+\"({d}%)}\",\r\n\t                    rich: {\r\n\t                        a: {\r\n\t                            color: \"#fff\",\r\n\t                            fontSize: 12,\r\n\t                            lineHeight: 12\r\n\t                        },\r\n\t                    }\r\n\t                }\r\n\t            });\r\n\t        }else{\r\n\t            ms.push({\r\n\t                value: alist[j],\r\n\t                name: tcname[j],\r\n\t                itemStyle: {\r\n\t                    color: \"transparent\"\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    }\r\n\t    msg.push({\r\n\t        name: pname,\r\n\t        type: 'pie',\r\n\t        radius: [50, 50 + blist[i] * length],\r\n\t        center: ['50%', '50%'],\r\n\t        data:ms,\r\n\t    });\r\n\t}\r\n\r\n\toption = {\r\n\t    backgroundColor: \"#03141c\",\r\n\t    title: {\r\n\t        text: \"资产配置\",\r\n\t        x: 'center',\r\n\t        y: 'center',\r\n\t        textStyle: {\r\n\t            color: \"#fff\",\r\n\t            fontSize: 14,\r\n\t            fontWeight: 'normal'\r\n\t        },\r\n\t    },\r\n\t    tooltip: {\r\n\t        trigger: 'item',\r\n\t        formatter: function (v) {\r\n\t        \tvar key = v.dataIndex;\r\n\t\t        return tcname[key]+\":<br>金额: \"+alist[key]+\" 亿元<br>加权平均利率: \"+blist[key]+\"%<br>市场参考利率: \"+clist[key]+\"%\";\r\n\t         }\r\n\t    },\r\n\t    color: colorlist,\r\n\t    legend: {\r\n\t        x: 'center',\r\n\t        y: '80%',\r\n\t        textStyle: {\r\n\t            color: '#fff',\r\n\t        },\r\n\t        data: tcname\r\n\t    },\r\n\t    calculable: true,\r\n\t    series: msg\r\n\t};","html":"","externalScripts":"","updaterUID":"obd-oMCV8rZ6sqbWPIEyccNr1UmdKk0zY28","theme":"","layout":"","viewCount":2149,"userName":"秋***夜","commentCount":0,"starCount":7,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xE6PD_ytGA.png?v=1590563851898","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title","tooltip"],"customTags":["伪玫瑰图","多图叠加","数据构造","玫瑰图"],"updaterUserName":"秋***夜"}}