{"status":0,"data":{"cid":"xDZgBfM5g","authorUid":"bd-289450008","authorUserName":"T***3","title":" \n计划数量\n实际产出\n达成率\n生产效率","description":"","latestVersion":9,"alwaysLatest":1,"createTime":"2020-03-11T09:05:12.000Z","lastUpdateTime":"2020-03-11T09:05:12.000Z","auth":2,"uid":"bd-289450008","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":9,"parentVersion":8,"echartsVersion":"4.4.0","versionCreateTime":"2020-03-11T10:26:50.000Z","code":"var data = {\r\n   title: ['总计', '北京', '上海', '浙江', '深圳', '广东', '宁波', '云南', '江苏', '湖南','其他'],\r\n   plan_production: [500, 300, 490, 333, 346, 777, 888, 864, 789, 765,500],\r\n   actual_production: [300, 400, 500, 300, 400, 500, 300, 400, 500, 500,500],\r\n   attainment_rate: [60, 80, 90, 60, 70, 80, 90, 60, 70, 90,500],\r\n   productivity_1: [30, 45, 88, 100, 110, 70, 80, 90, 100, 100,500],\r\n   productivity_2: [30, 45, 88, 100, 110, 70, 80, 90, 100, 100,500],\r\n   productivity_3: [30, 45, 88, 100, 110, 70, 80, 90, 100, 100,500],\r\n   productivity_4: [30, 45, 88, 100, 110, 70, 80, 90, 100, 100,500]\r\n};\r\n\r\nfor (var pr in data) {\r\n   data[pr] = data[pr].slice(1, -1);\r\n}\r\n\r\nfunction getTableLine(num) {\r\n   var list = [];\r\n   var bottom = 180; //控制线的位置\r\n   var height = 20;\r\n   for (var i = 0; i < num; i++) {\r\n       list.push({\r\n           type: 'line',\r\n           bottom: bottom - i * height,\r\n           right: 80,\r\n           style: {\r\n               fill: '#333'\r\n           },\r\n           shape: {\r\n               x1: 0,\r\n               y1: 0,\r\n               x2: 3200,\r\n               y2: 0,\r\n           }\r\n\r\n       });\r\n   }\r\n   return list;\r\n}\r\nvar lineList = getTableLine(8);\r\n\r\n\r\noption = {\r\n   color: ['#4472c4','#ed7d31', '#ffc000','#5b9bd5','#','70ad47','#264478','#a5a5a5'],\r\n   title: [{\r\n       text: ' \\n其他\\n停业转型\\n立案侦查\\n失联跑路\\n僵尸企业\\n清盘推出\\n拟停业',\r\n       bottom: 35, //控制表格Y轴方向\r\n       left: 10,\r\n       textStyle: {\r\n           lineHeight: 20,\r\n           fontSize: 13,\r\n           fontWeight: 'normal',\r\n           formatter: function(value) {\r\n               return '{table|' + value + '}';\r\n           },\r\n           rich: {\r\n               table: {\r\n                   align: 'center'\r\n               }\r\n           }\r\n       }\r\n   }],\r\n   tooltip: {\r\n       trigger: 'axis',\r\n       axisPointer: {\r\n           type: 'cross',\r\n           label: {\r\n               backgroundColor: '#283b56'\r\n           }\r\n       }\r\n   },\r\n   legend: {\r\n       data: ['其他', '停业转型', '立案侦查', '失联跑路', '僵尸企业', '清盘推出', '拟停业']\r\n   },\r\n   grid: {\r\n       bottom: 210,\r\n       left: 80,\r\n       right: 80\r\n   },\r\n   xAxis: [{\r\n       type: 'category',\r\n       boundaryGap: true,\r\n       data: data.title,\r\n       axisTick: {\r\n           length: 170//竖线的长度\r\n       },\r\n       axisLabel: {\r\n           formatter: function(value, index) {\r\n               var indexNum = 0;\r\n              for(var i = 0; i < data.title.length; i++){\r\n                  if(value == data.title[i]){\r\n                      indexNum = i;\r\n                  }\r\n              }\r\n              return '{table|' + value +\r\n                  '}\\n{table|' + data.plan_production[indexNum] +\r\n                  '}\\n{table|' + data.actual_production[indexNum] +\r\n                  '}\\n{table|' + data.attainment_rate[indexNum] +\r\n                  '}\\n{table|' + data.productivity_1[indexNum] + \r\n                  '}\\n{table|' + data.productivity_2[indexNum] +\r\n                  '}\\n{table|' + data.productivity_3[indexNum] +\r\n                  '}\\n{table|' + data.productivity_4[indexNum] +'}';\r\n           },\r\n           rich: {\r\n               table: {\r\n                   lineHeight: 20,\r\n                   align: 'center'\r\n               }\r\n           }\r\n       }\r\n   }],\r\n   yAxis: [{\r\n       type: 'value',\r\n       scale: true,\r\n       minInterval: 1,\r\n       name: '数量',\r\n       axisLine: {\r\n           show:false\r\n       },\r\n       splitLine: {\r\n           show: true,\r\n           color:'#333'\r\n       },\r\n       min: function(v) {\r\n           return Math.max((v.min - 20), 0);\r\n       }\r\n   }],\r\n   series: [{\r\n       name: '其他',\r\n       stack:'aa',\r\n       type: 'bar',\r\n       barWidth: '40px',\r\n       label: {\r\n           show: true,\r\n           position: 'top'\r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.plan_production\r\n   }, {\r\n       name: '停业转型',\r\n       stack:'aa',\r\n       type: 'bar',\r\n       label: {\r\n           show: true,\r\n           position: 'top'\r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.actual_production\r\n   }, {\r\n       name: '立案侦查',\r\n       stack:'aa',\r\n       type: 'bar',\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n           \r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.attainment_rate\r\n   }, {\r\n       name: '失联跑路',\r\n       type: 'bar',\r\n       stack:'aa',\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n          \r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.productivity_1\r\n   }\r\n   , {\r\n       name: '僵尸企业',\r\n       type: 'bar',\r\n       stack:'aa',\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n          \r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.productivity_2\r\n   }\r\n   , {\r\n       name: '清盘推出',\r\n       type: 'bar',\r\n       stack:'aa',\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n          \r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.productivity_3\r\n   }\r\n   , {\r\n       name: '拟停业',\r\n       type: 'bar',\r\n       stack:'aa',\r\n       label: {\r\n           show: true,\r\n           position: 'top',\r\n          \r\n       },\r\n       yAxisIndex: 0,\r\n       data: data.productivity_4\r\n   }\r\n   ],\r\n   graphic: lineList\r\n};","html":"","externalScripts":"","updaterUID":"bd-289450008","theme":"","layout":"","viewCount":6378,"userName":"T***3","commentCount":0,"starCount":23,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xDZgBfM5g.png?v=1583922410282","isCustomThumbnail":0,"builtinTags":["category-work","graphic","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"T***3"}}