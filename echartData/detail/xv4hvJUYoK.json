{"status":0,"data":{"cid":"xv4hvJUYoK","authorUid":"obd-olnljqE8VWLRT4wRyH-5qwCIAhDuQ0D","authorUserName":"d***0","title":"闭合线图","description":"","latestVersion":10,"alwaysLatest":0,"createTime":"2021-10-13T03:27:10.000Z","lastUpdateTime":"2021-10-13T08:52:23.000Z","auth":1,"uid":"obd-olnljqE8VWLRT4wRyH-5qwCIAhDuQ0D","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":10,"parentVersion":9,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-13T08:52:23.000Z","code":"// 传入 需要计算的 x，返回 y\nfunction getY(x, a, b) {\n  return (b / a) * Math.sqrt(a * a - x * x);\n}\n\n/*** getCPoint函数，用于获取椭圆边坐标\n * a-椭圆的长半径\n * b-椭圆的短半径\n * px-边的x轴递进粒度\n * cx-圆心x轴坐标\n * cy-圆心y轴坐标\n ***/\nfunction getCPoint({ a, b, px = 0.1, cx = 0, cy = 0 }) {\n  const data = [];\n  //const x0=-a+2<0?-a+2:-a+2\n  //const x1=a-2>0?a-2:a-2\n  //for (let x = -a; x <= x0; x = x + px) {\n  //  let y = getY(Number(x.toFixed(1)), a, b)\n  //  data.push([Number((cx + x).toFixed(1)) * 10, y + cy])\n  //}\n  for (let x = -a; x <= a + px; x = x + px) {\n    let y = getY(Number(x.toFixed(1)), a, b);\n    data.push([Number((cx + x).toFixed(1)) * 10, y + cy]);\n  }\n  //data.push(...data.map(x=>[x[0],-x[1]]))\n  return data;\n}\nfunction getScenes(n = 40) {\n  const data = [];\n  for (let i = 1; i <= n; i = i + 0.1) {\n    data.push(Number(i.toFixed(1)));\n  }\n  data.push(n);\n  //console.log(data);\n  return data;\n}\nfunction getEspScenes(n = 40) {\n  const data = [];\n  for (let i = 1; i <= 40; i = i + 1) {\n    data.push(`1#${i}`);\n    if (i !== n) {\n      for (let j = 0; j < 9; j = j + 1) {\n        data.push('');\n      }\n    }\n  }\n  //console.log(data);\n  return data;\n}\nfunction getSeries() {\n  const data = [];\n  for (let i = 1; i <= 20; i = i + 1) {\n    const rand = Math.random()\n    a = Math.floor(Math.random() * 10);\n    b = (a > 10 ? 10 : a)+rand;\n    c = 10 + Math.floor(Math.random() * 20);\n    data.push({\n      type: 'line',\n      showSymbol: false,\n      smooth: true,\n      clip: true,\n      data: getCPoint({ a: a, b: b, cx: c, cy: 0 }),\n    });\n  }\n  return data;\n}\n\noption = {\n  animation: false,\n  grid: {\n    top: 40,\n    left: 50,\n    right: 40,\n    bottom: 50,\n  },\n  tooltip: {\n    trigger: 'none',\n    axisPointer: {\n      type: 'cross',\n    },\n  },\n  xAxis: [\n    {\n      name: '',\n      boundaryGap: false,\n      minorTick: {\n        show: true,\n      },\n      minorSplitLine: {\n        show: true,\n      },\n      axisLabel: {\n        interval: 9,\n        rotate: 60,\n      },\n      data: getEspScenes(),\n    },\n    {\n      name: '',\n      boundaryGap: false,\n      minorTick: {\n        show: true,\n      },\n      minorSplitLine: {\n        show: true,\n      },\n      axisLabel: {\n        interval: 9,\n      },\n      data: getScenes(),\n    },\n  ],\n  yAxis: {\n    name: '',\n    min: -30,\n    max: 30,\n    minorTick: {\n      show: true,\n    },\n    minorSplitLine: {\n      show: true,\n    },\n  },\n  dataZoom: [\n    {\n      show: true,\n      type: 'inside',\n      filterMode: 'none',\n      xAxisIndex: [0, 1],\n    },\n    {\n      show: true,\n      type: 'inside',\n      filterMode: 'none',\n      yAxisIndex: [0],\n      startValue: -20,\n      endValue: 20,\n    },\n  ],\n  series: [...getSeries()],\n};\n","html":"","externalScripts":"","updaterUID":"obd-olnljqE8VWLRT4wRyH-5qwCIAhDuQ0D","theme":"","layout":"","viewCount":0,"userName":"d***0","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xv4hvJUYoK.png?v=1634115143619","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","title"],"customTags":["line"],"updaterUserName":"d***0"}}