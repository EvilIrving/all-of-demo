{"status":0,"data":{"cid":"xHyRqLm-Zb","authorUid":"bd-2654188288","authorUserName":"h***u","title":"折线图动态刷新","description":"5s刷新一次折线图","latestVersion":2,"alwaysLatest":1,"createTime":"2017-05-23T03:03:49.000Z","lastUpdateTime":"2018-01-31T02:35:20.000Z","auth":1,"uid":"bd-2654188288","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"3.8.0","versionCreateTime":"2017-11-09T05:52:20.000Z","code":"option_inter = {\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n                label: {\n                    backgroundColor: '#283b56'\n                }\n            }\n        },\n            legend: {\n                data:['output', 'input']\n            },\n            dataZoom: {\n                show: false,\n                start: 0,\n                end: 100\n            },\n            xAxis: [\n                {\n                    type: 'category',\n                    boundaryGap: true,\n                    data: []\n                }\n            ],\n            yAxis: [\n                {\n                    type: 'value',\n                    scale: true,\n                    name: 'KB/s',\n                    //max: 30,\n                    min: 0,\n                    boundaryGap: [0.2, 0.2]\n                }\n            ],\n            series: [\n                {\n                    name:'output',\n                    type:'line',\n                    data:[]\n                },\n                {\n                    name:'input',\n                    type:'line',\n                    data:[]\n                }\n            ]\n        }\n\nsetInterval(function (){\n    axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\n    var in_data = (Math.random() * 10 + 5).toFixed(1) - 0;\n    var out_data = (Math.random() * 10 + 5).toFixed(1) - 0;\n\n    var data_inter_out = option_inter.series[0].data;\n    var data_inter_in = option_inter.series[1].data;\n    if(data_inter_out.length<=20){\n        data_inter_out.push(out_data);\n        data_inter_in.push(in_data);\n        option_inter.xAxis[0].data.push(axisData); \n    }else{\n        data_inter_out.shift();\n        data_inter_out.push(out_data);\n        data_inter_in.shift();\n        data_inter_in.push(in_data);\n        option_inter.xAxis[0].data.shift();\n        option_inter.xAxis[0].data.push(axisData);\n    }\n    myChart.setOption(option_inter); \n},5000);\n\nvar data_inter_out = option_inter.series[0].data;\nvar data_inter_in = option_inter.series[1].data;\nvar axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\nvar in_data = (Math.random() * 10 + 5).toFixed(1) - 0;\nvar out_data = (Math.random() * 10 + 5).toFixed(1) - 0;\ndata_inter_out.push(out_data);\ndata_inter_in.push(in_data);\noption_inter.xAxis[0].data.push(axisData);\nmyChart.setOption(option_inter);","html":"","externalScripts":"","updaterUID":"bd-2054318809","theme":"vintage","layout":"","viewCount":1084,"userName":"h***u","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHyRqLm-Zb.png?v=1510206740255","isCustomThumbnail":0,"builtinTags":[],"customTags":[],"updaterUserName":"短发II222"}}