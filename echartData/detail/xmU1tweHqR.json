{"status":0,"data":{"cid":"xmU1tweHqR","authorUid":"obd-oEwgamOhRLOuIwOtvmGm6PLs1C3ys4w","authorUserName":"1***了","title":"双Y轴折线图+柱状图","description":"近七天告警数量及确认时长","latestVersion":2,"alwaysLatest":1,"createTime":"2020-10-26T09:25:06.000Z","lastUpdateTime":"2020-10-26T09:25:06.000Z","auth":1,"uid":"obd-oEwgamOhRLOuIwOtvmGm6PLs1C3ys4w","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.9.0","versionCreateTime":"2021-05-12T06:32:03.000Z","code":"var xData = ['9号线', '7号线', '6号线', '11号线', '8号线', '1号线', \n'2号线', '3号线', '4号线', '5号线', '12号线', '13号线', '10号线', \n'16号线', '17号线', '2号线', '浦江线', '18号线'],\n    yData1 = [2, 3, 4, 5, 5, 6, 6, 6, 7, 7, 7,7,7,8,8,9,10,11],\n    yData4 = [3, 5, 3, 2, 5, 7, 4,3, 5, 3, 2, 5, 2, 4,6,5,3,7],\n    borderData = [],\n    legend = ['行车间隔(min)', '平均满载率(min)'],\n    colorArr = [\n        {\n            start: 'rgba(82, 249, 107,',\n            end: 'rgba(18, 58, 86,0.5)',\n        },\n        {\n            color: '#00EAFF',\n        },\n    ];\nvar normalColor = '#254081';\nvar labelColor = '#8FBEE7';\nlet seriesData = [];\nvar borderHeight = 4;\nxData.forEach((element) => {\n    borderData.push(borderHeight);\n});\n[yData1, yData4].forEach((item, index) => {\n    var obj1 = {};\n    if (index < 1) {\n        obj1 = {\n            name: legend[index],\n            type: 'bar',\n            stack: legend[index],\n            data: item,\n            barWidth: '15%',\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        if (params.dataIndex < 3) {\n                            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: '#BAFF4D',https://echarts.apache.org/zh/index.html\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(23, 223, 160, 0)',\n                                },\n                            ]);\n                        } else if (params.dataIndex > (yData1.length)-4) {\n                            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: '#E02929',\n                                },\n                                {\n                                    offset: 0.75,\n                                    color: 'rgba(115, 62, 140, 0.46)',\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(23, 79, 223, 0)',\n                                },\n                            ]);\n                        } else {\n                            return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: '#29A9E0',\n                                },\n                                {\n                                    offset: 1,\n                                    color: 'rgba(23, 79, 223, 0)',\n                                },\n                            ]);\n                        }\n                    },\n                },\n            },\n        };\n        seriesData.push(obj1);\n    } else {\n        var obj3 = {\n            name: legend[index],\n            type: 'line',\n            yAxisIndex: 1,\n            smooth: false,\n            symbol: 'circle',\n            symbolSize: 9,\n            lineStyle: {\n                normal: {\n                    width: 2,\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                                {\n                                    offset: 0,\n                                    color: '#F62D2D',\n                                },\n                                {\n                                    offset: 1,\n                                    color: '#FFEF99',\n                                },\n                            ]),\n                    borderColor: '#F7473B',\n                    borderWidth: 3,\n                },\n            },\n            data: item,\n            label: {\n                normal: {\n                    show: false,\n                },\n            },\n        };\n        seriesData.push(obj3);\n    }\n});\noption = {\n    backgroundColor: '#020933',\n    grid: {\n        left: '2%',\n        top: '16%',\n        right: '2%',\n        bottom: '2%',\n        containLabel: true,\n    },\n    legend:  [\n  {\n    icon: \"bar\",\n    textStyle: {\n      color: \"#2efcfa\",\n    },\n    data: legend[0],\n    x: \"left\"\n  },\n  {\n    // icon: \"bar\",\n    textStyle: {\n      color: \"#2efcfa\",\n    },\n    data: legend[1],\n    x: \"right\",\n  }\n],\n    // {\n        \n    //     show: true,\n    //     // icon: \"rect\",\n    //     // itemWidth: 50,\n    //     // itemHeight: 5,\n    //     // left: \"27%\",\n    //     // top: \"5%\",\n    //     align:''\n    //     textStyle: {\n    //         color: \"#fff\"\n    //     },\n    //     data: legend\n    // },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function (params) {\n            var str = '';\n            for (var i = 0; i < params.length; i++) {\n                if (params[i].seriesName !== '') {\n                    str += params[i].name + ' ' + params[i].seriesName + ': ' + params[i].value + '<br/>';\n                }\n            }\n            return str;\n        },\n    },\n    xAxis: [\n        {\n            type: 'category',\n            data: xData,\n            axisPointer: {\n                type: 'shadow',\n            },\n            axisLabel: {\n                textStyle: {\n                    color: labelColor,\n                    fontSize: 14,\n                },\n                rotate:'30'\n            },\n            axisLine: {\n                lineStyle: {\n                    color: normalColor,\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n        },\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            // name: \"个数\",\n            // nameTextStyle: {\n            //     color: normalColor,\n            //     fontSize: 15\n            // },\n            axisLabel: {\n                formatter: '{value}',\n                textStyle: {\n                    color: labelColor,\n                    fontSize: 14,\n                },\n            },\n            axisLine: {\n                lineStyle: {\n                    color: normalColor,\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                lineStyle: {\n                    color: normalColor,\n                },\n            },\n        },\n        {\n            type: \"value\",\n            // name: \"分钟\",\n            // nameTextStyle: {\n            //     color: normalColor,\n            //     fontSize: 14,\n            // },\n            // min: 0,\n            // max: 200,\n            axisLabel: {\n                formatter: '{value}',\n                textStyle: {\n                    color: labelColor,\n                    fontSize: 14,\n                },\n            },\n            axisLine: {\n                lineStyle: {\n                    color: normalColor,\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n                lineStyle: {\n                    type: 'dashed',\n                    color: normalColor,\n                },\n            },\n        },\n    ],\n    series: seriesData,\n};\n","html":"","externalScripts":"","updaterUID":"bd-4286708132","theme":"","layout":"","viewCount":717,"userName":"1***了","commentCount":0,"starCount":6,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xmU1tweHqR.png?v=1620801123921","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","tooltip"],"customTags":[],"updaterUserName":"L***h"}}