{"status":0,"data":{"cid":"x7EN6FD5R6","authorUid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","authorUserName":"z***d","title":"设备使用情况","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-12-10T06:39:11.000Z","lastUpdateTime":"2020-12-10T06:39:11.000Z","auth":2,"uid":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-12-10T06:39:11.000Z","code":"let color = ['#83a1c5', '#45d7ff'];\nlet data = {\n    bracelet: [{name: '正在使用', value: 18}, {name: '未使用', value: 82}],\n    mattress: [{name: '正在使用', value: 45}, {name: '未使用', value: 55}]\n}\n\noption = {\n    backgroundColor: '#031930',\n    title: [\n        // 图片\n        {\n            text: '{img|手环}',\n            textStyle: {\n                rich: {\n                    img: {\n                        color: 'red',\n                        backgroundColor: {\n                            image: ''\n                        },\n                        align: 'center'\n                    }\n                }\n            },\n            top: '15%',\n            left: '21%'\n        },\n        {\n            text: '智能工作手表\\n使用率',\n            textStyle: {\n                color: '#82a1c4',\n            },\n            textAlign: 'center',\n            top: '15%',\n            left: '30%'\n        },\n        // 图片\n        {\n            text: '{img|床垫}',\n            textStyle: {\n                rich: {\n                    img: {\n                        color: 'red',\n                        backgroundColor: {\n                            image: ''\n                        },\n                        align: 'center'\n                    }\n                }\n            },\n            top: '15%',\n            left: '61%'\n        },\n        {\n            text: '智能检测床垫\\n使用率',\n            textStyle: {\n                color: '#82a1c4',\n            },\n            textAlign: 'center',\n            top: '15%',\n            left: '70%'\n        },\n        ],\n    legend: {\n        data: ['正在使用', '未使用'],\n        orient: 'horizontal',\n        bottom: '20%',\n        itemWidth: 14,\n        itemHeight: 14,\n        textStyle: {\n            color: '#82a1c4'\n        },\n        selectedMode: false\n    },\n    series: [{\n        type: 'pie',\n        data: data.bracelet,\n        silent: true,\n        center: ['30%', '50%'],\n        radius: '40%',\n        label: {\n            show: true,\n            position: 'inside',\n            formatter: function(value) {\n                return value.value + '%';\n            },\n            color: '#111',\n        },\n        labelLine: {\n            show: false\n        }\n    }, {\n        type: 'pie',\n        data: data.mattress,\n        silent: true,\n        center: ['70%', '50%'],\n        radius: '40%',\n        label: {\n            show: true,\n            position: 'inside',\n            formatter: function(value) {\n                return value.value + '%';\n            },\n            color: '#111'\n        },\n        labelLine: {\n            show: false\n        }\n    }, {\n        type: 'pie',\n        silent: true,\n        center: ['30%', '50%'],\n        radius: '44%',\n        label: {\n            show: false\n        },\n        data: [100],\n        labelline: {\n            show: false\n        },\n        itemStyle: {\n            color: '#022d52'\n        },\n        z: -1\n    }, {\n        type: 'pie',silent: true,\n        center: ['70%', '50%'],\n        radius: '44%',\n        label: {\n            show: false,\n        },\n        data: [100],\n        labelLine: {\n            show: false,\n        },\n        itemStyle: {\n            color: '#022d52'\n        },\n        z: -1\n        \n    }],\n    color: color\n};\n\n// 模拟数据\nfunction vdata() {\n    let b = 100;\n    let m = 100;\n    for(let i = 0; i < data.bracelet.length; i++) {\n        if(i === data.bracelet.length - 1) {\n            data.bracelet[i].value = b;\n            data.mattress[i].value = m;\n        }else {\n            data.bracelet[i].value = Math.floor(Math.random() * b + 1);\n            data.mattress[i].value = Math.floor(Math.random() * m + 1);\n            b = b - data.bracelet[i].value;\n            m = m - data.mattress[i].value;\n        }\n    }\n    option.series[0].data = data.bracelet;\n    option.series[1].data = data.mattress;\n    myChart.setOption(option, true);\n}\n\nsetInterval(function() {\n    vdata();\n}, 1000);","html":"","externalScripts":"","updaterUID":"obd-oFx66cI7fBZ8DeVhgELO6zqq4se6p5w","theme":"","layout":"","viewCount":51,"userName":"z***d","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x7EN6FD5R6.png?v=1607582351537","isCustomThumbnail":0,"builtinTags":["category-work","legend","series-pie","title"],"customTags":[],"updaterUserName":"z***d"}}