{"status":0,"data":{"cid":"x4OMFqT5e1","authorUid":"bd-779443","authorUserName":"乱***尚","title":"新疆2","description":"","latestVersion":5,"alwaysLatest":1,"createTime":"2019-05-08T08:04:08.000Z","lastUpdateTime":"2019-05-08T08:04:08.000Z","auth":2,"uid":"bd-779443","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":5,"parentVersion":4,"echartsVersion":"4.2.1","versionCreateTime":"2019-08-08T06:10:01.000Z","code":"// 获取新疆地区的json文件\nvar uploadedDataURL = \"/asset/get/s/data-1507863641060-Sy-whsTh-.json\";\n\n// 请求的方式获取\n$.get(uploadedDataURL, function(as) {\n    echarts.registerMap('xj', as);\n    var geoCoordMap = {\n        '巴音郭楞蒙古': [88.1653, 39.6002],\n        '和田': [81.167, 36.9855],\n        '哈密': [93.7793, 42.9236],\n        '阿克苏': [82.9797, 41.0229],\n        '阿勒泰': [88.2971, 47.0929],\n        '喀什': [77.168, 37.8534],\n        '塔城': [86.6272, 45.8514],\n        '昌吉': [89.6814, 44.4507],\n        '克孜勒苏柯尔克孜': [74.6301, 39.5233],\n        '吐鲁番': [89.6375, 42.4127],\n        '伊犁哈萨克': [82.5513, 43.5498],\n        '博尔塔拉蒙古': [81.8481, 44.6979],\n        '乌鲁木齐': [87.9236, 43.5883],\n        '克拉玛依': [85.2869, 45.5054],\n        '阿拉尔': [81.2769, 40.6549],\n        '图木舒克': [79.1345, 39.8749],\n        '五家渠': [87.5391, 44.3024],\n        '石河子': [86.0229, 44.2914]\n    };\n\n    var data = [{\n        name: '巴音郭楞蒙古',\n        value: 15,\n    }, {\n        name: '和田',\n        value: 0\n    }, {\n        name: '哈密',\n        value: 0,\n    }, {\n        name: '阿克苏',\n        value: 0\n    }, {\n        name: '阿勒泰',\n        value: 15,\n    }, {\n        name: '喀什',\n        value: 0\n    }, {\n        name: '塔城',\n        value: 0,\n    }, {\n        name: '昌吉',\n        value: 0\n    }, {\n        name: '克孜勒苏柯尔克孜',\n        value: 0,\n    }, {\n        name: '吐鲁番',\n        value: 0\n    }, {\n        name: '伊犁哈萨克',\n        value: 0\n    }, {\n        name: '博尔塔拉蒙古',\n        value: 0,\n    }, {\n        name: '乌鲁木齐',\n        value: 15\n    }, {\n        name: '克拉玛依',\n        value: 0\n    }, {\n        name: '阿拉尔',\n        value: 0,\n    }, {\n        name: '图木舒克',\n        value: 0\n    }, {\n        name: '五家渠',\n        value: 0,\n    }, {\n        name: '石河子',\n        value: 0\n    }];\n\n    var convertData = function(data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                });\n            }\n        }\n        // 有数据的地区的名称和value值\n        return res;\n    };\n\n    // 设定series是一个空的数组\n    var series = [];\n    [\n        ['xj', data]\n    ].forEach(function(item, i) {\n        series.push({\n            name: '定位点',\n            type: 'effectScatter', // 散点图\n            coordinateSystem: 'geo', // 使用地理坐标系\n            legendHoverLink: 'true',\n            rippleEffect: {\n                period: 5,\n                brushType: 'fill',\n                scale: 3\n            },\n            data: convertData(item[1]),\n            symbolSize: function(val) {\n                return val[2]\n            },\n            itemStyle: {\n                normal: {\n                    color: '#ffed00',\n                }\n            },\n            zlevel: 1,\n        }, {\n            type: 'map',\n            map: 'xj',\n            geoIndex: 0,\n            roam: true,\n            data: data\n        });\n    });\n\n    option = {\n        backgroundColor: '#00265f',\n        selectedMode: 'single',\n        geo: {\n            show: true,\n            map: 'xj',\n            roam: true,\n            zoom: 1,\n            label: {\n                normal: {\n                    show: true,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: \"#114284\",\n                    borderColor: \"#279be5\",\n                    borderWidth: 1.5,\n                    color: \"rgba(0,0,0,0)\",\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 1\n                },\n                emphasis: {\n                    areaColor: '#009be5',\n                }\n            },\n        },\n        series: series\n    };\n    myChart.setOption(option);\n\n    myChart.on('click', function(params) {\n        console.log(params);\n    });\n\n});","html":"","externalScripts":"","updaterUID":"bd-779443","theme":"","layout":"","viewCount":3725,"userName":"乱***尚","commentCount":1,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4OMFqT5e1.png?v=1565244601946","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map"],"customTags":[],"updaterUserName":"乱***尚"}}