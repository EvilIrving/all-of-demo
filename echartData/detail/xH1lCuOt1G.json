{"status":0,"data":{"cid":"xH1lCuOt1G","authorUid":"bd-1025214267","authorUserName":"d***e","title":"时间轴","description":"时间轴-20171105","latestVersion":4,"alwaysLatest":1,"createTime":"2017-11-15T08:20:24.000Z","lastUpdateTime":"2017-11-15T08:20:24.000Z","auth":2,"uid":"bd-1025214267","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"3.8.0","versionCreateTime":"2018-06-08T10:16:03.000Z","code":"var walk = 'path://M29.902,23.275c1.86,0,3.368-1.506,3.368-3.365c0-1.859-1.508-3.365-3.368-3.365 c-1.857,0-3.365,1.506-3.365,3.365C26.537,21.769,28.045,23.275,29.902,23.275z M36.867,30.74c-1.666-0.467-3.799-1.6-4.732-4.199 c-0.932-2.6-3.131-2.998-4.797-2.998s-7.098,3.894-7.098,3.894c-1.133,1.001-2.1,6.502-0.967,6.769 c1.133,0.269,1.266-1.533,1.934-3.599c0.666-2.065,3.797-3.466,3.797-3.466s0.201,2.467-0.398,3.866 c-0.599,1.399-1.133,2.866-1.467,6.198s-1.6,3.665-3.799,6.266c-2.199,2.598-0.6,3.797,0.398,3.664 c1.002-0.133,5.865-5.598,6.398-6.998c0.533-1.397,0.668-3.732,0.668-3.732s0,0,2.199,1.867c2.199,1.865,2.332,4.6,2.998,7.73 s2.332,0.934,2.332-0.467c0-1.401,0.269-5.465-1-7.064c-1.265-1.6-3.73-3.465-3.73-5.265s1.199-3.732,1.199-3.732 c0.332,1.667,3.335,3.065,5.599,3.399C38.668,33.206,38.533,31.207,36.867,30.74z';\r\n\r\nDate.prototype.Format = function (fmt) {  \r\n    var o = {  \r\n        \"M+\": this.getMonth() + 1, //月份   \r\n        \"d+\": this.getDate(), //日   \r\n        \"h+\": this.getHours(), //小时   \r\n        \"m+\": this.getMinutes(), //分   \r\n        \"s+\": this.getSeconds(), //秒   \r\n        \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度   \r\n        \"S\": this.getMilliseconds() //毫秒   \r\n    };  \r\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));  \r\n    for (var k in o)  \r\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));  \r\n    return fmt;  \r\n}\r\n\r\nfunction createTimeLineOption(){\r\n    var dayNum = 30,\r\n        dayArray = [],\r\n        data = [],\r\n        color = \"rgba(255,255,255, 1)\";\r\n\r\n    for(var i = 29; i >= 0; i--){\r\n        var today = new Date();\r\n        today.setDate(today.getDate() - i);\r\n        var dateStr = today.Format(\"yyyy-MM-dd\");\r\n        dayArray.push(dateStr);\r\n        var barItem = {\r\n            name: dateStr,\r\n            value: 1,\r\n            symbolPosition: 'center',\r\n            itemStyle:{\r\n                        normal:{\r\n                            opacity: i == 0 ? 1 : 0\r\n                        }\r\n                    }\r\n        };\r\n        data.push(barItem);\r\n    }\r\n\r\n    var option = {\r\n            backgroundColor:\"#333\",\r\n            color: [color],\r\n            tooltip : {\r\n                show: false,\r\n                formatter:function(params){\r\n                    return params.data.name;\r\n                }\r\n            },\r\n            grid: {\r\n                left: \"0.8%\",\r\n                right: \"3%\",\r\n                top: \"10%\",\r\n                bottom: \"84%\",\r\n                containLabel: true\r\n            },\r\n            xAxis : [\r\n                {\r\n                    type : 'category',\r\n                    data : dayArray,\r\n                    boundaryGap: false,\r\n                    axisLine:{\r\n                        lineStyle:{\r\n                            color: color\r\n                        }\r\n                    },\r\n                    axisTick: {\r\n                        interval: 0, //显示所有标签\r\n                        alignWithLabel: true,\r\n                        inside: true,\r\n                        lineStyle:{\r\n                            color: color\r\n                        }\r\n                    },\r\n                    axisLabel:{\r\n                        formatter:function(params){\r\n                            return params.substring(5);\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            yAxis : [\r\n                {\r\n                    type : 'value',\r\n                    max: 1,\r\n                    axisLine:{\r\n                        lineStyle:{\r\n                            color: '#ccc'\r\n                        }\r\n                    },\r\n                    axisTick:{\r\n                        show:false\r\n                    },\r\n                    axisLabel:{\r\n                        show:false\r\n                    },\r\n                    interval: 1,\r\n                    splitLine:{\r\n                        show:true\r\n                    }\r\n                },\r\n                {\r\n                    type : 'value',\r\n                    max: 1,\r\n                    axisLine:{\r\n                        lineStyle:{\r\n                            color: '#ccc'\r\n                        }\r\n                    },\r\n                    axisTick:{\r\n                        show:false\r\n                    },\r\n                    axisLabel:{\r\n                        show:false\r\n                    },\r\n                    splitLine:{\r\n                        show:false\r\n                    }\r\n                }\r\n            ],\r\n            series : [\r\n                {\r\n                    type: 'pictorialBar',\r\n                    name: 'pictorial element',\r\n                    symbol: walk,\r\n                    symbolSize: [10, 25],\r\n                    z: 10,\r\n                    data: data,\r\n                }\r\n            ]\r\n    };\r\n    return option;\r\n}\r\n\r\nvar option = createTimeLineOption();\r\n\r\nmyChart.on(\"click\", function(params){\r\n    var selectedDate = params.data.name;\r\n    var barData = option.series[0].data;\r\n    for(var i in barData){\r\n        if(barData[i].name == selectedDate){\r\n            barData[i].itemStyle.normal.opacity = 1;\r\n        }else {\r\n            barData[i].itemStyle.normal.opacity = 0;\r\n        }\r\n    }\r\n    myChart.setOption(option);\r\n\r\n    //selectedDate位当前选中时间\r\n})","html":"","externalScripts":"","updaterUID":"bd-1025214267","theme":"","layout":"","viewCount":316,"userName":"d***e","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xH1lCuOt1G.png?v=1528452963632","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-pictorialBar","tooltip"],"customTags":[],"updaterUserName":"d***e"}}