{"status":0,"data":{"cid":"xQydvx7m72","authorUid":"obd-o0Bq3PUP1t2Ud_T_Uvx95UZ6D1LKGFL","authorUserName":"178******57","title":" 自定义轮播显示详情","description":"上面大神的demo报错 我修改了一下而已","latestVersion":6,"alwaysLatest":1,"createTime":"2021-10-15T05:56:23.000Z","lastUpdateTime":"2021-11-29T10:16:26.000Z","auth":1,"uid":"obd-o0Bq3PUP1t2Ud_T_Uvx95UZ6D1LKGFL","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":6,"parentVersion":5,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-29T10:16:26.000Z","code":"var mapName = 'china';\nvar data = [\n    { name: '北京', value: 199 },\n    { name: '天津', value: 42 },\n    { name: '河北', value: 102 },\n    { name: '山西', value: 81 },\n    { name: '内蒙古', value: 47 },\n    { name: '辽宁', value: 67 },\n    { name: '吉林', value: 82 },\n    { name: '黑龙江', value: 123 },\n    { name: '上海', value: 24 },\n    { name: '江苏', value: 92 },\n    { name: '浙江', value: 114 },\n    { name: '安徽', value: 109 },\n    { name: '福建', value: 116 },\n    { name: '江西', value: 91 },\n    { name: '山东', value: 119 },\n    { name: '河南', value: 137 },\n    { name: '湖北', value: 116 },\n    { name: '湖南', value: 114 },\n    { name: '重庆', value: 91 },\n    { name: '四川', value: 125 },\n    { name: '贵州', value: 62 },\n    { name: '云南', value: 83 },\n    { name: '西藏', value: 9 },\n    { name: '陕西', value: 80 },\n    { name: '甘肃', value: 56 },\n    { name: '青海', value: 10 },\n    { name: '宁夏', value: 18 },\n    { name: '新疆', value: 180 },\n    { name: '广东', value: 123 },\n    { name: '广西', value: 59 },\n    { name: '海南', value: 14 },\n];\n\nvar geoCoordMap = {};\nvar toolTipData = [\n    {\n        name: '北京',\n        value: [\n            { name: '科技人才总数', value: 95 },\n            { name: '理科', value: 82 },\n        ],\n    },\n    {\n        name: '天津',\n        value: [\n            { name: '文科', value: 22 },\n            { name: '理科', value: 20 },\n        ],\n    },\n    {\n        name: '河北',\n        value: [\n            { name: '文科', value: 60 },\n            { name: '理科', value: 42 },\n        ],\n    },\n    {\n        name: '山西',\n        value: [\n            { name: '文科', value: 40 },\n            { name: '理科', value: 41 },\n        ],\n    },\n    {\n        name: '内蒙古',\n        value: [\n            { name: '文科', value: 23 },\n            { name: '理科', value: 24 },\n        ],\n    },\n    {\n        name: '辽宁',\n        value: [\n            { name: '文科', value: 39 },\n            { name: '理科', value: 28 },\n        ],\n    },\n    {\n        name: '吉林',\n        value: [\n            { name: '文科', value: 41 },\n            { name: '理科', value: 41 },\n        ],\n    },\n    {\n        name: '黑龙江',\n        value: [\n            { name: '文科', value: 35 },\n            { name: '理科', value: 31 },\n        ],\n    },\n    {\n        name: '上海',\n        value: [\n            { name: '文科', value: 12 },\n            { name: '理科', value: 12 },\n        ],\n    },\n    {\n        name: '江苏',\n        value: [\n            { name: '文科', value: 47 },\n            { name: '理科', value: 45 },\n        ],\n    },\n    {\n        name: '浙江',\n        value: [\n            { name: '文科', value: 57 },\n            { name: '理科', value: 57 },\n        ],\n    },\n    {\n        name: '安徽',\n        value: [\n            { name: '文科', value: 57 },\n            { name: '理科', value: 52 },\n        ],\n    },\n    {\n        name: '福建',\n        value: [\n            { name: '文科', value: 59 },\n            { name: '理科', value: 57 },\n        ],\n    },\n    {\n        name: '江西',\n        value: [\n            { name: '文科', value: 49 },\n            { name: '理科', value: 42 },\n        ],\n    },\n    {\n        name: '山东',\n        value: [\n            { name: '文科', value: 67 },\n            { name: '理科', value: 52 },\n        ],\n    },\n    {\n        name: '河南',\n        value: [\n            { name: '文科', value: 69 },\n            { name: '理科', value: 68 },\n        ],\n    },\n    {\n        name: '湖北',\n        value: [\n            { name: '文科', value: 60 },\n            { name: '理科', value: 56 },\n        ],\n    },\n    {\n        name: '湖南',\n        value: [\n            { name: '文科', value: 62 },\n            { name: '理科', value: 52 },\n        ],\n    },\n    {\n        name: '重庆',\n        value: [\n            { name: '文科', value: 47 },\n            { name: '理科', value: 44 },\n        ],\n    },\n    {\n        name: '四川',\n        value: [\n            { name: '文科', value: 65 },\n            { name: '理科', value: 60 },\n        ],\n    },\n    {\n        name: '贵州',\n        value: [\n            { name: '文科', value: 32 },\n            { name: '理科', value: 30 },\n        ],\n    },\n    {\n        name: '云南',\n        value: [\n            { name: '文科', value: 42 },\n            { name: '理科', value: 41 },\n        ],\n    },\n    {\n        name: '西藏',\n        value: [\n            { name: '文科', value: 5 },\n            { name: '理科', value: 4 },\n        ],\n    },\n    {\n        name: '陕西',\n        value: [\n            { name: '文科', value: 38 },\n            { name: '理科', value: 42 },\n        ],\n    },\n    {\n        name: '甘肃',\n        value: [\n            { name: '文科', value: 28 },\n            { name: '理科', value: 28 },\n        ],\n    },\n    {\n        name: '青海',\n        value: [\n            { name: '文科', value: 5 },\n            { name: '理科', value: 5 },\n        ],\n    },\n    {\n        name: '宁夏',\n        value: [\n            { name: '文科', value: 10 },\n            { name: '理科', value: 8 },\n        ],\n    },\n    {\n        name: '新疆',\n        value: [\n            { name: '文科', value: 36 },\n            { name: '理科', value: 31 },\n        ],\n    },\n    {\n        name: '广东',\n        value: [\n            { name: '文科', value: 63 },\n            { name: '理科', value: 60 },\n        ],\n    },\n    {\n        name: '广西',\n        value: [\n            { name: '文科', value: 29 },\n            { name: '理科', value: 30 },\n        ],\n    },\n    {\n        name: '海南',\n        value: [\n            { name: '文科', value: 8 },\n            { name: '理科', value: 6 },\n        ],\n    },\n];\n\nvar uploadedDataURL = 'https://gallerybox.makeapie.com/asset/get/s/data-1528971808162-BkOXf61WX.json';\n\n$(function () {\n    var geoCoordMap = {\n        台湾: [121.5135, 25.0308],\n        黑龙江: [127.9688, 45.368],\n        内蒙古: [110.3467, 41.4899],\n        吉林: [125.8154, 44.2584],\n        北京市: [116.4551, 40.2539],\n        辽宁: [123.1238, 42.1216],\n        河北: [114.4995, 38.1006],\n        天津: [117.4219, 39.4189],\n        山西: [112.3352, 37.9413],\n        陕西: [109.1162, 34.2004],\n        甘肃: [103.5901, 36.3043],\n        宁夏: [106.3586, 38.1775],\n        青海: [101.4038, 36.8207],\n        新疆: [87.9236, 43.5883],\n        西藏: [91.11, 29.97],\n        四川: [103.9526, 30.7617],\n        重庆: [108.384366, 30.439702],\n        山东: [117.1582, 36.8701],\n        河南: [113.4668, 34.6234],\n        江苏: [118.8062, 31.9208],\n        安徽: [117.29, 32.0581],\n        湖北: [114.3896, 30.6628],\n        浙江: [119.5313, 29.8773],\n        福建: [119.4543, 25.9222],\n        江西: [116.0046, 28.6633],\n        湖南: [113.0823, 28.2568],\n        贵州: [106.6992, 26.7682],\n        云南: [102.9199, 25.4663],\n        广东: [113.12244, 23.009505],\n        广西: [108.479, 23.1152],\n        海南: [110.3893, 19.8516],\n        上海: [121.4648, 31.2891],\n    };\n    $.getJSON(uploadedDataURL, '', function (geoJson) {\n        echarts.registerMap('china', geoJson);\n        var convertData = function (data) {\n            var res = [];\n            for (var i = 0; i < data.length; i++) {\n                var geoCoord = geoCoordMap[data[i].name];\n                if (geoCoord) {\n                    res.push({\n                        name: data[i].name,\n                        value: geoCoord.concat(data[i].value),\n                    });\n                }\n            }\n            return res;\n        };\n\n        var max = 480,\n            min = 9; // todo\n        var maxSize4Pin = 100,\n            minSize4Pin = 20;\n\n        option = {\n            tooltip: {\n                padding: 0,\n                enterable: true,\n                transitionDuration: 1,\n                textStyle: {\n                    color: '#000',\n                    decoration: 'none',\n                },\n                // position: function (point, params, dom, rect, size) {\n                //   return [point[0], point[1]];\n                // },\n                formatter: function (params) {\n                    // console.log(params)\n                    var tipHtml = '';\n                    tipHtml =\n                        '<div style=\"width:280px;height:240px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)\">' +\n                        '<div style=\"width:100%;height:40px;line-height:40px;border-bottom:2px solid rgba(7,166,255,0.7);padding:0 20px\">' +\n                        '<i style=\"display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;\">' +\n                        '</i>' +\n                        '<span style=\"margin-left:10px;color:#fff;font-size:16px;\">' +\n                        params.name +\n                        '</span>' +\n                        '</div>' +\n                        '<div style=\"padding:20px\">' +\n                        '<p style=\"color:#fff;font-size:12px;\">' +\n                        '<i style=\"display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px\">' +\n                        '</i>' +\n                        '单位总数：' +\n                        '<span style=\"color:#11ee7d;margin:0 6px;\">' +\n                        toolTipData.length +\n                        '</span>' +\n                        '个' +\n                        '</p>' +\n                        '<p style=\"color:#fff;font-size:12px;\">' +\n                        '<i style=\"display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px\">' +\n                        '</i>' +\n                        '总人数：' +\n                        '<span style=\"color:#f48225;margin:0 6px;\">' +\n                        toolTipData.length +\n                        '</span>' +\n                        '个' +\n                        '</p>' +\n                        '<p style=\"color:#fff;font-size:12px;\">' +\n                        '<i style=\"display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px\">' +\n                        '</i>' +\n                        '总人数：' +\n                        '<span style=\"color:#f4e925;margin:0 6px;\">' +\n                        toolTipData.length +\n                        '</span>' +\n                        '个' +\n                        '</p>' +\n                        '<p style=\"color:#fff;font-size:12px;\">' +\n                        '<i style=\"display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px\">' +\n                        '</i>' +\n                        '总人数：' +\n                        '<span style=\"color:#25f4f2;margin:0 6px;\">' +\n                        toolTipData.length +\n                        '</span>' +\n                        '个' +\n                        '</p>' +\n                        '</div>' +\n                        '</div>';\n                    // setTimeout(function () {\n                        // tooltipCharts(params.name);\n                    // }, 10);\n                    return tipHtml;\n                },\n            },\n   //左下角深度尺\n            visualMap: {\n                show: true,\n                min: 0,\n                max: 200,\n                left: '10%',\n                top: 'bottom',\n                calculable: true,\n                seriesIndex: [1],\n                inRange: {\n                    color: ['#04387b', '#467bc0'], // 蓝绿\n                },\n            },\n            geo: {\n                show: true,\n                map: mapName,\n                 roam: true,\n                zoom: 1,\n                label: {\n                    normal: {\n                        show: false,\n                    },\n                    emphasis: {\n                        show: false,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        areaColor: '#023677',\n                        borderColor: '#1180c7',\n                    },\n                    emphasis: {\n                        areaColor: '#4499d0',\n                    },\n                },\n            },\n            series: [\n                {\n                    name: '散点',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    data: convertData(data),\n                    symbolSize: function (val) {\n                        return val[2] / 10;\n                    },\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            position: 'right',\n                            show: true,\n                        },\n                        emphasis: {\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#fff',\n                        },\n                    },\n                },\n                {\n                    type: 'map',\n                    map: mapName,\n                    geoIndex: 0,\n                    aspectScale: 0.75, //长宽比\n                    showLegendSymbol: false, // 存在legend时显示\n                    label: {\n                        normal: {\n                            show: true,\n                        },\n                        emphasis: {\n                            show: false,\n                            textStyle: {\n                                color: '#fff',\n                            },\n                        },\n                    },\n                    roam: true,\n                    itemStyle: {\n                        normal: {\n                            areaColor: '#031525',\n                            borderColor: '#3B5077',\n                        },\n                        emphasis: {\n                            areaColor: '#2B91B7',\n                        },\n                    },\n                    animation: false,\n                    data: data,\n                },\n                {\n                    name: '点',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    zlevel: 6,\n                },\n                {\n                    name: 'Top 5',\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    data: convertData(\n                        data\n                            .sort(function (a, b) {\n                                return b.value - a.value;\n                            })\n                            .slice(0, 10)\n                    ),\n                    symbolSize: function (val) {\n                        return val[2] / 10;\n                    },\n                    showEffectOn: 'render',\n                    rippleEffect: {\n                        brushType: 'stroke',\n                    },\n                    hoverAnimation: true,\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            position: 'left',\n                            show: false,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: 'yellow',\n                            shadowBlur: 10,\n                            shadowColor: 'yellow',\n                        },\n                    },\n                    zlevel: 1,\n                },\n            ],\n        };\n\n        myChart.setOption(option);\n\n        var index = 0; //播放所在下标\n        var showTip = setInterval(function () {\n            myChart.dispatchAction({\n                type: 'showTip',\n                seriesIndex: 0,\n                dataIndex: index,\n            });\n            index++;\n            if (index >= option.series[0].data.length) {\n                index = 0;\n            }\n        }, 2000);\n\n        myChart.on('mouseover', function (params) {\n            console.log(params);\n            clearInterval(showTip);\n            myChart.dispatchAction({\n                type: 'showTip',\n                seriesIndex: 0,\n                dataIndex: params.dataIndex,\n            });\n        });\n\n        myChart.on('mouseout', function (params) {\n            showTip && clearInterval(showTip);\n            showTip = setInterval(function () {\n                myChart.dispatchAction({\n                    type: 'showTip',\n                    seriesIndex: 0,\n                    dataIndex: index,\n                });\n                index++;\n                if (index >= option.series[0].data.length) {\n                    index = 0;\n                }\n            }, 2000);\n        });\n    });\n});\n","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-oAt16IlBiqFJiqKYRy7eXecd817Qf73","theme":"","layout":"","viewCount":0,"userName":"178******57","commentCount":0,"starCount":3,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xQydvx7m72.png?v=1638180986542","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-map","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"隔***伟"}}