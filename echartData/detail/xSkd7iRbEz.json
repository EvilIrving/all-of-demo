{"status":0,"data":{"cid":"xSkd7iRbEz","authorUid":"bd-755801371","authorUserName":"文***潇","title":"气泡显示文字的迁徙图","description":"data from PM25.in（甲鱼是条狗）","latestVersion":1,"alwaysLatest":1,"createTime":"2018-01-09T06:03:12.000Z","lastUpdateTime":"2018-01-09T06:03:12.000Z","auth":2,"uid":"bd-755801371","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"3.8.0","versionCreateTime":"2018-01-09T06:03:12.000Z","code":"var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';\r\n\r\n\t\tvar provs = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"北京\",\r\n\t\t\t\t\torder_count : 120000,\r\n\t\t\t\t\tmail_count : 91000,\r\n\t\t\t\t\tclct_count : 78000,\r\n\t\t\t\t\tclct_ratio : 87.01\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"上海\",\r\n\t\t\t\t\torder_count : 100000,\r\n\t\t\t\t\tmail_count : 71000,\r\n\t\t\t\t\tclct_count : 58000,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"江苏\",\r\n\t\t\t\t\torder_count : 90000,\r\n\t\t\t\t\tmail_count : 71000,\r\n\t\t\t\t\tclct_count : 58000,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"浙江\",\r\n\t\t\t\t\torder_count : 80000,\r\n\t\t\t\t\tmail_count : 61000,\r\n\t\t\t\t\tclct_count : 58000,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"广东\",\r\n\t\t\t\t\torder_count : 60000,\r\n\t\t\t\t\tmail_count : 41000,\r\n\t\t\t\t\tclct_count : 30000,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"湖北\",\r\n\t\t\t\t\torder_count : 40000,\r\n\t\t\t\t\tmail_count : 21000,\r\n\t\t\t\t\tclct_count : 18000,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"湖南\",\r\n\t\t\t\t\torder_count : 20000,\r\n\t\t\t\t\tmail_count : 9100,\r\n\t\t\t\t\tclct_count : 7800,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tname:\"四川\",\r\n\t\t\t\t\torder_count : 10000,\r\n\t\t\t\t\tmail_count : 9100,\r\n\t\t\t\t\tclct_count : 7800,\r\n\t\t\t\t\tclct_ratio : 87.01\t\t\t\t\t\t\t\r\n\t\t\t\t}];\r\n\r\n        // 指定图表的配置项和数据\r\n        var geoCoordMap = {\r\n\t\t\t\t\t\t'上海': [121.4648,31.2891],\r\n\t\t\t\t\t\t'新疆': [87.9236,43.5883],\r\n\t\t\t\t\t\t'甘肃': [103.5901,36.3043],\r\n\t\t\t\t\t\t'总部': [70.4551,50.2539],\r\n\t\t\t\t\t\t'北京': [116.4551,40.2539],\r\n\t\t\t\t\t\t'江苏': [118.8062,31.9208],\r\n\t\t\t\t\t\t'广西': [108.479,23.1152],\r\n\t\t\t\t\t\t'江西': [116.0046,28.6633],\r\n\t\t\t\t\t\t'安徽': [117.29,32.0581],\r\n\t\t\t\t\t\t'内蒙古': [111.4124,40.4901],\r\n\t\t\t\t\t\t'黑龙江': [127.9688,45.368],\r\n\t\t\t\t\t\t'天津': [117.4219,39.4189],\r\n\t\t\t\t\t\t'山西': [112.3352,37.9413],\r\n\t\t\t\t\t\t'广东': [113.5107,23.2196],\r\n\t\t\t\t\t\t'四川': [103.9526,30.7617],\r\n\t\t\t\t\t\t'西藏': [91.1865,30.1465],\r\n\t\t\t\t\t\t'云南': [102.9199,25.4663],\r\n\t\t\t\t\t\t'浙江': [119.5313,29.8773],\r\n\t\t\t\t\t\t'湖北': [114.3896,30.6628],\r\n\t\t\t\t\t\t'辽宁': [123.1238,42.1216],\r\n\t\t\t\t\t\t'山东': [117.1582,36.8701],\r\n\t\t\t\t\t\t'海南': [110.3893,19.8516],\r\n\t\t\t\t\t\t'河北': [114.4995,38.1006],\r\n\t\t\t\t\t\t'福建': [119.4543,25.9222],\r\n\t\t\t\t\t\t'青海': [101.4038,36.8207],\r\n\t\t\t\t\t\t'陕西': [109.1162,34.2004],\r\n\t\t\t\t\t\t'贵州': [106.6992,26.7682],\r\n\t\t\t\t\t\t'河南': [113.4668,34.6234],\r\n\t\t\t\t\t\t'重庆': [107.7539,30.1904],\r\n\t\t\t\t\t\t'宁夏': [106.3586,38.1775],\r\n\t\t\t\t\t\t'吉林': [125.8154,44.2584],\r\n\t\t\t\t\t\t'湖南': [113.0823,28.2568]\r\n\t\t\t\t\t\t};\r\n\r\n\t\tvar convertData = function (data) {\r\n\t\t\tvar res = [];\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tvar geoCoord = geoCoordMap[data[i].name];\r\n\t\t\t\tif (geoCoord) {\r\n\t\t\t\t\tres.push({\r\n\t\t\t\t\t\tname: data[i].name,\r\n\t\t\t\t\t\tvalue: geoCoord.concat(data[i].value)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\t\tvar convertData2 = function (data) {\r\n\t\t\tvar res = [];\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tvar dataItem = data[i];\r\n\t\t\t\tvar fromCoord = geoCoordMap[dataItem[0].name];\r\n\t\t\t\tvar toCoord = geoCoordMap[dataItem[1].name];\r\n\t\t\t\tif (fromCoord && toCoord) {\r\n\t\t\t\t\tres.push({\r\n\t\t\t\t\t\tfromName: dataItem[0].name,\r\n\t\t\t\t\t\ttoName: dataItem[1].name,\r\n\t\t\t\t\t\tcoords: [fromCoord, toCoord]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\r\n\t\toption = {\r\n\t\t\tbackgroundColor: '#404a59',\r\n\t\t\ttitle: {\r\n\t\t\t\ttext: '全国主要城市空气质量',\r\n\t\t\t\tsubtext: 'data from PM25.in',\r\n\t\t\t\tsublink: 'http://www.pm25.in',\r\n\t\t\t\tx:'center',\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttooltip : {\r\n\t\t\t\ttrigger : 'item',\r\n\t\t\t\t formatter: function (v) {\r\n\t\t\t\t\t\t   var html=\"\";\r\n\t\t\t\t\t\t  provs.forEach(function(item){\r\n\r\n\t\t\t\t\t\t\t   if(item.name==v.name)\r\n\t\t\t\t\t\t\t   {\r\n\r\n\t\t\t\t\t\t\t\thtml=\"订单量：\"+item.order_count/1000+\"K<br>邮件量：\"+item.mail_count/1000+\"K<br>收寄量：\"+item.clct_count/1000+\"K<br>收寄率：\"+item.clct_ratio+\"%\";\r\n\r\n\t\t\t\t\t\t\t   }\r\n\r\n\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t  return html;\r\n\t\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgeo: {\r\n\t\t\t\tmap: 'china',\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\troam: true,\r\n\t\t\t\titemStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tareaColor: '#323c48',\r\n\t\t\t\t\t\tborderColor: '#111'\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tareaColor: '#2a333d'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdataRange : {\r\n\t\t\t\t\tshow:false,\r\n\t\t\t\t\tmin : 0,\r\n\t\t\t\t\tmax : 120000,\r\n\t\t\t\t\tx : 'left',\r\n\t\t\t\t\ty : 'bottom',\r\n\t\t\t\t\ttext : ['低', '高'],\r\n\t\t\t\t\tcalculable : true,\r\n\t\t\t\t\tcolor: ['#ff3333', 'orange', 'yellow','lime','aqua'],\r\n\t\t\t\t},\r\n\t\t\tseries: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'pm2.5',\r\n\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\tdata: convertData((function () {\r\n\t\t\t\t\t\t\t\tvar data = [];\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < provs.length; i++) {\r\n\t\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\t\tname : provs[i].name,\r\n\t\t\t\t\t\t\t\t\t\tvalue : provs[i].order_count\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t\t})()),\r\n\t\t\t\t\tsymbolSize: function (val) {\r\n\t\t\t\t\t\treturn 50 + val[2]/5000;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tformatter:function(obj){\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn obj['name']+'\\n'+obj['value'][2];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tborderColor: '#fff',\r\n\t\t\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},{\r\n\t\t\t\t\tname: ' Top10',\r\n\t\t\t\t\ttype: 'lines',\r\n\t\t\t\t\tzlevel: 1,\r\n\t\t\t\t\teffect: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tperiod: 6,\r\n\t\t\t\t\t\ttrailLength: 0.7,\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\tsymbolSize: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: '#a6c84c',\r\n\t\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\t\tcurveness: 0.2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: convertData2([\r\n\t\t\t\t\t\t[{name:'上海'},{name:'北京',value:95}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'广东',value:90}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'四川',value:80}],\r\n\t\t\t\t\t\t[{name:'四川'},{name:'上海',value:80}],\r\n\t\t\t\t\t\t[{name:'北京'},{name:'广东',value:80}],\r\n\t\t\t\t\t\t[{name:'广东'},{name:'北京',value:80}]\r\n\t\t\t\t\t])\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: ' Top10',\r\n\t\t\t\t\ttype: 'lines',\r\n\t\t\t\t\tzlevel: 2,\r\n\t\t\t\t\tsymbol: ['none', 'arrow'],\r\n\t\t\t\t\tsymbolSize: 10,\r\n\t\t\t\t\teffect: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\tperiod: 6,\r\n\t\t\t\t\t\ttrailLength: 0,\r\n\t\t\t\t\t\tsymbol: planePath,\r\n\t\t\t\t\t\tsymbolSize: 15\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\twidth: '',\r\n\t\t\t\t\t\t\tcolor: '#a6c84c',\r\n\t\t\t\t\t\t\tcurveness: 0.2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: convertData2([\r\n\t\t\t\t\t\t[{name:'上海'},{name:'北京',value:95}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'广东',value:90}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'四川',value:80}],\r\n\t\t\t\t\t\t[{name:'四川'},{name:'上海',value:80}],\r\n\t\t\t\t\t\t[{name:'北京'},{name:'广东',value:80}],\r\n\t\t\t\t\t\t[{name:'广东'},{name:'北京',value:80}]\r\n\t\t\t\t\t])\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\tconsole.info(convertData2([\r\n\t\t\t\t\t\t[{name:'上海'},{name:'北京',value:95}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'广东',value:90}],\r\n\t\t\t\t\t\t[{name:'上海'},{name:'四川',value:80}]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t]));","html":"","externalScripts":"/dep/echarts/map/js/china.js,/dep/echarts/map/js/world.js","updaterUID":"bd-755801371","theme":"","layout":"","viewCount":3817,"userName":"文***潇","commentCount":0,"starCount":12,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xSkd7iRbEz.png?v=1515477792375","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-lines","series-scatter","title","tooltip","visualMap"],"customTags":[],"updaterUserName":"文***潇"}}