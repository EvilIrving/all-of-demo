{"status":0,"data":{"cid":"x-D3BVPPaO","authorUid":"bd-1596191888","authorUserName":"小***9","title":"饼图图列点击事件","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2020-06-09T07:12:14.000Z","lastUpdateTime":"2020-06-09T07:12:14.000Z","auth":2,"uid":"bd-1596191888","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-06-09T07:12:14.000Z","code":"\r\nvar zykh = 100;\r\nvar zdgzkh = 200;\r\nvar dkh =300;\r\n// 基于准备好的dom，初始化echarts实例\r\n\r\nvar total = zykh + zdgzkh + dkh;\r\nvar option = {\r\ntitle:{\r\nshow:false,\r\n    },\r\n    tooltip: {  \r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\r\n    },\r\n    legend: {\r\n        icon: 'circle',\r\n        orient: 'vertical',\r\n        left: '78%',\r\n        top:'middle',\r\n        align: 'left',\r\n        itemWidth: 10,\r\n        //selectedMode: false ,\r\n        formatter: function(name, ticket, callback) { \r\n        \tvar arr1 = ['{a|' + \"重要      \" + '}{b|'  +zykh] + '}';\r\n        \tvar arr2 = ['{a|' + \"重点关注\" + '}{b|' + zdgzkh] + '}';\r\n        \tvar arr3 = ['{a|' + \"大客户   \" + '}{b|' + dkh] + '}';\r\n        \tif(name==\"重要\"){\r\n        \t return arr1;\r\n        \t}\r\n        \tif(name==\"重点关注\"){\r\n        \t return arr2;\r\n        \t}\r\n        \tif(name==\"大客户\"){\r\n        \t return arr3;\r\n        \t}\r\n            },\r\n            textStyle: {\r\n                rich: {\r\n                    a: {\r\n                  verticalAlign: 'left',\r\n                        fontSize: 12,\r\n                        align: 'right',\r\n                        width: 45\r\n                    },\r\n                    b: {\r\n                        fontSize: 12,\r\n                        align: 'right',\r\n                        width:  45,  // 图例数值宽度\r\n\r\n                    }\r\n                }\r\n            },\r\n            data:['重要','重点关注','大客户']\r\n    },\r\n    graphic: [{ //环形图中间添加文字\r\n            type: 'text', //通过不同top值可以设置上下显示\r\n            left: '50%',\r\n            top: '50%',\r\n            style: {\r\n                text: total +'\\n' + '总数量',\r\n                textAlign: 'center',\r\n                fill: '#333333', //文字的颜色\r\n                width: 30,\r\n                height: 30,\r\n                fontSize: 14,\r\n                fontFamily: \"Microsoft YaHei\"\r\n            }\r\n\r\n    }],\r\n    color: ['#0295ff','#60e660', '#f2ba49'],\r\n    series: [{\r\n        name:'客户分群',\r\n        type: 'pie',\r\n        radius: ['50%','70%'],\r\n        center: ['50%','50%'],\r\n        legendHoverLink: false,\r\n        hoverAnimation: false,\r\n        avoidLabelOverlap: false,\r\n        animationDurationUpdate : 0,\r\n        label: {\r\n            normal: {\r\n            \tshow:false\r\n            },\r\n        },\r\n        data: [{\r\n    \t \"value\": zykh,\r\n    \t \"name\": \"重要\"\r\n    \t }, {\r\n    \t \"value\": zdgzkh,\r\n    \t \"name\": \"重点关注\"\r\n    \t }, {\r\n    \t \"value\": dkh,\r\n    \t \"name\": \"大客户\"\r\n    \t }]\r\n    }\r\n   ]\r\n};\r\n\r\n// 使用刚指定的配置项和数据显示图表。\r\nmyChart.setOption(option);\r\n//图例添加点击事件\r\nmyChart.on('legendselectchanged', function (params) {\r\n    myChart.setOption({\r\n        legend:{selected:{[params.name]: true}}\r\n    })\r\n    console.log('点击了', params);\r\n    // do something\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-1596191888","theme":"","layout":"","viewCount":203,"userName":"小***9","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x-D3BVPPaO.png?v=1591686734318","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"小***9"}}