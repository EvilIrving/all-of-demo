{"status":0,"data":{"cid":"xKgcEa7L7o","authorUid":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","authorUserName":"w***5","title":"路线地图","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-12-21T03:32:50.000Z","lastUpdateTime":"2021-12-21T03:32:50.000Z","auth":2,"uid":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-21T03:32:50.000Z","code":"var chinaMapOutlineData = '/asset/get/s/data-1640056925252-gmqThM8u-.json';\n\nvar chinaData = '/asset/get/s/data-1640056913736-yWznT-h74.json';\n\nlet chinaMap = null;\nlet chinaMapOutline = null;\n$.ajaxSettings.async = false;\n$.get(chinaData, function (csJson) {\n  chinaMap = csJson;\n});\n$.ajaxSettings.async = false;\n$.get(chinaMapOutlineData, function (cshson) {\n  chinaMapOutline = cshson;\n});\n// console.log(chinaMapOutline)\necharts.registerMap('LKX', chinaMap);\necharts.registerMap('chinaMapOutline', chinaMapOutline);\nvar chinaGeoCoordMap = {\n  黑龙江: [127.9688, 45.368],\n  内蒙古: [110.3467, 41.4899],\n  吉林: [125.8154, 44.2584],\n  北京市: [116.4551, 40.2539],\n  辽宁: [123.1238, 42.1216],\n  河北: [114.4995, 38.1006],\n  天津: [117.4219, 39.4189],\n  山西: [112.3352, 37.9413],\n  陕西: [109.1162, 34.2004],\n  甘肃: [103.5901, 36.3043],\n  宁夏: [106.3586, 38.1775],\n  青海: [101.4038, 36.8207],\n  新疆: [87.9236, 43.5883],\n  西藏: [91.11, 29.97],\n  四川: [103.9526, 30.7617],\n  重庆: [108.384366, 30.439702],\n  山东: [117.1582, 36.8701],\n  河南: [113.4668, 34.6234],\n  江苏: [118.8062, 31.9208],\n  安徽: [117.29, 32.0581],\n  湖北: [114.3896, 30.6628],\n  浙江: [119.5313, 29.8773],\n  福建: [119.4543, 25.9222],\n  江西: [116.0046, 28.6633],\n  湖南: [113.0823, 28.2568],\n  贵州: [106.6992, 26.7682],\n  云南: [102.9199, 25.4663],\n  广东: [113.12244, 23.009505],\n  广西: [108.479, 23.1152],\n  海南: [110.3893, 19.8516],\n  上海: [121.4648, 31.2891],\n};\nvar chinaDatas = [\n  [\n    {\n      name: '黑龙江',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '内蒙古',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '吉林',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '辽宁',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '河北',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '天津',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '山西',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '陕西',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '甘肃',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '宁夏',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '青海',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '新疆',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '西藏',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '四川',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '重庆',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '山东',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '河南',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '江苏',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '安徽',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '湖北',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '浙江',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '福建',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '江西',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '湖南',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '贵州',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '广西',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '海南',\n      value: 0,\n    },\n  ],\n  [\n    {\n      name: '北京市',\n      value: 1,\n    },\n  ],\n];\n\nlet tempData2 = [\n  {\n    name: '动物园',\n    value: [121.681409, 29.809711],\n    pm: '优',\n    fylz: '一级',\n    upDate: '11-09 11:45',\n  },\n];\nlet series = [];\nvar convertData = function (data) {\n  var res = [];\n  for (var i = 0; i < data.length; i++) {\n    var dataItem = data[i];\n    var fromCoord = chinaGeoCoordMap[dataItem[0].name];\n    var toCoord = [121.4648, 31.2891];\n    if (fromCoord && toCoord) {\n      res.push([\n        {\n          coord: toCoord,\n        },\n        {\n          coord: fromCoord,\n          value: dataItem[0].value,\n        },\n      ]);\n    }\n  }\n  return res;\n};\nlet tempList = [['上海', chinaDatas]];\ntempList.map(function (item, i) {\n  series.push(\n    {\n      type: 'lines',\n      zlevel: 2,\n      effect: {\n        show: true,\n        period: 4, //箭头指向速度，值越小速度越快\n        trailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\n        symbol: 'arrow', //箭头图标\n        symbolSize: 5, //图标大小\n        color: '#FFE269',\n      },\n      lineStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n            {\n              offset: 0,\n              color: 'rgb(255,226,105,0)',\n            },\n            {\n              offset: 0.5,\n              color: 'rgb(255,226,105,0.5)',\n            },\n            {\n              offset: 1,\n              color: 'rgb(255,226,105,1)',\n            },\n          ]),\n          width: 1, //尾迹线条宽度\n          opacity: 1, //尾迹线条透明度\n          curveness: 0.3, //尾迹线条曲直度\n        },\n      },\n      data: convertData(item[1]),\n    },\n    {\n      type: 'scatter',\n      coordinateSystem: 'geo',\n      zlevel: 2,\n      rippleEffect: {\n        //涟漪特效\n        period: 4, //动画时间，值越小速度越快\n        brushType: 'stroke', //波纹绘制方式 stroke, fill\n        scale: 4, //波纹圆环最大限制，值越大波纹越大\n      },\n      label: {\n        normal: {\n          show: false,\n          position: 'right', //显示位置\n          offset: [5, 0], //偏移设置\n          formatter: function (params) {\n            //圆环显示文字\n            return params.data.name;\n          },\n          fontSize: 13,\n        },\n        emphasis: {\n          show: true,\n        },\n      },\n      symbol: 'circle',\n      symbolSize: function (val) {\n        return 5 + val[2] * 5; //圆环大小\n      },\n      itemStyle: {\n        normal: {\n          show: false,\n          color: '#34c6bb',\n        },\n      },\n      data: item[1].map(function (dataItem) {\n        return {\n          name: dataItem[0].name,\n          value: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value]),\n        };\n      }),\n    }\n  );\n});\n\nseries.push({\n  map: 'LKX',\n  type: 'map',\n  zoom: 1.2,\n  label: {\n    normal: {\n      show: false,\n      textStyle: {\n        color: '#fff',\n      },\n    },\n    emphasis: {\n      textStyle: {\n        color: '#fff',\n      },\n    },\n  },\n  top: '10%',\n  tooltip: {\n    show: false,\n  },\n  roam: false,\n  itemStyle: {\n    normal: {\n      areaColor: 'transparent',\n      borderColor: 'rgba(0,255,255,.1)',\n      borderWidth: 1,\n    },\n    emphasis: {\n      areaColor: 'rgba(0,255,255,.1)',\n      textStyle: {\n        color: 'red',\n      },\n    },\n  },\n});\noption = {\n  backgroundColor:'#13297B',\n  visualMap: {\n    show: false,\n    min: 0,\n    max: 500,\n    left: 'left',\n    top: 'bottom',\n    text: ['高', '低'], // 文本，默认为数值文本\n    calculable: true,\n    seriesIndex: [1],\n    inRange: {},\n  },\n  geo: {\n    silent: true,\n    map: 'chinaMapOutline',\n    zoom: 0.8,\n    top: '-5%',\n    label: {\n      normal: {\n        show: false,\n        textStyle: {\n          color: '#fff',\n        },\n      },\n      emphasis: {\n        textStyle: {\n          color: '#fff',\n        },\n      },\n    },\n\n    roam: false,\n    itemStyle: {\n      normal: {\n        areaColor: 'rgba(0,255,255,.02)',\n        borderColor: '#00ffff',\n        borderWidth: 1.5,\n        shadowColor: '#00ffff',\n        shadowOffsetX: 0,\n        shadowOffsetY: 4,\n        shadowBlur: 10,\n      },\n      emphasis: {\n        areaColor: 'transparent', //悬浮背景\n        textStyle: {\n          color: '#fff',\n        },\n      },\n    },\n  },\n  series: series,\n};\n\nmyChart.setOption(option, true);\n","html":"","externalScripts":"ningbo.json","updaterUID":"obd-oEV7GQDl8UnBj5tFWjhOczXdiZo3A4b","theme":"","layout":"","viewCount":0,"userName":"w***5","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xKgcEa7L7o.png?v=1640057570596","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-lines","series-map","series-scatter","visualMap"],"customTags":[],"updaterUserName":"w***5"}}