{"status":0,"data":{"cid":"xt5nk5D1nb","authorUid":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","authorUserName":"c***6","title":"","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-08-28T10:54:08.000Z","lastUpdateTime":"2021-08-28T10:54:08.000Z","auth":2,"uid":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-28T10:54:08.000Z","code":"var longmen = \"/asset/get/s/data-1630146812463-Oh9nrswOK.json\";\n\nvar huiyang = \"/asset/get/s/data-1630146806697-fO63BMm5S.json\";\n\nvar huidong = \"/asset/get/s/data-1630146798650-YVtKYNKew.json\";\n\nvar huicheng = \"/asset/get/s/data-1630146792059-s238pZcCz.json\";\n\nvar boluo = \"/asset/get/s/data-1630146772391-ioFws0E4U.json\";\n\nvar huizhou = \"/asset/get/s/data-1630146639808-ca5T0IDDM.json\";\n\n\n\nvar street ,url=huizhou;\n\nfunction init(){\n$.getJSON(url, function (geoJson) {\n\nlet icon = 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAC7klEQVRIS62VT2xUVRTGf997heKgCDYOjXEBtMSNCSSyUFcaXLg0JBRNSDQaSyy0HXTRjZEOie5U6LRNqBsSu2pN1IBp1KXGhakLE/+g0waiDYXWkoq20M7M/czMOMbSmWlFzvK+c373nPPdc56oatZAx6XtoTH/HIE2xB7MRssTSOcjRUPJX3dNto2qcGu4qvCUOXZhB3H0FtIBYANQ8hPYJlj+Drn9i6lvvxkdbVsBXQU80zN579KyT8o+AjRWr4AC6KtC0OFUX8sv//ZZBRx8NftoPviTiGibcbUKKvELtjrmtrYMp9MKlcNVAZnu7EuIPiBRI7u/j53D0dm5G/Op3qF9i7WBx7MdBN5GbFoDmAd9GC0vvXh08OE/awL7j088b7sfuLse0LAs874DR7syu5dqAgdSP+8N1hiwHZXVrWHXJV6e3TL8QTqdrt3DM+2XE7m7Fk5aFFWumqXxMtZ4ID6QOr3ral2Vi8qeSv3YHNPQJ6KnwFuAqBRkDNxA/CDxQnKq9cKtj7tqSSdOOGq6NtFEpGckdwLNxrGsmQAfKTDQuPT71SND+3LrmRR628cTycQ9zXmixwSvgPcYFFlfBzFYID8+P7/pSvrszpt1gcXMkrOXkoWNuadl3kBqAidADcWxC7ggtADMmqhnQ4O/vLK55beqD3vkoOOpByd3Nji8A3pCsPmf3q2WuajqHyZ8SiF6be6+1ssVaKmHttXf+dMOx/GwxCN1Zngl2twk8hi5cKyz/6FpUHlW301d3NpA7hTo2XXDKugiVHrPBb/eldl9XSMHR+LpB/YekhiKUKLY/Pojt/JreaV5IViHr21rPadidrFz5yQ9Xqdna9yhgu3P5wKHdLpr4skoCmOgWrtvfQmbRcfsV1939k2JHiBeX2RNrzy4V5lU9jPQfnB5vG7fAvbHRWAWaKn8N26fhw3fK9OdnUHc/z9ApdCS2jBdBIY19t5/uWumDLwTJhm8qExq4vyd4JlSXvN/AcZ/OIJZDHldAAAAAElFTkSuQmCC'\n const ratio = (val) => {\n  return window.screen.width * val / 1980;\n\n}\nconst option = {\n  // backgroundColor: \"#fff\", // 背景颜色\n  color: ['#D4EDF2', '#00BDFE', '#FACA32'],\n  grid: {\n    top: \"2%\", // 等价于 y: '16%'\n    left: \"2%\",\n    right: \"2%\",\n    bottom: \"2%\",\n\n  },\n  geo: [\n    // {\n    // map: \"huizhou\",  // 映射\n    // roam: false,   // 拖动\n    // zoom: 1,     // 放大\n    // scaleLimit: { min: 0, max: 3 }, // 缩放级别\n    // layoutSize: '96%',\n    // layoutCenter: ['50%', '50%'],\n    // regions: [\n    //       // 小海南岛 消失了\n    //       // {\n    //       //   name: \"南海诸岛\",\n    //       //   value: 0,\n    //       //   itemStyle: {\n    //       //     normal: {\n    //       //       opacity: 0,\n    //       //       label: {\n    //       //         show: false,\n    //       //       },\n    //       //     },\n    //       //   },\n    //       // },\n\n    //       {\n    //         name: '广东',\n    //         itemStyle: {\n    //           areaColor: 'red',\n    //           color: 'red'\n    //         }\n    //       }\n\n    //     ],\n\n    //     // itemStyle: {\n    //     //   areaColor: \"#fff\", //默认的地图板块颜色\n    //     //   borderWidth: 2,     // 边线\n    //     //   borderColor: \"#009ce0\", // 边颜色\n    //     //   //选中效果\n    //     //   emphasis: {\n    //     //     shadowBlur: 10,\n    //     //     shadowOffsetX: 0,\n    //     //     shadowColor: \"rgba(0, 0, 0, 0.5)\",\n    //     //   },\n    //     // },\n\n    //     itemStyle: {\n    //       areaColor: 'transparent',\n    //       borderColor: '#37C1FD',\n    //       borderWidth: 2,\n    //     },\n    //     emphasis: {\n    //       itemStyle: {\n    //         areaColor: '#0160AD'\n    //       },\n    //       label: {\n    //         show: 0,\n    //         color: '#fff'\n    //       }\n    //     },\n    //     silent: true, // 影响点击 触摸事件\n\n\n    //     // layoutCenter: ['50%', '50%'],\n    //     // itemStyle: {\n    //     //   areaColor: 'rgba(9,49,95,1)',\n    //     //   // areaColor: {\n    //     //   //     type: 'radial',\n    //     //   //     x: 0.7,\n    //     //   //     y: 0.5,\n    //     //   //     r: 0.4,\n    //     //   //     colorStops: [\n    //     //   //         {\n    //     //   //             offset: 0,\n    //     //   //             color: '#56CCFB', // 0% 处的颜色\n    //     //   //         },\n    //     //   //         {\n    //     //   //             offset: 1,\n    //     //   //             color: '#0160AD', // 100% 处的颜色\n    //     //   //         },\n    //     //   //     ],\n    //     //   //     global: false, // 缺省为 false\n    //     //   // },\n    //     //   borderColor: '#37C1FD',\n    //     //   borderWidth: 2,\n    //     // }\n    //   },\n    {\n      map: 'huizhou',\n      aspectScale: 0.9,\n      roam: false, //是否允许缩放\n      //zoom: 1.1, //默认显示级别\n      layoutSize: '95%',\n      layoutCenter: ['50%', '52%'],\n      itemStyle: {\n        areaColor: '#005DDC',\n        borderColor: '#329BF5',\n        borderWidth: 1,\n      },\n      // zlevel: 1,\n      silent: true,\n    },\n    {\n      map: 'huizhou',\n      aspectScale: 0.9,\n      roam: false, //是否允许缩放\n      //zoom: 1.1, //默认显示级别\n      layoutSize: '95%',\n      layoutCenter: ['50%', '50%'],\n      itemStyle: {\n        areaColor: {\n          type: 'radial',\n          x: 0.7,\n          y: 0.5,\n          r: 0.4,\n          colorStops: [{\n            offset: 0,\n            color: '#56CCFB' // 0% 处的颜色\n          }, {\n            offset: 1,\n            color: '#0160AD' // 100% 处的颜色\n          }],\n          global: false // 缺省为 false\n        },\n        borderColor: '#37C1FD',\n        borderWidth: 2,\n          //选中效果\n      emphasis: {\n        areaColor: \"#0160AD\", // hover效果\n      },\n      },\n      // zlevel: 2,\n      silent: false,\n      \n  \n    },],\n  // title: {\n  //   text: \"资源池分步\",\n  //   x: \"center\",\n  //   y: 20,\n  // },\n  tooltip: {\n    trigger: \"item\",\n  },\n  legend: {\n    show: false,\n    itemWidth: ratio(10),\n    itemHeight: ratio(10),\n    icon: \"circle\",\n    // orient 设置布局方式，默认水平布局，可选值：'horizontal'（水平） | 'vertical'（垂直）\n    orient: \"vertical\",\n    // x 设置水平安放位置，默认全图居中，可选值：'center' | 'left' | 'right' | {number}（x坐标，单位px）\n    x: \"right\",\n    // y 设置垂直安放位置，默认全图顶端，可选值：'top' | 'bottom' | 'center' | {number}（y坐标，单位px）\n    y: \"50%\",\n    align: 'left',\n    textStyle: {\n      color: \"#fff\",\n      fontSize: ratio(10),\n      fontWeight: 300,\n      padding: [0, 0, 0, 0],\n    },\n    // 点的联动\n    selectedMode: false,\n  },\n\n  //配置属性\n  series: [\n    {\n      name: \"0~100人\",\n      type: \"map\",\n      mapType: \"china\",\n      roam: false,\n      geoIndex: 0,\n      label: {\n        normal: {\n          show: false, //省份名称,\n        },\n        emphasis: {\n          show: true,\n        },\n      },\n      data: [\n        { name: \"惠城区\", value: 0, },\n        { name: \"惠阳区\", value: 0, },\n        { name: \"博罗县\", value: 0, },\n        { name: \"惠东县\", value: 0, },\n        { name: \"龙门县\", value: 0, }\n      ], //数据\n      // markPoint: {\n      //   // symbol: 'circle',\n      //   symbol: `image://${icon}`,\n      //   //设置符号大小\n      //   // symbolSize: 10,\n      //   symbolSize: [ratio(10), ratio(12)],\n      //   label: {\n      //     position: 'top',\n      //     color: '#fff'\n      //   },\n      //   data: [\n      //     // { name: '闽侯县', coord: [119.203478, 26.063571], value: '78' },\n      //     // {\n      //     //   coord: [114.298572, 30.584355],\n      //     //   name: '武汉',\n      //     //   value: '武汉'\n      //     // }\n      //     {\n      //       name: '惠州', coord: [114.46517944335938, 23.078468383398807], value: '78'\n      //     }\n\n      //   ],\n      //   zlevel: 3,\n      //   silent: false,\n\n      // },\n\n\n    },\n\n    {\n      type: 'scatter',\n      coordinateSystem: 'geo',\n      name: '龙门县何花仙街道黄灿麻社',\n      geoIndex: 0,\n      label: {\n        show: false,\n        distance: 6,\n        zlevel: 5,\n        position: 'top',\n        // padding: 100,\n      },\n      symbol: icon,\n      symbolSize: [ratio(10), ratio(12)],\n      silent: false,\n      data: [{ name: '惠州', value: [114.46517944335938, 23.078468383398807], }],\n      // tooltip: {\n      //   trigger: \"item\",\n      // }\n      markPoint: {\n\n        // symbol: 'circle',\n        symbol:icon,\n        //设置符号大小\n        // symbolSize: 10,\n        symbolSize: [ratio(10), ratio(12)],\n        label: {\n          position: 'top',\n          color: '#fff',\n\n        },\n        data: [\n          // { name: '闽侯县', coord: [119.203478, 26.063571], value: '78' },\n\n          {\n            name: '服务项目：健康、养老、安服务居民：2，265人', coord: [114.46517944335938, 23.078468383398807], value: '78'\n          },\n          {\n            name: '服务项目：健康、养老、安服务居民：2，265人', coord: [114.62954, 22.927912], value: '78'\n          }\n\n        ],\n        zlevel: 3,\n        silent: false,\n\n      },\n    },\n\n    // {\n\n    //   name: '1001人以上',\n    //   type: 'scatter',          // 气泡点\n    //   coordinateSystem: 'geo',  //指明散点使用的坐标系统',\n    //   data: [\n    //     {\n    //       value: [114.298572, 30.584355],\n    //       name: '武汉'\n    //     }\n    //   ],\n    //   // data: [\n    //   //   { name: '海门', value: 9 },\n    //   //   { name: '鄂尔多斯', value: 12 },\n    //   //   { name: '招远', value: 12 }]\n\n    //   // symbol: 'pin',\n    //   // symbol: 'circle',        // 形状\n    //   symbol: icon,\n    //   symbolSize: [ratio(10), ratio(12)],\n    //   // symbolSize: 10,          // 大小\n    //   silent: true,\n    //   // encode: {\n    //   //   value: 2\n    //   // },\n    //   // label: {\n    //   //   formatter: '{b}',\n    //   //   position: 'top',\n    //   //   show: true\n    //   // },\n    //   // itemStyle: {\n    //   //   normal: {\n    //   //     color: '#F62157', //标志颜色\n    //   //   }\n    //   // },\n\n    //   // zlevel: 6,\n\n    // },\n\n    // {\n\n    //   name: '1001人以上',\n    //   type: 'scatter',          // 气泡点\n    //   coordinateSystem: 'geo',  //指明散点使用的坐标系统',\n    //   data: [\n\n    //   ],\n    // },\n    // {\n\n    //   name: '101~1000人',\n    //   type: 'scatter',          // 气泡点\n    //   coordinateSystem: 'geo',  //指明散点使用的坐标系统',\n    //   data: [\n\n    //   ],\n    // }\n  ],\n  visualMap: {\n    show: false,\n    min: 0,\n    max: 1000,\n    textStyle: {\n      color: '#FFFFFF'\n    },\n    inRange: {\n      color: ['#134B6D', '#D4EDF2', '#00BDFE', '#FACA32']\n    },\n    align: 'left',\n    left: 'right',\n    bottom: '40%',\n\n    // pieces: [{\n    //   // gt: 100,\n    //   label: \"0~100人\",\n    //   color: \"#7f1100\",\n    //   symbol: 'circle'\n    // }, {\n    //   // gte: 1000,\n    //   // lte: 100,\n    //   label: \"101~1000人\",\n    //   color: \"#ff5428\",\n    //   symbol: 'circle'\n    // }, {\n    //   // gte: 10000,\n    //   // lt: 1000,\n    //   label: \"1001人以上\",\n    //   color: \"#ff8c71\",\n    //   symbol: 'circle'\n    // }],\n    // 点的联动\n    // hoverLink: false,\n    // selectedMode: 'multiple'\n    // calculable: true\n  },\n\n  // visualMap: {\n  //   min: 0,\n  //   max: 1000,\n  //   left: 26,\n  //   bottom: 40,\n  //   showLabel: !0,\n  //   text: [\"高\", \"低\"],\n  //   pieces: [{\n  //     gt: 100,\n  //     label: \"> 100 人\",\n  //     color: \"#7f1100\"\n  //   }, {\n  //     gte: 10,\n  //     lte: 100,\n  //     label: \"10 - 100 人\",\n  //     color: \"#ff5428\"\n  //   }, {\n  //     gte: 1,\n  //     lt: 10,\n  //     label: \"1 - 9 人\",\n  //     color: \"#ff8c71\"\n  //   }, {\n  //     gt: 0,\n  //     lt: 1,\n  //     label: \"疑似\",\n  //     color: \"#ffd768\"\n  //   }, {\n  //     value: 0,\n  //     color: \"#ffffff\"\n  //   }],\n  //   show: !0\n  // },\n\n\n  //  visualMap: {\n  //   left: 'right',\n  //   min: 500000,\n  //   max: 38000000,\n  //   inRange: {\n  //       color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n  //   },\n  //   text: ['High', 'Low'],           // 文本，默认为数值文本\n  //   calculable: true\n  //  },\n}\n\n\n            //地图组件\n    echarts.registerMap(\"huizhou\", geoJson);\n    \n    \n\n    // 使用刚指定的配置项和数据显示图表。\n    myChart.setOption(option);\n\n\n myChart.on(\"click\", echartsMapClick);\n    \n    \n     // 深圳地图点击\n function echartsMapClick(params) {\n\n\n    if (street !== params.name) {\n      street = params.name;\n      url= cwlType1(params.name)\n      init()\n      //地图组件\n    //   echarts.registerMap(\"深圳\", cwlType(street));\n\n      // 使用刚指定的配置项和数据显示图表。\n    //   myChart.setOption(option);\n    }\n  }\n    \n    \n  function cwlType1(val) {\n    \n      switch (val) {\n        case \"龙门县\":\n          return longmen;\n        case \"博罗县\":\n          return boluo;\n        case \"惠城区\":\n          return huicheng;\n        case \"惠东县\":\n          return huidong;\n        case \"惠阳区\":\n          return huiyang;\n        default:\n          return huizhou;\n      }\n    };\n    \n\n    \n    \n\n        \n        \n    })\n}\n\ninit()\n\n\n\n","html":"","externalScripts":"","updaterUID":"obd-ol9pMakAVJkLuQHoURIKWjUg-AnvS0x","theme":"","layout":"","viewCount":0,"userName":"c***6","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xt5nk5D1nb.png?v=1630148048384","isCustomThumbnail":0,"builtinTags":["category-work","geo","legend","markPoint","series-map","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"c***6"}}