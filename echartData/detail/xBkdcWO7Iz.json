{"status":0,"data":{"cid":"xBkdcWO7Iz","authorUid":"bd-171648521","authorUserName":"绿***绿","title":"71%","description":"病床使用","latestVersion":1,"alwaysLatest":1,"createTime":"2020-09-30T01:46:36.000Z","lastUpdateTime":"2020-09-30T01:46:36.000Z","auth":2,"uid":"bd-171648521","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.8.0","versionCreateTime":"2020-09-30T01:46:37.000Z","code":"        let data = [{\r\n                name: '病床使用',\r\n                value: 120,\r\n                color: ['rgba(47,204,255,1)', 'rgba(47,204,255,0.5)', 'rgba(47,204,255,0.01)', 'rgba(0,0,0,0)']\r\n            },\r\n            {\r\n                name: '病床未用',\r\n                value: 50,\r\n                color: ['rgba(253,42,52,1)', 'rgba(253,42,52,0.5)', 'rgba(253,42,52,0.01)', 'rgba(0,0,0,0)']\r\n            },\r\n        ];\r\n\r\n        let PERCENT_data = [50, 66, 33, 5];\r\n        let titleArr = [],\r\n            legendArr = [],\r\n            lineseriesArr = [{\r\n                    name: '条',\r\n                    type: 'bar',\r\n                    stack: 'b',\r\n                    yAxisIndex: 0,\r\n                    data: PERCENT_data,\r\n                    label: {\r\n                        normal: {\r\n                            show: false,\r\n                            position: 'right',\r\n                            distance: 10,\r\n                            formatter: function(param) {\r\n                                return param.value + '%'\r\n                            },\r\n                            textStyle: {\r\n                                color: '#ffffff',\r\n                                fontSize: '12'\r\n                            }\r\n                        }\r\n                    },\r\n                    barWidth: 6,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#2fbdff'\r\n                        }\r\n                    },\r\n                    z: 2\r\n                },\r\n                {\r\n                    name: '白框',\r\n                    type: 'bar',\r\n                    yAxisIndex: 1,\r\n                    barGap: '-100%',\r\n                    data: [100, 100, 100, 100],\r\n                    barWidth: 6,\r\n                    label: {\r\n                        normal: {\r\n                            show: true,\r\n                            position: 'insideBottomRight',\r\n                            distance: 10,\r\n                            formatter: function(data) {\r\n                                return PERCENT_data[data.dataIndex];\r\n                            },\r\n                            textStyle: {\r\n                                color: '#d9d9d9',\r\n                                fontSize: 14,\r\n                                fontWeight: 800\r\n                            }\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#031a32',\r\n                            barBorderRadius: 2\r\n                        }\r\n                    },\r\n                    z: 1\r\n                },\r\n            ],\r\n            pieseriesArr = [],\r\n            seriesArr = [],\r\n            total = 0;\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            total += data[i].value\r\n        }\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n\r\n            titleArr.push({\r\n                text: ((data[i].value / total) * 100).toFixed(0) + '%',\r\n                subtext: data[i].name,\r\n                top: (i) * 45 + 20 + '%',\r\n                left: '10.5%',\r\n                textAlign: 'center',\r\n                textStyle: {\r\n\r\n                    fontSize: 14,\r\n                    color: '#f7fcff',\r\n                    fontWeight: 800\r\n\r\n                },\r\n                subtextStyle: {\r\n\r\n                    fontSize: 12,\r\n                    color: ['#f7fcff'],\r\n\r\n                },\r\n            });\r\n\r\n            pieseriesArr.push({\r\n                name: data[i].name,\r\n                type: 'pie',\r\n                clockWise: true,\r\n                startAngle: 90,\r\n                center: ['12%', (i) * 45 + 30 + '%'],\r\n                radius: ['35%', '40%'],\r\n\r\n                itemStyle: {\r\n                    normal: {\r\n\r\n                        label: {\r\n                            show: false\r\n                        },\r\n                        labelLine: {\r\n                            show: false\r\n                        },\r\n                    }\r\n                },\r\n                hoverAnimation: false,\r\n\r\n                data: [{\r\n                    value: data[i].value,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: {\r\n                                type: 'linear',\r\n                                x: 1,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 1,\r\n                                colorStops: [{\r\n                                    offset: 0,\r\n                                    color: data[i].color[0] // 0% 处的颜色\r\n                                }, {\r\n                                    offset: 0.5,\r\n                                    color: data[i].color[1] // 100% 处的颜色\r\n                                }, {\r\n                                    offset: 0.8,\r\n                                    color: data[i].color[2] // 100% 处的颜色\r\n                                }, {\r\n                                    offset: 1,\r\n                                    color: data[i].color[3] // 100% 处的颜色\r\n                                }],\r\n                                global: false // 缺省为 false\r\n                            },\r\n\r\n\r\n                            shadowColor: data[i].color[0],\r\n                            shadowBlur: 0,\r\n\r\n\r\n                        }\r\n                    },\r\n                    label: {\r\n                        show: false,\r\n\r\n                    },\r\n                }, {\r\n                    value: total - data[i].value,\r\n                    name: 'invisible',\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(0,0,0,0)'\r\n                        },\r\n                        emphasis: {\r\n                            color: 'rgba(0,0,0,0)'\r\n                        }\r\n                    }\r\n                }]\r\n            })\r\n\r\n        }\r\n\r\n\r\n\r\n        seriesArr = lineseriesArr.concat(pieseriesArr);\r\n\r\n\r\n        option = {\r\n            backgroundColor: '#000f1e',\r\n            title: titleArr,\r\n            grid: [{\r\n                    x: '30%',\r\n                    y: '20%',\r\n                    bottom: '10px',\r\n                    width: '65%',\r\n\r\n                },\r\n\r\n            ],\r\n            xAxis: [{\r\n                show: true,\r\n                gridIndex: 0,\r\n                position: 'top',\r\n                name: '房间类型',\r\n                nameLocation: 'middle',\r\n                nameTextStyle: {\r\n                    color: ' #0fc2e7',\r\n                    fontSize: 14,\r\n                    fontWeight: 800\r\n                },\r\n                splitLine: {\r\n                    show: false,\r\n\r\n\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: 'rgba(0,0,0,0)'\r\n                    }\r\n                },\r\n\r\n            }],\r\n            yAxis: [\r\n\r\n                {\r\n                    axisTick: 'none',\r\n                    axisLine: 'none',\r\n                    offset: -10,\r\n                    axisLabel: {\r\n                        textStyle: {\r\n                            color: '#d9d9d9',\r\n                            fontSize: '12',\r\n                            align: 'left',\r\n                            verticalAlign: 'bottom',\r\n                            lineHeight: 30,\r\n                        }\r\n                    },\r\n                    data: ['标准单人间', '标准双人间', '套房A', '套房B']\r\n                },\r\n\r\n                {\r\n\r\n\r\n                    axisLine: {\r\n                        lineStyle: {\r\n                            color: 'rgba(0,0,0,0)'\r\n                        }\r\n                    },\r\n                    data: []\r\n                }\r\n            ],\r\n            series: seriesArr\r\n        };","html":"","externalScripts":"","updaterUID":"bd-171648521","theme":"","layout":"","viewCount":913,"userName":"绿***绿","commentCount":0,"starCount":8,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xBkdcWO7Iz.png?v=1601430397122","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pie","title"],"customTags":[],"updaterUserName":"绿***绿"}}