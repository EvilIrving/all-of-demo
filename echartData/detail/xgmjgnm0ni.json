{"status":0,"data":{"cid":"xgmjgnm0ni","authorUid":"obd-ojM2U2EBfbgmqnRmsIqgjeU1t5rxUEK","authorUserName":"杨***湖","title":"地图带攻击路径","description":"地图带攻击路径","latestVersion":4,"alwaysLatest":1,"createTime":"2021-01-20T03:41:19.000Z","lastUpdateTime":"2021-01-20T03:41:19.000Z","auth":2,"uid":"obd-ojM2U2EBfbgmqnRmsIqgjeU1t5rxUEK","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":2,"echartsVersion":"4.8.0","versionCreateTime":"2021-01-26T09:22:46.000Z","code":"var chinaGeoCoordMap = {\r\n    '黑龙江': [127.9688, 45.368],\r\n    '内蒙古': [110.3467, 41.4899],\r\n    \"吉林\": [125.8154, 44.2584],\r\n    '北京市': [116.4551, 40.2539],\r\n    \"辽宁\": [123.1238, 42.1216],\r\n    \"河北\": [114.4995, 38.1006],\r\n    \"天津\": [117.4219, 39.4189],\r\n    \"山西\": [112.3352, 37.9413],\r\n    \"陕西\": [109.1162, 34.2004],\r\n    \"甘肃\": [103.5901, 36.3043],\r\n    \"宁夏\": [106.3586, 38.1775],\r\n    \"青海\": [101.4038, 36.8207],\r\n    \"新疆\": [87.9236, 43.5883],\r\n    \"西藏\": [91.11, 29.97],\r\n    \"四川\": [103.9526, 30.7617],\r\n    \"重庆\": [108.384366, 30.439702],\r\n    \"山东\": [117.1582, 36.8701],\r\n    \"河南\": [113.4668, 34.6234],\r\n    \"江苏\": [118.8062, 31.9208],\r\n    \"安徽\": [117.29, 32.0581],\r\n    \"湖北\": [114.3896, 30.6628],\r\n    \"浙江\": [119.5313, 29.8773],\r\n    \"福建\": [119.4543, 25.9222],\r\n    \"江西\": [116.0046, 28.6633],\r\n    \"湖南\": [113.0823, 28.2568],\r\n    \"贵州\": [106.6992, 26.7682],\r\n    \"云南\": [102.9199, 25.4663],\r\n    \"广东\": [113.12244, 23.009505],\r\n    \"广西\": [108.479, 23.1152],\r\n    \"海南\": [110.3893, 19.8516],\r\n    '上海': [121.4648, 31.2891]\r\n};\r\nvar chinaDatas = [\r\n    [{\r\n        name: '黑龙江',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '内蒙古',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '吉林',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '辽宁',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '河北',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '天津',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '山西',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '陕西',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '甘肃',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '宁夏',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '青海',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '新疆',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '西藏',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '四川',\r\n        value: 1\r\n    }],\r\n    [{\r\n        name: '上海',\r\n        value: 1\r\n    }]\r\n];\r\nvar datasa = [{\r\n        name: \"北京\",\r\n        value: 177\r\n    },\r\n    {\r\n        name: \"天津\",\r\n        value: 42\r\n    },\r\n    {\r\n        name: \"河北\",\r\n        value: 102\r\n    },\r\n    {\r\n        name: \"山西\",\r\n        value: 81\r\n    },\r\n    {\r\n        name: \"内蒙古\",\r\n        value: 47\r\n    },\r\n    {\r\n        name: \"辽宁\",\r\n        value: 67\r\n    },\r\n    {\r\n        name: \"吉林\",\r\n        value: 82\r\n    },\r\n    {\r\n        name: \"黑龙江\",\r\n        value: 66\r\n    },\r\n    {\r\n        name: \"上海\",\r\n        value: 24\r\n    },\r\n    {\r\n        name: \"江苏\",\r\n        value: 92\r\n    },\r\n    {\r\n        name: \"浙江\",\r\n        value: 114\r\n    },\r\n    {\r\n        name: \"安徽\",\r\n        value: 109\r\n    },\r\n    {\r\n        name: \"福建\",\r\n        value: 116\r\n    },\r\n    {\r\n        name: \"江西\",\r\n        value: 91\r\n    },\r\n    {\r\n        name: \"山东\",\r\n        value: 119\r\n    },\r\n    {\r\n        name: \"河南\",\r\n        value: 137\r\n    },\r\n    {\r\n        name: \"湖北\",\r\n        value: 116\r\n    },\r\n    {\r\n        name: \"湖南\",\r\n        value: 114\r\n    },\r\n    {\r\n        name: \"重庆\",\r\n        value: 91\r\n    },\r\n    {\r\n        name: \"四川\",\r\n        value: 125\r\n    },\r\n    {\r\n        name: \"贵州\",\r\n        value: 62\r\n    },\r\n    {\r\n        name: \"云南\",\r\n        value: 83\r\n    },\r\n    {\r\n        name: \"西藏\",\r\n        value: 9\r\n    },\r\n    {\r\n        name: \"陕西\",\r\n        value: 80\r\n    },\r\n    {\r\n        name: \"甘肃\",\r\n        value: 56\r\n    },\r\n    {\r\n        name: \"青海\",\r\n        value: 10\r\n    },\r\n    {\r\n        name: \"宁夏\",\r\n        value: 18\r\n    },\r\n    {\r\n        name: \"新疆\",\r\n        value: 67\r\n    },\r\n    {\r\n        name: \"广东\",\r\n        value: 123\r\n    },\r\n    {\r\n        name: \"广西\",\r\n        value: 59\r\n    },\r\n    {\r\n        name: \"海南\",\r\n        value: 14\r\n    },\r\n    {\r\n        name: \"台湾\",\r\n        value: 14\r\n    },\r\n];\r\nvar convertData = function(data) {\r\n    var res = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        var dataItem = data[i];\r\n        var fromCoord = chinaGeoCoordMap[dataItem[0].name];\r\n        var toCoord = [108.384366, 30.439702];\r\n        if (fromCoord && toCoord) {\r\n            res.push({\r\n                fromName: dataItem[0].name,\r\n                toName: '重庆',\r\n                coords: [fromCoord, toCoord],\r\n                value: dataItem[0].value,\r\n                visualMap: false,\r\n                color: {\r\n                    type: 'linear',\r\n                    x: 0,\r\n                    y: 0,\r\n                    x2: 1,\r\n                    y2: 0,\r\n                    colorStops: [{\r\n                        offset: 0,\r\n                        color: '#f00' // 0% 处的颜色\r\n                    }, {\r\n                        offset: 1,\r\n                        color: '#fff' // 100% 处的颜色\r\n                    }],\r\n                    global: false // 缺省为 false\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n};\r\nvar series = [];\r\nvar color = ['#57df1c'];\r\n[\r\n    ['重庆', chinaDatas]\r\n].forEach(function(item, i) {\r\n    console.log(item)\r\n    series.push({\r\n            type: 'lines',\r\n            zlevel: 2,\r\n            effect: {\r\n                show: true,\r\n                period: 6, //箭头指向速度，值越小速度越快\r\n                trailLength: 00, //特效尾迹长度[0,1]值越大，尾迹越长重\r\n                symbol: 'arrow', //箭头图标\r\n                color: 'red', // 特效颜色\r\n                symbolSize: 6, //图标大小\r\n            },\r\n            lineStyle: {\r\n                normal: {\r\n                    width: 1, //尾迹线条宽度\r\n                    opacity: 1,\r\n                    curveness: 0.3,\r\n                    type: 'dashed',\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 1,\r\n                        y2: 0,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#f00' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#fff' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    }\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    position: 'middle',\r\n                    formatter: '{b}'\r\n                }\r\n            },\r\n            data: convertData(item[1])\r\n        }, {\r\n            type: 'effectScatter',\r\n            coordinateSystem: 'geo',\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                //涟漪特效\r\n                color: '#ffdede',\r\n                period: 6, //动画时间，值越小速度越快\r\n                brushType: \"fill\", //波纹绘制方式 stroke, fill\r\n                scale: 4 //波纹圆环最大限制，值越大波纹越大\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"bottom\", //显示位置\r\n                    //offset: [5, 0], //偏移设置\r\n                    formatter: \"{b}\", //圆环显示文字\r\n                    textStyle: {\r\n                        color: \"#fff\",\r\n                        fontSize: '12px'\r\n                    }\r\n                },\r\n            },\r\n            symbol: \"circle\",\r\n            symbolSize: 5,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: '#f00'\r\n                }\r\n            },\r\n            data: item[1].map(function(dataItem) {\r\n                return {\r\n                    name: dataItem[0].name,\r\n                    value: undefined == chinaGeoCoordMap[dataItem[0].name] ? '' : chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value]),\r\n                    visualMap: false\r\n                };\r\n            }),\r\n        },\r\n        //被攻击点\r\n        {\r\n            type: \"effectScatter\",\r\n            coordinateSystem: \"geo\",\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n                color: '#ffdede',\r\n                period: 6,\r\n                brushType: \"fill\",\r\n                scale: 4\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: \"right\",\r\n                    formatter: \"{b}\",\r\n                    textStyle: {\r\n                        color: \"#fff\"\r\n                    }\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            },\r\n            symbol: \"circle\",\r\n            symbolSize: 6,\r\n            itemStyle: {\r\n                normal: {\r\n                    show: true,\r\n                    color: \"#fff\"\r\n                }\r\n            },\r\n            data: [{\r\n                name: item[0],\r\n                value: chinaGeoCoordMap[item[0]].concat([10]),\r\n            }],\r\n        }, {\r\n            type: 'map',\r\n            map: 'china',\r\n            geoIndex: 0,\r\n            aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n                normal: {\r\n                    show: true\r\n                },\r\n                emphasis: {\r\n                    show: false,\r\n                    textStyle: {\r\n                        color: '#fff'\r\n                    }\r\n                }\r\n            },\r\n            roam: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    areaColor: '#031525',\r\n                    borderColor: '#3B5077',\r\n                },\r\n                emphasis: {\r\n                    areaColor: '#2B91B7'\r\n                }\r\n            },\r\n            animation: false,\r\n            data: datasa\r\n        }\r\n    );\r\n});\r\noption = {\r\n    tooltip: {\r\n        trigger: \"item\",\r\n        formatter: function(params, ticket, callback) {\r\n            if (params.seriesType == \"effectScatter\") {\r\n                return params.marker + params.data.name + \"\" + params.data.value[2];\r\n            } else if (params.seriesType == \"lines\") {\r\n                return params.data.fromName + \" -> \" + params.data.toName + \"<br />\" + params.data.value;\r\n            } else {\r\n                return params.name;\r\n            }\r\n        },\r\n    },\r\n    visualMap: {\r\n        show: true,\r\n        min: 0,\r\n        max: 200,\r\n        left: 'left',\r\n        top: 'bottom',\r\n        text: ['高', '低'], // 文本，默认为数值文本\r\n        calculable: true,\r\n        seriesIndex: [3],\r\n        inRange: {\r\n            color: ['#00467F', '#A5CC82'] // 蓝绿\r\n\r\n        }\r\n    },\r\n    geo: {\r\n        map: 'china',\r\n        roam: true, //是否允许缩放\r\n        zoom: 1.14,\r\n        label: {\r\n            emphasis: {\r\n                show: true\r\n            }\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: \"rgba(48,97,186，0)\", //地图背景色\r\n                borderColor: \"rgba(0, 0, 0,0)\" //省市边界线\r\n            },\r\n            emphasis: {\r\n                show: false,\r\n                color: \"#2B91B7\" //悬浮背景\r\n            }\r\n        }\r\n    },\r\n    series: series\r\n};","html":"","externalScripts":"/dep/echarts/map/js/china.js","updaterUID":"obd-ojM2U2EBfbgmqnRmsIqgjeU1t5rxUEK","theme":"default","layout":"","viewCount":408,"userName":"杨***湖","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xgmjgnm0ni.png?v=1611652966904","isCustomThumbnail":0,"builtinTags":["category-work","geo","series-effectScatter","series-lines","series-map","tooltip","visualMap"],"customTags":[],"updaterUserName":"杨***湖"}}