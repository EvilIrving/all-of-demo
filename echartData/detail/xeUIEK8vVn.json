{"status":0,"data":{"cid":"xeUIEK8vVn","authorUid":"bd-939842705","authorUserName":"j***h","title":"老人出行时间规律","description":"厦门老人公交出行，2014年5月数据时间规律研究","latestVersion":2,"alwaysLatest":1,"createTime":"2018-10-26T10:15:36.000Z","lastUpdateTime":"2018-11-09T08:43:30.000Z","auth":2,"uid":"bd-939842705","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.2.1","versionCreateTime":"2019-02-17T11:29:13.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1550402032092-ocV5b75OY.csv\";\n\n\n\n//var uploadedDataURL = \"/asset/get/s/data-1540539057476-HAvBUfQRD.csv\";\n$.ajax({\n    url: uploadedDataURL,\n    dataType: \"text\",\n    method: \"GET\",\n    success: function(csvdata) {\n        var rows = csvdata.split('\\n');\n        var xdata = [],\n            renci = [],\n            renshu = [],\n            fre = [];\n        for (var r in rows) {\n\n            if (r < 1)\n                continue;\n\n            var row = rows[r].slice(1,rows[r].length).split(',');\n\n            if (row[0]) {\n                xdata.push(row[0].slice(6,8));\n                //console.log(row[0].slice(6,8));\n                renci.push(row[1]);\n                renshu.push(row[2]);\n                fre.push(row[3]);\n            }\n\n        }\n\n\n        option = {\n            \"title\": {\n                \"text\": \"老人出行时间规律\",\n                \"left\": \"center\",\n                \"y\": \"10\",\n                \"textStyle\": {\n                    \"color\": \"#fff\"\n                }\n            },\n            \"backgroundColor\": \"#1c2e40\",\n            \"color\": \"#384757\",\n            \"tooltip\": {\n                \"trigger\": \"axis\",\n                \"axisPointer\": {\n                    \"type\": \"cross\",\n                    \"crossStyle\": {\n                        \"color\": \"#384757\"\n                    }\n                }\n            },\n            \"legend\": {\n                \"data\": [{\n                        \"name\": \"出行人次\",\n                        \"icon\": \"circle\",\n                        \"textStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    },\n                    {\n                        \"name\": \"出行人数\",\n                        \"icon\": \"circle\",\n                        \"textStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    },\n                    {\n                        \"name\": \"换乘频率\",\n                        \"icon\": \"circle\",\n                        \"textStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    }\n                ],\n                \"top\": \"10%\",\n                \"textStyle\": {\n                    \"color\": \"#fff\"\n                }\n            },\n            \"xAxis\": [{\n                \"type\": \"category\",\n                \"name\": \"日期(2014年5月)\",\n                \"nameLocation\":\"end\",\n                \"nameRotate\":-30,\n                \"nameGap\":30,\n                \"nameTextStyle\": {\n                    \"color\": \"#7d838b\",\n                },\n                \"data\": xdata,\n                \"axisPointer\": {\n                    \"type\": \"shadow\"\n                },\n                \"axisLabel\": {\n                    \"show\": true,\n                    \"textStyle\": {\n                        \"color\": \"#7d838b\"\n                    }\n                }\n            }],\n            \"yAxis\": [{\n                    \"type\": \"value\",\n                    \"name\": \"人数\",\n                    \"nameTextStyle\": {\n                        \"color\": \"#7d838b\"\n                    },\n                    \"min\": 15000,\n                    \"max\": 105000,\n                    \"axisLabel\": {\n                        \"show\": true,\n                        \"textStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    },\n                    \"axisLine\": {\n                        \"show\": true\n                    },\n                    \"splitLine\": {\n                        \"lineStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    }\n                },\n                {\n                    \"type\": \"value\",\n                    \"name\": \"换乘频率\",\n                    \"min\": 2,\n                    \"max\": 4,\n                    \"show\": true,\n                    \"axisLabel\": {\n                        \"show\": true,\n                        \"textStyle\": {\n                            \"color\": \"#7d838b\"\n                        }\n                    }\n                }\n            ],\n            \"grid\": {\n                \"top\": \"20%\"\n            },\n            \"series\": [{\n                    \"name\": \"出行人次\",\n                    \"type\": \"bar\",\n                    \"data\": renci,\n                    \"barWidth\": \"auto\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": {\n                                \"type\": \"linear\",\n                                \"x\": 0,\n                                \"y\": 0,\n                                \"x2\": 0,\n                                \"y2\": 1,\n                                \"colorStops\": [{\n                                        \"offset\": 0,\n                                        \"color\": \"rgba(255,37,117,0.7)\"\n                                    },\n                                    {\n                                        \"offset\": 0.5,\n                                        \"color\": \"rgba(0,133,245,0.7)\"\n                                    },\n                                    {\n                                        \"offset\": 1,\n                                        \"color\": \"rgba(0,133,245,0.3)\"\n                                    }\n                                ],\n                                \"globalCoord\": false\n                            }\n                        }\n                    }\n                },\n                {\n                    \"name\": \"出行人数\",\n                    \"type\": \"bar\",\n                    \"data\": renshu,\n                    \"barWidth\": \"auto\",\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": {\n                                \"type\": \"linear\",\n                                \"x\": 0,\n                                \"y\": 0,\n                                \"x2\": 0,\n                                \"y2\": 1,\n                                \"colorStops\": [{\n                                        \"offset\": 0,\n                                        \"color\": \"rgba(255,37,117,0.7)\"\n                                    },\n                                    {\n                                        \"offset\": 0.5,\n                                        \"color\": \"rgba(0,255,252,0.7)\"\n                                    },\n                                    {\n                                        \"offset\": 1,\n                                        \"color\": \"rgba(0,255,252,0.3)\"\n                                    }\n                                ],\n                                \"globalCoord\": false\n                            }\n                        }\n                    },\n                    \"barGap\": \"0\"\n                },\n                {\n                    \"name\": \"换乘频率\",\n                    \"type\": \"line\",\n                    \"yAxisIndex\": 1,\n                    \"data\": fre,\n                    \"itemStyle\": {\n                        \"normal\": {\n                            \"color\": \"#ffaa00\"\n                        }\n                    },\n                    \"smooth\": true\n                }\n            ]\n        };\n        myChart.setOption(option);\n\n    },\n});","html":"","externalScripts":"","updaterUID":"bd-939842705","theme":"default","layout":"","viewCount":497,"userName":"j***h","commentCount":0,"starCount":10,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xeUIEK8vVn.png?v=1550402953222","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-line","title","tooltip"],"customTags":[],"updaterUserName":"j***h"}}