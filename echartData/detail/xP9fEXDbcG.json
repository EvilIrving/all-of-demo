{"status":0,"data":{"cid":"xP9fEXDbcG","authorUid":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","authorUserName":"c***9","title":"在建安全监管","description":"","latestVersion":3,"alwaysLatest":0,"createTime":"2021-10-22T03:29:01.000Z","lastUpdateTime":"2021-10-25T01:37:11.000Z","auth":2,"uid":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":3,"parentVersion":2,"echartsVersion":"5.2.1","versionCreateTime":"2021-10-25T01:37:11.000Z","code":"var chartData = [\r\n      \r\n        {name:'2020.4', value: 15001, value1: 2729, value2: 623},\r\n        {name:'2020.5', value: 28932, value1: 10321, value2: 1613},\r\n        {name:'2020.6', value: 36245, value1: 13621, value2: 1886},\r\n        {name:'2020.7', value: 31563, value1: 10851, value2: 1980},\r\n        {name:'2020.8', value: 36389, value1: 12659, value2: 1116},\r\n        {name:'2020.9', value: 38000, value1: 10700, value2: 1700}\r\n    ];\r\n\r\n    option= {\r\n        backgroundColor: '#0a393d',//背景色\r\n        title:{\r\n           show: true,\r\n           text: '',\r\n           textStyle: {\r\n                color: '#fff', // 主标题文字颜色\r\n                fontFamily:'Simsun',\r\n                fontSize: 14\r\n            },\r\n            x:'center',\r\n            y:'top'\r\n        },\r\n        tooltip: {\r\n            show: true,\r\n            trigger: 'axis',  //axis , item\r\n            backgroundColor:'rgba(0,15,78,0.6)',\r\n            borderColor:'#00afff',\r\n            borderWidth: 1,\r\n            borderRadius: 0,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 13,\r\n                align:'left'\r\n            },\r\n            axisPointer:{\r\n                type: 'line', //'line' | 'cross' | 'shadow' | 'none\r\n                lineStyle: {\r\n                    width: 1,\r\n                    type: 'dotted',\r\n                    color: 'rgba(46,149,230,.9)'\r\n                }\r\n            }\r\n        },\r\n        legend:{\r\n            show: true,\r\n            orient:'horizontal', //'vertical' \r\n            data: ['在建','违建', '已整改'],\r\n            icon: 'circle',\r\n            selectedMode: true,\r\n            itemWidth: 10,\r\n            itemHeight: 10,\r\n            itemGap:20,\r\n            textStyle:{\r\n                fontSize: 13,\r\n                color: '#9bc8ff'\r\n            },\r\n            x: 'center',\r\n            y: '25'\r\n        },\r\n        grid: {\r\n            top: '25%',\r\n            right: '3%',\r\n            bottom: '10%',\r\n            left: '10%'\r\n        },\r\n        xAxis:{\r\n            type: 'category',\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 0, //类目间隔 设置为 1，表示『隔一个标签显示一个标签』\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: 13\r\n                },\r\n                formatter: '{value}'\r\n            },\r\n            axisLine:{\r\n                lineStyle:{\r\n                    color:'rgba(15,45,134,.9)'\r\n                }\r\n            },\r\n            axisTick:{\r\n                show: false //坐标轴小标记\r\n            },\r\n            data: (function(data){\r\n                var arr=[];\r\n                data.forEach(function(items){\r\n                    arr.push(items.name);   //name\r\n                });\r\n                return arr;\r\n            })(chartData)  //载入横坐标数据\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: '（次）',\r\n            nameTextStyle:{\r\n                color:'#93d3fc',\r\n                fontSize: 12,\r\n                align: 'right'\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                textStyle: {\r\n                    color: '#9bc8ff',\r\n                    fontSize: 13\r\n                },\r\n                interval: 0, //类目间隔 设置为 1，表示『隔一个标签显示一个标签』\r\n                margin: 10,\r\n                //formatter: '{value}'\r\n            },\r\n            splitNumber: 3, //y轴刻度设置(值越大刻度越小)\r\n            axisLine:{ //y轴线\r\n                show: false\r\n            },\r\n            splitLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: 'rgba(15,45,134,.6)', //横向网格线颜色\r\n                    width: 1\r\n                }\r\n            },\r\n            axisTick:{\r\n                show: false //坐标轴小标记\r\n            }\r\n        },\r\n        series:[\r\n            {\r\n                name:'在建',\r\n                type: 'effectScatter', //effectScatter 涟漪效果, scatter 散点\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'rgba(255,55,135,1)', //颜色\r\n                    }\r\n                },\r\n                symbol: 'circle', //circle, rect, roundRect, triangle,  pin, diamond, arrow\r\n                symbolPosition: 'end',\r\n                symbolSize: 20,\r\n                symbolOffset: [0, '-120%'],\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){ \r\n                        var itemName = items.name,\r\n                            itemValue = items.value,\r\n                            itemStyle = itemValue/1600; //console.log(itemStyle)\r\n                        arr.push({\r\n                            name: itemName,\r\n                            value: itemValue,\r\n                            symbolSize: itemStyle\r\n                        })\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据并设置图形尺寸\r\n            },\r\n            {\r\n                name:'违建',\r\n                type:'pictorialBar',\r\n                barWidth: 40,\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: {\r\n                            type: 'linear',\r\n                            x: 0,\r\n                            y: 0,\r\n                            x2: 0,\r\n                            y2: 1,\r\n                            colorStops: [{\r\n                                offset: 0, color: 'rgba(142,48,255,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1, color: 'rgba(142,48,255,.2)' // 100% 处的颜色\r\n                            }],\r\n                            globalCoord: false // 缺省为 false\r\n                        }, //渐变颜色\r\n                    }\r\n                },\r\n                symbol: 'path://M12.000,-0.000 C12.000,-0.000 16.074,60.121 22.731,60.121 C26.173,60.121 -3.234,60.121 0.511,60.121 C7.072,60.121 12.000,-0.000 12.000,-0.000 Z',\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){\r\n                        arr.push(items.value1);   //value\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据\r\n            },\r\n            {\r\n                name:'整改',\r\n                type:'pictorialBar',\r\n                barWidth: 40,\r\n                stack: '总量',\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                        position: 'top',\r\n                        textStyle: {\r\n                            color: '#9bc8ff',\r\n                            fontSize: 12\r\n                        },\r\n                        formatter: '{c}' //图形上显示数字\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: {\r\n                            type: 'linear',\r\n                            x: 0,\r\n                            y: 0,\r\n                            x2: 0,\r\n                            y2: 1,\r\n                            colorStops: [{\r\n                                offset: 0, color: 'rgba(0,236,150,1)' // 0% 处的颜色\r\n                            }, {\r\n                                offset: 1, color: 'rgba(0,236,150,.2)' // 100% 处的颜色\r\n                            }],\r\n                            globalCoord: false // 缺省为 false\r\n                        }, //渐变颜色\r\n                    }\r\n                },\r\n                symbol: 'path://M12.000,-0.000 C12.000,-0.000 16.074,60.121 22.731,60.121 C26.173,60.121 -3.234,60.121 0.511,60.121 C7.072,60.121 12.000,-0.000 12.000,-0.000 Z',\r\n                data: (function(data){\r\n                    var arr=[];\r\n                    data.forEach(function(items){\r\n                        arr.push(items.value2);   //value\r\n                    });\r\n                    return arr;\r\n                })(chartData)  //载入数据\r\n            }\r\n        ]   \r\n    };\r\n\r\n    var app = {\r\n            curIndex: -1,\r\n    };\r\n    setInterval(()=> {\r\n        var dataLen = chartData.length;\r\n        \r\n        // 取消之前高亮的图形\r\n        myChart.dispatchAction({\r\n            type: 'downplay',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex\r\n        });\r\n    \r\n        app.curIndex = (app.curIndex + 1) % dataLen;\r\n    \r\n        // 高亮当前图形\r\n        myChart.dispatchAction({\r\n            type: 'highlight',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex,\r\n        });\r\n    \r\n        // 显示 tooltip\r\n        myChart.dispatchAction({\r\n            type: 'showTip',\r\n            seriesIndex: 0,\r\n            dataIndex: app.curIndex\r\n        });\r\n    \r\n    }, 3000);\r\n","html":"","externalScripts":"","updaterUID":"obd-oAlFYisM8E7gN8M2hZfP9KB4LbEBg7b","theme":"","layout":"","viewCount":0,"userName":"c***9","commentCount":0,"starCount":0,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xP9fEXDbcG.png?v=1635125831784","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-effectScatter","series-pictorialBar","title","tooltip"],"customTags":[],"updaterUserName":"c***9"}}