{"status":0,"data":{"cid":"xggNsc-Vty","authorUid":"obd-o24yyFRUITdJ1B79kj67FCBzEIRV3BT","authorUserName":"李***o","title":"日历","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-11-05T06:35:53.000Z","lastUpdateTime":"2021-11-05T06:35:53.000Z","auth":2,"uid":"obd-o24yyFRUITdJ1B79kj67FCBzEIRV3BT","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.2.2","versionCreateTime":"2021-11-05T06:35:53.000Z","code":"      let time ='2021-11'\r\n      \r\n       let maxArr = [];\r\n\r\n        let month = new Date(time).getMonth() + 1; //获取当前月\r\n        var year = new Date(time).getFullYear(); //获取当前年\r\n        var datas = []; //新建日期数组\r\n        var dataLength = new Date(year, month).toJSON().substring(0, 10).split('-')[2]; //获取当前年月日期最大值\r\n        for (var i = 0; i < Number(dataLength); i++) {\r\n            let months = month >= 10 ? month : '0' + month;\r\n            let day = i + 1 >= 10 ? i + 1 : '0' + (i + 1);\r\n            datas.push({ date: year + '-' + months + '-' + day, total: Math.floor(Math.random() * 100) }); //存入数组\r\n        }\r\n        let chartData = [];\r\n        datas.forEach((item) => {\r\n            maxArr.push(item.total);\r\n            chartData.push({\r\n                value: [item.date, item.total],\r\n            });\r\n        });\r\n        let thisMonth = time; //当前月份\r\n option ={\r\n            tooltip: {\r\n                backgroundColor: '#3A5B90',\r\n                textStyle: {\r\n                    color: '#A7E4FD',\r\n                    fontSize: 18\r\n                },\r\n                formatter: function (params) {\r\n                    return '入场车辆数: ' + params.value[1];\r\n                },\r\n            },\r\n            visualMap: {\r\n                min: 0,\r\n                max: 300,\r\n                inRange: {\r\n                    color: ['#1EBED4', '#1CE4FF', '#1780AC'],\r\n                },\r\n                show: false,\r\n            },\r\n            calendar: {\r\n                cellSize: ['auto', 52],\r\n                left: '10%',\r\n                right: '10%',\r\n                top: '10%',\r\n                orient: 'vertical',\r\n                range: [thisMonth],\r\n                itemStyle: {\r\n                    borderColor: '#060F2C',\r\n                    borderWidth: 1,\r\n                },\r\n                splitLine: {\r\n                    show: false,\r\n                },\r\n                yearLabel: { show: false },\r\n                monthLabel: {\r\n                    show: false,\r\n                },\r\n                dayLabel: {\r\n                    firstDay: 1,\r\n                    margin: 10,\r\n                    nameMap: 'cn',\r\n                    textStyle: {\r\n                        color: '#579AF9',\r\n                        fontSize: 16,\r\n                    },\r\n                },\r\n            },\r\n            series: [\r\n                {\r\n                    type: 'scatter',\r\n                    coordinateSystem: 'calendar',\r\n                    symbolSize: 1,\r\n                    label: {\r\n                        normal: {\r\n                            show: true,\r\n                            formatter: function (params) {\r\n                                var d = echarts.number.parseDate(params.value[0]);\r\n                                return d.getDate();\r\n                            },\r\n                            textStyle: {\r\n                                color: '#fff',\r\n                                fontSize: 20,\r\n                                textShadowColor: '#0B1131',\r\n                                textShadowBlur: 0,\r\n                                textShadowOffsetX: 1,\r\n                                textShadowOffsetY: 1\r\n                            },\r\n                        },\r\n                    },\r\n                    data: chartData,\r\n                },\r\n                {\r\n                    type: 'heatmap',\r\n                    coordinateSystem: 'calendar',\r\n                    data: chartData\r\n                },\r\n            ],\r\n        };","html":"","externalScripts":"","updaterUID":"obd-o24yyFRUITdJ1B79kj67FCBzEIRV3BT","theme":"","layout":"","viewCount":0,"userName":"李***o","commentCount":0,"starCount":1,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xggNsc-Vty.png?v=1636094153372","isCustomThumbnail":0,"builtinTags":["calendar","category-work","series-heatmap","series-scatter","tooltip","visualMap"],"customTags":[],"updaterUserName":"李***o"}}