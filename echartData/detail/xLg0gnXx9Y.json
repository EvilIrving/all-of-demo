{"status":0,"data":{"cid":"xLg0gnXx9Y","authorUid":"bd-2674457144","authorUserName":"低***h","title":"动态轮播饼图","description":"","latestVersion":2,"alwaysLatest":1,"createTime":"2019-09-09T03:56:05.000Z","lastUpdateTime":"2019-09-09T03:56:05.000Z","auth":2,"uid":"bd-2674457144","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":2,"parentVersion":1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-23T02:43:48.000Z","code":"var name_flag = 0;\nvar data = [{\n        \"value\": \"1046\",\n        \"name\": \"洞洞一\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"#058aee\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"#0ed2f9\"\n                        }\n                    ]\n                }\n            }\n        }\n    },\n    {\n        \"value\": \"903\",\n        \"name\": \"洞洞二\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"#0666e8\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"#0486ed\"\n                        }\n                    ]\n                }\n            }\n        }\n    },\n    {\n        \"value\": \"784\",\n        \"name\": \"洞洞三\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"rgb(0,254,157)\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"rgb(2,191,241)\"\n                        }\n                    ]\n                }\n            }\n        }\n    },\n    {\n        \"value\": \"683\",\n        \"name\": \"洞洞四\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"rgb(51,156,255)\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"rgb(145,127,255)\"\n                        }\n                    ]\n                }\n            }\n        }\n    },\n    {\n        \"value\": \"659\",\n        \"name\": \"洞洞五\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"#fdc502\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"#fcfa02\"\n                        }\n                    ]\n                }\n            }\n        }\n    },\n    {\n        \"value\": 1488,\n        \"name\": \"洞洞六\",\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": {\n                    \"x\": 1,\n                    \"y\": 1,\n                    \"x2\": 0,\n                    \"y2\": 0,\n                    \"type\": \"linear\",\n                    \"global\": false,\n                    \"colorStops\": [{\n                            \"offset\": 0,\n                            \"color\": \"#ea7500\"\n                        },\n                        {\n                            \"offset\": 1,\n                            \"color\": \"#ffaf60\"\n                        }\n                    ]\n                }\n            }\n        }\n    }\n];\nvar option = {\n    backgroundColor: '#010828',\n    \"title\": [{\n            \"show\": true,\n            \"text\": \"\",\n            \"textStyle\": {\n                \"color\": \"white\",\n                \"fontSize\": 18,\n                \"fontStyle\": \"normal\",\n                \"fontWeight\": \"normal\"\n            },\n            \"top\": \"42%\",\n            \"left\": \"center\"\n        },\n        {\n            \"show\": true,\n            \"text\": \"\",\n            \"textStyle\": {\n                \"color\": \"white\",\n                \"fontSize\": 16,\n                \"fontStyle\": \"normal\",\n                \"fontWeight\": \"normal\"\n            },\n            \"top\": \"52%\",\n            \"left\": \"center\"\n        },\n    ],\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{b} <br/>数量:{c} ({d}%)\",\n        textStyle: {\n            // fontSize: 36,\n            fontWeight: 'bold',\n            color: 'white',\n        },\n    },\n    //自己设置扇形图颜色\n    series: [{\n            name: '洞洞',\n            type: 'pie',\n            //位置\n            center: ['50%', '50%'],\n            radius: ['30%', '50%'],\n            avoidLabelOverlap: false,\n            selectedOffset: 25,\n            hoverAnimation: false,\n            itemStyle: {\n                normal: {\n                    shadowColor: 'rgba(0, 0, 0, 0.8)',\n                    shadowBlur: 10,\n                }\n            },\n            labelLine: {\n                length: 27,\n                length2: 30,\n                lineStyle: {\n                    width: 3\n                }\n            },\n            label: {\n                fontWeight: 'bold',\n                fontSize: '20',\n                color: 'white'\n            },\n            data: data\n        },\n        {\n            name: '访问',\n            type: 'pie',\n            radius: '30%',\n            z: 1,\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: false\n                    },\n                    labelLine: {\n                        show: false\n                    }\n                },\n                emphasis: {\n                    label: {\n                        show: false,\n                        position: 'center',\n                        textStyle: {\n                            fontSize: '30',\n                            fontWeight: 'bold'\n                        }\n                    }\n                }\n            },\n            color: ['#0e1d7a'],\n            data: [{\n                value: 100,\n                tooltip: {\n                    show: false\n                }\n            }, ]\n        }\n    ]\n};\nvar timeTicket = null;\ntimeTicket = setInterval(() => {\n    if (name_flag > 5) {\n        myChart.dispatchAction({\n            type: 'pieUnSelect',\n            seriesIndex: 0,\n            dataIndex: 5\n        });\n        name_flag = 0;\n    }\n    myChart.dispatchAction({\n        type: 'pieSelect',\n        seriesIndex: 0,\n        dataIndex: name_flag\n    });\n    if (name_flag !== 0) {\n        myChart.dispatchAction({\n            type: 'pieUnSelect',\n            seriesIndex: 0,\n            dataIndex: name_flag - 1\n        });\n    }\n    option.title[0].text = option.series[0].data[name_flag].name;\n    option.title[1].text = option.series[0].data[name_flag].value;\n    myChart.setOption(option);\n    name_flag++;\n}, 2000);\n\n//chui'zao'c会造成 \n// myChart.on('mouseover', function(params) {\n//     clearInterval(timeTicket);\n//     myChart.dispatchAction({\n//         type: 'pieUnSelect',\n//         seriesIndex: 0\n//     });\n//     myChart.dispatchAction({\n//         type: 'pieSelect',\n//         seriesIndex: 0,\n//         dataIndex: params.dataIndex\n//     });\n//     option.title[0].text = option.series[0].data[params.dataIndex].name;\n//     option.title[1].text = option.series[0].data[params.dataIndex].value;\n//     name_flag = params.dataIndex;\n//     console.log(name_flag);\n//     myChart.setOption(option);\n// });\n// myChart.on('mouseout', function(params) {\n//     clearInterval(timeTicket);\n//     timeTicket = setInterval(function() {\n//         if (name_flag > 5) {\n//             name_flag = 0;\n//         }\n//         myChart.dispatchAction({\n//             type: 'pieUnSelect',\n//             seriesIndex: 0,\n//         });\n//         myChart.dispatchAction({\n//             type: 'pieSelect',\n//             seriesIndex: 0,\n//             dataIndex: name_flag\n//         });\n//         option.title[0].text = option.series[0].data[name_flag].name;\n//         option.title[1].text = option.series[0].data[name_flag].value;\n//         name_flag++;\n//         myChart.setOption(option);\n//     }, 2000);\n// });","html":"","externalScripts":"","updaterUID":"bd-2674457144","theme":"","layout":"","viewCount":382,"userName":"低***h","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xLg0gnXx9Y.png?v=1574477028924","isCustomThumbnail":0,"builtinTags":["category-work","series-pie","title","tooltip"],"customTags":[],"updaterUserName":"低***h"}}