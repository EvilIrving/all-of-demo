{"status":0,"data":{"cid":"xHJxewNZdW","authorUid":"bd-1245979803","authorUserName":"d***t","title":"2016广东省各市人口与GDP","description":"人口，GDP点切换显示","latestVersion":24,"alwaysLatest":1,"createTime":"2017-08-16T03:07:20.000Z","lastUpdateTime":"2017-08-16T03:07:20.000Z","auth":2,"uid":"bd-1245979803","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":24,"parentVersion":23,"echartsVersion":"3.8.0","versionCreateTime":"2020-10-21T01:45:35.000Z","code":"var uploadedDataURL = \"/asset/get/s/data-1502779360900-HkKJuGe_W.json\";\r\n\r\nvar ppdata = [{\r\n    name: '广州市',\r\n    value: 1350\r\n}, {\r\n    name: '深圳市',\r\n    value: 1190\r\n}, {\r\n    name: '珠海市',\r\n    value: 167\r\n}, {\r\n    name: '汕头市',\r\n    value: 555\r\n}, {\r\n    name: '佛山市',\r\n    value: 743\r\n}, {\r\n    name: '韶关市',\r\n    value: 293\r\n}, {\r\n    name: '湛江市',\r\n    value: 724\r\n}, {\r\n    name: '肇庆市',\r\n    value: 405\r\n}, {\r\n    name: '江门市',\r\n    value: 451\r\n}, {\r\n    name: '茂名市',\r\n    value: 608\r\n}, {\r\n    name: '惠州市',\r\n    value: 475\r\n}, {\r\n    name: '梅州市',\r\n    value: 434\r\n}, {\r\n    name: '汕尾市',\r\n    value: 302\r\n}, {\r\n    name: '河源市',\r\n    value: 307\r\n}, {\r\n    name: '阳江市',\r\n    value: 251\r\n}, {\r\n    name: '清远市',\r\n    value: 383\r\n}, {\r\n    name: '东莞市',\r\n    value: 825\r\n}, {\r\n    name: '中山市',\r\n    value: 320\r\n}, {\r\n    name: '潮州市',\r\n    value: 264\r\n}, {\r\n    name: '揭阳市',\r\n    value: 605\r\n}, {\r\n    name: '云浮市',\r\n    value: 246\r\n}];\r\nvar gdpdata = [{\r\n    name: '广州市',\r\n    value: 19610\r\n}, {\r\n    name: '深圳市',\r\n    value: 19492\r\n}, {\r\n    name: '珠海市',\r\n    value: 2226\r\n}, {\r\n    name: '汕头市',\r\n    value: 2080\r\n}, {\r\n    name: '佛山市',\r\n    value: 8630\r\n}, {\r\n    name: '韶关市',\r\n    value: 1218\r\n}, {\r\n    name: '湛江市',\r\n    value: 2584\r\n}, {\r\n    name: '肇庆市',\r\n    value: 2084\r\n}, {\r\n    name: '江门市',\r\n    value: 2418\r\n}, {\r\n    name: '茂名市',\r\n    value: 2636\r\n}, {\r\n    name: '惠州市',\r\n    value: 3412\r\n}, {\r\n    name: '梅州市',\r\n    value: 1045\r\n}, {\r\n    name: '汕尾市',\r\n    value: 828\r\n}, {\r\n    name: '河源市',\r\n    value: 898\r\n}, {\r\n    name: '阳江市',\r\n    value: 1319\r\n}, {\r\n    name: '清远市',\r\n    value: 1388\r\n}, {\r\n    name: '东莞市',\r\n    value: 6827\r\n}, {\r\n    name: '中山市',\r\n    value: 3202\r\n}, {\r\n    name: '潮州市',\r\n    value: 976\r\n}, {\r\n    name: '揭阳市',\r\n    value: 2032\r\n}, {\r\n    name: '云浮市',\r\n    value: 778\r\n}];\r\nvar seriesdata = [{\r\n    name: '人口',\r\n    type: 'map',\r\n    map: '广东',\r\n    itemStyle: {\r\n        normal: {\r\n            label: {\r\n                show: true\r\n            }\r\n        },\r\n        emphasis: {\r\n            label: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    data: ppdata\r\n}, {\r\n    name: 'GDP',\r\n    type: 'map',\r\n    map: '广东',\r\n    itemStyle: {\r\n        normal: {\r\n            label: {\r\n                show: true\r\n            }\r\n        },\r\n        emphasis: {\r\n            label: {\r\n                show: true\r\n            }\r\n        }\r\n    },\r\n    data: gdpdata\r\n}, ];\r\n\r\nvar div=document.createElement('div');\r\ndiv.innerHTML=\"<hr>前尘往事成云烟<hr>\";\r\ndiv.style.color='#00BFFF';\r\ndiv.style.position='absolute';\r\ndiv.style.top='20%';\r\ndiv.style.left='15%';\r\nvar body = document.body;\r\nvar txtdeg=0;\r\nvar scalea=0.5;\r\nvar animat\r\nvar div1=document.createElement('div');\r\ndiv1.innerHTML=\"<hr>此情可待成追忆<hr>\";\r\ndiv1.style.color='#00BFFF';\r\ndiv1.style.position='absolute';\r\ndiv1.style.top='36%';\r\ndiv1.style.left='15%';\r\n\r\nfunction rorat() {\r\n    // div.style.WebkitTransform = `rotate(${txtdeg}deg)`;\r\n    // txtdeg-=30\r\n    // animat=setTimeout(rorat, 100);\r\n    div.style.WebkitTransform = `scale(${scalea})`;\r\n    scalea+=0.1;\r\n    div1.style.WebkitTransform = `rotate(${txtdeg}deg)`;\r\n    txtdeg-=30\r\n\r\n    animat=setTimeout(rorat, 200);\r\n    if(scalea>1.2){scalea=0.5}\r\n    \r\n}\r\n\r\nfunction opt(max, min, vmp, unit, flag1, flag2) {\r\n    var optn = {\r\n        title: {\r\n            text: '2016广东省各市' + vmp,\r\n            subtext: '数据来源网络（单位：' + unit + '）',\r\n            left: 'center',\r\n            textStyle: {\r\n                color: '#000'\r\n            }\r\n        },\r\n\r\n        legend: {\r\n            orient: 'vertical',\r\n            left: 'left',\r\n            data: ['人口', 'GDP'],\r\n            selectedMode: 'single',\r\n            selected: {\r\n                '人口': flag1,\r\n                'gdp': flag2\r\n            }\r\n        },\r\n        visualMap: {\r\n            min: min,\r\n            max: max,\r\n            text: [vmp, '单位：' + unit],\r\n            realtime: false,\r\n            calculable: true,\r\n            inRange: {\r\n                color: ['lightskyblue', 'yellow', 'orangered']\r\n            }\r\n        },\r\n        toolbox: {\r\n            show: true,\r\n            orient: 'vertical',\r\n            left: 'right',\r\n            top: 'center',\r\n            feature: {\r\n                dataView: {\r\n                    readOnly: false\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n            }\r\n        },\r\n        graphic: [{\r\n            type: 'group',\r\n            bounding: 'raw',\r\n            rotation: Math.PI / 4,\r\n            right: 100,\r\n            bottom: 100,\r\n            z: 100,\r\n            children: [{\r\n                type: 'rect',\r\n                left: 'center',\r\n                top: 'center',\r\n                z: 90,\r\n                shape: {\r\n                    width: 400,\r\n                    height: 50\r\n                },\r\n                style: {\r\n                    fill: 'rgba(0,0,0,0.3)'\r\n                }\r\n            }, {\r\n                type: 'text',\r\n                left: 'center',\r\n                top: 'center',\r\n                z: 100,\r\n                style: {\r\n                    fill: '#fff',\r\n                    text: 'd***t & ECHARTS',\r\n                    font: 'bold 26px Microsoft YaHei'\r\n                }\r\n            }],\r\n            onmouseover: function() {\r\n                body.appendChild(div);\r\n                body.appendChild(div1);\r\n                rorat()\r\n            },\r\n            onmouseout: function() {\r\n                body.removeChild(div);\r\n                body.removeChild(div1);\r\n                clearTimeout(animat)\r\n            }\r\n        }],\r\n        tooltip: {\r\n            formatter: function(params) {\r\n                return params.name + \": \" + params.value + unit;\r\n            }\r\n        },\r\n        series: seriesdata\r\n    };\r\n    return optn;\r\n}\r\n\r\n\r\noption = opt(1350, 160, '人口', '万', true, false);\r\noption1 = opt(19610, 770, 'GDP', '亿', false, true);\r\n$.get(uploadedDataURL, function(gdMap) {\r\n    echarts.registerMap('广东', gdMap);\r\n    myChart.setOption(option, true);\r\n\r\n});\r\nmyChart.on('legendselectchanged', function(params) {\r\n    if (params.name == '人口') {\r\n        //$.get(uploadedDataURL, function(gdMap) {\r\n            //echarts.registerMap('广东', gdMap);\r\n            myChart.setOption(option, true);\r\n\r\n        //});\r\n    } else {\r\n        //$.get(uploadedDataURL, function(gdMap) {\r\n            //echarts.registerMap('广东', gdMap);\r\n            myChart.setOption(option1, true);\r\n\r\n        //});\r\n    }\r\n});","html":"","externalScripts":"","updaterUID":"bd-1245979803","theme":"","layout":"","viewCount":8158,"userName":"d***t","commentCount":6,"starCount":21,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xHJxewNZdW.png?v=1603244735671","isCustomThumbnail":0,"builtinTags":["category-work","graphic","legend","series-map","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"d***t"}}