{"status":0,"data":{"cid":"x4RvLmzJ8o","authorUid":"obd-oD0aOflCMIDlZs7gbLo-P1uWWLapq1F","authorUserName":"风***6","title":"地域分布","description":"","latestVersion":1,"alwaysLatest":0,"createTime":"2021-07-27T07:01:33.000Z","lastUpdateTime":"2021-07-27T07:01:33.000Z","auth":2,"uid":"obd-oD0aOflCMIDlZs7gbLo-P1uWWLapq1F","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"5.1.2","versionCreateTime":"2021-07-27T07:01:33.000Z","code":"var citydata = [\n    {\n        name: '北京',\n        value: 974,\n    },\n    {\n        name: '天津',\n        value: 532,\n    },\n    {\n        name: '上海',\n        value: 834,\n    },\n    {\n        name: '重庆',\n        value: 683,\n    },\n    {\n        name: '河北',\n        value: 283,\n    },\n    {\n        name: '河南',\n        value: 345,\n    },\n    {\n        name: '云南',\n        value: 72,\n    },\n    {\n        name: '辽宁',\n        value: 194,\n    },\n    {\n        name: '黑龙江',\n        value: 342,\n    },\n    {\n        name: '湖南',\n        value: 389,\n    },\n    {\n        name: '安徽',\n        value: 267,\n    },\n    {\n        name: '山东',\n        value: 675,\n    },\n    {\n        name: '新疆',\n        value: 14,\n    },\n    {\n        name: '江苏',\n        value: 974,\n    },\n    {\n        name: '浙江',\n        value: 978,\n    },\n    {\n        name: '江西',\n        value: 528,\n    },\n    {\n        name: '湖北',\n        value: 144,\n    },\n    {\n        name: '广西',\n        value: 448,\n    },\n    {\n        name: '甘肃',\n        value: 197,\n    },\n    {\n        name: '山西',\n        value: 203,\n    },\n    {\n        name: '内蒙古',\n        value: 73,\n    },\n    {\n        name: '陕西',\n        value: 563,\n    },\n    {\n        name: '吉林',\n        value: 147,\n    },\n    {\n        name: '福建',\n        value: 112,\n    },\n    {\n        name: '贵州',\n        value: 373,\n    },\n    {\n        name: '广东',\n        value: 2747,\n    },\n    {\n        name: '青海',\n        value: 38,\n    },\n    {\n        name: '西藏',\n        value: 12,\n    },\n    {\n        name: '四川',\n        value: 215,\n    },\n    {\n        name: '宁夏',\n        value: 172,\n    },\n    {\n        name: '海南',\n        value: 77,\n    },\n    {\n        name: '台湾',\n        value: 123,\n    },\n    {\n        name: '香港',\n        value: 32,\n    },\n    {\n        name: '澳门',\n        value: 43,\n    },\n    {\n        name: '南海诸岛',\n        value: 53,\n    },\n];\n\nvar yMax = 1000;\nvar dataShadow = [];\n\nvar resultdata0 = [];\nvar titledata = [];\nvar bartop10 = [];\n\nfunction NumDescSort(a, b) {\n    return b.value - a.value;\n}\n\nfunction NumAsceSort(a, b) {\n    return a.value - b.value;\n}\n\n// 先进行一次降序排序，找出最大的前十个\ncitydata.sort(NumDescSort);\n\nfor (var i = 0; i < 20; i++) {\n    var top10 = {\n        name: citydata[i].name,\n        value: citydata[i].value,\n    };\n    bartop10.push(top10);\n    dataShadow.push(yMax);\n}\n\nbartop10.sort(NumAsceSort);\nfor (var i = 0; i < bartop10.length; i++) {\n    titledata.push(bartop10[i].name);\n}\n\n// console.log(citydata);\n// console.log(bartop10);\n// console.log(titledata);\n\nvar option = {\n    title: [\n        {\n            show: false,\n            text: '地域分布',\n        },\n        {\n            show: true,\n            text: '省份/直辖市TOP20',\n            right: '20',\n            textStyle: {\n                color: '#666666',\n                fontSize: 12,\n            },\n        },\n    ],\n    tooltip: {\n        trigger: 'item',\n    },\n    legend: {\n        show: false,\n    },\n    grid: {\n        // 仅仅控制条形图的位置\n        show: true,\n        containLabel: false,\n        right: 40,\n        top: 50,\n        bottom: 30,\n        width: '20%',\n    },\n    visualMap: {\n        type: 'continuous',\n        min: 0,\n        max: 1000,\n        text: ['多', '少'],\n        seriesIndex: [0, 2],\n        dimension: 0,\n        realtime: false,\n        left: 0,\n        itemWidth: 18,\n        itemHeight: 100,\n        calculable: true,\n        inRange: {\n            color: ['rgba(159,205,253,0.50)', '#60ACFC'],\n            symbolSize: [100, 100],\n        },\n        outOfRange: {\n            color: ['#eeeeee'],\n            symbolSize: [100, 100],\n        },\n    },\n    toolbox: {\n        show: false,\n    },\n\n    xAxis: [\n        {\n            type: 'value',\n            position: 'top',\n            inside: false,\n            axisLabel: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            margin: 10,\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            boundaryGap: true,\n            axisLine: {\n                show: false,\n            },\n            axisLabel: {\n                align: 'right',\n                margin: 10,\n                showMaxLabel: true,\n            },\n            data: titledata,\n        },\n    ],\n\n    series: [\n        {\n            name: '占比',\n            type: 'map',\n            mapType: 'china',\n            left: '100',\n            width: '60%',\n            roam: 'move',\n            mapValueCalculation: 'sum',\n            zoom: 1,\n            selectedMode: false,\n            showLegendSymbol: false,\n            label: {\n                normal: {\n                    textStyle: {\n                        color: '#666',\n                    },\n                },\n                emphasis: {\n                    textStyle: {\n                        color: '#234EA5',\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    areaColor: '#EEEEEE',\n                    borderColor: '#FFFFFF',\n                },\n                emphasis: {\n                    areaColor: '#E5F39B',\n                },\n            },\n            data: citydata,\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            roam: false,\n            visualMap: false,\n            itemStyle: {\n                color: '#eeeeee',\n                opacity: 0.5,\n            },\n            label: {\n                show: false,\n            },\n            emphasis: {\n                itemStyle: {\n                    color: '#eeeeee',\n                    opacity: 0.5,\n                },\n                label: {\n                    show: false,\n                },\n            },\n            silent: true,\n            barWidth: 18,\n            barGap: '-100%',\n            data: dataShadow,\n            animation: false,\n        },\n        {\n            name: '占比',\n            type: 'bar',\n            roam: false,\n            visualMap: false,\n            // itemStyle: {\n            //   color: \"#60ACFC\"\n            // },\n            barWidth: 18,\n            label: {\n                normal: {\n                    show: true,\n                    fontSize: 12,\n                    position: 'insideLeft',\n                },\n                emphasis: {\n                    show: true,\n                },\n            },\n            data: bartop10,\n        },\n    ],\n};\n","html":"","externalScripts":"https://cdn.jsdelivr.net/npm/echarts/dist/extension/bmap.min.js,https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js,https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js,https://cdn.jsdelivr.net/npm/echarts/dist/extension/dataTool.min.js,https://cdn.jsdelivr.net/npm/echarts/map/js/china.js,https://cdn.jsdelivr.net/npm/echarts/map/js/world.js","updaterUID":"obd-oD0aOflCMIDlZs7gbLo-P1uWWLapq1F","theme":"","layout":"","viewCount":0,"userName":"风***6","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/x4RvLmzJ8o.png?v=1627369294015","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","series-map","title","toolbox","tooltip","visualMap"],"customTags":[],"updaterUserName":"风***6"}}