{"status":0,"data":{"cid":"xlCA5Px7Ji","authorUid":"bd-2940081396","authorUserName":"w***色","title":"新能源使用进度条","description":"","latestVersion":7,"alwaysLatest":0,"createTime":"2021-08-13T03:13:43.000Z","lastUpdateTime":"2021-08-13T03:37:06.000Z","auth":2,"uid":"bd-2940081396","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":7,"parentVersion":6,"echartsVersion":"5.1.2","versionCreateTime":"2021-08-13T03:37:06.000Z","code":"\r\nvar  category= [\r\n    {\r\n        name: \"风力-本年总用电量\",\r\n        eType: \"3590kw-h\",\r\n        value: 3000\r\n    },\r\n    {\r\n        name: \"光伏-本年总用电量\",\r\n        eType: \"2800kw-h\",\r\n        value: 3000\r\n    },\r\n    {\r\n        name: \"风力-上月总用电量\",\r\n        eType: \"520kw-h\",\r\n        value: 8000\r\n    },\r\n    {\r\n        name: \"光伏-上月总用电量\",\r\n        eType: \"380kw-h\",\r\n        value: 2500\r\n    }\r\n]; // 类别\r\nvar total = 10000; // 数据总数\r\nvar  datas = [];\r\ncategory.forEach(value => {\r\n    datas.push({\r\n        eType : value.eType,\r\n        value: value.value\r\n    });\r\n});\r\noption = {\r\n    backgroundColor:'#071347',\r\n    legend: {\r\n        data: [\r\n          {\r\n            name: '风力',\r\n            icon: 'rect',\r\n            itemStyle: {\r\n              color: '#239cf9'\r\n            },\r\n          },\r\n          {\r\n            name: '光伏',\r\n            icon: 'rect',\r\n            itemStyle: {\r\n              color: '#EB5118'\r\n            },\r\n          },\r\n        ],\r\n        itemWidth: 20,\r\n        itemHeight: 20,\r\n        itemGap:100,\r\n        textStyle: {\r\n          fontSize: 14,\r\n          color: '#fff'\r\n        },\r\n        top:'3%',\r\n        right: '2%'\r\n      },\r\n    xAxis: {\r\n        max: total,\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        }\r\n    },\r\n    grid: {\r\n        left: 80,\r\n        top: 20, // 设置条形图的边距\r\n        right: 80,\r\n        bottom: 20\r\n    },\r\n    yAxis: [{\r\n        type: \"category\",\r\n        inverse: false,\r\n        data: category,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        }\r\n    }],\r\n    series: [{\r\n        name:'风力',\r\n            // 内\r\n            type: \"bar\",\r\n            barWidth: 18,\r\n            legendHoverLink: false,\r\n            silent: true,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function(params) {\r\n                        console.log(params.dataIndex)\r\n                        var color;\r\n                        if(params.dataIndex % 2 != 0){\r\n                             color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#EB511810\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#EB5118\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }else{\r\n                            color = {\r\n                                type: \"linear\",\r\n                                x: 0,\r\n                                y: 0,\r\n                                x2: 1,\r\n                                y2: 0,\r\n                                colorStops: [{\r\n                                        offset: 0,\r\n                                        color: \"#0F407110\" // 0% 处的颜色\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: \"#1588D1\" // 100% 处的颜色\r\n                                    }\r\n                                ]\r\n                            }\r\n                            }\r\n                            return color;\r\n                    },\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: ['0', '-130%'],\r\n                    formatter: \"{b}\",\r\n                    textStyle: {\r\n                        color: \"#fff\",\r\n                        fontSize: 14\r\n                    }\r\n                }\r\n            },\r\n            data: category,\r\n            z: 1,\r\n            animationEasing: \"elasticOut\"\r\n        },\r\n        {\r\n            // 分隔\r\n            type: \"pictorialBar\",\r\n            itemStyle: {\r\n                normal:{\r\n                    color:\"#061348\"\r\n                }\r\n            },\r\n            symbolRepeat: \"fixed\",\r\n            symbolMargin: 30,\r\n            symbol: \"rect\",\r\n            symbolClip: true,\r\n            symbolSize: [5, 21],\r\n            symbolPosition: \"start\",\r\n            symbolOffset: [1, -1],\r\n            symbolBoundingData: this.total,\r\n            data: category,\r\n            z: 2,\r\n            animationEasing: \"elasticOut\"\r\n        },\r\n        {\r\n            name:'光伏',\r\n            // 外边框\r\n            type: \"pictorialBar\",\r\n            symbol: \"rect\",\r\n            symbolBoundingData: total,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"none\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                \tformatter: (params) => {\r\n                \t\tvar text;\r\n                        text = '{f|  '+params.data.eType+'}';\r\n                        return text;\r\n    \t\t\t\t},\r\n    \t\t\t\trich:{\r\n    \t\t\t\t\ta: {\r\n    \t\t\t            color: 'red'\r\n    \t\t\t        },\r\n    \t\t\t        b: {\r\n    \t\t\t        \tcolor: 'blue'\r\n    \t\t\t        },\r\n    \t\t\t        c:{\r\n    \t\t\t        \tcolor: 'yellow'\r\n    \t\t\t        },\r\n    \t\t\t        d:{\r\n    \t\t\t        \tcolor:\"green\"\r\n    \t\t\t        },\r\n    \t\t\t        f:{\r\n    \t\t\t        \tcolor:\"#ffffff\"\r\n    \t\t\t        }\r\n    \t\t\t\t},\r\n    \t\t\t\tposition: 'right',\r\n    \t\t\t\tdistance: 0, // 向右偏移位置\r\n    \t\t\t\tshow: true\r\n                }\r\n            },\r\n            data: datas,\r\n            z: 0,\r\n            animationEasing: \"elasticOut\"\r\n        },\r\n        {\r\n            name: \"外框\",\r\n            type: \"bar\",\r\n            barGap: \"-120%\", // 设置外框粗细\r\n            data: [total, total, total, total],\r\n            barWidth: 25,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"transparent\", // 填充色\r\n                    barBorderColor: \"#1C4B8E\", // 边框色\r\n                    barBorderWidth: 1, // 边框宽度\r\n                    // barBorderRadius: 0, //圆角半径\r\n                    label: {\r\n                        // 标签显示位置\r\n                        show: false,\r\n                        position: \"top\" // insideTop 或者横向的 insideLeft\r\n                    }\r\n                }\r\n            },\r\n            z: 0\r\n        }\r\n    ]\r\n};\r\n\r\n\r\n","html":"","externalScripts":"","updaterUID":"bd-2940081396","theme":"","layout":"","viewCount":0,"userName":"w***色","commentCount":0,"starCount":5,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xlCA5Px7Ji.png?v=1628825827040","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-pictorialBar"],"customTags":[],"updaterUserName":"w***色"}}