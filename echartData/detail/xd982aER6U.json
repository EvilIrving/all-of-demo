{"status":0,"data":{"cid":"xd982aER6U","authorUid":"obd-oN7OQrfc4T57mcSC_m70cvg4_pbrEC6","authorUserName":"小***画","title":"bar-左右分布-时间段分布","description":"","latestVersion":4,"alwaysLatest":0,"createTime":"2021-12-15T02:32:35.000Z","lastUpdateTime":"2021-12-15T03:18:08.000Z","auth":2,"uid":"obd-oN7OQrfc4T57mcSC_m70cvg4_pbrEC6","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":4,"parentVersion":3,"echartsVersion":"5.2.2","versionCreateTime":"2021-12-15T03:18:08.000Z","code":"const backgroundColor = '#101736';\nconst colors = ['#FF3D10', '#16CEB9'];\nconst title = {\n    show: true,\n    text: '时间段分布',\n    textStyle: {\n        fontSize: 28,\n        color: '#ffffff',\n        fontFamily: 'PingFangSC-Medium, PingFang SC',\n        fontWeight: 500,\n        textShadowColor: '#4bb2ff',\n        textShadowBlur: 12,\n        textShadowOffsetX: 0,\n        textShadowOffsetY: 0,\n    },\n    padding: 0,\n    top: 20,\n    left: 25,\n};\nconst legend = {\n    show: true,\n    //data，就是取得每个series里面的name属性。\n    orient: 'horizontal',\n    icon: 'circle', //图例形状\n    padding: 0,\n    top: 35,\n    right: 40,\n    itemWidth: 14, //小圆点宽度\n    itemHeight: 14, // 小圆点高度\n    itemGap: 21, // 图例每项之间的间隔。[ default: 10 ]横向布局时为水平间隔，纵向布局时为纵向间隔。\n    textStyle: {\n        fontSize: 14,\n        color: '#ffffff',\n    },\n};\nconst tooltip = {\n    show: true,\n    trigger: 'axis',\n    axisPointer: {\n        type: 'shadow',\n    },\n    //之所以formatter写的那么复杂是因为数据出水实警里面是负数。要把负数转为正数\n    formatter: (params) => {\n        let str = `<div>${params[0].name}</div>`\n        return str+=params\n            .map((item) => {\n                return `<div><span style=\"display:inline-block;margin-right:5px;border-radius:50%;width:10px;height:10px;background-color:${item.color}\"></span>\n                ${item.seriesName} ${Math.abs(item.value)}</div>\n                `\n            })\n            .join('');\n        \n    },\n};\nconst getBorderRadius = (index) => {\n    if (index === 0) return [0, 100, 100, 0];\n    if (index === 1) return [100, 0, 0, 100];\n    return 0;\n};\n// x轴\nconst nameArr = [\n    '00:00-02:00',\n    '02:00-04:00',\n    '04:00-06:00',\n    '06:00-08:00',\n    '08:00-10:00',\n    '10:00-12:00',\n    '12:00-14:00',\n    '14:00-16:00',\n    '16:00-18:00',\n    '18:00-20:00',\n    '20:00-22:00',\n    '22:00-24:00',\n];\n\nconst originData = [\n    {\n        name: '火灾实警',\n        value: [400, 241, 360, 320, 302, 341, 374, 390, 450, 420, 345, 257],\n    },\n    {\n        name: '出水实警',\n        value: [-120, -180, -120, -120, -132, -101, -134, -190, -230, -210, -234, -145],\n    },\n];\nconst series = originData.map((item, index) => ({\n    name: item.name,\n    type: 'bar',\n    stack: 'total',\n    label: {\n        show: false, //不显示item上面的数字\n    },\n    lineStyle: {\n        width: 2,\n        color: colors[index], // 线条颜色\n    },\n    barWidth: 22,\n    itemStyle: {\n        color: colors[index],\n        borderColor: '#ccc',\n        borderWidth: 1,\n        borderRadius: getBorderRadius(index),\n    },\n    data: item.value,\n}));\n\noption = {\n    backgroundColor,\n    title,\n    tooltip,\n    legend,\n\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true,\n    },\n    xAxis: [\n        {\n            type: 'value',\n            show: false,\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            axisTick: { show: false },\n            data: nameArr,\n            axisLabel: {\n                color: '#FFFFFF',\n                fontSize: 14,\n            },\n            axisLine: {\n                show: false,\n            },\n        },\n    ],\n\n    series: series,\n};\n","html":"","externalScripts":"","updaterUID":"obd-oN7OQrfc4T57mcSC_m70cvg4_pbrEC6","theme":"","layout":"","viewCount":0,"userName":"小***画","commentCount":0,"starCount":2,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xd982aER6U.png?v=1639538288515","isCustomThumbnail":0,"builtinTags":["category-work","grid","legend","series-bar","title","tooltip"],"customTags":[],"updaterUserName":"小***画"}}