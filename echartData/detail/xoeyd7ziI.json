{"status":0,"data":{"cid":"xoeyd7ziI","authorUid":"bd-1640701624","authorUserName":"n***1","title":"温度计","description":"","latestVersion":1,"alwaysLatest":1,"createTime":"2019-11-20T05:20:06.000Z","lastUpdateTime":"2019-11-20T05:20:06.000Z","auth":2,"uid":"bd-1640701624","publishedVersion":0,"forkFrom":"-","isSpam":0,"version":1,"parentVersion":-1,"echartsVersion":"4.4.0","versionCreateTime":"2019-11-20T05:20:06.000Z","code":"var xAxisData = ['选址意见书', '用地规划条件', '用地规划条件变更', '用地规划许可证', '用地规划许可变更', '方案审查', '工程规划许可证', '工程规划许可变更', '规划验线', '规划条件核实']\n      var dataArr = [1403, 32884, 10229, 9969, 8456, 11262, 58846, 8100, 20676, 33563]\n      var maxData = []\n      dataArr.sort(function (a, b) {\n        return a - b\n      })\n      var max = dataArr[dataArr.length - 1]\n      dataArr.forEach((item, index) => {\n        maxData[index] = max\n      })\n\noption =  {\n        grid: {\n          top: '25%',\n          left: '5%',\n          right: '10%',\n          bottom: '8%',\n          containLabel: true\n        },\n        tooltip: {//提示信息\n          show: 'true',\n          trigger: 'axis',\n          axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n            shadowStyle: {\n              color: 'rgba(112,112,112,0)'\n            }\n          },\n          formatter: function(params) {\n            var unit = params[0].name.substring(params[0].name.indexOf('(') + 1, params[0].name.indexOf(')'))\n            return params[0].name + '：' + params[0].value + '条数据'\n          },\n          backgroundColor: 'rgba(0,0,0,0.7)', // 背景\n          padding: [8, 10], //内边距\n          extraCssText: 'box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);' //添加阴影\n        },\n        xAxis: [{//x轴相关设置\n          show: true,\n          name: '来源',\n          nameTextStyle: {\n            fontSize: 14,\n            fontFamily: 'Microsoft YaHei',\n            color: '#fff'\n          },\n          type: 'category',\n          nameLocation: 'end',\n          nameGap: 8,\n          z: 5,\n          axisLabel: {\n            show: true,\n            fontSize: 16,\n            fontFamily: 'Microsoft YaHei',\n            color: '#fff',\n            interval: 0,\n            margin: 16,\n            formatter: function(val) {\n              var strs = val.split('') //字符串数组\n              var str = ''\n              for (var i = 0, s; s = strs[i++];) { //遍历字符串数组\n                str += s\n                if (!(i % 3)) {\n                  str += '\\n'\n                }\n              }\n              return '{title|' + str + '} '\n            },\n            rich: {\n              title: {\n                fontSize: 12\n              }\n            }\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          data: xAxisData\n        }, {\n          type: 'category',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            show: false\n          },\n          splitArea: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          },\n          data: xAxisData\n        }, {\n          type: 'category',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            show: false,\n            color: '#fff'\n          },\n          splitArea: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          },\n          data: xAxisData\n        }],\n        yAxis: {\n          type: 'value',\n          name: '数量',\n          minInterval: 1,\n          nameLocation: 'end',\n          nameGap: 10,\n          splitLine: { //网格线\n            lineStyle: {\n              type: 'dashed' //设置网格线类型 dotted：虚线   solid:实线\n            },\n            show: true //隐藏或显示\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            show: true,\n            fontSize: 12,\n            fontFamily: 'Arial',\n            color: '#BFBFBF'\n          },\n          axisLine: {\n            show: false\n          }\n        },\n        series: [{//中间的细柱条\n          type: 'bar',\n          stack: 1,\n          xAxisIndex: 0,\n          barWidth: 10,\n          barGap: 5,\n          z: 2,\n          itemStyle: {\n            normal: {\n              barBorderRadius: [50, 50, 0, 0],\n              color: function (params) {\n                var colorList = ['#D2D5FF', '#C1FAFF']\n                if (params.dataIndex % 2 === 0) {\n                  return colorList[0]\n                } else {\n                  return colorList[1]\n                }\n              }\n            }\n          },\n          data: (function() {\n            var itemArr = []\n            for (var i = 1; i < (dataArr.length + 1); i++) {\n              var item = {\n                value: dataArr[i - 1]\n\n              }\n              itemArr.push(item)\n            }\n            return itemArr\n          }())\n        },\n        {//圆柱中的空隙部分\n          type: 'bar',\n          xAxisIndex: 1,\n          barGap: '140%',\n          data: maxData,\n          //   [60000, 60000, 60000, 60000, 60000, 60000, 60000, 60000, 60000, 60000],\n          barWidth: 22,\n          itemStyle: {\n            normal: {\n              barBorderRadius: [50, 50, 0, 0],\n              color: '#fff'\n            }\n          },\n          z: 1\n        },\n        {//柱状图的外层边框\n          type: 'bar',\n          xAxisIndex: 2,\n          barWidth: 25,\n          barGap: 1,\n          z: 0,\n          itemStyle: {\n            normal: {\n              barBorderRadius: [50, 50, 0, 0],\n              color: function (params) {\n                var colorList = ['#7882FF', '#51CFDA']\n                if (params.dataIndex % 2 === 0) {\n                  return colorList[0]\n                } else {\n                  return colorList[1]\n                }\n              }\n            }\n          },\n          data: maxData\n        },\n        {//底部圆圈部分\n          type: 'scatter',\n          hoverAnimation: false,\n          xAxisIndex: 2,\n          symbolOffset: [0, 30], //相对于原本位置的偏移量\n          symbolSize: 60,\n          z: 1,\n          itemStyle: {\n            normal: {\n              color: function (params) {\n                var colorList = [ '#7882FF', '#42BFCA']\n                if (params.dataIndex % 2 === 0) {\n                  return colorList[0]\n                } else {\n                  return colorList[1]\n                }\n              }\n            }\n          },\n          data: (function() {\n            var itemArr = []\n            for (var i = 1; i < (dataArr.length + 1); i++) {\n              var item = {\n                value: 0\n              }\n              itemArr.push(item)\n            }\n            return itemArr\n          }())\n        }\n        ]\n      }\n      function translateColor(index) {\n        if (index > 5) {\n          return translateColor(index - 5)\n        }\n        return index\n      }","html":"","externalScripts":"","updaterUID":"bd-1640701624","theme":"","layout":"","viewCount":163,"userName":"n***1","commentCount":0,"starCount":4,"isStared":0,"thumbnailURL":"https://www.makeapie.com/ecg-storage/ec_gallery_thumbnail/xoeyd7ziI.png?v=1574227206843","isCustomThumbnail":0,"builtinTags":["category-work","grid","series-bar","series-scatter","tooltip"],"customTags":[],"updaterUserName":"n***1"}}