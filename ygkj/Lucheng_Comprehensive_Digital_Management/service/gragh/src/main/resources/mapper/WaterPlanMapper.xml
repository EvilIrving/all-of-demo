<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ygkj.gragh.mapper.WaterPlanMapper">

    <select id="listProject" resultType="com.ygkj.gragh.vo.response.ProjectResVo"
            parameterType="com.ygkj.gragh.vo.request.ProjectReqVo">
        SELECT
        id,project_name,project_code,
        longitude,latitude
        FROM
        ${tableName}
        WHERE
        del_flag = 0
        <if test="areaCode != null and areaCode != ''">
            AND
            <if test="type == 1">
                area_code = #{areaCode}
            </if>
            <if test="type == 2">
                bas_code = #{areaCode}
            </if>
        </if>
        <if test="projectName != null and projectName != ''">
            AND project_name LIKE CONCAT('%',#{projectName},'%')
        </if>
    </select>
</mapper>