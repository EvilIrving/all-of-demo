<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ygkj.big.screen.mapper.AvoidancePointMapper">

    <select id="pageList" parameterType="com.ygkj.big.screen.vo.request.AvoidancePointReqVo" resultType="com.ygkj.big.screen.vo.response.AvoidancePointRespVo">
        select * from avoidance_point WHERE del_flag=0
        <if test='null != pointName and "" != pointName'>
            AND point_name LIKE CONCAT ('%',#{pointName},'%')
        </if>
        <if test='null != id and "" != id'>
            AND id=#{id}
        </if>
    </select>

    <select id="load" parameterType="com.ygkj.big.screen.vo.request.AvoidancePointReqVo" resultType="com.ygkj.big.screen.vo.response.AvoidancePointRespVo">
        select * from avoidance_point WHERE id=#{id} and del_flag=0
    </select>

    <insert id="insert" parameterType="com.ygkj.big.screen.vo.request.AvoidancePointReqVo">
        INSERT INTO avoidance_point
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test='null != pointName and "" != pointName'>
                point_name,
            </if>
            <if test='null != longitude and "" != longitude'>
                longitude,
            </if>
            <if test='null != latitude and "" != latitude'>
                latitude,
            </if>
            <if test='null != pointCapacity and "" != pointCapacity'>
                point_capacity,
            </if>
            <if test="null != pointNowCapacity and '' != pointNowCapacity">
                point_now_capacity,
            </if>
            <if test='null != pointAddress and "" != pointAddress'>
                point_address,
            </if>
            <if test='null != pointDirections and "" != pointDirections'>
                point_directions,
            </if>
            <if test='null != pointPhoto and "" != pointPhoto'>
                point_photo,
            </if>
            <if test='null != contacts and "" != contacts'>
                contacts,
            </if>
            <if test='null != phone and "" != phone'>
                phone
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test='null != pointName and "" != pointName'>
                #{pointName},
            </if>
            <if test='null!= longitude and "" != longitude'>
                #{longitude},
            </if>
            <if test='null != latitude and "" != latitude'>
                #{latitude},
            </if>
            <if test='null != pointCapacity and "" != pointCapacity'>
                #{pointCapacity},
            </if>
            <if test="null != pointNowCapacity and '' != pointNowCapacity">
                #{pointNowCapacity},
            </if>
            <if test='null != pointAddress and "" != pointAddress'>
                #{pointAddress},
            </if>
            <if test='null != pointDirections and "" != pointDirections'>
                #{pointDirections},
            </if>
            <if test='null != pointPhoto and "" != pointPhoto'>
                #{pointPhoto},
            </if>
            <if test='null != contacts and "" != contacts'>
                #{contacts},
            </if>
            <if test='null != phone and "" != phone'>
                #{phone}
            </if>
        </trim>
    </insert>

    <update id="update" parameterType="com.ygkj.big.screen.vo.request.AvoidancePointReqVo">
        UPDATE avoidance_point
        <set>
            <if test='null != pointName and "" != pointName'>point_name = #{pointName},</if>
            <if test='null != longitude and "" != longitude'>longitude = #{longitude},</if>
            <if test='null != latitude and "" != latitude'>latitude = #{latitude},</if>
            <if test='null != pointCapacity and "" != pointCapacity'>point_capacity = #{pointCapacity},</if>
            <if test="null != pointNowCapacity and '' != pointNowCapacity">point_now_capacity = #{pointNowCapacity},</if>
            <if test='null != pointAddress and "" != pointAddress'>point_address = #{pointAddress},</if>
            <if test='null != pointDirections and "" != pointDirections'>point_directions = #{pointDirections},</if>
            <if test='null != pointPhoto and "" != pointPhoto'>point_photo = #{pointPhoto},</if>
            <if test='null != contacts and "" != contacts'>contacts = #{contacts},</if>
            <if test='null != phone and "" != phone'>phone = #{phone}</if>
        </set>
        WHERE id = #{id}
    </update>

    <update id="delete" parameterType="com.ygkj.big.screen.vo.request.AvoidancePointReqVo">
        UPDATE avoidance_point set del_flag=1
        WHERE id = #{id}
    </update>

</mapper>