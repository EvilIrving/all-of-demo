<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ygkj.water.project.mapper.SectionConfigurationMapper">


    <select id="selectSrcdAll" resultType="com.ygkj.project.model.SectionConfiguration">
        SELECT a.*,b.stcd,c.tide_station_blue_level blueLevel,c.seawall_name FROM section_configuration a
        LEFT JOIN sl_proj_st_r b ON b.project_code = a.prcd
        LEFT JOIN att_seawall_base c on a.prcd = c.seawall_code
        WHERE b.st_type = 'TT' AND b.is_main = 1
        <if test="section.name != null and section.name != ''">
            AND a.NAME like concat('%',#{section.name},'%')
        </if>

    </select>
</mapper>
